/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.6.0
 */
import{r as t,h as e,g as i,f as s,c as a,H as n}from"./p-3999bac9.js";import{g as l}from"./p-8ddf02b9.js";import{c as h}from"./p-c7f2f9a6.js";import{i as r,v as o}from"./p-e76a753c.js";import{c,d,a as u,H as m}from"./p-d031ad17.js";import{c as b,d as f,u as p,I as g}from"./p-2f8ad978.js";import{i as v}from"./p-3bf8f072.js";import{c as x,d as k,g as _}from"./p-bea3584d.js";import{s as $,a as y,c as w}from"./p-73313776.js";import{n as M,c as z,d as V}from"./p-fdfa8afe.js";import{d as L,c as H}from"./p-0a96f43f.js";import"./p-b3019266.js";import"./p-0f59280e.js";import"./p-d2abc904.js";function j(t,e,i){const s=e[0]-t[0];const a=i[0]-e[0];const n=e[1]-t[1];const l=i[1]-e[1];const h=n/(s||a<0&&0);const r=l/(a||s<0&&0);const o=(h*a+r*s)/(s+a);return(Math.sign(h)+Math.sign(r))*Math.min(Math.abs(h),Math.abs(r),.5*Math.abs(o))||0}function X(t,e,i){const s=e[0]-t[0];const a=e[1]-t[1];return s?(3*a/s-i)/2:i}function T(t,e,i,s,a){const[n,l]=t;const[h,r]=e;const o=(h-n)/3;const c=a([n+o,l+o*i]).join(",");const d=a([h-o,r-o*s]).join(",");const u=a([h,r]).join(",");return`C ${c} ${d} ${u}`}function C({width:t,height:e,min:i,max:s}){const a=s[0]-i[0];const n=s[1]-i[1];return s=>{const l=(s[0]-i[0])/a*t;const h=e-s[1]/n*e;return[l,h]}}function D(t){const[e,i]=t[0];const s=[e,i];const a=[e,i];return t.reduce((({min:t,max:e},[i,s])=>({min:[Math.min(t[0],i),Math.min(t[1],s)],max:[Math.max(e[0],i),Math.max(e[1],s)]})),{min:s,max:a})}function A({data:t,min:e,max:i,t:s}){if(t.length===0){return""}const[a,n]=s(t[0]);const[l,h]=s(e);const[r]=s(i);let o;let c;let d;const u=t.reduce(((e,i,a)=>{c=t[a-2];d=t[a-1];if(a>1){const t=j(c,d,i);const a=o===undefined?X(c,d,t):o;const n=T(c,d,a,t,s);o=t;return`${e} ${n}`}return e}),`M ${l},${h} L ${l},${n} L ${a},${n}`);const m=t[t.length-1];const b=T(d,m,o,X(d,m,o),s);return`${u} ${b} L ${r},${h} Z`}const S=":host{display:block;block-size:100%}.svg{fill:currentColor;stroke:transparent;margin:0px;display:block;block-size:100%;inline-size:100%;padding:0px}.svg .graph-path--highlight{fill:var(--calcite-color-brand);opacity:0.5}:host([hidden]){display:none}[hidden]{display:none}";const I=class{constructor(e){t(this,e);this.graphId=`calcite-graph-${l()}`;this.resizeObserver=h("resize",(()=>s(this)));this.data=[];this.colorStops=undefined;this.highlightMin=undefined;this.highlightMax=undefined;this.min=undefined;this.max=undefined}connectedCallback(){this.resizeObserver?.observe(this.el)}disconnectedCallback(){this.resizeObserver?.disconnect()}render(){const{data:t,colorStops:i,el:s,highlightMax:a,highlightMin:n,min:l,max:h}=this;const r=this.graphId;const{clientHeight:o,clientWidth:c}=s;if(!t||t.length===0){return e("svg",{"aria-hidden":"true",class:"svg",height:o,preserveAspectRatio:"none",viewBox:`0 0 ${c} ${o}`,width:c})}const{min:d,max:u}=D(t);let m=d;let b=u;if(l<d[0]||l>d[0]){m=[l,0]}if(h>u[0]||h<u[0]){b=[h,u[1]]}const f=C({min:m,max:b,width:c,height:o});const[p]=f([n,b[1]]);const[g]=f([a,b[1]]);const v=A({data:t,min:d,max:u,t:f});const x=i?`url(#linear-gradient-${r})`:undefined;return e("svg",{"aria-hidden":"true",class:"svg",height:o,preserveAspectRatio:"none",viewBox:`0 0 ${c} ${o}`,width:c},i?e("defs",null,e("linearGradient",{id:`linear-gradient-${r}`,x1:"0",x2:"1",y1:"0",y2:"0"},i.map((({offset:t,color:i,opacity:s})=>e("stop",{offset:`${t*100}%`,"stop-color":i,"stop-opacity":s}))))):null,n!==undefined?[e("mask",{height:"100%",id:`${r}1`,width:"100%",x:"0%",y:"0%"},e("path",{d:`\n            M 0,0\n            L ${p-1},0\n            L ${p-1},${o}\n            L 0,${o}\n            Z\n          `,fill:"white"})),e("mask",{height:"100%",id:`${r}2`,width:"100%",x:"0%",y:"0%"},e("path",{d:`\n            M ${p+1},0\n            L ${g-1},0\n            L ${g-1},${o}\n            L ${p+1}, ${o}\n            Z\n          `,fill:"white"})),e("mask",{height:"100%",id:`${r}3`,width:"100%",x:"0%",y:"0%"},e("path",{d:`\n                M ${g+1},0\n                L ${c},0\n                L ${c},${o}\n                L ${g+1}, ${o}\n                Z\n              `,fill:"white"})),e("path",{class:"graph-path",d:v,fill:x,mask:`url(#${r}1)`}),e("path",{class:"graph-path--highlight",d:v,fill:x,mask:`url(#${r}2)`}),e("path",{class:"graph-path",d:v,fill:x,mask:`url(#${r}3)`})]:e("path",{class:"graph-path",d:v,fill:x}))}get el(){return i(this)}};I.style=S;const R={container:"container",containerRange:"container--range",graph:"graph",handle:"handle",handleExtension:"handle-extension",handleLabel:"handle__label",handleLabelMinValue:"handle__label--minValue",handleLabelValue:"handle__label--value",hyphen:"hyphen",hyphenWrap:"hyphen--wrap",static:"static",thumb:"thumb",thumbActive:"thumb--active",thumbContainer:"thumb-container",thumbMinValue:"thumb--minValue",thumbPrecise:"thumb--precise",thumbValue:"thumb--value",tick:"tick",tickActive:"tick--active",tickLabel:"tick__label",tickMax:"tick__label--max",tickMin:"tick__label--min",ticks:"ticks",track:"track",trackRange:"track__range",transformed:"transformed"};const P=250;const F='@charset "UTF-8";:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}.scale--s{--calcite-slider-handle-size:0.625rem;--calcite-slider-handle-extension-height:0.4rem;--calcite-slider-container-font-size:var(--calcite-font-size--3)}.scale--s .handle__label,.scale--s .tick__label{line-height:.75rem}.scale--m{--calcite-slider-handle-size:0.875rem;--calcite-slider-handle-extension-height:0.5rem;--calcite-slider-container-font-size:var(--calcite-font-size--2)}.scale--m .handle__label,.scale--m .tick__label{line-height:1rem}.scale--l{--calcite-slider-handle-size:1rem;--calcite-slider-handle-extension-height:0.65rem;--calcite-slider-container-font-size:var(--calcite-font-size--1)}.scale--l .handle__label,.scale--l .tick__label{line-height:1rem}.handle__label,.tick__label{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-2);font-size:var(--calcite-slider-container-font-size)}:host{display:block}.container{position:relative;display:block;overflow-wrap:normal;word-break:normal;padding-inline:calc(var(--calcite-slider-handle-size) * 0.5);padding-block:calc(var(--calcite-slider-handle-size) * 0.5);margin-block:calc(var(--calcite-slider-handle-size) * 0.5);margin-inline:0;--calcite-slider-full-handle-height:calc(\n    var(--calcite-slider-handle-size) + var(--calcite-slider-handle-extension-height)\n  );touch-action:none}:host([disabled]) .track__range,:host([disabled]) .tick--active{background-color:var(--calcite-color-text-3)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.scale--s .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-0.375rem}.scale--m .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-0.5rem}.scale--l .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-0.55rem}:host([precise]:not([has-histogram])) .container .thumb--value{--calcite-slider-thumb-y-offset:calc(var(--calcite-slider-full-handle-height) * -1)}.thumb-container{position:relative;max-inline-size:100%}.thumb{--calcite-slider-thumb-x-offset:calc(var(--calcite-slider-handle-size) * 0.5);position:absolute;margin:0px;display:flex;cursor:pointer;flex-direction:column;align-items:center;border-style:none;background-color:transparent;padding:0px;font-family:inherit;outline:2px solid transparent;outline-offset:2px;transform:translate(var(--calcite-slider-thumb-x-offset), var(--calcite-slider-thumb-y-offset))}.thumb .handle__label.static,.thumb .handle__label.transformed{position:absolute;inset-block:0px;opacity:0}.thumb .handle__label.hyphen::after{content:"â€”";display:inline-block;inline-size:1em}.thumb .handle__label.hyphen--wrap{display:flex}.thumb .handle{box-sizing:border-box;border-radius:9999px;background-color:var(--calcite-color-foreground-1);outline-color:transparent;block-size:var(--calcite-slider-handle-size);inline-size:var(--calcite-slider-handle-size);box-shadow:0 0 0 2px var(--calcite-color-text-3) inset;transition:border var(--calcite-internal-animation-timing-medium) ease, background-color var(--calcite-internal-animation-timing-medium) ease, box-shadow var(--calcite-animation-timing) ease}.thumb .handle-extension{inline-size:0.125rem;block-size:var(--calcite-slider-handle-extension-height);background-color:var(--calcite-color-text-3)}.thumb:hover .handle{box-shadow:0 0 0 3px var(--calcite-color-brand) inset}.thumb:hover .handle-extension{background-color:var(--calcite-color-brand)}.thumb:focus .handle{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand-hover, var(--calcite-color-brand)));outline-offset:calc(\n            2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-offset-invert-focus),\n                1\n              )\n            )\n          )}.thumb:focus .handle-extension{background-color:var(--calcite-color-brand)}.thumb.thumb--minValue{transform:translate(calc(var(--calcite-slider-thumb-x-offset) * -1), var(--calcite-slider-thumb-y-offset))}.thumb.thumb--precise{--calcite-slider-thumb-y-offset:-0.125rem}:host([label-handles]) .thumb{--calcite-slider-thumb-x-offset:50%}:host([label-handles]):host(:not([has-histogram])) .scale--s .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-1.4375rem}:host([label-handles]):host(:not([has-histogram])) .scale--m .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-1.875rem}:host([label-handles]):host(:not([has-histogram])) .scale--l .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-2rem}:host([has-histogram][label-handles]) .handle__label,:host([label-handles]:not([has-histogram])) .thumb--minValue.thumb--precise .handle__label{margin-block-start:0.5em}:host(:not([has-histogram]):not([precise])) .handle__label,:host([label-handles]:not([has-histogram])) .thumb--value .handle__label{margin-block-end:0.5em}:host([label-handles][precise]):host(:not([has-histogram])) .scale--s .thumb--value{--calcite-slider-thumb-y-offset:-2.075rem}:host([label-handles][precise]):host(:not([has-histogram])) .scale--m .thumb--value{--calcite-slider-thumb-y-offset:-2.75rem}:host([label-handles][precise]):host(:not([has-histogram])) .scale--l .thumb--value{--calcite-slider-thumb-y-offset:-3.0625rem}.thumb:focus .handle,.thumb--active .handle{background-color:var(--calcite-color-brand);box-shadow:0 0 8px 0 rgba(0, 0, 0, 0.16)}.thumb:hover.thumb--precise:after,.thumb:focus.thumb--precise:after,.thumb--active.thumb--precise:after{background-color:var(--calcite-color-brand)}.track{position:relative;block-size:0.125rem;border-radius:0px;background-color:var(--calcite-color-border-2);transition:all var(--calcite-internal-animation-timing-medium) ease-in}.track__range{position:absolute;inset-block-start:0px;block-size:0.125rem;background-color:var(--calcite-color-brand)}.container--range .track__range:hover{cursor:ew-resize}.container--range .track__range:after{position:absolute;inline-size:100%;content:"";inset-block-start:calc(var(--calcite-slider-full-handle-height) * 0.5 * -1);block-size:calc(var(--calcite-slider-handle-size) + var(--calcite-slider-handle-extension-height))}@media (forced-colors: active){.thumb{outline-width:0;outline-offset:0}.handle{outline:2px solid transparent;outline-offset:2px}.thumb:focus .handle,.thumb .handle-extension,.thumb:hover .handle-extension,.thumb:focus .handle-extension,.thumb:active .handle-extension{background-color:canvasText}.track{background-color:canvasText}.track__range{background-color:highlight}}.tick{position:absolute;block-size:0.25rem;inline-size:0.125rem;border-width:1px;border-style:solid;background-color:var(--calcite-color-border-input);border-color:var(--calcite-color-foreground-1);inset-block-start:-2px;pointer-events:none;margin-inline-start:calc(-1 * 0.125rem)}.tick--active{background-color:var(--calcite-color-brand)}.tick__label{pointer-events:none;margin-block-start:0.875rem;display:flex;justify-content:center}.tick__label--min{transition:opacity var(--calcite-animation-timing)}.tick__label--max{transition:opacity var(--calcite-internal-animation-timing-fast)}:host([has-histogram][label-handles]) .tick__label--min,:host([has-histogram][label-handles]) .tick__label--max,:host([has-histogram][precise]) .tick__label--min,:host([has-histogram][precise]) .tick__label--max{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-3)}.graph{color:var(--calcite-color-foreground-3);block-size:48px}:host([label-ticks][ticks]) .container{padding-block-end:calc(0.875rem + var(--calcite-slider-container-font-size))}:host([has-histogram]):host([precise][label-handles]) .container{padding-block-end:calc(var(--calcite-slider-full-handle-height) + 1em)}:host([has-histogram]):host([label-handles]:not([precise])) .container{padding-block-end:calc(var(--calcite-slider-handle-size) * 0.5 + 1em)}:host([has-histogram]):host([precise]:not([label-handles])) .container{padding-block-end:var(--calcite-slider-full-handle-height)}:host(:not([has-histogram])):host([precise]:not([label-handles])) .container{padding-block-start:var(--calcite-slider-full-handle-height)}:host(:not([has-histogram])):host([precise]:not([label-handles])) .container--range{padding-block-end:var(--calcite-slider-full-handle-height)}:host(:not([has-histogram])):host([label-handles]:not([precise])) .container{padding-block-start:calc(var(--calcite-slider-full-handle-height) + 4px)}:host(:not([has-histogram])):host([label-handles][precise]) .container{padding-block-start:calc(var(--calcite-slider-full-handle-height) + var(--calcite-slider-container-font-size) + 4px)}:host(:not([has-histogram])):host([label-handles][precise]) .container--range{padding-block-end:calc(var(--calcite-slider-full-handle-height) + var(--calcite-slider-container-font-size) + 4px)}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}:host([hidden]){display:none}[hidden]{display:none}';function N(t){return Array.isArray(t)}const O=class{constructor(e){t(this,e);this.calciteSliderInput=a(this,"calciteSliderInput",6);this.calciteSliderChange=a(this,"calciteSliderChange",6);this.activeProp="value";this.guid=`calcite-slider-${l()}`;this.onThumbBlur=()=>{this.activeProp=null};this.onThumbFocus=t=>{const e=t.currentTarget;this.activeProp=e.getAttribute("data-value-prop")};this.onThumbPointerDown=t=>{const e=t.currentTarget;this.pointerDownDragStart(t,e.getAttribute("data-value-prop"))};this.onTrackPointerDown=t=>{this.pointerDownDragStart(t,"minMaxValue")};this.dragUpdate=t=>{if(this.disabled){return}t.preventDefault();if(this.dragProp){const e=this.translate(t.clientX||t.pageX);if(N(this.value)&&this.dragProp==="minMaxValue"){if(this.minValueDragRange&&this.maxValueDragRange&&this.minMaxValueRange){const t=e-this.minValueDragRange;const i=e+this.maxValueDragRange;if(i<=this.max&&t>=this.min&&i-t===this.minMaxValueRange){this.setValue({minValue:this.clamp(t,"minValue"),maxValue:this.clamp(i,"maxValue")})}}else{this.minValueDragRange=e-this.minValue;this.maxValueDragRange=this.maxValue-e;this.minMaxValueRange=this.maxValue-this.minValue}}else{this.setValue({[this.dragProp]:this.clamp(e,this.dragProp)})}}};this.pointerUpDragEnd=t=>{if(this.disabled||!r(t)){return}this.dragEnd(t)};this.dragEnd=t=>{if(this.disabled){return}this.removeDragListeners();this.focusActiveHandle(t.clientX);if(this.lastDragPropValue!=this[this.dragProp]){this.emitChange()}this.dragProp=null;this.lastDragPropValue=null;this.minValueDragRange=null;this.maxValueDragRange=null;this.minMaxValueRange=null};this.storeTrackRef=t=>{this.trackEl=t};this.storeThumbRef=t=>{if(!t){return}const e=t.getAttribute("data-value-prop");e==="minValue"?this.minHandle=t:this.maxHandle=t};this.formatValue=t=>{M.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator};return M.localize(t.toString())};this.disabled=false;this.form=undefined;this.groupSeparator=false;this.hasHistogram=false;this.histogram=undefined;this.histogramStops=undefined;this.labelHandles=false;this.labelTicks=false;this.max=100;this.maxLabel=undefined;this.maxValue=undefined;this.min=0;this.minLabel=undefined;this.minValue=undefined;this.mirrored=false;this.name=undefined;this.numberingSystem=undefined;this.pageStep=undefined;this.precise=false;this.required=false;this.snap=false;this.step=1;this.ticks=undefined;this.value=0;this.scale="m";this.effectiveLocale="";this.minMaxValueRange=null;this.minValueDragRange=null;this.maxValueDragRange=null;this.tickValues=[]}histogramWatcher(t){this.hasHistogram=!!t}ticksWatcher(){this.tickValues=this.generateTickValues()}valueHandler(){this.setMinMaxFromValue()}minMaxValueHandler(){this.setValueFromMinMax()}connectedCallback(){b(this);z(this);this.setMinMaxFromValue();this.setValueFromMinMax();x(this);c(this)}disconnectedCallback(){f(this);k(this);d(this);V(this);this.removeDragListeners()}componentWillLoad(){$(this);if(!N(this.value)){this.value=this.snap?this.getClosestStep(this.value):this.clamp(this.value)}this.ticksWatcher();this.histogramWatcher(this.histogram);u(this,this.value)}componentDidLoad(){y(this)}componentDidRender(){if(this.labelHandles){this.adjustHostObscuredHandleLabel("value");if(N(this.value)){this.adjustHostObscuredHandleLabel("minValue");if(!(this.precise&&!this.hasHistogram)){this.hyphenateCollidingRangeHandleLabels()}}}this.hideObscuredBoundingTickLabels();p(this)}render(){const t=this.el.id||this.guid;const i=N(this.value)?this.maxValue:this.value;const s=this.minValue||this.min;const a=this.shouldUseMinValue();const l=this.getUnitInterval(a?this.minValue:s)*100;const h=this.getUnitInterval(i)*100;const r=this.shouldMirror();const o=N(this.value);const c=this.buildThumbType("max");const d=this.renderThumb({type:c,thumbPlacement:c.includes("histogram")?"below":"above",maxInterval:h,minInterval:l,mirror:r});const u=this.buildThumbType("min");const b=o&&this.renderThumb({type:u,thumbPlacement:u.includes("histogram")||u.includes("precise")?"below":"above",maxInterval:h,minInterval:l,mirror:r});return e(n,{id:t,onTouchStart:this.handleTouchStart},e(g,{disabled:this.disabled},e("div",{"aria-label":_(this),class:{[R.container]:true,[R.containerRange]:o,[`scale--${this.scale}`]:true}},this.renderGraph(),e("div",{class:R.track,ref:this.storeTrackRef},e("div",{class:R.trackRange,onPointerDown:this.onTrackPointerDown,style:{left:`${r?100-h:l}%`,right:`${r?l:100-h}%`}}),e("div",{class:R.ticks},this.tickValues.map((t=>{const n=`${this.getUnitInterval(t)*100}%`;let l=t>=s&&t<=i;if(a){l=t>=this.minValue&&t<=this.maxValue}return e("span",{class:{[R.tick]:true,[R.tickActive]:l},style:{left:r?"":n,right:r?n:""}},this.renderTickLabel(t))})))),e("div",{class:R.thumbContainer},b,d,e(m,{component:this})))))}renderThumb({type:t,mirror:i,thumbPlacement:s,minInterval:a,maxInterval:n}){const l=t.includes("labeled");const h=t.includes("precise");const r=t.includes("min");const o=N(this.value);const c=r?this.minValue:o?this.maxValue:this.value;const d=r?"minValue":o?"maxValue":"value";const u=r?this.minLabel:o?this.maxLabel:this.minLabel;const m=r?this.minValue:c;const b=r?this.formatValue(this.minValue):this.formatValue(c);const f=r?{left:`${i?100-a:a}%`}:{right:`${i?n:100-n}%`};const p=`${R.handleLabel} ${r?R.handleLabelMinValue:R.handleLabelValue}`;const g=l?[e("span",{"aria-hidden":"true",class:p},b),e("span",{"aria-hidden":"true",class:`${p} ${R.static}`},b),e("span",{"aria-hidden":"true",class:`${p} ${R.transformed}`},b)]:[];const v=[...g,e("div",{class:R.handle}),h&&e("div",{class:R.handleExtension})];if(s==="below"){v.reverse()}return e("div",{"aria-disabled":this.disabled,"aria-label":u,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":m,class:{[R.thumb]:true,[R.thumbValue]:!r,[R.thumbActive]:this.lastDragProp!=="minMaxValue"&&this.dragProp===d,[R.thumbPrecise]:h,[R.thumbMinValue]:r},"data-value-prop":d,key:t,onBlur:this.onThumbBlur,onFocus:this.onThumbFocus,onPointerDown:this.onThumbPointerDown,role:"slider",style:f,tabIndex:0,ref:this.storeThumbRef},v)}renderGraph(){return this.histogram?e("calcite-graph",{class:R.graph,colorStops:this.histogramStops,data:this.histogram,highlightMax:N(this.value)?this.maxValue:this.value,highlightMin:N(this.value)?this.minValue:this.min,max:this.max,min:this.min}):null}renderTickLabel(t){const{hasHistogram:i,labelHandles:s,labelTicks:a,max:n,min:l,precise:h,value:r}=this;const o=N(r);const c=t===l;const d=t===n;const u=c||d;const m=a&&(!i&&(u||!h||!o)||i&&(u||!h&&!s));return m?e("span",{class:{[R.tickLabel]:true,[R.tickMin]:c,[R.tickMax]:d}},this.formatValue(t)):null}keyDownHandler(t){const e=this.shouldMirror();const{activeProp:i,max:s,min:a,pageStep:n,step:l}=this;const h=this[i];const{key:r}=t;if(v(r)){t.preventDefault();return}let o;if(r==="ArrowUp"||r==="ArrowRight"){const t=e&&r==="ArrowRight"?-1:1;o=h+l*t}else if(r==="ArrowDown"||r==="ArrowLeft"){const t=e&&r==="ArrowLeft"?-1:1;o=h-l*t}else if(r==="PageUp"){if(n){o=h+n}}else if(r==="PageDown"){if(n){o=h-n}}else if(r==="Home"){o=a}else if(r==="End"){o=s}if(isNaN(o)){return}t.preventDefault();const c=Number(o.toFixed(L(l)));this.setValue({[i]:this.clamp(c,i)})}pointerDownHandler(t){if(this.disabled||!r(t)){return}const e=t.clientX||t.pageX;const i=this.translate(e);let s="value";if(N(this.value)){const t=i>=this.minValue&&i<=this.maxValue;if(t&&this.lastDragProp==="minMaxValue"){s="minMaxValue"}else{const t=Math.abs(this.maxValue-i)<Math.abs(this.minValue-i);s=t||i>this.maxValue?"maxValue":"minValue"}}this.lastDragPropValue=this[s];this.dragStart(s);const a=this.el.shadowRoot.querySelector(`.${R.thumb}:active`);if(!a){this.setValue({[s]:this.clamp(i,s)})}this.focusActiveHandle(e)}handleTouchStart(t){t.preventDefault()}async setFocus(){await w(this);const t=this.minHandle?this.minHandle:this.maxHandle;t?.focus()}buildThumbType(t){const e=[t];if(this.labelHandles){e.push("labeled")}if(this.precise){e.push("precise")}if(this.hasHistogram){e.push("histogram")}return e.join("-")}setValueFromMinMax(){const{minValue:t,maxValue:e}=this;if(typeof t==="number"&&typeof e==="number"){this.value=[t,e]}}setMinMaxFromValue(){const{value:t}=this;if(N(t)){this.minValue=t[0];this.maxValue=t[1]}}onLabelClick(){this.setFocus()}shouldMirror(){return this.mirrored&&!this.hasHistogram}shouldUseMinValue(){if(!N(this.value)){return false}return this.hasHistogram&&this.maxValue===0||!this.hasHistogram&&this.minValue===0}getTickDensity(){const t=(this.max-this.min)/this.ticks/P;return t<1?1:t}generateTickValues(){const t=this.ticks??0;if(t<=0){return[]}const e=[this.min];const i=this.getTickDensity();const s=t*i;let a=this.min;while(a<this.max){a+=s;e.push(Math.min(a,this.max))}if(!e.includes(this.max)){e.push(this.max)}return e}pointerDownDragStart(t,e){if(!r(t)){return}this.dragStart(e)}dragStart(t){this.dragProp=t;this.lastDragProp=this.dragProp;this.activeProp=t;window.addEventListener("pointermove",this.dragUpdate);window.addEventListener("pointerup",this.pointerUpDragEnd);window.addEventListener("pointercancel",this.dragEnd)}focusActiveHandle(t){switch(this.dragProp){case"minValue":this.minHandle.focus();break;case"maxValue":case"value":this.maxHandle.focus();break;case"minMaxValue":this.getClosestHandle(t).focus();break}}emitInput(){this.calciteSliderInput.emit()}emitChange(){this.calciteSliderChange.emit()}removeDragListeners(){window.removeEventListener("pointermove",this.dragUpdate);window.removeEventListener("pointerup",this.pointerUpDragEnd);window.removeEventListener("pointercancel",this.dragEnd)}setValue(t){let e;Object.keys(t).forEach((i=>{const s=t[i];if(!e){const t=this[i];e=t!==s}this[i]=s}));if(!e){return}const i=this.dragProp;if(!i){this.emitChange()}this.emitInput()}clamp(t,e){t=H(t,this.min,this.max);if(e==="maxValue"){t=Math.max(t,this.minValue)}if(e==="minValue"){t=Math.min(t,this.maxValue)}return t}translate(t){const e=this.max-this.min;const{left:i,width:s}=this.trackEl.getBoundingClientRect();const a=(t-i)/s;const n=this.shouldMirror();const l=this.clamp(this.min+e*(n?1-a:a));let h=Number(l.toFixed(L(this.step)));if(this.snap&&this.step){h=this.getClosestStep(h)}return h}getClosestStep(t){t=Number(this.clamp(t).toFixed(L(this.step)));if(this.step){const e=Math.round(t/this.step)*this.step;t=Number(this.clamp(e).toFixed(L(this.step)))}return t}getClosestHandle(t){return this.getDistanceX(this.maxHandle,t)>this.getDistanceX(this.minHandle,t)?this.minHandle:this.maxHandle}getDistanceX(t,e){return Math.abs(t.getBoundingClientRect().left-e)}getFontSizeForElement(t){return Number(window.getComputedStyle(t).getPropertyValue("font-size").match(/\d+/)[0])}getUnitInterval(t){t=this.clamp(t);const e=this.max-this.min;return(t-this.min)/e}adjustHostObscuredHandleLabel(t){const e=this.el.shadowRoot.querySelector(`.handle__label--${t}`);const i=this.el.shadowRoot.querySelector(`.handle__label--${t}.static`);const s=this.el.shadowRoot.querySelector(`.handle__label--${t}.transformed`);const a=i.getBoundingClientRect();const n=this.getHostOffset(a.left,a.right);e.style.transform=`translateX(${n}px)`;s.style.transform=`translateX(${n}px)`}hyphenateCollidingRangeHandleLabels(){const{shadowRoot:t}=this.el;const e=this.shouldMirror();const i=e?"value":"minValue";const s=e?"minValue":"value";const a=t.querySelector(`.handle__label--${i}`);const n=t.querySelector(`.handle__label--${i}.static`);const l=t.querySelector(`.handle__label--${i}.transformed`);const h=this.getHostOffset(n.getBoundingClientRect().left,n.getBoundingClientRect().right);const r=t.querySelector(`.handle__label--${s}`);const o=t.querySelector(`.handle__label--${s}.static`);const c=t.querySelector(`.handle__label--${s}.transformed`);const d=this.getHostOffset(o.getBoundingClientRect().left,o.getBoundingClientRect().right);const u=this.getFontSizeForElement(a);const m=this.getRangeLabelOverlap(l,c);const b=a;const f=u/2;if(m>0){b.classList.add(R.hyphen,R.hyphenWrap);if(d===0&&h===0){let t=m/2-f;t=Math.sign(t)===-1?Math.abs(t):-t;const e=this.getHostOffset(l.getBoundingClientRect().left+t-f,l.getBoundingClientRect().right+t-f);let i=m/2;const s=this.getHostOffset(c.getBoundingClientRect().left+i,c.getBoundingClientRect().right+i);if(e!==0){t+=e;i+=e}if(s!==0){t+=s;i+=s}a.style.transform=`translateX(${t}px)`;l.style.transform=`translateX(${t-f}px)`;r.style.transform=`translateX(${i}px)`;c.style.transform=`translateX(${i}px)`}else if(h>0||d>0){a.style.transform=`translateX(${h+f}px)`;r.style.transform=`translateX(${m+d}px)`;c.style.transform=`translateX(${m+d}px)`}else if(h<0||d<0){let t=Math.abs(h)+m-f;t=Math.sign(t)===-1?Math.abs(t):-t;a.style.transform=`translateX(${t}px)`;l.style.transform=`translateX(${t-f}px)`}}else{b.classList.remove(R.hyphen,R.hyphenWrap);a.style.transform=`translateX(${h}px)`;l.style.transform=`translateX(${h}px)`;r.style.transform=`translateX(${d}px)`;c.style.transform=`translateX(${d}px)`}}hideObscuredBoundingTickLabels(){const t=N(this.value);if(!this.hasHistogram&&!t&&!this.labelHandles&&!this.precise){return}if(!this.hasHistogram&&!t&&this.labelHandles&&!this.precise){return}if(!this.hasHistogram&&!t&&!this.labelHandles&&this.precise){return}if(!this.hasHistogram&&!t&&this.labelHandles&&this.precise){return}if(!this.hasHistogram&&t&&!this.precise){return}if(this.hasHistogram&&!this.precise&&!this.labelHandles){return}const e=this.el.shadowRoot.querySelector(`.${R.thumbMinValue}`);const i=this.el.shadowRoot.querySelector(`.${R.thumbValue}`);const s=this.el.shadowRoot.querySelector(`.${R.tickMin}`);const a=this.el.shadowRoot.querySelector(`.${R.tickMax}`);if(!e&&i&&s&&a){s.style.opacity=this.isMinTickLabelObscured(s,i)?"0":"1";a.style.opacity=this.isMaxTickLabelObscured(a,i)?"0":"1"}if(e&&i&&s&&a){s.style.opacity=this.isMinTickLabelObscured(s,e)||this.isMinTickLabelObscured(s,i)?"0":"1";a.style.opacity=this.isMaxTickLabelObscured(a,e)||this.isMaxTickLabelObscured(a,i)&&this.hasHistogram?"0":"1"}}getHostOffset(t,e){const i=this.el.getBoundingClientRect();const s=7;if(t+s<i.left){return i.left-t-s}if(e-s>i.right){return-(e-i.right)+s}return 0}getRangeLabelOverlap(t,e){const i=t.getBoundingClientRect();const s=e.getBoundingClientRect();const a=this.getFontSizeForElement(t);const n=i.right+a-s.left;return Math.max(n,0)}isMinTickLabelObscured(t,e){const i=t.getBoundingClientRect();const s=e.getBoundingClientRect();return o(i,s)}isMaxTickLabelObscured(t,e){const i=t.getBoundingClientRect();const s=e.getBoundingClientRect();return o(i,s)}static get delegatesFocus(){return true}get el(){return i(this)}static get watchers(){return{histogram:["histogramWatcher"],ticks:["ticksWatcher"],value:["valueHandler"],minValue:["minMaxValueHandler"],maxValue:["minMaxValueHandler"]}}};O.style=F;export{I as calcite_graph,O as calcite_slider};
//# sourceMappingURL=p-594d544d.entry.js.map