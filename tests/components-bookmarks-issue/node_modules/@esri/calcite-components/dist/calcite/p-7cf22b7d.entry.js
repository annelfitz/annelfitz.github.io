/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.6.0
 */
import{r as t,c as e,h as i,g as s}from"./p-3999bac9.js";import{c as n,d as a,u as r,I as o}from"./p-2f8ad978.js";import{c as l}from"./p-c7f2f9a6.js";import{d,a as c,c as h}from"./p-e32ff351.js";import{d as f}from"./p-e76a753c.js";import"./p-0f59280e.js";import"./p-8ddf02b9.js";import"./p-b3019266.js";const u={sortItem:"sort-item",container:"container",containerHorizontal:"container--horizontal",containerVertical:"container--vertical"};const p=":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{display:flex;flex:1 1 auto}.container--vertical{flex-direction:column}.container--horizontal{flex-direction:row}:host([hidden]){display:none}[hidden]{display:none}";const b=class{constructor(i){t(this,i);this.calciteListOrderChange=e(this,"calciteListOrderChange",6);this.items=[];this.mutationObserver=l("mutation",(()=>{this.setUpSorting()}));this.dragEnabled=true;this.canPull=undefined;this.canPut=undefined;this.dragSelector=undefined;this.group=undefined;this.handleSelector="calcite-handle";this.layout="vertical";this.disabled=false;this.loading=false}connectedCallback(){if(d(this)){return}this.setUpSorting();this.beginObserving();n(this)}disconnectedCallback(){if(d(this)){return}a(this);c(this);this.endObserving()}componentDidRender(){r(this)}calciteHandleNudgeNextHandler(t){this.handleNudgeEvent(t)}onGlobalDragStart(){this.endObserving()}onGlobalDragEnd(){this.beginObserving()}onDragEnd(){}onDragStart(){}onDragSort(){this.items=Array.from(this.el.children);this.calciteListOrderChange.emit()}handleNudgeEvent(t){const{direction:e}=t.detail;const i=t.composedPath().find((t=>t.matches(this.handleSelector)));const s=this.items.find((e=>e.contains(i)||t.composedPath().includes(e)));const n=this.items.length-1;const a=this.items.indexOf(s);let r=false;let o;if(e==="up"){if(a===0){r=true}else{o=a-1}}else{if(a===n){o=0}else if(a===n-1){r=true}else{o=a+2}}this.endObserving();if(r){s.parentElement.appendChild(s)}else{s.parentElement.insertBefore(s,this.items[o])}this.items=Array.from(this.el.children);this.beginObserving();requestAnimationFrame((()=>f(i)));if("selected"in i){i.selected=true}}setUpSorting(){this.items=Array.from(this.el.children);h(this)}beginObserving(){this.mutationObserver?.observe(this.el,{childList:true,subtree:true})}endObserving(){this.mutationObserver?.disconnect()}render(){const{disabled:t,layout:e}=this;const s=e==="horizontal"||false;return i(o,{disabled:t},i("div",{class:{[u.container]:true,[u.containerVertical]:!s,[u.containerHorizontal]:s}},i("slot",null)))}get el(){return s(this)}};b.style=p;export{b as calcite_sortable_list};
//# sourceMappingURL=p-7cf22b7d.entry.js.map