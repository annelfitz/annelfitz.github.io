/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.6.0
 */
import{r as t,c as e,h as s,g as n,F as i}from"./p-3999bac9.js";import{i as o,g as r,d as a,j as l}from"./p-e76a753c.js";import{C as c,n as h,a as u,o as d,b as f,c as p,p as g,d as b,t as m,e as w,f as y,g as v,j as k,i as x,r as C,k as M}from"./p-4e4b9ffd.js";import{c as S,d as A,u as j,I as z}from"./p-2f8ad978.js";import{i as F}from"./p-3bf8f072.js";import{c as O,s as $,a as D}from"./p-73313776.js";import{c as I,d as q}from"./p-fdfa8afe.js";import{r as E,c as N,a as L}from"./p-0a96f43f.js";import{u as K,s as U,c as P,d as T}from"./p-064166f7.js";import{t as _}from"./p-cce8be8c.js";import"./p-8ddf02b9.js";import"./p-b3019266.js";import"./p-0f59280e.js";import"./p-c7f2f9a6.js";import"./p-af35f0c0.js";function B(t,e,s){return s={path:e,exports:{},require:function(t,e){return H()}},t(s,s.exports),s.exports}function H(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var V={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var J=function t(e){if(!e||typeof e==="string"){return false}return e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")};var R=B((function(t){var e=Array.prototype.concat;var s=Array.prototype.slice;var n=t.exports=function t(n){var i=[];for(var o=0,r=n.length;o<r;o++){var a=n[o];if(J(a)){i=e.call(i,s.call(a))}else{i.push(a)}}return i};n.wrap=function(t){return function(){return t(n(arguments))}}}));var X=B((function(t){var e=Object.hasOwnProperty;var s=Object.create(null);for(var n in V){if(e.call(V,n)){s[V[n]]=n}}var i=t.exports={to:{},get:{}};i.get=function(t){var e=t.substring(0,3).toLowerCase();var s;var n;switch(e){case"hsl":s=i.get.hsl(t);n="hsl";break;case"hwb":s=i.get.hwb(t);n="hwb";break;default:s=i.get.rgb(t);n="rgb";break}if(!s){return null}return{model:n,value:s}};i.get.rgb=function(t){if(!t){return null}var s=/^#([a-f0-9]{3,4})$/i;var n=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i;var i=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/;var r=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/;var a=/^(\w+)$/;var l=[0,0,0,1];var c;var h;var u;if(c=t.match(n)){u=c[2];c=c[1];for(h=0;h<3;h++){var d=h*2;l[h]=parseInt(c.slice(d,d+2),16)}if(u){l[3]=parseInt(u,16)/255}}else if(c=t.match(s)){c=c[1];u=c[3];for(h=0;h<3;h++){l[h]=parseInt(c[h]+c[h],16)}if(u){l[3]=parseInt(u+u,16)/255}}else if(c=t.match(i)){for(h=0;h<3;h++){l[h]=parseInt(c[h+1],0)}if(c[4]){if(c[5]){l[3]=parseFloat(c[4])*.01}else{l[3]=parseFloat(c[4])}}}else if(c=t.match(r)){for(h=0;h<3;h++){l[h]=Math.round(parseFloat(c[h+1])*2.55)}if(c[4]){if(c[5]){l[3]=parseFloat(c[4])*.01}else{l[3]=parseFloat(c[4])}}}else if(c=t.match(a)){if(c[1]==="transparent"){return[0,0,0,0]}if(!e.call(V,c[1])){return null}l=V[c[1]];l[3]=1;return l}else{return null}for(h=0;h<3;h++){l[h]=o(l[h],0,255)}l[3]=o(l[3],0,1);return l};i.get.hsl=function(t){if(!t){return null}var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/;var s=t.match(e);if(s){var n=parseFloat(s[4]);var i=(parseFloat(s[1])%360+360)%360;var r=o(parseFloat(s[2]),0,100);var a=o(parseFloat(s[3]),0,100);var l=o(isNaN(n)?1:n,0,1);return[i,r,a,l]}return null};i.get.hwb=function(t){if(!t){return null}var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/;var s=t.match(e);if(s){var n=parseFloat(s[4]);var i=(parseFloat(s[1])%360+360)%360;var r=o(parseFloat(s[2]),0,100);var a=o(parseFloat(s[3]),0,100);var l=o(isNaN(n)?1:n,0,1);return[i,r,a,l]}return null};i.to.hex=function(){var t=R(arguments);return"#"+r(t[0])+r(t[1])+r(t[2])+(t[3]<1?r(Math.round(t[3]*255)):"")};i.to.rgb=function(){var t=R(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};i.to.rgb.percent=function(){var t=R(arguments);var e=Math.round(t[0]/255*100);var s=Math.round(t[1]/255*100);var n=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+s+"%, "+n+"%)":"rgba("+e+"%, "+s+"%, "+n+"%, "+t[3]+")"};i.to.hsl=function(){var t=R(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};i.to.hwb=function(){var t=R(arguments);var e="";if(t.length>=4&&t[3]!==1){e=", "+t[3]}return"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};i.to.keyword=function(t){return s[t.slice(0,3)]};function o(t,e,s){return Math.min(Math.max(e,t),s)}function r(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}}));var W={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const G={};for(const t of Object.keys(W)){G[W[t]]=t}const Y={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var Q=Y;for(const t of Object.keys(Y)){if(!("channels"in Y[t])){throw new Error("missing channels property: "+t)}if(!("labels"in Y[t])){throw new Error("missing channel labels property: "+t)}if(Y[t].labels.length!==Y[t].channels){throw new Error("channel and label counts mismatch: "+t)}const{channels:e,labels:s}=Y[t];delete Y[t].channels;delete Y[t].labels;Object.defineProperty(Y[t],"channels",{value:e});Object.defineProperty(Y[t],"labels",{value:s})}Y.rgb.hsl=function(t){const e=t[0]/255;const s=t[1]/255;const n=t[2]/255;const i=Math.min(e,s,n);const o=Math.max(e,s,n);const r=o-i;let a;let l;if(o===i){a=0}else if(e===o){a=(s-n)/r}else if(s===o){a=2+(n-e)/r}else if(n===o){a=4+(e-s)/r}a=Math.min(a*60,360);if(a<0){a+=360}const c=(i+o)/2;if(o===i){l=0}else if(c<=.5){l=r/(o+i)}else{l=r/(2-o-i)}return[a,l*100,c*100]};Y.rgb.hsv=function(t){let e;let s;let n;let i;let o;const r=t[0]/255;const a=t[1]/255;const l=t[2]/255;const c=Math.max(r,a,l);const h=c-Math.min(r,a,l);const u=function(t){return(c-t)/6/h+1/2};if(h===0){i=0;o=0}else{o=h/c;e=u(r);s=u(a);n=u(l);if(r===c){i=n-s}else if(a===c){i=1/3+e-n}else if(l===c){i=2/3+s-e}if(i<0){i+=1}else if(i>1){i-=1}}return[i*360,o*100,c*100]};Y.rgb.hwb=function(t){const e=t[0];const s=t[1];let n=t[2];const i=Y.rgb.hsl(t)[0];const o=1/255*Math.min(e,Math.min(s,n));n=1-1/255*Math.max(e,Math.max(s,n));return[i,o*100,n*100]};Y.rgb.cmyk=function(t){const e=t[0]/255;const s=t[1]/255;const n=t[2]/255;const i=Math.min(1-e,1-s,1-n);const o=(1-e-i)/(1-i)||0;const r=(1-s-i)/(1-i)||0;const a=(1-n-i)/(1-i)||0;return[o*100,r*100,a*100,i*100]};function Z(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}Y.rgb.keyword=function(t){const e=G[t];if(e){return e}let s=Infinity;let n;for(const e of Object.keys(W)){const i=W[e];const o=Z(t,i);if(o<s){s=o;n=e}}return n};Y.keyword.rgb=function(t){return W[t]};Y.rgb.xyz=function(t){let e=t[0]/255;let s=t[1]/255;let n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92;s=s>.04045?((s+.055)/1.055)**2.4:s/12.92;n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;const i=e*.4124+s*.3576+n*.1805;const o=e*.2126+s*.7152+n*.0722;const r=e*.0193+s*.1192+n*.9505;return[i*100,o*100,r*100]};Y.rgb.lab=function(t){const e=Y.rgb.xyz(t);let s=e[0];let n=e[1];let i=e[2];s/=95.047;n/=100;i/=108.883;s=s>.008856?s**(1/3):7.787*s+16/116;n=n>.008856?n**(1/3):7.787*n+16/116;i=i>.008856?i**(1/3):7.787*i+16/116;const o=116*n-16;const r=500*(s-n);const a=200*(n-i);return[o,r,a]};Y.hsl.rgb=function(t){const e=t[0]/360;const s=t[1]/100;const n=t[2]/100;let i;let o;let r;if(s===0){r=n*255;return[r,r,r]}if(n<.5){i=n*(1+s)}else{i=n+s-n*s}const a=2*n-i;const l=[0,0,0];for(let t=0;t<3;t++){o=e+1/3*-(t-1);if(o<0){o++}if(o>1){o--}if(6*o<1){r=a+(i-a)*6*o}else if(2*o<1){r=i}else if(3*o<2){r=a+(i-a)*(2/3-o)*6}else{r=a}l[t]=r*255}return l};Y.hsl.hsv=function(t){const e=t[0];let s=t[1]/100;let n=t[2]/100;let i=s;const o=Math.max(n,.01);n*=2;s*=n<=1?n:2-n;i*=o<=1?o:2-o;const r=(n+s)/2;const a=n===0?2*i/(o+i):2*s/(n+s);return[e,a*100,r*100]};Y.hsv.rgb=function(t){const e=t[0]/60;const s=t[1]/100;let n=t[2]/100;const i=Math.floor(e)%6;const o=e-Math.floor(e);const r=255*n*(1-s);const a=255*n*(1-s*o);const l=255*n*(1-s*(1-o));n*=255;switch(i){case 0:return[n,l,r];case 1:return[a,n,r];case 2:return[r,n,l];case 3:return[r,a,n];case 4:return[l,r,n];case 5:return[n,r,a]}};Y.hsv.hsl=function(t){const e=t[0];const s=t[1]/100;const n=t[2]/100;const i=Math.max(n,.01);let o;let r;r=(2-s)*n;const a=(2-s)*i;o=s*i;o/=a<=1?a:2-a;o=o||0;r/=2;return[e,o*100,r*100]};Y.hwb.rgb=function(t){const e=t[0]/360;let s=t[1]/100;let n=t[2]/100;const i=s+n;let o;if(i>1){s/=i;n/=i}const r=Math.floor(6*e);const a=1-n;o=6*e-r;if((r&1)!==0){o=1-o}const l=s+o*(a-s);let c;let h;let u;switch(r){default:case 6:case 0:c=a;h=l;u=s;break;case 1:c=l;h=a;u=s;break;case 2:c=s;h=a;u=l;break;case 3:c=s;h=l;u=a;break;case 4:c=l;h=s;u=a;break;case 5:c=a;h=s;u=l;break}return[c*255,h*255,u*255]};Y.cmyk.rgb=function(t){const e=t[0]/100;const s=t[1]/100;const n=t[2]/100;const i=t[3]/100;const o=1-Math.min(1,e*(1-i)+i);const r=1-Math.min(1,s*(1-i)+i);const a=1-Math.min(1,n*(1-i)+i);return[o*255,r*255,a*255]};Y.xyz.rgb=function(t){const e=t[0]/100;const s=t[1]/100;const n=t[2]/100;let i;let o;let r;i=e*3.2406+s*-1.5372+n*-.4986;o=e*-.9689+s*1.8758+n*.0415;r=e*.0557+s*-.204+n*1.057;i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92;o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92;r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92;i=Math.min(Math.max(0,i),1);o=Math.min(Math.max(0,o),1);r=Math.min(Math.max(0,r),1);return[i*255,o*255,r*255]};Y.xyz.lab=function(t){let e=t[0];let s=t[1];let n=t[2];e/=95.047;s/=100;n/=108.883;e=e>.008856?e**(1/3):7.787*e+16/116;s=s>.008856?s**(1/3):7.787*s+16/116;n=n>.008856?n**(1/3):7.787*n+16/116;const i=116*s-16;const o=500*(e-s);const r=200*(s-n);return[i,o,r]};Y.lab.xyz=function(t){const e=t[0];const s=t[1];const n=t[2];let i;let o;let r;o=(e+16)/116;i=s/500+o;r=o-n/200;const a=o**3;const l=i**3;const c=r**3;o=a>.008856?a:(o-16/116)/7.787;i=l>.008856?l:(i-16/116)/7.787;r=c>.008856?c:(r-16/116)/7.787;i*=95.047;o*=100;r*=108.883;return[i,o,r]};Y.lab.lch=function(t){const e=t[0];const s=t[1];const n=t[2];let i;const o=Math.atan2(n,s);i=o*360/2/Math.PI;if(i<0){i+=360}const r=Math.sqrt(s*s+n*n);return[e,r,i]};Y.lch.lab=function(t){const e=t[0];const s=t[1];const n=t[2];const i=n/360*2*Math.PI;const o=s*Math.cos(i);const r=s*Math.sin(i);return[e,o,r]};Y.rgb.ansi16=function(t,e=null){const[s,n,i]=t;let o=e===null?Y.rgb.hsv(t)[2]:e;o=Math.round(o/50);if(o===0){return 30}let r=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(s/255));if(o===2){r+=60}return r};Y.hsv.ansi16=function(t){return Y.rgb.ansi16(Y.hsv.rgb(t),t[2])};Y.rgb.ansi256=function(t){const e=t[0];const s=t[1];const n=t[2];if(e===s&&s===n){if(e<8){return 16}if(e>248){return 231}return Math.round((e-8)/247*24)+232}const i=16+36*Math.round(e/255*5)+6*Math.round(s/255*5)+Math.round(n/255*5);return i};Y.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7){if(t>50){e+=3.5}e=e/10.5*255;return[e,e,e]}const s=(~~(t>50)+1)*.5;const n=(e&1)*s*255;const i=(e>>1&1)*s*255;const o=(e>>2&1)*s*255;return[n,i,o]};Y.ansi256.rgb=function(t){if(t>=232){const e=(t-232)*10+8;return[e,e,e]}t-=16;let e;const s=Math.floor(t/36)/5*255;const n=Math.floor((e=t%36)/6)/5*255;const i=e%6/5*255;return[s,n,i]};Y.rgb.hex=function(t){const e=((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255);const s=e.toString(16).toUpperCase();return"000000".substring(s.length)+s};Y.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e){return[0,0,0]}let s=e[0];if(e[0].length===3){s=s.split("").map((t=>t+t)).join("")}const n=parseInt(s,16);const i=n>>16&255;const o=n>>8&255;const r=n&255;return[i,o,r]};Y.rgb.hcg=function(t){const e=t[0]/255;const s=t[1]/255;const n=t[2]/255;const i=Math.max(Math.max(e,s),n);const o=Math.min(Math.min(e,s),n);const r=i-o;let a;let l;if(r<1){a=o/(1-r)}else{a=0}if(r<=0){l=0}else if(i===e){l=(s-n)/r%6}else if(i===s){l=2+(n-e)/r}else{l=4+(e-s)/r}l/=6;l%=1;return[l*360,r*100,a*100]};Y.hsl.hcg=function(t){const e=t[1]/100;const s=t[2]/100;const n=s<.5?2*e*s:2*e*(1-s);let i=0;if(n<1){i=(s-.5*n)/(1-n)}return[t[0],n*100,i*100]};Y.hsv.hcg=function(t){const e=t[1]/100;const s=t[2]/100;const n=e*s;let i=0;if(n<1){i=(s-n)/(1-n)}return[t[0],n*100,i*100]};Y.hcg.rgb=function(t){const e=t[0]/360;const s=t[1]/100;const n=t[2]/100;if(s===0){return[n*255,n*255,n*255]}const i=[0,0,0];const o=e%1*6;const r=o%1;const a=1-r;let l=0;switch(Math.floor(o)){case 0:i[0]=1;i[1]=r;i[2]=0;break;case 1:i[0]=a;i[1]=1;i[2]=0;break;case 2:i[0]=0;i[1]=1;i[2]=r;break;case 3:i[0]=0;i[1]=a;i[2]=1;break;case 4:i[0]=r;i[1]=0;i[2]=1;break;default:i[0]=1;i[1]=0;i[2]=a}l=(1-s)*n;return[(s*i[0]+l)*255,(s*i[1]+l)*255,(s*i[2]+l)*255]};Y.hcg.hsv=function(t){const e=t[1]/100;const s=t[2]/100;const n=e+s*(1-e);let i=0;if(n>0){i=e/n}return[t[0],i*100,n*100]};Y.hcg.hsl=function(t){const e=t[1]/100;const s=t[2]/100;const n=s*(1-e)+.5*e;let i=0;if(n>0&&n<.5){i=e/(2*n)}else if(n>=.5&&n<1){i=e/(2*(1-n))}return[t[0],i*100,n*100]};Y.hcg.hwb=function(t){const e=t[1]/100;const s=t[2]/100;const n=e+s*(1-e);return[t[0],(n-e)*100,(1-n)*100]};Y.hwb.hcg=function(t){const e=t[1]/100;const s=t[2]/100;const n=1-s;const i=n-e;let o=0;if(i<1){o=(n-i)/(1-i)}return[t[0],i*100,o*100]};Y.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};Y.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};Y.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};Y.gray.hsl=function(t){return[0,0,t[0]]};Y.gray.hsv=Y.gray.hsl;Y.gray.hwb=function(t){return[0,100,t[0]]};Y.gray.cmyk=function(t){return[0,0,0,t[0]]};Y.gray.lab=function(t){return[t[0],0,0]};Y.gray.hex=function(t){const e=Math.round(t[0]/100*255)&255;const s=(e<<16)+(e<<8)+e;const n=s.toString(16).toUpperCase();return"000000".substring(n.length)+n};Y.rgb.gray=function(t){const e=(t[0]+t[1]+t[2])/3;return[e/255*100]};function tt(){const t={};const e=Object.keys(Q);for(let s=e.length,n=0;n<s;n++){t[e[n]]={distance:-1,parent:null}}return t}function et(t){const e=tt();const s=[t];e[t].distance=0;while(s.length){const t=s.pop();const n=Object.keys(Q[t]);for(let i=n.length,o=0;o<i;o++){const i=n[o];const r=e[i];if(r.distance===-1){r.distance=e[t].distance+1;r.parent=t;s.unshift(i)}}}return e}function st(t,e){return function(s){return e(t(s))}}function nt(t,e){const s=[e[t].parent,t];let n=Q[e[t].parent][t];let i=e[t].parent;while(e[i].parent){s.unshift(e[i].parent);n=st(Q[e[i].parent][i],n);i=e[i].parent}n.conversion=s;return n}var it=function(t){const e=et(t);const s={};const n=Object.keys(e);for(let t=n.length,i=0;i<t;i++){const t=n[i];const o=e[t];if(o.parent===null){continue}s[t]=nt(t,e)}return s};const ot={};const rt=Object.keys(Q);function at(t){const e=function(...e){const s=e[0];if(s===undefined||s===null){return s}if(s.length>1){e=s}return t(e)};if("conversion"in t){e.conversion=t.conversion}return e}function lt(t){const e=function(...e){const s=e[0];if(s===undefined||s===null){return s}if(s.length>1){e=s}const n=t(e);if(typeof n==="object"){for(let t=n.length,e=0;e<t;e++){n[e]=Math.round(n[e])}}return n};if("conversion"in t){e.conversion=t.conversion}return e}rt.forEach((t=>{ot[t]={};Object.defineProperty(ot[t],"channels",{value:Q[t].channels});Object.defineProperty(ot[t],"labels",{value:Q[t].labels});const e=it(t);const s=Object.keys(e);s.forEach((s=>{const n=e[s];ot[t][s]=lt(n);ot[t][s].raw=at(n)}))}));var ct=ot;const ht=["keyword","gray","hex"];const ut={};for(const t of Object.keys(ct)){ut[[...ct[t].labels].sort().join("")]=t}const dt={};function ft(t,e){if(!(this instanceof ft)){return new ft(t,e)}if(e&&e in ht){e=null}if(e&&!(e in ct)){throw new Error("Unknown model: "+e)}let s;let n;if(t==null){this.model="rgb";this.color=[0,0,0];this.valpha=1}else if(t instanceof ft){this.model=t.model;this.color=[...t.color];this.valpha=t.valpha}else if(typeof t==="string"){const e=X.get(t);if(e===null){throw new Error("Unable to parse color from string: "+t)}this.model=e.model;n=ct[this.model].channels;this.color=e.value.slice(0,n);this.valpha=typeof e.value[n]==="number"?e.value[n]:1}else if(t.length>0){this.model=e||"rgb";n=ct[this.model].channels;const s=Array.prototype.slice.call(t,0,n);this.color=yt(s,n);this.valpha=typeof t[n]==="number"?t[n]:1}else if(typeof t==="number"){this.model="rgb";this.color=[t>>16&255,t>>8&255,t&255];this.valpha=1}else{this.valpha=1;const e=Object.keys(t);if("alpha"in t){e.splice(e.indexOf("alpha"),1);this.valpha=typeof t.alpha==="number"?t.alpha:0}const n=e.sort().join("");if(!(n in ut)){throw new Error("Unable to parse color from object: "+JSON.stringify(t))}this.model=ut[n];const{labels:i}=ct[this.model];const o=[];for(s=0;s<i.length;s++){o.push(t[i[s]])}this.color=yt(o)}if(dt[this.model]){n=ct[this.model].channels;for(s=0;s<n;s++){const t=dt[this.model][s];if(t){this.color[s]=t(this.color[s])}}}this.valpha=Math.max(0,Math.min(1,this.valpha));if(Object.freeze){Object.freeze(this)}}ft.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in X.to?this:this.rgb();e=e.round(typeof t==="number"?t:1);const s=e.valpha===1?e.color:[...e.color,this.valpha];return X.to[e.model](s)},percentString(t){const e=this.rgb().round(typeof t==="number"?t:1);const s=e.valpha===1?e.color:[...e.color,this.valpha];return X.to.rgb.percent(s)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const t={};const{channels:e}=ct[this.model];const{labels:s}=ct[this.model];for(let n=0;n<e;n++){t[s[n]]=this.color[n]}if(this.valpha!==1){t.alpha=this.valpha}return t},unitArray(){const t=this.rgb().color;t[0]/=255;t[1]/=255;t[2]/=255;if(this.valpha!==1){t.push(this.valpha)}return t},unitObject(){const t=this.rgb().object();t.r/=255;t.g/=255;t.b/=255;if(this.valpha!==1){t.alpha=this.valpha}return t},round(t){t=Math.max(t||0,0);return new ft([...this.color.map(gt(t)),this.valpha],this.model)},alpha(t){if(t!==undefined){return new ft([...this.color,Math.max(0,Math.min(1,t))],this.model)}return this.valpha},red:bt("rgb",0,mt(255)),green:bt("rgb",1,mt(255)),blue:bt("rgb",2,mt(255)),hue:bt(["hsl","hsv","hsl","hwb","hcg"],0,(t=>(t%360+360)%360)),saturationl:bt("hsl",1,mt(100)),lightness:bt("hsl",2,mt(100)),saturationv:bt("hsv",1,mt(100)),value:bt("hsv",2,mt(100)),chroma:bt("hcg",1,mt(100)),gray:bt("hcg",2,mt(100)),white:bt("hwb",1,mt(100)),wblack:bt("hwb",2,mt(100)),cyan:bt("cmyk",0,mt(100)),magenta:bt("cmyk",1,mt(100)),yellow:bt("cmyk",2,mt(100)),black:bt("cmyk",3,mt(100)),x:bt("xyz",0,mt(95.047)),y:bt("xyz",1,mt(100)),z:bt("xyz",2,mt(108.833)),l:bt("lab",0,mt(100)),a:bt("lab",1),b:bt("lab",2),keyword(t){if(t!==undefined){return new ft(t)}return ct[this.model].keyword(this.color)},hex(t){if(t!==undefined){return new ft(t)}return X.to.hex(this.rgb().round().color)},hexa(t){if(t!==undefined){return new ft(t)}const e=this.rgb().round().color;let s=Math.round(this.valpha*255).toString(16).toUpperCase();if(s.length===1){s="0"+s}return X.to.hex(e)+s},rgbNumber(){const t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){const t=this.rgb().color;const e=[];for(const[s,n]of t.entries()){const t=n/255;e[s]=t<=.04045?t/12.92:((t+.055)/1.055)**2.4}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity();const s=t.luminosity();if(e>s){return(e+.05)/(s+.05)}return(s+.05)/(e+.05)},level(t){const e=this.contrast(t);if(e>=7){return"AAA"}return e>=4.5?"AA":""},isDark(){const t=this.rgb().color;const e=(t[0]*2126+t[1]*7152+t[2]*722)/1e4;return e<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++){t.color[e]=255-t.color[e]}return t},lighten(t){const e=this.hsl();e.color[2]+=e.color[2]*t;return e},darken(t){const e=this.hsl();e.color[2]-=e.color[2]*t;return e},saturate(t){const e=this.hsl();e.color[1]+=e.color[1]*t;return e},desaturate(t){const e=this.hsl();e.color[1]-=e.color[1]*t;return e},whiten(t){const e=this.hwb();e.color[1]+=e.color[1]*t;return e},blacken(t){const e=this.hwb();e.color[2]+=e.color[2]*t;return e},grayscale(){const t=this.rgb().color;const e=t[0]*.3+t[1]*.59+t[2]*.11;return ft.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let s=e.color[0];s=(s+t)%360;s=s<0?360+s:s;e.color[0]=s;return e},mix(t,e){if(!t||!t.rgb){throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t)}const s=t.rgb();const n=this.rgb();const i=e===undefined?.5:e;const o=2*i-1;const r=s.alpha()-n.alpha();const a=((o*r===-1?o:(o+r)/(1+o*r))+1)/2;const l=1-a;return ft.rgb(a*s.red()+l*n.red(),a*s.green()+l*n.green(),a*s.blue()+l*n.blue(),s.alpha()*i+n.alpha()*(1-i))}};for(const t of Object.keys(ct)){if(ht.includes(t)){continue}const{channels:e}=ct[t];ft.prototype[t]=function(...e){if(this.model===t){return new ft(this)}if(e.length>0){return new ft(e,t)}return new ft([...wt(ct[this.model][t].raw(this.color)),this.valpha],t)};ft[t]=function(...s){let n=s[0];if(typeof n==="number"){n=yt(s,e)}return new ft(n,t)}}function pt(t,e){return Number(t.toFixed(e))}function gt(t){return function(e){return pt(e,t)}}function bt(t,e,s){t=Array.isArray(t)?t:[t];for(const n of t){(dt[n]||(dt[n]=[]))[e]=s}t=t[0];return function(n){let i;if(n!==undefined){if(s){n=s(n)}i=this[t]();i.color[e]=n;return i}i=this[t]().color[e];if(s){i=s(i)}return i}}function mt(t){return function(e){return Math.max(0,Math.min(t,e))}}function wt(t){return Array.isArray(t)?t:[t]}function yt(t,e){for(let s=0;s<e;s++){if(typeof t[s]!=="number"){t[s]=0}}return t}var vt=ft;const kt={channel:"channel",channels:"channels",colorField:"color-field",colorFieldScope:"scope--color-field",colorMode:"color-mode",colorModeContainer:"color-mode-container",container:"container",control:"control",controlAndScope:"control-and-scope",controlSection:"control-section",deleteColor:"delete-color",header:"header",hexAndChannelsGroup:"hex-and-channels-group",hexOptions:"color-hex-options",hueScope:"scope--hue",hueSlider:"hue-slider",opacityScope:"scope--opacity",opacitySlider:"opacity-slider",preview:"preview",previewAndSliders:"preview-and-sliders",saveColor:"save-color",savedColor:"saved-color",savedColors:"saved-colors",savedColorsButtons:"saved-colors-buttons",savedColorsSection:"saved-colors-section",scope:"scope",section:"section",slider:"slider",sliders:"sliders",splitSection:"section--split"};const xt=vt("#007AC2");const Ct="calcite-color-";const Mt={r:255,g:255,b:255};const St={h:360,s:100,v:100};const At=St.h-1;const jt={min:0,max:100};const zt={s:{slider:{height:12,width:104},colorField:{height:80,width:160},thumb:{radius:10}},m:{slider:{height:12,width:204},colorField:{height:150,width:272},thumb:{radius:10}},l:{slider:{height:12,width:384},colorField:{height:200,width:464},thumb:{radius:10}}};const Ft=1;const Ot=':host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale=s]){--calcite-color-picker-spacing:8px}:host([scale=s]) .container{inline-size:160px}:host([scale=s]) .saved-colors{gap:0.25rem;grid-template-columns:repeat(auto-fill, 20px)}:host([scale=m]){--calcite-color-picker-spacing:12px}:host([scale=m]) .container{inline-size:272px}:host([scale=l]){--calcite-color-picker-spacing:16px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .container{inline-size:464px}:host([scale=l]) .section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}:host([scale=l]) .saved-colors{grid-template-columns:repeat(auto-fill, 32px)}:host([scale=l]) .control-section{flex-wrap:nowrap;align-items:baseline;flex-wrap:wrap}:host([scale=l]) .color-hex-options{display:flex;flex-shrink:1;flex-direction:column;justify-content:space-around}:host([scale=l]) .color-mode-container{flex-shrink:3}.container{background-color:var(--calcite-color-foreground-1);display:inline-block;border:1px solid var(--calcite-color-border-1)}.control-and-scope{position:relative;display:flex;cursor:pointer;touch-action:none}.scope{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);block-size:1px;inline-size:1px;border-radius:9999px;background-color:transparent;font-size:var(--calcite-font-size--1);outline-color:transparent}.scope:focus{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand-hover, var(--calcite-color-brand)));outline-offset:calc(\n            2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-offset-invert-focus),\n                1\n              )\n            )\n          );outline-offset:11px}.hex-and-channels-group{inline-size:100%}.hex-and-channels-group,.control-section{display:flex;flex-direction:row;flex-wrap:wrap}.section{padding-block:0 var(--calcite-color-picker-spacing);padding-inline:var(--calcite-color-picker-spacing)}.section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}.sliders{display:flex;flex-direction:column;justify-content:space-between;margin-inline-start:var(--calcite-color-picker-spacing)}.preview-and-sliders{display:flex;align-items:center;padding:var(--calcite-color-picker-spacing)}.color-hex-options,.section--split{flex-grow:1}.header{display:flex;align-items:center;justify-content:space-between;color:var(--calcite-color-text-1)}.color-mode-container{padding-block-start:var(--calcite-color-picker-spacing)}.channels{display:flex;row-gap:0.125rem}.channel[data-channel-index="3"]{inline-size:159px}:host([scale=s]) .channels{flex-wrap:wrap}:host([scale=s]) .channel{flex-basis:30%;flex-grow:1}:host([scale=s]) .channel[data-channel-index="3"]{inline-size:unset;margin-inline-start:unset}:host([scale=l]) .channel[data-channel-index="3"]{inline-size:131px}.saved-colors{display:grid;gap:0.5rem;padding-block-start:var(--calcite-color-picker-spacing);grid-template-columns:repeat(auto-fill, 24px)}.saved-colors-buttons{display:flex}.saved-color{outline-offset:0;outline-color:transparent;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.saved-color:hover{transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;outline:2px solid var(--calcite-color-border-2);outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}';const $t=16;const Dt=class{constructor(n){t(this,n);this.calciteColorPickerChange=e(this,"calciteColorPickerChange",6);this.calciteColorPickerInput=e(this,"calciteColorPickerInput",6);this.internalColorUpdateContext=null;this.mode=c.HEX;this.shiftKeyChannelAdjustment=0;this.handleTabActivate=t=>{this.channelMode=t.currentTarget.getAttribute("data-color-mode");this.updateChannelsFromColor(this.color)};this.handleColorFieldScopeKeyDown=t=>{const{key:e}=t;const s={ArrowUp:{x:0,y:-10},ArrowRight:{x:10,y:0},ArrowDown:{x:0,y:10},ArrowLeft:{x:-10,y:0}};if(s[e]){t.preventDefault();this.scopeOrientation=e==="ArrowDown"||e==="ArrowUp"?"vertical":"horizontal";this.captureColorFieldColor(this.colorFieldScopeLeft+s[e].x||0,this.colorFieldScopeTop+s[e].y||0,false)}};this.handleHueScopeKeyDown=t=>{const e=t.shiftKey?10:1;const{key:s}=t;const n={ArrowUp:1,ArrowRight:1,ArrowDown:-1,ArrowLeft:-1};if(n[s]){t.preventDefault();const i=n[s]*e;const o=this.baseColorFieldColor.hue();const r=this.baseColorFieldColor.hue(o+i);this.internalColorSet(r,false)}};this.handleHexInputChange=t=>{t.stopPropagation();const{allowEmpty:e,color:s}=this;const n=t.target;const i=n.value;if(e&&!i){this.internalColorSet(null);return}const o=s&&h(u(s,p(this.mode)));if(i!==o){this.internalColorSet(vt(i))}};this.handleSavedColorSelect=t=>{const e=t.currentTarget;this.internalColorSet(vt(e.color))};this.handleChannelInput=t=>{const e=t.currentTarget;const s=Number(e.getAttribute("data-channel-index"));const n=s===3;const i=n?jt.max:this.channelMode==="rgb"?Mt[Object.keys(Mt)[s]]:St[Object.keys(St)[s]];let o;if(this.allowEmpty&&!e.value){o=""}else{const t=Number(e.value);const s=t+this.shiftKeyChannelAdjustment;const n=N(s,0,i);o=n.toString()}e.value=o;if(o!==""&&this.shiftKeyChannelAdjustment!==0){this.handleChannelChange(t)}};this.handleChannelChange=t=>{const e=t.currentTarget;const s=Number(e.getAttribute("data-channel-index"));const n=[...this.channels];const i=this.allowEmpty&&!e.value;if(i){this.channels=[null,null,null,null];this.internalColorSet(null);return}const o=s===3;const r=Number(e.value);n[s]=o?d(r):r;this.updateColorFromChannels(n)};this.handleSavedColorKeyDown=t=>{if(F(t.key)){t.preventDefault();this.handleSavedColorSelect(t)}};this.handleColorFieldPointerDown=t=>{if(!o(t)){return}const{offsetX:e,offsetY:s}=t;window.addEventListener("pointermove",this.globalPointerMoveHandler);window.addEventListener("pointerup",this.globalPointerUpHandler,{once:true});this.activeCanvasInfo={context:this.colorFieldRenderingContext,bounds:this.colorFieldRenderingContext.canvas.getBoundingClientRect()};this.captureColorFieldColor(e,s);this.colorFieldScopeNode.focus()};this.handleHueSliderPointerDown=t=>{if(!o(t)){return}const{offsetX:e}=t;window.addEventListener("pointermove",this.globalPointerMoveHandler);window.addEventListener("pointerup",this.globalPointerUpHandler,{once:true});this.activeCanvasInfo={context:this.hueSliderRenderingContext,bounds:this.hueSliderRenderingContext.canvas.getBoundingClientRect()};this.captureHueSliderColor(e);this.hueScopeNode.focus()};this.handleOpacitySliderPointerDown=t=>{if(!o(t)){return}const{offsetX:e}=t;window.addEventListener("pointermove",this.globalPointerMoveHandler);window.addEventListener("pointerup",this.globalPointerUpHandler,{once:true});this.activeCanvasInfo={context:this.opacitySliderRenderingContext,bounds:this.opacitySliderRenderingContext.canvas.getBoundingClientRect()};this.captureOpacitySliderValue(e);this.opacityScopeNode.focus()};this.globalPointerUpHandler=t=>{if(!o(t)){return}const e=this.activeCanvasInfo;this.activeCanvasInfo=null;this.drawColorControls();if(e){this.calciteColorPickerChange.emit()}};this.globalPointerMoveHandler=t=>{const{activeCanvasInfo:e,el:s}=this;if(!s.isConnected||!e){return}const{context:n,bounds:i}=e;let o;let r;const{clientX:a,clientY:l}=t;if(n.canvas.matches(":hover")){o=a-i.x;r=l-i.y}else{if(a<i.x+i.width&&a>i.x){o=a-i.x}else if(a<i.x){o=0}else{o=i.width}if(l<i.y+i.height&&l>i.y){r=l-i.y}else if(l<i.y){r=0}else{r=i.height}}if(n===this.colorFieldRenderingContext){this.captureColorFieldColor(o,r,false)}else if(n===this.hueSliderRenderingContext){this.captureHueSliderColor(o)}else if(n===this.opacitySliderRenderingContext){this.captureOpacitySliderValue(o)}};this.storeColorFieldScope=t=>{this.colorFieldScopeNode=t};this.storeHueScope=t=>{this.hueScopeNode=t};this.renderChannelsTabTitle=t=>{const{channelMode:e,messages:n}=this;const i=t===e;const o=t==="rgb"?n.rgb:n.hsv;return s("calcite-tab-title",{class:kt.colorMode,"data-color-mode":t,key:t,onCalciteTabsActivate:this.handleTabActivate,selected:i},o)};this.renderChannelsTab=t=>{const{allowEmpty:e,channelMode:n,channels:i,messages:o,alphaChannel:a}=this;const l=t===n;const c=t==="rgb";const h=c?[o.red,o.green,o.blue]:[o.hue,o.saturation,o.value];const u=r(this.el);const d=a?i:i.slice(0,3);return s("calcite-tab",{class:kt.control,key:t,selected:l},s("div",{class:kt.channels,dir:"ltr"},d.map(((t,s)=>{const n=s===3;if(n){t=e&&!t?t:f(t)}return this.renderChannel(t,s,h[s],u,n?"%":"")}))))};this.renderChannel=(t,e,n,i,o)=>s("calcite-input-number",{class:kt.channel,"data-channel-index":e,dir:i,key:e,label:n,lang:this.effectiveLocale,numberButtonType:"none",numberingSystem:this.numberingSystem,onCalciteInputNumberChange:this.handleChannelChange,onCalciteInputNumberInput:this.handleChannelInput,onKeyDown:this.handleKeyDown,scale:this.scale==="l"?"m":"s",style:{marginLeft:e>0&&!(this.scale==="s"&&this.alphaChannel&&e===3)?"-1px":""},suffixText:o,value:t?.toString()});this.deleteColor=()=>{const t=u(this.color,this.alphaChannel);const e=this.savedColors.indexOf(t)>-1;if(!e){return}const s=this.savedColors.filter((e=>e!==t));this.savedColors=s;const n=`${Ct}${this.storageId}`;if(this.storageId){localStorage.setItem(n,JSON.stringify(s))}};this.saveColor=()=>{const t=u(this.color,this.alphaChannel);const e=this.savedColors.indexOf(t)>-1;if(e){return}const s=[...this.savedColors,t];this.savedColors=s;const n=`${Ct}${this.storageId}`;if(this.storageId){localStorage.setItem(n,JSON.stringify(s))}};this.drawColorControls=_(((t="all")=>{if((t==="all"||t==="color-field")&&this.colorFieldRenderingContext){this.drawColorField()}if((t==="all"||t==="hue-slider")&&this.hueSliderRenderingContext){this.drawHueSlider()}if(this.alphaChannel&&(t==="all"||t==="opacity-slider")&&this.opacitySliderRenderingContext){this.drawOpacitySlider()}}),$t);this.captureColorFieldColor=(t,e,s=true)=>{const{dimensions:{colorField:{height:n,width:i}}}=this;const o=Math.round(St.s/i*t);const r=Math.round(St.v/n*(n-e));this.internalColorSet(this.baseColorFieldColor.hsv().saturationv(o).value(r),s)};this.initColorField=t=>{this.colorFieldRenderingContext=t.getContext("2d");this.updateCanvasSize("color-field");this.drawColorControls()};this.initHueSlider=t=>{this.hueSliderRenderingContext=t.getContext("2d");this.updateCanvasSize("hue-slider");this.drawHueSlider()};this.initOpacitySlider=t=>{if(!t){return}this.opacitySliderRenderingContext=t.getContext("2d");this.updateCanvasSize("opacity-slider");this.drawOpacitySlider()};this.storeOpacityScope=t=>{this.opacityScopeNode=t};this.handleOpacityScopeKeyDown=t=>{const e=t.shiftKey?10:1;const{key:s}=t;const n={ArrowUp:.01,ArrowRight:.01,ArrowDown:-.01,ArrowLeft:-.01};if(n[s]){t.preventDefault();const i=n[s]*e;const o=this.baseColorFieldColor.alpha();const r=this.baseColorFieldColor.alpha(o+i);this.internalColorSet(r,false)}};this.allowEmpty=false;this.alphaChannel=false;this.channelsDisabled=false;this.color=xt;this.disabled=false;this.format="auto";this.hideChannels=false;this.hexDisabled=false;this.hideHex=false;this.hideSaved=false;this.savedDisabled=false;this.scale="m";this.storageId=undefined;this.messageOverrides=undefined;this.numberingSystem=undefined;this.value=h(u(xt,this.alphaChannel));this.defaultMessages=undefined;this.channelMode="rgb";this.channels=this.toChannels(xt);this.dimensions=zt.m;this.effectiveLocale="";this.messages=undefined;this.savedColors=[];this.colorFieldScopeTop=undefined;this.colorFieldScopeLeft=undefined;this.hueScopeLeft=undefined;this.opacityScopeLeft=undefined;this.scopeOrientation=undefined}handleAlphaChannelChange(t){const{format:e}=this;if(t&&e!=="auto"&&!p(e)){console.warn(`ignoring alphaChannel as the current format (${e}) does not support alpha`);this.alphaChannel=false}}handleColorChange(t,e){this.drawColorControls();this.updateChannelsFromColor(t);this.previousColor=e}handleFormatOrAlphaChannelChange(){this.setMode(this.format);this.internalColorSet(this.color,false,"internal")}handleScaleChange(t="m"){this.updateDimensions(t);this.updateCanvasSize("all");this.drawColorControls()}onMessagesChange(){}handleValueChange(t,e){const{allowEmpty:s,format:n}=this;const i=!s||t;let o=false;if(i){const s=g(t);if(!s||n!=="auto"&&s!==n){this.showIncompatibleColorWarning(t,n);this.value=e;return}o=this.mode!==s;this.setMode(s,this.internalColorUpdateContext===null)}const r=this.activeCanvasInfo;if(this.internalColorUpdateContext==="initial"){return}if(this.internalColorUpdateContext==="user-interaction"){this.calciteColorPickerInput.emit();if(!r){this.calciteColorPickerChange.emit()}return}const a=s&&!t?null:vt(t!=null&&typeof t==="object"&&p(this.mode)?v(t):t);const l=!b(a,this.color);if(o||l){this.internalColorSet(a,this.alphaChannel&&!(this.mode.endsWith("a")||this.mode.endsWith("a-css")),"internal")}}get baseColorFieldColor(){return this.color||this.previousColor||xt}effectiveLocaleChange(){K(this,this.effectiveLocale)}handleChannelKeyUpOrDown(t){this.shiftKeyChannelAdjustment=0;const{key:e}=t;if(e!=="ArrowUp"&&e!=="ArrowDown"||!t.composedPath().some((t=>t.classList?.contains(kt.channel)))){return}const{shiftKey:s}=t;t.preventDefault();if(!this.color){this.internalColorSet(this.previousColor);t.stopPropagation();return}const n=9;this.shiftKeyChannelAdjustment=e==="ArrowUp"&&s?n:e==="ArrowDown"&&s?-n:0}async setFocus(){await O(this);this.el.focus()}async componentWillLoad(){$(this);const{allowEmpty:t,color:e,format:s,value:n}=this;const i=t&&!n;const o=g(n);const r=i||s==="auto"&&o||s===o;const a=i?null:r?vt(n):e;if(!r){this.showIncompatibleColorWarning(n,s)}this.setMode(s,false);this.internalColorSet(a,false,"initial");this.updateDimensions(this.scale);const l=`${Ct}${this.storageId}`;if(this.storageId&&localStorage.getItem(l)){this.savedColors=JSON.parse(localStorage.getItem(l))}await U(this)}connectedCallback(){S(this);I(this);P(this)}componentDidLoad(){D(this)}disconnectedCallback(){window.removeEventListener("pointermove",this.globalPointerMoveHandler);window.removeEventListener("pointerup",this.globalPointerUpHandler);A(this);q(this);T(this)}componentDidRender(){j(this)}render(){const{allowEmpty:t,channelsDisabled:e,color:n,colorFieldScopeLeft:i,colorFieldScopeTop:o,dimensions:{slider:{width:r},thumb:{radius:a}},hexDisabled:l,hideChannels:c,hideHex:h,hideSaved:d,hueScopeLeft:p,messages:g,alphaChannel:b,opacityScopeLeft:m,savedColors:w,savedDisabled:y,scale:v,scopeOrientation:k}=this;const x=n?u(n,b):null;const C=a;const M=p??r*xt.hue()/St.h;const S=a;const A=m??r*f(xt.alpha())/jt.max;const j=n===null;const F=k==="vertical";const O=l||h;const $=e||c;const D=y||d;const[I,q]=this.getAdjustedScopePosition(i,o);const[E,N]=this.getAdjustedScopePosition(M,C);const[L,K]=this.getAdjustedScopePosition(A,S);return s(z,{disabled:this.disabled},s("div",{class:kt.container},s("div",{class:kt.controlAndScope},s("canvas",{class:kt.colorField,onPointerDown:this.handleColorFieldPointerDown,ref:this.initColorField}),s("div",{"aria-label":F?g.value:g.saturation,"aria-valuemax":F?St.v:St.s,"aria-valuemin":"0","aria-valuenow":(F?n?.saturationv():n?.value())||"0",class:{[kt.scope]:true,[kt.colorFieldScope]:true},onKeyDown:this.handleColorFieldScopeKeyDown,role:"slider",style:{top:`${q||0}px`,left:`${I||0}px`},tabindex:"0",ref:this.storeColorFieldScope})),s("div",{class:kt.previewAndSliders},s("calcite-color-picker-swatch",{class:kt.preview,color:x,scale:"l"}),s("div",{class:kt.sliders},s("div",{class:kt.controlAndScope},s("canvas",{class:{[kt.slider]:true,[kt.hueSlider]:true},onPointerDown:this.handleHueSliderPointerDown,ref:this.initHueSlider}),s("div",{"aria-label":g.hue,"aria-valuemax":St.h,"aria-valuemin":"0","aria-valuenow":n?.round().hue()||xt.round().hue(),class:{[kt.scope]:true,[kt.hueScope]:true},onKeyDown:this.handleHueScopeKeyDown,role:"slider",style:{top:`${N}px`,left:`${E}px`},tabindex:"0",ref:this.storeHueScope})),b?s("div",{class:kt.controlAndScope},s("canvas",{class:{[kt.slider]:true,[kt.opacitySlider]:true},onPointerDown:this.handleOpacitySliderPointerDown,ref:this.initOpacitySlider}),s("div",{"aria-label":g.opacity,"aria-valuemax":jt.max,"aria-valuemin":jt.min,"aria-valuenow":(n||xt).round().alpha(),class:{[kt.scope]:true,[kt.opacityScope]:true},onKeyDown:this.handleOpacityScopeKeyDown,role:"slider",style:{top:`${K}px`,left:`${L}px`},tabindex:"0",ref:this.storeOpacityScope})):null)),O&&$?null:s("div",{class:{[kt.controlSection]:true,[kt.section]:true}},s("div",{class:kt.hexAndChannelsGroup},O?null:s("div",{class:kt.hexOptions},s("calcite-color-picker-hex-input",{allowEmpty:t,alphaChannel:b,class:kt.control,messages:g,numberingSystem:this.numberingSystem,onCalciteColorPickerHexInputChange:this.handleHexInputChange,scale:v,value:x})),$?null:s("calcite-tabs",{class:{[kt.colorModeContainer]:true,[kt.splitSection]:true},scale:v==="l"?"m":"s"},s("calcite-tab-nav",{slot:"title-group"},this.renderChannelsTabTitle("rgb"),this.renderChannelsTabTitle("hsv")),this.renderChannelsTab("rgb"),this.renderChannelsTab("hsv")))),D?null:s("div",{class:{[kt.savedColorsSection]:true,[kt.section]:true}},s("div",{class:kt.header},s("label",null,g.saved),s("div",{class:kt.savedColorsButtons},s("calcite-button",{appearance:"transparent",class:kt.deleteColor,disabled:j,iconStart:"minus",kind:"neutral",label:g.deleteColor,onClick:this.deleteColor,scale:v,type:"button"}),s("calcite-button",{appearance:"transparent",class:kt.saveColor,disabled:j,iconStart:"plus",kind:"neutral",label:g.saveColor,onClick:this.saveColor,scale:v,type:"button"}))),w.length>0?s("div",{class:kt.savedColors},[...w.map((t=>s("calcite-color-picker-swatch",{class:kt.savedColor,color:t,key:t,onClick:this.handleSavedColorSelect,onKeyDown:this.handleSavedColorKeyDown,scale:v,tabIndex:0})))]):null)))}handleKeyDown(t){if(t.key==="Enter"){t.preventDefault()}}showIncompatibleColorWarning(t,e){console.warn(`ignoring color value (${t}) as it is not compatible with the current format (${e})`)}setMode(t,e=true){const s=t==="auto"?this.mode:t;this.mode=this.ensureCompatibleMode(s,e)}ensureCompatibleMode(t,e){const{alphaChannel:s}=this;const n=p(t);if(s&&!n){const s=y(t);if(e){console.warn(`setting format to (${s}) as the provided one (${t}) does not support alpha`)}return s}if(!s&&n){const s=m(t);if(e){console.warn(`setting format to (${s}) as the provided one (${t}) does not support alpha`)}return s}return t}captureHueSliderColor(t){const{dimensions:{slider:{width:e}}}=this;const s=At/e*t;this.internalColorSet(this.baseColorFieldColor.hue(s),false)}captureOpacitySliderValue(t){const{dimensions:{slider:{width:e}}}=this;const s=d(jt.max/e*t);this.internalColorSet(this.baseColorFieldColor.alpha(s),false)}internalColorSet(t,e=true,s="user-interaction"){if(e&&b(t,this.color)){return}this.internalColorUpdateContext=s;this.color=t;this.value=this.toValue(t);this.internalColorUpdateContext=null}toValue(t,e=this.mode){if(!t){return null}const s="hex";if(e.includes(s)){const s=e===c.HEXA;return h(u(t.round(),s),s)}if(e.includes("-css")){const s=t[e.replace("-css","").replace("a","")]().round().string();const n=(e.endsWith("a")||e.endsWith("a-css"))&&t.alpha()===1;if(n){const e=s.slice(0,3);const n=s.slice(4,-1);return`${e}a(${n}, ${t.alpha()})`}return s}const n=t[m(e)]().round().object();if(e.endsWith("a")){return w(n)}return n}getSliderCapSpacing(){const{dimensions:{slider:{height:t},thumb:{radius:e}}}=this;return e*2-t}updateDimensions(t="m"){this.dimensions=zt[t]}drawColorField(){const t=this.colorFieldRenderingContext;const{dimensions:{colorField:{height:e,width:s}}}=this;t.fillStyle=this.baseColorFieldColor.hsv().saturationv(100).value(100).alpha(1).string();t.fillRect(0,0,s,e);const n=t.createLinearGradient(0,0,s,0);n.addColorStop(0,"rgba(255,255,255,1)");n.addColorStop(1,"rgba(255,255,255,0)");t.fillStyle=n;t.fillRect(0,0,s,e);const i=t.createLinearGradient(0,0,0,e);i.addColorStop(0,"rgba(0,0,0,0)");i.addColorStop(1,"rgba(0,0,0,1)");t.fillStyle=i;t.fillRect(0,0,s,e);this.drawActiveColorFieldColor()}setCanvasContextSize(t,{height:e,width:s}){if(!t){return}const n=window.devicePixelRatio||1;t.width=s*n;t.height=e*n;t.style.height=`${e}px`;t.style.width=`${s}px`;const i=t.getContext("2d");i.scale(n,n)}updateCanvasSize(t="all"){const{dimensions:e}=this;if(t==="all"||t==="color-field"){this.setCanvasContextSize(this.colorFieldRenderingContext?.canvas,e.colorField)}const s={width:e.slider.width,height:e.slider.height+(e.thumb.radius-e.slider.height/2)*2};if(t==="all"||t==="hue-slider"){this.setCanvasContextSize(this.hueSliderRenderingContext?.canvas,s)}if(t==="all"||t==="opacity-slider"){this.setCanvasContextSize(this.opacitySliderRenderingContext?.canvas,s)}}drawActiveColorFieldColor(){const{color:t}=this;if(!t){return}const e=t.hsv();const{dimensions:{colorField:{height:s,width:n},thumb:{radius:i}}}=this;const o=e.saturationv()/(St.s/n);const r=s-e.value()/(St.v/s);requestAnimationFrame((()=>{this.colorFieldScopeLeft=o;this.colorFieldScopeTop=r}));this.drawThumb(this.colorFieldRenderingContext,i,o,r,e,false)}drawThumb(t,e,s,n,i,o){const r=0;const a=2*Math.PI;const l=1;t.beginPath();t.arc(s,n,e,r,a);t.fillStyle="#fff";t.fill();t.strokeStyle="rgba(0,0,0,0.3)";t.lineWidth=l;t.stroke();if(o&&i.alpha()<1){const i=t.createPattern(this.getCheckeredBackgroundPattern(),"repeat");t.beginPath();t.arc(s,n,e-3,r,a);t.fillStyle=i;t.fill()}t.globalCompositeOperation="source-atop";t.beginPath();t.arc(s,n,e-3,r,a);const c=o?i.alpha():1;t.fillStyle=i.rgb().alpha(c).string();t.fill();t.globalCompositeOperation="source-over"}drawActiveHueSliderColor(){const{color:t}=this;if(!t){return}const e=t.hsv().saturationv(100).value(100);const{dimensions:{slider:{width:s},thumb:{radius:n}}}=this;const i=e.hue()/(At/s);const o=n;const r=this.getSliderBoundX(i,s,n);requestAnimationFrame((()=>{this.hueScopeLeft=r}));this.drawThumb(this.hueSliderRenderingContext,n,r,o,e,false)}drawHueSlider(){const t=this.hueSliderRenderingContext;const{dimensions:{slider:{height:e,width:s},thumb:{radius:n}}}=this;const i=0;const o=n-e/2;const r=t.createLinearGradient(0,0,s,0);const a=["red","yellow","lime","cyan","blue","magenta","#ff0004"];const l=1/(a.length-1);let c=0;a.forEach((t=>{r.addColorStop(c,vt(t).string());c+=l}));t.clearRect(0,0,s,e+this.getSliderCapSpacing()*2);this.drawSliderPath(t,e,s,i,o);t.fillStyle=r;t.fill();t.strokeStyle="rgba(0,0,0,0.3)";t.lineWidth=1;t.stroke();this.drawActiveHueSliderColor()}drawOpacitySlider(){const t=this.opacitySliderRenderingContext;const{baseColorFieldColor:e,dimensions:{slider:{height:s,width:n},thumb:{radius:i}}}=this;const o=0;const r=i-s/2;t.clearRect(0,0,n,s+this.getSliderCapSpacing()*2);const a=t.createLinearGradient(0,r,n,0);const l=e.rgb().alpha(0);const c=e.rgb().alpha(.5);const h=e.rgb().alpha(1);a.addColorStop(0,l.string());a.addColorStop(.5,c.string());a.addColorStop(1,h.string());this.drawSliderPath(t,s,n,o,r);const u=t.createPattern(this.getCheckeredBackgroundPattern(),"repeat");t.fillStyle=u;t.fill();t.fillStyle=a;t.fill();t.strokeStyle="rgba(0,0,0,0.3)";t.lineWidth=1;t.stroke();this.drawActiveOpacitySliderColor()}drawSliderPath(t,e,s,n,i){const o=e/2+1;t.beginPath();t.moveTo(n+o,i);t.lineTo(n+s-o,i);t.quadraticCurveTo(n+s,i,n+s,i+o);t.lineTo(n+s,i+e-o);t.quadraticCurveTo(n+s,i+e,n+s-o,i+e);t.lineTo(n+o,i+e);t.quadraticCurveTo(n,i+e,n,i+e-o);t.lineTo(n,i+o);t.quadraticCurveTo(n,i,n+o,i);t.closePath()}getCheckeredBackgroundPattern(){if(this.checkerPattern){return this.checkerPattern}const t=document.createElement("canvas");t.width=10;t.height=10;const e=t.getContext("2d");e.fillStyle="#ccc";e.fillRect(0,0,10,10);e.fillStyle="#fff";e.fillRect(0,0,5,5);e.fillRect(5,5,5,5);this.checkerPattern=t;return t}drawActiveOpacitySliderColor(){const{color:t}=this;if(!t){return}const e=t;const{dimensions:{slider:{width:s},thumb:{radius:n}}}=this;const i=f(e.alpha())/(jt.max/s);const o=n;const r=this.getSliderBoundX(i,s,n);requestAnimationFrame((()=>{this.opacityScopeLeft=r}));this.drawThumb(this.opacitySliderRenderingContext,n,r,o,e,true)}getSliderBoundX(t,e,s){const n=L(t,e,s);return n===0?t:n===-1?E(t,0,e,s,s*2):E(t,0,e,e-s*2,e-s)}updateColorFromChannels(t){this.internalColorSet(vt(t,this.channelMode))}updateChannelsFromColor(t){this.channels=t?this.toChannels(t):[null,null,null,null]}toChannels(t){const{channelMode:e}=this;const s=t[e]().array().map(((t,e)=>{const s=e===3;return s?t:Math.floor(t)}));if(s.length===3){s.push(1)}return s}getAdjustedScopePosition(t,e){return[t-Ft/2,e-Ft/2]}static get delegatesFocus(){return true}static get assetsDirs(){return["assets"]}get el(){return n(this)}static get watchers(){return{alphaChannel:["handleAlphaChannelChange","handleFormatOrAlphaChannelChange"],color:["handleColorChange"],format:["handleFormatOrAlphaChannelChange"],scale:["handleScaleChange"],messageOverrides:["onMessagesChange"],value:["handleValueChange"],effectiveLocale:["effectiveLocaleChange"]}}};Dt.style=Ot;const It={container:"container",hexInput:"hex-input",opacityInput:"opacity-input"};const qt=":host{display:block}.container{display:flex;inline-size:100%;flex-wrap:nowrap;align-items:center}.hex-input{flex-grow:1;text-transform:uppercase}.opacity-input{inline-size:68px;margin-inline-start:-1px}:host([scale=s]) .container{flex-wrap:wrap;row-gap:0.125rem}:host([scale=s]) .opacity-input{inline-size:unset;margin-inline-start:unset}:host([scale=l]) .opacity-input{inline-size:88px}:host([hidden]){display:none}[hidden]{display:none}";const Et=vt();const Nt=class{constructor(s){t(this,s);this.calciteColorPickerHexInputChange=e(this,"calciteColorPickerHexInputChange",6);this.onHexInputBlur=()=>{const t=this.hexInputNode;const e=t.value;const s=`#${e}`;const{allowEmpty:n,internalColor:i}=this;const o=n&&!e;const r=k(s);this.onHexInputChange();if(o||x(s)&&r){return}t.value=n&&!i?"":this.formatHexForInternalInput(C(i.object()))};this.onOpacityInputBlur=()=>{const t=this.opacityInputNode;const e=t.value;const{allowEmpty:s,internalColor:n}=this;const i=s&&!e;if(i){return}t.value=s&&!n?"":this.formatOpacityForInternalInput(n)};this.onHexInputChange=()=>{const t=this.hexInputNode.value;let e=t;if(e){const t=h(e,false);const s=x(t)&&this.alphaChannel;if(s&&this.internalColor){const s=h(this.internalColor.hexa(),true).slice(-2);e=`${t+s}`}}this.internalSetValue(e,this.value)};this.onOpacityInputChange=()=>{const t=this.opacityInputNode;let e;if(!t.value){e=t.value}else{const s=d(Number(t.value));e=this.internalColor?.alpha(s).hexa()}this.internalSetValue(e,this.value)};this.onInputKeyDown=t=>{const{altKey:e,ctrlKey:s,metaKey:n,shiftKey:i}=t;const{alphaChannel:o,hexInputNode:r,internalColor:a,value:l}=this;const{key:c}=t;const h=t.composedPath();if(c==="Tab"||c==="Enter"){if(h.includes(r)){this.onHexInputChange()}else{this.onOpacityInputChange()}if(c==="Enter"){t.preventDefault()}return}const d=c==="ArrowDown"||c==="ArrowUp";const f=this.value;if(d){if(!l){this.internalSetValue(this.previousNonNullValue,f);t.preventDefault();return}const e=c==="ArrowUp"?1:-1;const s=i?10:1;this.internalSetValue(u(this.nudgeRGBChannels(a,s*e,h.includes(r)?"rgb":"a"),o),f);t.preventDefault();return}const p=e||s||n;const g=c.length===1;const b=M.test(c);if(g&&!p&&!b){t.preventDefault()}};this.onHexInputPaste=t=>{const e=t.clipboardData.getData("text");if(x(e)){t.preventDefault();this.hexInputNode.value=e.slice(1)}};this.previousNonNullValue=this.value;this.storeHexInputRef=t=>{this.hexInputNode=t};this.storeOpacityInputRef=t=>{this.opacityInputNode=t};this.allowEmpty=false;this.alphaChannel=false;this.hexLabel="Hex";this.messages=undefined;this.numberingSystem=undefined;this.scale="m";this.value=h(u(Et,this.alphaChannel),this.alphaChannel,true);this.internalColor=Et}connectedCallback(){const{allowEmpty:t,alphaChannel:e,value:s}=this;if(s){const t=h(s,e);if(x(t,e)){this.internalSetValue(t,t,false)}return}if(t){this.internalSetValue(null,null,false)}}componentWillLoad(){$(this)}componentDidLoad(){D(this)}handleValueChange(t,e){this.internalSetValue(t,e,false)}render(){const{alphaChannel:t,hexLabel:e,internalColor:n,messages:i,scale:o,value:r}=this;const a=this.formatHexForInternalInput(r);const l=this.formatOpacityForInternalInput(n);const c=o==="l"?"m":"s";return s("div",{class:It.container},s("calcite-input-text",{class:It.hexInput,label:i?.hex||e,maxLength:6,onCalciteInputTextChange:this.onHexInputChange,onCalciteInternalInputTextBlur:this.onHexInputBlur,onKeyDown:this.onInputKeyDown,onPaste:this.onHexInputPaste,prefixText:"#",scale:c,value:a,ref:this.storeHexInputRef}),t?s("calcite-input-number",{class:It.opacityInput,key:"opacity-input",label:i?.opacity,max:jt.max,maxLength:3,min:jt.min,numberButtonType:"none",numberingSystem:this.numberingSystem,onCalciteInputNumberChange:this.onOpacityInputChange,onCalciteInternalInputNumberBlur:this.onOpacityInputBlur,onKeyDown:this.onInputKeyDown,scale:c,suffixText:"%",value:l,ref:this.storeOpacityInputRef}):null)}async setFocus(){await O(this);return a(this.hexInputNode)}internalSetValue(t,e,s=true){if(t){const{alphaChannel:e}=this;const n=h(t,e,e);if(x(n,e)){const{internalColor:t}=this;const i=vt(n);const o=h(u(i,e),e);const r=!t||o!==h(u(t,e),e);this.internalColor=i;this.previousNonNullValue=o;this.value=o;if(r&&s){this.calciteColorPickerHexInputChange.emit()}return}}else if(this.allowEmpty){this.internalColor=null;this.value=null;if(s){this.calciteColorPickerHexInputChange.emit()}return}this.value=e}formatHexForInternalInput(t){return t?t.replace("#","").slice(0,6):""}formatOpacityForInternalInput(t){return t?`${f(t.alpha())}`:""}nudgeRGBChannels(t,e,s){let n;const i=t.array();const o=i.slice(0,3);if(s==="rgb"){const t=o.map((t=>t+e));n=[...t,this.alphaChannel?i[3]:undefined]}else{const s=d(f(t.alpha())+e);n=[...o,s]}return vt(n)}get el(){return n(this)}static get watchers(){return{value:["handleValueChange"]}}};Nt.style=qt;const Lt={swatch:"swatch",noColorSwatch:"swatch--no-color",checker:"checker"};const Kt={borderLight:"rgba(0, 0, 0, 0.3)",borderDark:"rgba(255, 255, 255, 0.15)"};const Ut=4;const Pt={squareSize:Ut,size:Ut*2};const Tt=":host{position:relative;display:inline-flex}:host([scale=s]){block-size:1.25rem;inline-size:1.25rem}:host([scale=m]){block-size:1.5rem;inline-size:1.5rem}:host([scale=l]){block-size:2rem;inline-size:2rem}.swatch{overflow:hidden;block-size:inherit;inline-size:inherit}.swatch rect{transition-property:all;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.swatch--no-color rect{fill:var(--calcite-color-foreground-1)}.swatch--no-color line{stroke:var(--calcite-color-status-danger)}.checker{fill:#cacaca}:host([hidden]){display:none}[hidden]{display:none}";const _t=class{constructor(e){t(this,e);this.active=false;this.color=undefined;this.scale="m"}handleColorChange(t){this.internalColor=t?vt(t):null}componentWillLoad(){this.handleColorChange(this.color)}render(){const t=!this.internalColor;const e={[Lt.swatch]:true,[Lt.noColorSwatch]:t};return s("svg",{class:e,xmlns:"http://www.w3.org/2000/svg"},this.renderSwatch())}renderSwatch(){const{active:t,el:e,internalColor:n}=this;const o=t?"100%":"0";const r=l(e);const a=r==="light"?Kt.borderLight:Kt.borderDark;const c={height:"100%",rx:o,stroke:a,["stroke-width"]:"2",width:"100%"};const h=!n;if(h){return s(i,null,s("clipPath",{id:"shape"},s("rect",{height:"100%",rx:o,width:"100%"})),s("rect",{"clip-path":`inset(0 round ${o})`,rx:o,...c}),s("line",{"clip-path":"url(#shape)","stroke-width":"3",x1:"100%",x2:"0",y1:"0",y2:"100%"}))}const d=n.alpha();const f=u(n);const p=u(n,d<1);return s(i,null,s("title",null,p),s("defs",null,s("pattern",{height:Pt.size,id:"checker",patternUnits:"userSpaceOnUse",width:Pt.size,x:"0",y:"0"},s("rect",{class:Lt.checker,height:Pt.squareSize,width:Pt.squareSize,x:"0",y:"0"}),s("rect",{class:Lt.checker,height:Pt.squareSize,width:Pt.squareSize,x:Pt.squareSize,y:Pt.squareSize}))),s("rect",{fill:"url(#checker)",height:"100%",rx:o,width:"100%"}),s("rect",{fill:f,style:{"clip-path":d<1?"polygon(100% 0, 0 0, 0 100%)":`inset(0 round ${o})`},...c}),d<1?s("rect",{fill:p,key:"opacity-fill",style:{"clip-path":"polygon(100% 0, 100% 100%, 0 100%)"},...c}):null)}get el(){return n(this)}static get watchers(){return{color:["handleColorChange"]}}};_t.style=Tt;export{Dt as calcite_color_picker,Nt as calcite_color_picker_hex_input,_t as calcite_color_picker_swatch};
//# sourceMappingURL=p-bbf48beb.entry.js.map