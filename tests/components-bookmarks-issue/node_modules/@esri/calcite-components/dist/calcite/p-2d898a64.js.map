{"version":3,"names":["maxTenthForMinuteAndSecond","createLocaleDateTimeFormatter","locale","numberingSystem","includeSeconds","fractionalSecondDigits","options","hour","minute","timeZone","getSupportedNumberingSystem","second","getDateTimeFormat","formatTimePart","number","minLength","undefined","numberAsString","toString","numberDecimalPlaces","decimalPlaces","fractionalDigits","replace","length","padEnd","padStart","formatTimeString","value","isValidTime","fractionalSecond","parseTimeString","formattedValue","parseInt","fractionalSecondPartToMilliseconds","fractionalSecondPart","parseFloat","toFixed","getLocaleHourCycle","formatter","parts","formatToParts","Date","UTC","getLocalizedTimePart","getLocalizedDecimalSeparator","numberStringFormatter","numberFormatOptions","localize","split","getLocalizedTimePartSuffix","part","hourIndex","indexOf","find","type","minuteIndex","hourSuffix","trim","secondIndex","minuteSuffix","secondSuffix","getMeridiem","isValidNumber","hourAsNumber","startsWith","endsWith","splitValue","validLength","minuteAsNumber","secondAsNumber","hourValid","minuteValid","secondValid","isValidTimePart","valueAsNumber","Number","localizeTimePart","localizedDecimalSeparator","localizedFractionalSecond","localizedZero","date","localizeTimeString","dateFromTimeString","format","localizeTimeStringToParts","localizedHour","localizedHourSuffix","localizedMinute","localizedMinuteSuffix","localizedSecond","localizedSecondSuffix","localizedMeridiem","getTimeParts","secondDecimal","includes","toISOTimeString","isoTimeString","CSS","toggleIcon","SECONDS_A_MINUTE","SECONDS_A_HOUR","SECONDS_A_DAY","SECONDS_A_WEEK","MILLISECONDS_A_SECOND","MILLISECONDS_A_MINUTE","MILLISECONDS_A_HOUR","MILLISECONDS_A_DAY","MILLISECONDS_A_WEEK","MS","S","MIN","H","D","W","M","Q","Y","DATE","FORMAT_DEFAULT","INVALID_DATE_STRING","REGEX_PARSE","REGEX_FORMAT","en","name","weekdays","months","ordinal","n","s","v","string","pad","String","Array","join","padZoneStr","instance","negMinutes","utcOffset","minutes","Math","abs","hourOffset","floor","minuteOffset","monthDiff","a","b","wholeMonthDiff","year","month","anchor","clone","add","C.M","c","anchor2","absFloor","ceil","prettyUnit","u","special","y","C.Y","w","C.W","d","C.D","C.DATE","h","C.H","m","C.MIN","C.S","ms","C.MS","C.Q","toLowerCase","isUndefined","U","z","p","L","Ls","IS_DAYJS","isDayjs","Dayjs","parseLocale","preset","object","isLocal","l","presetLower","presetSplit","dayjs","cfg","args","arguments","wrapper","$L","utc","$u","x","$x","$offset","Utils","i","parseDate","NaN","test","match","C.REGEX_PARSE","substring","this","parse","_proto","prototype","$d","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","C.INVALID_DATE_STRING","isSame","that","units","other","startOf","endOf","isAfter","isBefore","$g","input","get","set","unix","valueOf","getTime","_startOf","_this","isStartOf","unit","instanceFactory","ins","instanceFactorySet","method","slice","argumentStart","argumentEnd","toDate","apply","utcPad","weekStart","$locale","gap","arg","$set","_int","_C$D$C$DATE$C$M$C$Y$C","min","daysInMonth","_int2","_this2","_C$MIN$C$H$C$S$unit","round","step","C.MILLISECONDS_A_MINUTE","C.MILLISECONDS_A_HOUR","C.MILLISECONDS_A_SECOND","nextTimeStamp","subtract","formatStr","_this3","invalidDate","str","C.FORMAT_DEFAULT","zoneStr","meridiem","getShort","arr","index","full","get$H","num","meridiemFunc","isLowercase","matches","monthsShort","weekdaysMin","weekdaysShort","C.REGEX_FORMAT","$1","getTimezoneOffset","diff","_float","_this4","zoneDelta","result","C.MILLISECONDS_A_WEEK","C.MILLISECONDS_A_DAY","nextLocaleName","toJSON","toISOString","toUTCString","proto","forEach","g","extend","plugin","option","$i","timestamp","t","_","englishFormats","LTS","LT","LL","LLL","LLLL","formats","B","toUpperCase","formattingTokens","match1","match2","match3","match4","match1to2","matchSigned","matchOffset","matchWord","parseTwoDigitYear","offsetFromString","addInput","property","zoneExpressions","zone","offset","getLocalePart","concat","f","meridiemMatch","isLowerCase","isAfternoon","_locale","expressions","A","afternoon","milliseconds","SS","SSS","ss","mm","HH","hh","DD","Do","_locale2","_input$match","day","MM","MMM","matchIndex","map","Error","MMMM","YY","YYYY","Z","ZZ","correctHours","time","hours","makeParser","array","token","parseTo","regex","parser","_i","start","_token","_regex","_parser","exec","call","parseFormattedInput","_parser2","seconds","now","e","customParseFormat","o","C","oldParse","isStrictWithoutLocale","isStrictWithLocale","isStrict","pl","len","localeData","target","localeOrder","targetLocale","fullLocale","getDayjsLocaleObject","getLongDateFormat","firstDayOfWeek","longDateFormat","bind","localeObject","localizedFormat","oldFormat","_this$$locale","_this$$locale$formats","preParsePostFormat","dayjsClass","preparse","_len","_key","postformat","oldFromTo","fromToBase","withoutSuffix","isFrom","updateLocale","customConfig","localeList","localeConfig","customConfigKeys","Object","keys","inputTimePickerCss","supportedDayjsLocaleToLocaleConfigImport","Map","import","Promise","resolve","then","en$1","InputTimePicker","focusOnOpen","dialogId","guid","userChangedValue","referenceElementId","openTransitionProp","hostBlurHandler","inputValue","calciteInputEl","delocalizedInputValue","delocalizeTimeString","setValue","localizedTimeString","effectiveLocale","shouldIncludeSeconds","setInputValue","deactivate","calciteInternalInputFocusHandler","event","readOnly","stopPropagation","calciteInternalInputInputHandler","useGrouping","valueInNumberingSystem","delocalize","char","numberKeys","numberFormatter","timePickerChangeHandler","popoverCloseHandler","deactivateFocusTrap","onDeactivate","setFocus","open","popoverOpenHandler","activateFocusTrap","onActivate","calciteTimePickerEl","keyDownHandler","defaultPrevented","key","submitForm","preventDefault","composedPath","newValue","setCalcitePopoverEl","el","popoverEl","setInputAndTransitionEl","transitionEl","setCalciteTimePickerEl","connectFocusTrap","focusTrapEl","focusTrapOptions","initialFocus","setReturnFocus","newInputValue","oldValue","changeEvent","calciteInputTimePickerChange","emit","setValueDirectly","onInputWrapperClick","openHandler","onToggleOpenCloseComponent","disabled","reposition","handleFocusTrapDisabled","focusTrapDisabled","handleDisabledAndReadOnlyChange","onMessagesChange","numberingSystemWatcher","stepWatcher","newStep","oldStep","valueWatcher","effectiveLocaleWatcher","loadDateTimeLocaleData","componentFocusable","focus","delayed","onBeforeOpen","calciteInputTimePickerBeforeOpen","onOpen","calciteInputTimePickerOpen","onBeforeClose","calciteInputTimePickerBeforeClose","onClose","calciteInputTimePickerClose","nonFractionalSecondParts","delocalizeTimeStringToParts","delocalizedTimeString","shouldIncludeFractionalSeconds","stepPrecision","centisecondParts","millisecond","getTimeStringFromParts","decisecondParts","millisecondParts","fractionalSecondFormatToken","ltsFormatString","fractionalSecondTokenMatch","secondFormatToken","getSupportedDayjsLocale","getSupportedLocale","dayjsParseResult","timeString","dayjsLocale","supportedLocale","default","getExtendedLocaleConfig","onLabelClick","connectedCallback","connectInteractive","connectLocalized","connectLabel","connectForm","connectMessages","componentWillLoad","setUpLoadableComponent","all","setUpMessages","componentDidLoad","setComponentLoaded","disconnectedCallback","disconnectInteractive","disconnectLabel","disconnectForm","disconnectLocalized","disconnectMessages","componentDidRender","updateHostInteraction","render","messages","Host","onBlur","onKeyDown","InteractiveContainer","class","onClick","icon","id","label","getLabelText","lang","onCalciteInputTextInput","onCalciteInternalInputTextFocus","role","scale","status","ref","renderToggleIcon","chooseTime","onCalcitePopoverClose","onCalcitePopoverOpen","overlayPositioning","placement","referenceElement","triggerDisabled","messageOverrides","onCalciteInternalTimePickerChange","tabIndex","HiddenFormInputSlot","component","validationMessage","Validation","validationIcon","message","getIconScale","button","buttonBottomLeft","buttonBottomRight","buttonFractionalSecondDown","buttonFractionalSecondUp","buttonHourDown","buttonHourUp","buttonMeridiemDown","buttonMeridiemUp","buttonMinuteDown","buttonMinuteUp","buttonSecondDown","buttonSecondUp","buttonTopLeft","buttonTopRight","column","delimiter","inputFocus","showMeridiem","showSecond","timePicker","meridiemStart","timePickerCss","capitalize","charAt","TimePicker","pointerActivated","decrementHour","newHour","setValuePart","decrementMeridiem","newMeridiem","decrementMinuteOrSecond","decrementMinute","decrementSecond","focusHandler","activeEl","currentTarget","fractionalSecondKeyDownHandler","fractionalSecondAsInteger","fractionalSecondAsIntegerLength","newFractionalSecondAsIntegerString","nudgeFractionalSecond","fractionalSecondDownClickHandler","fractionalSecondEl","fractionalSecondUpClickHandler","hourDownClickHandler","hourEl","hourKeyDownHandler","keyAsNumber","hourCycle","incrementHour","hourUpClickHandler","incrementMeridiem","incrementMinuteOrSecond","incrementMinute","incrementSecond","inputClickHandler","meridiemUpClickHandler","meridiemEl","meridiemKeyDownHandler","meridiemDownClickHandler","minuteDownClickHandler","minuteEl","minuteUpClickHandler","minuteKeyDownHandler","newMinute","direction","stepDecimal","getDecimals","fractionalSecondAsFloat","nudgedValue","nudgedValueRounded","nudgedValueRoundedDecimals","newFractionalSecond","isNaN","sign","sanitizeValue","sanitizedFractionalSecond","sanitizeFractionalSecond","secondKeyDownHandler","newSecond","secondDownClickHandler","secondEl","secondUpClickHandler","setHourEl","setMeridiemEl","setMinuteEl","setSecondEl","setFractionalSecondEl","formatParts","meridiemOrder","getMeridiemOrder","showFractionalSecond","calciteInternalTimePickerChange","stepChange","toggleSecond","blurHandler","calciteInternalTimePickerBlur","hostFocusHandler","calciteInternalTimePickerFocus","focusPart","pointerDownHandler","isRTLKind","findIndex","updateMessages","hourIsNumber","iconScale","minuteIsNumber","secondIsNumber","fractionalSecondIsNumber","dir","hourUp","onFocus","hourDown","minuteUp","minuteDown","secondUp","secondDown","fractionalSecondUp","fractionalSecondDown","meridiemUp","meridiemDown"],"sources":["src/utils/time.ts","src/components/input-time-picker/resources.ts","../../node_modules/dayjs/esm/constant.js","../../node_modules/dayjs/esm/locale/en.js","../../node_modules/dayjs/esm/utils.js","../../node_modules/dayjs/esm/index.js","../../node_modules/dayjs/esm/plugin/localizedFormat/utils.js","../../node_modules/dayjs/esm/plugin/customParseFormat/index.js","../../node_modules/dayjs/esm/plugin/localeData/index.js","../../node_modules/dayjs/esm/plugin/localizedFormat/index.js","../../node_modules/dayjs/esm/plugin/preParsePostFormat/index.js","../../node_modules/dayjs/esm/plugin/updateLocale/index.js","src/components/input-time-picker/input-time-picker.scss?tag=calcite-input-time-picker&encapsulation=shadow","src/components/input-time-picker/input-time-picker.tsx","src/components/time-picker/resources.ts","src/components/time-picker/time-picker.scss?tag=calcite-time-picker&encapsulation=shadow","src/components/time-picker/time-picker.tsx"],"sourcesContent":["import { getDateTimeFormat, getSupportedNumberingSystem, NumberingSystem, numberStringFormatter } from \"./locale\";\nimport { decimalPlaces } from \"./math\";\nimport { isValidNumber } from \"./number\";\n\nexport type FractionalSecondDigits = 1 | 2 | 3;\n\nexport type HourCycle = \"12\" | \"24\";\n\nexport interface LocalizedTime {\n  localizedHour: string;\n  localizedHourSuffix: string;\n  localizedMinute: string;\n  localizedMinuteSuffix: string;\n  localizedSecond: string;\n  localizedDecimalSeparator: string;\n  localizedFractionalSecond: string;\n  localizedSecondSuffix: string;\n  localizedMeridiem: string;\n}\n\nexport type Meridiem = \"AM\" | \"PM\";\n\nexport type MinuteOrSecond = \"minute\" | \"second\";\n\nexport interface Time {\n  fractionalSecond: string;\n  hour: string;\n  minute: string;\n  second: string;\n}\n\nexport type TimePart =\n  | \"hour\"\n  | \"hourSuffix\"\n  | \"minute\"\n  | \"minuteSuffix\"\n  | \"second\"\n  | \"decimalSeparator\"\n  | \"fractionalSecond\"\n  | \"secondSuffix\"\n  | \"meridiem\";\n\nexport const maxTenthForMinuteAndSecond = 5;\n\nfunction createLocaleDateTimeFormatter(\n  locale: string,\n  numberingSystem: NumberingSystem,\n  includeSeconds = true,\n  fractionalSecondDigits?: FractionalSecondDigits,\n): Intl.DateTimeFormat {\n  const options: Intl.DateTimeFormatOptions = {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    timeZone: \"UTC\",\n    numberingSystem: getSupportedNumberingSystem(numberingSystem),\n  };\n  if (includeSeconds) {\n    options.second = \"2-digit\";\n    if (fractionalSecondDigits) {\n      options.fractionalSecondDigits = fractionalSecondDigits;\n    }\n  }\n\n  return getDateTimeFormat(locale, options);\n}\n\nexport function formatTimePart(number: number, minLength?: number): string {\n  if (number === null || number === undefined) {\n    return;\n  }\n  const numberAsString = number.toString();\n  const numberDecimalPlaces = decimalPlaces(number);\n  if (number < 1 && numberDecimalPlaces > 0 && numberDecimalPlaces < 4) {\n    const fractionalDigits = numberAsString.replace(\"0.\", \"\");\n    if (!minLength || fractionalDigits.length === minLength) {\n      return fractionalDigits;\n    }\n    if (fractionalDigits.length < minLength) {\n      return fractionalDigits.padEnd(minLength, \"0\");\n    }\n    return fractionalDigits;\n  }\n  if (number >= 0 && number < 10) {\n    return numberAsString.padStart(2, \"0\");\n  }\n  if (number >= 10) {\n    return numberAsString;\n  }\n}\n\nexport function formatTimeString(value: string): string {\n  if (!isValidTime(value)) {\n    return null;\n  }\n  const { hour, minute, second, fractionalSecond } = parseTimeString(value);\n  let formattedValue = `${formatTimePart(parseInt(hour))}:${formatTimePart(parseInt(minute))}`;\n  if (second) {\n    formattedValue += `:${formatTimePart(parseInt(second))}`;\n    if (fractionalSecond) {\n      formattedValue += `.${fractionalSecond}`;\n    }\n  }\n  return formattedValue;\n}\n\nfunction fractionalSecondPartToMilliseconds(fractionalSecondPart: string): number {\n  return parseInt((parseFloat(`0.${fractionalSecondPart}`) / 0.001).toFixed(3));\n}\n\nexport function getLocaleHourCycle(locale: string, numberingSystem: NumberingSystem): HourCycle {\n  const formatter = createLocaleDateTimeFormatter(locale, numberingSystem);\n  const parts = formatter.formatToParts(new Date(Date.UTC(0, 0, 0, 0, 0, 0)));\n  return getLocalizedTimePart(\"meridiem\", parts) ? \"12\" : \"24\";\n}\n\nexport function getLocalizedDecimalSeparator(locale: string, numberingSystem: NumberingSystem): string {\n  numberStringFormatter.numberFormatOptions = {\n    locale,\n    numberingSystem,\n  };\n  return numberStringFormatter.localize(\"1.1\").split(\"\")[1];\n}\n\nexport function getLocalizedTimePartSuffix(\n  part: \"hour\" | \"minute\" | \"second\",\n  locale: string,\n  numberingSystem: NumberingSystem = \"latn\",\n): string {\n  const formatter = createLocaleDateTimeFormatter(locale, numberingSystem);\n  const parts = formatter.formatToParts(new Date(Date.UTC(0, 0, 0, 0, 0, 0)));\n  return getLocalizedTimePart(`${part}Suffix` as TimePart, parts);\n}\n\nfunction getLocalizedTimePart(part: TimePart, parts: Intl.DateTimeFormatPart[]): string {\n  if (!part || !parts) {\n    return null;\n  }\n  if (part === \"hourSuffix\") {\n    const hourIndex = parts.indexOf(parts.find(({ type }): boolean => type === \"hour\"));\n    const minuteIndex = parts.indexOf(parts.find(({ type }): boolean => type === \"minute\"));\n    const hourSuffix = parts[hourIndex + 1];\n    return hourSuffix && hourSuffix.type === \"literal\" && minuteIndex - hourIndex === 2\n      ? hourSuffix.value?.trim() || null\n      : null;\n  }\n  if (part === \"minuteSuffix\") {\n    const minuteIndex = parts.indexOf(parts.find(({ type }): boolean => type === \"minute\"));\n    const secondIndex = parts.indexOf(parts.find(({ type }): boolean => type === \"second\"));\n    const minuteSuffix = parts[minuteIndex + 1];\n    return minuteSuffix && minuteSuffix.type === \"literal\" && secondIndex - minuteIndex === 2\n      ? minuteSuffix.value?.trim() || null\n      : null;\n  }\n  if (part === \"secondSuffix\") {\n    const secondIndex = parts.indexOf(parts.find(({ type }): boolean => type === \"second\"));\n    const secondSuffix = parts[secondIndex + 1];\n    return secondSuffix && secondSuffix.type === \"literal\" ? secondSuffix.value?.trim() || null : null;\n  }\n  return parts.find(({ type }) => (part == \"meridiem\" ? type === \"dayPeriod\" : type === part))?.value || null;\n}\n\nexport function getMeridiem(hour: string): Meridiem {\n  if (!isValidNumber(hour)) {\n    return null;\n  }\n  const hourAsNumber = parseInt(hour);\n  return hourAsNumber >= 0 && hourAsNumber <= 11 ? \"AM\" : \"PM\";\n}\n\nexport function isValidTime(value: string): boolean {\n  if (!value || value.startsWith(\":\") || value.endsWith(\":\")) {\n    return false;\n  }\n  const splitValue = value.split(\":\");\n  const validLength = splitValue.length > 1 && splitValue.length < 4;\n  if (!validLength) {\n    return false;\n  }\n  const [hour, minute, second] = splitValue;\n  const hourAsNumber = parseInt(splitValue[0]);\n  const minuteAsNumber = parseInt(splitValue[1]);\n  const secondAsNumber = parseInt(splitValue[2]);\n  const hourValid = isValidNumber(hour) && hourAsNumber >= 0 && hourAsNumber < 24;\n  const minuteValid = isValidNumber(minute) && minuteAsNumber >= 0 && minuteAsNumber < 60;\n  const secondValid = isValidNumber(second) && secondAsNumber >= 0 && secondAsNumber < 60;\n  if ((hourValid && minuteValid && !second) || (hourValid && minuteValid && secondValid)) {\n    return true;\n  }\n}\n\nfunction isValidTimePart(value: string, part: TimePart): boolean {\n  if (part === \"meridiem\") {\n    return value === \"AM\" || value === \"PM\";\n  }\n  if (!isValidNumber(value)) {\n    return false;\n  }\n  const valueAsNumber = Number(value);\n  return part === \"hour\" ? valueAsNumber >= 0 && valueAsNumber < 24 : valueAsNumber >= 0 && valueAsNumber < 60;\n}\n\ninterface LocalizeTimePartParameters {\n  value: string;\n  part: TimePart;\n  locale: string;\n  numberingSystem: NumberingSystem;\n}\n\nexport function localizeTimePart({ value, part, locale, numberingSystem }: LocalizeTimePartParameters): string {\n  if (part === \"fractionalSecond\") {\n    const localizedDecimalSeparator = getLocalizedDecimalSeparator(locale, numberingSystem);\n    let localizedFractionalSecond = null;\n    if (value) {\n      numberStringFormatter.numberFormatOptions = {\n        locale,\n        numberingSystem,\n      };\n      const localizedZero = numberStringFormatter.localize(\"0\");\n      if (parseInt(value) === 0) {\n        localizedFractionalSecond = \"\".padStart(value.length, localizedZero);\n      } else {\n        localizedFractionalSecond = numberStringFormatter\n          .localize(`0.${value}`)\n          .replace(`${localizedZero}${localizedDecimalSeparator}`, \"\");\n        if (localizedFractionalSecond.length < value.length) {\n          localizedFractionalSecond = localizedFractionalSecond.padEnd(value.length, localizedZero);\n        }\n      }\n    }\n    return localizedFractionalSecond;\n  }\n\n  if (!isValidTimePart(value, part)) {\n    return;\n  }\n  const valueAsNumber = parseInt(value);\n  const date = new Date(\n    Date.UTC(\n      0,\n      0,\n      0,\n      part === \"hour\" ? valueAsNumber : part === \"meridiem\" ? (value === \"AM\" ? 0 : 12) : 0,\n      part === \"minute\" ? valueAsNumber : 0,\n      part === \"second\" ? valueAsNumber : 0,\n    ),\n  );\n  if (!date) {\n    return;\n  }\n  const formatter = createLocaleDateTimeFormatter(locale, numberingSystem);\n  const parts = formatter.formatToParts(date);\n  return getLocalizedTimePart(part, parts);\n}\n\ninterface LocalizeTimeStringParameters {\n  value: string;\n  includeSeconds?: boolean;\n  fractionalSecondDigits?: FractionalSecondDigits;\n  locale: string;\n  numberingSystem: NumberingSystem;\n}\n\nexport function localizeTimeString({\n  value,\n  locale,\n  numberingSystem,\n  includeSeconds = true,\n  fractionalSecondDigits,\n}: LocalizeTimeStringParameters): string {\n  if (!isValidTime(value)) {\n    return null;\n  }\n  const { hour, minute, second = \"0\", fractionalSecond } = parseTimeString(value);\n\n  const dateFromTimeString = new Date(\n    Date.UTC(\n      0,\n      0,\n      0,\n      parseInt(hour),\n      parseInt(minute),\n      parseInt(second),\n      fractionalSecond && fractionalSecondPartToMilliseconds(fractionalSecond),\n    ),\n  );\n  const formatter = createLocaleDateTimeFormatter(locale, numberingSystem, includeSeconds, fractionalSecondDigits);\n  return formatter.format(dateFromTimeString) || null;\n}\n\ninterface LocalizeTimeStringToPartsParameters {\n  value: string;\n  locale: string;\n  numberingSystem?: NumberingSystem;\n}\n\nexport function localizeTimeStringToParts({\n  value,\n  locale,\n  numberingSystem = \"latn\",\n}: LocalizeTimeStringToPartsParameters): LocalizedTime {\n  if (!isValidTime(value)) {\n    return null;\n  }\n  const { hour, minute, second = \"0\", fractionalSecond } = parseTimeString(value);\n  const dateFromTimeString = new Date(Date.UTC(0, 0, 0, parseInt(hour), parseInt(minute), parseInt(second)));\n  if (dateFromTimeString) {\n    const formatter = createLocaleDateTimeFormatter(locale, numberingSystem);\n    const parts = formatter.formatToParts(dateFromTimeString);\n    return {\n      localizedHour: getLocalizedTimePart(\"hour\", parts),\n      localizedHourSuffix: getLocalizedTimePart(\"hourSuffix\", parts),\n      localizedMinute: getLocalizedTimePart(\"minute\", parts),\n      localizedMinuteSuffix: getLocalizedTimePart(\"minuteSuffix\", parts),\n      localizedSecond: getLocalizedTimePart(\"second\", parts),\n      localizedDecimalSeparator: getLocalizedDecimalSeparator(locale, numberingSystem),\n      localizedFractionalSecond: localizeTimePart({\n        value: fractionalSecond,\n        part: \"fractionalSecond\",\n        locale,\n        numberingSystem,\n      }),\n      localizedSecondSuffix: getLocalizedTimePart(\"secondSuffix\", parts),\n      localizedMeridiem: getLocalizedTimePart(\"meridiem\", parts),\n    };\n  }\n  return null;\n}\n\ninterface GetTimePartsParameters {\n  value: string;\n  locale: string;\n  numberingSystem: NumberingSystem;\n}\nexport function getTimeParts({ value, locale, numberingSystem }: GetTimePartsParameters): Intl.DateTimeFormatPart[] {\n  if (!isValidTime(value)) {\n    return null;\n  }\n  const { hour, minute, second = \"0\" } = parseTimeString(value);\n  const dateFromTimeString = new Date(Date.UTC(0, 0, 0, parseInt(hour), parseInt(minute), parseInt(second)));\n  if (dateFromTimeString) {\n    const formatter = createLocaleDateTimeFormatter(locale, numberingSystem);\n    const parts = formatter.formatToParts(dateFromTimeString);\n    return parts;\n  }\n  return null;\n}\n\nexport function parseTimeString(value: string): Time {\n  if (isValidTime(value)) {\n    const [hour, minute, secondDecimal] = value.split(\":\");\n    let second = secondDecimal;\n    let fractionalSecond = null;\n    if (secondDecimal?.includes(\".\")) {\n      [second, fractionalSecond] = secondDecimal.split(\".\");\n    }\n    return {\n      fractionalSecond,\n      hour,\n      minute,\n      second,\n    };\n  }\n  return {\n    fractionalSecond: null,\n    hour: null,\n    minute: null,\n    second: null,\n  };\n}\n\nexport function toISOTimeString(value: string, includeSeconds = true): string {\n  if (!isValidTime(value)) {\n    return \"\";\n  }\n  const { hour, minute, second, fractionalSecond } = parseTimeString(value);\n\n  let isoTimeString = `${formatTimePart(parseInt(hour))}:${formatTimePart(parseInt(minute))}`;\n\n  if (includeSeconds) {\n    isoTimeString += `:${formatTimePart(parseInt((includeSeconds && second) || \"0\"))}`;\n    if (fractionalSecond) {\n      isoTimeString += `.${fractionalSecond}`;\n    }\n  }\n\n  return isoTimeString;\n}\n","export const CSS = {\n  toggleIcon: \"toggle-icon\",\n};\n","export var SECONDS_A_MINUTE = 60;\nexport var SECONDS_A_HOUR = SECONDS_A_MINUTE * 60;\nexport var SECONDS_A_DAY = SECONDS_A_HOUR * 24;\nexport var SECONDS_A_WEEK = SECONDS_A_DAY * 7;\nexport var MILLISECONDS_A_SECOND = 1e3;\nexport var MILLISECONDS_A_MINUTE = SECONDS_A_MINUTE * MILLISECONDS_A_SECOND;\nexport var MILLISECONDS_A_HOUR = SECONDS_A_HOUR * MILLISECONDS_A_SECOND;\nexport var MILLISECONDS_A_DAY = SECONDS_A_DAY * MILLISECONDS_A_SECOND;\nexport var MILLISECONDS_A_WEEK = SECONDS_A_WEEK * MILLISECONDS_A_SECOND; // English locales\n\nexport var MS = 'millisecond';\nexport var S = 'second';\nexport var MIN = 'minute';\nexport var H = 'hour';\nexport var D = 'day';\nexport var W = 'week';\nexport var M = 'month';\nexport var Q = 'quarter';\nexport var Y = 'year';\nexport var DATE = 'date';\nexport var FORMAT_DEFAULT = 'YYYY-MM-DDTHH:mm:ssZ';\nexport var INVALID_DATE_STRING = 'Invalid Date'; // regex\n\nexport var REGEX_PARSE = /^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/;\nexport var REGEX_FORMAT = /\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g;","// English [en]\n// We don't need weekdaysShort, weekdaysMin, monthsShort in en.js locale\nexport default {\n  name: 'en',\n  weekdays: 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n  months: 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n  ordinal: function ordinal(n) {\n    var s = ['th', 'st', 'nd', 'rd'];\n    var v = n % 100;\n    return \"[\" + n + (s[(v - 20) % 10] || s[v] || s[0]) + \"]\";\n  }\n};","import * as C from './constant';\n\nvar padStart = function padStart(string, length, pad) {\n  var s = String(string);\n  if (!s || s.length >= length) return string;\n  return \"\" + Array(length + 1 - s.length).join(pad) + string;\n};\n\nvar padZoneStr = function padZoneStr(instance) {\n  var negMinutes = -instance.utcOffset();\n  var minutes = Math.abs(negMinutes);\n  var hourOffset = Math.floor(minutes / 60);\n  var minuteOffset = minutes % 60;\n  return \"\" + (negMinutes <= 0 ? '+' : '-') + padStart(hourOffset, 2, '0') + \":\" + padStart(minuteOffset, 2, '0');\n};\n\nvar monthDiff = function monthDiff(a, b) {\n  // function from moment.js in order to keep the same result\n  if (a.date() < b.date()) return -monthDiff(b, a);\n  var wholeMonthDiff = (b.year() - a.year()) * 12 + (b.month() - a.month());\n  var anchor = a.clone().add(wholeMonthDiff, C.M);\n  var c = b - anchor < 0;\n  var anchor2 = a.clone().add(wholeMonthDiff + (c ? -1 : 1), C.M);\n  return +(-(wholeMonthDiff + (b - anchor) / (c ? anchor - anchor2 : anchor2 - anchor)) || 0);\n};\n\nvar absFloor = function absFloor(n) {\n  return n < 0 ? Math.ceil(n) || 0 : Math.floor(n);\n};\n\nvar prettyUnit = function prettyUnit(u) {\n  var special = {\n    M: C.M,\n    y: C.Y,\n    w: C.W,\n    d: C.D,\n    D: C.DATE,\n    h: C.H,\n    m: C.MIN,\n    s: C.S,\n    ms: C.MS,\n    Q: C.Q\n  };\n  return special[u] || String(u || '').toLowerCase().replace(/s$/, '');\n};\n\nvar isUndefined = function isUndefined(s) {\n  return s === undefined;\n};\n\nexport default {\n  s: padStart,\n  z: padZoneStr,\n  m: monthDiff,\n  a: absFloor,\n  p: prettyUnit,\n  u: isUndefined\n};","import * as C from './constant';\nimport en from './locale/en';\nimport U from './utils';\nvar L = 'en'; // global locale\n\nvar Ls = {}; // global loaded locale\n\nLs[L] = en;\nvar IS_DAYJS = '$isDayjsObject'; // eslint-disable-next-line no-use-before-define\n\nvar isDayjs = function isDayjs(d) {\n  return d instanceof Dayjs || !!(d && d[IS_DAYJS]);\n};\n\nvar parseLocale = function parseLocale(preset, object, isLocal) {\n  var l;\n  if (!preset) return L;\n\n  if (typeof preset === 'string') {\n    var presetLower = preset.toLowerCase();\n\n    if (Ls[presetLower]) {\n      l = presetLower;\n    }\n\n    if (object) {\n      Ls[presetLower] = object;\n      l = presetLower;\n    }\n\n    var presetSplit = preset.split('-');\n\n    if (!l && presetSplit.length > 1) {\n      return parseLocale(presetSplit[0]);\n    }\n  } else {\n    var name = preset.name;\n    Ls[name] = preset;\n    l = name;\n  }\n\n  if (!isLocal && l) L = l;\n  return l || !isLocal && L;\n};\n\nvar dayjs = function dayjs(date, c) {\n  if (isDayjs(date)) {\n    return date.clone();\n  } // eslint-disable-next-line no-nested-ternary\n\n\n  var cfg = typeof c === 'object' ? c : {};\n  cfg.date = date;\n  cfg.args = arguments; // eslint-disable-line prefer-rest-params\n\n  return new Dayjs(cfg); // eslint-disable-line no-use-before-define\n};\n\nvar wrapper = function wrapper(date, instance) {\n  return dayjs(date, {\n    locale: instance.$L,\n    utc: instance.$u,\n    x: instance.$x,\n    $offset: instance.$offset // todo: refactor; do not use this.$offset in you code\n\n  });\n};\n\nvar Utils = U; // for plugin use\n\nUtils.l = parseLocale;\nUtils.i = isDayjs;\nUtils.w = wrapper;\n\nvar parseDate = function parseDate(cfg) {\n  var date = cfg.date,\n      utc = cfg.utc;\n  if (date === null) return new Date(NaN); // null is invalid\n\n  if (Utils.u(date)) return new Date(); // today\n\n  if (date instanceof Date) return new Date(date);\n\n  if (typeof date === 'string' && !/Z$/i.test(date)) {\n    var d = date.match(C.REGEX_PARSE);\n\n    if (d) {\n      var m = d[2] - 1 || 0;\n      var ms = (d[7] || '0').substring(0, 3);\n\n      if (utc) {\n        return new Date(Date.UTC(d[1], m, d[3] || 1, d[4] || 0, d[5] || 0, d[6] || 0, ms));\n      }\n\n      return new Date(d[1], m, d[3] || 1, d[4] || 0, d[5] || 0, d[6] || 0, ms);\n    }\n  }\n\n  return new Date(date); // everything else\n};\n\nvar Dayjs = /*#__PURE__*/function () {\n  function Dayjs(cfg) {\n    this.$L = parseLocale(cfg.locale, null, true);\n    this.parse(cfg); // for plugin\n\n    this.$x = this.$x || cfg.x || {};\n    this[IS_DAYJS] = true;\n  }\n\n  var _proto = Dayjs.prototype;\n\n  _proto.parse = function parse(cfg) {\n    this.$d = parseDate(cfg);\n    this.init();\n  };\n\n  _proto.init = function init() {\n    var $d = this.$d;\n    this.$y = $d.getFullYear();\n    this.$M = $d.getMonth();\n    this.$D = $d.getDate();\n    this.$W = $d.getDay();\n    this.$H = $d.getHours();\n    this.$m = $d.getMinutes();\n    this.$s = $d.getSeconds();\n    this.$ms = $d.getMilliseconds();\n  } // eslint-disable-next-line class-methods-use-this\n  ;\n\n  _proto.$utils = function $utils() {\n    return Utils;\n  };\n\n  _proto.isValid = function isValid() {\n    return !(this.$d.toString() === C.INVALID_DATE_STRING);\n  };\n\n  _proto.isSame = function isSame(that, units) {\n    var other = dayjs(that);\n    return this.startOf(units) <= other && other <= this.endOf(units);\n  };\n\n  _proto.isAfter = function isAfter(that, units) {\n    return dayjs(that) < this.startOf(units);\n  };\n\n  _proto.isBefore = function isBefore(that, units) {\n    return this.endOf(units) < dayjs(that);\n  };\n\n  _proto.$g = function $g(input, get, set) {\n    if (Utils.u(input)) return this[get];\n    return this.set(set, input);\n  };\n\n  _proto.unix = function unix() {\n    return Math.floor(this.valueOf() / 1000);\n  };\n\n  _proto.valueOf = function valueOf() {\n    // timezone(hour) * 60 * 60 * 1000 => ms\n    return this.$d.getTime();\n  };\n\n  _proto.startOf = function startOf(units, _startOf) {\n    var _this = this;\n\n    // startOf -> endOf\n    var isStartOf = !Utils.u(_startOf) ? _startOf : true;\n    var unit = Utils.p(units);\n\n    var instanceFactory = function instanceFactory(d, m) {\n      var ins = Utils.w(_this.$u ? Date.UTC(_this.$y, m, d) : new Date(_this.$y, m, d), _this);\n      return isStartOf ? ins : ins.endOf(C.D);\n    };\n\n    var instanceFactorySet = function instanceFactorySet(method, slice) {\n      var argumentStart = [0, 0, 0, 0];\n      var argumentEnd = [23, 59, 59, 999];\n      return Utils.w(_this.toDate()[method].apply( // eslint-disable-line prefer-spread\n      _this.toDate('s'), (isStartOf ? argumentStart : argumentEnd).slice(slice)), _this);\n    };\n\n    var $W = this.$W,\n        $M = this.$M,\n        $D = this.$D;\n    var utcPad = \"set\" + (this.$u ? 'UTC' : '');\n\n    switch (unit) {\n      case C.Y:\n        return isStartOf ? instanceFactory(1, 0) : instanceFactory(31, 11);\n\n      case C.M:\n        return isStartOf ? instanceFactory(1, $M) : instanceFactory(0, $M + 1);\n\n      case C.W:\n        {\n          var weekStart = this.$locale().weekStart || 0;\n          var gap = ($W < weekStart ? $W + 7 : $W) - weekStart;\n          return instanceFactory(isStartOf ? $D - gap : $D + (6 - gap), $M);\n        }\n\n      case C.D:\n      case C.DATE:\n        return instanceFactorySet(utcPad + \"Hours\", 0);\n\n      case C.H:\n        return instanceFactorySet(utcPad + \"Minutes\", 1);\n\n      case C.MIN:\n        return instanceFactorySet(utcPad + \"Seconds\", 2);\n\n      case C.S:\n        return instanceFactorySet(utcPad + \"Milliseconds\", 3);\n\n      default:\n        return this.clone();\n    }\n  };\n\n  _proto.endOf = function endOf(arg) {\n    return this.startOf(arg, false);\n  };\n\n  _proto.$set = function $set(units, _int) {\n    var _C$D$C$DATE$C$M$C$Y$C;\n\n    // private set\n    var unit = Utils.p(units);\n    var utcPad = \"set\" + (this.$u ? 'UTC' : '');\n    var name = (_C$D$C$DATE$C$M$C$Y$C = {}, _C$D$C$DATE$C$M$C$Y$C[C.D] = utcPad + \"Date\", _C$D$C$DATE$C$M$C$Y$C[C.DATE] = utcPad + \"Date\", _C$D$C$DATE$C$M$C$Y$C[C.M] = utcPad + \"Month\", _C$D$C$DATE$C$M$C$Y$C[C.Y] = utcPad + \"FullYear\", _C$D$C$DATE$C$M$C$Y$C[C.H] = utcPad + \"Hours\", _C$D$C$DATE$C$M$C$Y$C[C.MIN] = utcPad + \"Minutes\", _C$D$C$DATE$C$M$C$Y$C[C.S] = utcPad + \"Seconds\", _C$D$C$DATE$C$M$C$Y$C[C.MS] = utcPad + \"Milliseconds\", _C$D$C$DATE$C$M$C$Y$C)[unit];\n    var arg = unit === C.D ? this.$D + (_int - this.$W) : _int;\n\n    if (unit === C.M || unit === C.Y) {\n      // clone is for badMutable plugin\n      var date = this.clone().set(C.DATE, 1);\n      date.$d[name](arg);\n      date.init();\n      this.$d = date.set(C.DATE, Math.min(this.$D, date.daysInMonth())).$d;\n    } else if (name) this.$d[name](arg);\n\n    this.init();\n    return this;\n  };\n\n  _proto.set = function set(string, _int2) {\n    return this.clone().$set(string, _int2);\n  };\n\n  _proto.get = function get(unit) {\n    return this[Utils.p(unit)]();\n  };\n\n  _proto.add = function add(number, units) {\n    var _this2 = this,\n        _C$MIN$C$H$C$S$unit;\n\n    number = Number(number); // eslint-disable-line no-param-reassign\n\n    var unit = Utils.p(units);\n\n    var instanceFactorySet = function instanceFactorySet(n) {\n      var d = dayjs(_this2);\n      return Utils.w(d.date(d.date() + Math.round(n * number)), _this2);\n    };\n\n    if (unit === C.M) {\n      return this.set(C.M, this.$M + number);\n    }\n\n    if (unit === C.Y) {\n      return this.set(C.Y, this.$y + number);\n    }\n\n    if (unit === C.D) {\n      return instanceFactorySet(1);\n    }\n\n    if (unit === C.W) {\n      return instanceFactorySet(7);\n    }\n\n    var step = (_C$MIN$C$H$C$S$unit = {}, _C$MIN$C$H$C$S$unit[C.MIN] = C.MILLISECONDS_A_MINUTE, _C$MIN$C$H$C$S$unit[C.H] = C.MILLISECONDS_A_HOUR, _C$MIN$C$H$C$S$unit[C.S] = C.MILLISECONDS_A_SECOND, _C$MIN$C$H$C$S$unit)[unit] || 1; // ms\n\n    var nextTimeStamp = this.$d.getTime() + number * step;\n    return Utils.w(nextTimeStamp, this);\n  };\n\n  _proto.subtract = function subtract(number, string) {\n    return this.add(number * -1, string);\n  };\n\n  _proto.format = function format(formatStr) {\n    var _this3 = this;\n\n    var locale = this.$locale();\n    if (!this.isValid()) return locale.invalidDate || C.INVALID_DATE_STRING;\n    var str = formatStr || C.FORMAT_DEFAULT;\n    var zoneStr = Utils.z(this);\n    var $H = this.$H,\n        $m = this.$m,\n        $M = this.$M;\n    var weekdays = locale.weekdays,\n        months = locale.months,\n        meridiem = locale.meridiem;\n\n    var getShort = function getShort(arr, index, full, length) {\n      return arr && (arr[index] || arr(_this3, str)) || full[index].slice(0, length);\n    };\n\n    var get$H = function get$H(num) {\n      return Utils.s($H % 12 || 12, num, '0');\n    };\n\n    var meridiemFunc = meridiem || function (hour, minute, isLowercase) {\n      var m = hour < 12 ? 'AM' : 'PM';\n      return isLowercase ? m.toLowerCase() : m;\n    };\n\n    var matches = function matches(match) {\n      switch (match) {\n        case 'YY':\n          return String(_this3.$y).slice(-2);\n\n        case 'YYYY':\n          return Utils.s(_this3.$y, 4, '0');\n\n        case 'M':\n          return $M + 1;\n\n        case 'MM':\n          return Utils.s($M + 1, 2, '0');\n\n        case 'MMM':\n          return getShort(locale.monthsShort, $M, months, 3);\n\n        case 'MMMM':\n          return getShort(months, $M);\n\n        case 'D':\n          return _this3.$D;\n\n        case 'DD':\n          return Utils.s(_this3.$D, 2, '0');\n\n        case 'd':\n          return String(_this3.$W);\n\n        case 'dd':\n          return getShort(locale.weekdaysMin, _this3.$W, weekdays, 2);\n\n        case 'ddd':\n          return getShort(locale.weekdaysShort, _this3.$W, weekdays, 3);\n\n        case 'dddd':\n          return weekdays[_this3.$W];\n\n        case 'H':\n          return String($H);\n\n        case 'HH':\n          return Utils.s($H, 2, '0');\n\n        case 'h':\n          return get$H(1);\n\n        case 'hh':\n          return get$H(2);\n\n        case 'a':\n          return meridiemFunc($H, $m, true);\n\n        case 'A':\n          return meridiemFunc($H, $m, false);\n\n        case 'm':\n          return String($m);\n\n        case 'mm':\n          return Utils.s($m, 2, '0');\n\n        case 's':\n          return String(_this3.$s);\n\n        case 'ss':\n          return Utils.s(_this3.$s, 2, '0');\n\n        case 'SSS':\n          return Utils.s(_this3.$ms, 3, '0');\n\n        case 'Z':\n          return zoneStr;\n        // 'ZZ' logic below\n\n        default:\n          break;\n      }\n\n      return null;\n    };\n\n    return str.replace(C.REGEX_FORMAT, function (match, $1) {\n      return $1 || matches(match) || zoneStr.replace(':', '');\n    }); // 'ZZ'\n  };\n\n  _proto.utcOffset = function utcOffset() {\n    // Because a bug at FF24, we're rounding the timezone offset around 15 minutes\n    // https://github.com/moment/moment/pull/1871\n    return -Math.round(this.$d.getTimezoneOffset() / 15) * 15;\n  };\n\n  _proto.diff = function diff(input, units, _float) {\n    var _this4 = this;\n\n    var unit = Utils.p(units);\n    var that = dayjs(input);\n    var zoneDelta = (that.utcOffset() - this.utcOffset()) * C.MILLISECONDS_A_MINUTE;\n    var diff = this - that;\n\n    var getMonth = function getMonth() {\n      return Utils.m(_this4, that);\n    };\n\n    var result;\n\n    switch (unit) {\n      case C.Y:\n        result = getMonth() / 12;\n        break;\n\n      case C.M:\n        result = getMonth();\n        break;\n\n      case C.Q:\n        result = getMonth() / 3;\n        break;\n\n      case C.W:\n        result = (diff - zoneDelta) / C.MILLISECONDS_A_WEEK;\n        break;\n\n      case C.D:\n        result = (diff - zoneDelta) / C.MILLISECONDS_A_DAY;\n        break;\n\n      case C.H:\n        result = diff / C.MILLISECONDS_A_HOUR;\n        break;\n\n      case C.MIN:\n        result = diff / C.MILLISECONDS_A_MINUTE;\n        break;\n\n      case C.S:\n        result = diff / C.MILLISECONDS_A_SECOND;\n        break;\n\n      default:\n        result = diff; // milliseconds\n\n        break;\n    }\n\n    return _float ? result : Utils.a(result);\n  };\n\n  _proto.daysInMonth = function daysInMonth() {\n    return this.endOf(C.M).$D;\n  };\n\n  _proto.$locale = function $locale() {\n    // get locale object\n    return Ls[this.$L];\n  };\n\n  _proto.locale = function locale(preset, object) {\n    if (!preset) return this.$L;\n    var that = this.clone();\n    var nextLocaleName = parseLocale(preset, object, true);\n    if (nextLocaleName) that.$L = nextLocaleName;\n    return that;\n  };\n\n  _proto.clone = function clone() {\n    return Utils.w(this.$d, this);\n  };\n\n  _proto.toDate = function toDate() {\n    return new Date(this.valueOf());\n  };\n\n  _proto.toJSON = function toJSON() {\n    return this.isValid() ? this.toISOString() : null;\n  };\n\n  _proto.toISOString = function toISOString() {\n    // ie 8 return\n    // new Dayjs(this.valueOf() + this.$d.getTimezoneOffset() * 60000)\n    // .format('YYYY-MM-DDTHH:mm:ss.SSS[Z]')\n    return this.$d.toISOString();\n  };\n\n  _proto.toString = function toString() {\n    return this.$d.toUTCString();\n  };\n\n  return Dayjs;\n}();\n\nvar proto = Dayjs.prototype;\ndayjs.prototype = proto;\n[['$ms', C.MS], ['$s', C.S], ['$m', C.MIN], ['$H', C.H], ['$W', C.D], ['$M', C.M], ['$y', C.Y], ['$D', C.DATE]].forEach(function (g) {\n  proto[g[1]] = function (input) {\n    return this.$g(input, g[0], g[1]);\n  };\n});\n\ndayjs.extend = function (plugin, option) {\n  if (!plugin.$i) {\n    // install plugin only once\n    plugin(option, Dayjs, dayjs);\n    plugin.$i = true;\n  }\n\n  return dayjs;\n};\n\ndayjs.locale = parseLocale;\ndayjs.isDayjs = isDayjs;\n\ndayjs.unix = function (timestamp) {\n  return dayjs(timestamp * 1e3);\n};\n\ndayjs.en = Ls[L];\ndayjs.Ls = Ls;\ndayjs.p = {};\nexport default dayjs;","// eslint-disable-next-line import/prefer-default-export\nexport var t = function t(format) {\n  return format.replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g, function (_, a, b) {\n    return a || b.slice(1);\n  });\n};\nexport var englishFormats = {\n  LTS: 'h:mm:ss A',\n  LT: 'h:mm A',\n  L: 'MM/DD/YYYY',\n  LL: 'MMMM D, YYYY',\n  LLL: 'MMMM D, YYYY h:mm A',\n  LLLL: 'dddd, MMMM D, YYYY h:mm A'\n};\nexport var u = function u(formatStr, formats) {\n  return formatStr.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g, function (_, a, b) {\n    var B = b && b.toUpperCase();\n    return a || formats[b] || englishFormats[b] || t(formats[B]);\n  });\n};","import { u } from '../localizedFormat/utils';\nvar formattingTokens = /(\\[[^[]*\\])|([-_:/.,()\\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g;\nvar match1 = /\\d/; // 0 - 9\n\nvar match2 = /\\d\\d/; // 00 - 99\n\nvar match3 = /\\d{3}/; // 000 - 999\n\nvar match4 = /\\d{4}/; // 0000 - 9999\n\nvar match1to2 = /\\d\\d?/; // 0 - 99\n\nvar matchSigned = /[+-]?\\d+/; // -inf - inf\n\nvar matchOffset = /[+-]\\d\\d:?(\\d\\d)?|Z/; // +00:00 -00:00 +0000 or -0000 +00 or Z\n\nvar matchWord = /\\d*[^-_:/,()\\s\\d]+/; // Word\n\nvar locale = {};\n\nvar parseTwoDigitYear = function parseTwoDigitYear(input) {\n  input = +input;\n  return input + (input > 68 ? 1900 : 2000);\n};\n\nfunction offsetFromString(string) {\n  if (!string) return 0;\n  if (string === 'Z') return 0;\n  var parts = string.match(/([+-]|\\d\\d)/g);\n  var minutes = +(parts[1] * 60) + (+parts[2] || 0);\n  return minutes === 0 ? 0 : parts[0] === '+' ? -minutes : minutes; // eslint-disable-line no-nested-ternary\n}\n\nvar addInput = function addInput(property) {\n  return function (input) {\n    this[property] = +input;\n  };\n};\n\nvar zoneExpressions = [matchOffset, function (input) {\n  var zone = this.zone || (this.zone = {});\n  zone.offset = offsetFromString(input);\n}];\n\nvar getLocalePart = function getLocalePart(name) {\n  var part = locale[name];\n  return part && (part.indexOf ? part : part.s.concat(part.f));\n};\n\nvar meridiemMatch = function meridiemMatch(input, isLowerCase) {\n  var isAfternoon;\n  var _locale = locale,\n      meridiem = _locale.meridiem;\n\n  if (!meridiem) {\n    isAfternoon = input === (isLowerCase ? 'pm' : 'PM');\n  } else {\n    for (var i = 1; i <= 24; i += 1) {\n      // todo: fix input === meridiem(i, 0, isLowerCase)\n      if (input.indexOf(meridiem(i, 0, isLowerCase)) > -1) {\n        isAfternoon = i > 12;\n        break;\n      }\n    }\n  }\n\n  return isAfternoon;\n};\n\nvar expressions = {\n  A: [matchWord, function (input) {\n    this.afternoon = meridiemMatch(input, false);\n  }],\n  a: [matchWord, function (input) {\n    this.afternoon = meridiemMatch(input, true);\n  }],\n  S: [match1, function (input) {\n    this.milliseconds = +input * 100;\n  }],\n  SS: [match2, function (input) {\n    this.milliseconds = +input * 10;\n  }],\n  SSS: [match3, function (input) {\n    this.milliseconds = +input;\n  }],\n  s: [match1to2, addInput('seconds')],\n  ss: [match1to2, addInput('seconds')],\n  m: [match1to2, addInput('minutes')],\n  mm: [match1to2, addInput('minutes')],\n  H: [match1to2, addInput('hours')],\n  h: [match1to2, addInput('hours')],\n  HH: [match1to2, addInput('hours')],\n  hh: [match1to2, addInput('hours')],\n  D: [match1to2, addInput('day')],\n  DD: [match2, addInput('day')],\n  Do: [matchWord, function (input) {\n    var _locale2 = locale,\n        ordinal = _locale2.ordinal;\n\n    var _input$match = input.match(/\\d+/);\n\n    this.day = _input$match[0];\n    if (!ordinal) return;\n\n    for (var i = 1; i <= 31; i += 1) {\n      if (ordinal(i).replace(/\\[|\\]/g, '') === input) {\n        this.day = i;\n      }\n    }\n  }],\n  M: [match1to2, addInput('month')],\n  MM: [match2, addInput('month')],\n  MMM: [matchWord, function (input) {\n    var months = getLocalePart('months');\n    var monthsShort = getLocalePart('monthsShort');\n    var matchIndex = (monthsShort || months.map(function (_) {\n      return _.slice(0, 3);\n    })).indexOf(input) + 1;\n\n    if (matchIndex < 1) {\n      throw new Error();\n    }\n\n    this.month = matchIndex % 12 || matchIndex;\n  }],\n  MMMM: [matchWord, function (input) {\n    var months = getLocalePart('months');\n    var matchIndex = months.indexOf(input) + 1;\n\n    if (matchIndex < 1) {\n      throw new Error();\n    }\n\n    this.month = matchIndex % 12 || matchIndex;\n  }],\n  Y: [matchSigned, addInput('year')],\n  YY: [match2, function (input) {\n    this.year = parseTwoDigitYear(input);\n  }],\n  YYYY: [match4, addInput('year')],\n  Z: zoneExpressions,\n  ZZ: zoneExpressions\n};\n\nfunction correctHours(time) {\n  var afternoon = time.afternoon;\n\n  if (afternoon !== undefined) {\n    var hours = time.hours;\n\n    if (afternoon) {\n      if (hours < 12) {\n        time.hours += 12;\n      }\n    } else if (hours === 12) {\n      time.hours = 0;\n    }\n\n    delete time.afternoon;\n  }\n}\n\nfunction makeParser(format) {\n  format = u(format, locale && locale.formats);\n  var array = format.match(formattingTokens);\n  var length = array.length;\n\n  for (var i = 0; i < length; i += 1) {\n    var token = array[i];\n    var parseTo = expressions[token];\n    var regex = parseTo && parseTo[0];\n    var parser = parseTo && parseTo[1];\n\n    if (parser) {\n      array[i] = {\n        regex: regex,\n        parser: parser\n      };\n    } else {\n      array[i] = token.replace(/^\\[|\\]$/g, '');\n    }\n  }\n\n  return function (input) {\n    var time = {};\n\n    for (var _i = 0, start = 0; _i < length; _i += 1) {\n      var _token = array[_i];\n\n      if (typeof _token === 'string') {\n        start += _token.length;\n      } else {\n        var _regex = _token.regex,\n            _parser = _token.parser;\n        var part = input.slice(start);\n\n        var match = _regex.exec(part);\n\n        var value = match[0];\n\n        _parser.call(time, value);\n\n        input = input.replace(value, '');\n      }\n    }\n\n    correctHours(time);\n    return time;\n  };\n}\n\nvar parseFormattedInput = function parseFormattedInput(input, format, utc) {\n  try {\n    if (['x', 'X'].indexOf(format) > -1) return new Date((format === 'X' ? 1000 : 1) * input);\n    var parser = makeParser(format);\n\n    var _parser2 = parser(input),\n        year = _parser2.year,\n        month = _parser2.month,\n        day = _parser2.day,\n        hours = _parser2.hours,\n        minutes = _parser2.minutes,\n        seconds = _parser2.seconds,\n        milliseconds = _parser2.milliseconds,\n        zone = _parser2.zone;\n\n    var now = new Date();\n    var d = day || (!year && !month ? now.getDate() : 1);\n    var y = year || now.getFullYear();\n    var M = 0;\n\n    if (!(year && !month)) {\n      M = month > 0 ? month - 1 : now.getMonth();\n    }\n\n    var h = hours || 0;\n    var m = minutes || 0;\n    var s = seconds || 0;\n    var ms = milliseconds || 0;\n\n    if (zone) {\n      return new Date(Date.UTC(y, M, d, h, m, s, ms + zone.offset * 60 * 1000));\n    }\n\n    if (utc) {\n      return new Date(Date.UTC(y, M, d, h, m, s, ms));\n    }\n\n    return new Date(y, M, d, h, m, s, ms);\n  } catch (e) {\n    return new Date(''); // Invalid Date\n  }\n};\n\nexport default (function (o, C, d) {\n  d.p.customParseFormat = true;\n\n  if (o && o.parseTwoDigitYear) {\n    parseTwoDigitYear = o.parseTwoDigitYear;\n  }\n\n  var proto = C.prototype;\n  var oldParse = proto.parse;\n\n  proto.parse = function (cfg) {\n    var date = cfg.date,\n        utc = cfg.utc,\n        args = cfg.args;\n    this.$u = utc;\n    var format = args[1];\n\n    if (typeof format === 'string') {\n      var isStrictWithoutLocale = args[2] === true;\n      var isStrictWithLocale = args[3] === true;\n      var isStrict = isStrictWithoutLocale || isStrictWithLocale;\n      var pl = args[2];\n\n      if (isStrictWithLocale) {\n        pl = args[2];\n      }\n\n      locale = this.$locale();\n\n      if (!isStrictWithoutLocale && pl) {\n        locale = d.Ls[pl];\n      }\n\n      this.$d = parseFormattedInput(date, format, utc);\n      this.init();\n      if (pl && pl !== true) this.$L = this.locale(pl).$L; // use != to treat\n      // input number 1410715640579 and format string '1410715640579' equal\n      // eslint-disable-next-line eqeqeq\n\n      if (isStrict && date != this.format(format)) {\n        this.$d = new Date('');\n      } // reset global locale to make parallel unit test\n\n\n      locale = {};\n    } else if (format instanceof Array) {\n      var len = format.length;\n\n      for (var i = 1; i <= len; i += 1) {\n        args[1] = format[i - 1];\n        var result = d.apply(this, args);\n\n        if (result.isValid()) {\n          this.$d = result.$d;\n          this.$L = result.$L;\n          this.init();\n          break;\n        }\n\n        if (i === len) this.$d = new Date('');\n      }\n    } else {\n      oldParse.call(this, cfg);\n    }\n  };\n});","import { t } from '../localizedFormat/utils';\nexport default (function (o, c, dayjs) {\n  // locale needed later\n  var proto = c.prototype;\n\n  var getLocalePart = function getLocalePart(part) {\n    return part && (part.indexOf ? part : part.s);\n  };\n\n  var getShort = function getShort(ins, target, full, num, localeOrder) {\n    var locale = ins.name ? ins : ins.$locale();\n    var targetLocale = getLocalePart(locale[target]);\n    var fullLocale = getLocalePart(locale[full]);\n    var result = targetLocale || fullLocale.map(function (f) {\n      return f.slice(0, num);\n    });\n    if (!localeOrder) return result;\n    var weekStart = locale.weekStart;\n    return result.map(function (_, index) {\n      return result[(index + (weekStart || 0)) % 7];\n    });\n  };\n\n  var getDayjsLocaleObject = function getDayjsLocaleObject() {\n    return dayjs.Ls[dayjs.locale()];\n  };\n\n  var getLongDateFormat = function getLongDateFormat(l, format) {\n    return l.formats[format] || t(l.formats[format.toUpperCase()]);\n  };\n\n  var localeData = function localeData() {\n    var _this = this;\n\n    return {\n      months: function months(instance) {\n        return instance ? instance.format('MMMM') : getShort(_this, 'months');\n      },\n      monthsShort: function monthsShort(instance) {\n        return instance ? instance.format('MMM') : getShort(_this, 'monthsShort', 'months', 3);\n      },\n      firstDayOfWeek: function firstDayOfWeek() {\n        return _this.$locale().weekStart || 0;\n      },\n      weekdays: function weekdays(instance) {\n        return instance ? instance.format('dddd') : getShort(_this, 'weekdays');\n      },\n      weekdaysMin: function weekdaysMin(instance) {\n        return instance ? instance.format('dd') : getShort(_this, 'weekdaysMin', 'weekdays', 2);\n      },\n      weekdaysShort: function weekdaysShort(instance) {\n        return instance ? instance.format('ddd') : getShort(_this, 'weekdaysShort', 'weekdays', 3);\n      },\n      longDateFormat: function longDateFormat(format) {\n        return getLongDateFormat(_this.$locale(), format);\n      },\n      meridiem: this.$locale().meridiem,\n      ordinal: this.$locale().ordinal\n    };\n  };\n\n  proto.localeData = function () {\n    return localeData.bind(this)();\n  };\n\n  dayjs.localeData = function () {\n    var localeObject = getDayjsLocaleObject();\n    return {\n      firstDayOfWeek: function firstDayOfWeek() {\n        return localeObject.weekStart || 0;\n      },\n      weekdays: function weekdays() {\n        return dayjs.weekdays();\n      },\n      weekdaysShort: function weekdaysShort() {\n        return dayjs.weekdaysShort();\n      },\n      weekdaysMin: function weekdaysMin() {\n        return dayjs.weekdaysMin();\n      },\n      months: function months() {\n        return dayjs.months();\n      },\n      monthsShort: function monthsShort() {\n        return dayjs.monthsShort();\n      },\n      longDateFormat: function longDateFormat(format) {\n        return getLongDateFormat(localeObject, format);\n      },\n      meridiem: localeObject.meridiem,\n      ordinal: localeObject.ordinal\n    };\n  };\n\n  dayjs.months = function () {\n    return getShort(getDayjsLocaleObject(), 'months');\n  };\n\n  dayjs.monthsShort = function () {\n    return getShort(getDayjsLocaleObject(), 'monthsShort', 'months', 3);\n  };\n\n  dayjs.weekdays = function (localeOrder) {\n    return getShort(getDayjsLocaleObject(), 'weekdays', null, null, localeOrder);\n  };\n\n  dayjs.weekdaysShort = function (localeOrder) {\n    return getShort(getDayjsLocaleObject(), 'weekdaysShort', 'weekdays', 3, localeOrder);\n  };\n\n  dayjs.weekdaysMin = function (localeOrder) {\n    return getShort(getDayjsLocaleObject(), 'weekdaysMin', 'weekdays', 2, localeOrder);\n  };\n});","import { FORMAT_DEFAULT } from '../../constant';\nimport { u, englishFormats } from './utils';\nexport default (function (o, c, d) {\n  var proto = c.prototype;\n  var oldFormat = proto.format;\n  d.en.formats = englishFormats;\n\n  proto.format = function (formatStr) {\n    if (formatStr === void 0) {\n      formatStr = FORMAT_DEFAULT;\n    }\n\n    var _this$$locale = this.$locale(),\n        _this$$locale$formats = _this$$locale.formats,\n        formats = _this$$locale$formats === void 0 ? {} : _this$$locale$formats;\n\n    var result = u(formatStr, formats);\n    return oldFormat.call(this, result);\n  };\n});","// Plugin template from https://day.js.org/docs/en/plugin/plugin\nexport default (function (option, dayjsClass) {\n  var oldParse = dayjsClass.prototype.parse;\n\n  dayjsClass.prototype.parse = function (cfg) {\n    if (typeof cfg.date === 'string') {\n      var locale = this.$locale();\n      cfg.date = locale && locale.preparse ? locale.preparse(cfg.date) : cfg.date;\n    } // original parse result\n\n\n    return oldParse.bind(this)(cfg);\n  }; // // overriding existing API\n  // // e.g. extend dayjs().format()\n\n\n  var oldFormat = dayjsClass.prototype.format;\n\n  dayjsClass.prototype.format = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // original format result\n    var result = oldFormat.call.apply(oldFormat, [this].concat(args)); // return modified result\n\n    var locale = this.$locale();\n    return locale && locale.postformat ? locale.postformat(result) : result;\n  };\n\n  var oldFromTo = dayjsClass.prototype.fromToBase;\n\n  if (oldFromTo) {\n    dayjsClass.prototype.fromToBase = function (input, withoutSuffix, instance, isFrom) {\n      var locale = this.$locale() || instance.$locale(); // original format result\n\n      return oldFromTo.call(this, input, withoutSuffix, instance, isFrom, locale && locale.postformat);\n    };\n  }\n});","export default (function (option, Dayjs, dayjs) {\n  dayjs.updateLocale = function (locale, customConfig) {\n    var localeList = dayjs.Ls;\n    var localeConfig = localeList[locale];\n    if (!localeConfig) return;\n    var customConfigKeys = customConfig ? Object.keys(customConfig) : [];\n    customConfigKeys.forEach(function (c) {\n      localeConfig[c] = customConfig[c];\n    });\n    return localeConfig; // eslint-disable-line consistent-return\n  };\n});",":host {\n  @apply inline-block\n    select-none;\n}\n\n@include disabled();\n@include hidden-form-input();\n\n@function get-trailing-text-input-padding($chevron-spacing) {\n  @return calc(var(--calcite-toggle-spacing) + $chevron-spacing);\n}\n\n:host([scale=\"s\"]) {\n  --calcite-toggle-spacing: theme(\"spacing.2\");\n  --calcite-internal-input-text-input-padding-inline-end: #{get-trailing-text-input-padding(theme(\"spacing.4\"))};\n}\n\n:host([scale=\"m\"]) {\n  --calcite-toggle-spacing: theme(\"spacing.3\");\n  --calcite-internal-input-text-input-padding-inline-end: #{get-trailing-text-input-padding(theme(\"spacing.6\"))};\n}\n\n:host([scale=\"l\"]) {\n  --calcite-toggle-spacing: theme(\"spacing.4\");\n  --calcite-internal-input-text-input-padding-inline-end: #{get-trailing-text-input-padding(theme(\"spacing.8\"))};\n}\n\n.input-wrapper {\n  @apply relative;\n}\n\n.toggle-icon {\n  @apply absolute flex cursor-pointer items-center;\n  inset-inline-end: 0;\n  inset-block: 0;\n  padding-inline: var(--calcite-toggle-spacing);\n}\n\n@include form-validation-message();\n@include base-component();\n","import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Method,\n  Prop,\n  State,\n  VNode,\n  Watch,\n} from \"@stencil/core\";\nimport { FloatingUIComponent, LogicalPlacement, OverlayPositioning } from \"../../utils/floating-ui\";\nimport {\n  connectForm,\n  disconnectForm,\n  FormComponent,\n  HiddenFormInputSlot,\n  submitForm,\n} from \"../../utils/form\";\nimport { guid } from \"../../utils/guid\";\nimport {\n  connectInteractive,\n  disconnectInteractive,\n  InteractiveComponent,\n  InteractiveContainer,\n  updateHostInteraction,\n} from \"../../utils/interactive\";\nimport { numberKeys } from \"../../utils/key\";\nimport { connectLabel, disconnectLabel, getLabelText, LabelableComponent } from \"../../utils/label\";\nimport {\n  componentFocusable,\n  LoadableComponent,\n  setComponentLoaded,\n  setUpLoadableComponent,\n} from \"../../utils/loadable\";\nimport {\n  connectLocalized,\n  disconnectLocalized,\n  LocalizedComponent,\n  NumberingSystem,\n  numberStringFormatter,\n  SupportedLocale,\n} from \"../../utils/locale\";\nimport {\n  activateFocusTrap,\n  connectFocusTrap,\n  deactivateFocusTrap,\n  FocusTrapComponent,\n} from \"../../utils/focusTrapComponent\";\nimport { FocusTrap } from \"focus-trap\";\nimport {\n  formatTimePart,\n  formatTimeString,\n  FractionalSecondDigits,\n  isValidTime,\n  localizeTimeString,\n  toISOTimeString,\n} from \"../../utils/time\";\nimport { Scale, Status } from \"../interfaces\";\nimport { TimePickerMessages } from \"../time-picker/assets/time-picker/t9n\";\nimport { connectMessages, disconnectMessages, setUpMessages, T9nComponent } from \"../../utils/t9n\";\nimport { InputTimePickerMessages } from \"./assets/input-time-picker/t9n\";\nimport { CSS } from \"./resources\";\n\nimport dayjs from \"dayjs/esm\";\nimport customParseFormat from \"dayjs/esm/plugin/customParseFormat\";\nimport localeData from \"dayjs/esm/plugin/localeData\";\nimport localizedFormat from \"dayjs/esm/plugin/localizedFormat\";\nimport preParsePostFormat from \"dayjs/esm/plugin/preParsePostFormat\";\nimport updateLocale from \"dayjs/esm/plugin/updateLocale\";\nimport { getSupportedLocale } from \"../../utils/locale\";\nimport { onToggleOpenCloseComponent, OpenCloseComponent } from \"../../utils/openCloseComponent\";\nimport { decimalPlaces } from \"../../utils/math\";\nimport { getIconScale } from \"../../utils/component\";\nimport { Validation } from \"../functional/Validation\";\n\n// some bundlers (e.g., Webpack) need dynamic import paths to be static\nconst supportedDayjsLocaleToLocaleConfigImport = new Map([\n  [\"ar\", () => import(\"dayjs/esm/locale/ar.js\")],\n  [\"bg\", () => import(\"dayjs/esm/locale/bg.js\")],\n  [\"bs\", () => import(\"dayjs/esm/locale/bs.js\")],\n  [\"ca\", () => import(\"dayjs/esm/locale/ca.js\")],\n  [\"cs\", () => import(\"dayjs/esm/locale/cs.js\")],\n  [\"da\", () => import(\"dayjs/esm/locale/da.js\")],\n  [\"de\", () => import(\"dayjs/esm/locale/de.js\")],\n  [\"de-at\", () => import(\"dayjs/esm/locale/de-at.js\")],\n  [\"de-ch\", () => import(\"dayjs/esm/locale/de-ch.js\")],\n  [\"el\", () => import(\"dayjs/esm/locale/el.js\")],\n  [\"en\", () => import(\"dayjs/esm/locale/en.js\")],\n  [\"en-au\", () => import(\"dayjs/esm/locale/en-au.js\")],\n  [\"en-ca\", () => import(\"dayjs/esm/locale/en-ca.js\")],\n  [\"en-gb\", () => import(\"dayjs/esm/locale/en-gb.js\")],\n  [\"es\", () => import(\"dayjs/esm/locale/es.js\")],\n  [\"es-mx\", () => import(\"dayjs/esm/locale/es-mx.js\")],\n  [\"et\", () => import(\"dayjs/esm/locale/et.js\")],\n  [\"fi\", () => import(\"dayjs/esm/locale/fi.js\")],\n  [\"fr\", () => import(\"dayjs/esm/locale/fr.js\")],\n  [\"fr-ch\", () => import(\"dayjs/esm/locale/fr-ch.js\")],\n  [\"he\", () => import(\"dayjs/esm/locale/he.js\")],\n  [\"hi\", () => import(\"dayjs/esm/locale/hi.js\")],\n  [\"hr\", () => import(\"dayjs/esm/locale/hr.js\")],\n  [\"hu\", () => import(\"dayjs/esm/locale/hu.js\")],\n  [\"id\", () => import(\"dayjs/esm/locale/id.js\")],\n  [\"it\", () => import(\"dayjs/esm/locale/it.js\")],\n  [\"it-ch\", () => import(\"dayjs/esm/locale/it-ch.js\")],\n  [\"ja\", () => import(\"dayjs/esm/locale/ja.js\")],\n  [\"ko\", () => import(\"dayjs/esm/locale/ko.js\")],\n  [\"lt\", () => import(\"dayjs/esm/locale/lt.js\")],\n  [\"lv\", () => import(\"dayjs/esm/locale/lv.js\")],\n  [\"mk\", () => import(\"dayjs/esm/locale/mk.js\")],\n  [\"nl\", () => import(\"dayjs/esm/locale/nl.js\")],\n  [\"nb\", () => import(\"dayjs/esm/locale/nb.js\")],\n  [\"pl\", () => import(\"dayjs/esm/locale/pl.js\")],\n  [\"pt\", () => import(\"dayjs/esm/locale/pt.js\")],\n  [\"pt-br\", () => import(\"dayjs/esm/locale/pt-br.js\")],\n  [\"ro\", () => import(\"dayjs/esm/locale/ro.js\")],\n  [\"ru\", () => import(\"dayjs/esm/locale/ru.js\")],\n  [\"sk\", () => import(\"dayjs/esm/locale/sk.js\")],\n  [\"sl\", () => import(\"dayjs/esm/locale/sl.js\")],\n  [\"sr\", () => import(\"dayjs/esm/locale/sr.js\")],\n  [\"sv\", () => import(\"dayjs/esm/locale/sv.js\")],\n  [\"th\", () => import(\"dayjs/esm/locale/th.js\")],\n  [\"tr\", () => import(\"dayjs/esm/locale/tr.js\")],\n  [\"uk\", () => import(\"dayjs/esm/locale/uk.js\")],\n  [\"vi\", () => import(\"dayjs/esm/locale/vi.js\")],\n  [\"zh-cn\", () => import(\"dayjs/esm/locale/zh-cn.js\")],\n  [\"zh-hk\", () => import(\"dayjs/esm/locale/zh-hk.js\")],\n  [\"zh-tw\", () => import(\"dayjs/esm/locale/zh-tw.js\")],\n]);\n\ndayjs.extend(customParseFormat);\ndayjs.extend(localeData);\ndayjs.extend(localizedFormat);\ndayjs.extend(preParsePostFormat);\ndayjs.extend(updateLocale);\n\ninterface DayjsTimeParts {\n  hour: number;\n  minute: number;\n  second: number;\n  millisecond: number;\n}\n\n@Component({\n  tag: \"calcite-input-time-picker\",\n  styleUrl: \"input-time-picker.scss\",\n  shadow: {\n    delegatesFocus: true,\n  },\n  assetsDirs: [\"assets\"],\n})\nexport class InputTimePicker\n  implements\n    FloatingUIComponent,\n    FocusTrapComponent,\n    FormComponent,\n    InteractiveComponent,\n    LabelableComponent,\n    LoadableComponent,\n    LocalizedComponent,\n    OpenCloseComponent,\n    T9nComponent\n{\n  //--------------------------------------------------------------------------\n  //\n  //  Properties\n  //\n  //--------------------------------------------------------------------------\n\n  /** When `true`, displays the `calcite-time-picker` component. */\n\n  @Prop({ reflect: true, mutable: true }) open = false;\n\n  @Watch(\"open\")\n  openHandler(): void {\n    onToggleOpenCloseComponent(this);\n\n    if (this.disabled || this.readOnly) {\n      this.open = false;\n      return;\n    }\n\n    this.reposition(true);\n  }\n\n  /** When `true`, interaction is prevented and the component is displayed with lower opacity. */\n  @Prop({ reflect: true }) disabled = false;\n\n  /**\n   * When `true`, prevents focus trapping.\n   */\n  @Prop({ reflect: true }) focusTrapDisabled = false;\n\n  @Watch(\"focusTrapDisabled\")\n  handleFocusTrapDisabled(focusTrapDisabled: boolean): void {\n    if (!this.open) {\n      return;\n    }\n\n    focusTrapDisabled ? deactivateFocusTrap(this) : activateFocusTrap(this);\n  }\n\n  /**\n   * The `id` of the form that will be associated with the component.\n   *\n   * When not set, the component will be associated with its ancestor form element, if any.\n   */\n  @Prop({ reflect: true }) form: string;\n\n  /**\n   * When `true`, the component's value can be read, but controls are not accessible and the value cannot be modified.\n   *\n   * @mdn [readOnly](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/readonly)\n   */\n  @Prop({ reflect: true }) readOnly = false;\n\n  @Watch(\"disabled\")\n  @Watch(\"readOnly\")\n  handleDisabledAndReadOnlyChange(value: boolean): void {\n    if (!value) {\n      this.open = false;\n    }\n  }\n\n  /**\n   * Use this property to override individual strings used by the component.\n   */\n  // eslint-disable-next-line @stencil-community/strict-mutable -- updated by t9n module\n  @Prop({ mutable: true }) messageOverrides: Partial<InputTimePickerMessages & TimePickerMessages>;\n\n  /**\n   * Made into a prop for testing purposes only\n   *\n   * @internal\n   */\n  // eslint-disable-next-line @stencil-community/strict-mutable -- updated by t9n module\n  @Prop({ mutable: true }) messages: InputTimePickerMessages;\n\n  @Watch(\"messageOverrides\")\n  onMessagesChange(): void {\n    /* wired up by t9n util */\n  }\n\n  /** Specifies the validation message to display under the component. */\n  @Prop() validationMessage: string;\n\n  /** Specifies the validation icon to display under the component. */\n  @Prop({ reflect: true }) validationIcon: string | boolean;\n\n  /** Specifies the name of the component on form submission. */\n  @Prop() name: string;\n\n  /**\n   * Specifies the Unicode numeral system used by the component for localization.\n   */\n  @Prop() numberingSystem: NumberingSystem;\n\n  @Watch(\"numberingSystem\")\n  numberingSystemWatcher(numberingSystem: NumberingSystem): void {\n    this.setInputValue(\n      localizeTimeString({\n        value: this.value,\n        locale: this.effectiveLocale,\n        numberingSystem,\n        includeSeconds: this.shouldIncludeSeconds(),\n        fractionalSecondDigits: decimalPlaces(this.step) as FractionalSecondDigits,\n      }),\n    );\n  }\n\n  /** When `true`, the component must have a value in order for the form to submit. */\n  @Prop({ reflect: true }) required = false;\n\n  /** Specifies the size of the component. */\n  @Prop({ reflect: true }) scale: Scale = \"m\";\n\n  /** Specifies the status of the input field, which determines message and icons. */\n  @Prop({ reflect: true }) status: Status = \"idle\";\n\n  /**\n   * Determines the type of positioning to use for the overlaid content.\n   *\n   * Using `\"absolute\"` will work for most cases. The component will be positioned inside of overflowing parent containers and will affect the container's layout.\n   *\n   * `\"fixed\"` should be used to escape an overflowing parent container, or when the reference element's `position` CSS property is `\"fixed\"`.\n   *\n   */\n  @Prop() overlayPositioning: OverlayPositioning = \"absolute\";\n\n  /**\n   * Determines where the popover will be positioned relative to the input.\n   */\n  @Prop({ reflect: true }) placement: LogicalPlacement = \"auto\";\n\n  /** Specifies the granularity the component's `value` must adhere to (in seconds). */\n  @Prop() step = 60;\n\n  @Watch(\"step\")\n  stepWatcher(newStep: number, oldStep: number): void {\n    if (\n      (oldStep >= 60 && newStep > 0 && newStep < 60) ||\n      (newStep >= 60 && oldStep > 0 && oldStep < 60)\n    ) {\n      this.setValueDirectly(this.value);\n    }\n  }\n\n  /** The time value in ISO (24-hour) format. */\n  @Prop({ mutable: true }) value: string = null;\n\n  @Watch(\"value\")\n  valueWatcher(newValue: string): void {\n    if (!this.userChangedValue) {\n      this.setValueDirectly(newValue);\n    }\n    this.userChangedValue = false;\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private Properties\n  //\n  //--------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteInputTimePickerElement;\n\n  defaultValue: InputTimePicker[\"value\"];\n\n  formEl: HTMLFormElement;\n\n  labelEl: HTMLCalciteLabelElement;\n\n  popoverEl: HTMLCalcitePopoverElement;\n\n  private calciteInputEl: HTMLCalciteInputElement;\n\n  private calciteTimePickerEl: HTMLCalciteTimePickerElement;\n\n  private focusOnOpen = false;\n\n  focusTrap: FocusTrap;\n\n  private dialogId = `time-picker-dialog--${guid()}`;\n\n  private localeConfig: ILocale;\n\n  /** whether the value of the input was changed as a result of user typing or not */\n  private userChangedValue = false;\n\n  private referenceElementId = `input-time-picker-${guid()}`;\n\n  openTransitionProp = \"opacity\";\n\n  transitionEl: HTMLCalciteInputElement;\n\n  //--------------------------------------------------------------------------\n  //\n  //  State\n  //\n  //--------------------------------------------------------------------------\n\n  @State() defaultMessages: InputTimePickerMessages;\n\n  @State() effectiveLocale = \"\";\n\n  @Watch(\"effectiveLocale\")\n  async effectiveLocaleWatcher(locale: SupportedLocale): Promise<void> {\n    await this.loadDateTimeLocaleData();\n    this.setInputValue(\n      localizeTimeString({\n        value: this.value,\n        locale,\n        numberingSystem: this.numberingSystem,\n        includeSeconds: this.shouldIncludeSeconds(),\n        fractionalSecondDigits: decimalPlaces(this.step) as FractionalSecondDigits,\n      }),\n    );\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Events\n  //\n  //--------------------------------------------------------------------------\n\n  /** Fires when the component is requested to be closed and before the closing transition begins. */\n  @Event({ cancelable: false }) calciteInputTimePickerBeforeClose: EventEmitter<void>;\n\n  /** Fires when the component is added to the DOM but not rendered, and before the opening transition begins. */\n  @Event({ cancelable: false }) calciteInputTimePickerBeforeOpen: EventEmitter<void>;\n\n  /**\n   * Fires when the component's `value` is changes.\n   */\n  @Event({ cancelable: true }) calciteInputTimePickerChange: EventEmitter<void>;\n\n  /** Fires when the component is closed and animation is complete. */\n  @Event({ cancelable: false }) calciteInputTimePickerClose: EventEmitter<void>;\n\n  /** Fires when the component is open and animation is complete. */\n  @Event({ cancelable: false }) calciteInputTimePickerOpen: EventEmitter<void>;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Event Listeners\n  //\n  //--------------------------------------------------------------------------\n\n  private hostBlurHandler = (): void => {\n    const inputValue = this.calciteInputEl.value;\n    const delocalizedInputValue = this.delocalizeTimeString(inputValue);\n\n    if (!delocalizedInputValue) {\n      this.setValue(\"\");\n      return;\n    }\n\n    if (delocalizedInputValue !== this.value) {\n      this.setValue(delocalizedInputValue);\n    }\n\n    const localizedTimeString = localizeTimeString({\n      value: this.value,\n      locale: this.effectiveLocale,\n      numberingSystem: this.numberingSystem,\n      includeSeconds: this.shouldIncludeSeconds(),\n      fractionalSecondDigits: decimalPlaces(this.step) as FractionalSecondDigits,\n    });\n\n    if (localizedTimeString !== inputValue) {\n      this.setInputValue(localizedTimeString);\n    }\n\n    this.deactivate();\n  };\n\n  private calciteInternalInputFocusHandler = (event: CustomEvent): void => {\n    if (!this.readOnly) {\n      event.stopPropagation();\n    }\n  };\n\n  private calciteInternalInputInputHandler = (event: CustomEvent): void => {\n    const { effectiveLocale: locale, numberingSystem } = this;\n\n    if (numberingSystem && numberingSystem !== \"latn\") {\n      const target = event.target as HTMLCalciteTimePickerElement;\n\n      numberStringFormatter.numberFormatOptions = {\n        locale,\n        numberingSystem,\n        useGrouping: false,\n      };\n\n      const valueInNumberingSystem = numberStringFormatter\n        .delocalize(target.value)\n        .split(\"\")\n        .map((char) =>\n          numberKeys.includes(char)\n            ? numberStringFormatter.numberFormatter.format(Number(char))\n            : char,\n        )\n        .join(\"\");\n\n      this.setInputValue(valueInNumberingSystem);\n    }\n  };\n\n  private timePickerChangeHandler = (event: CustomEvent): void => {\n    event.stopPropagation();\n    const target = event.target as HTMLCalciteTimePickerElement;\n    const value = target.value;\n    const includeSeconds = this.shouldIncludeSeconds();\n    this.setValue(toISOTimeString(value, includeSeconds));\n    this.setInputValue(\n      localizeTimeString({\n        value,\n        locale: this.effectiveLocale,\n        numberingSystem: this.numberingSystem,\n        includeSeconds,\n        fractionalSecondDigits: decimalPlaces(this.step) as FractionalSecondDigits,\n      }),\n    );\n  };\n\n  // --------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  // --------------------------------------------------------------------------\n\n  /** Sets focus on the component. */\n  @Method()\n  async setFocus(): Promise<void> {\n    await componentFocusable(this);\n    this.el.focus();\n  }\n\n  /**\n   * Updates the position of the component.\n   *\n   * @param delayed\n   */\n  @Method()\n  async reposition(delayed = false): Promise<void> {\n    this.popoverEl?.reposition(delayed);\n  }\n\n  // --------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  // --------------------------------------------------------------------------\n\n  onBeforeOpen(): void {\n    this.calciteInputTimePickerBeforeOpen.emit();\n  }\n\n  onOpen(): void {\n    this.calciteInputTimePickerOpen.emit();\n  }\n\n  onBeforeClose(): void {\n    this.calciteInputTimePickerBeforeClose.emit();\n  }\n\n  onClose(): void {\n    this.calciteInputTimePickerClose.emit();\n  }\n\n  private delocalizeTimeString(value: string): string {\n    // we need to set the corresponding locale before parsing, otherwise it defaults to English (possible dayjs bug)\n    dayjs.locale(this.effectiveLocale.toLowerCase());\n\n    const nonFractionalSecondParts = this.delocalizeTimeStringToParts(value);\n\n    let delocalizedTimeString;\n\n    if (this.shouldIncludeFractionalSeconds()) {\n      const stepPrecision = decimalPlaces(this.step);\n      const centisecondParts = this.delocalizeTimeStringToParts(value, \"S\");\n\n      if (stepPrecision === 1) {\n        delocalizedTimeString =\n          centisecondParts.millisecond !== 0\n            ? this.getTimeStringFromParts(centisecondParts)\n            : this.getTimeStringFromParts(nonFractionalSecondParts);\n      } else {\n        const decisecondParts = this.delocalizeTimeStringToParts(value, \"SS\");\n\n        if (stepPrecision === 2) {\n          if (decisecondParts.millisecond !== 0) {\n            delocalizedTimeString = this.getTimeStringFromParts(decisecondParts);\n          } else if (centisecondParts.millisecond !== 0) {\n            delocalizedTimeString = this.getTimeStringFromParts(centisecondParts);\n          } else {\n            delocalizedTimeString = this.getTimeStringFromParts(nonFractionalSecondParts);\n          }\n        } else if (stepPrecision >= 3) {\n          const millisecondParts = this.delocalizeTimeStringToParts(value, \"SSS\");\n\n          if (millisecondParts.millisecond !== 0) {\n            delocalizedTimeString = this.getTimeStringFromParts(millisecondParts);\n          } else if (decisecondParts.millisecond !== 0) {\n            delocalizedTimeString = this.getTimeStringFromParts(decisecondParts);\n          } else if (centisecondParts.millisecond !== 0) {\n            delocalizedTimeString = this.getTimeStringFromParts(centisecondParts);\n          } else {\n            delocalizedTimeString = this.getTimeStringFromParts(nonFractionalSecondParts);\n          }\n        }\n      }\n    } else {\n      delocalizedTimeString = this.getTimeStringFromParts(nonFractionalSecondParts);\n    }\n\n    return delocalizedTimeString;\n  }\n\n  private delocalizeTimeStringToParts(\n    localizedTimeString: string,\n    fractionalSecondFormatToken?: \"S\" | \"SS\" | \"SSS\",\n  ): DayjsTimeParts {\n    const ltsFormatString = this.localeConfig?.formats?.LTS;\n    const fractionalSecondTokenMatch = ltsFormatString.match(/ss\\.*(S+)/g);\n\n    if (fractionalSecondFormatToken && this.shouldIncludeFractionalSeconds()) {\n      const secondFormatToken = `ss.${fractionalSecondFormatToken}`;\n      this.localeConfig.formats.LTS = fractionalSecondTokenMatch\n        ? ltsFormatString.replace(fractionalSecondTokenMatch[0], secondFormatToken)\n        : ltsFormatString.replace(\"ss\", secondFormatToken);\n    } else if (fractionalSecondTokenMatch) {\n      this.localeConfig.formats.LTS = ltsFormatString.replace(fractionalSecondTokenMatch[0], \"ss\");\n    }\n\n    dayjs.updateLocale(\n      this.getSupportedDayjsLocale(getSupportedLocale(this.effectiveLocale)),\n      this.localeConfig as Record<string, any>,\n    );\n\n    const dayjsParseResult = dayjs(localizedTimeString, [\"LTS\", \"LT\"]);\n\n    if (dayjsParseResult.isValid()) {\n      return {\n        hour: dayjsParseResult.get(\"hour\"),\n        minute: dayjsParseResult.get(\"minute\"),\n        second: dayjsParseResult.get(\"second\"),\n        millisecond: dayjsParseResult.get(\"millisecond\"),\n      };\n    }\n    return {\n      hour: null,\n      minute: null,\n      second: null,\n      millisecond: null,\n    };\n  }\n\n  private getTimeStringFromParts(parts: DayjsTimeParts): string {\n    let timeString = \"\";\n    if (!parts) {\n      return timeString;\n    }\n    if (parts.hour !== null && parts.minute !== null) {\n      timeString = `${formatTimePart(parts.hour)}:${formatTimePart(parts.minute)}`;\n      if (this.shouldIncludeSeconds() && parts.second !== null) {\n        timeString += `:${formatTimePart(parts.second)}`;\n        if (this.shouldIncludeFractionalSeconds() && parts.millisecond !== null) {\n          const second = (parts.millisecond * 0.001).toFixed(decimalPlaces(this.step));\n          timeString += `.${second.toString().replace(\"0.\", \"\")}`;\n        }\n      }\n    }\n    return timeString;\n  }\n\n  private popoverCloseHandler = () => {\n    deactivateFocusTrap(this, {\n      onDeactivate: () => {\n        this.calciteInputEl.setFocus();\n        this.focusOnOpen = false;\n      },\n    });\n    this.open = false;\n  };\n\n  private popoverOpenHandler = () => {\n    activateFocusTrap(this, {\n      onActivate: () => {\n        if (this.focusOnOpen) {\n          this.calciteTimePickerEl.setFocus();\n          this.focusOnOpen = false;\n        }\n      },\n    });\n  };\n\n  keyDownHandler = (event: KeyboardEvent): void => {\n    const { defaultPrevented, key } = event;\n\n    if (defaultPrevented) {\n      return;\n    }\n\n    if (key === \"Enter\") {\n      if (submitForm(this)) {\n        event.preventDefault();\n        this.calciteInputEl.setFocus();\n      }\n\n      if (event.composedPath().includes(this.calciteTimePickerEl)) {\n        return;\n      }\n\n      const newValue = this.delocalizeTimeString(this.calciteInputEl.value);\n\n      if (isValidTime(newValue)) {\n        this.setValue(newValue);\n\n        const localizedTimeString = localizeTimeString({\n          value: this.value,\n          locale: this.effectiveLocale,\n          numberingSystem: this.numberingSystem,\n          includeSeconds: this.shouldIncludeSeconds(),\n          fractionalSecondDigits: decimalPlaces(this.step) as FractionalSecondDigits,\n        });\n\n        if (newValue && this.calciteInputEl.value !== localizedTimeString) {\n          this.setInputValue(localizedTimeString);\n        }\n      }\n    } else if (key === \"ArrowDown\") {\n      this.open = true;\n      this.focusOnOpen = true;\n      event.preventDefault();\n    } else if (key === \"Escape\" && this.open) {\n      this.open = false;\n      event.preventDefault();\n      this.calciteInputEl.setFocus();\n    }\n  };\n\n  private getSupportedDayjsLocale(locale: string) {\n    const dayjsLocale = locale.toLowerCase();\n    if (dayjsLocale === \"no\") {\n      return \"nb\";\n    }\n    if (dayjsLocale === \"pt-pt\") {\n      return \"pt\";\n    }\n    return dayjsLocale;\n  }\n\n  private async loadDateTimeLocaleData(): Promise<void> {\n    let supportedLocale = getSupportedLocale(this.effectiveLocale).toLowerCase();\n\n    supportedLocale = this.getSupportedDayjsLocale(supportedLocale);\n\n    const { default: localeConfig } =\n      await supportedDayjsLocaleToLocaleConfigImport.get(supportedLocale)();\n\n    this.localeConfig = localeConfig;\n\n    dayjs.locale(this.localeConfig, null, true);\n    dayjs.updateLocale(supportedLocale, this.getExtendedLocaleConfig(supportedLocale));\n  }\n\n  private getExtendedLocaleConfig(\n    locale: string,\n  ): Parameters<(typeof dayjs)[\"updateLocale\"]>[1] | undefined {\n    if (locale === \"ar\") {\n      return {\n        meridiem: (hour) => (hour > 12 ? \"\" : \"\"),\n        formats: {\n          LT: \"HH:mm A\",\n          LTS: \"HH:mm:ss A\",\n          L: \"DD/MM/YYYY\",\n          LL: \"D MMMM YYYY\",\n          LLL: \"D MMMM YYYY HH:mm A\",\n          LLLL: \"dddd D MMMM YYYY HH:mm A\",\n        },\n      };\n    }\n\n    if (locale === \"en-au\") {\n      return {\n        meridiem: (hour) => (hour > 12 ? \"pm\" : \"am\"),\n      };\n    }\n\n    if (locale === \"en-ca\") {\n      return {\n        meridiem: (hour) => (hour > 12 ? \"p.m.\" : \"a.m.\"),\n      };\n    }\n\n    if (locale === \"el\") {\n      return {\n        meridiem: (hour) => (hour > 12 ? \"..\" : \"..\"),\n      };\n    }\n\n    if (locale === \"hi\") {\n      return {\n        formats: {\n          LT: \"h:mm A\",\n          LTS: \"h:mm:ss A\",\n          L: \"DD/MM/YYYY\",\n          LL: \"D MMMM YYYY\",\n          LLL: \"D MMMM YYYY, h:mm A\",\n          LLLL: \"dddd, D MMMM YYYY, h:mm A\",\n        },\n        meridiem: (hour) => (hour > 12 ? \"pm\" : \"am\"),\n      };\n    }\n\n    if (locale === \"ko\") {\n      return {\n        meridiem: (hour) => (hour > 12 ? \"\" : \"\"),\n      };\n    }\n\n    if (locale === \"zh-tw\") {\n      return {\n        formats: {\n          LT: \"AHH:mm\",\n          LTS: \"AHH:mm:ss\",\n        },\n      };\n    }\n\n    if (locale === \"zh-hk\") {\n      return {\n        formats: {\n          LT: \"AHH:mm\",\n          LTS: \"AHH:mm:ss\",\n        },\n        meridiem: (hour) => (hour > 12 ? \"\" : \"\"),\n      };\n    }\n  }\n\n  onLabelClick(): void {\n    this.setFocus();\n  }\n\n  private shouldIncludeSeconds(): boolean {\n    return this.step < 60;\n  }\n\n  private shouldIncludeFractionalSeconds(): boolean {\n    return decimalPlaces(this.step) > 0;\n  }\n\n  private setCalcitePopoverEl = (el: HTMLCalcitePopoverElement): void => {\n    this.popoverEl = el;\n  };\n\n  private setInputAndTransitionEl = (el: HTMLCalciteInputElement): void => {\n    this.calciteInputEl = el;\n    this.transitionEl = el;\n  };\n\n  private setCalciteTimePickerEl = (el: HTMLCalciteTimePickerElement): void => {\n    this.calciteTimePickerEl = el;\n    connectFocusTrap(this, {\n      focusTrapEl: el,\n      focusTrapOptions: {\n        initialFocus: false,\n        setReturnFocus: false,\n      },\n    });\n  };\n\n  private setInputValue = (newInputValue: string): void => {\n    if (!this.calciteInputEl) {\n      return;\n    }\n    this.calciteInputEl.value = newInputValue;\n  };\n\n  /**\n   * Sets the value and emits a change event.\n   * This is used to update the value as a result of user interaction.\n   *\n   * @param value\n   */\n  private setValue = (value: string): void => {\n    const oldValue = this.value;\n    const newValue = formatTimeString(value) || \"\";\n\n    if (newValue === oldValue) {\n      return;\n    }\n\n    this.userChangedValue = true;\n    this.value = newValue || \"\";\n\n    const changeEvent = this.calciteInputTimePickerChange.emit();\n\n    if (changeEvent.defaultPrevented) {\n      this.userChangedValue = false;\n      this.value = oldValue;\n      this.setInputValue(\n        localizeTimeString({\n          value: oldValue,\n          locale: this.effectiveLocale,\n          numberingSystem: this.numberingSystem,\n          includeSeconds: this.shouldIncludeSeconds(),\n          fractionalSecondDigits: decimalPlaces(this.step) as FractionalSecondDigits,\n        }),\n      );\n    }\n  };\n\n  /**\n   * Sets the value directly without emitting a change event.\n   * This is used to update the value on initial load and when props change that are not the result of user interaction.\n   *\n   * @param value\n   */\n  private setValueDirectly = (value: string): void => {\n    const includeSeconds = this.shouldIncludeSeconds();\n    this.value = toISOTimeString(value, includeSeconds);\n    this.setInputValue(\n      this.value\n        ? localizeTimeString({\n            value: this.value,\n            includeSeconds,\n            locale: this.effectiveLocale,\n            numberingSystem: this.numberingSystem,\n            fractionalSecondDigits: decimalPlaces(this.step) as FractionalSecondDigits,\n          })\n        : \"\",\n    );\n  };\n\n  private onInputWrapperClick = () => {\n    this.open = !this.open;\n  };\n\n  deactivate = (): void => {\n    this.open = false;\n  };\n\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n\n  connectedCallback() {\n    connectInteractive(this);\n    connectLocalized(this);\n\n    if (isValidTime(this.value)) {\n      this.setValueDirectly(this.value);\n    } else {\n      this.value = undefined;\n    }\n\n    connectLabel(this);\n    connectForm(this);\n    connectMessages(this);\n  }\n\n  async componentWillLoad(): Promise<void> {\n    setUpLoadableComponent(this);\n    await Promise.all([setUpMessages(this), this.loadDateTimeLocaleData()]);\n    if (this.open) {\n      onToggleOpenCloseComponent(this);\n    }\n  }\n\n  componentDidLoad() {\n    setComponentLoaded(this);\n    if (isValidTime(this.value)) {\n      this.setInputValue(\n        localizeTimeString({\n          value: this.value,\n          locale: this.effectiveLocale,\n          numberingSystem: this.numberingSystem,\n          includeSeconds: this.shouldIncludeSeconds(),\n          fractionalSecondDigits: decimalPlaces(this.step) as FractionalSecondDigits,\n        }),\n      );\n    }\n  }\n\n  disconnectedCallback() {\n    disconnectInteractive(this);\n    disconnectLabel(this);\n    disconnectForm(this);\n    disconnectLocalized(this);\n    deactivateFocusTrap(this);\n    disconnectMessages(this);\n  }\n\n  componentDidRender(): void {\n    updateHostInteraction(this);\n  }\n\n  // --------------------------------------------------------------------------\n  //\n  //  Render Methods\n  //\n  // --------------------------------------------------------------------------\n\n  render(): VNode {\n    const { disabled, messages, readOnly, dialogId } = this;\n    return (\n      <Host onBlur={this.hostBlurHandler} onKeyDown={this.keyDownHandler}>\n        <InteractiveContainer disabled={this.disabled}>\n          <div class=\"input-wrapper\" onClick={this.onInputWrapperClick}>\n            <calcite-input-text\n              aria-autocomplete=\"none\"\n              aria-haspopup=\"dialog\"\n              disabled={disabled}\n              icon=\"clock\"\n              id={this.referenceElementId}\n              label={getLabelText(this)}\n              lang={this.effectiveLocale}\n              onCalciteInputTextInput={this.calciteInternalInputInputHandler}\n              onCalciteInternalInputTextFocus={this.calciteInternalInputFocusHandler}\n              readOnly={readOnly}\n              role=\"combobox\"\n              scale={this.scale}\n              status={this.status}\n              // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n              ref={this.setInputAndTransitionEl}\n            />\n            {!this.readOnly && this.renderToggleIcon(this.open)}\n          </div>\n          <calcite-popover\n            focusTrapDisabled={true}\n            id={dialogId}\n            label={messages.chooseTime}\n            lang={this.effectiveLocale}\n            onCalcitePopoverClose={this.popoverCloseHandler}\n            onCalcitePopoverOpen={this.popoverOpenHandler}\n            open={this.open}\n            overlayPositioning={this.overlayPositioning}\n            placement={this.placement}\n            referenceElement={this.referenceElementId}\n            triggerDisabled={true}\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref={this.setCalcitePopoverEl}\n          >\n            <calcite-time-picker\n              lang={this.effectiveLocale}\n              messageOverrides={this.messageOverrides}\n              numberingSystem={this.numberingSystem}\n              onCalciteInternalTimePickerChange={this.timePickerChangeHandler}\n              scale={this.scale}\n              step={this.step}\n              tabIndex={this.open ? undefined : -1}\n              value={this.value}\n              // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n              ref={this.setCalciteTimePickerEl}\n            />\n          </calcite-popover>\n          <HiddenFormInputSlot component={this} />\n          {this.validationMessage && this.status === \"invalid\" ? (\n            <Validation\n              icon={this.validationIcon}\n              message={this.validationMessage}\n              scale={this.scale}\n              status={this.status}\n            />\n          ) : null}\n        </InteractiveContainer>\n      </Host>\n    );\n  }\n\n  renderToggleIcon(open: boolean): VNode {\n    return (\n      <span class={CSS.toggleIcon}>\n        <calcite-icon\n          icon={open ? \"chevron-up\" : \"chevron-down\"}\n          scale={getIconScale(this.scale)}\n        />\n      </span>\n    );\n  }\n}\n","export const CSS = {\n  button: \"button\",\n  buttonBottomLeft: \"button--bottom-left\",\n  buttonBottomRight: \"button--bottom-right\",\n  buttonFractionalSecondDown: \"button--fractionalSecond-down\",\n  buttonFractionalSecondUp: \"button--fractionalSecond-up\",\n  buttonHourDown: \"button--hour-down\",\n  buttonHourUp: \"button--hour-up\",\n  buttonMeridiemDown: \"button--meridiem-down\",\n  buttonMeridiemUp: \"button--meridiem-up\",\n  buttonMinuteDown: \"button--minute-down\",\n  buttonMinuteUp: \"button--minute-up\",\n  buttonSecondDown: \"button--second-down\",\n  buttonSecondUp: \"button--second-up\",\n  buttonTopLeft: \"button--top-left\",\n  buttonTopRight: \"button--top-right\",\n  column: \"column\",\n  delimiter: \"delimiter\",\n  fractionalSecond: \"fractionalSecond\",\n  hour: \"hour\",\n  input: \"input\",\n  inputFocus: \"inputFocus\",\n  meridiem: \"meridiem\",\n  minute: \"minute\",\n  second: \"second\",\n  showMeridiem: \"show-meridiem\",\n  showSecond: \"show-second\",\n  \"scale-s\": \"scale-s\",\n  \"scale-m\": \"scale-m\",\n  \"scale-l\": \"scale-l\",\n  timePicker: \"time-picker\",\n  meridiemStart: \"meridiem--start\",\n};\n",":host {\n  @apply inline-block;\n}\n\n.time-picker {\n  @apply bg-foreground-1\n    shadow-2\n    text-color-1\n    flex\n    select-none\n    items-center\n    font-medium;\n\n  border-radius: var(--calcite-border-radius);\n\n  .column {\n    @apply flex\n      flex-col;\n  }\n\n  .meridiem--start {\n    order: -1;\n  }\n\n  .button {\n    @apply bg-foreground-1\n      inline-flex\n      cursor-pointer\n      items-center\n      justify-center;\n    &:hover,\n    &:focus {\n      @apply bg-foreground-2\n        outline-none;\n      z-index: theme(\"zIndex.header\");\n      outline-offset: 0;\n    }\n    &:active {\n      @apply bg-foreground-3;\n    }\n    &.top-left {\n      border-start-start-radius: var(--calcite-border-radius);\n    }\n    &.bottom-left {\n      border-end-start-radius: var(--calcite-border-radius);\n    }\n    &.top-right {\n      border-start-end-radius: var(--calcite-border-radius);\n    }\n    &.bottom-right {\n      border-end-end-radius: var(--calcite-border-radius);\n    }\n    calcite-icon {\n      @apply text-color-3;\n    }\n  }\n\n  .input {\n    @apply bg-foreground-1\n      inline-flex\n      cursor-pointer\n      items-center\n      justify-center\n      font-medium;\n    &:hover {\n      box-shadow: inset 0 0 0 2px var(--calcite-color-foreground-2);\n      z-index: theme(\"zIndex.header\");\n    }\n    &:focus,\n    &:hover:focus {\n      @apply outline-none;\n      outline-offset: 0;\n    }\n    &.inputFocus,\n    &:hover.inputFocus {\n      box-shadow: inset 0 0 0 2px var(--calcite-color-brand);\n      z-index: theme(\"zIndex.header\");\n    }\n  }\n\n  &.scale-s {\n    @apply text-n1;\n    .button,\n    .input {\n      @apply px-3\n        py-1;\n    }\n    &:not(.show-meridiem) {\n      .delimiter:last-child {\n        padding-inline-end: theme(\"spacing.3\");\n      }\n    }\n  }\n\n  &.scale-m {\n    @apply text-0;\n    .button,\n    .input {\n      @apply px-4\n        py-2;\n    }\n    &:not(.show-meridiem) {\n      .delimiter:last-child {\n        padding-inline-end: theme(\"spacing.4\");\n      }\n    }\n  }\n\n  &.scale-l {\n    @apply text-1;\n    .button,\n    .input {\n      @apply px-5\n        py-3;\n    }\n    &:not(.show-meridiem) {\n      .delimiter:last-child {\n        padding-inline-end: theme(\"spacing.5\");\n      }\n    }\n  }\n}\n\n@include base-component();\n","import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Listen,\n  Method,\n  Prop,\n  State,\n  VNode,\n  Watch,\n} from \"@stencil/core\";\nimport { numberKeys } from \"../../utils/key\";\nimport { isValidNumber } from \"../../utils/number\";\nimport { Scale } from \"../interfaces\";\n\nimport {\n  connectLocalized,\n  disconnectLocalized,\n  LocalizedComponent,\n  NumberingSystem,\n} from \"../../utils/locale\";\nimport {\n  connectMessages,\n  disconnectMessages,\n  setUpMessages,\n  T9nComponent,\n  updateMessages,\n} from \"../../utils/t9n\";\nimport {\n  formatTimePart,\n  getLocaleHourCycle,\n  getLocalizedDecimalSeparator,\n  getLocalizedTimePartSuffix,\n  getMeridiem,\n  getTimeParts,\n  HourCycle,\n  isValidTime,\n  localizeTimePart,\n  localizeTimeStringToParts,\n  maxTenthForMinuteAndSecond,\n  Meridiem,\n  MinuteOrSecond,\n  parseTimeString,\n  TimePart,\n} from \"../../utils/time\";\nimport { TimePickerMessages } from \"./assets/time-picker/t9n\";\nimport { CSS } from \"./resources\";\nimport { getIconScale } from \"../../utils/component\";\n\nimport {\n  componentFocusable,\n  LoadableComponent,\n  setComponentLoaded,\n  setUpLoadableComponent,\n} from \"../../utils/loadable\";\nimport { decimalPlaces, getDecimals } from \"../../utils/math\";\n\nfunction capitalize(str: string): string {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n@Component({\n  tag: \"calcite-time-picker\",\n  styleUrl: \"time-picker.scss\",\n  shadow: {\n    delegatesFocus: true,\n  },\n  assetsDirs: [\"assets\"],\n})\nexport class TimePicker\n  implements LocalizedComponent, LoadableComponent, LocalizedComponent, T9nComponent\n{\n  //--------------------------------------------------------------------------\n  //\n  //  Properties\n  //\n  //--------------------------------------------------------------------------\n\n  /** Specifies the size of the component. */\n  @Prop({ reflect: true }) scale: Scale = \"m\";\n\n  /** Specifies the granularity the `value` must adhere to (in seconds). */\n  @Prop({ reflect: true }) step = 60;\n\n  @Watch(\"step\")\n  stepChange(): void {\n    this.toggleSecond();\n  }\n\n  /**\n   * Specifies the Unicode numeral system used by the component for localization.\n   *\n   */\n  @Prop() numberingSystem: NumberingSystem;\n\n  /** The component's value in UTC (always 24-hour format). */\n  @Prop({ mutable: true }) value: string = null;\n\n  @Watch(\"value\")\n  valueWatcher(newValue: string): void {\n    this.setValue(newValue);\n  }\n\n  /**\n   * Made into a prop for testing purposes only\n   *\n   * @internal\n   */\n  // eslint-disable-next-line @stencil-community/strict-mutable -- updated by t9n module\n  @Prop({ mutable: true }) messages: TimePickerMessages;\n\n  /**\n   * Use this property to override individual strings used by the component.\n   */\n  // eslint-disable-next-line @stencil-community/strict-mutable -- updated by t9n module\n  @Prop({ mutable: true }) messageOverrides: Partial<TimePickerMessages>;\n\n  @Watch(\"messageOverrides\")\n  onMessagesChange(): void {\n    /* wired up by t9n util */\n  }\n\n  // --------------------------------------------------------------------------\n  //\n  //  Private Properties\n  //\n  // --------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteTimePickerElement;\n\n  private fractionalSecondEl: HTMLSpanElement;\n\n  private hourEl: HTMLSpanElement;\n\n  private meridiemEl: HTMLSpanElement;\n\n  private meridiemOrder: number;\n\n  private minuteEl: HTMLSpanElement;\n\n  private pointerActivated = false;\n\n  private secondEl: HTMLSpanElement;\n\n  // --------------------------------------------------------------------------\n  //\n  //  State\n  //\n  // --------------------------------------------------------------------------\n\n  @State() activeEl: HTMLSpanElement;\n\n  @State() effectiveLocale = \"\";\n\n  @Watch(\"effectiveLocale\")\n  effectiveLocaleWatcher(): void {\n    this.updateLocale();\n  }\n\n  @State() fractionalSecond: string;\n\n  @State() hour: string;\n\n  @State() hourCycle: HourCycle;\n\n  @State() localizedDecimalSeparator = \".\";\n\n  @State() localizedHour: string;\n\n  @State() localizedHourSuffix: string;\n\n  @State() localizedMeridiem: string;\n\n  @State() localizedFractionalSecond: string;\n\n  @State() localizedMinute: string;\n\n  @State() localizedMinuteSuffix: string;\n\n  @State() localizedSecond: string;\n\n  @State() localizedSecondSuffix: string;\n\n  @State() meridiem: Meridiem;\n\n  @State() minute: string;\n\n  @State() second: string;\n\n  @State() showFractionalSecond: boolean;\n\n  @State() showSecond: boolean;\n\n  @State() defaultMessages: TimePickerMessages;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Events\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * @internal\n   */\n  @Event({ cancelable: false }) calciteInternalTimePickerBlur: EventEmitter<void>;\n\n  /**\n   * @internal\n   */\n  @Event({ cancelable: false }) calciteInternalTimePickerChange: EventEmitter<string>;\n\n  /**\n   * @internal\n   */\n  @Event({ cancelable: false }) calciteInternalTimePickerFocus: EventEmitter<void>;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Event Listeners\n  //\n  //--------------------------------------------------------------------------\n\n  @Listen(\"blur\")\n  blurHandler(): void {\n    this.activeEl = undefined;\n    this.pointerActivated = false;\n    this.calciteInternalTimePickerBlur.emit();\n  }\n\n  @Listen(\"focus\")\n  hostFocusHandler(): void {\n    this.calciteInternalTimePickerFocus.emit();\n  }\n\n  @Listen(\"keydown\")\n  keyDownHandler(event: KeyboardEvent): void {\n    this.pointerActivated = false;\n    const { defaultPrevented, key } = event;\n\n    if (defaultPrevented) {\n      return;\n    }\n\n    switch (this.activeEl) {\n      case this.hourEl:\n        if (key === \"ArrowRight\") {\n          this.focusPart(\"minute\");\n          event.preventDefault();\n        }\n        break;\n      case this.minuteEl:\n        switch (key) {\n          case \"ArrowLeft\":\n            this.focusPart(\"hour\");\n            event.preventDefault();\n            break;\n          case \"ArrowRight\":\n            if (this.step !== 60) {\n              this.focusPart(\"second\");\n              event.preventDefault();\n            } else if (this.hourCycle === \"12\") {\n              this.focusPart(\"meridiem\");\n              event.preventDefault();\n            }\n            break;\n        }\n        break;\n      case this.secondEl:\n        switch (key) {\n          case \"ArrowLeft\":\n            this.focusPart(\"minute\");\n            event.preventDefault();\n            break;\n          case \"ArrowRight\":\n            if (this.showFractionalSecond) {\n              this.focusPart(\"fractionalSecond\");\n            } else if (this.hourCycle === \"12\") {\n              this.focusPart(\"meridiem\");\n              event.preventDefault();\n            }\n            break;\n        }\n        break;\n      case this.fractionalSecondEl:\n        switch (key) {\n          case \"ArrowLeft\":\n            this.focusPart(\"second\");\n            event.preventDefault();\n            break;\n          case \"ArrowRight\":\n            if (this.hourCycle === \"12\") {\n              this.focusPart(\"meridiem\");\n              event.preventDefault();\n            }\n            break;\n        }\n        break;\n      case this.meridiemEl:\n        switch (key) {\n          case \"ArrowLeft\":\n            if (this.showFractionalSecond) {\n              this.focusPart(\"fractionalSecond\");\n            } else if (this.step !== 60) {\n              this.focusPart(\"second\");\n              event.preventDefault();\n            } else {\n              this.focusPart(\"minute\");\n              event.preventDefault();\n            }\n            break;\n        }\n        break;\n    }\n  }\n\n  @Listen(\"pointerdown\")\n  pointerDownHandler(): void {\n    this.pointerActivated = true;\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * Sets focus on the component's first focusable element.\n   */\n  @Method()\n  async setFocus(): Promise<void> {\n    await componentFocusable(this);\n\n    this.el?.focus();\n  }\n\n  // --------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  // --------------------------------------------------------------------------\n\n  private async focusPart(target: TimePart): Promise<void> {\n    await componentFocusable(this);\n\n    this[`${target || \"hour\"}El`]?.focus();\n  }\n\n  private decrementHour = (): void => {\n    const newHour = !this.hour ? 0 : this.hour === \"00\" ? 23 : parseInt(this.hour) - 1;\n    this.setValuePart(\"hour\", newHour);\n  };\n\n  private decrementMeridiem = (): void => {\n    const newMeridiem = this.meridiem === \"PM\" ? \"AM\" : \"PM\";\n    this.setValuePart(\"meridiem\", newMeridiem);\n  };\n\n  private decrementMinuteOrSecond = (key: MinuteOrSecond): void => {\n    let newValue;\n    if (isValidNumber(this[key])) {\n      const valueAsNumber = parseInt(this[key]);\n      newValue = valueAsNumber === 0 ? 59 : valueAsNumber - 1;\n    } else {\n      newValue = 59;\n    }\n    this.setValuePart(key, newValue);\n  };\n\n  private decrementMinute = (): void => {\n    this.decrementMinuteOrSecond(\"minute\");\n  };\n\n  private decrementSecond = (): void => {\n    this.decrementMinuteOrSecond(\"second\");\n  };\n\n  private focusHandler = (event: FocusEvent): void => {\n    if (this.pointerActivated) {\n      return;\n    }\n    this.activeEl = event.currentTarget as HTMLSpanElement;\n  };\n\n  private fractionalSecondKeyDownHandler = (event: KeyboardEvent): void => {\n    const { key } = event;\n    if (numberKeys.includes(key)) {\n      const stepPrecision = decimalPlaces(this.step);\n      const fractionalSecondAsInteger = parseInt(this.fractionalSecond);\n      const fractionalSecondAsIntegerLength = fractionalSecondAsInteger.toString().length;\n\n      let newFractionalSecondAsIntegerString;\n\n      if (fractionalSecondAsIntegerLength >= stepPrecision) {\n        newFractionalSecondAsIntegerString = key.padStart(stepPrecision, \"0\");\n      } else if (fractionalSecondAsIntegerLength < stepPrecision) {\n        newFractionalSecondAsIntegerString = `${fractionalSecondAsInteger}${key}`.padStart(\n          stepPrecision,\n          \"0\",\n        );\n      }\n\n      this.setValuePart(\"fractionalSecond\", parseFloat(`0.${newFractionalSecondAsIntegerString}`));\n    } else {\n      switch (key) {\n        case \"Backspace\":\n        case \"Delete\":\n          this.setValuePart(\"fractionalSecond\", null);\n          break;\n        case \"ArrowDown\":\n          event.preventDefault();\n          this.nudgeFractionalSecond(\"down\");\n          break;\n        case \"ArrowUp\":\n          event.preventDefault();\n          this.nudgeFractionalSecond(\"up\");\n          break;\n        case \" \":\n          event.preventDefault();\n          break;\n      }\n    }\n  };\n\n  private fractionalSecondDownClickHandler = (): void => {\n    this.activeEl = this.fractionalSecondEl;\n    this.fractionalSecondEl.focus();\n    this.nudgeFractionalSecond(\"down\");\n  };\n\n  private fractionalSecondUpClickHandler = (): void => {\n    this.activeEl = this.fractionalSecondEl;\n    this.fractionalSecondEl.focus();\n    this.nudgeFractionalSecond(\"up\");\n  };\n\n  private hourDownClickHandler = (): void => {\n    this.activeEl = this.hourEl;\n    this.hourEl.focus();\n    this.decrementHour();\n  };\n\n  private hourKeyDownHandler = (event: KeyboardEvent): void => {\n    const { key } = event;\n    if (numberKeys.includes(key)) {\n      const keyAsNumber = parseInt(key);\n      let newHour;\n      if (isValidNumber(this.hour)) {\n        switch (this.hourCycle) {\n          case \"12\":\n            newHour =\n              this.hour === \"01\" && keyAsNumber >= 0 && keyAsNumber <= 2\n                ? `1${keyAsNumber}`\n                : keyAsNumber;\n            break;\n          case \"24\":\n            if (this.hour === \"01\") {\n              newHour = `1${keyAsNumber}`;\n            } else if (this.hour === \"02\" && keyAsNumber >= 0 && keyAsNumber <= 3) {\n              newHour = `2${keyAsNumber}`;\n            } else {\n              newHour = keyAsNumber;\n            }\n            break;\n        }\n      } else {\n        newHour = keyAsNumber;\n      }\n      this.setValuePart(\"hour\", newHour);\n    } else {\n      switch (key) {\n        case \"Backspace\":\n        case \"Delete\":\n          this.setValuePart(\"hour\", null);\n          break;\n        case \"ArrowDown\":\n          event.preventDefault();\n          this.decrementHour();\n          break;\n        case \"ArrowUp\":\n          event.preventDefault();\n          this.incrementHour();\n          break;\n        case \" \":\n          event.preventDefault();\n          break;\n      }\n    }\n  };\n\n  private hourUpClickHandler = (): void => {\n    this.activeEl = this.hourEl;\n    this.hourEl.focus();\n    this.incrementHour();\n  };\n\n  private incrementMeridiem = (): void => {\n    const newMeridiem = this.meridiem === \"AM\" ? \"PM\" : \"AM\";\n    this.setValuePart(\"meridiem\", newMeridiem);\n  };\n\n  private incrementHour = (): void => {\n    const newHour = isValidNumber(this.hour)\n      ? this.hour === \"23\"\n        ? 0\n        : parseInt(this.hour) + 1\n      : 1;\n    this.setValuePart(\"hour\", newHour);\n  };\n\n  private incrementMinuteOrSecond = (key: MinuteOrSecond): void => {\n    const newValue = isValidNumber(this[key])\n      ? this[key] === \"59\"\n        ? 0\n        : parseInt(this[key]) + 1\n      : 0;\n    this.setValuePart(key, newValue);\n  };\n\n  private incrementMinute = (): void => {\n    this.incrementMinuteOrSecond(\"minute\");\n  };\n\n  private incrementSecond = (): void => {\n    this.incrementMinuteOrSecond(\"second\");\n  };\n\n  private inputClickHandler = (event: MouseEvent): void => {\n    this.activeEl = event.target as HTMLSpanElement;\n  };\n\n  private meridiemUpClickHandler = (): void => {\n    this.activeEl = this.meridiemEl;\n    this.meridiemEl.focus();\n    this.incrementMeridiem();\n  };\n\n  private meridiemKeyDownHandler = (event: KeyboardEvent): void => {\n    switch (event.key) {\n      case \"a\":\n        this.setValuePart(\"meridiem\", \"AM\");\n        break;\n      case \"p\":\n        this.setValuePart(\"meridiem\", \"PM\");\n        break;\n      case \"Backspace\":\n      case \"Delete\":\n        this.setValuePart(\"meridiem\", null);\n        break;\n      case \"ArrowUp\":\n        event.preventDefault();\n        this.incrementMeridiem();\n        break;\n      case \"ArrowDown\":\n        event.preventDefault();\n        this.decrementMeridiem();\n        break;\n      case \" \":\n        event.preventDefault();\n        break;\n    }\n  };\n\n  private meridiemDownClickHandler = (): void => {\n    this.activeEl = this.meridiemEl;\n    this.meridiemEl.focus();\n    this.decrementMeridiem();\n  };\n\n  private minuteDownClickHandler = (): void => {\n    this.activeEl = this.minuteEl;\n    this.minuteEl.focus();\n    this.decrementMinute();\n  };\n\n  private minuteUpClickHandler = (): void => {\n    this.activeEl = this.minuteEl;\n    this.minuteEl.focus();\n    this.incrementMinute();\n  };\n\n  private minuteKeyDownHandler = (event: KeyboardEvent): void => {\n    const { key } = event;\n    if (numberKeys.includes(key)) {\n      const keyAsNumber = parseInt(key);\n      let newMinute;\n      if (isValidNumber(this.minute) && this.minute.startsWith(\"0\")) {\n        const minuteAsNumber = parseInt(this.minute);\n        newMinute =\n          minuteAsNumber > maxTenthForMinuteAndSecond\n            ? keyAsNumber\n            : `${minuteAsNumber}${keyAsNumber}`;\n      } else {\n        newMinute = keyAsNumber;\n      }\n      this.setValuePart(\"minute\", newMinute);\n    } else {\n      switch (key) {\n        case \"Backspace\":\n        case \"Delete\":\n          this.setValuePart(\"minute\", null);\n          break;\n        case \"ArrowDown\":\n          event.preventDefault();\n          this.decrementMinute();\n          break;\n        case \"ArrowUp\":\n          event.preventDefault();\n          this.incrementMinute();\n          break;\n        case \" \":\n          event.preventDefault();\n          break;\n      }\n    }\n  };\n\n  private nudgeFractionalSecond = (direction: \"up\" | \"down\"): void => {\n    const stepDecimal = getDecimals(this.step);\n    const stepPrecision = decimalPlaces(this.step);\n    const fractionalSecondAsInteger = parseInt(this.fractionalSecond);\n    const fractionalSecondAsFloat = parseFloat(`0.${this.fractionalSecond}`);\n    let nudgedValue;\n    let nudgedValueRounded;\n    let nudgedValueRoundedDecimals;\n    let newFractionalSecond;\n    if (direction === \"up\") {\n      nudgedValue = isNaN(fractionalSecondAsInteger) ? 0 : fractionalSecondAsFloat + stepDecimal;\n      nudgedValueRounded = parseFloat(nudgedValue.toFixed(stepPrecision));\n      nudgedValueRoundedDecimals = getDecimals(nudgedValueRounded);\n      newFractionalSecond =\n        nudgedValueRounded < 1 && decimalPlaces(nudgedValueRoundedDecimals) > 0\n          ? formatTimePart(nudgedValueRoundedDecimals, stepPrecision)\n          : \"\".padStart(stepPrecision, \"0\");\n    }\n    if (direction === \"down\") {\n      nudgedValue =\n        isNaN(fractionalSecondAsInteger) || fractionalSecondAsInteger === 0\n          ? 1 - stepDecimal\n          : fractionalSecondAsFloat - stepDecimal;\n      nudgedValueRounded = parseFloat(nudgedValue.toFixed(stepPrecision));\n      nudgedValueRoundedDecimals = getDecimals(nudgedValueRounded);\n      newFractionalSecond =\n        nudgedValueRounded < 1 &&\n        decimalPlaces(nudgedValueRoundedDecimals) > 0 &&\n        Math.sign(nudgedValueRoundedDecimals) === 1\n          ? formatTimePart(nudgedValueRoundedDecimals, stepPrecision)\n          : \"\".padStart(stepPrecision, \"0\");\n    }\n    this.setValuePart(\"fractionalSecond\", newFractionalSecond);\n  };\n\n  private sanitizeValue = (value: string): string => {\n    const { hour, minute, second, fractionalSecond } = parseTimeString(value);\n    if (fractionalSecond) {\n      const sanitizedFractionalSecond = this.sanitizeFractionalSecond(fractionalSecond);\n      return `${hour}:${minute}:${second}.${sanitizedFractionalSecond}`;\n    }\n    return isValidTime(value) && value;\n  };\n\n  private sanitizeFractionalSecond = (fractionalSecond: string): string =>\n    fractionalSecond && decimalPlaces(this.step) !== fractionalSecond.length\n      ? parseFloat(`0.${fractionalSecond}`).toFixed(decimalPlaces(this.step)).replace(\"0.\", \"\")\n      : fractionalSecond;\n\n  private secondKeyDownHandler = (event: KeyboardEvent): void => {\n    const { key } = event;\n    if (numberKeys.includes(key)) {\n      const keyAsNumber = parseInt(key);\n      let newSecond;\n      if (isValidNumber(this.second) && this.second.startsWith(\"0\")) {\n        const secondAsNumber = parseInt(this.second);\n        newSecond =\n          secondAsNumber > maxTenthForMinuteAndSecond\n            ? keyAsNumber\n            : `${secondAsNumber}${keyAsNumber}`;\n      } else {\n        newSecond = keyAsNumber;\n      }\n      this.setValuePart(\"second\", newSecond);\n    } else {\n      switch (key) {\n        case \"Backspace\":\n        case \"Delete\":\n          this.setValuePart(\"second\", null);\n          break;\n        case \"ArrowDown\":\n          event.preventDefault();\n          this.decrementSecond();\n          break;\n        case \"ArrowUp\":\n          event.preventDefault();\n          this.incrementSecond();\n          break;\n        case \" \":\n          event.preventDefault();\n          break;\n      }\n    }\n  };\n\n  private secondDownClickHandler = (): void => {\n    this.activeEl = this.secondEl;\n    this.secondEl.focus();\n    this.decrementSecond();\n  };\n\n  private secondUpClickHandler = (): void => {\n    this.activeEl = this.secondEl;\n    this.secondEl.focus();\n    this.incrementSecond();\n  };\n\n  private setHourEl = (el: HTMLSpanElement) => (this.hourEl = el);\n\n  private setMeridiemEl = (el: HTMLSpanElement) => (this.meridiemEl = el);\n\n  private setMinuteEl = (el: HTMLSpanElement) => (this.minuteEl = el);\n\n  private setSecondEl = (el: HTMLSpanElement) => (this.secondEl = el);\n\n  private setFractionalSecondEl = (el: HTMLSpanElement) => (this.fractionalSecondEl = el);\n\n  private setValue = (value: string): void => {\n    if (isValidTime(value)) {\n      const { hour, minute, second, fractionalSecond } = parseTimeString(value);\n      const { effectiveLocale: locale, numberingSystem } = this;\n      const {\n        localizedHour,\n        localizedHourSuffix,\n        localizedMinute,\n        localizedMinuteSuffix,\n        localizedSecond,\n        localizedDecimalSeparator,\n        localizedFractionalSecond,\n        localizedSecondSuffix,\n        localizedMeridiem,\n      } = localizeTimeStringToParts({ value, locale, numberingSystem });\n      this.hour = hour;\n      this.minute = minute;\n      this.second = second;\n      this.fractionalSecond = this.sanitizeFractionalSecond(fractionalSecond);\n      this.localizedHour = localizedHour;\n      this.localizedHourSuffix = localizedHourSuffix;\n      this.localizedMinute = localizedMinute;\n      this.localizedMinuteSuffix = localizedMinuteSuffix;\n      this.localizedSecond = localizedSecond;\n      this.localizedDecimalSeparator = localizedDecimalSeparator;\n      this.localizedFractionalSecond = localizedFractionalSecond;\n      this.localizedSecondSuffix = localizedSecondSuffix;\n      if (localizedMeridiem) {\n        this.localizedMeridiem = localizedMeridiem;\n        this.meridiem = getMeridiem(this.hour);\n        const formatParts = getTimeParts({ value, locale, numberingSystem });\n        this.meridiemOrder = this.getMeridiemOrder(formatParts);\n      }\n    } else {\n      this.hour = null;\n      this.fractionalSecond = null;\n      this.localizedHour = null;\n      this.localizedHourSuffix = getLocalizedTimePartSuffix(\n        \"hour\",\n        this.effectiveLocale,\n        this.numberingSystem,\n      );\n      this.localizedMeridiem = null;\n      this.localizedMinute = null;\n      this.localizedMinuteSuffix = getLocalizedTimePartSuffix(\n        \"minute\",\n        this.effectiveLocale,\n        this.numberingSystem,\n      );\n      this.localizedSecond = null;\n      this.localizedDecimalSeparator = getLocalizedDecimalSeparator(\n        this.effectiveLocale,\n        this.numberingSystem,\n      );\n      this.localizedFractionalSecond = null;\n      this.localizedSecondSuffix = getLocalizedTimePartSuffix(\n        \"second\",\n        this.effectiveLocale,\n        this.numberingSystem,\n      );\n      this.meridiem = null;\n      this.minute = null;\n      this.second = null;\n      this.value = null;\n    }\n  };\n\n  private setValuePart = (\n    key: \"hour\" | \"minute\" | \"second\" | \"fractionalSecond\" | \"meridiem\",\n    value: number | string | Meridiem,\n  ): void => {\n    const { effectiveLocale: locale, numberingSystem } = this;\n    if (key === \"meridiem\") {\n      this.meridiem = value as Meridiem;\n      if (isValidNumber(this.hour)) {\n        const hourAsNumber = parseInt(this.hour);\n        switch (value) {\n          case \"AM\":\n            if (hourAsNumber >= 12) {\n              this.hour = formatTimePart(hourAsNumber - 12);\n            }\n            break;\n          case \"PM\":\n            if (hourAsNumber < 12) {\n              this.hour = formatTimePart(hourAsNumber + 12);\n            }\n            break;\n        }\n        this.localizedHour = localizeTimePart({\n          value: this.hour,\n          part: \"hour\",\n          locale,\n          numberingSystem,\n        });\n      }\n    } else if (key === \"fractionalSecond\") {\n      const stepPrecision = decimalPlaces(this.step);\n      if (typeof value === \"number\") {\n        this.fractionalSecond =\n          value === 0 ? \"\".padStart(stepPrecision, \"0\") : formatTimePart(value, stepPrecision);\n      } else {\n        this.fractionalSecond = value;\n      }\n      this.localizedFractionalSecond = localizeTimePart({\n        value: this.fractionalSecond,\n        part: \"fractionalSecond\",\n        locale,\n        numberingSystem,\n      });\n    } else {\n      this[key] = typeof value === \"number\" ? formatTimePart(value) : value;\n      this[`localized${capitalize(key)}`] = localizeTimePart({\n        value: this[key],\n        part: key,\n        locale,\n        numberingSystem,\n      });\n    }\n    let emit = false;\n    let newValue;\n    if (this.hour && this.minute) {\n      newValue = `${this.hour}:${this.minute}`;\n      if (this.showSecond) {\n        newValue = `${newValue}:${this.second ?? \"00\"}`;\n        if (this.showFractionalSecond && this.fractionalSecond) {\n          newValue = `${newValue}.${this.fractionalSecond}`;\n        }\n      }\n    } else {\n      newValue = null;\n    }\n    if (this.value !== newValue) {\n      emit = true;\n    }\n    this.value = newValue;\n    this.localizedMeridiem = this.value\n      ? localizeTimeStringToParts({ value: this.value, locale, numberingSystem })\n          ?.localizedMeridiem || null\n      : localizeTimePart({ value: this.meridiem, part: \"meridiem\", locale, numberingSystem });\n    if (emit) {\n      this.calciteInternalTimePickerChange.emit();\n    }\n  };\n\n  private toggleSecond(): void {\n    this.showSecond = this.step < 60;\n    this.showFractionalSecond = decimalPlaces(this.step) > 0;\n  }\n\n  private getMeridiemOrder(formatParts: Intl.DateTimeFormatPart[]): number {\n    const locale = this.effectiveLocale;\n    const isRTLKind = locale === \"ar\" || locale === \"he\";\n    if (formatParts && !isRTLKind) {\n      const index = formatParts.findIndex((parts: { type: string; value: string }) => {\n        return parts.value === this.localizedMeridiem;\n      });\n      return index;\n    }\n    return 0;\n  }\n\n  private updateLocale() {\n    updateMessages(this, this.effectiveLocale);\n    this.hourCycle = getLocaleHourCycle(this.effectiveLocale, this.numberingSystem);\n    this.localizedDecimalSeparator = getLocalizedDecimalSeparator(\n      this.effectiveLocale,\n      this.numberingSystem,\n    );\n    this.setValue(this.sanitizeValue(this.value));\n  }\n\n  // --------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  // --------------------------------------------------------------------------\n\n  connectedCallback() {\n    connectLocalized(this);\n    this.updateLocale();\n    connectMessages(this);\n    this.toggleSecond();\n    this.meridiemOrder = this.getMeridiemOrder(\n      getTimeParts({\n        value: \"0:00:00\",\n        locale: this.effectiveLocale,\n        numberingSystem: this.numberingSystem,\n      }),\n    );\n  }\n\n  async componentWillLoad(): Promise<void> {\n    setUpLoadableComponent(this);\n    await setUpMessages(this);\n  }\n\n  componentDidLoad(): void {\n    setComponentLoaded(this);\n  }\n\n  disconnectedCallback(): void {\n    disconnectLocalized(this);\n    disconnectMessages(this);\n  }\n\n  // --------------------------------------------------------------------------\n  //\n  //  Render Methods\n  //\n  // --------------------------------------------------------------------------\n\n  render(): VNode {\n    const hourIsNumber = isValidNumber(this.hour);\n    const iconScale = getIconScale(this.scale);\n    const minuteIsNumber = isValidNumber(this.minute);\n    const secondIsNumber = isValidNumber(this.second);\n    const fractionalSecondIsNumber = isValidNumber(this.fractionalSecond);\n    const showMeridiem = this.hourCycle === \"12\";\n    return (\n      <div\n        class={{\n          [CSS.timePicker]: true,\n          [CSS.showMeridiem]: showMeridiem,\n          [CSS.showSecond]: this.showSecond,\n          [CSS[`scale-${this.scale}`]]: true,\n        }}\n        dir=\"ltr\"\n      >\n        <div class={CSS.column} role=\"group\">\n          <span\n            aria-label={this.messages.hourUp}\n            class={{\n              [CSS.button]: true,\n              [CSS.buttonHourUp]: true,\n              [CSS.buttonTopLeft]: true,\n            }}\n            onClick={this.hourUpClickHandler}\n            role=\"button\"\n          >\n            <calcite-icon icon=\"chevron-up\" scale={iconScale} />\n          </span>\n          <span\n            aria-label={this.messages.hour}\n            aria-valuemax=\"23\"\n            aria-valuemin=\"1\"\n            aria-valuenow={(hourIsNumber && parseInt(this.hour)) || \"0\"}\n            aria-valuetext={this.hour}\n            class={{\n              [CSS.input]: true,\n              [CSS.hour]: true,\n              [CSS.inputFocus]: this.activeEl && this.activeEl === this.hourEl,\n            }}\n            onClick={this.inputClickHandler}\n            onFocus={this.focusHandler}\n            onKeyDown={this.hourKeyDownHandler}\n            role=\"spinbutton\"\n            tabIndex={0}\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref={this.setHourEl}\n          >\n            {this.localizedHour || \"--\"}\n          </span>\n          <span\n            aria-label={this.messages.hourDown}\n            class={{\n              [CSS.button]: true,\n              [CSS.buttonHourDown]: true,\n              [CSS.buttonBottomLeft]: true,\n            }}\n            onClick={this.hourDownClickHandler}\n            role=\"button\"\n          >\n            <calcite-icon icon=\"chevron-down\" scale={iconScale} />\n          </span>\n        </div>\n        <span class={CSS.delimiter}>{this.localizedHourSuffix}</span>\n        <div class={CSS.column} role=\"group\">\n          <span\n            aria-label={this.messages.minuteUp}\n            class={{\n              [CSS.button]: true,\n              [CSS.buttonMinuteUp]: true,\n            }}\n            onClick={this.minuteUpClickHandler}\n            role=\"button\"\n          >\n            <calcite-icon icon=\"chevron-up\" scale={iconScale} />\n          </span>\n          <span\n            aria-label={this.messages.minute}\n            aria-valuemax=\"12\"\n            aria-valuemin=\"1\"\n            aria-valuenow={(minuteIsNumber && parseInt(this.minute)) || \"0\"}\n            aria-valuetext={this.minute}\n            class={{\n              [CSS.input]: true,\n              [CSS.minute]: true,\n              [CSS.inputFocus]: this.activeEl && this.activeEl === this.minuteEl,\n            }}\n            onClick={this.inputClickHandler}\n            onFocus={this.focusHandler}\n            onKeyDown={this.minuteKeyDownHandler}\n            role=\"spinbutton\"\n            tabIndex={0}\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref={this.setMinuteEl}\n          >\n            {this.localizedMinute || \"--\"}\n          </span>\n          <span\n            aria-label={this.messages.minuteDown}\n            class={{\n              [CSS.button]: true,\n              [CSS.buttonMinuteDown]: true,\n            }}\n            onClick={this.minuteDownClickHandler}\n            role=\"button\"\n          >\n            <calcite-icon icon=\"chevron-down\" scale={iconScale} />\n          </span>\n        </div>\n        {this.showSecond && <span class={CSS.delimiter}>{this.localizedMinuteSuffix}</span>}\n        {this.showSecond && (\n          <div class={CSS.column} role=\"group\">\n            <span\n              aria-label={this.messages.secondUp}\n              class={{\n                [CSS.button]: true,\n                [CSS.buttonSecondUp]: true,\n              }}\n              onClick={this.secondUpClickHandler}\n              role=\"button\"\n            >\n              <calcite-icon icon=\"chevron-up\" scale={iconScale} />\n            </span>\n            <span\n              aria-label={this.messages.second}\n              aria-valuemax=\"59\"\n              aria-valuemin=\"0\"\n              aria-valuenow={(secondIsNumber && parseInt(this.second)) || \"0\"}\n              aria-valuetext={this.second}\n              class={{\n                [CSS.input]: true,\n                [CSS.second]: true,\n                [CSS.inputFocus]: this.activeEl && this.activeEl === this.secondEl,\n              }}\n              onClick={this.inputClickHandler}\n              onFocus={this.focusHandler}\n              onKeyDown={this.secondKeyDownHandler}\n              role=\"spinbutton\"\n              tabIndex={0}\n              // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n              ref={this.setSecondEl}\n            >\n              {this.localizedSecond || \"--\"}\n            </span>\n            <span\n              aria-label={this.messages.secondDown}\n              class={{\n                [CSS.button]: true,\n                [CSS.buttonSecondDown]: true,\n              }}\n              onClick={this.secondDownClickHandler}\n              role=\"button\"\n            >\n              <calcite-icon icon=\"chevron-down\" scale={iconScale} />\n            </span>\n          </div>\n        )}\n        {this.showFractionalSecond && (\n          <span class={CSS.delimiter}>{this.localizedDecimalSeparator}</span>\n        )}\n        {this.showFractionalSecond && (\n          <div class={CSS.column} role=\"group\">\n            <span\n              aria-label={this.messages.fractionalSecondUp}\n              class={{\n                [CSS.button]: true,\n                [CSS.buttonFractionalSecondUp]: true,\n              }}\n              onClick={this.fractionalSecondUpClickHandler}\n              role=\"button\"\n            >\n              <calcite-icon icon=\"chevron-up\" scale={iconScale} />\n            </span>\n            <span\n              aria-label={this.messages.fractionalSecond}\n              aria-valuemax=\"999\"\n              aria-valuemin=\"1\"\n              aria-valuenow={(fractionalSecondIsNumber && parseInt(this.fractionalSecond)) || \"0\"}\n              aria-valuetext={this.localizedFractionalSecond}\n              class={{\n                [CSS.input]: true,\n                [CSS.fractionalSecond]: true,\n                [CSS.inputFocus]: this.activeEl && this.activeEl === this.fractionalSecondEl,\n              }}\n              onClick={this.inputClickHandler}\n              onFocus={this.focusHandler}\n              onKeyDown={this.fractionalSecondKeyDownHandler}\n              role=\"spinbutton\"\n              tabIndex={0}\n              // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n              ref={this.setFractionalSecondEl}\n            >\n              {this.localizedFractionalSecond || \"--\"}\n            </span>\n            <span\n              aria-label={this.messages.fractionalSecondDown}\n              class={{\n                [CSS.button]: true,\n                [CSS.buttonFractionalSecondDown]: true,\n              }}\n              onClick={this.fractionalSecondDownClickHandler}\n              role=\"button\"\n            >\n              <calcite-icon icon=\"chevron-down\" scale={iconScale} />\n            </span>\n          </div>\n        )}\n        {this.localizedSecondSuffix && (\n          <span class={CSS.delimiter}>{this.localizedSecondSuffix}</span>\n        )}\n        {showMeridiem && (\n          <div\n            class={{\n              [CSS.column]: true,\n              [CSS.meridiemStart]: this.meridiemOrder === 0,\n            }}\n            role=\"group\"\n          >\n            <span\n              aria-label={this.messages.meridiemUp}\n              class={{\n                [CSS.button]: true,\n                [CSS.buttonMeridiemUp]: true,\n                [CSS.buttonTopRight]: true,\n              }}\n              onClick={this.meridiemUpClickHandler}\n              role=\"button\"\n            >\n              <calcite-icon icon=\"chevron-up\" scale={iconScale} />\n            </span>\n            <span\n              aria-label={this.messages.meridiem}\n              aria-valuemax=\"2\"\n              aria-valuemin=\"1\"\n              aria-valuenow={(this.meridiem === \"PM\" && \"2\") || \"1\"}\n              aria-valuetext={this.meridiem}\n              class={{\n                [CSS.input]: true,\n                [CSS.meridiem]: true,\n                [CSS.inputFocus]: this.activeEl && this.activeEl === this.meridiemEl,\n              }}\n              onClick={this.inputClickHandler}\n              onFocus={this.focusHandler}\n              onKeyDown={this.meridiemKeyDownHandler}\n              role=\"spinbutton\"\n              tabIndex={0}\n              // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n              ref={this.setMeridiemEl}\n            >\n              {this.localizedMeridiem || \"--\"}\n            </span>\n            <span\n              aria-label={this.messages.meridiemDown}\n              class={{\n                [CSS.button]: true,\n                [CSS.buttonMeridiemDown]: true,\n                [CSS.buttonBottomRight]: true,\n              }}\n              onClick={this.meridiemDownClickHandler}\n              role=\"button\"\n            >\n              <calcite-icon icon=\"chevron-down\" scale={iconScale} />\n            </span>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n"],"mappings":"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"}