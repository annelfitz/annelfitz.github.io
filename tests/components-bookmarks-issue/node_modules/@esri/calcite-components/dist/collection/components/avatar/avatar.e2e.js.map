{"version":3,"file":"avatar.e2e.js","sourceRoot":"","sources":["../../../../src/components/avatar/avatar.e2e.ts"],"names":[],"mappings":"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","sourcesContent":["import { newE2EPage } from \"@stencil/core/testing\";\nimport { accessible, defaults, hidden, renders } from \"../../tests/commonTests\";\nimport { placeholderImage } from \"../../../.storybook/placeholderImage\";\n\nconst placeholderUrl = placeholderImage({\n  width: 120,\n  height: 120,\n});\n\ndescribe(\"calcite-avatar\", () => {\n  describe(\"renders\", () => {\n    renders(\"calcite-avatar\", { display: \"inline-block\" });\n  });\n\n  describe(\"honors hidden attribute\", () => {\n    hidden(\"calcite-avatar\");\n  });\n\n  describe(\"accessible\", () => {\n    accessible(\"calcite-avatar\");\n    accessible(`<calcite-avatar thumbnail=\"${placeholderUrl}\"></calcite-avatar>`);\n  });\n\n  describe(\"defaults\", () => {\n    defaults(\"calcite-avatar\", [\n      {\n        propertyName: \"scale\",\n        defaultValue: \"m\",\n      },\n    ]);\n  });\n\n  it(\"renders thumbnail when provided\", async () => {\n    const page = await newE2EPage();\n    await page.setContent(`<calcite-avatar thumbnail=\"${placeholderUrl}\"></calcite-avatar>`);\n    const thumbnail = await page.find(\"calcite-avatar >>> .thumbnail\");\n    expect(thumbnail).toEqualAttribute(\"src\", placeholderUrl);\n  });\n\n  it(\"renders initials when no thumbnail is provided\", async () => {\n    const page = await newE2EPage();\n    await page.setContent(\"<calcite-avatar full-name='My Dude'></calcite-avatar>\");\n    const initials = await page.find(\"calcite-avatar >>> .initials\");\n    expect(initials).toEqualText(\"MD\");\n  });\n\n  it(\"computes a background fill color based on user id\", async () => {\n    const page = await newE2EPage();\n    await page.setContent(\"<calcite-avatar user-id='25684463a00c449585dbb32a065f6b74'></calcite-avatar>\");\n    const style = await page.evaluate(() => {\n      const background = document.querySelector(\"calcite-avatar\").shadowRoot.querySelector(\".background\");\n      return background.getAttribute(\"style\");\n    });\n    expect(style).toEqual(\"background-color: rgb(214, 232, 245);\");\n  });\n\n  it(\"computes a background fill if id is not a valid hex\", async () => {\n    const page = await newE2EPage();\n    await page.setContent(\"<calcite-avatar user-id='for sure not a hex' username='THaverford'></calcite-avatar>\");\n    const initials = await page.find(\"calcite-avatar >>> .initials\");\n    expect(initials).toEqualText(\"TH\");\n    const style = await page.evaluate(() => {\n      const background = document.querySelector(\"calcite-avatar\").shadowRoot.querySelector(\".background\");\n      return background.getAttribute(\"style\");\n    });\n    expect(style).toEqual(\"background-color: rgb(245, 219, 214);\");\n  });\n\n  it(\"renders default icon when no information is passed\", async () => {\n    const page = await newE2EPage();\n    await page.setContent(\"<calcite-avatar></calcite-avatar>\");\n    const icon = await page.find(\"calcite-avatar >>> .icon\");\n    const visible = await icon.isVisible();\n    expect(visible).toBe(true);\n  });\n});\n"]}