{"version":3,"file":"split-button.js","sourceRoot":"","sources":["../../../../src/components/split-button/split-button.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Method,\n  Prop,\n  VNode,\n  Watch,\n} from \"@stencil/core\";\nimport { OverlayPositioning } from \"../../utils/floating-ui\";\nimport {\n  connectInteractive,\n  disconnectInteractive,\n  InteractiveComponent,\n  InteractiveContainer,\n  updateHostInteraction,\n} from \"../../utils/interactive\";\nimport {\n  componentFocusable,\n  LoadableComponent,\n  setComponentLoaded,\n  setUpLoadableComponent,\n} from \"../../utils/loadable\";\nimport { DropdownIconType } from \"../button/interfaces\";\nimport { Appearance, FlipContext, Kind, Scale, Width } from \"../interfaces\";\nimport { CSS } from \"./resources\";\n\n/**\n * @slot - A slot for adding `calcite-dropdown` content.\n */\n@Component({\n  tag: \"calcite-split-button\",\n  styleUrl: \"split-button.scss\",\n  shadow: {\n    delegatesFocus: true,\n  },\n})\nexport class SplitButton implements InteractiveComponent, LoadableComponent {\n  //--------------------------------------------------------------------------\n  //\n  //  Public Properties\n  //\n  //--------------------------------------------------------------------------\n\n  /** Specifies the appearance style of the component. */\n  @Prop({ reflect: true }) appearance: Extract<\n    \"outline\" | \"outline-fill\" | \"solid\" | \"transparent\",\n    Appearance\n  > = \"solid\";\n\n  /** Specifies the kind of the component, which will apply to border and background, if applicable. */\n  @Prop({ reflect: true }) kind: Extract<\"brand\" | \"danger\" | \"inverse\" | \"neutral\", Kind> =\n    \"brand\";\n\n  /** When `true`, interaction is prevented and the component is displayed with lower opacity. */\n  @Prop({ reflect: true }) disabled = false;\n\n  @Watch(\"disabled\")\n  handleDisabledChange(value: boolean): void {\n    if (!value) {\n      this.active = false;\n    }\n  }\n\n  /**\n   * When `true`, the component is active.\n   *\n   * @internal\n   */\n  @Prop({ mutable: true, reflect: true }) active = false;\n\n  @Watch(\"active\")\n  activeHandler(): void {\n    if (this.disabled) {\n      this.active = false;\n    }\n  }\n\n  /** Specifies the icon used for the dropdown menu. */\n  @Prop({ reflect: true }) dropdownIconType: DropdownIconType = \"chevron\";\n\n  /** Accessible name for the dropdown menu. */\n  @Prop({ reflect: true }) dropdownLabel: string;\n\n  /**\n    When `true`, a busy indicator is displayed on the primary button.\n   */\n  @Prop({ reflect: true }) loading = false;\n\n  /**\n   * Determines the type of positioning to use for the overlaid content.\n   *\n   * Using `\"absolute\"` will work for most cases. The component will be positioned inside of overflowing parent containers and will affect the container's layout.\n   *\n   * `\"fixed\"` should be used to escape an overflowing parent container, or when the reference element's `position` CSS property is `\"fixed\"`.\n   *\n   */\n  @Prop({ reflect: true }) overlayPositioning: OverlayPositioning = \"absolute\";\n\n  /** Specifies an icon to display at the end of the primary button. */\n  @Prop({ reflect: true }) primaryIconEnd: string;\n\n  /**  Displays the `primaryIconStart` and/or `primaryIconEnd` as flipped when the element direction is right-to-left (`\"rtl\"`). */\n  @Prop({ reflect: true }) primaryIconFlipRtl: FlipContext;\n\n  /** Specifies an icon to display at the start of the primary button. */\n  @Prop({ reflect: true }) primaryIconStart: string;\n\n  /** Accessible name for the primary button. */\n  @Prop({ reflect: true }) primaryLabel: string;\n\n  /** Text displayed in the primary button. */\n  @Prop({ reflect: true }) primaryText: string;\n\n  /** Specifies the size of the component. */\n  @Prop({ reflect: true }) scale: Scale = \"m\";\n\n  /** Specifies the width of the component. */\n  @Prop({ reflect: true }) width: Width = \"auto\";\n\n  /**\n   * Fires when the primary button is clicked.\n   */\n  @Event({ cancelable: false })\n  calciteSplitButtonPrimaryClick: EventEmitter<void>;\n\n  /**\n   * Fires when the dropdown menu is clicked.\n   */\n  @Event({ cancelable: false })\n  calciteSplitButtonSecondaryClick: EventEmitter<void>;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n\n  /** Sets focus on the component's first focusable element. */\n  @Method()\n  async setFocus(): Promise<void> {\n    await componentFocusable(this);\n    this.el.focus();\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private Properties\n  //\n  //--------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteSplitButtonElement;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n\n  connectedCallback(): void {\n    connectInteractive(this);\n  }\n\n  componentWillLoad(): void {\n    setUpLoadableComponent(this);\n  }\n\n  componentDidLoad(): void {\n    setComponentLoaded(this);\n  }\n\n  componentDidRender(): void {\n    updateHostInteraction(this);\n  }\n\n  disconnectedCallback(): void {\n    disconnectInteractive(this);\n  }\n\n  render(): VNode {\n    const buttonWidth = this.width === \"auto\" ? \"auto\" : \"full\";\n\n    return (\n      <InteractiveContainer disabled={this.disabled}>\n        <div class={CSS.container}>\n          <calcite-button\n            appearance={this.appearance}\n            disabled={this.disabled}\n            icon-end={this.primaryIconEnd ? this.primaryIconEnd : null}\n            icon-start={this.primaryIconStart ? this.primaryIconStart : null}\n            iconFlipRtl={this.primaryIconFlipRtl ? this.primaryIconFlipRtl : null}\n            kind={this.kind}\n            label={this.primaryLabel}\n            loading={this.loading}\n            onClick={this.calciteSplitButtonPrimaryClickHandler}\n            scale={this.scale}\n            splitChild={\"primary\"}\n            type=\"button\"\n            width={buttonWidth}\n          >\n            {this.primaryText}\n          </calcite-button>\n          <div class={CSS.dividerContainer}>\n            <div class={CSS.divider} />\n          </div>\n          <calcite-dropdown\n            disabled={this.disabled}\n            onClick={this.calciteSplitButtonSecondaryClickHandler}\n            open={this.active}\n            overlayPositioning={this.overlayPositioning}\n            placement=\"bottom-end\"\n            scale={this.scale}\n            width-scale={this.scale}\n          >\n            <calcite-button\n              appearance={this.appearance}\n              disabled={this.disabled}\n              icon-start={this.dropdownIcon}\n              kind={this.kind}\n              label={this.dropdownLabel}\n              scale={this.scale}\n              slot=\"trigger\"\n              splitChild={\"secondary\"}\n              type=\"button\"\n            />\n            <slot />\n          </calcite-dropdown>\n        </div>\n      </InteractiveContainer>\n    );\n  }\n\n  private calciteSplitButtonPrimaryClickHandler = (): CustomEvent =>\n    this.calciteSplitButtonPrimaryClick.emit();\n\n  private calciteSplitButtonSecondaryClickHandler = (): CustomEvent =>\n    this.calciteSplitButtonSecondaryClick.emit();\n\n  private get dropdownIcon(): string {\n    return this.dropdownIconType === \"chevron\"\n      ? \"chevronDown\"\n      : this.dropdownIconType === \"caret\"\n        ? \"caretDown\"\n        : this.dropdownIconType === \"ellipsis\"\n          ? \"ellipsis\"\n          : \"handle-vertical\";\n  }\n}\n"]}