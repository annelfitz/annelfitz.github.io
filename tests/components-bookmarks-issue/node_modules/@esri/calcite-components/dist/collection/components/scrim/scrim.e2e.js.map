{"version":3,"file":"scrim.e2e.js","sourceRoot":"","sources":["../../../../src/components/scrim/scrim.e2e.ts"],"names":[],"mappings":"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","sourcesContent":["import { newE2EPage } from \"@stencil/core/testing\";\nimport { accessible, defaults, hidden, renders, t9n } from \"../../tests/commonTests\";\nimport { BREAKPOINTS, CSS } from \"./resources\";\nimport { html } from \"../../../support/formatting\";\nimport { Scale } from \"../interfaces\";\n\ndescribe(\"calcite-scrim\", () => {\n  describe(\"renders\", () => {\n    renders(\"<calcite-scrim></calcite-scrim>\", { display: \"flex\" });\n  });\n\n  describe(\"honors hidden attribute\", () => {\n    hidden(\"calcite-scrim\");\n  });\n\n  describe(\"accessible\", () => {\n    accessible(\"<calcite-scrim>My content</calcite-scrim>\");\n  });\n\n  describe(\"accessible when loading\", () => {\n    accessible(\"<calcite-scrim loading>My content</calcite-scrim>\");\n  });\n\n  describe(\"defaults\", () => {\n    defaults(\"calcite-scrim\", [\n      {\n        propertyName: \"loading\",\n        defaultValue: false,\n      },\n    ]);\n  });\n\n  describe(\"translation support\", () => {\n    t9n(\"calcite-scrim\");\n  });\n\n  it(\"shows loading component\", async () => {\n    const page = await newE2EPage();\n\n    await page.setContent(\"<calcite-scrim></calcite-scrim>\");\n\n    let loader = await page.find(\"calcite-scrim >>> calcite-loader\");\n\n    expect(loader).toBeNull();\n\n    const scrim = await page.find(\"calcite-scrim\");\n\n    scrim.setProperty(\"loading\", true);\n\n    await page.waitForChanges();\n\n    loader = await page.find(\"calcite-scrim >>> calcite-loader\");\n\n    expect(loader).toBeDefined();\n  });\n\n  it(\"does not allow clicks in underlying nodes\", async () => {\n    const page = await newE2EPage();\n\n    await page.setContent(`\n      <calcite-panel>\n        <calcite-button>Test</calcite-button>\n        <calcite-scrim></calcite-scrim>\n      </calcite-panel>\n    `);\n\n    const button = await page.find(`calcite-button`);\n\n    const clickSpy = await button.spyOnEvent(\"click\");\n\n    expect(clickSpy).toHaveReceivedEventTimes(0);\n  });\n\n  it(\"does allow clicks inside default node\", async () => {\n    const page = await newE2EPage();\n\n    await page.setContent(`\n      <calcite-scrim>\n        <calcite-button>Test</calcite-button>\n      </calcite-scrim>\n    `);\n\n    const button = await page.find(`calcite-button`);\n\n    const clickSpy = await button.spyOnEvent(\"click\");\n\n    await button.click();\n\n    expect(clickSpy).toHaveReceivedEventTimes(1);\n  });\n\n  it(\"does not display content if the default slot if it is empty\", async () => {\n    const page = await newE2EPage();\n\n    await page.setContent(`<calcite-scrim></calcite-scrim>`);\n    const contentNode = await page.find(`calcite-scrim >>> .${CSS.content}`);\n    expect(contentNode).toHaveAttribute(\"hidden\");\n\n    const scrim = await page.find(\"calcite-scrim\");\n    scrim.innerHTML = \"<p>Content added after initialization</p>\";\n    await page.waitForChanges();\n\n    const content = await page.find(\"p\");\n    expect(content).toBeTruthy();\n    expect(await content.isVisible()).toBe(true);\n    expect(contentNode).not.toHaveAttribute(\"hidden\");\n  });\n\n  it(\"renders content in the default slot has content\", async () => {\n    const page = await newE2EPage();\n\n    await page.setContent(`<calcite-scrim>This is a test.</calcite-scrim>`);\n\n    const contentNode = await page.find(`calcite-scrim >>> .${CSS.content}`);\n\n    expect(contentNode).not.toBeNull();\n    expect(await contentNode.isVisible()).toBe(true);\n    expect(contentNode).not.toHaveAttribute(\"hidden\");\n  });\n\n  describe(\"Responsive loading spinner\", () => {\n    type ScaleSize = { width: number; height: number; scale: Scale };\n    const testValues: ScaleSize[] = [\n      {\n        width: BREAKPOINTS.s - 1,\n        height: 800,\n        scale: \"s\",\n      },\n      {\n        width: 800,\n        height: BREAKPOINTS.s - 1,\n        scale: \"s\",\n      },\n      {\n        width: BREAKPOINTS.l - 1,\n        height: 800,\n        scale: \"m\",\n      },\n      {\n        width: 800,\n        height: BREAKPOINTS.l - 1,\n        scale: \"m\",\n      },\n      {\n        width: BREAKPOINTS.l,\n        height: 800,\n        scale: \"l\",\n      },\n      {\n        width: 800,\n        height: BREAKPOINTS.l,\n        scale: \"l\",\n      },\n    ];\n\n    testValues.forEach((scaleSize) => {\n      it(`should have a scale=\"${scaleSize.scale}\" loading spinner`, async () => {\n        const page = await newE2EPage();\n        await page.setContent(\n          html`<style>\n              .scrim-container {\n                position: relative;\n                overflow: auto;\n                width: ${scaleSize.width}px;\n                height: ${scaleSize.height}px;\n              }\n            </style>\n            <div class=\"scrim-container\">\n              <calcite-scrim loading><p>I'm a panel that is loading.</p></calcite-scrim>\n            </div>`,\n        );\n        await page.waitForChanges();\n\n        const loader = await page.find(\"calcite-scrim >>> calcite-loader\");\n\n        expect(loader).toBeDefined();\n        expect(await loader.isVisible()).toBe(true);\n        expect(await loader.getProperty(\"scale\")).toBe(scaleSize.scale);\n      });\n    });\n\n    it(\"should responsively scale loading spinner on resize\", async () => {\n      const page = await newE2EPage();\n      await page.setContent(\n        html`<style>\n            .scrim-container {\n              display: flex;\n              flex: 1;\n              position: relative;\n              overflow: auto;\n            }\n          </style>\n          <div class=\"scrim-container\">\n            <calcite-scrim loading><p>I'm a panel that is loading.</p></calcite-scrim>\n          </div>`,\n      );\n      await page.waitForChanges();\n\n      for (let i = 0; i < testValues.length; i++) {\n        const { width, height, scale } = testValues[i];\n        const scrimContainer = await page.find(\".scrim-container\");\n        expect(scrimContainer).toBeDefined();\n        await page.$eval(\n          \".scrim-container\",\n          (scrimContainer: HTMLElement, width: number, height: number) => {\n            scrimContainer.style.width = `${width}px`;\n            scrimContainer.style.height = `${height}px`;\n          },\n          width,\n          height,\n        );\n        await page.waitForChanges();\n        const style = await scrimContainer.getComputedStyle();\n        expect(style.width).toBe(`${width}px`);\n        expect(style.height).toBe(`${height}px`);\n        const loader = await page.find(\"calcite-scrim >>> calcite-loader\");\n        expect(loader).toBeDefined();\n        expect(await loader.isVisible()).toBe(true);\n        expect(await loader.getProperty(\"scale\")).toBe(scale);\n      }\n    });\n  });\n\n  describe(\"CSS properties for light/dark modes\", () => {\n    const scrimSnippet = `\n    <div style=\"position: relative; width: 200px; height: 200px; overflow: auto;\">\n      <calcite-scrim>\n        <p>I'm a panel that is not loading.</p>\n        <p>This content can have any zIndex and it will not be placed above</p>\n      </calcite-scrim>\n    </div>\n    `;\n    let page;\n    let scrim;\n    let scrimStyles;\n    let scrimBgStyle;\n\n    it(\"should have defined CSS custom properties\", async () => {\n      page = await newE2EPage({ html: scrimSnippet });\n      scrimBgStyle = await page.evaluate(() => {\n        scrim = document.querySelector(\"calcite-scrim\");\n        scrim.style.setProperty(\"--calcite-scrim-background\", \"green\");\n        return window.getComputedStyle(scrim).getPropertyValue(\"--calcite-scrim-background\");\n      });\n      expect(scrimBgStyle).toEqual(\"green\");\n    });\n\n    describe(\"when mode attribute is not provided\", () => {\n      it(\"should render scrim background with default value tied to mode\", async () => {\n        page = await newE2EPage({ html: scrimSnippet });\n        scrim = await page.find(\"calcite-scrim >>> .scrim\");\n        scrimStyles = await scrim.getComputedStyle();\n        scrimBgStyle = await scrimStyles.getPropertyValue(\"background-color\");\n        expect(scrimBgStyle).toEqual(\"rgba(255, 255, 255, 0.85)\");\n      });\n    });\n\n    describe(\"when mode attribute is dark\", () => {\n      it(\"should render scrim background with value tied to dark mode\", async () => {\n        page = await newE2EPage({\n          html: `<div class=\"calcite-mode-dark\">${scrimSnippet}</div>`,\n        });\n        scrim = await page.find(\"calcite-scrim >>> .scrim\");\n        scrimStyles = await scrim.getComputedStyle();\n        scrimBgStyle = await scrimStyles.getPropertyValue(\"background-color\");\n        expect(scrimBgStyle).toEqual(\"rgba(0, 0, 0, 0.85)\");\n      });\n    });\n\n    it(\"should allow the CSS custom property to be overridden when parent token is altered at :root\", async () => {\n      const overrideStyle = \"rgb(128, 0, 128)\";\n      page = await newE2EPage({\n        html: `\n        <style>\n          :root {\n            --calcite-color-transparent-scrim: ${overrideStyle};\n          }\n        </style>\n        ${scrimSnippet}\n        `,\n      });\n      scrim = await page.find(\"calcite-scrim >>> .scrim\");\n      scrimStyles = await scrim.getComputedStyle();\n      scrimBgStyle = await scrimStyles.getPropertyValue(\"background-color\");\n      expect(scrimBgStyle).toEqual(overrideStyle);\n    });\n\n    it(\"should allow the CSS custom property to be overridden when applied to element\", async () => {\n      const overrideStyle = \"rgb(128, 0, 128)\";\n      page = await newE2EPage({\n        html: `\n        <style>\n          calcite-scrim {\n            --calcite-scrim-background: ${overrideStyle};\n          }\n        </style>\n        ${scrimSnippet}\n        `,\n      });\n      scrim = await page.find(\"calcite-scrim >>> .scrim\");\n      scrimStyles = await scrim.getComputedStyle();\n      scrimBgStyle = await scrimStyles.getPropertyValue(\"background-color\");\n      expect(scrimBgStyle).toEqual(overrideStyle);\n    });\n  });\n});\n"]}