{"version":3,"file":"form.spec.js","sourceRoot":"","sources":["../../../src/utils/form.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import { findAssociatedForm, FormOwner, resetForm, submitForm } from \"./form\";\n\ndescribe(\"form\", () => {\n  it(\"has a `submitForm()` util\", async () => {\n    const formEl = document.createElement(\"form\");\n    const form = null;\n    const el = document.createElement(\"div\");\n    const formOwner: FormOwner = { formEl, form, el };\n    const submitSpy = jest.fn();\n    formEl.requestSubmit = submitSpy;\n\n    let submitted = submitForm(formOwner);\n\n    expect(submitted).toBe(true);\n    expect(submitSpy).toHaveBeenCalledTimes(1);\n\n    formOwner.formEl = null;\n\n    submitted = submitForm(formOwner);\n\n    expect(submitted).toBe(false);\n    expect(submitSpy).toHaveBeenCalledTimes(1);\n  });\n\n  it(\"has a `resetForm()` util\", async () => {\n    const formEl = document.createElement(\"form\");\n    const form = null;\n    const el = document.createElement(\"div\");\n    const formOwner: FormOwner = { formEl, form, el };\n    const resetSpy = jest.fn();\n    formEl.reset = resetSpy;\n\n    resetForm(formOwner);\n    expect(resetSpy).toHaveBeenCalledTimes(1);\n\n    formOwner.formEl = null;\n\n    resetForm(formOwner);\n    expect(resetSpy).toHaveBeenCalledTimes(1);\n  });\n\n  describe(\"`findAssociatedForm()`\", () => {\n    it(\"finds form via ancestry\", async () => {\n      const formEl = document.createElement(\"form\");\n      const form = null;\n      const el = document.createElement(\"div\");\n      formEl.append(el);\n      const formOwner: FormOwner = { formEl, form, el };\n\n      expect(findAssociatedForm(formOwner)).toBe(formEl);\n    });\n\n    it(\"finds form via ID\", async () => {\n      const formEl = document.createElement(\"form\");\n      const formId = \"test-form\";\n      formEl.id = formId;\n      const form = formId;\n      const el = document.createElement(\"div\");\n      document.append(formEl, el);\n      const formOwner: FormOwner = { formEl, form, el };\n\n      expect(findAssociatedForm(formOwner)).toBe(formEl);\n    });\n  });\n});\n"]}