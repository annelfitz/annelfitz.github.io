{"version":3,"file":"label.spec.js","sourceRoot":"","sources":["../../../src/utils/label.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import { connectLabel, disconnectLabel, getLabelText, LabelableComponent, labelClickEvent } from \"./label\";\n\ndescribe(\"label\", () => {\n  function createFakeLabelable(overrides: Partial<LabelableComponent>): LabelableComponent {\n    const base = {\n      disabled: null,\n      el: null,\n      label: null,\n      labelEl: null,\n      onLabelClick: jest.fn(),\n    };\n\n    return { ...base, ...overrides };\n  }\n\n  describe(\"connectLabel/disconnectLabel\", () => {\n    describe(\"wires up the associated label\", () => {\n      /**\n       * This util helps simulate calcite-label's behavior since we cannot use the component here\n       *\n       * @param label\n       */\n      function wireUpFakeLabel(label: HTMLElement): void {\n        label.addEventListener(\"click\", (event: MouseEvent) => {\n          label.dispatchEvent(new CustomEvent(labelClickEvent, { detail: { sourceEvent: event } }));\n        });\n      }\n\n      it(\"ignores labelable with no associated label\", () => {\n        document.body.innerHTML = `\n          <fake-labelable id=\"unlabeled\"></fake-labelable>\n      `;\n\n        const fakeLabelableEl = document.querySelector<HTMLElement>(\"#unlabeled\");\n\n        const nonLabelable = createFakeLabelable({\n          el: fakeLabelableEl,\n        });\n\n        connectLabel(nonLabelable);\n\n        expect(nonLabelable.labelEl).toBeNull();\n\n        disconnectLabel(nonLabelable);\n\n        expect(nonLabelable.labelEl).toBeNull();\n      });\n\n      it(\"prevents selecting disabled labeled element\", () => {\n        document.body.innerHTML = `\n        <calcite-label for=\"for\">label</calcite-label>\n        <fake-labelable id=\"for\"></fake-labelable>\n      `;\n\n        const labelEl = document.querySelector<HTMLElement>(\"calcite-label\");\n        const fakeLabelableEl = document.querySelector<HTMLElement>(\"#for\");\n        wireUpFakeLabel(labelEl);\n\n        const labelable = createFakeLabelable({\n          el: fakeLabelableEl,\n          disabled: true,\n        });\n\n        connectLabel(labelable);\n\n        expect(labelable.labelEl).toBe(labelEl);\n\n        labelEl.click();\n\n        expect(labelable.onLabelClick).toHaveBeenCalledTimes(0);\n\n        disconnectLabel(labelable);\n\n        expect(labelable.labelEl).toBeNull();\n      });\n\n      it(\"supports for attribute\", () => {\n        document.body.innerHTML = `\n        <calcite-label for=\"for\">label</calcite-label>\n        <fake-labelable id=\"for\"></fake-labelable>\n      `;\n\n        const labelEl = document.querySelector<HTMLElement>(\"calcite-label\");\n        const fakeLabelableEl = document.querySelector<HTMLElement>(\"#for\");\n        wireUpFakeLabel(labelEl);\n\n        const labelable = createFakeLabelable({\n          el: fakeLabelableEl,\n        });\n\n        connectLabel(labelable);\n\n        expect(labelable.labelEl).toBe(labelEl);\n\n        labelEl.click();\n\n        expect(labelable.onLabelClick).toHaveBeenCalledTimes(1);\n\n        disconnectLabel(labelable);\n\n        expect(labelable.labelEl).toBeNull();\n\n        labelEl.click();\n\n        expect(labelable.onLabelClick).toHaveBeenCalledTimes(1);\n      });\n\n      it(\"supports wrapped labelable\", () => {\n        document.body.innerHTML = `\n        <calcite-label>\n          label\n          <fake-labelable></fake-labelable>\n        </calcite-label>\n      `;\n\n        const labelEl = document.querySelector<HTMLElement>(\"calcite-label\");\n        const fakeLabelableEl = document.querySelector<HTMLElement>(\"fake-labelable\");\n\n        wireUpFakeLabel(labelEl);\n\n        const labelable = createFakeLabelable({\n          el: fakeLabelableEl,\n        });\n\n        connectLabel(labelable);\n\n        expect(labelable.labelEl).toBe(labelEl);\n\n        labelEl.click();\n\n        expect(labelable.onLabelClick).toHaveBeenCalledTimes(1);\n\n        disconnectLabel(labelable);\n\n        expect(labelable.labelEl).toBeNull();\n\n        labelEl.click();\n\n        expect(labelable.onLabelClick).toHaveBeenCalledTimes(1);\n      });\n\n      it(\"supports being rendered after labelable\", () => {\n        document.body.innerHTML = `\n          <fake-labelable id=\"renderedFirst\"></fake-labelable>\n        `;\n\n        const label = document.createElement(\"calcite-label\");\n        label.setAttribute(\"for\", \"renderedFirst\");\n        document.body.appendChild(label);\n\n        const labelEl = document.querySelector<HTMLElement>(\"calcite-label\");\n        const fakeLabelableEl = document.querySelector<HTMLElement>(\"fake-labelable\");\n\n        wireUpFakeLabel(labelEl);\n\n        const labelable = createFakeLabelable({\n          el: fakeLabelableEl,\n        });\n\n        connectLabel(labelable);\n\n        expect(labelable.labelEl).toBe(labelEl);\n\n        labelEl.click();\n\n        expect(labelable.onLabelClick).toHaveBeenCalledTimes(1);\n\n        disconnectLabel(labelable);\n\n        expect(labelable.labelEl).toBeNull();\n\n        labelEl.click();\n\n        expect(labelable.onLabelClick).toHaveBeenCalledTimes(1);\n      });\n\n      it(\"works if reattached to labelable\", () => {\n        document.body.innerHTML = `\n          <calcite-label for=\"for\"></calcite-label>\n          <fake-labelable id=\"for\"></fake-labelable>\n        `;\n        document.querySelector(\"calcite-label\").remove();\n\n        const label = document.createElement(\"calcite-label\");\n        label.setAttribute(\"for\", \"for\");\n        document.body.appendChild(label);\n\n        const labelEl = document.querySelector<HTMLElement>(\"calcite-label\");\n        const fakeLabelableEl = document.querySelector<HTMLElement>(\"fake-labelable\");\n\n        wireUpFakeLabel(labelEl);\n\n        const labelable = createFakeLabelable({\n          el: fakeLabelableEl,\n        });\n\n        connectLabel(labelable);\n\n        expect(labelable.labelEl).toBe(labelEl);\n\n        labelEl.click();\n\n        expect(labelable.onLabelClick).toHaveBeenCalledTimes(1);\n\n        disconnectLabel(labelable);\n\n        expect(labelable.labelEl).toBeNull();\n\n        labelEl.click();\n\n        expect(labelable.onLabelClick).toHaveBeenCalledTimes(1);\n      });\n\n      it(\"does not support nested labelables\", () => {\n        document.body.innerHTML = `\n        <calcite-label>\n          label\n          <fake-labelable id=\"outer\">\n            <fake-labelable id=\"inner\"></fake-labelable>\n          </fake-labelable>\n        </calcite-label>\n      `;\n\n        const labelEl = document.querySelector<HTMLElement>(\"calcite-label\");\n        const fakeInnerLabelableEl = document.querySelector<HTMLElement>(\"#inner\");\n        const fakeOuterLabelableEl = document.querySelector<HTMLElement>(\"#outer\");\n\n        wireUpFakeLabel(labelEl);\n\n        const innerLabelable = createFakeLabelable({\n          el: fakeInnerLabelableEl,\n        });\n\n        connectLabel(innerLabelable);\n\n        expect(innerLabelable.labelEl).toBeNull();\n\n        const outerLabelable = createFakeLabelable({\n          el: fakeOuterLabelableEl,\n        });\n\n        connectLabel(outerLabelable);\n\n        expect(outerLabelable.labelEl).toBe(labelEl);\n\n        labelEl.click();\n\n        expect(outerLabelable.onLabelClick).toHaveBeenCalledTimes(1);\n\n        disconnectLabel(outerLabelable);\n\n        labelEl.click();\n\n        expect(outerLabelable.onLabelClick).toHaveBeenCalledTimes(1);\n      });\n\n      it(\"handles the first labelable child only\", () => {\n        document.body.innerHTML = `\n        <calcite-label>\n          label\n          <fake-labelable id=\"first\"></fake-labelable>\n          <fake-labelable id=\"second\"></fake-labelable>\n          <fake-labelable id=\"third\"></fake-labelable>\n        </calcite-label>\n      `;\n\n        const labelEl = document.querySelector<HTMLElement>(\"calcite-label\");\n        const fakeLabelableEl1 = document.querySelector<HTMLElement>(\"#first\");\n        const fakeLabelableEl2 = document.querySelector<HTMLElement>(\"#second\");\n        const fakeLabelableEl3 = document.querySelector<HTMLElement>(\"#third\");\n\n        wireUpFakeLabel(labelEl);\n\n        const labelable1 = createFakeLabelable({ el: fakeLabelableEl1 });\n        const labelable2 = createFakeLabelable({ el: fakeLabelableEl2 });\n        const labelable3 = createFakeLabelable({ el: fakeLabelableEl3 });\n\n        // we connect in reverse order to ensure we test last element handles label click first\n        connectLabel(labelable1);\n        connectLabel(labelable2);\n        connectLabel(labelable3);\n\n        expect(labelable1.labelEl).toBe(labelEl);\n        expect(labelable2.labelEl).toBe(labelEl);\n        expect(labelable3.labelEl).toBe(labelEl);\n\n        labelEl.click();\n\n        expect(labelable1.onLabelClick).toHaveBeenCalledTimes(1); // should be 1\n        expect(labelable2.onLabelClick).toHaveBeenCalledTimes(0);\n        expect(labelable3.onLabelClick).toHaveBeenCalledTimes(0);\n\n        disconnectLabel(labelable1);\n\n        labelEl.click();\n\n        expect(labelable1.onLabelClick).toHaveBeenCalledTimes(1);\n        expect(labelable2.onLabelClick).toHaveBeenCalledTimes(1);\n        expect(labelable3.onLabelClick).toHaveBeenCalledTimes(0);\n\n        disconnectLabel(labelable2);\n\n        labelEl.click();\n\n        expect(labelable1.onLabelClick).toHaveBeenCalledTimes(1);\n        expect(labelable2.onLabelClick).toHaveBeenCalledTimes(1);\n        expect(labelable3.onLabelClick).toHaveBeenCalledTimes(1);\n\n        disconnectLabel(labelable3);\n\n        labelEl.click();\n\n        expect(labelable1.onLabelClick).toHaveBeenCalledTimes(1);\n        expect(labelable2.onLabelClick).toHaveBeenCalledTimes(1);\n        expect(labelable3.onLabelClick).toHaveBeenCalledTimes(1);\n      });\n    });\n  });\n\n  it(\"getLabelText\", () => {\n    const label = \"from-label\";\n\n    expect(getLabelText(createFakeLabelable({ label }))).toBe(\"from-label\");\n\n    const labelEl = document.createElement(\"calcite-label\");\n    labelEl.textContent = \"from-text-content\";\n\n    expect(\n      getLabelText(\n        createFakeLabelable({\n          labelEl,\n        }),\n      ),\n    ).toBe(\"from-text-content\");\n\n    expect(\n      getLabelText(\n        createFakeLabelable({\n          label,\n          labelEl,\n        }),\n      ),\n    ).toBe(\"from-label\");\n  });\n});\n"]}