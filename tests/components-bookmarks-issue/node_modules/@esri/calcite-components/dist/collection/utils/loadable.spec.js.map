{"version":3,"file":"loadable.spec.js","sourceRoot":"","sources":["../../../src/utils/loadable.spec.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,qBAAqB,EAAE,MAAM,gBAAgB,CAAC;AACvD,OAAO,EAAE,eAAe,EAAE,kBAAkB,EAAE,sBAAsB,EAAE,MAAM,YAAY,CAAC;AAEzF,QAAQ,CAAC,UAAU,EAAE,GAAG,EAAE;IACxB,EAAE,CAAC,2CAA2C,EAAE,KAAK,IAAI,EAAE;QACzD,MAAM,aAAa,GAAQ,EAAE,CAAC;QAE9B,MAAM,SAAS,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC;QAC5B,eAAe,CAAC,aAAa,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAEhD,MAAM,qBAAqB,EAAE,CAAC;QAC9B,MAAM,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;QAEzC,sBAAsB,CAAC,aAAa,CAAC,CAAC;QACtC,MAAM,qBAAqB,EAAE,CAAC;QAC9B,MAAM,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;QAEzC,kBAAkB,CAAC,aAAa,CAAC,CAAC;QAClC,MAAM,qBAAqB,EAAE,CAAC;QAC9B,MAAM,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;QAEzC,eAAe,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC/C,MAAM,qBAAqB,EAAE,CAAC;QAC9B,MAAM,CAAC,SAAS,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;IAC7C,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { waitForAnimationFrame } from \"../tests/utils\";\nimport { componentLoaded, setComponentLoaded, setUpLoadableComponent } from \"./loadable\";\n\ndescribe(\"loadable\", () => {\n  it(\"should honor loadable component lifecycle\", async () => {\n    const fakeComponent: any = {};\n\n    const afterLoad = jest.fn();\n    componentLoaded(fakeComponent)?.then(afterLoad);\n\n    await waitForAnimationFrame();\n    expect(afterLoad).not.toHaveBeenCalled();\n\n    setUpLoadableComponent(fakeComponent);\n    await waitForAnimationFrame();\n    expect(afterLoad).not.toHaveBeenCalled();\n\n    setComponentLoaded(fakeComponent);\n    await waitForAnimationFrame();\n    expect(afterLoad).not.toHaveBeenCalled();\n\n    componentLoaded(fakeComponent).then(afterLoad);\n    await waitForAnimationFrame();\n    expect(afterLoad).toHaveBeenCalledTimes(1);\n  });\n});\n"]}