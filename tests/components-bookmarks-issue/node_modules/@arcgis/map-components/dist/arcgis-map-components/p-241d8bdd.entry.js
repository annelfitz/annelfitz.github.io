/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.30/esri/copyright.txt for details.
 * v4.30.0-next.13
 */
import{r as t,c as i,h as s,g as h}from"./p-7d3260b2.js";import{a6 as e,i as a}from"./p-af31b1ec.js";import{r as o,a as c}from"./p-088ec939.js";import{o as r}from"./p-873856f3.js";const n=class{constructor(s){t(this,s),this.arcgisExpandReady=i(this,"arcgisExpandReady",7),this._watchHandles=[],this.autoCollapse=!1,this.closeOnEsc=!0,this.collapseIcon=void 0,this.collapseTooltip=void 0,this.expanded=!1,this.expandIcon=void 0,this.expandTooltip=void 0,this.group=void 0,this.iconNumber=void 0,this.mode="auto",this.referenceElement=void 0,this.position="top-right",this.view=void 0,this.widget=void 0}autoCollapseWatcher(t){void 0!==t&&this.widget&&(this.widget.autoCollapse=t)}closeOnEscWatcher(t){void 0!==t&&this.widget&&(this.widget.closeOnEsc=t)}collapseIconWatcher(t){this.widget&&(this.widget.collapseIcon=t)}collapseTooltipWatcher(t){this.widget&&(this.widget.collapseTooltip=t)}expandedWatcher(t){this.widget&&this.widget.expanded!==t&&(this.widget.expanded=t)}expandIconWatcher(t){this.widget&&(this.widget.expandIcon=t)}expandTooltipWatcher(t){this.widget&&(this.widget.expandTooltip=t)}groupWatcher(t){this.widget&&(this.widget.group=t)}iconNumberWatcher(t){void 0!==t&&this.widget&&(this.widget.iconNumber=t)}modeWatcher(t){this.widget&&(this.widget.mode=t)}referenceElementWatcher(t){o(this,t)}positionWatcher(t){void 0!==t&&this.widget&&this.view.ui.move(this.childElem,t)}viewWatcher(t){void 0!==t&&this.widget&&(this.widget.view=t)}async collapse(){this.widget?.collapse()}async expand(){this.widget?.expand()}async toggle(){this.expanded?await this.collapse():await this.expand()}async componentDidLoad(){const t=this._createParams(),i=await e(t);this.widget=i,await this._addWatchers(),this._addContainer(),this.arcgisExpandReady.emit(),this._checkForView()}disconnectedCallback(){r(this)}render(){return s("div",{ref:t=>this.childElem=t})}_addContainer(){this.widget.container=this.childElem}async _addWatchers(){const{watch:t}=await a();c(this,[t((()=>this.widget.expanded),(t=>this.expanded=t))])}_createParams(){const t={};return void 0!==this.autoCollapse&&(t.autoCollapse=this.autoCollapse),void 0!==this.closeOnEsc&&(t.closeOnEsc=this.closeOnEsc),this.collapseIcon&&(t.collapseIcon=this.collapseIcon),this.collapseTooltip&&(t.collapseTooltip=this.collapseTooltip),void 0!==this.expanded&&(t.expanded=this.expanded),this.expandIcon&&(t.expandIcon=this.expandIcon),this.expandTooltip&&(t.expandTooltip=this.expandTooltip),this.group&&(t.group=this.group),void 0!==this.iconNumber&&(t.iconNumber=this.iconNumber),this.mode&&(t.mode=this.mode),this.view&&(t.view=this.view),t}_checkForView(){const t=this.el.closest("arcgis-map")??this.el.closest("arcgis-scene");if(t?.view)this.view=t.view,this.view.ui.add(this.childElem,this.position);else if(t){const i=()=>{t.removeEventListener("arcgisViewReadyChange",i,!1),this.view=t.view,this.view.ui.add(this.childElem,this.position)};t.addEventListener("arcgisViewReadyChange",i,!1)}}get el(){return h(this)}static get watchers(){return{autoCollapse:["autoCollapseWatcher"],closeOnEsc:["closeOnEscWatcher"],collapseIcon:["collapseIconWatcher"],collapseTooltip:["collapseTooltipWatcher"],expanded:["expandedWatcher"],expandIcon:["expandIconWatcher"],expandTooltip:["expandTooltipWatcher"],group:["groupWatcher"],iconNumber:["iconNumberWatcher"],mode:["modeWatcher"],referenceElement:["referenceElementWatcher"],position:["positionWatcher"],view:["viewWatcher"]}}};n.style="arcgis-expand>.esri-expand__content--expanded{background-color:var(--calcite-color-background)}";export{n as arcgis_expand}