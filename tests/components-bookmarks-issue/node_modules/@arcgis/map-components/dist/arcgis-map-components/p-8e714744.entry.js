/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.30/esri/copyright.txt for details.
 * v4.30.0-next.13
 */
import{r as t,c as s,h as i,g as e}from"./p-7d3260b2.js";import{a0 as h,i as r}from"./p-af31b1ec.js";import{r as a,c,a as o}from"./p-088ec939.js";import{o as l}from"./p-873856f3.js";const d=class{constructor(i){t(this,i),this.arcgisUtilityNetworkTraceReady=s(this,"arcgisUtilityNetworkTraceReady",7),this.utilityNetworkTraceAddFlag=s(this,"utilityNetworkTraceAddFlag",7),this.utilityNetworkTraceAddFlagComplete=s(this,"utilityNetworkTraceAddFlagComplete",7),this.utilityNetworkTraceAddFlagError=s(this,"utilityNetworkTraceAddFlagError",7),this.utilityNetworkTraceAddResultArea=s(this,"utilityNetworkTraceAddResultArea",7),this.utilityNetworkTraceRemoveResultArea=s(this,"utilityNetworkTraceRemoveResultArea",7),this._watchHandles=[],this.referenceElement=void 0,this.enableResultArea=!1,this.defaultGraphicColor={color:[255,255,0,.6],haloOpacity:.9,fillOpacity:.2,hex:"#FFFF00"},this.disabled=!1,this.flags=[],this.gdbVersion="sde.DEFAULT",this.inputSettings=[],this.resultAreaProperties=void 0,this.selectedTraces=[],this.selectOnComplete=!0,this.showGraphicsOnComplete=!0,this.showSelectionAttributes=!0,this.position="bottom-left",this.view=void 0,this.widget=void 0}referenceElementWatcher(t){a(this,t)}enableResultAreaWatcher(t){this.widget&&(this.widget.enableResultArea=t)}defaultGraphicColorWatcher(t){this.widget&&(this.widget.defaultGraphicColor=t)}disabledWatcher(t,s){this.widget&&t!==s&&(this.widget.disabled=t)}flagsWatcher(t){this.widget&&(this.widget.flags=t)}gdbVersionWatcher(t){this.widget&&(this.widget.gdbVersion=t)}inputSettingsWatcher(t){this.widget&&(this.widget.inputSettings=t)}resultAreaPropertiesWatcher(t){this.widget&&(this.widget.resultAreaProperties=t)}selectedTracesWatcher(t){this.widget&&(this.widget.selectedTraces=t)}selectOnCompleteWatcher(t){void 0!==t&&this.widget&&(this.widget.selectOnComplete=t)}showGraphicsOnCompleteWatcher(t){void 0!==t&&this.widget&&(this.widget.showGraphicsOnComplete=t)}showSelectionAttributesWatcher(t){void 0!==t&&this.widget&&(this.widget.showSelectionAttributes=t)}positionWatcher(t){void 0!==t&&this.widget&&this.view.ui.move(this.childElem,t)}viewWatcher(t){void 0!==t&&this.widget&&(this.widget.view=t)}async checkCanTrace(){await(this.widget?.checkCanTrace())}async confirmReset(){this.widget?.confirmReset()}async componentDidLoad(){const t=this._createParams(),s=await h(t);this.widget=s,await this._addWatchers(),this._proxyEvents(),this._addContainer(),this.arcgisUtilityNetworkTraceReady.emit(),c(this)}disconnectedCallback(){l(this)}render(){return i("div",{ref:t=>this.childElem=t})}_addContainer(){this.widget.container=this.childElem}async _addWatchers(){const{watch:t}=await r();o(this,t((()=>this.widget.disabled),(t=>this.disabled=t)))}_createParams(){const t={};return this.defaultGraphicColor&&(t.defaultGraphicColor=this.defaultGraphicColor),void 0!==this.enableResultArea&&(t.enableResultArea=this.enableResultArea),this.flags&&(t.flags=this.flags),this.gdbVersion&&(t.gdbVersion=this.gdbVersion),this.inputSettings&&(t.inputSettings=this.inputSettings),this.resultAreaProperties&&(t.resultAreaProperties=this.resultAreaProperties),this.selectedTraces&&(t.selectedTraces=this.selectedTraces),void 0!==this.selectOnComplete&&(t.selectOnComplete=this.selectOnComplete),void 0!==this.showGraphicsOnComplete&&(t.showGraphicsOnComplete=this.showGraphicsOnComplete),void 0!==this.showSelectionAttributes&&(t.showSelectionAttributes=this.showSelectionAttributes),this.view&&(t.view=this.view),t}_proxyEvents(){this.widget.on("add-flag",(t=>this.utilityNetworkTraceAddFlag.emit(t))),this.widget.on("add-flag-complete",(t=>this.utilityNetworkTraceAddFlagComplete.emit(t))),this.widget.on("add-flag-error",(t=>this.utilityNetworkTraceAddFlagError.emit(t))),this.widget.on("add-result-area",(t=>this.utilityNetworkTraceAddResultArea.emit(t))),this.widget.on("remove-result-area",(t=>this.utilityNetworkTraceRemoveResultArea.emit(t)))}get el(){return e(this)}static get watchers(){return{referenceElement:["referenceElementWatcher"],enableResultArea:["enableResultAreaWatcher"],defaultGraphicColor:["defaultGraphicColorWatcher"],disabled:["disabledWatcher"],flags:["flagsWatcher"],gdbVersion:["gdbVersionWatcher"],inputSettings:["inputSettingsWatcher"],resultAreaProperties:["resultAreaPropertiesWatcher"],selectedTraces:["selectedTracesWatcher"],selectOnComplete:["selectOnCompleteWatcher"],showGraphicsOnComplete:["showGraphicsOnCompleteWatcher"],showSelectionAttributes:["showSelectionAttributesWatcher"],position:["positionWatcher"],view:["viewWatcher"]}}};d.style="";export{d as arcgis_utility_network_trace}