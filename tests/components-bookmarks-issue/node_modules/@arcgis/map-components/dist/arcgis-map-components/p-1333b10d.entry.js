/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.30/esri/copyright.txt for details.
 * v4.30.0-next.13
 */
import{r as t,c as i,h as s,g as h}from"./p-7d3260b2.js";import{R as e,i as a}from"./p-af31b1ec.js";import{r,c,a as o}from"./p-088ec939.js";import{o as l}from"./p-873856f3.js";const n=class{constructor(s){t(this,s),this.arcgisSearchReady=i(this,"arcgisSearchReady",7),this.searchBlur=i(this,"searchBlur",7),this.searchClear=i(this,"searchClear",7),this.searchComplete=i(this,"searchComplete",7),this.searchFocus=i(this,"searchFocus",7),this.searchStart=i(this,"searchStart",7),this.searchSelectResult=i(this,"searchSelectResult",7),this.searchSuggestComplete=i(this,"searchSuggestComplete",7),this.searchSuggestStart=i(this,"searchSuggestStart",7),this._watchHandles=[],this.referenceElement=void 0,this.activeMenu="none",this.activeSource=void 0,this.activeSourceIndex=0,this.allPlaceholder="Find address or place",this.allSources=void 0,this.autoSelect=!0,this.defaultSources=void 0,this.disabled=!1,this.icon=void 0,this.includeDefaultSources=!0,this.locationEnabled=!0,this.maxResults=6,this.maxSuggestions=6,this.minSuggestCharacters=3,this.popupEnabled=!0,this.popupTemplate=void 0,this.portal=void 0,this.resultGraphic=void 0,this.resultGraphicEnabled=!0,this.results=void 0,this.searchAllEnabled=!0,this.searchTerm=void 0,this.selectedResult=void 0,this.sources=void 0,this.suggestions=void 0,this.suggestionsEnabled=!0,this.position="top-right",this.view=void 0,this.widget=void 0}referenceElementWatcher(t){r(this,t)}activeMenuWatcher(t){void 0!==t&&this.widget&&(this.widget.activeMenu=t)}activeSourceIndexWatcher(t){void 0!==t&&this.widget&&(this.widget.activeSourceIndex=t)}allPlaceholderWatcher(t){this.widget&&(this.widget.allPlaceholder=t)}autoSelectWatcher(t){void 0!==t&&this.widget&&(this.widget.autoSelect=t)}disabledWatcher(t,i){this.widget&&t!==i&&(this.widget.disabled=t)}iconWatcher(t){this.widget&&(this.widget.icon=t)}includeDefaultSourcesWatcher(t){void 0!==t&&this.widget&&(this.widget.includeDefaultSources=t)}locationEnabledWatcher(t){void 0!==t&&this.widget&&(this.widget.locationEnabled=t)}maxResultsWatcher(t){void 0!==t&&this.widget&&(this.widget.maxResults=t)}maxSuggestionsWatcher(t){void 0!==t&&this.widget&&(this.widget.maxSuggestions=t)}minSuggestCharactersWatcher(t){void 0!==t&&this.widget&&(this.widget.minSuggestCharacters=t)}popupEnabledWatcher(t){void 0!==t&&this.widget&&(this.widget.popupEnabled=t)}popupTemplateWatcher(t){this.widget&&(this.widget.popupTemplate=t)}portalWatcher(t){this.widget&&(this.widget.portal=t)}resultGraphicEnabledWatcher(t){void 0!==t&&this.widget&&(this.widget.resultGraphicEnabled=t)}searchAllEnabledWatcher(t){void 0!==t&&this.widget&&(this.widget.searchAllEnabled=t)}searchTermWatcher(t){this.widget&&(this.widget.searchTerm=t)}sourcesWatcher(t){this.widget&&(this.widget.sources=t)}suggestionsEnabledWatcher(t){void 0!==t&&this.widget&&(this.widget.suggestionsEnabled=t)}positionWatcher(t){void 0!==t&&this.widget&&this.view.ui.move(this.childElem,t)}viewWatcher(t){void 0!==t&&this.widget&&(this.widget.view=t)}async blurSearch(){this.widget?.blur()}async clearSearch(){this.widget?.clear()}async focusSearch(){this.widget?.focus()}async search(t){return await(this.widget?.search(t))}async suggest(t){return await(this.widget?.suggest(t))}async componentDidLoad(){const t=this._createParams(),i=await e(t);this.widget=i,await this._addWatchers(),this._proxyEvents(),this._addContainer(),this.arcgisSearchReady.emit(),c(this)}disconnectedCallback(){l(this)}render(){return s("div",{ref:t=>this.childElem=t})}_addContainer(){this.widget.container=this.childElem}async _addWatchers(){const{watch:t}=await a();o(this,t((()=>this.widget.activeSource),(t=>this.activeSource=t),{initial:!0})),o(this,t((()=>this.widget.activeSourceIndex),(t=>this.activeSourceIndex=t),{initial:!0})),o(this,t((()=>this.widget.allSources),(t=>this.allSources=t),{initial:!0})),o(this,t((()=>this.widget.defaultSources),(t=>this.defaultSources=t),{initial:!0})),o(this,t((()=>this.widget.disabled),(t=>this.disabled=t),{initial:!0})),o(this,t((()=>this.widget.resultGraphic),(t=>this.resultGraphic=t),{initial:!0})),o(this,t((()=>this.widget.results),(t=>this.results=t),{initial:!0})),o(this,t((()=>this.widget.selectedResult),(t=>this.selectedResult=t),{initial:!0})),o(this,t((()=>this.widget.suggestions),(t=>this.suggestions=t),{initial:!0}))}_createParams(){const t={};return this.allPlaceholder&&(t.allPlaceholder=this.allPlaceholder),void 0!==this.autoSelect&&(t.autoSelect=this.autoSelect),void 0!==this.includeDefaultSources&&(t.includeDefaultSources=this.includeDefaultSources),void 0!==this.locationEnabled&&(t.locationEnabled=this.locationEnabled),void 0!==this.maxResults&&(t.maxResults=this.maxResults),void 0!==this.maxSuggestions&&(t.maxSuggestions=this.maxSuggestions),void 0!==this.minSuggestCharacters&&(t.minSuggestCharacters=this.minSuggestCharacters),void 0!==this.popupEnabled&&(t.popupEnabled=this.popupEnabled),this.popupTemplate&&(t.popupTemplate=this.popupTemplate),this.portal&&(t.portal=this.portal),void 0!==this.resultGraphicEnabled&&(t.resultGraphicEnabled=this.resultGraphicEnabled),void 0!==this.searchAllEnabled&&(t.searchAllEnabled=this.searchAllEnabled),this.searchTerm&&(t.searchTerm=this.searchTerm),this.sources&&(t.sources=this.sources),void 0!==this.suggestionsEnabled&&(t.suggestionsEnabled=this.suggestionsEnabled),this.view&&(t.view=this.view),t}_proxyEvents(){this.widget.on("search-blur",(t=>this.searchBlur.emit(t))),this.widget.on("search-clear",(t=>this.searchClear.emit(t))),this.widget.on("search-complete",(t=>this.searchComplete.emit(t))),this.widget.on("search-focus",(t=>this.searchFocus.emit(t))),this.widget.on("search-start",(t=>this.searchStart.emit(t))),this.widget.on("select-result",(t=>this.searchSelectResult.emit(t))),this.widget.on("suggest-complete",(t=>this.searchSuggestComplete.emit(t))),this.widget.on("suggest-start",(t=>this.searchSuggestStart.emit(t)))}get el(){return h(this)}static get watchers(){return{referenceElement:["referenceElementWatcher"],activeMenu:["activeMenuWatcher"],activeSourceIndex:["activeSourceIndexWatcher"],allPlaceholder:["allPlaceholderWatcher"],autoSelect:["autoSelectWatcher"],disabled:["disabledWatcher"],icon:["iconWatcher"],includeDefaultSources:["includeDefaultSourcesWatcher"],locationEnabled:["locationEnabledWatcher"],maxResults:["maxResultsWatcher"],maxSuggestions:["maxSuggestionsWatcher"],minSuggestCharacters:["minSuggestCharactersWatcher"],popupEnabled:["popupEnabledWatcher"],popupTemplate:["popupTemplateWatcher"],portal:["portalWatcher"],resultGraphicEnabled:["resultGraphicEnabledWatcher"],searchAllEnabled:["searchAllEnabledWatcher"],searchTerm:["searchTermWatcher"],sources:["sourcesWatcher"],suggestionsEnabled:["suggestionsEnabledWatcher"],position:["positionWatcher"],view:["viewWatcher"]}}};n.style="";export{n as arcgis_search}