/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.30/esri/copyright.txt for details.
 * v4.30.0-next.13
 */
function n(n){const e=n.el.closest("arcgis-expand")||n.expandElem;if(e?.widget)return n.view=e.view,e.widget.content=n.childElem,e.expandIcon||(e.widget.expandIcon=n.widget.icon),!0;if(e){const a=()=>{e.removeEventListener("arcgisExpandReady",a,!1),n.view=e.view,e.widget.content=n.childElem,e.expandIcon||(e.widget.expandIcon=n.widget.icon)};return e.addEventListener("arcgisExpandReady",a,!1),!0}return!1}function e(n,e){Array.isArray(e)?n._watchHandles=[...n._watchHandles,...e]:n._watchHandles.push(e)}function a(e){let a=!1;if(n(e)){const n=e.el.closest("arcgis-map")??e.el.closest("arcgis-scene");if(n?.view)e.view=n.view;else if(n){const a=()=>{n.removeEventListener("arcgisViewReadyChange",a,!1),e.view=n.view};n.addEventListener("arcgisViewReadyChange",a,!1)}}else{let n=e.el.closest("arcgis-map")??e.el.closest("arcgis-scene");n||"string"!=typeof e.referenceElement||(n=document.querySelector(e.referenceElement),a=!0),n?.view?(e.view=n.view,a||e.view.ui.add(e.childElem??e.el,e.position)):n&&function(n,e,a){const i=()=>{n.removeEventListener("arcgisViewReadyChange",i,!1),e.view=n.view,a||e.view.ui.add(e.childElem?e.childElem:e.el,e.position)};n.addEventListener("arcgisViewReadyChange",i,!1)}(n,e,a)}}function i(n){return null==n||""===n}function s(n){return null!=n&&n%1==0}function c(n,e){return void 0===e||n.position!==e.position||n.heading!==e.heading||n.tilt!==e.tilt}function r(n,e){return void 0===e||e.atmosphereEnabled!==n.atmosphereEnabled||e.lighting.date!==n.lighting.date||e.lighting.directShadowsEnabled!==n.lighting.directShadowsEnabled||e.lighting.cameraTrackingEnabled!==n.lighting.cameraTrackingEnabled||e.lighting.date!==n.lighting.date||e.lighting.displayUTCOffset!==n.lighting.displayUTCOffset}function t(n,e){return void 0===e||n.targetGeometry!==e.targetGeometry||n.rotation!==e.rotation||n.scale!==e.scale}async function o(n,e){"string"==typeof e?n.view=await async function(n){const e=document.querySelector(n);return await new Promise((n=>{if(void 0!==e?.view)n(e.view);else if(e){const a=()=>{e.removeEventListener("arcgisViewReadyChange",a,!1),n(e.view)};e.addEventListener("arcgisViewReadyChange",a,!1)}}))}(e):n.widget&&(n.view=e.view)}export{e as a,t as b,a as c,n as d,c as e,r as f,s as g,i,o as r}