/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{A as n}from"../../chunks/ajv.bundle.js";import{json as o}from"../../portal/schemas/webScene.js";import{convertAjvErrors as e}from"../../support/validationUtilsAjv.js";const t=new n({allErrors:!0,extendRefs:!0});function i(n,o){return r(o),t.validate(a(o),n)?[]:e(t.errors??[])}function s(n){const e=n?o.definitions[a(n)]:void 0;if(!e)throw new Error(`invalid schema name to validate against '${n}'`);const t={};for(const o in e)t[o]=e[o];return t.definitions=o.definitions,t}function r(n){const o=a(n);if(!t.getSchema(o)){const e=s(n);t.addSchema(e,o)}}function a(n){return n?`${n}_schema.json`:"webScene_schema.json"}t.addSchema(o,a());export{i as validate};
