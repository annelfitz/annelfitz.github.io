"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[2324,1053,9414],{11053:(t,n,e)=>{e.d(n,{c:()=>r,g:()=>o});var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}},11006:(t,n,e)=>{e.d(n,{q:()=>c});var r,o,i,a=e(11053),s={exports:{}};r=s,o=function(){function t(e,r,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,c=r-o+1,l=Math.log(s),u=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*u*(s-u)/s)*(c-s/2<0?-1:1);t(e,r,Math.max(o,Math.floor(r-c*u/s+f)),Math.min(i,Math.floor(r+(s-c)*u/s+f)),a)}var h=e[r],p=o,m=i;for(n(e,o,r),a(e[i],h)>0&&n(e,o,i);p<m;){for(n(e,p,m),p++,m--;a(e[p],h)<0;)p++;for(;a(e[m],h)>0;)m--}0===a(e[o],h)?n(e,o,m):n(e,++m,i),m<=r&&(o=m+1),r<=m&&(i=m-1)}}function n(t,n,e){var r=t[n];t[n]=t[e],t[e]=r}function e(t,n){return t<n?-1:t>n?1:0}return function(n,r,o,i,a){t(n,r,o||0,i||n.length-1,a||e)}},void 0!==(i=o())&&(r.exports=i);const c=(0,a.g)(s.exports)},73354:(t,n,e)=>{e.d(n,{a:()=>i,b:()=>s,c:()=>a,d:()=>o,e:()=>f,f:()=>c,n:()=>h,s:()=>l,t:()=>u}),e(44208);var r=e(72727);function o(t,n,e){i(t.typedBuffer,n.typedBuffer,e,t.typedBufferStride,n.typedBufferStride)}function i(t,n,e,r=3,o=r){if(t.length/r!==Math.ceil(n.length/o))return t;const i=t.length/r,a=e[0],s=e[1],c=e[2],l=e[4],u=e[5],f=e[6],h=e[8],p=e[9],m=e[10],d=e[12],g=e[13],M=e[14];let x=0,y=0;for(let e=0;e<i;e++){const e=n[x],i=n[x+1],_=n[x+2];t[y]=a*e+l*i+h*_+d,t[y+1]=s*e+u*i+p*_+g,t[y+2]=c*e+f*i+m*_+M,x+=o,y+=r}return t}function a(t,n,e){s(t.typedBuffer,n.typedBuffer,e,t.typedBufferStride,n.typedBufferStride)}function s(t,n,e,o=3,i=o){if(t.length/o!==Math.ceil(n.length/i))return void(0,r.j)().error("source and destination buffers need to have the same number of elements");const a=t.length/o,s=e[0],c=e[1],l=e[2],u=e[3],f=e[4],h=e[5],p=e[6],m=e[7],d=e[8];let g=0,M=0;for(let e=0;e<a;e++){const e=n[g],r=n[g+1],a=n[g+2];t[M]=s*e+u*r+p*a,t[M+1]=c*e+f*r+m*a,t[M+2]=l*e+h*r+d*a,g+=i,M+=o}}function c(t,n,e){l(t.typedBuffer,n,e,t.typedBufferStride)}function l(t,n,e,r=3){const o=Math.min(t.length/r,n.count),i=n.typedBuffer,a=n.typedBufferStride;let s=0,c=0;for(let n=0;n<o;n++)t[c]=e*i[s],t[c+1]=e*i[s+1],t[c+2]=e*i[s+2],s+=a,c+=r}function u(t,n,e,r=3,o=r){const i=t.length/r;if(i!==Math.ceil(n.length/o))return t;let a=0,s=0;for(let c=0;c<i;c++)t[s]=n[a]+e[0],t[s+1]=n[a+1]+e[1],t[s+2]=n[a+2]+e[2],a+=o,s+=r;return t}function f(t,n){h(t.typedBuffer,n.typedBuffer,t.typedBufferStride,n.typedBufferStride)}function h(t,n,e=3,r=e){const o=Math.min(t.length/e,n.length/r);let i=0,a=0;for(let s=0;s<o;s++){const o=n[i],s=n[i+1],c=n[i+2],l=o*o+s*s+c*c;if(l>0){const n=1/Math.sqrt(l);t[a]=n*o,t[a+1]=n*s,t[a+2]=n*c}i+=r,a+=e}}Object.freeze(Object.defineProperty({__proto__:null,normalize:h,normalizeView:f,scale:l,scaleView:c,shiftRight:function(t,n,e){const r=Math.min(t.count,n.count),o=t.typedBuffer,i=t.typedBufferStride,a=n.typedBuffer,s=n.typedBufferStride;let c=0,l=0;for(let t=0;t<r;t++)o[l]=a[c]>>e,o[l+1]=a[c+1]>>e,o[l+2]=a[c+2]>>e,c+=s,l+=i},transformMat3:s,transformMat3View:a,transformMat4:i,transformMat4View:o,translate:u},Symbol.toStringTag,{value:"Module"}))},69540:(t,n,e)=>{e.d(n,{O:()=>u,P:()=>f});var r=e(90237),o=e(69622),i=(e(44208),e(4718)),a=(e(53966),e(97768)),s=e(35666),c=e(88620),l=e(40608);const u=t=>{let n=class extends t{clone(){const t=(0,c.oY)(this);(0,a.Lw)(t,"unable to clone instance of non-accessor class");const n=t.metadata,e=t.store,r={},o=new Map;for(const t in n){const a=n[t],c=e?.originOf(t),l=a.clonable;if(a.readOnly||!1===l||c!==s.Gr.USER&&c!==s.Gr.DEFAULTS&&c!==s.Gr.WEB_MAP&&c!==s.Gr.WEB_SCENE)continue;const u=this[t];let f=null;f="function"==typeof l?l(u):"reference"===l?u:(0,i.TU)(u),null!=u&&null==f||(c===s.Gr.DEFAULTS?o.set(t,f):r[t]=f)}const l=new(0,Object.getPrototypeOf(this).constructor)(r);if(o.size){const t=(0,c.oY)(l)?.store;if(t)for(const[n,e]of o)t.set(n,e,s.Gr.DEFAULTS)}return l}};return n=(0,r._)([(0,l.$)("esri.core.Clonable")],n),n};let f=class extends(u(o.A)){};f=(0,r._)([(0,l.$)("esri.core.Clonable")],f)},95488:(t,n,e)=>{e.d(n,{I:()=>o});var r=e(11406);class o extends r.T{notify(){const t=this._observers;if(t&&t.length>0){const n=t.slice();for(const t of n)t.onInvalidated(),t.onCommitted()}}}},29242:(t,n,e)=>{function r(){return[1,0,0,0,1,0,0,0,1]}function o(t,n,e,r,o,i,a,s,c){return[t,n,e,r,o,i,a,s,c]}e.d(n,{fA:()=>o,vt:()=>r,zK:()=>i});const i=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},create:r,createView:function(t,n){return new Float64Array(t,n,9)},fromValues:o},Symbol.toStringTag,{value:"Module"}))},9093:(t,n,e)=>{function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function o(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}e.d(n,{o8:()=>o,vt:()=>r,zK:()=>i});const i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:o,create:r,createView:function(t,n){return new Float64Array(t,n,16)},fromValues:function(t,n,e,r,o,i,a,s,c,l,u,f,h,p,m,d){return[t,n,e,r,o,i,a,s,c,l,u,f,h,p,m,d]}},Symbol.toStringTag,{value:"Module"}))},82534:(t,n,e)=>{function r(){return[0,0,0,1]}function o(t){return[t[0],t[1],t[2],t[3]]}e.d(n,{o8:()=>o,vt:()=>r,zK:()=>i});const i=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:o,create:r,createView:function(t,n){return new Float64Array(t,n,4)},fromValues:function(t,n,e,r){return[t,n,e,r]}},Symbol.toStringTag,{value:"Module"}))},77690:(t,n,e)=>{e.d(n,{B8:()=>s,Ge:()=>h,I0:()=>f,KC:()=>c,hZ:()=>i,hs:()=>u,lw:()=>l,mg:()=>a,ut:()=>m,z0:()=>o});var r=e(34304);function o(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t}function i(t,n,e,r,o,i,a,s,c,l){return t[0]=n,t[1]=e,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=s,t[7]=c,t[8]=l,t}function a(t,n){if(t===n){const e=n[1],r=n[2],o=n[5];t[1]=n[3],t[2]=n[6],t[3]=e,t[5]=n[7],t[6]=r,t[7]=o}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t}function s(t,n){const e=n[0],r=n[1],o=n[2],i=n[3],a=n[4],s=n[5],c=n[6],l=n[7],u=n[8],f=u*a-s*l,h=-u*i+s*c,p=l*i-a*c;let m=e*f+r*h+o*p;return m?(m=1/m,t[0]=f*m,t[1]=(-u*r+o*l)*m,t[2]=(s*r-o*a)*m,t[3]=h*m,t[4]=(u*e-o*c)*m,t[5]=(-s*e+o*i)*m,t[6]=p*m,t[7]=(-l*e+r*c)*m,t[8]=(a*e-r*i)*m,t):null}function c(t,n){const e=n[0],r=n[1],o=n[2],i=n[3],a=n[4],s=n[5],c=n[6],l=n[7],u=n[8];return t[0]=a*u-s*l,t[1]=o*l-r*u,t[2]=r*s-o*a,t[3]=s*c-i*u,t[4]=e*u-o*c,t[5]=o*i-e*s,t[6]=i*l-a*c,t[7]=r*c-e*l,t[8]=e*a-r*i,t}function l(t,n,e){const r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],c=n[5],l=n[6],u=n[7],f=n[8],h=e[0],p=e[1],m=e[2],d=e[3],g=e[4],M=e[5],x=e[6],y=e[7],_=e[8];return t[0]=h*r+p*a+m*l,t[1]=h*o+p*s+m*u,t[2]=h*i+p*c+m*f,t[3]=d*r+g*a+M*l,t[4]=d*o+g*s+M*u,t[5]=d*i+g*c+M*f,t[6]=x*r+y*a+_*l,t[7]=x*o+y*s+_*u,t[8]=x*i+y*c+_*f,t}function u(t,n,e){const r=e[0],o=e[1],i=e[2];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=o*n[3],t[4]=o*n[4],t[5]=o*n[5],t[6]=i*n[6],t[7]=i*n[7],t[8]=i*n[8],t}function f(t,n){const e=n[0],r=n[1],o=n[2],i=n[3],a=e+e,s=r+r,c=o+o,l=e*a,u=r*a,f=r*s,h=o*a,p=o*s,m=o*c,d=i*a,g=i*s,M=i*c;return t[0]=1-f-m,t[3]=u-M,t[6]=h+g,t[1]=u+M,t[4]=1-l-m,t[7]=p-d,t[2]=h-g,t[5]=p+d,t[8]=1-l-f,t}function h(t,n){const e=n[0],r=n[1],o=n[2],i=n[3],a=n[4],s=n[5],c=n[6],l=n[7],u=n[8],f=n[9],h=n[10],p=n[11],m=n[12],d=n[13],g=n[14],M=n[15],x=e*s-r*a,y=e*c-o*a,_=e*l-i*a,A=r*c-o*s,b=r*l-i*s,v=o*l-i*c,w=u*d-f*m,S=u*g-h*m,B=u*M-p*m,F=f*g-h*d,P=f*M-p*d,T=h*M-p*g;let O=x*T-y*P+_*F+A*B-b*S+v*w;return O?(O=1/O,t[0]=(s*T-c*P+l*F)*O,t[1]=(c*B-a*T-l*S)*O,t[2]=(a*P-s*B+l*w)*O,t[3]=(o*P-r*T-i*F)*O,t[4]=(e*T-o*B+i*S)*O,t[5]=(r*B-e*P-i*w)*O,t[6]=(d*v-g*b+M*A)*O,t[7]=(g*_-m*v-M*y)*O,t[8]=(m*b-d*_+M*x)*O,t):null}function p(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t}function m(t){const n=(0,r.FD)(),e=t[0],o=t[1],i=t[2],a=t[3],s=t[4],c=t[5],l=t[6],u=t[7],f=t[8];return Math.abs(1-(e*e+a*a+l*l))<=n&&Math.abs(1-(o*o+s*s+u*u))<=n&&Math.abs(1-(i*i+c*c+f*f))<=n}const d=l,g=p;Object.freeze(Object.defineProperty({__proto__:null,add:function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t},adjoint:c,copy:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},determinant:function(t){const n=t[0],e=t[1],r=t[2],o=t[3],i=t[4],a=t[5],s=t[6],c=t[7],l=t[8];return n*(l*i-a*c)+e*(-l*o+a*s)+r*(c*o-i*s)},equals:function(t,n){const e=t[0],o=t[1],i=t[2],a=t[3],s=t[4],c=t[5],l=t[6],u=t[7],f=t[8],h=n[0],p=n[1],m=n[2],d=n[3],g=n[4],M=n[5],x=n[6],y=n[7],_=n[8],A=(0,r.FD)();return Math.abs(e-h)<=A*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(o-p)<=A*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(i-m)<=A*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(a-d)<=A*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(s-g)<=A*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(c-M)<=A*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(l-x)<=A*Math.max(1,Math.abs(l),Math.abs(x))&&Math.abs(u-y)<=A*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(f-_)<=A*Math.max(1,Math.abs(f),Math.abs(_))},exactEquals:function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]},frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)},fromMat2d:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t},fromMat4:o,fromQuat:f,fromRotation:function(t,n){const e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=-e,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromScaling:function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromTranslation:function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},invert:s,isOrthoNormal:m,mul:d,multiply:l,multiplyScalar:function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t},multiplyScalarAndAdd:function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t},normalFromMat4:h,normalFromMat4Legacy:function(t,n){const e=n[0],r=n[1],o=n[2],i=n[4],a=n[5],s=n[6],c=n[8],l=n[9],u=n[10],f=u*a-s*l,h=-u*i+s*c,p=l*i-a*c,m=e*f+r*h+o*p;if(!m)return null;const d=1/m;return t[0]=f*d,t[1]=(-u*r+o*l)*d,t[2]=(s*r-o*a)*d,t[3]=h*d,t[4]=(u*e-o*c)*d,t[5]=(-s*e+o*i)*d,t[6]=p*d,t[7]=(-l*e+r*c)*d,t[8]=(a*e-r*i)*d,t},projection:function(t,n,e){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/e,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},rotate:function(t,n,e){const r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],c=n[5],l=n[6],u=n[7],f=n[8],h=Math.sin(e),p=Math.cos(e);return t[0]=p*r+h*a,t[1]=p*o+h*s,t[2]=p*i+h*c,t[3]=p*a-h*r,t[4]=p*s-h*o,t[5]=p*c-h*i,t[6]=l,t[7]=u,t[8]=f,t},scale:u,scaleByVec2:function(t,n,e){const r=e[0],o=e[1];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=o*n[3],t[4]=o*n[4],t[5]=o*n[5],t},set:i,str:function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},sub:g,subtract:p,translate:function(t,n,e){const r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],c=n[5],l=n[6],u=n[7],f=n[8],h=e[0],p=e[1];return t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=c,t[6]=h*r+p*a+l,t[7]=h*o+p*s+u,t[8]=h*i+p*c+f,t},transpose:a},Symbol.toStringTag,{value:"Module"}))},67026:(t,n,e)=>{e.d(n,{A6:()=>d,Xd:()=>u,Xr:()=>p,hZ:()=>M,lw:()=>f,t2:()=>P,x8:()=>l});var r=e(29242),o=e(82534),i=e(51850),a=e(34304),s=e(38954),c=e(87317);function l(t,n,e){e*=.5;const r=Math.sin(e);return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=Math.cos(e),t}function u(t,n){const e=2*Math.acos(n[3]),r=Math.sin(e/2);return r>(0,a.FD)()?(t[0]=n[0]/r,t[1]=n[1]/r,t[2]=n[2]/r):(t[0]=1,t[1]=0,t[2]=0),e}function f(t,n,e){const r=n[0],o=n[1],i=n[2],a=n[3],s=e[0],c=e[1],l=e[2],u=e[3];return t[0]=r*u+a*s+o*l-i*c,t[1]=o*u+a*c+i*s-r*l,t[2]=i*u+a*l+r*c-o*s,t[3]=a*u-r*s-o*c-i*l,t}function h(t,n,e,r){const o=n[0],i=n[1],s=n[2],c=n[3];let l,u,f,h,p,m=e[0],d=e[1],g=e[2],M=e[3];return u=o*m+i*d+s*g+c*M,u<0&&(u=-u,m=-m,d=-d,g=-g,M=-M),1-u>(0,a.FD)()?(l=Math.acos(u),f=Math.sin(l),h=Math.sin((1-r)*l)/f,p=Math.sin(r*l)/f):(h=1-r,p=r),t[0]=h*o+p*m,t[1]=h*i+p*d,t[2]=h*s+p*g,t[3]=h*c+p*M,t}function p(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function m(t,n){const e=n[0]+n[4]+n[8];let r;if(e>0)r=Math.sqrt(e+1),t[3]=.5*r,r=.5/r,t[0]=(n[5]-n[7])*r,t[1]=(n[6]-n[2])*r,t[2]=(n[1]-n[3])*r;else{let e=0;n[4]>n[0]&&(e=1),n[8]>n[3*e+e]&&(e=2);const o=(e+1)%3,i=(e+2)%3;r=Math.sqrt(n[3*e+e]-n[3*o+o]-n[3*i+i]+1),t[e]=.5*r,r=.5/r,t[3]=(n[3*o+i]-n[3*i+o])*r,t[o]=(n[3*o+e]+n[3*e+o])*r,t[i]=(n[3*i+e]+n[3*e+i])*r}return t}function d(t,n,e,r){const o=.5*Math.PI/180;n*=o,e*=o,r*=o;const i=Math.sin(n),a=Math.cos(n),s=Math.sin(e),c=Math.cos(e),l=Math.sin(r),u=Math.cos(r);return t[0]=i*c*u-a*s*l,t[1]=a*s*u+i*c*l,t[2]=a*c*l-i*s*u,t[3]=a*c*u+i*s*l,t}const g=c.c,M=c.s,x=c.f,y=f,_=c.b,A=c.g,b=c.l,v=c.i,w=v,S=c.j,B=S,F=c.n,P=c.a,T=c.e,O=(0,i.vt)(),X=(0,i.fA)(1,0,0),E=(0,i.fA)(0,1,0),Y=(0,o.vt)(),C=(0,o.vt)(),R=(0,r.vt)();Object.freeze(Object.defineProperty({__proto__:null,add:x,calculateW:function(t,n){const e=n[0],r=n[1],o=n[2];return t[0]=e,t[1]=r,t[2]=o,t[3]=Math.sqrt(Math.abs(1-e*e-r*r-o*o)),t},conjugate:p,copy:g,dot:A,equals:T,exactEquals:P,fromEuler:d,fromMat3:m,getAxisAngle:u,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},invert:function(t,n){const e=n[0],r=n[1],o=n[2],i=n[3],a=e*e+r*r+o*o+i*i,s=a?1/a:0;return t[0]=-e*s,t[1]=-r*s,t[2]=-o*s,t[3]=i*s,t},len:w,length:v,lerp:b,mul:y,multiply:f,normalize:F,random:function(t){const n=a.Ov,e=n(),r=n(),o=n(),i=Math.sqrt(1-e),s=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*r),t[1]=i*Math.cos(2*Math.PI*r),t[2]=s*Math.sin(2*Math.PI*o),t[3]=s*Math.cos(2*Math.PI*o),t},rotateX:function(t,n,e){e*=.5;const r=n[0],o=n[1],i=n[2],a=n[3],s=Math.sin(e),c=Math.cos(e);return t[0]=r*c+a*s,t[1]=o*c+i*s,t[2]=i*c-o*s,t[3]=a*c-r*s,t},rotateY:function(t,n,e){e*=.5;const r=n[0],o=n[1],i=n[2],a=n[3],s=Math.sin(e),c=Math.cos(e);return t[0]=r*c-i*s,t[1]=o*c+a*s,t[2]=i*c+r*s,t[3]=a*c-o*s,t},rotateZ:function(t,n,e){e*=.5;const r=n[0],o=n[1],i=n[2],a=n[3],s=Math.sin(e),c=Math.cos(e);return t[0]=r*c+o*s,t[1]=o*c-r*s,t[2]=i*c+a*s,t[3]=a*c-i*s,t},rotationTo:function(t,n,e){const r=(0,s.k)(n,e);return r<-.999999?((0,s.b)(O,X,n),(0,s.H)(O)<1e-6&&(0,s.b)(O,E,n),(0,s.n)(O,O),l(t,O,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):((0,s.b)(O,n,e),t[0]=O[0],t[1]=O[1],t[2]=O[2],t[3]=1+r,F(t,t))},scale:_,set:M,setAxes:function(t,n,e,r){const o=R;return o[0]=e[0],o[3]=e[1],o[6]=e[2],o[1]=r[0],o[4]=r[1],o[7]=r[2],o[2]=-n[0],o[5]=-n[1],o[8]=-n[2],F(t,m(t,o))},setAxisAngle:l,slerp:h,sqlerp:function(t,n,e,r,o,i){return h(Y,n,o,i),h(C,e,r,i),h(t,Y,C,2*i*(1-i)),t},sqrLen:B,squaredLength:S,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}},Symbol.toStringTag,{value:"Module"}))},75503:(t,n,e)=>{e.d(n,{w:()=>a});var r=e(4576),o=e(3694),i=e(11006);class a{constructor(t=9,n){this._compareMinX=f,this._compareMinY=h,this._toBBox=t=>t,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&("function"==typeof n?this._toBBox=n:this._initFormat(n)),this.clear()}destroy(){this.clear(),_.prune(),A.prune(),b.prune(),v.prune()}all(t){s(this._data,t)}search(t,n){let e=this._data;const r=this._toBBox;if(x(t,e))for(_.clear();e;){for(let o=0,i=e.children.length;o<i;o++){const i=e.children[o],a=e.leaf?r(i):i;x(t,a)&&(e.leaf?n(i):M(t,a)?s(i,n):_.push(i))}e=_.pop()}}collides(t){let n=this._data;const e=this._toBBox;if(!x(t,n))return!1;for(_.clear();n;){for(let r=0,o=n.children.length;r<o;r++){const o=n.children[r],i=n.leaf?e(o):o;if(x(t,i)){if(n.leaf||M(t,i))return!0;_.push(o)}}n=_.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let n=0,e=t.length;n<e;n++)this.insert(t[n]);return this}let n=this._build(t.slice(0,t.length),0,t.length-1,0);if(this._data.children.length)if(this._data.height===n.height)this._splitRoot(this._data,n);else{if(this._data.height<n.height){const t=this._data;this._data=n,n=t}this._insert(n,this._data.height-n.height-1,!0)}else this._data=n;return this}insert(t){return t&&this._insert(t,this._data.height-1),this}clear(){return this._data=new B([]),this}remove(t){if(!t)return this;let n,e=this._data,o=null,i=0,a=!1;const s=this._toBBox(t);for(b.clear(),v.clear();e||b.length>0;){if(e||(e=b.pop(),o=b.data[b.length-1],i=v.pop()??0,a=!0),e.leaf&&(n=(0,r.qh)(e.children,t,e.children.length,e.indexHint),-1!==n))return e.children.splice(n,1),b.push(e),this._condense(b),this;a||e.leaf||!M(e,s)?o?(i++,e=o.children[i],a=!1):e=null:(b.push(e),v.push(i),i=0,o=e,e=e.children[0])}return this}toJSON(){return this._data}fromJSON(t){return this._data=t,this}_build(t,n,e,r){const o=e-n+1;let i=this._maxEntries;if(o<=i){const r=new B(t.slice(n,e+1));return c(r,this._toBBox),r}r||(r=Math.ceil(Math.log(o)/Math.log(i)),i=Math.ceil(o/i**(r-1)));const a=new F([]);a.height=r;const s=Math.ceil(o/i),l=s*Math.ceil(Math.sqrt(i));y(t,n,e,l,this._compareMinX);for(let o=n;o<=e;o+=l){const n=Math.min(o+l-1,e);y(t,o,n,s,this._compareMinY);for(let e=o;e<=n;e+=s){const o=Math.min(e+s-1,n);a.children.push(this._build(t,e,o,r-1))}}return c(a,this._toBBox),a}_insert(t,n,e){const r=this._toBBox,o=e?t:r(t);b.clear();const i=function(t,n,e,r){for(;r.push(n),!0!==n.leaf&&r.length-1!==e;){let e,r=1/0,o=1/0;for(let i=0,a=n.children.length;i<a;i++){const a=n.children[i],s=p(a),c=d(t,a)-s;c<o?(o=c,r=s<r?s:r,e=a):c===o&&s<r&&(r=s,e=a)}n=e||n.children[0]}return n}(o,this._data,n,b);for(i.children.push(t),u(i,o);n>=0&&b.data[n].children.length>this._maxEntries;)this._split(b,n),n--;!function(t,n,e){for(let r=e;r>=0;r--)u(n.data[r],t)}(o,b,n)}_split(t,n){const e=t.data[n],r=e.children.length,o=this._minEntries;this._chooseSplitAxis(e,o,r);const i=this._chooseSplitIndex(e,o,r);if(!i)return void console.log("  Error: assertion failed at PooledRBush._split: no valid split index");const a=e.children.splice(i,e.children.length-i),s=e.leaf?new B(a):new F(a);s.height=e.height,c(e,this._toBBox),c(s,this._toBBox),n?t.data[n-1].children.push(s):this._splitRoot(e,s)}_splitRoot(t,n){this._data=new F([t,n]),this._data.height=t.height+1,c(this._data,this._toBBox)}_chooseSplitIndex(t,n,e){let r,o,i;r=o=1/0;for(let a=n;a<=e-n;a++){const n=l(t,0,a,this._toBBox),s=l(t,a,e,this._toBBox),c=g(n,s),u=p(n)+p(s);c<r?(r=c,i=a,o=u<o?u:o):c===r&&u<o&&(o=u,i=a)}return i}_chooseSplitAxis(t,n,e){const r=t.leaf?this._compareMinX:f,o=t.leaf?this._compareMinY:h;this._allDistMargin(t,n,e,r)<this._allDistMargin(t,n,e,o)&&t.children.sort(r)}_allDistMargin(t,n,e,r){t.children.sort(r);const o=this._toBBox,i=l(t,0,n,o),a=l(t,e-n,e,o);let s=m(i)+m(a);for(let r=n;r<e-n;r++){const n=t.children[r];u(i,t.leaf?o(n):n),s+=m(i)}for(let r=e-n-1;r>=n;r--){const n=t.children[r];u(a,t.leaf?o(n):n),s+=m(a)}return s}_condense(t){for(let n=t.length-1;n>=0;n--){const e=t.data[n];if(0===e.children.length)if(n>0){const o=t.data[n-1],i=o.children;i.splice((0,r.qh)(i,e,i.length,o.indexHint),1)}else this.clear();else c(e,this._toBBox)}}_initFormat(t){const n=["return a"," - b",";"];this._compareMinX=new Function("a","b",n.join(t[0])),this._compareMinY=new Function("a","b",n.join(t[1])),this._toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}function s(t,n){let e=t;for(A.clear();e;){if(!0===e.leaf)for(const t of e.children)n(t);else A.pushArray(e.children);e=A.pop()??null}}function c(t,n){l(t,0,t.children.length,n,t)}function l(t,n,e,r,o){o||(o=new B([])),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(let i,a=n;a<e;a++)i=t.children[a],u(o,t.leaf?r(i):i);return o}function u(t,n){t.minX=Math.min(t.minX,n.minX),t.minY=Math.min(t.minY,n.minY),t.maxX=Math.max(t.maxX,n.maxX),t.maxY=Math.max(t.maxY,n.maxY)}function f(t,n){return t.minX-n.minX}function h(t,n){return t.minY-n.minY}function p(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function m(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,n){return(Math.max(n.maxX,t.maxX)-Math.min(n.minX,t.minX))*(Math.max(n.maxY,t.maxY)-Math.min(n.minY,t.minY))}function g(t,n){const e=Math.max(t.minX,n.minX),r=Math.max(t.minY,n.minY),o=Math.min(t.maxX,n.maxX),i=Math.min(t.maxY,n.maxY);return Math.max(0,o-e)*Math.max(0,i-r)}function M(t,n){return t.minX<=n.minX&&t.minY<=n.minY&&n.maxX<=t.maxX&&n.maxY<=t.maxY}function x(t,n){return n.minX<=t.maxX&&n.minY<=t.maxY&&n.maxX>=t.minX&&n.maxY>=t.minY}function y(t,n,e,r,o){const a=[n,e];for(;a.length;){const n=a.pop(),e=a.pop();if(n-e<=r)continue;const s=e+Math.ceil((n-e)/r/2)*r;(0,i.q)(t,s,e,n,o),a.push(e,s,s,n)}}const _=new o.A,A=new o.A,b=new o.A,v=new o.A({deallocator:void 0});class w{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class S extends w{constructor(){super(...arguments),this.height=1,this.indexHint=new r.vW}}class B extends S{constructor(t){super(),this.children=t,this.leaf=!0}}class F extends S{constructor(t){super(),this.children=t,this.leaf=!1}}},48353:(t,n,e)=>{e.d(n,{l:()=>l});var r=e(34727),o=e(58083),i=e(51850);function a(t,n,e){const r=Math.sin(t),o=Math.cos(t),i=Math.sin(n),a=Math.cos(n),s=e;return s[0]=-r,s[4]=-i*o,s[8]=a*o,s[12]=0,s[1]=o,s[5]=-i*r,s[9]=a*r,s[13]=0,s[2]=0,s[6]=a,s[10]=i,s[14]=0,s[3]=0,s[7]=0,s[11]=0,s[15]=1,s}var s=e(37539),c=e(21325);function l(t,n,e,r){if(null==t||null==r)return!1;const i=(0,s.Qk)(t,s.Wv),l=(0,s.Qk)(r,s.zp);if(i===l&&!u(l)&&(i!==s.rz.UNKNOWN||(0,c.aI)(t,r)))return(0,o.kN)(e,n),!0;if(u(l)){const t=s.w5[i][s.rz.LON_LAT],r=s.w5[s.rz.LON_LAT][l];return null!=t&&null!=r&&(t(n,0,h,0),r(h,0,p,0),a(f*h[0],f*h[1],e),e[12]=p[0],e[13]=p[1],e[14]=p[2],!0)}if((l===s.rz.WEB_MERCATOR||l===s.rz.PLATE_CARREE||l===s.rz.WGS84)&&(i===s.rz.WGS84||i===s.rz.CGCS2000&&l===s.rz.PLATE_CARREE||i===s.rz.SPHERICAL_ECEF||i===s.rz.WEB_MERCATOR)){const t=s.w5[i][s.rz.LON_LAT],r=s.w5[s.rz.LON_LAT][l];return null!=t&&null!=r&&(t(n,0,h,0),r(h,0,p,0),i===s.rz.SPHERICAL_ECEF?function(t,n,e){a(t,n,e),(0,o.mg)(e,e)}(f*h[0],f*h[1],e):(0,o.D_)(e),e[12]=p[0],e[13]=p[1],e[14]=p[2],!0)}return!1}function u(t){return t===s.rz.SPHERICAL_ECEF||t===s.rz.SPHERICAL_MARS_PCPF||t===s.rz.SPHERICAL_MOON_PCPF}const f=(0,r.kU)(1),h=(0,i.vt)(),p=(0,i.vt)()},98764:(t,n,e)=>{e.d(n,{lO:()=>l});var r=e(73941),o=e(16930),i=e(21325);const a=new o.A(r.fv),s=new o.A(r.FY),c=new o.A(r.LJ);function l(t){const n=u.get(t);if(n)return n;let e=a;if(t)if(t===s)e=s;else if(t===c)e=c;else{const n=t.wkid,r=t.latestWkid;if(null!=n||null!=r)(0,i.tl)(n)||(0,i.tl)(r)?e=s:((0,i.ZL)(n)||(0,i.ZL)(r))&&(e=c);else{const n=t.wkt2??t.wkt;if(n){const t=n.toUpperCase();t===f?e=s:t===h&&(e=c)}}}return u.set(t,e),e}new o.A(r.Ro);const u=new Map,f=s.wkt.toUpperCase(),h=c.wkt.toUpperCase()},4197:(t,n,e)=>{e.d(n,{Ns:()=>c,jh:()=>o,l5:()=>a,s:()=>s,xm:()=>i});var r=e(34275);function o(t,n=!1){return t<=r.y9?n?new Array(t).fill(0):new Array(t):new Float64Array(t)}function i(t){return((0,r.cy)(t)?t.length:t.byteLength/8)<=r.y9?Array.from(t):new Float64Array(t)}function a(t,n,e){return Array.isArray(t)?t.slice(n,n+e):t.subarray(n,n+e)}function s(t,n){for(let e=0;e<n.length;++e)t[e]=n[e];return t}function c(t){return Array.isArray(t)?new Float64Array(t):t}},95696:(t,n,e)=>{e.d(n,{A:()=>u});var r=e(90237),o=e(69540),i=e(25482),a=e(10107),s=(e(44208),e(53966),e(87811),e(93223)),c=e(40608);let l=class extends((0,o.O)(i.oY)){constructor(t){super(t),this.type="georeferenced",this.origin=null}};(0,r._)([(0,s.e)({georeferenced:"georeferenced"},{readOnly:!0})],l.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],l.prototype,"origin",void 0),l=(0,r._)([(0,c.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],l);const u=l},18251:(t,n,e)=>{e.d(n,{A:()=>f});var r=e(90237),o=e(69540),i=e(25482),a=e(10107),s=(e(44208),e(53966),e(87811),e(93223)),c=e(40608),l=e(51850);let u=class extends((0,o.O)(i.oY)){constructor(t){super(t),this.type="local",this.origin=(0,l.vt)()}};(0,r._)([(0,s.e)({local:"local"},{readOnly:!0})],u.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],u.prototype,"origin",void 0),u=(0,r._)([(0,c.$)("esri.geometry.support.MeshLocalVertexSpace")],u);const f=u},73836:(t,n,e)=>{e.d(n,{A:()=>M});var r,o=e(90237),i=e(25482),a=e(10107),s=(e(44208),e(53966),e(87811),e(40608)),c=e(58083),l=e(9093),u=e(67026),f=e(82534),h=e(38954),p=e(51850),m=e(24770);let d=r=class extends i.oY{constructor(t){super(t),this.translation=(0,p.vt)(),this.rotationAxis=(0,p.ci)(m.up),this.rotationAngle=0,this.scale=(0,p.fA)(1,1,1)}get rotation(){return(0,m.i4)(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=(0,p.o8)((0,m.yo)(t)),this.rotationAngle=(0,m.g7)(t)}get localMatrix(){const t=(0,l.vt)();return(0,u.x8)(g,(0,m.yo)(this.rotation),(0,m.$I)(this.rotation)),(0,c.o1)(t,g,this.translation,this.scale),t}get localMatrixInverse(){return(0,c.B8)((0,l.vt)(),this.localMatrix)}applyLocal(t,n){return(0,h.e)(n,t,this.localMatrix)}applyLocalInverse(t,n){return(0,h.e)(n,t,this.localMatrixInverse)}equals(t){return this===t||null!=t&&(0,c.t2)(this.localMatrix,t.localMatrix)}clone(){const t={translation:(0,p.o8)(this.translation),rotationAxis:(0,p.o8)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,p.o8)(this.scale)};return new r(t)}};(0,o._)([(0,a.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"translation",void 0),(0,o._)([(0,a.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"rotationAxis",void 0),(0,o._)([(0,a.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],d.prototype,"rotationAngle",void 0),(0,o._)([(0,a.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"scale",void 0),(0,o._)([(0,a.MZ)()],d.prototype,"rotation",null),(0,o._)([(0,a.MZ)()],d.prototype,"localMatrix",null),(0,o._)([(0,a.MZ)()],d.prototype,"localMatrixInverse",null),d=r=(0,o._)([(0,s.$)("esri.geometry.support.MeshTransform")],d);const g=(0,f.vt)(),M=d},24770:(t,n,e)=>{e.d(n,{$I:()=>g,AU:()=>p,g7:()=>d,i4:()=>u,ui:()=>f,up:()=>x,vt:()=>l,yo:()=>m});var r=e(34727),o=e(58083),i=e(67026),a=e(82534),s=e(38954),c=e(51850);function l(t=x){return[t[0],t[1],t[2],t[3]]}function u(t,n,e=l()){return(0,s.c)(e,t),e[3]=n,e}function f(t,n=l()){const e=(0,o.l)(y,t);return M(n,(0,r.KJ)((0,i.Xd)(n,e))),n}function h(t,n,e=l()){return(0,i.x8)(y,t,g(t)),(0,i.x8)(_,n,g(n)),(0,i.lw)(y,_,y),M(e,(0,r.KJ)((0,i.Xd)(e,y)))}function p(t,n,e,r=l()){return u(c.Cw,t,A),u(c.JP,n,b),u(c.Cb,e,v),h(A,b,A),h(A,v,r),r}function m(t){return t}function d(t){return t[3]}function g(t){return(0,r.kU)(t[3])}function M(t,n){return t[3]=n,t}e(91829);const x=[0,0,1,0],y=(0,a.vt)(),_=(0,a.vt)(),A=(l(),l()),b=l(),v=l()},72727:(t,n,e)=>{e.d(n,{j:()=>o});var r=e(53966);const o=()=>r.A.getLogger("esri.views.3d.support.buffer.math")},38419:(t,n,e)=>{e.r(n),e.d(n,{default:()=>s});var r=e(44208),o=e(75503),i=e(27615),a=e(89414);class s{async createIndex(t,n){const e=new Array;if(!t.vertexAttributes?.position)return new o.w;const r=function(t){const n=((0,i.Hq)(t.vertexSpace)?(0,a.bA)({position:t.vertexAttributes.position,normal:null,tangent:null},t.vertexSpace,t.transform,t.spatialReference).position:t.vertexAttributes.position).buffer;return!t.components||t.components.some((t=>!t.faces))?{position:n}:{position:n,components:t.components.map((t=>t.faces))}}(t),s=null!=n?await n.invoke("createIndexThread",r,{transferList:e}):this.createIndexThread(r).result;return c().fromJSON(s)}createIndexThread(t){const n=new Float64Array(t.position),e=c();return t.components?function(t,n,e){let r=0;for(const t of e)r+=t.length/3;const o=new Array(r);let i=0;for(const t of e)for(let e=0;e<t.length;e+=3)o[i++]=l(n,3*t[e],3*t[e+1],3*t[e+2]);return t.load(o),{result:t.toJSON()}}(e,n,t.components.map((t=>new Uint32Array(t)))):function(t,n){const e=new Array(n.length/9);let r=0;for(let t=0;t<n.length;t+=9)e[r++]=l(n,t,t+3,t+6);return t.load(e),{result:t.toJSON()}}(e,n)}}function c(){return new o.w(9,(0,r.A)("esri-csp-restrictions")?t=>t:[".minX",".minY",".maxX",".maxY"])}function l(t,n,e,r){return{minX:Math.min(t[n],t[e],t[r]),maxX:Math.max(t[n],t[e],t[r]),minY:Math.min(t[n+1],t[e+1],t[r+1]),maxY:Math.max(t[n+1],t[e+1],t[r+1]),p0:[t[n],t[n+1],t[n+2]],p1:[t[e],t[e+1],t[e+2]],p2:[t[r],t[r+1],t[r+2]]}}},26578:(t,n,e)=>{e.d(n,{Hm:()=>s,QD:()=>c,WN:()=>a});var r=e(51447),o=e(53966),i=e(27615);function a(t,n){return t.isGeographic||t.isWebMercator&&(n??!0)}function s(t,n){switch(t.type){case"georeferenced":return n.isGeographic;case"local":return n.isGeographic||n.isWebMercator}}function c(t,n,e,a){if(void 0!==a){(0,r.io)(o.A.getLogger(t),"option: geographic",{replacement:"use mesh vertexSpace and spatial reference to control how operations are performed",version:"4.29",warnOnce:!0});const s="local"===n.type;if(!(0,i.Hq)(n)||a===s)return e.isGeographic||e.isWebMercator&&a;o.A.getLogger(t).warnOnce(`Specifying the 'geographic' parameter (${a}) for a Mesh vertex space of type "${n.type}" is not supported. This parameter will be ignored.`)}return s(n,e)}},89414:(t,n,e)=>{e.d(n,{NW:()=>A,RN:()=>T,bA:()=>b,h7:()=>S,nX:()=>Y,project:()=>B,qD:()=>v,wD:()=>F});var r=e(83047),o=e(29242),i=e(58083),a=e(9093),s=e(38954),c=e(51850),l=e(77690),u=e(57251),f=e(98764),h=e(48353),p=e(9762),m=e(4197),d=e(73836),g=e(27615),M=e(73354),x=e(26578),y=e(22141);function _(t,n,e){return(0,x.WN)(n.spatialReference,e?.geographic)?F(t,n,!1,e):function(t,n,e){const r=new Float64Array(t.position.length),o=t.position,i=n.x,a=n.y,s=n.z??0,c=Y(e?e.unit:null,n.spatialReference);for(let t=0;t<o.length;t+=3)r[t]=o[t]*c+i,r[t+1]=o[t+1]*c+a,r[t+2]=o[t+2]*c+s;return{position:r,normal:t.normal,tangent:t.tangent}}(t,n,e)}function A(t,n=a.zK){const{position:e,normal:r,tangent:o}=t;return{position:(0,M.a)(new Float64Array(e.length),e,n),normal:null!=r?(0,y.qs)(r,new Float32Array(r.length),n):null,tangent:null!=o?(0,y.KM)(o,new Float32Array(o.length),n):null}}function b(t,n,e,r){const{position:o,normal:i,tangent:a}=t;if(!(0,g.Hq)(n))return{position:o,normal:i,tangent:a};const s=(0,g.MW)(n,r);return _(A(t,e?.localMatrix),s,{geographic:"local"===n.type})}function v(t,n,e){const r=(0,g.TE)(n,e),o=n.spatialReference,i=(0,g.Hq)(r);if(!i)return{vertexAttributes:_(t,n,e),vertexSpace:r,transform:null};const{position:a,normal:s,tangent:c}=t,l=(0,x.Hm)(r,o);switch(r.type){case"georeferenced":return l?{vertexAttributes:F(t,n,i,e),vertexSpace:r,transform:null}:{vertexAttributes:{position:a,normal:s,tangent:c},vertexSpace:r,transform:new d.A};case"local":return{vertexAttributes:{position:a,normal:s,tangent:c},vertexSpace:r,transform:new d.A}}}function w(t,n,e){return(0,x.WN)(n.spatialReference,e?.geographic)?T(t,n,e):P(t,n,e)}function S(t,n,e,r,o){if(!(0,g.Hq)(n))return w(t,r,o);const{spatialReference:i}=r,a=b(t,n,e,i);return r.equals((0,g.MW)(n,i))?P(a,r,o):w(a,r,o)}function B({positions:t,transform:n,vertexSpace:e,inSpatialReference:r,outSpatialReference:o,outPositions:l,localMode:d}){const g=e.origin??c.uY,x=null!=e.origin?n?.localMatrix??a.zK:a.zK;if("georeferenced"===e.type){const n=l??(0,m.jh)(t.length);if((0,i.aI)(x,a.zK)?(0,m.s)(n,t):(0,M.a)(n,t,x),!(0,s.j)(g,c.uY)){const[t,e,r]=g;for(let o=0;o<n.length;o+=3)n[o]+=t,n[o+1]+=e,n[o+2]+=r}return(0,p.projectBuffer)(n,r,0,n,o,0,n.length/3),n}let y=r;const _=(0,f.lO)(r);y=o.isWebMercator&&d||!(0,u.canProjectWithoutEngine)(r,_)?y:_,(0,h.l)(r,g,C,y),(0,i.lw)(C,C,x);const A=l??(0,m.jh)(t.length);return(0,M.a)(A,t,C),(0,p.projectBuffer)(A,y,0,A,o,0,A.length/3),A}function F(t,n,e,r){const o=n.spatialReference,i=O(n,r,C),a=new Float64Array(t.position.length),s=function(t,n,e,r){(0,M.a)(r,t,n);const o=new Float64Array(t.length);return(0,y.$5)(r,o,e)}(t.position,i,o,a),c=(0,l.Ge)(z,i),u=function(t,n,e,r,o){if(null==e)return null;const i=new Float32Array(e.length);return(0,M.b)(i,e,r),(0,y.si)(i,t,n,o,i),i}(s,a,t.normal,c,o),f=function(t,n,e,r,o){if(null==e)return null;const i=new Float32Array(e.length);(0,M.b)(i,e,r,4);for(let t=3;t<i.length;t+=4)i[t]=e[t];return(0,y.Mv)(i,t,n,o,i),i}(s,a,t.tangent,c,o);if(e){const{x:t,y:e,z:r}=n;(0,M.t)(s,s,[-t,-e,-(r??0)])}return{position:s,normal:u,tangent:f}}function P(t,n,e){const r=new Float64Array(t.position.length),o=t.position,i=n.x,a=n.y,s=n.z??0,c=Y(e?e.unit:null,n.spatialReference);for(let t=0;t<o.length;t+=3)r[t]=(o[t]-i)/c,r[t+1]=(o[t+1]-a)/c,r[t+2]=(o[t+2]-s)/c;return{position:r,normal:t.normal,tangent:t.tangent}}function T(t,n,e){const r=n.spatialReference;O(n,e,C);const o=(0,i.B8)(R,C),a=new Float64Array(t.position.length),s=function(t,n,e,r){const o=(0,y.gr)(t,n,r),i=new Float64Array(o.length);return(0,M.a)(i,o,e),i}(t.position,r,o,a),c=(0,l.Ge)(z,o);return{position:s,normal:X(t.normal,t.position,a,r,c),tangent:E(t.tangent,t.position,a,r,c)}}function O(t,n,e){(0,h.l)(t.spatialReference,[t.x,t.y,t.z??0],e,(0,f.lO)(t.spatialReference));const r=Y(n?n.unit:null,t.spatialReference);return(0,i.hs)(e,e,[r,r,r]),e}function X(t,n,e,r,o){if(null==t)return null;const i=(0,y.X4)(t,n,e,r,new Float32Array(t.length));return(0,M.b)(i,i,o),i}function E(t,n,e,r,o){if(null==t)return null;const i=(0,y.xA)(t,n,e,r,new Float32Array(t.length));return(0,M.b)(i,i,o,4),i}function Y(t,n){if(null==t)return 1;const e=(0,r.KX)(n);return 1/(0,r.oU)(e,"meters",t)}const C=(0,a.vt)(),R=(0,a.vt)(),z=(0,o.vt)()},22141:(t,n,e)=>{e.d(n,{$5:()=>_,KM:()=>b,Mv:()=>w,X4:()=>M,gr:()=>y,qs:()=>A,si:()=>x,xA:()=>v});var r=e(53966),o=e(77690),i=e(29242),a=e(9093),s=e(38954),c=e(51850),l=e(98764),u=e(48353),f=e(9762),h=e(21325),p=e(28735),m=e(13030),d=e(73354);const g=()=>r.A.getLogger("esri.geometry.support.meshUtils.normalProjection");function M(t,n,e,r,o){return B(r)?(S(P.TO_PCPF,m.xs.fromTypedArray(t),m.Xm.fromTypedArray(n),m.Xm.fromTypedArray(e),r,m.xs.fromTypedArray(o)),o):(g().error("Cannot convert spatial reference to PCPF"),o)}function x(t,n,e,r,o){return B(r)?(S(P.FROM_PCPF,m.xs.fromTypedArray(t),m.Xm.fromTypedArray(n),m.Xm.fromTypedArray(e),r,m.xs.fromTypedArray(o)),o):(g().error("Cannot convert to spatial reference from PCPF"),o)}function y(t,n,e){return(0,f.projectBuffer)(t,n,0,e,(0,l.lO)(n),0,t.length/3),e}function _(t,n,e){return(0,f.projectBuffer)(t,(0,l.lO)(e),0,n,e,0,t.length/3),n}function A(t,n,e){return(0,o.Ge)(Y,e),(0,d.b)(n,t,Y),(0,o.ut)(Y)||(0,d.n)(n,n),n}function b(t,n,e){if((0,o.Ge)(Y,e),(0,d.b)(n,t,Y,4),(0,o.ut)(Y)||(0,d.n)(n,n,4),t!==n)for(let e=3;e<t.length;e+=4)n[e]=t[e];return n}function v(t,n,e,r,o){if(!B(r))return g().error("Cannot convert spatial reference to PCPF"),o;S(P.TO_PCPF,m.xs.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),m.Xm.fromTypedArray(n),m.Xm.fromTypedArray(e),r,m.xs.fromTypedArray(o,4*Float32Array.BYTES_PER_ELEMENT));for(let n=3;n<t.length;n+=4)o[n]=t[n];return o}function w(t,n,e,r,o){if(!B(r))return g().error("Cannot convert to spatial reference from PCPF"),o;S(P.FROM_PCPF,m.xs.fromTypedArray(t,16),m.Xm.fromTypedArray(n),m.Xm.fromTypedArray(e),r,m.xs.fromTypedArray(o,16));for(let n=3;n<t.length;n+=4)o[n]=t[n];return o}function S(t,n,e,r,i,a){if(!n)return;const c=e.count,f=(0,l.lO)(i);if(F(i))for(let e=0;e<c;e++)r.getVec(e,O),n.getVec(e,X),(0,u.l)(f,O,E,f),(0,o.z0)(Y,E),t===P.FROM_PCPF&&(0,o.mg)(Y,Y),(0,s.t)(X,X,Y),a.setVec(e,X);else for(let i=0;i<c;i++){r.getVec(i,O),n.getVec(i,X),(0,u.l)(f,O,E,f),(0,o.z0)(Y,E);const c=(0,p.jg)(e.get(i,1));let l=Math.cos(c);t===P.TO_PCPF&&(l=1/l),Y[0]*=l,Y[1]*=l,Y[2]*=l,Y[3]*=l,Y[4]*=l,Y[5]*=l,t===P.FROM_PCPF&&(0,o.mg)(Y,Y),(0,s.t)(X,X,Y),(0,s.n)(X,X),a.setVec(i,X)}return a}function B(t){return F(t)||function(t){return t.isWebMercator}(t)}function F(t){return t.isWGS84||(0,h.x1)(t)||(0,h.q8)(t)||(0,h.KQ)(t)}var P,T;(T=P||(P={}))[T.TO_PCPF=0]="TO_PCPF",T[T.FROM_PCPF=1]="FROM_PCPF";const O=(0,c.vt)(),X=(0,c.vt)(),E=(0,a.vt)(),Y=(0,i.vt)()},27615:(t,n,e)=>{e.d(n,{CK:()=>h,Hq:()=>f,MW:()=>p,TE:()=>m,Uj:()=>d,by:()=>g,kp:()=>u});var r=e(51447),o=e(53966),i=e(86738),a=e(95696),s=e(18251),c=e(73354);function l(){return o.A.getLogger("esri.geometry.Mesh")}function u(t){const{vertexSpace:n}=t;if(null!=n.origin)return t.clone();const{anchor:e}=t,r=e.clone(),o=new a.A({origin:[r.x,r.y,r.z]}),i=t.cloneWithVertexSpace(o),{position:s}=i.vertexAttributes;return i.vertexAttributes.position=(0,c.t)(new Float64Array(s.length),s,[-r.x,-r.y,-(r.z??0)]),i.vertexAttributesChanged(),i}function f(t){return null!=t.origin}function h(t){return f(t.vertexSpace)}function p(t,n){if(!f(t))return null;const[e,r,o]=t.origin;return new i.A({x:e,y:r,z:o,spatialReference:n})}function m(t,n){const{x:e,y:o,z:i,spatialReference:c}=t,u=[e,o,i??0];if(void 0!==n?.geographic){if((0,r.io)(l(),"option: geographic",{replacement:"use vertexSpace option instead",version:"4.29",warnOnce:!0}),!n?.vertexSpace)return n?.geographic?new s.A({origin:u}):new a.A({origin:u});l().warn("Deprecated geographic flag ignored since vertexSpace option is provided.")}if(!n?.vertexSpace)return c.isGeographic||c.isWebMercator?new s.A({origin:u}):new a.A({origin:u});switch(n.vertexSpace){case"local":return new s.A({origin:u});case"georeferenced":return new a.A({origin:u});case"georeferenced-absolute":return new a.A}}function d(t){return t.isGeographic||t.isWebMercator?"local":"georeferenced"}function g(t,n){return"local"===t?new s.A({origin:n}):new a.A({origin:n})}}}]);