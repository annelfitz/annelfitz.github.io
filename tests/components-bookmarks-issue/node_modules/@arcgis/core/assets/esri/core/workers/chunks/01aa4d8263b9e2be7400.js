"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[347],{76412:(t,e,n)=>{n.d(e,{a:()=>p,b:()=>M,c:()=>_,f:()=>P,g:()=>A,j:()=>S,n:()=>F}),n(44208);var r=n(53966),a=n(34727),i=n(58083),s=n(38954),o=n(51850),c=n(87317),h=n(91829),u=n(34304),l=n(88582),d=n(71351),f=n(44280),m=n(32114);const v=_();function _(){return(0,h.vt)()}const g=c.e,b=c.e;function p(t,e){return(0,c.c)(e,t)}function M(t){return t[3]}function A(t){return t}function P(t,e,n,r){return(0,h.fA)(t,e,n,r)}function x(t,e,n){if(null==e)return!1;if(!C(t,e,y))return!1;let{t0:r,t1:a}=y;if((r<0||a<r&&a>0)&&(r=a),r<0)return!1;if(n){const{origin:t,direction:a}=e;n[0]=t[0]+a[0]*r,n[1]=t[1]+a[1]*r,n[2]=t[2]+a[2]*r}return!0}const y={t0:0,t1:0};function C(t,e,n){const{origin:r,direction:a}=e,i=j;i[0]=r[0]-t[0],i[1]=r[1]-t[1],i[2]=r[2]-t[2];const s=a[0]*a[0]+a[1]*a[1]+a[2]*a[2];if(0===s)return!1;const o=2*(a[0]*i[0]+a[1]*i[1]+a[2]*i[2]),c=o*o-4*s*(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]-t[3]*t[3]);if(c<0)return!1;const h=Math.sqrt(c);return n.t0=(-o-h)/(2*s),n.t1=(-o+h)/(2*s),!0}const j=(0,o.vt)();function S(t,e){return x(t,e,null)}function w(t,e,n){const r=m.rq.get(),a=m.Rc.get();(0,s.b)(r,e.origin,e.direction);const o=M(t);(0,s.b)(n,r,e.origin),(0,s.h)(n,n,1/(0,s.l)(n)*o);const c=q(t,e.origin),h=(0,f.g7)(e.origin,n);return(0,i.$0)(a,h+c,r),(0,s.e)(n,n,a),n}function I(t,e,n){const r=(0,s.f)(m.rq.get(),e,t),a=(0,s.h)(m.rq.get(),r,t[3]/(0,s.l)(r));return(0,s.g)(n,a,t)}function q(t,e){const n=(0,s.f)(m.rq.get(),e,t),r=(0,s.l)(n),i=M(t),o=i+Math.abs(i-r);return(0,a.XM)(i/o)}const T=(0,o.vt)();function z(t,e,n,r){const i=(0,s.f)(T,e,t);switch(n){case l._.X:{const t=(0,a.jU)(i,T)[2];return(0,s.s)(r,-Math.sin(t),Math.cos(t),0)}case l._.Y:{const t=(0,a.jU)(i,T),e=t[1],n=t[2],o=Math.sin(e);return(0,s.s)(r,-o*Math.cos(n),-o*Math.sin(n),Math.cos(e))}case l._.Z:return(0,s.n)(r,i);default:return}}function N(t,e){const n=(0,s.f)(O,e,t);return(0,s.l)(n)-t[3]}function F(t,e){const n=(0,s.a)(t,e),r=M(t);return n<=r*r}const O=(0,o.vt)(),R=_();Object.freeze(Object.defineProperty({__proto__:null,NullSphere:v,altitudeAt:N,angleToSilhouette:q,axisAt:z,clear:function(t){t[0]=t[1]=t[2]=t[3]=0},closestPoint:function(t,e,n){return x(t,e,n)?n:((0,d.oC)(e,t,n),I(t,n,n))},closestPointOnSilhouette:w,containsPoint:F,copy:p,create:_,distanceToSilhouette:function(t,e){const n=(0,s.f)(m.rq.get(),e,t),r=(0,s.p)(n),a=t[3]*t[3];return Math.sqrt(Math.abs(r-a))},elevate:function(t,e,n){return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=t[3]+e,n},equals:b,exactEquals:g,fromCenterAndRadius:function(t,e){return(0,h.fA)(t[0],t[1],t[2],e)},fromRadius:function(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t},fromValues:P,getCenter:A,getRadius:M,intersectLine:function(t,e,n){const r=(0,d.Cr)(e,n);if(!C(t,r,y))return[];const{origin:a,direction:i}=r,{t0:c,t1:h}=y,l=e=>{const n=(0,o.vt)();return(0,s.r)(n,a,i,e),I(t,n,n)};return Math.abs(c-h)<(0,u.FD)()?[l(c)]:[l(c),l(h)]},intersectRay:x,intersectRayClosestSilhouette:function(t,e,n){if(x(t,e,n))return n;const r=w(t,e,m.rq.get());return(0,s.g)(n,e.origin,(0,s.h)(m.rq.get(),e.direction,(0,s.q)(e.origin,r)/(0,s.l)(e.direction))),n},intersectsRay:S,projectPoint:I,setAltitudeAt:function(t,e,n,r){const a=N(t,e),i=z(t,e,l._.Z,O),o=(0,s.h)(O,i,n-a);return(0,s.g)(r,e,o)},setExtent:function(t,e,n){return r.A.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported"),t!==n&&p(t,n),n},tmpSphere:R,union:function(t,e,n=(0,h.vt)()){const r=(0,s.q)(t,e),a=t[3],i=e[3];return r+i<a?((0,c.c)(n,t),n):r+a<i?((0,c.c)(n,e),n):((0,s.m)(n,t,e,(r+i-a)/(2*r)),n[3]=(r+a+i)/2,n)},wrap:function(t){return t}},Symbol.toStringTag,{value:"Module"}))},4341:(t,e,n)=>{n.d(e,{I:()=>a});var r=n(26390);class a{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,r.d)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*i);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,i));t++)this._items.push(this._allocator())}}const i=1024},71351:(t,e,n)=>{n.d(e,{Cr:()=>h,LV:()=>c,oC:()=>u,vt:()=>s}),n(4576);var r=n(4341),a=n(38954),i=n(51850);function s(t){return t?o((0,i.o8)(t.origin),(0,i.o8)(t.direction)):o((0,i.vt)(),(0,i.vt)())}function o(t,e){return{origin:t,direction:e}}function c(t,e){const n=l.get();return n.origin=t,n.direction=e,n}function h(t,e,n=s()){return(0,a.c)(n.origin,t),(0,a.f)(n.direction,e,t),n}function u(t,e,n){const r=(0,a.k)(t.direction,(0,a.f)(n,e,t.origin));return(0,a.g)(n,t.origin,(0,a.h)(n,t.direction,r)),n}n(32114);const l=new r.I((()=>s()))},66104:(t,e,n)=>{var r,a;n.d(e,{k5:()=>r}),n(34727),(a=r||(r={}))[a.Multiply=1]="Multiply",a[a.Ignore=2]="Ignore",a[a.Replace=3]="Replace",a[a.Tint=4]="Tint"},57005:(t,e,n)=>{n.d(e,{ab:()=>Mt,gm:()=>qt});var r=n(77690),a=n(29242),i=n(9093),s=n(67026),o=n(82534),c=n(38954),h=n(51850),u=n(87317),l=n(91829),d=n(73941),f=n(98764),m=n(48353),v=n(9762),_=n(37539),g=n(240),b=n(21325),p=n(32114),M=n(24151),A=n(48163),P=n(46610);const x=1e-6,y=(0,h.vt)(),C=(0,h.vt)();function j(t,e,n,r,a,i,s,o,c,h){return function(t,e,n){let r=bt(t.maxVert[0],t.minVert[0]),a=0;for(let e=1;e<7;++e){const n=bt(t.maxVert[e],t.minVert[e]);n>r&&(r=n,a=e)}mt(e,t.minVert[a]),mt(n,t.maxVert[a])}(t,r,a),bt(r,a)<x?1:(dt(s,r,a),_t(s,s),function(t,e,n,r){const{data:a,size:i}=t;let s=Number.NEGATIVE_INFINITY,o=0;for(let t=0;t<a.length;t+=i){R[0]=a[t]-e[0],R[1]=a[t+1]-e[1],R[2]=a[t+2]-e[2];const r=n[0]*R[0]+n[1]*R[1]+n[2]*R[2],i=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],c=R[0]*R[0]+R[1]*R[1]+R[2]*R[2]-r*r/i;c>s&&(s=c,o=t)}return mt(r,a,o),s}(e,r,s,i)<x?2:(dt(o,a,i),_t(o,o),dt(c,i,r),_t(c,c),vt(n,o,s),_t(n,n),X(e,n,s,o,c,h),0))}const S=(0,h.vt)(),w=(0,h.vt)(),I=(0,h.vt)(),q=(0,h.vt)(),T=(0,h.vt)(),z=(0,h.vt)(),N=(0,h.vt)(),F=(0,h.vt)();function O(t,e,n,r,a,i,s,o,c){(function(t,e,n,r,a){!function(t,e,n,r,a){const{data:i,size:s}=t;mt(r,i),mt(a,r),n[0]=pt(k,e),n[1]=n[0];for(let t=s;t<i.length;t+=s){const s=i[t]*e[0]+i[t+1]*e[1]+i[t+2]*e[2];s<n[0]&&(n[0]=s,mt(r,i,t)),s>n[1]&&(n[1]=s,mt(a,i,t))}}(t,e,H,a,r);const i=pt(n,e);H[1]-x<=i&&(r[0]=void 0),H[0]+x>=i&&(a[0]=void 0)})(t,e,n,S,w),void 0!==S[0]&&(dt(I,S,n),_t(I,I),dt(q,S,r),_t(q,q),dt(T,S,a),_t(T,T),vt(z,q,i),_t(z,z),vt(N,T,s),_t(N,N),vt(F,I,o),_t(F,F),X(t,z,i,q,I,c),X(t,N,s,T,q,c),X(t,F,o,I,T,c)),void 0!==w[0]&&(dt(I,w,n),_t(I,I),dt(q,w,r),_t(q,q),dt(T,w,a),_t(T,T),vt(z,q,i),_t(z,z),vt(N,T,s),_t(N,N),vt(F,I,o),_t(F,F),X(t,z,i,q,I,c),X(t,N,s,T,q,c),X(t,F,o,I,T,c))}const R=[0,0,0],H=(0,A.vt)(),D=(0,h.vt)(),V=(0,h.vt)(),B=(0,h.vt)(),E=(0,h.vt)(),L=(0,h.vt)(),U=(0,h.vt)();function X(t,e,n,r,a,i){if(gt(e)<x)return;vt(D,n,e),vt(V,r,e),vt(B,a,e),G(t,e,H),L[1]=H[0],E[1]=H[1],U[1]=E[1]-L[1];const s=[n,r,a],o=[D,V,B];for(let n=0;n<3;++n){G(t,s[n],H),L[0]=H[0],E[0]=H[1],G(t,o[n],H),L[2]=H[0],E[2]=H[1],U[0]=E[0]-L[0],U[2]=E[2]-L[2];const r=ut(U);r<i.quality&&(mt(i.b0,s[n]),mt(i.b1,e),mt(i.b2,o[n]),i.quality=r)}}const k=(0,h.vt)();function G(t,e,n){const{data:r,size:a}=t;n[0]=Number.POSITIVE_INFINITY,n[1]=Number.NEGATIVE_INFINITY;for(let t=0;t<r.length;t+=a){const a=r[t]*e[0]+r[t+1]*e[1]+r[t+2]*e[2];n[0]=Math.min(n[0],a),n[1]=Math.max(n[1],a)}}function Q(t,e,n){n.center=t,n.halfSize=(0,c.h)(e,e,.5),n.quaternion=o.zK}const Y=(0,h.vt)(),W=(0,h.vt)(),Z=(0,h.vt)(),$=(0,h.vt)(),K=(0,h.vt)(),J=(0,h.vt)();function tt(t,e,n){mt(Y,e),Math.abs(e[0])>Math.abs(e[1])&&Math.abs(e[0])>Math.abs(e[2])?Y[0]=0:Math.abs(e[1])>Math.abs(e[2])?Y[1]=0:Y[2]=0,gt(Y)<x&&(Y[0]=Y[1]=Y[2]=1),vt(W,e,Y),_t(W,W),vt(Z,e,W),_t(Z,Z),et(t,e,W,Z,$,K),dt(J,K,$),ot(e,W,Z,$,K,J,n)}function et(t,e,n,r,a,i){G(t,e,H),a[0]=H[0],i[0]=H[1],G(t,n,H),a[1]=H[0],i[1]=H[1],G(t,r,H),a[2]=H[0],i[2]=H[1]}const nt=(0,h.vt)(),rt=(0,h.vt)(),at=(0,h.vt)(),it=(0,a.fA)(1,0,0,0,1,0,0,0,1),st=(0,o.vt)();function ot(t,e,n,r,a,i,s){it[0]=t[0],it[1]=t[1],it[2]=t[2],it[3]=e[0],it[4]=e[1],it[5]=e[2],it[6]=n[0],it[7]=n[1],it[8]=n[2],s.quaternion=function(t,e){const n=e[0]+e[4]+e[8];if(n>0){let r=Math.sqrt(n+1);t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r}else{let n=0;e[4]>e[0]&&(n=1),e[8]>e[3*n+n]&&(n=2);const r=(n+1)%3,a=(n+2)%3;let i=Math.sqrt(e[3*n+n]-e[3*r+r]-e[3*a+a]+1);t[n]=.5*i,i=.5/i,t[3]=(e[3*r+a]-e[3*a+r])*i,t[r]=(e[3*r+n]+e[3*n+r])*i,t[a]=(e[3*a+n]+e[3*n+a])*i}return t}(st,it),lt(nt,r,a),ft(nt,nt,.5),ft(rt,t,nt[0]),ft(at,e,nt[1]),lt(rt,rt,at),ft(at,n,nt[2]),s.center=(0,c.g)(rt,rt,at),s.halfSize=(0,c.h)(nt,i,.5)}class ct{constructor(t){this.minVert=new Array(7),this.maxVert=new Array(7),this.buffer=new ArrayBuffer(448);let e=0;this.minProj=new Float64Array(this.buffer,e,7),e+=56,this.maxProj=new Float64Array(this.buffer,e,7),e+=56;for(let t=0;t<7;++t)this.minVert[t]=new Float64Array(this.buffer,e,3),e+=24;for(let t=0;t<7;++t)this.maxVert[t]=new Float64Array(this.buffer,e,3),e+=24;for(let t=0;t<7;++t)this.minProj[t]=Number.POSITIVE_INFINITY,this.maxProj[t]=Number.NEGATIVE_INFINITY;const n=new Array(7),r=new Array(7),{data:a,size:i}=t;for(let t=0;t<a.length;t+=i){let e=a[t];e<this.minProj[0]&&(this.minProj[0]=e,n[0]=t),e>this.maxProj[0]&&(this.maxProj[0]=e,r[0]=t),e=a[t+1],e<this.minProj[1]&&(this.minProj[1]=e,n[1]=t),e>this.maxProj[1]&&(this.maxProj[1]=e,r[1]=t),e=a[t+2],e<this.minProj[2]&&(this.minProj[2]=e,n[2]=t),e>this.maxProj[2]&&(this.maxProj[2]=e,r[2]=t),e=a[t]+a[t+1]+a[t+2],e<this.minProj[3]&&(this.minProj[3]=e,n[3]=t),e>this.maxProj[3]&&(this.maxProj[3]=e,r[3]=t),e=a[t]+a[t+1]-a[t+2],e<this.minProj[4]&&(this.minProj[4]=e,n[4]=t),e>this.maxProj[4]&&(this.maxProj[4]=e,r[4]=t),e=a[t]-a[t+1]+a[t+2],e<this.minProj[5]&&(this.minProj[5]=e,n[5]=t),e>this.maxProj[5]&&(this.maxProj[5]=e,r[5]=t),e=a[t]-a[t+1]-a[t+2],e<this.minProj[6]&&(this.minProj[6]=e,n[6]=t),e>this.maxProj[6]&&(this.maxProj[6]=e,r[6]=t)}for(let t=0;t<7;++t){let e=n[t];mt(this.minVert[t],a,e),e=r[t],mt(this.maxVert[t],a,e)}}}class ht{constructor(){this.b0=(0,h.fA)(1,0,0),this.b1=(0,h.fA)(0,1,0),this.b2=(0,h.fA)(0,0,1),this.quality=0}}function ut(t){return t[0]*t[1]+t[0]*t[2]+t[1]*t[2]}function lt(t,e,n){t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2]}function dt(t,e,n){t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2]}function ft(t,e,n){t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n}function mt(t,e,n=0){t[0]=e[n],t[1]=e[n+1],t[2]=e[n+2]}function vt(t,e,n){const r=e[0],a=e[1],i=e[2],s=n[0],o=n[1],c=n[2];t[0]=a*c-i*o,t[1]=i*s-r*c,t[2]=r*o-a*s}function _t(t,e){const n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];if(n>0){const r=1/Math.sqrt(n);t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r}}function gt(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function bt(t,e){const n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return n*n+r*r+a*a}function pt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}class Mt{constructor(t=h.uY,e=Xt,n=o.zK){this._data=[t[0],t[1],t[2],e[0],e[1],e[2],n[0],n[1],n[2],n[3]]}clone(){const t=new Mt;return t._data=this._data.slice(),t}invalidate(){this._data[3]=-1}get isValid(){return this._data[3]>=0}static fromData(t){const e=new Mt;return e._data=t.slice(),e}static fromJSON(t){return new Mt(t.center,t.halfSize,t.quaternion)}copy(t){this._data=t.data.slice()}get center(){return(0,c.s)(p.rq.get(),this._data[0],this._data[1],this._data[2])}get centerX(){return this._data[0]}get centerY(){return this._data[1]}get centerZ(){return this._data[2]}getCenter(t){return t[0]=this._data[0],t[1]=this._data[1],t[2]=this._data[2],t}set center(t){this._data[0]=t[0],this._data[1]=t[1],this._data[2]=t[2]}setCenter(t,e,n){this._data[0]=t,this._data[1]=e,this._data[2]=n}get halfSize(){return(0,c.s)(p.rq.get(),this._data[3],this._data[4],this._data[5])}get halfSizeX(){return this._data[3]}get halfSizeY(){return this._data[4]}get halfSizeZ(){return this._data[5]}getHalfSize(t){return t[0]=this._data[3],t[1]=this._data[4],t[2]=this._data[5],t}set halfSize(t){this._data[3]=t[0],this._data[4]=t[1],this._data[5]=t[2]}get quaternion(){return(0,s.hZ)(p.J8.get(),this._data[6],this._data[7],this._data[8],this._data[9])}getQuaternion(t){return t[0]=this._data[6],t[1]=this._data[7],t[2]=this._data[8],t[3]=this._data[9],t}set quaternion(t){this._data[6]=t[0],this._data[7]=t[1],this._data[8]=t[2],this._data[9]=t[3]}get data(){return this._data}getCorners(t){const e=At,n=this._data;e[0]=n[6],e[1]=n[7],e[2]=n[8],e[3]=n[9];for(let r=0;r<8;++r){const a=t[r];a[0]=(1&r?-1:1)*n[3],a[1]=(2&r?-1:1)*n[4],a[2]=(4&r?-1:1)*n[5],(0,c.u)(a,a,e),a[0]+=n[0],a[1]+=n[1],a[2]+=n[2]}}doesIntersectFrustumConservativeApproximation(t){return this.intersectPlane(t[0])<=0&&this.intersectPlane(t[1])<=0&&this.intersectPlane(t[2])<=0&&this.intersectPlane(t[3])<=0&&this.intersectPlane(t[4])<=0&&this.intersectPlane(t[5])<=0}get radius(){const t=this._data[3],e=this._data[4],n=this._data[5];return Math.sqrt(t*t+e*e+n*n)}intersectSphere(t){yt[0]=this._data[0]-t[0],yt[1]=this._data[1]-t[1],yt[2]=this._data[2]-t[2];const e=this.getQuaternion(Pt);return(0,s.Xr)(At,e),(0,c.u)(yt,yt,At),(0,c.v)(yt,yt),Ct[0]=Math.min(yt[0],this._data[3]),Ct[1]=Math.min(yt[1],this._data[4]),Ct[2]=Math.min(yt[2],this._data[5]),(0,c.w)(Ct,yt)<t[3]*t[3]}intersectSphereWithMBS(t,e=this.radius){const n=this._data;yt[0]=n[0]-t[0],yt[1]=n[1]-t[1],yt[2]=n[2]-t[2];const r=t[3],a=r+e;return!((0,c.x)(yt)>a*a)&&(At[0]=-n[6],At[1]=-n[7],At[2]=-n[8],At[3]=n[9],(0,c.u)(yt,yt,At),(0,c.v)(yt,yt),Ct[0]=Math.min(yt[0],n[3]),Ct[1]=Math.min(yt[1],n[4]),Ct[2]=Math.min(yt[2],n[5]),(0,c.w)(Ct,yt)<r*r)}intersectPlane(t){const e=t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3],n=this.projectedRadius((0,g.Qj)(t));return e>n?1:e<-n?-1:0}intersectRay(t,e,n=0){const r=this._data,a=At;a[0]=-r[6],a[1]=-r[7],a[2]=-r[8],a[3]=r[9],yt[0]=t[0]-r[0],yt[1]=t[1]-r[1],yt[2]=t[2]-r[2];const i=(0,c.u)(yt,yt,At),s=(0,c.u)(Ct,e,At);let o=-1/0,h=1/0;const u=this.getHalfSize(Ht);for(let t=0;t<3;t++){const e=i[t],r=s[t],a=u[t]+n;if(Math.abs(r)>1e-6){const t=(a-e)/r,n=(-a-e)/r;o=Math.max(o,Math.min(t,n)),h=Math.min(h,Math.max(t,n))}else if(e>a||e<-a)return!1}return o<=h}projectedArea(t,e,n,a){const i=this.getQuaternion(Pt);(0,s.Xr)(At,i),yt[0]=t[0]-this._data[0],yt[1]=t[1]-this._data[1],yt[2]=t[2]-this._data[2],(0,c.u)(yt,yt,At);const o=this.getHalfSize(Ht),h=yt[0]<-o[0]?-1:yt[0]>o[0]?1:0,l=yt[1]<-o[1]?-1:yt[1]>o[1]?1:0,d=yt[2]<-o[2]?-1:yt[2]>o[2]?1:0,f=Math.abs(h)+Math.abs(l)+Math.abs(d);if(0===f)return 1/0;const m=1===f?4:6,v=6*(h+3*l+9*d+13);(0,r.I0)(Dt,i),(0,r.hs)(Dt,Dt,o);const _=this.getCenter(Ot);for(let t=0;t<m;t++){const n=It[v+t];(0,c.s)(yt,((1&n)<<1)-1,(2&n)-1,((4&n)>>1)-1),(0,c.t)(yt,yt,Dt),(0,c.g)(jt,_,yt),jt[3]=1,(0,u.t)(jt,jt,e);const r=1/Math.max(1e-6,jt[3]);wt[2*t]=jt[0]*r,wt[2*t+1]=jt[1]*r}const g=2*m-2;let b=wt[0]*(wt[3]-wt[g+1])+wt[g]*(wt[1]-wt[g-1]);for(let t=2;t<g;t+=2)b+=wt[t]*(wt[t+3]-wt[t-1]);return Math.abs(b)*n*a*.125}projectedRadius(t){const e=this.getQuaternion(Pt);return(0,s.Xr)(At,e),(0,c.u)(yt,t,At),Math.abs(yt[0]*this._data[3])+Math.abs(yt[1]*this._data[4])+Math.abs(yt[2]*this._data[5])}minimumDistancePlane(t){return t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3]-this.projectedRadius((0,g.Qj)(t))}maximumDistancePlane(t){return t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3]+this.projectedRadius((0,g.Qj)(t))}toAaBoundingBox(t){const e=this.getQuaternion(Pt),n=(0,r.I0)(Dt,e),a=this._data[3]*Math.abs(n[0])+this._data[4]*Math.abs(n[3])+this._data[5]*Math.abs(n[6]),i=this._data[3]*Math.abs(n[1])+this._data[4]*Math.abs(n[4])+this._data[5]*Math.abs(n[7]),s=this._data[3]*Math.abs(n[2])+this._data[4]*Math.abs(n[5])+this._data[5]*Math.abs(n[8]);t[0]=this._data[0]-a,t[1]=this._data[1]-i,t[2]=this._data[2]-s,t[3]=this._data[0]+a,t[4]=this._data[1]+i,t[5]=this._data[2]+s}transform(t,e,n,r=0,a=(0,f.lO)(n),i=(0,f.lO)(e),o=(0,_.jd)(e,i)){if(n===a)e.isGeographic?function(t,e,n,r,a=(0,f.lO)(n)){const i=(0,d.tO)(n),o=1+Math.max(0,r)/(i.radius+t.centerZ);t.getCenter(Ft),Ft[2]+=r,(0,v.projectBuffer)(Ft,n,0,Ft,a,0,1),e.center=Ft;const h=t.getQuaternion(Pt);e.quaternion=h,(0,s.Xr)(At,h),(0,c.s)(Et,0,0,1),(0,c.u)(Et,Et,At);const u=t.getHalfSize(Ht);(0,c.s)(Et,u[0]*Math.abs(Et[0]),u[1]*Math.abs(Et[1]),u[2]*Math.abs(Et[2])),(0,c.h)(Et,Et,i.inverseFlattening),(0,c.g)(Et,u,Et),e.halfSize=(0,c.h)(Et,Et,o)}(this,t,e,r,i):function(t,e,n,r,a=(0,f.lO)(n),i=(0,_.jd)(n,a)){t.getCorners(Bt),t.getCenter(Ft),Ft[2]+=r,(0,m.l)(n,Ft,Vt,a),e.setCenter(Vt[12],Vt[13],Vt[14]);const o=2*Math.sqrt(1+Vt[0]+Vt[5]+Vt[10]);At[0]=(Vt[6]-Vt[9])/o,At[1]=(Vt[8]-Vt[2])/o,At[2]=(Vt[1]-Vt[4])/o,At[3]=.25*o;const h=t.getQuaternion(Pt);e.quaternion=(0,s.lw)(At,At,h),(0,s.Xr)(At,At),(0,c.s)(Lt,0,0,0);const u=e.getCenter(Rt);for(const t of Bt)t[2]+=r,i(t,0,t,0),(0,c.z)(Et,t,u),(0,c.u)(Et,Et,At),(0,c.v)(Et,Et),(0,c.C)(Lt,Lt,Et);e.halfSize=Lt}(this,t,e,r,i,o);else if(e.isWGS84&&(n.isWebMercator||(0,b.r1)(n)))!function(t,e,n,r,a){e.getCenter(Ot),Ot[2]+=a;const i=(0,f.lO)(n);(0,v.projectBuffer)(Ot,t,0,Ot,i,0,1),Tt(i,e,Ot,n,r)}(e,this,n,t,r);else if(e.isWebMercator&&(0,b.r1)(n))!function(t,e,n,r,a){e.getCenter(Ot),Ot[2]+=a,Tt(t,e,Ot,n,r)}(e,this,n,t,r);else{const a=this.getCenter(Ot);a[2]+=r,(0,v.projectBuffer)(a,e,0,a,n,0,1),t.center=a,this!==t&&(t.quaternion=this.getQuaternion(Pt),t.halfSize=this.getHalfSize(Ht))}}}const At=(0,o.vt)(),Pt=(0,o.vt)(),xt=(0,o.vt)(),yt=(0,h.vt)(),Ct=(0,h.vt)(),jt=(0,l.vt)();function St(t,e=new Mt){return function(t,e){const{data:n,size:r}=t,a=n.length/r;if(a<=0)return;const i=new ct(t);lt(y,i.minProj,i.maxProj),ft(y,y,.5),dt(C,i.maxProj,i.minProj);const s=ut(C),o=new ht;o.quality=s,a<14&&(t=new P.K(new Float64Array(i.buffer,112,42),3));const c=(0,h.vt)(),u=(0,h.vt)(),l=(0,h.vt)(),d=(0,h.vt)(),f=(0,h.vt)(),m=(0,h.vt)(),v=(0,h.vt)();switch(j(i,t,v,c,u,l,d,f,m,o)){case 1:return void Q(y,C,e);case 2:return void tt(t,d,e)}O(t,v,c,u,l,d,f,m,o),et(t,o.b0,o.b1,o.b2,$,K);const _=(0,h.vt)();dt(_,K,$),o.quality=ut(_),o.quality<s?ot(o.b0,o.b1,o.b2,$,K,_,e):Q(y,C,e)}(t,e),e}const wt=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2],It=(()=>{const t=new Int8Array(162);let e=0;const n=n=>{for(let r=0;r<n.length;r++)t[e+r]=n[r];e+=6};return n([6,2,3,1,5,4]),n([0,2,3,1,5,4]),n([0,2,3,7,5,4]),n([0,1,3,2,6,4]),n([0,1,3,2,0,0]),n([0,1,5,7,3,2]),n([0,1,3,7,6,4]),n([0,1,3,7,6,2]),n([0,1,5,7,6,2]),n([0,1,5,4,6,2]),n([0,1,5,4,0,0]),n([0,1,3,7,5,4]),n([0,2,6,4,0,0]),n([0,0,0,0,0,0]),n([1,3,7,5,0,0]),n([2,3,7,6,4,0]),n([2,3,7,6,0,0]),n([2,3,1,5,7,6]),n([0,1,5,7,6,2]),n([0,1,5,7,6,4]),n([0,1,3,7,6,4]),n([4,5,7,6,2,0]),n([4,5,7,6,0,0]),n([4,5,1,3,7,6]),n([0,2,3,7,5,4]),n([6,2,3,7,5,4]),n([6,2,3,1,5,4]),t})();function qt(t,e,n,r,a){const i=t.getQuaternion(Pt);a.quaternion=i,(0,s.Xr)(At,i);const o=t.getCenter(Ot),u=t.getHalfSize(Ht);if(r===M.RT.Global){(0,c.u)(Et,o,At),(0,c.v)(Lt,Et),(0,c.y)(Ut,Lt,u),(0,c.z)(Ut,Lt,Ut);const r=(0,c.l)(Ut);(0,c.g)(Ut,Lt,u);const i=(0,c.l)(Ut);if(r<n)a.center=o,(0,c.s)(Et,n,n,n),a.halfSize=(0,c.g)(Et,u,Et);else{const s=i>0?1+e/i:1,o=r>0?1+n/r:1,h=(o+s)/2,l=(o-s)/2;(0,c.h)(Ut,Lt,l),a.halfSize=(0,c.r)(Ut,Ut,u,h),(0,c.h)(Ut,Lt,h),(0,c.r)(Ut,Ut,u,l),(0,c.A)(Et,Et),(0,c.B)(Et,Ut,Et);const d=t.getQuaternion(xt);a.center=(0,c.u)(Et,Et,d)}}else{a.center=(0,c.r)(Et,o,h.Cb,(n+e)/2);const t=(0,c.u)(Et,h.Cb,At);(0,c.v)(t,t),a.halfSize=(0,c.r)(Lt,u,t,(n-e)/2)}return a}function Tt(t,e,n,a,i){const s=e.getQuaternion(Pt),o=(0,r.I0)(Dt,s),c=e.getHalfSize(Ht);for(let t=0;t<8;++t){for(let e=0;e<3;++e)Ft[e]=c[e]*(t&1<<e?-1:1);for(let e=0;e<3;++e){let r=n[e];for(let t=0;t<3;++t)r+=Ft[t]*o[3*t+e];zt[3*t+e]=r}}(0,v.projectBuffer)(zt,t,0,zt,a,0,8),St(Nt,i)}const zt=new Array(24),Nt=new P.K(zt,3),Ft=(0,h.vt)(),Ot=(0,h.vt)(),Rt=(0,h.vt)(),Ht=(0,h.vt)(),Dt=(0,a.vt)(),Vt=(0,i.vt)(),Bt=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],Et=(0,h.vt)(),Lt=(0,h.vt)(),Ut=(0,h.vt)(),Xt=(0,h.fA)(-1,-1,-1)},42583:(t,e,n)=>{n.d(e,{A:()=>i});var r=n(66104),a=n(2597);function i(t){t.vertex.code.add(a.H`
    vec4 decodeSymbolColor(vec4 symbolColor, out int colorMixMode) {
      float symbolAlpha = 0.0;

      const float maxTint = 85.0;
      const float maxReplace = 170.0;
      const float scaleAlpha = 3.0;

      if (symbolColor.a > maxReplace) {
        colorMixMode = ${a.H.int(r.k5.Multiply)};
        symbolAlpha = scaleAlpha * (symbolColor.a - maxReplace);
      } else if (symbolColor.a > maxTint) {
        colorMixMode = ${a.H.int(r.k5.Replace)};
        symbolAlpha = scaleAlpha * (symbolColor.a - maxTint);
      } else if (symbolColor.a > 0.0) {
        colorMixMode = ${a.H.int(r.k5.Tint)};
        symbolAlpha = scaleAlpha * symbolColor.a;
      } else {
        colorMixMode = ${a.H.int(r.k5.Multiply)};
        symbolAlpha = 0.0;
      }

      return vec4(symbolColor.r, symbolColor.g, symbolColor.b, symbolAlpha);
    }
  `)}},49255:(t,e,n)=>{var r;function a(t){return t===r.Shadow||t===r.ShadowHighlight||t===r.ShadowExcludeHighlight}function i(t){return function(t){return function(t){return o(t)||s(t)}(t)||t===r.LinearDepth}(t)||t===r.Normal}function s(t){return t===r.Highlight||t===r.ObjectAndLayerIdColor}function o(t){return t===r.Color||t===r.Alpha}n.d(e,{PJ:()=>a,V:()=>r,XY:()=>i}),function(t){t[t.Color=0]="Color",t[t.LinearDepth=1]="LinearDepth",t[t.Depth=2]="Depth",t[t.Normal=3]="Normal",t[t.Shadow=4]="Shadow",t[t.ShadowHighlight=5]="ShadowHighlight",t[t.ShadowExcludeHighlight=6]="ShadowExcludeHighlight",t[t.Highlight=7]="Highlight",t[t.Alpha=8]="Alpha",t[t.ObjectAndLayerIdColor=9]="ObjectAndLayerIdColor",t[t.CompositeColor=10]="CompositeColor",t[t.COUNT=11]="COUNT"}(r||(r={}))},96336:(t,e,n)=>{n.d(e,{W:()=>r,Y:()=>c});var r,a,i=n(21818),s=n(2597),o=n(46540);function c(t,e){switch(e.normalType){case r.Compressed:t.attributes.add(o.r.NORMALCOMPRESSED,"vec2"),t.vertex.code.add(s.H`vec3 decompressNormal(vec2 normal) {
float z = 1.0 - abs(normal.x) - abs(normal.y);
return vec3(normal + sign(normal) * min(z, 0.0), z);
}
vec3 normalModel() {
return decompressNormal(normalCompressed);
}`);break;case r.Attribute:t.attributes.add(o.r.NORMAL,"vec3"),t.vertex.code.add(s.H`vec3 normalModel() {
return normal;
}`);break;case r.ScreenDerivative:t.fragment.code.add(s.H`vec3 screenDerivativeNormal(vec3 positionView) {
return normalize(cross(dFdx(positionView), dFdy(positionView)));
}`);break;default:(0,i.Xb)(e.normalType);case r.COUNT:case r.Ground:}}(a=r||(r={}))[a.Attribute=0]="Attribute",a[a.Compressed=1]="Compressed",a[a.Ground=2]="Ground",a[a.ScreenDerivative=3]="ScreenDerivative",a[a.COUNT=4]="COUNT"},26425:(t,e,n)=>{n.d(e,{u:()=>a});var r=n(2597);function a({code:t},e){e.doublePrecisionRequiresObfuscation?t.add(r.H`vec3 dpPlusFrc(vec3 a, vec3 b) {
return mix(a, a + b, vec3(notEqual(b, vec3(0))));
}
vec3 dpMinusFrc(vec3 a, vec3 b) {
return mix(vec3(0), a - b, vec3(notEqual(a, b)));
}
vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {
vec3 t1 = dpPlusFrc(hiA, hiB);
vec3 e = dpMinusFrc(t1, hiA);
vec3 t2 = dpMinusFrc(hiB, e) + dpMinusFrc(hiA, dpMinusFrc(t1, e)) + loA + loB;
return t1 + t2;
}`):t.add(r.H`vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {
vec3 t1 = hiA + hiB;
vec3 e = t1 - hiA;
vec3 t2 = ((hiB - e) + (hiA - (t1 - e))) + loA + loB;
return t1 + t2;
}`)}},26835:(t,e,n)=>{n.d(e,{W:()=>a});var r=n(2597);function a(t){t.code.add(r.H`const float MAX_RGBA_FLOAT =
255.0 / 256.0 +
255.0 / 256.0 / 256.0 +
255.0 / 256.0 / 256.0 / 256.0 +
255.0 / 256.0 / 256.0 / 256.0 / 256.0;
const vec4 FIXED_POINT_FACTORS = vec4(1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0);
vec4 float2rgba(const float value) {
float valueInValidDomain = clamp(value, 0.0, MAX_RGBA_FLOAT);
vec4 fixedPointU8 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS) * 256.0);
const float toU8AsFloat = 1.0 / 255.0;
return fixedPointU8 * toU8AsFloat;
}
const vec4 RGBA_2_FLOAT_FACTORS = vec4(
255.0 / (256.0),
255.0 / (256.0 * 256.0),
255.0 / (256.0 * 256.0 * 256.0),
255.0 / (256.0 * 256.0 * 256.0 * 256.0)
);
float rgba2float(vec4 rgba) {
return dot(rgba, RGBA_2_FLOAT_FACTORS);
}`)}},40710:(t,e,n)=>{n.d(e,{W:()=>i});var r=n(39589),a=n(46263);class i extends r.n{constructor(t,e){super(t,"vec3",a.c.Draw,((n,r,a,i)=>n.setUniform3fv(t,e(r,a,i))))}}},33079:(t,e,n)=>{n.d(e,{t:()=>i});var r=n(39589),a=n(46263);class i extends r.n{constructor(t,e){super(t,"vec3",a.c.Pass,((n,r,a)=>n.setUniform3fv(t,e(r,a))))}}},20304:(t,e,n)=>{n.d(e,{m:()=>i});var r=n(39589),a=n(46263);class i extends r.n{constructor(t,e){super(t,"float",a.c.Pass,((n,r,a)=>n.setUniform1f(t,e(r,a))))}}},98353:(t,e,n)=>{n.d(e,{h:()=>i});var r=n(39589),a=n(46263);class i extends r.n{constructor(t,e){super(t,"mat3",a.c.Draw,((n,r,a)=>n.setUniformMatrix3fv(t,e(r,a))))}}},35644:(t,e,n)=>{n.d(e,{k:()=>i});var r=n(39589),a=n(46263);class i extends r.n{constructor(t,e){super(t,"mat3",a.c.Pass,((n,r,a)=>n.setUniformMatrix3fv(t,e(r,a))))}}},40095:(t,e,n)=>{n.d(e,{X:()=>i});var r=n(39589),a=n(46263);class i extends r.n{constructor(t,e){super(t,"mat4",a.c.Pass,((n,r,a)=>n.setUniformMatrix4fv(t,e(r,a))))}}},15976:(t,e,n)=>{n.d(e,{o:()=>i});var r=n(39589),a=n(46263);class i extends r.n{constructor(t,e){super(t,"sampler2D",a.c.Draw,((n,r,a)=>n.bindTexture(t,e(r,a))))}}},39589:(t,e,n)=>{n.d(e,{n:()=>a});var r=n(46263);class a{constructor(t,e,n,a,i=null){if(this.name=t,this.type=e,this.arraySize=i,this.bind={[r.c.Pass]:null,[r.c.Draw]:null},a)switch(n){case r.c.Pass:this.bind[r.c.Pass]=a;break;case r.c.Draw:this.bind[r.c.Draw]=a}}equals(t){return this.type===t.type&&this.name===t.name&&this.arraySize===t.arraySize}}},2597:(t,e,n)=>{n.d(e,{H:()=>a,Y:()=>r});const r=class{};function a(t,...e){let n="";for(let r=0;r<e.length;r++)n+=t[r]+e[r];return n+=t[t.length-1],n}var i;(i=a||(a={})).int=function(t){return Math.round(t).toString()},i.float=function(t){return t.toPrecision(8)}},46263:(t,e,n)=>{var r;n.d(e,{c:()=>r}),function(t){t[t.Pass=0]="Pass",t[t.Draw=1]="Draw"}(r||(r={}))},24151:(t,e,n)=>{var r;n.d(e,{RT:()=>r}),function(t){t[t.Global=1]="Global",t[t.Local=2]="Local"}(r||(r={}))}}]);