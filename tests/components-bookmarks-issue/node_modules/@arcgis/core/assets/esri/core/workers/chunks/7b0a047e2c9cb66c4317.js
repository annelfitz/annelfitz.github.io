"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[1204,3069],{60945:(t,e,n)=>{n.d(e,{A:()=>h});var r,i=n(90237),o=n(25482),s=n(88930),l=n(10107),a=(n(44208),n(53966),n(87811),n(36005)),u=n(40608),c=n(43937),p=n(56400);let d=r=class extends o.oY{static get allTime(){return y}static get empty(){return f}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return null!=e.end?new Date(e.end):null}writeEnd(t,e){e.end=t?.getTime()??null}get isAllTime(){return this.equals(r.allTime)}get isEmpty(){return this.equals(r.empty)}readStart(t,e){return null!=e.start?new Date(e.start):null}writeStart(t,e){e.start=t?.getTime()??null}clone(){return new r({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=this.start?.getTime()??this.start,n=this.end?.getTime()??this.end,r=t.start?.getTime()??t.start,i=t.end?.getTime()??t.end;return e===r&&n===i}expandTo(t,e=p.qU){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=(0,s.lL)(n,t,e));let i=this.end;if(i){const n=(0,s.lL)(i,t,e);i=i.getTime()===n.getTime()?n:(0,s.S1)(n,1,t,e)}return new r({start:n,end:i})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return r.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=this.start?.getTime()??-1/0,n=this.end?.getTime()??1/0,i=t.start?.getTime()??-1/0,o=t.end?.getTime()??1/0;let s,l;return i>=e&&i<=n?s=i:e>=i&&e<=o&&(s=e),n>=i&&n<=o?l=n:o>=e&&o<=n&&(l=o),null==s||null==l||isNaN(s)||isNaN(l)?r.empty:new r({start:s===-1/0?null:new Date(s),end:l===1/0?null:new Date(l)})}offset(t,e,n=p.qU){if(this.isEmpty||this.isAllTime)return this.clone();const i=new r,{start:o,end:l}=this;return null!=o&&(i.start=(0,s.S1)(o,t,e,n)),null!=l&&(i.end=(0,s.S1)(l,t,e,n)),i}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return y.clone();const e=null!=this.start&&null!=t.start?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,n=null!=this.end&&null!=t.end?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new r({start:e,end:n})}};(0,i._)([(0,l.MZ)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"end",void 0),(0,i._)([(0,a.w)("end")],d.prototype,"readEnd",null),(0,i._)([(0,c.K)("end")],d.prototype,"writeEnd",null),(0,i._)([(0,l.MZ)({readOnly:!0,json:{read:!1}})],d.prototype,"isAllTime",null),(0,i._)([(0,l.MZ)({readOnly:!0,json:{read:!1}})],d.prototype,"isEmpty",null),(0,i._)([(0,l.MZ)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"start",void 0),(0,i._)([(0,a.w)("start")],d.prototype,"readStart",null),(0,i._)([(0,c.K)("start")],d.prototype,"writeStart",null),d=r=(0,i._)([(0,u.$)("esri.TimeExtent")],d);const y=new d,f=new d({start:void 0,end:void 0}),h=d},45475:(t,e,n)=>{n.d(e,{A:()=>y});var r=n(90237),i=n(69622),o=n(4576),s=n(69540),l=n(4902),a=n(25482),u=n(10107),c=(n(44208),n(53966),n(40608));let p=0,d=class extends((0,a.Te)((0,s.O)((0,l.sA)(i.A)))){constructor(t){super(t),this.id=`${Date.now().toString(16)}-analysis-${p++}`,this.title=null}get parent(){return this._get("parent")}set parent(t){const e=this.parent;if(null!=e)switch(e.type){case"line-of-sight":case"dimension":e.releaseAnalysis(this);break;case"2d":case"3d":e.analyses.includes(this)&&e.analyses.remove(this)}this._set("parent",t)}get isEditable(){return this.requiredPropertiesForEditing.every(o.Ru)}};(0,r._)([(0,u.MZ)({type:String,constructOnly:!0,clonable:!1})],d.prototype,"id",void 0),(0,r._)([(0,u.MZ)({type:String})],d.prototype,"title",void 0),(0,r._)([(0,u.MZ)({clonable:!1,value:null})],d.prototype,"parent",null),(0,r._)([(0,u.MZ)({readOnly:!0})],d.prototype,"isEditable",null),d=(0,r._)([(0,c.$)("esri.analysis.Analysis")],d);const y=d},69540:(t,e,n)=>{n.d(e,{O:()=>c,P:()=>p});var r=n(90237),i=n(69622),o=(n(44208),n(4718)),s=(n(53966),n(97768)),l=n(35666),a=n(88620),u=n(40608);const c=t=>{let e=class extends t{clone(){const t=(0,a.oY)(this);(0,s.Lw)(t,"unable to clone instance of non-accessor class");const e=t.metadata,n=t.store,r={},i=new Map;for(const t in e){const s=e[t],a=n?.originOf(t),u=s.clonable;if(s.readOnly||!1===u||a!==l.Gr.USER&&a!==l.Gr.DEFAULTS&&a!==l.Gr.WEB_MAP&&a!==l.Gr.WEB_SCENE)continue;const c=this[t];let p=null;p="function"==typeof u?u(c):"reference"===u?c:(0,o.TU)(c),null!=c&&null==p||(a===l.Gr.DEFAULTS?i.set(t,p):r[t]=p)}const u=new(0,Object.getPrototypeOf(this).constructor)(r);if(i.size){const t=(0,a.oY)(u)?.store;if(t)for(const[e,n]of i)t.set(e,n,l.Gr.DEFAULTS)}return u}};return e=(0,r._)([(0,u.$)("esri.core.Clonable")],e),e};let p=class extends(c(i.A)){};p=(0,r._)([(0,u.$)("esri.core.Clonable")],p)},4902:(t,e,n)=>{n.d(e,{PH:()=>l,sA:()=>s});var r=n(90237),i=n(40608);let o=0;const s=t=>{let e=class extends t{constructor(...t){super(...t),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+o++})}};return e=(0,r._)([(0,i.$)("esri.core.Identifiable")],e),e},l=t=>{let e=class extends t{constructor(...t){super(...t),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:o++})}};return e=(0,r._)([(0,i.$)("esri.core.Identifiable.NumericIdentifiable")],e),e};let a=class extends(s(class{})){};a=(0,r._)([(0,i.$)("esri.core.Identifiable")],a)},80200:(t,e,n)=>{n.d(e,{T:()=>r,d:()=>h});const r={Base64:0,Hex:1,String:2,Raw:3},i=8,o=(1<<i)-1;function s(t,e){const n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function l(t){const e=[];for(let n=0,r=t.length*i;n<r;n+=i)e[n>>5]|=(t.charCodeAt(n/i)&o)<<n%32;return e}function a(t){const e=[];for(let n=0,r=32*t.length;n<r;n+=i)e.push(String.fromCharCode(t[n>>5]>>>n%32&o));return e.join("")}function u(t,e,n,r,i,o){return s(function(t,e){return t<<e|t>>>32-e}(s(s(e,t),s(r,o)),i),n)}function c(t,e,n,r,i,o,s){return u(e&n|~e&r,t,e,i,o,s)}function p(t,e,n,r,i,o,s){return u(e&r|n&~r,t,e,i,o,s)}function d(t,e,n,r,i,o,s){return u(e^n^r,t,e,i,o,s)}function y(t,e,n,r,i,o,s){return u(n^(e|~r),t,e,i,o,s)}function f(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;let n=1732584193,r=-271733879,i=-1732584194,o=271733878;for(let e=0;e<t.length;e+=16){const l=n,a=r,u=i,f=o;n=c(n,r,i,o,t[e],7,-680876936),o=c(o,n,r,i,t[e+1],12,-389564586),i=c(i,o,n,r,t[e+2],17,606105819),r=c(r,i,o,n,t[e+3],22,-1044525330),n=c(n,r,i,o,t[e+4],7,-176418897),o=c(o,n,r,i,t[e+5],12,1200080426),i=c(i,o,n,r,t[e+6],17,-1473231341),r=c(r,i,o,n,t[e+7],22,-45705983),n=c(n,r,i,o,t[e+8],7,1770035416),o=c(o,n,r,i,t[e+9],12,-1958414417),i=c(i,o,n,r,t[e+10],17,-42063),r=c(r,i,o,n,t[e+11],22,-1990404162),n=c(n,r,i,o,t[e+12],7,1804603682),o=c(o,n,r,i,t[e+13],12,-40341101),i=c(i,o,n,r,t[e+14],17,-1502002290),r=c(r,i,o,n,t[e+15],22,1236535329),n=p(n,r,i,o,t[e+1],5,-165796510),o=p(o,n,r,i,t[e+6],9,-1069501632),i=p(i,o,n,r,t[e+11],14,643717713),r=p(r,i,o,n,t[e],20,-373897302),n=p(n,r,i,o,t[e+5],5,-701558691),o=p(o,n,r,i,t[e+10],9,38016083),i=p(i,o,n,r,t[e+15],14,-660478335),r=p(r,i,o,n,t[e+4],20,-405537848),n=p(n,r,i,o,t[e+9],5,568446438),o=p(o,n,r,i,t[e+14],9,-1019803690),i=p(i,o,n,r,t[e+3],14,-187363961),r=p(r,i,o,n,t[e+8],20,1163531501),n=p(n,r,i,o,t[e+13],5,-1444681467),o=p(o,n,r,i,t[e+2],9,-51403784),i=p(i,o,n,r,t[e+7],14,1735328473),r=p(r,i,o,n,t[e+12],20,-1926607734),n=d(n,r,i,o,t[e+5],4,-378558),o=d(o,n,r,i,t[e+8],11,-2022574463),i=d(i,o,n,r,t[e+11],16,1839030562),r=d(r,i,o,n,t[e+14],23,-35309556),n=d(n,r,i,o,t[e+1],4,-1530992060),o=d(o,n,r,i,t[e+4],11,1272893353),i=d(i,o,n,r,t[e+7],16,-155497632),r=d(r,i,o,n,t[e+10],23,-1094730640),n=d(n,r,i,o,t[e+13],4,681279174),o=d(o,n,r,i,t[e],11,-358537222),i=d(i,o,n,r,t[e+3],16,-722521979),r=d(r,i,o,n,t[e+6],23,76029189),n=d(n,r,i,o,t[e+9],4,-640364487),o=d(o,n,r,i,t[e+12],11,-421815835),i=d(i,o,n,r,t[e+15],16,530742520),r=d(r,i,o,n,t[e+2],23,-995338651),n=y(n,r,i,o,t[e],6,-198630844),o=y(o,n,r,i,t[e+7],10,1126891415),i=y(i,o,n,r,t[e+14],15,-1416354905),r=y(r,i,o,n,t[e+5],21,-57434055),n=y(n,r,i,o,t[e+12],6,1700485571),o=y(o,n,r,i,t[e+3],10,-1894986606),i=y(i,o,n,r,t[e+10],15,-1051523),r=y(r,i,o,n,t[e+1],21,-2054922799),n=y(n,r,i,o,t[e+8],6,1873313359),o=y(o,n,r,i,t[e+15],10,-30611744),i=y(i,o,n,r,t[e+6],15,-1560198380),r=y(r,i,o,n,t[e+13],21,1309151649),n=y(n,r,i,o,t[e+4],6,-145523070),o=y(o,n,r,i,t[e+11],10,-1120210379),i=y(i,o,n,r,t[e+2],15,718787259),r=y(r,i,o,n,t[e+9],21,-343485551),n=s(n,l),r=s(r,a),i=s(i,u),o=s(o,f)}return[n,r,i,o]}function h(t,e=r.Hex){const n=e||r.Base64,o=f(l(t),t.length*i);switch(n){case r.Raw:return o;case r.Hex:return function(t){const e="0123456789abcdef",n=[];for(let r=0,i=4*t.length;r<i;r++)n.push(e.charAt(t[r>>2]>>r%4*8+4&15)+e.charAt(t[r>>2]>>r%4*8&15));return n.join("")}(o);case r.String:return a(o);case r.Base64:return function(t){const e=[];for(let n=0,r=4*t.length;n<r;n+=3){const r=(t[n>>2]>>n%4*8&255)<<16|(t[n+1>>2]>>(n+1)%4*8&255)<<8|t[n+2>>2]>>(n+2)%4*8&255;for(let i=0;i<4;i++)8*n+6*i>32*t.length?e.push("="):e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>6*(3-i)&63))}return e.join("")}(o)}}},87024:(t,e,n)=>{n.d(e,{P:()=>y});var r=n(49186),i=n(80200),o=n(76553),s=n(84952),l=n(13069),a=n(96156),u=n(35666),c=n(10107),p=n(85648),d=n(97159);function y(t){const e=t?.origins??[void 0];return(n,r)=>{const i=function(t,e,n){if("resource"===t?.type)return function(t,e,n){const r=(0,a.z4)(e,n);return{type:String,read:(t,e,n)=>{const i=(0,d.r)(t,e,n);return r.type===String?i:"function"==typeof r.type?new r.type({url:i}):void 0},write:{writer(e,i,l,a){if(!a?.resources)return"string"==typeof e?void(i[l]=(0,d.t)(e,a)):void(i[l]=e.write({},a));const c=function(t){return null==t?null:"string"==typeof t?t:t.url}(e),y=(0,d.t)(c,{...a,verifyItemRelativeUrls:a?.verifyItemRelativeUrls?{writtenUrls:a.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},d.M.NO),g=r.type!==String&&(!(0,o.H)(this)||a?.origin&&this.originIdOf(n)>(0,u.aB)(a.origin)),v={object:this,propertyName:n,value:e,targetUrl:y,dest:i,targetPropertyName:l,context:a,params:t};a?.portalItem&&y&&!(0,s.oP)(y)?g&&t?.contentAddressed?f(v):g?function(t){const{context:e,targetUrl:n,params:r,value:i,dest:o,targetPropertyName:l}=t;if(!e.portalItem)return;const a=e.portalItem.resourceFromPath(n),u=m(i,n,e),c=(0,p.n)(u),d=(0,s.Zo)(a.path),y=r?.compress??!1;c===d?(e.resources&&h({...t,resource:a,content:u,compress:y,updates:e.resources.toUpdate}),o[l]=n):f(t)}(v):function({context:t,targetUrl:e,dest:n,targetPropertyName:r}){t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(e),compress:!1}),n[r]=e)}(v):a?.portalItem&&(null==y||null!=(0,d.i)(y)||(0,s.w8)(y)||g)?f(v):i[l]=y}}}}(t,e,n);switch(t?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:t,write:e}=d.b;return{read:t,write:e}}}}(t,n,r);for(const t of e){const e=(0,c.rM)(n,t,r);for(const t in i)e[t]=i[t]}}}function f(t){const{targetUrl:e,params:n,value:o,context:a,dest:u,targetPropertyName:c}=t;if(!a.portalItem)return;const y=(0,d.p)(e),f=m(o,e,a);if(n?.contentAddressed&&"json"!==f.type)return void a.messages?.push(new r.A("persistable:contentAddressingUnsupported",`Property "${c}" is trying to serializing a resource with content of type ${f.type} with content addressing. Content addressing is only supported for json resources.`,{content:f}));const g=n?.contentAddressed&&"json"===f.type?(0,i.d)(f.jsonString):y?.filename??(0,l.lk)(),v=(0,s.fj)(n?.prefix??y?.prefix,g),b=`${v}.${(0,p.n)(f)}`;if(n?.contentAddressed&&a.resources&&"json"===f.type){const t=a.resources.toKeep.find((({resource:t})=>t.path===b))??a.resources.toAdd.find((({resource:t})=>t.path===b));if(t)return void(u[c]=t.resource.itemRelativeUrl)}const w=a.portalItem.resourceFromPath(b);(0,s.w8)(e)&&a.resources&&a.resources.pendingOperations.push((0,s.tk)(e).then((t=>{w.path=`${v}.${(0,p.n)({type:"blob",blob:t})}`,u[c]=w.itemRelativeUrl})).catch((()=>{})));const I=n?.compress??!1;a.resources&&h({...t,resource:w,content:f,compress:I,updates:a.resources.toAdd}),u[c]=w.itemRelativeUrl}function h({object:t,propertyName:e,updates:n,resource:r,content:i,compress:o}){n.push({resource:r,content:i,compress:o,finish:n=>{!function(t,e,n){"string"==typeof t[e]?t[e]=n.url:t[e].url=n.url}(t,e,n)}})}function m(t,e,n){return"string"==typeof t?{type:"url",url:e}:{type:"json",jsonString:JSON.stringify(t.toJSON(n))}}},76553:(t,e,n)=>{function r(t){return t&&"getAtOrigin"in t&&"originOf"in t}n.d(e,{H:()=>r})},36708:(t,e,n)=>{n.d(e,{C_:()=>d,OH:()=>h,Vh:()=>m,on:()=>p,pc:()=>g,wB:()=>a,z7:()=>u}),n(60999),n(5503);var r=n(37955),i=n(36563),o=n(97768),s=n(74887),l=n(14012);function a(t,e,n={}){return c(t,e,n,y)}function u(t,e,n={}){return c(t,e,n,f)}function c(t,e,n={},r){let i=null;const s=n.once?(t,n)=>{r(t)&&((0,o.xt)(i),e(t,n))}:(t,n)=>{r(t)&&e(t,n)};if(i=(0,l.Cn)(t,s,n.sync,n.equals),n.initial){const e=t();s(e,e)}return i}function p(t,e,n,s={}){let l=null,u=null,c=null;function p(){l&&u&&(u.remove(),s.onListenerRemove?.(l),l=null,u=null)}function d(t){s.once&&s.once&&(0,o.xt)(c),n(t)}const y=a(t,((t,n)=>{p(),(0,r.wb)(t)&&(l=t,u=(0,r.on)(t,e,d),s.onListenerAdd?.(t))}),{sync:s.sync,initial:!0});return c=(0,i.hA)((()=>{y.remove(),p()})),c}function d(t,e){return function(t,e,n){if((0,s.G4)(n))return Promise.reject((0,s.NK)());const r=t();if(e?.(r))return Promise.resolve(r);let l=null;function a(){l=(0,o.xt)(l)}return new Promise(((r,o)=>{l=(0,i.vE)([(0,s.u7)(n,(()=>{a(),o((0,s.NK)())})),c(t,(t=>{a(),r(t)}),{sync:!1,once:!0},e??y)])}))}(t,f,e)}function y(t){return!0}function f(t){return!!t}n(80559);const h={sync:!0},m={initial:!0},g={sync:!0,initial:!0}},13069:(t,e,n)=>{n.d(e,{lk:()=>i,vD:()=>s,yS:()=>o});const r="randomUUID"in crypto;function i(){if(r)return crypto.randomUUID();const t=crypto.getRandomValues(new Uint16Array(8));t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;const e=e=>t[e].toString(16).padStart(4,"0");return e(0)+e(1)+"-"+e(2)+"-"+e(3)+"-"+e(4)+"-"+e(5)+e(6)+e(7)}function o(){return`{${i().toUpperCase()}}`}function s(){return`{${i()}}`}},70328:(t,e,n)=>{n.d(e,{BI:()=>m,Ej:()=>c,Hq:()=>u,Ie:()=>f,Jt:()=>h,Ne:()=>p,RF:()=>l,aI:()=>v,fA:()=>o,hZ:()=>y,iT:()=>a,is:()=>g,qv:()=>b,vI:()=>d,v_:()=>w,vt:()=>i,w1:()=>s});var r=n(5443);function i(t=w){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function o(t,e,n,r,o,s,l=i()){return l[0]=t,l[1]=e,l[2]=n,l[3]=r,l[4]=o,l[5]=s,l}function s(t,e){const n=isFinite(t[2])||isFinite(t[5]);return new r.A(n?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:e}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:e})}function l(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function a(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function u(t,e,n=0,r=e.length/3){let i=t[0],o=t[1],s=t[2],l=t[3],a=t[4],u=t[5];for(let t=0;t<r;t++)i=Math.min(i,e[n+3*t]),o=Math.min(o,e[n+3*t+1]),s=Math.min(s,e[n+3*t+2]),l=Math.max(l,e[n+3*t]),a=Math.max(a,e[n+3*t+1]),u=Math.max(u,e[n+3*t+2]);t[0]=i,t[1]=o,t[2]=s,t[3]=l,t[4]=a,t[5]=u}function c(t,e=[0,0,0]){return e[0]=function(t){return t[0]>=t[3]?0:t[3]-t[0]}(t),e[1]=function(t){return t[1]>=t[4]?0:t[4]-t[1]}(t),e[2]=function(t){return t[2]>=t[5]?0:t[5]-t[2]}(t),e}function p(t,e,n=t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n!==t&&(n[3]=t[3],n[4]=t[4],n[5]=t[5]),n}function d(t,e,n=t){return n[3]=e[0],n[4]=e[1],n[5]=e[2],n!==t&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),t}function y(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function f(t){return t?y(t,b):i(b)}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function m(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=Number.NEGATIVE_INFINITY,t[3]=r,t[4]=i,t[5]=Number.POSITIVE_INFINITY,t}function g(t){return 6===t.length}function v(t,e,n){if(null==t||null==e)return t===e;if(!g(t)||!g(e))return!1;if(n){for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1}else for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}n(19419);const b=[1/0,1/0,1/0,-1/0,-1/0,-1/0],w=[0,0,0,0,0,0];i()},4146:(t,e,n)=>{n.d(e,{A:()=>b});var r=n(90237),i=(n(59456),n(78888)),o=n(49186),s=n(65529),l=n(4902),a=n(92474),u=n(53966),c=n(74887),p=n(84952),d=n(10107),y=(n(44208),n(87811),n(40608)),f=n(92602),h=n(5443),m=n(16930);let g=0,v=class extends(s.A.EventedMixin((0,l.sA)(a.A))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new h.A(-180,-90,180,90,m.A.WGS84),this.id=Date.now().toString(16)+"-layer-"+g++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=m.A.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(t){const e="string"==typeof t?{url:t}:t;return(await n.e(7982).then(n.bind(n,27982))).fromUrl(e)}static fromPortalItem(t){return async function(t){const e="portalItem"in t?t:{portalItem:t},{fromItem:r}=await n.e(5613).then(n.bind(n,45613));try{return await r(e)}catch(t){const n=e?.portalItem,r=n?.id||"unset",i=n?.portal?.url||f.A.portalUrl;throw u.A.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+i+"', id: '"+r+"')",t),t}}(t)}initialize(){this.when().catch((t=>{(0,c.zf)(t)||u.A.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})}))}destroy(){const t=this.parent;if(t){const e=this;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"referenceLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e),this._set("parent",null)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,p.An)(this.url)}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await(0,i.A)(t,{query:{f:"json"},responseType:"json"})).data;throw new o.A("layer:no-attribution-data","Layer does not have attribution data")}};(0,r._)([(0,d.MZ)({type:String})],v.prototype,"attributionDataUrl",void 0),(0,r._)([(0,d.MZ)({type:h.A})],v.prototype,"fullExtent",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],v.prototype,"hasAttributionData",null),(0,r._)([(0,d.MZ)({type:String,clonable:!1})],v.prototype,"id",void 0),(0,r._)([(0,d.MZ)({type:Boolean,nonNullable:!0})],v.prototype,"legendEnabled",void 0),(0,r._)([(0,d.MZ)({type:["show","hide","hide-children"]})],v.prototype,"listMode",void 0),(0,r._)([(0,d.MZ)({type:Number,range:{min:0,max:1},nonNullable:!0})],v.prototype,"opacity",void 0),(0,r._)([(0,d.MZ)({clonable:!1})],v.prototype,"parent",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],v.prototype,"parsedUrl",null),(0,r._)([(0,d.MZ)({type:Boolean,readOnly:!0})],v.prototype,"persistenceEnabled",void 0),(0,r._)([(0,d.MZ)({type:Boolean})],v.prototype,"popupEnabled",void 0),(0,r._)([(0,d.MZ)({type:Boolean})],v.prototype,"attributionVisible",void 0),(0,r._)([(0,d.MZ)({type:m.A})],v.prototype,"spatialReference",void 0),(0,r._)([(0,d.MZ)({type:String})],v.prototype,"title",void 0),(0,r._)([(0,d.MZ)({readOnly:!0,json:{read:!1}})],v.prototype,"type",void 0),(0,r._)([(0,d.MZ)()],v.prototype,"url",void 0),(0,r._)([(0,d.MZ)({type:Boolean,nonNullable:!0})],v.prototype,"visible",void 0),v=(0,r._)([(0,y.$)("esri.layers.Layer")],v);const b=v},42452:(t,e,n)=>{n.r(e),n.d(e,{default:()=>$});var r=n(90237),i=n(45475);function o(t,e){return s(t)===s(e)}function s(t){if(null==t)return null;const e=null!=t.layer?t.layer.id:"";let n=null;return n=null!=t.objectId?t.objectId:null!=t.layer&&"objectIdField"in t.layer&&null!=t.layer.objectIdField&&null!=t.attributes?t.attributes[t.layer.objectIdField]:t.uid,null==n?null:`o-${e}-${n}`}const l={json:{write:{writer:function(t,e){null!=t?.layer?.objectIdField&&null!=t.attributes&&(e.feature={layerId:t.layer.id,objectId:t.attributes[t.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:function(t){if(null!=t.layerId&&null!=t.objectId)return{uid:null,layer:{id:t.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:t.objectId}}}}}}};var a=n(69622),u=n(69540),c=n(25482),p=n(97768),d=n(10107),y=(n(44208),n(53966),n(87811),n(40608)),f=n(87024),h=n(86738),m=n(88625);let g=class extends((0,c.Te)((0,u.O)(a.A))){constructor(t){super(t),this.position=null,this.elevationInfo=null,this.feature=null}equals(t){return(0,p.CM)(this.position,t.position)&&(0,p.CM)(this.elevationInfo,t.elevationInfo)&&o(this.feature,t.feature)}};(0,r._)([(0,d.MZ)({type:h.A,json:{write:{isRequired:!0}}})],g.prototype,"position",void 0),(0,r._)([(0,d.MZ)({type:m.A}),(0,f.P)()],g.prototype,"elevationInfo",void 0),(0,r._)([(0,d.MZ)(l)],g.prototype,"feature",void 0),g=(0,r._)([(0,y.$)("esri.analysis.LineOfSightAnalysisObserver")],g);const v=g;let b=class extends((0,c.Te)(u.P)){constructor(t){super(t),this.position=null,this.elevationInfo=null,this.feature=null}equals(t){return(0,p.CM)(this.position,t.position)&&(0,p.CM)(this.elevationInfo,t.elevationInfo)&&o(this.feature,t.feature)}};(0,r._)([(0,d.MZ)({type:h.A}),(0,f.P)()],b.prototype,"position",void 0),(0,r._)([(0,d.MZ)({type:m.A}),(0,f.P)()],b.prototype,"elevationInfo",void 0),(0,r._)([(0,d.MZ)(l)],b.prototype,"feature",void 0),b=(0,r._)([(0,y.$)("esri.analysis.LineOfSightAnalysisTarget")],b);const w=b;var I=n(5503),x=n(62885),M=n(36708),_=n(57251),A=n(70328),j=n(24212);const E=I.A.ofType(w);let T=class extends i.A{constructor(t){super(t),this.type="line-of-sight",this.observer=null,this.extent=null}initialize(){this.addHandles((0,M.wB)((()=>this._computeExtent()),(t=>{null==t?.pending&&this._set("extent",null!=t?t.extent:null)}),M.pc))}get targets(){return this._get("targets")||new E}set targets(t){this._set("targets",(0,x.V)(t,this.targets,E))}get spatialReference(){return null!=this.observer?.position?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[this.observer?.position]}async waitComputeExtent(){const t=this._computeExtent();return null!=t?t.pending:Promise.resolve()}_computeExtent(){const t=this.spatialReference;if(null==this.observer?.position||null==t)return null;const e=t=>"absolute-height"===(0,j.w7)(t.position,t.elevationInfo),n=this.observer.position,r=(0,A.fA)(n.x,n.y,n.z,n.x,n.y,n.z);for(const e of this.targets)if(null!=e.position){const n=(0,_.projectOrLoad)(e.position,t);if(null!=n.pending)return{pending:n.pending,extent:null};if(null!=n.geometry){const{x:t,y:e,z:i}=n.geometry;(0,A.iT)(r,[t,e,i])}}const i=(0,A.w1)(r,t);return e(this.observer)&&this.targets.every(e)||(i.zmin=void 0,i.zmax=void 0),{pending:null,extent:i}}clear(){this.observer=null,this.targets.removeAll()}};(0,r._)([(0,d.MZ)({type:["line-of-sight"]})],T.prototype,"type",void 0),(0,r._)([(0,d.MZ)({type:v,json:{read:!0,write:!0}})],T.prototype,"observer",void 0),(0,r._)([(0,d.MZ)({cast:x.H,type:E,nonNullable:!0,json:{read:!0,write:!0}})],T.prototype,"targets",null),(0,r._)([(0,d.MZ)({value:null,readOnly:!0})],T.prototype,"extent",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],T.prototype,"spatialReference",null),(0,r._)([(0,d.MZ)({readOnly:!0})],T.prototype,"requiredPropertiesForEditing",null),T=(0,r._)([(0,y.$)("esri.analysis.LineOfSightAnalysis")],T);const Z=T;var S=n(92071),O=n(4146),N=n(16131);const U=I.A.ofType(w);let P=class extends((0,N.q)((0,S.P)(O.A))){constructor(t){super(t),this.type="line-of-sight",this.operationalLayerType="LineOfSightLayer",this.analysis=new Z,this.opacity=1}initialize(){this.addHandles((0,M.wB)((()=>this.analysis),((t,e)=>{null!=e&&e.parent===this&&(e.parent=null),null!=t&&(t.parent=this)}),M.pc))}async load(){return null!=this.analysis&&this.addResolvingPromise(this.analysis.waitComputeExtent()),this}get observer(){return this.analysis?.observer}set observer(t){const{analysis:e}=this;e&&(e.observer=t)}get targets(){return null!=this.analysis?this.analysis.targets:new I.A}set targets(t){(0,x.V)(t,this.analysis?.targets)}get fullExtent(){return null!=this.analysis?this.analysis.extent:null}get spatialReference(){return null!=this.analysis?this.analysis.spatialReference:null}releaseAnalysis(t){this.analysis===t&&(this.analysis=new Z)}};(0,r._)([(0,d.MZ)({json:{read:!1},readOnly:!0})],P.prototype,"type",void 0),(0,r._)([(0,d.MZ)({type:["LineOfSightLayer"]})],P.prototype,"operationalLayerType",void 0),(0,r._)([(0,d.MZ)({type:v,json:{read:!0,write:{isRequired:!0,ignoreOrigin:!0}}})],P.prototype,"observer",null),(0,r._)([(0,d.MZ)({type:U,json:{read:!0,write:{ignoreOrigin:!0}}})],P.prototype,"targets",null),(0,r._)([(0,d.MZ)({nonNullable:!0,json:{read:!1,write:!1}})],P.prototype,"analysis",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],P.prototype,"fullExtent",null),(0,r._)([(0,d.MZ)({readOnly:!0})],P.prototype,"spatialReference",null),(0,r._)([(0,d.MZ)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],P.prototype,"opacity",void 0),(0,r._)([(0,d.MZ)({type:["show","hide"]})],P.prototype,"listMode",void 0),P=(0,r._)([(0,y.$)("esri.layers.LineOfSightLayer")],P);const $=P},85648:(t,e,n)=>{n.d(e,{n:()=>i});var r=n(84952);function i(t){return o[function(t){return"json"===t.type?"application/json":"blob"===t.type?t.blob.type:function(t){const e=(0,r.Zo)(t);return a[e]||s}(t.url)}(t)]||l}const o={},s="text/plain",l=o[s],a={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const t in a)o[a[t]]=t},24212:(t,e,n)=>{function r(t,e){return function(t,e){return e?.mode?e.mode:function(t){return t?a:u}(t).mode}(null!=t&&t.hasZ,e)}function i(t,e,n){return n&&n.mode!==e?`${t} only support ${e} elevation mode`:null}function o(t,e,n){return n?.mode===e?`${t} do not support ${e} elevation mode`:null}function s(t,e){return null!=e?.featureExpressionInfo&&"0"!==e.featureExpressionInfo.expression?`${t} do not support featureExpressionInfo`:null}function l(t,e){e&&t.warn(".elevationInfo=",e)}n.d(e,{$7:()=>o,B:()=>i,XF:()=>l,tW:()=>s,w7:()=>r}),n(83047),n(16271);const a={mode:"absolute-height",offset:0},u={mode:"on-the-ground",offset:null}}}]);