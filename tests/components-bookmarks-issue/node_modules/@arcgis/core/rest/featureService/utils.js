/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{parse as e}from"../../layers/support/arcgisLayerUrl.js";import r from"./FeatureService.js";const t=(s,o)=>{for(const u of s)if("feature"===u.type||"subtype-group"===u.type){if(!u.url)continue;const t=e(u.url).url.path,s=o.get(t);if(s)s.layers.push(u);else{const e=new r({url:t}),s=[u];o.set(t,{featureService:e,layers:s})}}else"group"===u.type&&t(u.layers,o)};function s(e){const r=new Map;return t(e,r),r}export{s as createFeatureServices};
