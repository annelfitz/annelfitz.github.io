/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import n from"../core/Error.js";import{i as e,b as o,l as t,c as r,d as i,e as a,f as l,P as s,a as c}from"../chunks/pe.js";import u from"./Point.js";import d from"./SpatialReference.js";function _(){return e()}function f(){return o()}function S(){return t()}function w(n,e){const o=[];n=(n=(n=n.replaceAll(/[\u00B0\u00BA]/g,"^")).replaceAll("′","'")).replaceAll("″",'"');const t=p(e);return r.dmsToGeog(t,1,[n],o)?new u(o[0][0],o[0][1],e||d.WGS84):null}function E(n,e,o){const t=[],r=M(o);if(-1===r)return console.warn(`invalid conversionMode: ${o}`),null;const a=p(e);return i.mgrsToGeogExtended(a,1,[n],r,t)?new u(t[0][0],t[0][1],e||d.WGS84):null}function g(n,e){const o=[];!e&&/\(.+27/.test(n)&&(e=d.GCS_NAD_1927);const t=p(e);return a.usngToGeog(t,1,[n],o)?new u(o[0][0],o[0][1],e||d.WGS84):null}function m(n,e,o){const t=[],r=v(o);if(-1===r)return console.warn(`invalid conversionMode: ${o}`),null;const i=p(e);return l.utmToGeog(i,1,[n],r,t)?new u(t[0][0],t[0][1],e||d.WGS84):null}function T(n,e,o=0){const t=[[n.x,n.y]],i=[],a=p(n.spatialReference);let l=0;switch(e){case"dd":l=r.geogToDd(a,1,t,o,i);break;case"ddm":l=r.geogToDdm(a,1,t,o,i);break;case"dms":l=r.geogToDms(a,1,t,o,i);break;default:return console.warn(`invalid format: ${e}`),null}return l?i[0]:null}function P(n,e,o=0,t=!1){const r=[[n.x,n.y]],a=[],l=p(n.spatialReference);let s=M(e);if(-1===s)return console.warn(`invalid conversionMode: ${e}`),null;t&&(s|=i.PE_MGRS_ADD_SPACES);return i.geogToMgrsExtended(l,1,r,o,!1,s,a)?a[0]:null}function G(n,e=0,o=!1){const t=[[n.x,n.y]],r=[],i=p(n.spatialReference);return a.geogToUsng(i,1,t,e,!1,o,r)?r[0]:null}function k(n,e,o=!1){const t=[[n.x,n.y]],r=[],i=p(n.spatialReference);let a=v(e);if(-1===a)return console.warn(`invalid conversionMode: ${e}`),null;o&&(a|=l.PE_UTM_OPTS_ADD_SPACES);return l.geogToUtm(i,1,t,a,r)?r[0]:null}function p(e){let o=null;if(e||(e=d.WGS84),e.wkid){if(o=s.geogcs(e.wkid),!o)throw new n("coordinate-formatter:invalid-spatial-reference","wkid is not valid")}else{if(!e.wkt2&&!e.wkt)throw new n("coordinate-formatter:invalid-spatial-reference","wkid and wkt are missing");if(o=s.fromString(c.PE_TYPE_GEOGCS,e.wkt2||e.wkt),!o)throw new n("coordinate-formatter:invalid-spatial-reference","wkt is not valid")}return o}function M(n){let e=-1;switch(n){case"automatic":e=i.PE_MGRS_STYLE_AUTO;break;case"new-180-in-zone-01":e=i.PE_MGRS_STYLE_NEW|i.PE_MGRS_180_ZONE_1_PLUS;break;case"new-180-in-zone-60":e=i.PE_MGRS_STYLE_NEW;break;case"old-180-in-zone-01":e=i.PE_MGRS_STYLE_OLD|i.PE_MGRS_180_ZONE_1_PLUS;break;case"old-180-in-zone-60":e=i.PE_MGRS_STYLE_OLD}return e}function v(n){let e=-1;switch(n){case"latitude-band-indicators":e=l.PE_UTM_OPTS_NONE;break;case"north-south-indicators":e=l.PE_UTM_OPTS_NS}return e}export{w as fromLatitudeLongitude,E as fromMgrs,g as fromUsng,m as fromUtm,_ as isLoaded,f as isSupported,S as load,T as toLatitudeLongitude,P as toMgrs,G as toUsng,k as toUtm};
