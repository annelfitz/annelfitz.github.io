/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{ByteSizeUnit as t}from"./ByteSizeUnit.js";import{cyclicalDegrees as n}from"./Cyclical.js";import{clamp as i}from"./mathUtils.js";import{convertRotationType as r}from"./quantityUtils.js";import{replace as o}from"./string.js";import{adaptiveMetricLengthUnit as e,convertUnit as u,adaptiveMetricVerticalLengthUnit as s,adaptiveImperialLengthUnit as c,adaptiveImperialVerticalLengthUnit as a,adaptiveMetricAreaUnit as m,adaptiveImperialAreaUnit as f}from"./unitUtils.js";import{formatNumber as l}from"../intl/number.js";function b(t,n,i){return t.units[n][i]}function g(t,n,i,r=2,o="abbr"){return`${l(n,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:n>0?"never":"exceptZero"})} ${b(t,i,o)}`}function p(t,n,i,r=2,o="abbr"){return`${l(n,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:"exceptZero"})} ${b(t,i,o)}`}function D(t,n,i,r=2,o="abbr"){const s=e(n,i);return g(t,u(n,i,s),s,r,o)}function x(t,n,i,r=2,o="abbr"){const s=e(n,i);return p(t,u(n,i,s),s,r,o)}function y(t,n,i,r=2,o="abbr"){const e=s(n,i);return g(t,u(n,i,e),e,r,o)}function F(t,n,i,r=2,o="abbr"){const e=s(n,i);return p(t,u(n,i,e),e,r,o)}function d(t,n,i,r=2,o="abbr"){const e=c(n,i);return g(t,u(n,i,e),e,r,o)}function h(t,n,i,r=2,o="abbr"){const e=c(n,i);return p(t,u(n,i,e),e,r,o)}function B(t,n,i,r=2,o="abbr"){const e=a(n,i);return g(t,u(n,i,e),e,r,o)}function M(t,n,i,r=2,o="abbr"){const e=a(n,i);return p(t,u(n,i,e),e,r,o)}function j(t,n,i,r=2,o="abbr"){const e=m(n,i);return g(t,u(n,i,e),e,r,o)}function $(t,n,i,r=2,o="abbr"){const e=f(n,i);return g(t,u(n,i,e),e,r,o)}function S(t,n,i=2){let r=u(t,n,"degrees"),o=r-Math.floor(r);r-=o,o*=60;let e=o-Math.floor(o);return o-=e,e*=60,`${r.toFixed()}Â° ${o.toFixed()}' ${e.toFixed(i)}"`}function U(t,i,o,e,s){s=s??2;let c=n.normalize(r(u(t,i,"degrees"),o,e),0,!0);const a={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:s,minimumFractionDigits:s,signDisplay:c>0?"never":"exceptZero"};return c=z(c,a),l(c,a)}function w(t,n,i,r,o){i!==r&&(t=-t);const e={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:o=o??2,minimumFractionDigits:o,signDisplay:"exceptZero"};let s=u(t,n,"degrees")%360;return s=z(s,e),l(s,e)}const Z=new Map;function z(t,n){const i=JSON.stringify(n);let r=Z.get(i);return r||(r=new Intl.NumberFormat("en-US",n),Z.set(i,r)),/\-?\+?360/.test(r.format(t))?0:t}const I=["B","kB","MB","GB","TB"];function O(n,r){let e=0===(r=Math.round(r))?0:Math.floor(Math.log(r)/Math.log(t.KILOBYTES));e=i(e,0,I.length-1);const u=l(r/t.KILOBYTES**e,{maximumFractionDigits:2});return o(n.units.bytes[I[e]],{fileSize:u})}export{U as formatAngleDegrees,S as formatDMS,g as formatDecimal,O as formatFileSize,$ as formatImperialArea,d as formatImperialLength,h as formatImperialRelativeLength,M as formatImperialRelativeVerticalLength,B as formatImperialVerticalLength,j as formatMetricArea,D as formatMetricLength,x as formatMetricRelativeLength,F as formatMetricRelativeVerticalLength,y as formatMetricVerticalLength,w as formatRelativeAngleDegrees,p as formatRelativeDecimal,b as unitName};
