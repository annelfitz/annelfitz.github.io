/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{H as n,b as t,k as r,n as u,m as e,a as o,o as i,c as a,T as s,g as f,B as c,h as N,q as l}from"../../chunks/languageUtils.js";import{parse as h}from"../../core/number.js";function m(n,t,r){if(void 0===r||0==+r)return Math[n](t);if(t=+t,r=+r,isNaN(t)||"number"!=typeof r||r%1!=0)return NaN;let u=t.toString().split("e");return u=(t=Math[n](+(u[0]+"e"+(u[1]?+u[1]-r:-r)))).toString().split("e"),+(u[0]+"e"+(u[1]?+u[1]+r:r))}function M(M,b){function p(n,t,r){const u=f(n);return isNaN(u)?u:isNaN(t)||isNaN(r)||t>r?NaN:u<t?t:u>r?r:u}M.number=function(f,c){return b(f,c,((N,l,m)=>{n(m,1,2,f,c);const M=m[0];if(t(M))return M;if(null===M)return 0;if(r(M)||u(M)||e(M))return M.toNumber();if(o(M))return Number(M);if(i(M))return NaN;if(""===M)return Number(M);if(void 0===M)return Number(M);if(a(M)){if(void 0!==m[1]){let n=s(m[1],"‰","");return n=s(n,"¤",""),h(M,{pattern:n})}return Number(M.trim())}return Number(M)}))},M.abs=function(t,r){return b(t,r,((u,e,o)=>(n(o,1,1,t,r),Math.abs(f(o[0])))))},M.acos=function(t,r){return b(t,r,((u,e,o)=>(n(o,1,1,t,r),Math.acos(f(o[0])))))},M.asin=function(t,r){return b(t,r,((u,e,o)=>(n(o,1,1,t,r),Math.asin(f(o[0])))))},M.atan=function(t,r){return b(t,r,((u,e,o)=>(n(o,1,1,t,r),Math.atan(f(o[0])))))},M.atan2=function(t,r){return b(t,r,((u,e,o)=>(n(o,2,2,t,r),Math.atan2(f(o[0]),f(o[1])))))},M.ceil=function(t,r){return b(t,r,((u,e,o)=>{if(n(o,1,2,t,r),2===o.length){let n=f(o[1]);return isNaN(n)&&(n=0),m("ceil",f(o[0]),-1*n)}return Math.ceil(f(o[0]))}))},M.round=function(t,r){return b(t,r,((u,e,o)=>{if(n(o,1,2,t,r),2===o.length){let n=f(o[1]);return isNaN(n)&&(n=0),m("round",f(o[0]),-1*n)}return Math.round(f(o[0]))}))},M.floor=function(t,r){return b(t,r,((u,e,o)=>{if(n(o,1,2,t,r),2===o.length){let n=f(o[1]);return isNaN(n)&&(n=0),m("floor",f(o[0]),-1*n)}return Math.floor(f(o[0]))}))},M.cos=function(t,r){return b(t,r,((u,e,o)=>(n(o,1,1,t,r),Math.cos(f(o[0])))))},M.isnan=function(t,r){return b(t,r,((u,e,o)=>(n(o,1,1,t,r),"number"==typeof o[0]&&isNaN(o[0]))))},M.exp=function(t,r){return b(t,r,((u,e,o)=>(n(o,1,1,t,r),Math.exp(f(o[0])))))},M.log=function(t,r){return b(t,r,((u,e,o)=>(n(o,1,1,t,r),Math.log(f(o[0])))))},M.pow=function(t,r){return b(t,r,((u,e,o)=>(n(o,2,2,t,r),f(o[0])**f(o[1]))))},M.random=function(t,r){return b(t,r,((u,e,o)=>(n(o,0,0,t,r),Math.random())))},M.sin=function(t,r){return b(t,r,((u,e,o)=>(n(o,1,1,t,r),Math.sin(f(o[0])))))},M.sqrt=function(t,r){return b(t,r,((u,e,o)=>(n(o,1,1,t,r),Math.sqrt(f(o[0])))))},M.tan=function(t,r){return b(t,r,((u,e,o)=>(n(o,1,1,t,r),Math.tan(f(o[0])))))},M.isempty=function(t,r){return b(t,r,((u,e,o)=>(n(o,1,1,t,r),null===o[0]||(""===o[0]||(void 0===o[0]||o[0]===c)))))},M.boolean=function(t,r){return b(t,r,((u,e,o)=>{n(o,1,1,t,r);const i=o[0];return N(i)}))},M.constrain=function(t,r){return b(t,r,((u,e,o)=>{n(o,3,3,t,r);const a=f(o[1]),s=f(o[2]);if(i(o[0])){const n=[];for(const t of o[0])n.push(p(t,a,s));return n}if(l(o[0])){const n=[];for(let t=0;t<o[0].length();t++)n.push(p(o[0].get(t),a,s));return n}return p(o[0],a,s)}))}}export{M as registerFunctions};
