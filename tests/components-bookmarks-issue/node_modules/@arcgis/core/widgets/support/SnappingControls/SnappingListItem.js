/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{_ as e}from"../../../chunks/tslib.es6.js";import{isSome as r}from"../../../core/arrayUtils.js";import t from"../../../core/Collection.js";import{property as o}from"../../../core/accessorSupport/decorators/property.js";import"../../../core/has.js";import"../../../core/Logger.js";import{subclass as i}from"../../../core/accessorSupport/decorators/subclass.js";import s from"../../LayerList/ListItem.js";import{canDisplayLayer as n}from"../../LayerList/support/layerListUtils.js";import{isValidSnappingLayer as l}from"./snappingLayerListUtils.js";var a;let p=a=class extends s{constructor(e){super(e),this.children=new t,this.parent=null}get allChildrenEnabled(){return this.children.every((e=>e.enabled))??!1}get childLayerIds(){return this.children.map((e=>e.layer.id)).toArray()}get enabled(){return null!=this.featureSource&&this.featureSource.enabled}get featureSource(){const{layer:e,getFeatureSnappingSources:r}=this;return r().find((r=>r.layer===e))}get hasChildrenEnabled(){return this.children.some((e=>e.enabled))}_initializeChildLayers(e){if(!e)return;const r=e.filter(l);super._initializeChildLayers(r)}_makeChildren(e){return e.map((e=>n(e)?new a({layer:e,parent:this,view:this.view,getFeatureSnappingSources:this.getFeatureSnappingSources}):null)).filter(r).reverse()}};e([o()],p.prototype,"allChildrenEnabled",null),e([o()],p.prototype,"children",void 0),e([o()],p.prototype,"childLayerIds",null),e([o()],p.prototype,"enabled",null),e([o()],p.prototype,"featureSource",null),e([o({constructOnly:!0})],p.prototype,"getFeatureSnappingSources",void 0),e([o()],p.prototype,"hasChildrenEnabled",null),e([o()],p.prototype,"parent",void 0),p=a=e([i("esri.widgets.support.SnappingControls.SnappingListItem")],p);export{p as SnappingListItem};
