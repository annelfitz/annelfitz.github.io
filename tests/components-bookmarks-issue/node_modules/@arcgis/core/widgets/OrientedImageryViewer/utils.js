/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import r from"../../request.js";import t from"../../core/Logger.js";import{sectorsRadii as e}from"./constants.js";function n(r){return"3d"===r?.type}function o(r){return"esri.Graphic"===r?.declaredClass}function i(r){return/.*.(tif|mrf)$/i.test(r??"")}function s(r){return Math.abs(r)>=135?"WEST":r<-45&&r>-135?"SOUTH":r<=45?"EAST":"NORTH"}function u(r,t){const n=r/t*e[2];return n<=e[0]?"NEAR":n<=e[1]?"":"FAR"}function a(r){return r&&r.url&&r.datasetFormat?r:null}function c(r){return"string"==typeof r&&r.length?r:a(r)}function g(r){return"NoAttachmentError"===r?.name}const f=r=>`${r}:missing-property`,m=(r,t)=>`Property ${t} is missing in ${r}`,d=(r="esri.widgets.OrientedImageryViewer",e)=>{throw t.getLogger(r).error(e),e},p=async(e,n)=>{try{const t=await r(e,{...n,method:"head"});return t?.getHeader?.("Content-Type")}catch(o){return t.getLogger("esri.widgets.OrientedImagery").error("failed to fetch Content-Type",o),null}};export{s as calculateDirection,u as calculateSegment,c as castImageSource,a as castURLWithDatasetFormat,p as getContentType,m as getMissingPropertyErrorMessage,f as getMissingPropertyErrorName,o as isGraphic,g as isNoAttachmentError,n as isSceneView,i as isTifOrMrf,d as logAndThrow};
