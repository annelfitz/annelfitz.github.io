/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{_ as t}from"../../../chunks/tslib.es6.js";import e from"../../../core/Collection.js";import o from"../../../core/Evented.js";import{property as r}from"../../../core/accessorSupport/decorators/property.js";import"../../../core/has.js";import"../../../core/Logger.js";import"../../../core/RandomLCG.js";import{subclass as s}from"../../../core/accessorSupport/decorators/subclass.js";let i=class extends o.EventedAccessor{constructor(t){super(t),this.cellPartNameGenerator=(t,e)=>{const o=this.findColumn(t?.path);let r="";return o?(o.invalid&&(r+=" invalid"),"activeEditInfo"in o&&o.activeEditInfo&&o.activeEditInfo.rowData?.index===e.index&&(r+=" editing"),r):r},this.columnPerformanceModeEnabled=!0,this.columnReorderingEnabled=!0,this.columns=new e,this.dataProvider=async(t,e)=>{const{store:o}=this;if(!e)return;if(!o)return void(e&&e([]));e(await o.fetchItems(t))},this.multiSortEnabled=!1,this.pageSize=50,this.rowDetailsRenderer=null,this.store=null}get highlightIds(){return this._get("highlightIds")||new e}set highlightIds(t){Array.isArray(t)?this._set("highlightIds",new e(t)):this._set("highlightIds",t)}get size(){return this.store?.count||0}get state(){const{store:t}=this;return t&&"disabled"!==t.state?"loading"===t.state?"loading":"loaded"===t.state?"loaded":"ready":"disabled"}closeColumnMenus(){this.columns?.forEach((t=>{t.menu&&t.menu.open&&t.menu.set("open",!1)}))}sortColumn(t,e){if(!t)return;const o=this.findColumn(t);o&&(o.direction=e)}hideColumn(t){const e=this.findColumn(t);!1===e?.hidden&&(e.hidden=!0)}showColumn(t){const e=this.findColumn(t);e?.hidden&&(e.hidden=!1)}showAllColumns(){this.columns?.forEach((t=>{t.hidden&&(t.hidden=!1)}))}findColumn(t){const e=[];return this.columns.forEach((t=>{e.push(t),"columns"in t&&t.columns?.forEach((t=>e.push(t)))})),e.find((e=>e.path===t))}getRowItemAt(t){return this.store?.getLocalItemAt(t)}refresh(){this.store&&(this.store.reset(),this.store.load())}};t([r()],i.prototype,"cellPartNameGenerator",void 0),t([r()],i.prototype,"columnPerformanceModeEnabled",void 0),t([r()],i.prototype,"columnReorderingEnabled",void 0),t([r()],i.prototype,"columns",void 0),t([r()],i.prototype,"dataProvider",void 0),t([r()],i.prototype,"highlightIds",null),t([r()],i.prototype,"multiSortEnabled",void 0),t([r()],i.prototype,"pageSize",void 0),t([r()],i.prototype,"rowDetailsRenderer",void 0),t([r({readOnly:!0})],i.prototype,"size",null),t([r()],i.prototype,"store",void 0),t([r({readOnly:!0})],i.prototype,"state",null),i=t([s("esri.widgets.FeatureTable.Grid.GridViewModel")],i);const n=i;export{n as default};
