/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{_ as e}from"../../chunks/tslib.es6.js";import t from"../../core/Accessor.js";import r from"../../core/Error.js";import{property as o}from"../../core/accessorSupport/decorators/property.js";import"../../core/has.js";import"../../core/Logger.js";import"../../core/RandomLCG.js";import{subclass as s}from"../../core/accessorSupport/decorators/subclass.js";import{Edits as a}from"./Edits.js";var i;let d=i=class extends t{constructor(e){super(e),this.editorItem=null,this.edits=null,this.parent=null,this.relatedRecordCallbacks=null,this.viewModel=null}get attachmentsCapabilities(){const e=this.editorItem.capabilities.update.attachments.enabled;return{editing:!0,operations:{add:e,update:e,delete:e}}}get formTemplate(){return this.editorItem.formTemplate}static async create(e){const t=i._makeConstructorProps(e);return new i(t)}static _makeConstructorProps(e){const{feature:t,parent:o,relatedRecordCallbacks:s,viewModel:i}=e,d=i.editorItems.find((e=>e.layer===t.layer));if(!d)throw new r("no-editorItem-found","The EditorViewModel provided did not have an EditorItem associated with the specified Graphic's layer");return{editorItem:d,edits:new a({feature:t}),parent:o,relatedRecordCallbacks:s,viewModel:i}}};e([o()],d.prototype,"attachmentsCapabilities",null),e([o({constructOnly:!0})],d.prototype,"editorItem",void 0),e([o()],d.prototype,"edits",void 0),e([o()],d.prototype,"formTemplate",null),e([o()],d.prototype,"parent",void 0),e([o()],d.prototype,"relatedRecordCallbacks",void 0),e([o()],d.prototype,"viewModel",void 0),d=i=e([s("esri.widgets.Editor.UpdateRecordWorkflowData")],d);const p=d;export{p as default};
