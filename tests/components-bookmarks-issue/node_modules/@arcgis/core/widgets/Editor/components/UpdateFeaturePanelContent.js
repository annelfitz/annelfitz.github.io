/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{substitute as e}from"../../../intl/substitute.js";import{loadFooterActionsComponents as t,FooterActions as o}from"./FooterActions.js";import{loadNoticesComponents as n,Notices as a}from"./Notices.js";import{loadPanelContentComponents as r,PanelContentMessage as s,PanelContentSectionGroup as i,PanelContentSection as l,PanelContent as u}from"./PanelContent.js";import{Heading as c,incrementHeadingLevel as m}from"../../support/Heading.js";import"../../support/widgetUtils.js";import{tsx as p,tsxFragment as d}from"../../support/jsxFactory.js";const f=()=>Promise.all([t(),n(),r()]);function h({editorViewModel:t,headingLevel:n,messages:r,messagesCommon:f,onDelete:h,onSave:g,renderAttachments:v,renderFeatureForm:k}){const{activeWorkflow:w,featureFormViewModel:y,syncing:F}=t;if(!w||!y)return null;const b=w.type,j="activeWorkflow"in w?w.activeWorkflow:void 0,P=j?.type,S=j&&!j.hasPendingEdits||"update"===b&&!w.hasPendingEdits||F||y.updating,C="update"===b&&"create-features"!==P?f.update:f.create,A="create-features"===b&&"create-new"===w.createFeatureState,T="create-features"===b?w.numPendingFeatures:0,W=T>1?e(r.createFeaturesTemplate,{numFeatures:T}):C,x=w.shouldShowAttachments&&!y.activeRelationshipInput,D=y.inputs.every((e=>!e.visible))&&!x?p(s,{key:"panel-content-message"},e(r.clickToFinishTemplate,{button:C})):p(l,{key:"panel-content-section"},p(a,{messages:r,workflow:w}),p(i,null,k(),x?p("div",{key:"attachments"},p(c,{level:m(n)},r.attachments),v()):null));return p(d,null,p(u,{key:"attribute-panel-content",showScrimOverlay:A},D),p(o,{buttons:[{onClick:g,disabled:S,label:W},t.shouldShowDeleteButton?{appearance:"outline",onClick:h,disabled:F,kind:"danger",label:f.delete}:void 0]}))}export{h as UpdateFeaturePanelContent,f as loadUpdateFeaturePanelContentComponents};
