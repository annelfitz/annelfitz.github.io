/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{_ as o}from"../../chunks/tslib.es6.js";import{clamp as i}from"../../core/mathUtils.js";import{watch as t,syncAndInitial as s,sync as r}from"../../core/reactiveUtils.js";import{property as e}from"../../core/accessorSupport/decorators/property.js";import"../../core/has.js";import"../../core/Logger.js";import"../../core/RandomLCG.js";import{subclass as n}from"../../core/accessorSupport/decorators/subclass.js";import a from"../../views/SceneView.js";import m from"./PanoramicZoomConditions.js";import c from"../Zoom/ZoomViewModel.js";let p=class extends c{constructor(o){super(o),this.panoramicZoomConditions=new m,this.zoomTo=o=>{this.view.camera.fov=this.constrainFOV(o),this.view.camera=this.view.camera.clone()}}initialize(){this.addHandles([t((()=>[this.view?.ready,this.panoramicZoomConditions]),(()=>{this.view?.ready&&(this.panoramicZoomConditions.view=this.view,this.zoomTo(this.view.camera.fov))}),s),t((()=>[this.panoramicZoomConditions.maxFOV,this.panoramicZoomConditions.minFOV]),(([o,i])=>{null!=o&&null!=i&&this.zoomTo(this.view.camera.fov)}),r)])}get canZoomIn(){return this.panoramicZoomConditions.canZoomIn}get canZoomOut(){return this.panoramicZoomConditions.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(o){this._set("view",o)}constrainFOV(o){const{maxFOV:t,minFOV:s}=this.panoramicZoomConditions;return i(o,s,t)}zoomIn(){if(!this.canZoomIn)return;const o=this.view.camera.fov-this.panoramicZoomConditions.zoomFactor;this.zoomTo(o)}zoomOut(){if(!this.canZoomOut)return;const o=this.view.camera.fov+this.panoramicZoomConditions.zoomFactor;this.zoomTo(o)}};o([e()],p.prototype,"canZoomIn",null),o([e()],p.prototype,"canZoomOut",null),o([e({type:m})],p.prototype,"panoramicZoomConditions",void 0),o([e()],p.prototype,"state",null),o([e({type:a})],p.prototype,"view",null),p=o([n("esri.widgets.PanoramicViewer.PanoramicZoomViewModel")],p);const h=p;export{h as default};
