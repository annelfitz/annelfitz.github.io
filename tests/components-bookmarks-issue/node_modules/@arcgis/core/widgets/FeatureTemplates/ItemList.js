/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{Heading as e}from"../support/Heading.js";import{classes as t}from"../support/widgetUtils.js";import{tsx as n}from"../support/jsxFactory.js";const l="esri-item-list",i=`${l}__list-item`,r={base:l,filterContainerSticky:`${l}__filter-container--sticky`,group:`${l}__group`,groupHeader:`${l}__group__header`,item:i,itemDisabled:`${i}--disabled`,itemIcon:`${i}-icon`,itemContentEnd:`${i}-content-end`,noMatchesMessage:`${l}__no-matches-message`,scroller:`${l}__scroller`,scrollerEnabled:`${l}__scroller--enabled`},s=4;function o(e){const{disabled:t,filterText:l="",id:i,messages:r,onFilterChange:s,...o}=e;return n("div",{key:i},e.filterEnabled??1?c({disabled:t,filterText:l,id:i,messages:r,onFilterChange:s}):null,d({...o,disabled:t,enableListScroll:e.enableListScroll??!0,filterText:l,messages:r}))}function a(e){return!!e.items}function d(e){const{headingLevel:l,items:i,...s}=e;return 0===i.length?n("div",{class:r.noMatchesMessage,key:"no-matches"},e.messages.noMatches):n("div",{class:t({[r.scroller]:!0,[r.scrollerEnabled]:!!e.enableListScroll}),key:"item-container"},i.map((e=>a(e)?b({...s,group:e,headingLevel:l}):m({...s,grouped:!0,item:e}))))}function c(e){const{disabled:t,messages:l,filterText:i,enableListScroll:s}=e;return n("div",{class:s?void 0:r.filterContainerSticky,key:"filter"},n("calcite-input",{disabled:t,placeholder:l.filterPlaceholder,type:"search",value:i,onCalciteInputInput:t=>{const n=t.currentTarget;e.onFilterChange&&e.onFilterChange(n.value)}}))}function m(e){const{disabled:l,grouped:i,identify:s,item:o,onItemMouseEnter:a,onItemMouseLeave:d,onItemSelect:c,renderIcon:m,renderCustomItem:b,renderItemContent:g,renderItemContentEnd:f,renderItemLabel:v,renderItemDescription:_,selectedItem:h}=e,I=u(o,s),y=I===u(h,s),C=b?.(e);if(C)return C;const k=g?.(o),$=f?.(o),L=!(!o.disabled&&!l);return n("calcite-list-item",{afterUpdate:e=>{e.selected=y},"aria-level":i?"2":"",class:t({[r.item]:!0,[r.itemDisabled]:L}),"data-item":o,description:k?void 0:_?.(o)??void 0,disabled:L,key:I,label:k?void 0:v?.(o)??o.label??void 0,onmouseenter:e=>a?.(p(e)),onmouseleave:e=>d?.(p(e)),selected:y,tabIndex:L?-1:0,onCalciteListItemSelect:e=>{e.preventDefault(),c?.(p(e))}},n("div",{class:r.itemIcon,key:"content-start",slot:"content-start"},m?.(o)),k?n("div",{key:"content",slot:"content"},k):null,$?n("div",{class:r.itemContentEnd,key:"content-end",slot:"content-end"},$):null)}function u(e,t){return e?`${t?.(e)||e.id}__${e.label}`:""}function p(e){return e.currentTarget["data-item"]}function b(t){const{disabled:l,group:i,headingLevel:o=s,selectionMode:a="none",renderCustomGroupContent:d,...c}=t,u=d?.(t);return n("div",{class:r.group,key:i.label??void 0},n(e,{class:r.groupHeader,level:o},i.label),u||n("calcite-list",{disabled:l,selectionAppearance:"border",selectionMode:a},i.items.map((e=>m({...c,disabled:l,item:e,grouped:!0})))))}export{o as ItemList,b as renderGroup,m as renderItem};
