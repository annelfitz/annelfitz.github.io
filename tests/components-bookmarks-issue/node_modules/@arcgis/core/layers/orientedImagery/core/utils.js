/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{JSONMap as t}from"../../../core/jsonMap.js";import n from"./CameraOrientationHPR.js";import e from"./CameraOrientationOPK.js";import i from"./CameraOrientationYPR.js";import{ElevationSource as r,isConstantElevation as o,ConstantElevation as l}from"./ElevationSourceDefinitions.js";import{CameraOrientationType as s}from"../enums/CameraOrientationType.js";import{isNumber as a}from"../../../widgets/support/dataUtils.js";function u(t,n,e){return n&&(t=`${n}${t}`),e&&(t+=`${e}`),t}function f(t,n,e){let{url:i}=t;return i?(i=u(i,n,e),new r({...t,url:i})):null}function c(t,n,e){return t?o(t)?new l(t):f(t,n,e):t}const m=new t({Minutes:"minutes",Hours:"hours",Days:"days",Weeks:"weeks",Months:"months",Years:"years"}),p=new t({360:"360",Horizontal:"horizontal",Inspection:"inspection",Nadir:"nadir",Oblique:"oblique","":null}),g=new Map;g.set(`${s.OPK}`,{desc:"Using Omega Phi Kappa",constructor:e}),g.set(`${s.HPR}`,{desc:"Using Heading, Pitch and Roll",constructor:n}),g.set(`${s.YPR}`,{desc:"Using Yaw, Pitch and Roll",constructor:i});const h=new Map;function d(t){const[n,e,i,r,o,l,s,u,f,c,m,p,g,h,d,P,D,O,w,$,b,C]=t.slice(1),K=[f,c,m,p,g,h].map((t=>Number(t))),y=[P,D].map((t=>Number(t))),N=[O,w,$].map((t=>Number(t))),R=[b,C].map((t=>Number(t)));return{horizontalWKID:n,verticalWKID:e,x:i,y:r,z:o,omega:l,phi:s,kappa:u,affineTransformations:6===K.filter(a).length?K:null,focalLength:d,principalOffsetPoint:2!==y.filter(a).length?null:y,radialDistortionCoefficients:3!==N.filter(a).length?[0,0,0]:N,tangentialDistortionCoefficients:2!==R.filter(a).length?[0,0]:R}}function P(t){const[n,e,i,r,o,l,s,u,f,c,m,p,g,h,d,P,D,O,w,$,b,C]=t.slice(1),K=[f,c,m,p,g,h].map((t=>Number(t))),y=[P,D].map((t=>Number(t))),N=[O,w,$],R=[b,C];return{horizontalWKID:n,verticalWKID:e,x:i,y:r,z:o,heading:l,pitch:s,roll:u,affineTransformations:6===K.filter(a).length?K:null,focalLength:d,principalOffsetPoint:2!==y.filter(a).length?null:y,radialDistortionCoefficients:3!==N.filter(a).length?null:N,tangentialDistortionCoefficients:2!==R.filter(a).length?null:R}}function D(t){const[n,e,i,r,o,l,s,u,f,c,m,p,g,h,d,P,D,O,w,$,b,C]=t.slice(1),K=[f,c,m,p,g,h].map((t=>Number(t))),y=[P,D].map((t=>Number(t))),N=[O,w,$],R=[b,C];return{horizontalWKID:n,verticalWKID:e,x:i,y:r,z:o,yaw:l,pitch:s,roll:u,affineTransformations:6===K.filter(a).length?K:null,focalLength:d,principalOffsetPoint:2!==y.filter(a).length?null:y,radialDistortionCoefficients:3!==N.filter(a).length?null:N,tangentialDistortionCoefficients:2!==R.filter(a).length?null:R}}function O(t){const[n,e,i,r,o,...l]=t.slice(1),s=h.get(o);if(!s)return null;return{latitude:n,longitude:e,ellipsoidRadius:i,squaredEccentricity:r,properties:s([o,"",...l])}}function w(t){if(!t)return null;const n=`${t}`.split("|");if(0===n.length)return null;const e=g.get(n[0]);if(!e)return null;const i=h.get(n[0]);if(!i)return null;return new(0,e.constructor)(i(n))}h.set(`${s.HPR}`,P),h.set(`${s.YPR}`,D),h.set(`${s.OPK}`,d),h.set(`${s.LTP}`,O);export{u as appendPrefixAndSuffix,g as cameraOrientationRegistry,w as createCameraOrientation,c as getEffectiveElevationSource,p as orientedImageryTypeMap,f as processElevationSource,m as timeIntervalUnitTypeMap,h as transformersRegistry};
