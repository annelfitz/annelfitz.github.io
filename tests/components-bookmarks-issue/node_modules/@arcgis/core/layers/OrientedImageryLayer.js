/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{_ as e}from"../chunks/tslib.es6.js";import t from"../core/Error.js";import{JSONMap as r}from"../core/jsonMap.js";import{property as i}from"../core/accessorSupport/decorators/property.js";import{cast as o}from"../core/accessorSupport/decorators/cast.js";import{subclass as a}from"../core/accessorSupport/decorators/subclass.js";import n from"./FeatureLayer.js";import{orientedImageryTypeMap as p,timeIntervalUnitTypeMap as s,getEffectiveElevationSource as y}from"./orientedImagery/core/utils.js";function l(e,t,r){return{name:`orientedImageryProperties.${e}`,write:!t||{target:`orientedImageryProperties.${e}`,writer:t},origins:{service:{name:`orientedImageryInfo.orientedImageryProperties.${e}`,write:t,read:r}}}}let m=class extends n{constructor(){super(...arguments),this.cameraHeading=null,this.cameraHeight=null,this.cameraPitch=null,this.cameraRoll=null,this.coveragePercent=null,this.demPathPrefix=null,this.demPathSuffix=null,this.depthImagePathPrefix=null,this.depthImagePathSuffix=null,this.elevationSource=null,this.farDistance=null,this.geometryType="point",this.horizontalFieldOfView=null,this.horizontalMeasurementUnit=null,this.imagePathPrefix=null,this.imagePathSuffix=null,this.imageRotation=null,this.maximumDistance=null,this.nearDistance=null,this.operationalLayerType="OrientedImageryLayer",this.orientationAccuracy=null,this.orientedImageryType=null,this.supportedSourceTypes=new Set(["Oriented Imagery Layer"]),this.type="oriented-imagery",this.timeIntervalUnit=null,this.verticalFieldOfView=null,this.verticalMeasurementUnit=null,this.videoPathPrefix=null,this.videoPathSuffix=null}get effectiveElevationSource(){const{elevationSource:e,demPathPrefix:t,demPathSuffix:r}=this;return y(e,t,r)}findFirstValidLayerId(e){return e.layers?.find((e=>this.supportedSourceTypes.has(e.type)))?.id}_verifySource(){if(super._verifySource(),"point"!==this.geometryType)throw new t("oriented-imagery-layer:invalid-geometry-type","OrientedImageryLayer only supports point geometry type")}};e([i({type:Number,json:l("cameraHeading")})],m.prototype,"cameraHeading",void 0),e([i({type:Number,json:l("cameraHeight")})],m.prototype,"cameraHeight",void 0),e([i({type:Number,json:l("cameraPitch")})],m.prototype,"cameraPitch",void 0),e([i({type:Number,json:l("cameraRoll")})],m.prototype,"cameraRoll",void 0),e([i({type:Number,json:l("coveragePercent")})],m.prototype,"coveragePercent",void 0),e([i({type:String,json:l("demPathPrefix")})],m.prototype,"demPathPrefix",void 0),e([i({type:String,json:l("demPathSuffix")})],m.prototype,"demPathSuffix",void 0),e([i({type:String,json:l("depthImagePathPrefix")})],m.prototype,"depthImagePathPrefix",void 0),e([i({type:String,json:l("depthImagePathSuffix")})],m.prototype,"depthImagePathSuffix",void 0),e([i({type:Object,json:l("elevationSource")})],m.prototype,"elevationSource",void 0),e([i()],m.prototype,"effectiveElevationSource",null),e([i({type:Number,json:l("farDistance")})],m.prototype,"farDistance",void 0),e([i({json:{write:!0}})],m.prototype,"geometryType",void 0),e([i({type:Number,json:l("horizontalFieldOfView")})],m.prototype,"horizontalFieldOfView",void 0),e([i({type:String,json:l("horizontalMeasurementUnit")})],m.prototype,"horizontalMeasurementUnit",void 0),e([i({type:String,json:l("imagePathPrefix")})],m.prototype,"imagePathPrefix",void 0),e([i({type:String,json:l("imagePathSuffix")})],m.prototype,"imagePathSuffix",void 0),e([i({type:Number,json:l("imageRotation")})],m.prototype,"imageRotation",void 0),e([i({type:Number,json:l("maximumDistance")})],m.prototype,"maximumDistance",void 0),e([i({type:Number,json:l("nearDistance")})],m.prototype,"nearDistance",void 0),e([i({type:["OrientedImageryLayer"]})],m.prototype,"operationalLayerType",void 0),e([i({json:l("orientationAccuracy",((e,t)=>{e&&(t.orientationAccuracy=e.join(","))}))}),o((e=>e?e.trim().split(",").map(Number):null))],m.prototype,"orientationAccuracy",void 0),e([i({json:{...l("orientedImageryType",p.write,p.read),type:p.apiValues}})],m.prototype,"orientedImageryType",void 0),e([i({json:{read:!1},value:"oriented-imagery",readOnly:!0})],m.prototype,"type",void 0),e([i({json:{...l("timeIntervalUnit",s.write,s.read),type:s.apiValues}})],m.prototype,"timeIntervalUnit",void 0),e([i({type:Number,json:l("verticalFieldOfView")})],m.prototype,"verticalFieldOfView",void 0),e([i({json:{...l("verticalMeasurementUnit"),type:new r({Feet:"feet",Meter:"meter"}).apiValues}})],m.prototype,"verticalMeasurementUnit",void 0),e([i({type:String,json:l("videoPathPrefix")})],m.prototype,"videoPathPrefix",void 0),e([i({type:String,json:l("videoPathSuffix")})],m.prototype,"videoPathSuffix",void 0),m=e([a("esri.layers.OrientedImageryLayer")],m);const u=m;export{u as default};
