/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{resolveDynamicUniforms as e,getFeatureUniforms as t,getLocalTileOffset as r,getSelectionDefines as s,isHittest as i,getFeaturePipelineState as o}from"../featureTechniqueUtils.js";import{Technique as a}from"../Technique.js";import{meshWriterRegistry as n}from"../mesh/MeshWriterRegistry.js";import{ComplexFillShader as m}from"../shaders/ComplexFillShader.js";class h extends a{constructor(){super(...arguments),this.meshWriter=n.ComplexFillMeshWriter,this.shaders={geometry:new m}}render(a,n){const{context:m,painter:h}=a;h.setShader({shader:this.shaders.geometry,uniforms:{...e(a,n.target,n.instance.getInput().geometry),...t(a,n.target),mosaicInfo:h.textureManager.getMosaicInfo(m,n.textureKey),localTileOffset:r(n.target)},defines:{...s(a)},optionalAttributes:n.instance.optionalAttributes,useComputeBuffer:i(a)}),h.setPipelineState(o(a)),h.submitDraw(m,n)}}export{h as ComplexFillTechnique};
