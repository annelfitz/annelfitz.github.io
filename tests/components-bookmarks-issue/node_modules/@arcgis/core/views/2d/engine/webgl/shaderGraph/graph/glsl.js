/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{_ as t}from"../../../../../../chunks/tslib.es6.js";import{ShaderPrimitiveNode as n,cloneShaderNode as e,ShaderPropertyAccessNode as r,ShaderBlockNode as c,ShaderScopeNode as i,ShaderConditionNode as u,ShaderFunctionNode as o}from"./ShaderGraphNode.js";var s,l,h,f,a,p,d,w,y,m,v,b,I,x;function g(t){switch(t.type){case"uint":return j;case"uvec2":return C;case"uvec3":return G;case"uvec4":return H;default:throw new Error("Found unexpected type")}}function E(t){switch(t.type){case"float":return M;case"vec2":return R;case"vec3":return A;case"vec4":return X;default:throw new Error("Found unexpected type")}}function T(t){switch(t.type){case"int":return j;case"ivec2":return C;case"ivec3":return G;case"ivec4":return H;default:throw new Error("Found unexpected type")}}function $(t){switch(t.type){case"float":return O;case"vec2":return Q;case"vec3":return V;case"vec4":return W;default:throw new Error("Found unexpected type")}}function F(t){switch(t.type){case"bool":case"float":case"int":case"uint":return Y;case"bvec2":case"vec2":case"ivec2":case"uvec2":return _;case"bvec3":case"vec3":case"ivec3":case"uvec3":return J;case"bvec4":case"vec4":case"ivec4":case"uvec4":return L;default:throw new Error("Unable to handle type")}}function k(t){switch(t.type){case"float":case"int":case"uint":case"bool":case"sampler2D":return 1;case"vec2":case"ivec2":case"uvec2":case"bvec2":return 2;case"vec3":case"ivec3":case"uvec3":case"bvec3":return 3;case"vec4":case"ivec4":case"uvec4":case"bvec4":case"mat2":return 4;case"mat3":return 9;case"mat4":return 16;case"array":return t.size*k(t.elementType)}}function z(t){const n=[["float","vec2","vec3","vec4"],["int","ivec2","ivec3","ivec4"],["uint","uvec2","uvec3","uvec4"],["bool","bvec2","bvec3","bvec4"]];for(const e of n)if(e.includes(t))return e.map((t=>et[t]));throw new Error("Unable to find type family")}function D(t){return new Proxy(t,{get(n,e){if("constructor"===e)return new Proxy(n.constructor,{construct:(t,n,e)=>D(new t(...n))});if(e in n)return n[e];if("string"==typeof e){const n=z(t.type);return ft(t,e,n[e.length-1])}}})}function N(t){return new Proxy(t,{construct:(t,n,e)=>D(new t(...n))})}function P(t){return new Proxy(t,{get(n,e){if(e in n)return n[e];if("string"==typeof e){const n=parseInt(e,10);if(!isNaN(n))return ft(t,`[${n}]`,t.elementType.constructor)}}})}function q(t){return new Proxy(t,{construct:(t,n,e)=>P(new t(...n))})}class B extends Error{}let U=s=class extends n{constructor(t,n){super(),this.elementType=t,this.size=n,this.children=[],this.type="array"}clone(){const t=new s(this.elementType,this.size);return super.cloneInto(t),t}get(t){if("number"==typeof t){const n=new O(t);return n.isImplicit=!0,ft(this,n,this.elementType.constructor)}return ft(this,t,this.elementType.constructor)}last(){return this.get(this.size-1)}first(){return this.get(0)}findIndex(t,n,e){return bt(this,t,n,e)}glslFindIndex(t,n,e){return It(this,t,n,e)}static ofType(t,n){const e={construct:(e,r)=>new s(new t,n)};return new Proxy(s,e)}};U.type="array",U=s=t([q],U);class S extends n{constructor(){super(...arguments),this.type="sampler2D",this.children=[]}clone(){const t=new S;return t.children=this.children.map(e),super.cloneInto(t),t}}S.type="sampler2D";class j extends n{constructor(t){super(),this.type="float",this.children=[t]}clone(){const t=new j(e(this.children[0]));return super.cloneInto(t),t}multiply(t){return Tt(this,"number"==typeof t?K(t,j):t)}divide(t){return $t(this,"number"==typeof t?K(t,j):t)}add(t){return Ft(this,"number"==typeof t?K(t,j):t)}subtract(t){return kt(this,"number"==typeof t?K(t,j):t)}}j.type="float";let C=l=class extends n{constructor(t,n){super(),this.type="vec2",this.children=[t,n].filter((t=>null!=t))}clone(){const t=new l(e(this.children[0]),e(this.children[1]));return super.cloneInto(t),t}get 0(){return ft(this,"[0]",j)}get 1(){return ft(this,"[1]",j)}get 2(){throw new B}get 3(){throw new B}multiply(t){return Tt(this,"number"==typeof t?K(t,j):t)}divide(t){return $t(this,"number"==typeof t?K(t,j):t)}add(t){return Ft(this,"number"==typeof t?K(t,j):t)}subtract(t){return kt(this,"number"==typeof t?K(t,j):t)}};C.type="vec2",C=l=t([N],C);let G=h=class extends n{constructor(t,n,e){super(),this.type="vec3",this.children=[t,n,e].filter((t=>null!=t))}get 0(){return ft(this,"[0]",j)}get 1(){return ft(this,"[1]",j)}get 2(){return ft(this,"[2]",j)}get 3(){throw new B}clone(){const t=new h(e(this.children[0]),e(this.children[1]),e(this.children[2]));return super.cloneInto(t),t}multiply(t){return Tt(this,"number"==typeof t?K(t,j):t)}divide(t){return $t(this,"number"==typeof t?K(t,j):t)}add(t){return Ft(this,"number"==typeof t?K(t,j):t)}subtract(t){return kt(this,"number"==typeof t?K(t,j):t)}};G.type="vec3",G=h=t([N],G);let H=f=class extends n{constructor(t,n,e,r){super(),this.type="vec4",this.children=[t,n,e,r].filter((t=>null!=t))}clone(){const t=new f(e(this.children[0]),e(this.children[1]),e(this.children[2]),e(this.children[3]));return super.cloneInto(t),t}get 0(){return ft(this,"[0]",j)}get 1(){return ft(this,"[1]",j)}get 2(){return ft(this,"[2]",j)}get 3(){return ft(this,"[3]",j)}multiply(t){return Tt(this,"number"==typeof t?K(t,j):t)}divide(t){return $t(this,"number"==typeof t?K(t,j):t)}add(t){return Ft(this,"number"==typeof t?K(t,j):t)}subtract(t){return kt(this,"number"==typeof t?K(t,j):t)}};H.type="vec4",H=f=t([N],H);let M=a=class extends n{constructor(t){super(),this.type="uint",this.children=[t]}clone(){const t=new a(e(this.children[0]));return super.cloneInto(t),t}};M.type="uint",M=a=t([N],M);let R=p=class extends n{constructor(t,n){super(),this.type="uvec2",this.children=[t,n].filter((t=>null!=t))}clone(){const t=new p(e(this.children[0]),e(this.children[1]));return super.cloneInto(t),t}};R.type="uvec2",R=p=t([N],R);let A=d=class extends n{constructor(t,n,e){super(),this.type="uvec3",this.children=[t,n,e].filter((t=>null!=t))}clone(){const t=new d(e(this.children[0]),e(this.children[1]),e(this.children[2]));return super.cloneInto(t),t}};A.type="uvec3",A=d=t([N],A);let X=w=class extends n{constructor(t,n,e,r){super(),this.type="uvec4",this.children=[t,n,e,r].filter((t=>null!=t))}clone(){const t=new w(e(this.children[0]),e(this.children[1]),e(this.children[2]),e(this.children[3]));return super.cloneInto(t),t}};X.type="uvec4",X=w=t([N],X);class Y extends n{constructor(t){super(),this.type="bool",this.children=[t]}and(t){return Rt(this,t)}or(t){return Ht(this,t)}clone(){const t=new Y(e(this.children[0]));return super.cloneInto(t),t}}Y.type="bool";let _=y=class extends n{constructor(t,n){super(),this.type="bvec2",this.children=[t,n].filter((t=>null!=t))}all(){return Jt(this)}any(){return Kt(this)}clone(){const t=new y(e(this.children[0]),e(this.children[1]));return super.cloneInto(t),t}};_.type="bvec2",_=y=t([N],_);let J=m=class extends n{constructor(t,n,e){super(),this.type="bvec3",this.children=[t,n,e].filter((t=>null!=t))}all(){return Jt(this)}any(){return Kt(this)}clone(){const t=new m(e(this.children[0]),e(this.children[1]),e(this.children[2]));return super.cloneInto(t),t}};function K(t,n){if("number"==typeof t){return new n(t)}return t}J.type="bvec3",J=m=t([N],J);let L=v=class extends n{constructor(t,n,e,r){super(),this.type="bvec4",this.children=[t,n,e,r].filter((t=>null!=t))}all(){return Jt(this)}any(){return Kt(this)}clone(){const t=new v(e(this.children[0]),e(this.children[1]),e(this.children[2]),e(this.children[3]));return super.cloneInto(t),t}};L.type="bvec4",L=v=t([N],L);class O extends n{constructor(t){super(),this.type="int",this.children=[t]}multiply(t){return Tt(this,K(t,O))}add(t){return Ft(this,K(t,O))}subtract(t){return kt(this,K(t,O))}divide(t){return $t(this,K(t,O))}clone(){const t=new O(e(this.children[0]));return super.cloneInto(t),t}}O.type="int";let Q=b=class extends n{constructor(t,n){super(),this.type="ivec2",this.children=[t,n].filter((t=>null!=t))}clone(){const t=new b(e(this.children[0]),e(this.children[1]));return super.cloneInto(t),t}};Q.type="ivec2",Q=b=t([N],Q);let V=I=class extends n{constructor(t,n,e){super(),this.type="ivec3",this.children=[t,n,e].filter((t=>null!=t))}clone(){const t=new I(e(this.children[0]),e(this.children[1]),e(this.children[2]));return super.cloneInto(t),t}};V.type="ivec3",V=I=t([N],V);let W=x=class extends n{constructor(t,n,e,r){super(),this.type="ivec4",this.children=[t,n,e,r].filter((t=>null!=t))}clone(){const t=new x(e(this.children[0]),e(this.children[1]),e(this.children[2]),e(this.children[3]));return super.cloneInto(t),t}};W.type="ivec4",W=x=t([N],W);class Z extends n{constructor(t,n,e,r){super(),this.type="mat2",this.children=[t,n,e,r]}clone(){const t=new Z(e(this.children[0]),e(this.children[1]),e(this.children[2]),e(this.children[3]));return super.cloneInto(t),t}}Z.type="mat2";class tt extends n{static identity(){return new tt(1,0,0,0,1,0,0,0,1)}static fromRotation(t){const n=Wn(t),e=tn(t);return new tt(e,n,0,yt(n),e,0,0,0,1)}constructor(t,n,e,r,c,i,u,o,s){super(),this.type="mat3",this.children=[t,n,e,r,c,i,u,o,s]}add(t){return Ft(this,t)}multiply(t){return Tt(this,t)}clone(){const t=new tt(e(this.children[0]),e(this.children[1]),e(this.children[2]),e(this.children[3]),e(this.children[4]),e(this.children[5]),e(this.children[6]),e(this.children[7]),e(this.children[8]));return super.cloneInto(t),t}}tt.type="mat3";class nt extends n{static identity(){return new nt(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}constructor(t,n,e,r,c,i,u,o,s,l,h,f,a,p,d,w){super(),this.type="mat4",this.children=[t,n,e,r,c,i,u,o,s,l,h,f,a,p,d,w]}static fromColumns(t,n,e,r){return new nt(t.x,t.y,t.z,t.w,n.x,n.y,n.z,n.w,e.x,e.y,e.z,e.w,r.x,r.y,r.z,r.w)}multiply(t){return Tt(this,t)}clone(){const t=new nt(e(this.children[0]),e(this.children[1]),e(this.children[2]),e(this.children[3]),e(this.children[4]),e(this.children[5]),e(this.children[6]),e(this.children[7]),e(this.children[8]),e(this.children[9]),e(this.children[10]),e(this.children[11]),e(this.children[12]),e(this.children[13]),e(this.children[14]),e(this.children[15]));return super.cloneInto(t),t}}nt.type="mat4";const et={float:j,vec2:C,vec3:G,vec4:H,int:O,ivec2:Q,ivec3:V,ivec4:W,uint:M,uvec2:R,uvec3:A,uvec4:X,bool:Y,bvec2:_,bvec3:J,bvec4:L},rt=(...t)=>new O(...t),ct=(...t)=>new j(...t),it=(...t)=>new C(...t),ut=(...t)=>new G(...t),ot=(...t)=>new H(...t),st=(...t)=>new Z(...t),lt=(...t)=>new tt(...t),ht=(...t)=>new nt(...t);function ft(t,n,e){const c=new e(new r(n,t,e));return c.isImplicit=!0,c}function at(t,n,e,r=null){if(r){const c=new r,i=new r(new o(t,[n,e],!0,!1,c));return i.isImplicit=!0,i}if("float"===n.type||"int"===n.type){const r=new e.constructor(new o(t,[n,e],!0,!1,e.constructor));return r.isImplicit=!0,r}if(("mat2"===n.type||"mat3"===n.type||"mat4"===n.type)&&"float"!==e.type){const r=new e.constructor(new o(t,[n,e],!0,!1,e.constructor));return r.isImplicit=!0,r}const c=new n.constructor(new o(t,[n,e],!0,!1,n.constructor));return c.isImplicit=!0,c}function pt(t,n,e=n.constructor){const r=new e(new o(t,[n],!1,!1,e));return r.isImplicit=!0,r}function dt(t,n,e,r=n.constructor){const c=new r(new o(t,[n,e],!1,!1,r));return c.isImplicit=!0,c}function wt(t,n,e,r,c=n.constructor){const i=new c(new o(t,[n,e,r],!1,!1,c));return i.isImplicit=!0,i}function yt(t){return Tt(t,ct(-1))}function mt(t,n,e,r){return new n(new c(t,n,e,r))}function vt(t,n){const e="function"==typeof t?t():t,r=new e.constructor(new i(e).setDebugName(n));return r.isImplicit=!0,r}function bt(t,n,e=0,r=t.size){const c=new O(e).setMutable().setDebugName("FindIndexIterator"),i=n(t.get(c)).setDebugName("FindIndexPredicate"),u=mt({iter:c},O,i,(({out:t,iter:n,subgraph:e})=>`\n${t} = -1;\n\nfor (; ${n} < ${r}; ${n}++) {\n\n${e.body}\n\n  if (${e.varName}) {\n    ${t} = ${n};\n    break;\n  }\n\n}\n`)).setDebugName("FindIndexBlock");return u}function It(t,n,e=0,r=t.size){const c=mt({array:t},O,null,(({out:t,array:c})=>`\n${t} = -1;\nfor (int i = ${e}; i < ${r}; i++) {\n  bool condition;\n  ${n({array:c,i:"i",out:"condition"})}\n  if (condition) {\n    ${t} = i;\n    break;\n  }\n}\n`)).setDebugName("GlslFindIndexBlock");return c}function xt(t,n,e){const r="function"==typeof n?n():n,c="function"==typeof e?e():e,i=new r.constructor(new u(t,r,c));return i.isImplicit=!0,i}function gt(...t){const n=t.map((([t,n])=>"function"==typeof n?[t,n()]:[t,n])),e=n[0][1].constructor,r=n.findIndex((t=>!0===t[0]));if(-1===r)throw new Error("A cond must have a fallthrough case with `true`/; ");const c=n.slice(0,r),i=n[r][1],u=new e(c.reduceRight(((t,n)=>xt(n[0],n[1],t)),i));return u.isImplicit=!0,u}function Et(t,n){const e=new n.constructor(new u(t,n,null));return e.isImplicit=!0,e}function Tt(t,n){return at("*",t,n)}function $t(t,n){return at("/",t,n)}function Ft(t,n){return at("+",t,n)}function kt(t,n){return at("-",t,n)}function zt(t,n){return at("<<",t,n)}function Dt(t,n){return at(">>",t,n)}function Nt(t,n){return at("&",t,n)}function Pt(t,n){return at("|",t,n)}function qt(t,n){return at("^",t,n)}function Bt(t,n){return at("==",t,n,Y)}function Ut(t,n){return at("!=",t,n,Y)}function St(t,n){return at("<",t,n,Y)}function jt(t,n){return at("<=",t,n,Y)}function Ct(t,n){return at(">",t,n,Y)}function Gt(t,n){return at(">=",t,n,Y)}function Ht(...t){return t.length<=1?t[0]:t.slice(1).reduce(((t,n)=>Mt(t,n)),t[0])}function Mt(t,n){return at("||",t,n,Y)}function Rt(...t){return t.length<=1?t[0]:t.slice(1).reduce(((t,n)=>At(t,n)),t[0])}function At(t,n){return at("&&",t,n,Y)}function Xt(t){return pt("abs",t)}function Yt(t){return pt("acos",t)}function _t(t){return pt("acosh",t)}function Jt(t){return pt("all",t,Y)}function Kt(t){return pt("any",t,Y)}function Lt(t){return pt("asin",t)}function Ot(t){return pt("asinh",t)}function Qt(t,n){return null==n?pt("atan",t):dt("atan",t,n,t.constructor)}function Vt(t){return pt("atanh",t)}function Wt(t){return pt("ceil",t)}function Zt(t,n,e){return wt("clamp",t,n,e,t.constructor)}function tn(t){return pt("cos",t)}function nn(t){return pt("cosh",t)}function en(t,n){return dt("cross",t,n,t.constructor)}function rn(t){return pt("dFdX",t)}function cn(t){return pt("dFdY",t)}function un(t){return pt("degrees",t)}function on(t){return pt("determinant",t,j)}function sn(t,n){return dt("distance",t,n,j)}function ln(t,n){return dt("dot",t,n,j)}function hn(t,n){return dt("equal",t,n,F(t))}function fn(t,n){return dt("greaterThan",t,n,F(t))}function an(t,n){return dt("greaterThanEqual",t,n,F(t))}function pn(t){return pt("exp",t)}function dn(t){return pt("exp2",t)}function wn(t,n,e){return wt("faceforward",t,n,e)}function yn(t){return pt("floatBitsToInt",t,$(t))}function mn(t){return pt("floatBitsToUint",t,E(t))}function vn(t){return pt("floor",t)}function bn(t){return pt("fract",t)}function In(t){return pt("fwidth",t)}function xn(t){return pt("intBitsToFloat",t,T(t))}function gn(t){return pt("uintBitsToFloat",t,g(t))}function En(t){return pt("inverse",t,j)}function Tn(t){return pt("inversesqrt",t)}function $n(t){return pt("isinf",t,F(t))}function Fn(t){return pt("isnan",t,F(t))}function kn(t){return pt("length",t,j)}function zn(t,n){return dt("lessThan",t,n,F(t))}function Dn(t,n){return dt("lessThanEqual",t,n,F(t))}function Nn(t){return pt("log",t)}function Pn(t){return pt("log2",t)}function qn(t,n){return dt("matrixCompMult",t,n)}function Bn(t,n){return dt("max",t,n)}function Un(t,n){return dt("min",t,n)}function Sn(t,n,e){return wt("mix",t,n,e)}function jn(t,n){return dt("mod",t,n)}function Cn(t,n){throw new Error("modf not implemented")}function Gn(t){return pt("normalize",t)}function Hn(t){return"bool"===t.type?pt("!",t):pt("not",t)}function Mn(t,n){return dt("notEqual",t,n,F(t))}function Rn(t,n){throw new Error("Impl type?")}function An(t){return pt("packHalf2x16",t,M)}function Xn(t){return pt("packUnorm2x16",t,M)}function Yn(t){return pt("packSnorm2x16",t,M)}function _n(t,n){return dt("pow",t,n)}function Jn(t){return pt("radians",t)}function Kn(t,n){return dt("reflect",t,n)}function Ln(t,n,e){return wt("refract",t,n,e)}function On(t){return pt("round",t)}function Qn(t){return pt("roundEven",t)}function Vn(t){return pt("sign",t)}function Wn(t){return pt("sin",t)}function Zn(t){return pt("sinh",t)}function te(t,n,e){return wt("smoothstep",t,n,e)}function ne(t){return pt("sqrt",t)}function ee(t,n){return dt("step",t,n,n.constructor)}function re(t){return pt("tan",t)}function ce(t){return pt("tanh",t)}function ie(t,n,e){throw new Error("Impl type")}function ue(t,n,e,r){throw new Error("Impl type")}function oe(t,n,e){throw new Error("Impl type")}function se(t,n){return dt("texture2D",t,n,H)}function le(t,n,e,r){throw new Error("Impl type")}function he(t,n,e,r,c){throw new Error("Impl type")}function fe(t,n,e){throw new Error("Impl type")}function ae(t,n,e,r){throw new Error("Impl type")}function pe(t,n,e,r){throw new Error("Impl type")}function de(t,n,e){throw new Error("Impl type")}function we(t,n,e,r){throw new Error("Impl type")}function ye(t,n,e,r,c){throw new Error("Impl type")}function me(t,n,e){throw new Error("Impl type")}function ve(t,n,e,r){throw new Error("Impl type")}function be(t,n,e,r){throw new Error("Impl type")}function Ie(t,n){throw new Error("Impl type")}function xe(t){return pt("transpose",t)}function ge(t){return pt("trunc",t)}function Ee(t){return pt("unpackHalf2x16",t,C)}function Te(t){return pt("unpackUnorm2x16",t,C)}function $e(t){return pt("unpackSnorm2x16",t,C)}export{_ as BVec2,J as BVec3,L as BVec4,Y as Bool,U as FixedArray,j as Float,Q as IVec2,V as IVec3,W as IVec4,O as Int,Z as Mat2,tt as Mat3,nt as Mat4,S as Sampler2D,M as UInt,R as UVec2,A as UVec3,X as UVec4,C as Vec2,G as Vec3,H as Vec4,Mt as _or,Xt as abs,Yt as acos,_t as acosh,Ft as add,Jt as all,Rt as and,Kt as any,Lt as asin,Ot as asinh,Qt as atan,Vt as atanh,Nt as bitAnd,Pt as bitOr,Dt as bitRShift,zt as bitShift,qt as bitXor,mt as block,Wt as ceil,Zt as clamp,gt as cond,tn as cos,nn as cosh,en as cross,rn as dFdx,cn as dFdy,ft as definePropertyAccess,un as degrees,on as determinant,sn as distance,$t as divide,ln as dot,Bt as equal,hn as equalComponent,pn as exp,dn as exp2,wn as faceforward,bt as findIndex,ct as float,yn as floatBitsToInt,mn as floatBitsToUint,vn as floor,bn as fract,In as fwidth,k as getTypeElementLengthForType,It as glslFindIndex,Ct as greaterThan,fn as greaterThanComponent,Gt as greaterThanEqual,an as greaterThanEqualComponent,xt as ifElse,rt as int,xn as intBitsToFloat,En as inverse,Tn as inversesqrt,$n as isinf,Fn as isnan,kn as length,St as lessThan,zn as lessThanComponent,jt as lessThanEqual,Dn as lessThanEqualComponent,Nn as log,Pn as log2,st as mat2,lt as mat3,ht as mat4,qn as matrixCompMult,Bn as max,Un as min,Sn as mix,jn as mod,Cn as modf,Tt as multiply,vt as namedScope,yt as negate,Gn as normalize,Hn as not,Ut as notEqual,Mn as notEqualComponent,Ht as or,Rn as outerProduct,An as packHalf2x16,Yn as packSnorm2x16,Xn as packUnorm2x16,_n as pow,Jn as radians,Kn as reflect,Ln as refract,On as round,Qn as roundEven,Vn as sign,Wn as sin,Zn as sinh,te as smoothstep,ne as sqrt,ee as step,kt as subtract,re as tan,ce as tanh,ie as texelFetch,ue as texelFetchOffset,oe as texture,se as texture2D,le as textureGrad,he as textureGradOffset,fe as textureLod,ae as textureLodOffset,pe as textureOffset,de as textureProj,we as textureProjGrad,ye as textureProjGradOffset,me as textureProjLod,ve as textureProjLodOffset,be as textureProjOffset,Ie as textureSize,$ as transformFloatToInt,E as transformFloatToUInt,T as transformIntToFloat,F as transformTypeToBooleanType,g as transformUIntToFloat,xe as transpose,ge as trunc,gn as uintBitsToFloat,Ee as unpackHalf2x16,$e as unpackSnorm2x16,Te as unpackUnorm2x16,it as vec2,ut as vec3,ot as vec4,Et as when};
