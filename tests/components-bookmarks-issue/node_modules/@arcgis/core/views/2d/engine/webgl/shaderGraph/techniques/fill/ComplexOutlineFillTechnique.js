/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{resolveDynamicUniforms as e,getFeatureUniforms as t,getLocalTileOffset as r,getSelectionDefines as s,isHittest as i,getFeaturePipelineState as o}from"../featureTechniqueUtils.js";import{Technique as n}from"../Technique.js";import{getAntialiasingControls as a}from"../line/utils.js";import{meshWriterRegistry as l}from"../mesh/MeshWriterRegistry.js";import{ComplexOutlineFillShader as m}from"../shaders/ComplexOutlineFillShader.js";class u extends n{constructor(){super(...arguments),this.meshWriter=l.ComplexOutlineFillMeshWriter,this.shaders={geometry:new m}}render(n,l){const{context:m,painter:u,pixelRatio:p}=n;u.setShader({shader:this.shaders.geometry,uniforms:{...e(n,l.target,l.instance.getInput().geometry),...t(n,l.target),antialiasingControls:a(p),mosaicInfo:u.textureManager.getMosaicInfo(m,l.textureKey),localTileOffset:r(l.target)},defines:{...s(n)},optionalAttributes:l.instance.optionalAttributes,useComputeBuffer:i(n)}),u.setPipelineState(o(n)),u.submitDraw(m,l)}}export{u as ComplexOutlineFillTechnique};
