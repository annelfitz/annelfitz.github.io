/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{FeatureSymbologyDrawOrder as e}from"../../../enums.js";import{resolveDynamicUniforms as t,getFeatureUniforms as r,getSelectionDefines as s,isHittest as i,getFeaturePipelineState as o}from"../featureTechniqueUtils.js";import{Technique as n}from"../Technique.js";import{getAntialiasingControls as a}from"./utils.js";import{meshWriterRegistry as m}from"../mesh/MeshWriterRegistry.js";import{LineShader as h}from"../shaders/LineShader.js";class p extends n{constructor(){super(...arguments),this.meshWriter=m.LineMeshWriter,this.shaders={geometry:new h},this.symbologyPlane=e.LINE}render(e,n){const{context:m,painter:h,pixelRatio:p}=e;h.setShader({shader:this.shaders.geometry,uniforms:{...t(e,n.target,n.instance.getInput().geometry),...r(e,n.target),antialiasingControls:a(p)},defines:{...s(e)},optionalAttributes:n.instance.optionalAttributes,useComputeBuffer:i(e)}),h.setPipelineState(o(e)),h.submitDraw(m,n)}}export{p as LineTechnique};
