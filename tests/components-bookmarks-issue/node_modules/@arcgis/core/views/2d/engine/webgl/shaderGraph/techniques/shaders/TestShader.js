/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{_ as o,a as t}from"../../../../../../../chunks/tslib.es6.js";import{uniform as e,UniformGroup as r,location as s,GraphShaderModule as l,option as p,define as i,VertexInput as d,FragmentOutput as n,input as a,FragmentInput as v}from"../../GraphShaderModule.js";import{FixedArray as c,Float as y,equal as f,ifElse as u,Int as g,Vec4 as x,and as h,lessThan as m,greaterThan as w,Vec2 as C,Vec3 as b}from"../../graph/glsl.js";class F extends r{}o([e(y)],F.prototype,"zoomLevel",void 0);class j extends r{getColor(o){const t=this.validValues.findIndex((t=>f(t,o)));return u(f(t,new g(-1)),this.colorFallback,this.color)}}o([e(x)],j.prototype,"color",void 0),o([e(x)],j.prototype,"colorFallback",void 0),o([e(c.ofType(y,4))],j.prototype,"validValues",void 0);class k extends d{}o([s(0,C)],k.prototype,"pos",void 0),o([s(1,b)],k.prototype,"id",void 0),o([s(2,y)],k.prototype,"bitset",void 0),o([s(3,C)],k.prototype,"offset",void 0),o([s(4,y)],k.prototype,"size",void 0),o([s(5,x)],k.prototype,"color",void 0);class z extends v{}class D extends l{vertex(o){const{size:t,offset:e,pos:r}=o;let s=o.color;this.dataDrivenColor&&(s=this.dataDrivenColor.getColor(new y(1)));const l=e.multiply(t);return{glPosition:new x(r.add(l),0,1),color:s,offset:e}}fragment(o){const t=new n,{offset:e}=o;return t.discard=h(w(e.x,new y(-.5)),w(e.y,new y(-.5)),m(e.x,new y(.5)),m(e.y,new y(.5))),this.returnRed?t.glFragColor=new x(1,0,0,1):t.glFragColor=o.color,t}}o([p(j)],D.prototype,"dataDrivenColor",void 0),o([e(F)],D.prototype,"view",void 0),o([i],D.prototype,"returnRed",void 0),o([t(0,a(k))],D.prototype,"vertex",null),o([t(0,a(z))],D.prototype,"fragment",null);export{j as DataDrivenColorByValueMatch,D as TestShader};
