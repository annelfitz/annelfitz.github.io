/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{set as t,multiply as s}from"../../../../core/libs/gl-matrix-2/math/mat2d.js";import{create as i}from"../../../../core/libs/gl-matrix-2/factories/mat2df32.js";import{set as r,multiply as e}from"../../../../core/libs/gl-matrix-2/math/mat3.js";import{create as a}from"../../../../core/libs/gl-matrix-2/factories/mat3f32.js";import{tileSize as o}from"./definitions.js";import{TiledDisplayObject as m}from"./TiledDisplayObject.js";class l extends m{constructor(t,s,i,r){super(t,s,i,r,o,o)}destroy(){super.destroy()}setTransform(a){const o=this.resolution/a.resolution,m=this.transforms.tileMat3,[l,n]=a.toScreenNoRotation([0,0],[this.x,this.y]),c=this.width/this.rangeX*o,d=this.height/this.rangeY*o;r(m,c,0,0,0,d,0,l,n,1),e(this.transforms.displayViewScreenMat3,a.displayViewMat3,m);const f=this.transforms.labelMat2d,h=window.devicePixelRatio,p=t(i(),c*h,0,0,d*h,l*h,n*h);s(f,a.viewMat2d,p)}_createTransforms(){return{labelMat2d:i(),tileMat3:a(),displayViewScreenMat3:a()}}}export{l as AFeatureTile};
