/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{sqlAnd as e}from"../../../../../core/sql.js";function t(t,i,o,n,r){const s=null!=i.subtypeCode?`${i.subtypeField} = ${i.subtypeCode}`:null,a=e(i.definitionExpression,s),l=i.customParameters??{};return r&&(l.token=r),{type:"feature",mutable:{sourceRefreshVersion:n,availableFields:o.availableFields,dataFilter:{queryScaleRanges:i.queryScaleRanges??[],definitionExpression:a,gdbVersion:i.gdbVersion,historicMoment:i.historicMoment?.getTime(),outSpatialReference:o.outSpatialReference.toJSON(),timeExtent:i.timeExtent?.toJSON(),customParameters:l}},service:t,tileInfoJSON:o.tileInfoJSON}}export{t as createFeatureSourceSchema};
