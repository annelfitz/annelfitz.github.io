/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import e from"../../../../../core/Error.js";import r from"../../../../../core/Logger.js";import{parseWhereClause as t}from"../../../../../core/sql.js";const a=()=>r.getLogger("esri.views.2d.layers.features.support.whereUtils"),n={getAttribute:(e,r)=>e.readAttribute(r)};async function o(r,o){try{const s=await t(r,o);if(!s.isStandardized){const r=new e("mapview - bad input","Unable to apply filter's definition expression, as expression is not standardized.",s);a().error(r)}return e=>{const t=e.readArcadeFeature();try{return s.testFeature(t,n)}catch(o){return a().warn("mapview-bad-where-clause","Encountered an error when evaluating where clause",r),!0}}}catch(s){return a().warn("mapview-bad-where-clause","Encountered an error when evaluating where clause",r),e=>!0}}export{o as createWhereClause};
