/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import e from"../../../../Color.js";import{watch as t}from"../../../../core/reactiveUtils.js";import{getObserverRGBA as o,observerConfiguration as r,targetConfiguration as i}from"./LineOfSightConfiguration.js";import{Manipulator3D as s}from"../../interactive/Manipulator3D.js";import{createManipulatorMaterial as n}from"../../interactive/manipulatorUtils.js";import{RenderObject as m}from"../../interactive/RenderObject.js";import{disableDisplayOnGrab as a}from"../../interactive/editingTools/manipulatorUtils.js";import{createSphereGeometry as c}from"../../webgl-engine/lib/GeometryUtil.js";import{ManipulatorStateCustomFlags as l}from"../../../interactive/interfaces.js";class f extends s{constructor(e,i){const s=n(o(e.effectiveTheme)),l=c(s,r.size,32,32),f=new m(l);super({view:e,renderObjects:[f],metadata:i,elevationInfo:{mode:"absolute-height",offset:0}}),a(this),this.themeHandle=t((()=>({color:o(e.effectiveTheme)})),(e=>{s.setParameters(e)}))}destroy(){this.themeHandle.remove(),super.destroy()}}class d extends s{constructor(e,t){const{size:o,visibleColor:r,occludedColor:s,undefinedColor:n}=i;super({view:e,renderObjects:[u(o,r,l.Custom1),u(o,s,l.Custom2),u(o,n,l.Custom3)],metadata:t,elevationInfo:{mode:"absolute-height",offset:0}}),a(this)}}function u(t,o,r){return new m(c(n(e.toUnitRGBA(o)),t,32,32),r)}export{f as LineOfSightObserverManipulator,d as LineOfSightTargetManipulator};
