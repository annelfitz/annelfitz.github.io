/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{C as s}from"../../../../chunks/Compositing.glsl.js";import{CompositingTechnique as t}from"../shaders/CompositingTechnique.js";import{CompositingTechniqueConfiguration as e,AlphaMode as i}from"../shaders/CompositingTechniqueConfiguration.js";import{H as r}from"../../../../chunks/HUDCompositing.glsl.js";import{HUDCompositingTechnique as o}from"../shaders/HUDCompositingTechnique.js";import{O as a}from"../../../../chunks/OITCompositing.glsl.js";import{OITCompositingTechnique as h}from"../shaders/OITCompositingTechnique.js";class n{constructor(t,i){this._rctx=t,this._techniqueRepository=i,this._configuration=new e,this._passParameters=new s,this._oitParameters=new a,this._hudParameters=new r}compositeOIT(s,t,e,i){this._oitParameters.colorTexture=t,this._oitParameters.alphaTexture=e,this._oitParameters.frontFaceTexture=i;const r=this._techniqueRepository.acquire(h);this._rctx.bindTechnique(r,s,this._oitParameters),this._rctx.screen.draw(),r.release()}compositeHUD(s,t){this._hudParameters.texture=t;const e=this._techniqueRepository.acquire(o);this._rctx.bindTechnique(e,s,this._hudParameters),this._rctx.screen.draw(),e.release()}composite(s,e,r=i.None,o=1){this._configuration.alphaMode=r,this._configuration.hasOpacityFactor=1!==o,this._passParameters.texture=e,this._passParameters.opacity=o;const a=this._techniqueRepository.acquire(t,this._configuration);this._rctx.bindTechnique(a,s,this._passParameters),this._rctx.screen.draw(),a.release()}}export{n as default};
