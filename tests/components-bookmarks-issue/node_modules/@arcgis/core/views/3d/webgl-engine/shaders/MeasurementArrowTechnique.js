/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{_ as e}from"../../../../chunks/tslib.es6.js";import{ReloadableShaderModule as r}from"../core/shaderTechnique/ReloadableShaderModule.js";import{ShaderTechnique as t}from"../core/shaderTechnique/ShaderTechnique.js";import{parameter as n}from"../core/shaderTechnique/ShaderTechniqueConfiguration.js";import{blendingDefault as o,oitBlending as s}from"../lib/OrderIndependentTransparency.js";import{Program as i}from"../lib/Program.js";import{TransparencyPassType as a}from"../lib/TransparencyPassType.js";import{VertexAttribute as p}from"../lib/VertexAttribute.js";import{DefaultTechniqueConfiguration as l}from"../materials/DefaultTechniqueConfiguration.js";import{M as u}from"../../../../chunks/MeasurementArrow.glsl.js";import{CompareFunction as c,PrimitiveType as m}from"../../../webgl/enums.js";import{makePipelineState as f,defaultDepthWriteParams as d,defaultColorWriteParams as h}from"../../../webgl/renderState.js";class g extends t{constructor(e,r,t){super(e,r,t)}initializeProgram(e){return new i(e.rctx,g.shader.get().build(this.configuration),y)}_setPipelineState(e){const r=e===a.NONE,t=this.configuration;return f({blending:t.transparent?r?o:s(e):null,polygonOffset:this.configuration.polygonOffsetEnabled?{factor:0,units:-4}:null,depthTest:{func:c.LESS},depthWrite:d,colorWrite:h})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}get primitiveType(){return m.TRIANGLE_STRIP}}g.shader=new r(u,(()=>import("./MeasurementArrow.glsl.js")));class T extends l{constructor(){super(...arguments),this.polygonOffsetEnabled=!1,this.transparent=!1,this.transparencyPassType=a.NONE}}e([n()],T.prototype,"polygonOffsetEnabled",void 0),e([n()],T.prototype,"transparent",void 0),e([n({count:a.COUNT})],T.prototype,"transparencyPassType",void 0);const y=new Map([[p.POSITION,0],[p.NORMAL,1],[p.UV0,2],[p.LENGTH,3]]);export{y as MeasurementArrowAttributeLocations,g as MeasurementArrowTechnique,T as MeasurementArrowTechniqueConfiguration};
