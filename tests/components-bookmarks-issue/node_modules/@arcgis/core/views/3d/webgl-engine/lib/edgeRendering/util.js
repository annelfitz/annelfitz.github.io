/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{Transparency as e}from"./interfaces.js";import{EdgeType as t}from"../../shaders/sources/edgeRenderer/EdgeUtil.glsl.js";function r(e){let r;for(const o of e){const e=o.type;if(c(o))if(null==r)r=e;else if(r!==e)return t.Mixed}return r??t.Mixed}function o(t){let r=e.INVISIBLE;for(const{material:o}of t)if(i(o)){if(o.color[3]*o.opacity<1)return e.TRANSPARENT;r=e.OPAQUE}return r}function n(t){let r=e.INVISIBLE;for(const{material:o}of t)if(i(o)){switch(o.objectTransparency){case e.TRANSPARENT:case e.INVISIBLE:return e.TRANSPARENT;case e.OPAQUE:if(o.opacity<1)return e.TRANSPARENT}r=e.OPAQUE}return r}function i(e){return e.size*e.color[3]*e.opacity>0}function c(e){return e.size*e.color[3]>0}function f(e,t,r,o){for(let n=0;n<e.length;n++){const i=e[n].index,c=t[n],f=t[n+1];if(o)for(let e=c;e<f;e++){const t=o[e];r.set(t,i)}else for(let e=c;e<f;e++)r.set(e,i)}}export{o as determineEdgeTransparency,n as determineObjectTransparency,r as determineRendererType,f as fillComponentBufferIndices};
