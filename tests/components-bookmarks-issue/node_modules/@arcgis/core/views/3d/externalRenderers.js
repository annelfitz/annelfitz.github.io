/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{create as e}from"../../core/libs/gl-matrix-2/factories/mat4f64.js";import{computeTranslationToOriginAndRotation as r}from"../../geometry/projection/computeTranslationToOriginAndRotation.js";import{projectBuffer as n}from"../../geometry/projection/projectBuffer.js";import{ExternalRendererStore as t}from"./webgl/ExternalRendererStore.js";const o=new t;function i(e,r){o.add(e,r)}function s(e,r){o.remove(e,r)}function a(e){e._stage.renderView.requestRender()}function d(e,r,t,o,i,s,a){return o=o||e.spatialReference,n(r,o,t,i,e.renderCoordsHelper.spatialReference,s,a)?i:null}function f(e,r,t,o,i,s,a){return s=s||e.spatialReference,n(r,e.renderCoordsHelper.spatialReference,t,o,s,i,a)?o:null}function c(n,t,o,i){return i||(i=e()),o=o||n.spatialReference,r(o,t,i,n.renderCoordsHelper.spatialReference)?i:null}function l(e){return e.state.camera.clone()}function u(e){return{add:i.bind(this,e),remove:s.bind(this,e),requestRender:a.bind(this,e),toRenderCoordinates:d.bind(this,e),fromRenderCoordinates:f.bind(this,e),renderCoordinateTransformAt:c.bind(this,e)}}export{i as add,u as bind,f as fromRenderCoordinates,l as getRenderCamera,s as remove,c as renderCoordinateTransformAt,a as requestRender,d as toRenderCoordinates};
