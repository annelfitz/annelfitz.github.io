/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{NestedMap as e}from"../../../core/NestedMap.js";import{ExternalRenderNode as r}from"./ExternalRenderNode.js";class n{constructor(){this._renderers=new e}add(e,n){const s={view:e,setup:"function"==typeof n.setup?e=>n.setup(e):null,dispose:"function"==typeof n.dispose?e=>n.dispose(e):null};"function"==typeof n.render&&(this._renderers.set(e,n,new r({...s,renderFunc:e=>n.render(e),produces:"opaque-color"})),s.setup=s.dispose=null),"function"==typeof n.renderTransparent&&this._renderers.set(e,n,new r({...s,renderFunc:e=>n.renderTransparent(e),produces:"transparent-color"}))}remove(e,r){const n=this._renderers.get(e,r);n&&(this._renderers.delete(e,r),n.destroy())}}export{n as ExternalRendererStore};
