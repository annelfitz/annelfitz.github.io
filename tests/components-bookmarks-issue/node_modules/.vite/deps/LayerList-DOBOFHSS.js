import {
  y as y2
} from "./chunk-THQ2DNZA.js";
import {
  L
} from "./chunk-3RT7534N.js";
import {
  N,
  b,
  d,
  e as e5,
  g,
  i,
  l,
  p,
  q,
  r as r2,
  t as t2
} from "./chunk-R5A6POKY.js";
import {
  n as n3,
  t
} from "./chunk-S3ISUHOZ.js";
import "./chunk-4ZRUV2JM.js";
import {
  e as e4
} from "./chunk-D5LHX57G.js";
import "./chunk-CDYT7KXF.js";
import {
  e as e3
} from "./chunk-EAAEPSBY.js";
import {
  s as s2
} from "./chunk-5IT6RVBX.js";
import "./chunk-X2GCSX3A.js";
import {
  s
} from "./chunk-QX66UTIR.js";
import "./chunk-CXNX736Z.js";
import {
  D,
  e2,
  r
} from "./chunk-RGCWZ2KZ.js";
import {
  n as n2
} from "./chunk-5VMSFOCB.js";
import "./chunk-LGQXPGTM.js";
import "./chunk-2SDMYJDE.js";
import "./chunk-TPLOIZC7.js";
import "./chunk-C62RZQQX.js";
import "./chunk-6Z6C6JVV.js";
import "./chunk-QLL2YG25.js";
import "./chunk-Z2PDA67N.js";
import "./chunk-NIDZ6R4E.js";
import "./chunk-IOB3DJMR.js";
import "./chunk-BPRXWDBO.js";
import "./chunk-7MT4ACA4.js";
import "./chunk-RUN6MNXL.js";
import "./chunk-SAYWXQVM.js";
import "./chunk-SBL4URUW.js";
import "./chunk-Z4Y53NDM.js";
import {
  V
} from "./chunk-PVUNFEWX.js";
import "./chunk-TXBMNSNF.js";
import "./chunk-BVQWKK2V.js";
import "./chunk-D25BO7X7.js";
import {
  S,
  o,
  y2 as y
} from "./chunk-NDIXNREV.js";
import {
  a3 as a
} from "./chunk-I2RC5KWA.js";
import "./chunk-SSFWZSUM.js";
import {
  e
} from "./chunk-2F6FFF5T.js";
import "./chunk-C26KUZ46.js";
import "./chunk-JGDJR5EV.js";
import "./chunk-QHK5ZYFW.js";
import "./chunk-L65HKN25.js";
import {
  n2 as n
} from "./chunk-7RBRCL6S.js";
import "./chunk-J2EGIWT6.js";
import "./chunk-MDRC3XUT.js";
import "./chunk-NCF6OYL5.js";
import "./chunk-Z4ZPL3B3.js";

// node_modules/@arcgis/core/widgets/LayerList/css.js
var t3 = "esri-layer-list";
var e6 = `${t3}__item`;
var i2 = { base: t3, filterNoResults: `${t3}__filter-no-results`, item: e6, itemActive: `${e6}--active`, itemContent: `${e6}-content`, itemContentBottom: `${e6}-content-bottom`, itemMessage: `${e6}-message`, itemInvisibleAtScale: `${e6}--invisible-at-scale`, itemActionIcon: `${e6}-action-icon`, itemActionImage: `${e6}-action-image`, itemTemporaryIcon: `${e6}-temporary-icon`, statusIndicator: `${t3}__status-indicator`, publishing: `${t3}__publishing`, updating: `${t3}__updating`, connectionStatus: `${t3}__connection-status`, connectionStatusConnected: `${t3}__connection-status--connected`, visibleToggle: `${t3}__visible-toggle`, visibleIcon: `${t3}__visible-icon` };

// node_modules/@arcgis/core/widgets/LayerList/LayerListVisibleElements.js
var s3 = class extends S {
  constructor() {
    super(...arguments), this.closeButton = false, this.collapseButton = false, this.errors = false, this.filter = false, this.flow = true, this.heading = false, this.statusIndicators = true, this.temporaryLayerIndicators = false;
  }
};
e([y({ type: Boolean, nonNullable: true })], s3.prototype, "closeButton", void 0), e([y({ type: Boolean, nonNullable: true })], s3.prototype, "collapseButton", void 0), e([y({ type: Boolean, nonNullable: true })], s3.prototype, "errors", void 0), e([y({ type: Boolean, nonNullable: true })], s3.prototype, "filter", void 0), e([y({ type: Boolean, nonNullable: true })], s3.prototype, "flow", void 0), e([y({ type: Boolean, nonNullable: true })], s3.prototype, "heading", void 0), e([y({ type: Boolean, nonNullable: true })], s3.prototype, "statusIndicators", void 0), e([y({ type: Boolean, nonNullable: true })], s3.prototype, "temporaryLayerIndicators", void 0), s3 = e([a("esri.widgets.LayerList.LayerListVisibleElements")], s3);
var l2 = s3;

// node_modules/@arcgis/core/widgets/LayerList.js
var j = V.ofType(L);
var x = class extends s(D) {
  constructor(e7, t4) {
    super(e7, t4), this._activeItem = null, this._tooltipReferenceMap = new s2(), this._focusRootFlowItem = false, this._focusPanelFlowItem = false, this._lastDragDetail = null, this._selectedDragItemLayerUid = null, this._rootGroupUid = `operational-${this.uid}`, this.collapsed = false, this.dragEnabled = false, this.filterPlaceholder = "", this.filterText = "", this.headingLevel = 2, this.listItemCanGiveFunction = null, this.listItemCanReceiveFunction = null, this.messages = null, this.messagesCommon = null, this.minDragEnabledItems = e5, this.minFilterItems = i, this.selectedItems = new j(), this.selectionMode = "none", this.viewModel = new y2(), this.visibilityAppearance = "default", this.visibleElements = new l2(), this._canMove = ({ dragEl: e8, fromEl: t5, toEl: i3 }, o2) => {
      var _a, _b, _c;
      const s4 = "pull" === o2 ? this.listItemCanGiveFunction : this.listItemCanReceiveFunction, n4 = N(e8);
      if (!(n4 == null ? void 0 : n4.sortable))
        return false;
      const l3 = N(t5), r3 = g(t5), a2 = N(i3), c = g(i3), d2 = !!r3 && !!c && r3 === c, m = { selected: n4, from: l3, to: a2 }, p2 = t5.group, u = i3.group;
      return p2 && u && "function" == typeof s4 ? s4.call(null, m) : d2 && "sublayer" !== ((_a = n4 == null ? void 0 : n4.layer) == null ? void 0 : _a.type) && "map-image" !== ((_b = l3 == null ? void 0 : l3.layer) == null ? void 0 : _b.type) && "map-image" !== ((_c = a2 == null ? void 0 : a2.layer) == null ? void 0 : _c.type);
    }, this._clearActiveItem = () => {
      this._activeItem = null;
    }, this._setActiveItem = (e8) => {
      if ("default" !== this.visibilityAppearance)
        return;
      const t5 = Array.from(e8.composedPath()).find((e9) => {
        var _a;
        return (_a = e9.classList) == null ? void 0 : _a.contains(i2.item);
      });
      this._activeItem = N(t5);
    }, this._onCalciteListOrderChange = (e8) => {
      const { _lastDragDetail: t5 } = this, { toEl: i3, fromEl: o2, dragEl: s4, newIndex: n4 } = e8;
      if (o2 && i3 && !((t5 == null ? void 0 : t5.newIndex) === n4 && (t5 == null ? void 0 : t5.dragEl) === s4 && (t5 == null ? void 0 : t5.toEl) === i3 && (t5 == null ? void 0 : t5.fromEl) === o2))
        if (this._lastDragDetail = e8, o2 !== i3)
          this._moveLayerFromChildList({ toEl: i3, fromEl: o2, dragEl: s4, newIndex: n4 });
        else {
          const e9 = Array.from(o2.children).filter((e10) => e10 == null ? void 0 : e10.matches("calcite-list-item")).map((e10) => e10.value);
          this._sortLayers(o2, e9);
        }
    };
  }
  loadDependencies() {
    return r({ action: () => import("./calcite-action-P2CTRNG2.js"), "action-group": () => import("./calcite-action-group-COKFT2E7.js"), "action-menu": () => import("./calcite-action-menu-43IE6S65.js"), button: () => import("./calcite-button-V4T5NPWY.js"), flow: () => import("./calcite-flow-S3IMKQD6.js"), "flow-item": () => import("./calcite-flow-item-BUZXXDGT.js"), icon: () => import("./calcite-icon-25XWA6H7.js"), list: () => import("./calcite-list-CC3BA3BY.js"), "list-item": () => import("./calcite-list-item-K4SMX7ZK.js"), notice: () => import("./calcite-notice-Q2MN4Y4I.js"), tooltip: () => import("./calcite-tooltip-TDDUGVK4.js") });
  }
  destroy() {
    this._tooltipReferenceMap.clear();
  }
  get _dragEnabled() {
    return this.viewModel.totalItems >= this.minDragEnabledItems && this.dragEnabled;
  }
  get _filterEnabled() {
    return this.viewModel.totalItems >= this.minFilterItems && this.visibleElements.filter;
  }
  get icon() {
    return "layers";
  }
  set icon(e7) {
    this._overrideIfSome("icon", e7);
  }
  get label() {
    var _a;
    return ((_a = this.messages) == null ? void 0 : _a.widgetLabel) ?? "";
  }
  set label(e7) {
    this._overrideIfSome("label", e7);
  }
  get listItemCreatedFunction() {
    return this.viewModel.listItemCreatedFunction;
  }
  set listItemCreatedFunction(e7) {
    this.viewModel.listItemCreatedFunction = e7;
  }
  get multipleSelectionEnabled() {
    return o(n.getLogger(this), "multipleSelectionEnabled", { replacement: "selectionMode", version: "4.29", warnOnce: true }), "multiple" === this.selectionMode;
  }
  set multipleSelectionEnabled(e7) {
    o(n.getLogger(this), "multipleSelectionEnabled", { replacement: "selectionMode", version: "4.29", warnOnce: true }), this.selectionMode = e7 ? "multiple" : this.selectionEnabled ? "single" : "none";
  }
  get operationalItems() {
    return this.viewModel.operationalItems;
  }
  set operationalItems(e7) {
    this.viewModel.operationalItems = e7;
  }
  get selectionEnabled() {
    return o(n.getLogger(this), "selectionEnabled", { replacement: "selectionMode, dragEnabled", version: "4.29", warnOnce: true }), "none" !== this.selectionMode && this.dragEnabled;
  }
  set selectionEnabled(e7) {
    o(n.getLogger(this), "selectionEnabled", { replacement: "selectionMode, dragEnabled", version: "4.29", warnOnce: true }), this.dragEnabled = e7, this.selectionMode = e7 ? this.multipleSelectionEnabled ? "multiple" : "single" : "none";
  }
  get view() {
    return this.viewModel.view;
  }
  set view(e7) {
    this.viewModel.view = e7;
  }
  triggerAction(e7, t4) {
    return this.viewModel.triggerAction(e7, t4);
  }
  render() {
    var _a, _b;
    const e7 = (_a = this.viewModel) == null ? void 0 : _a.state, t4 = { [e3.hidden]: "loading" === e7, [e3.disabled]: "disabled" === e7 }, i3 = (_b = this.operationalItems) == null ? void 0 : _b.filter((e8) => !e8.hidden && (this.visibleElements.errors || !e8.error));
    return n2("div", { class: this.classes(i2.base, e3.widget, e3.panel, t4) }, (i3 == null ? void 0 : i3.length) ? [this._renderItemTooltips(i3), this._renderItems(i3)] : this._renderNoItems());
  }
  _renderItemTooltip(e7) {
    const { _tooltipReferenceMap: t4, messages: i3 } = this;
    return e7 ? n2("calcite-tooltip", { key: `tooltip-${e7.layer.uid}`, referenceElement: t4.get(e7.layer.uid) }, i3.layerIncompatibleTooltip) : null;
  }
  _renderItemTooltipNodes(e7) {
    var _a;
    return e7.incompatible ? this._renderItemTooltip(e7) : (_a = e7.children) == null ? void 0 : _a.filter((e8) => !e8.hidden).toArray().map((e8) => this._renderItemTooltipNodes(e8));
  }
  _renderItemTooltips(e7) {
    return e7 == null ? void 0 : e7.toArray().map((e8) => this._renderItemTooltipNodes(e8));
  }
  _renderNoItemsMessage() {
    return n2("div", { slot: "message" }, this.messages.noItemsToDisplay);
  }
  _renderNoItems() {
    return n2("div", { class: i2.itemMessage, key: "esri-layer-list__no-items" }, n2("calcite-notice", { icon: "information", kind: "info", open: true, width: "full" }, this._renderNoItemsMessage()));
  }
  _renderPanelFlowItems(e7) {
    return e7 ? e7.flatten((e8) => e8.children).filter((e8) => !e8.hidden).toArray().filter(({ panel: e8 }) => (e8 == null ? void 0 : e8.open) && !e8.disabled && e8.flowEnabled).map(({ title: e8, panel: t4 }) => {
      const i3 = () => this._handlePanelFlowItemBack(t4);
      return n2("calcite-flow-item", { afterCreate: this._focusPanelFlowItemNode, afterUpdate: this._focusPanelFlowItemNode, bind: this, description: e8, heading: t4.title, headingLevel: this.headingLevel, key: `flow-panel-${t4.uid}`, onCalciteFlowItemBack: (e9) => {
        e9.preventDefault(), i3();
      } }, t4.render(), n2("calcite-button", { appearance: "transparent", onclick: i3, slot: "footer-actions", width: "full" }, this.messagesCommon.back));
    }) : [];
  }
  _handlePanelFlowItemBack(e7) {
    e7.open = false, this._focusRootFlowItem = true;
  }
  _focusRootFlowItemNode(e7) {
    this._focusRootFlowItem && (this._focusRootFlowItem = false, requestAnimationFrame(() => e7 == null ? void 0 : e7.setFocus()));
  }
  _focusPanelFlowItemNode(e7) {
    this._focusPanelFlowItem && (this._focusPanelFlowItem = false, requestAnimationFrame(() => e7 == null ? void 0 : e7.setFocus()));
  }
  _renderItems(e7) {
    const { visible: t4, collapsed: i3, _filterEnabled: o2, _rootGroupUid: s4, visibleElements: { closeButton: n4, collapseButton: l3, heading: r3, flow: a2 }, _dragEnabled: c, selectionMode: d2, filterText: p2, filterPlaceholder: u, messages: h } = this, g2 = [n2("calcite-flow-item", { afterCreate: this._focusRootFlowItemNode, afterUpdate: this._focusRootFlowItemNode, bind: this, closable: n4, closed: !t4, collapsed: i3, collapsible: l3, heading: r3 ? h.widgetLabel : void 0, headingLevel: this.headingLevel, key: "root-flow-item", onCalciteFlowItemClose: () => this.visible = false }, n2("calcite-list", { afterCreate: (e8) => {
      e8.addEventListener("focusin", this._setActiveItem), e8.addEventListener("focusout", this._clearActiveItem);
    }, afterRemoved: (e8) => {
      e8.removeEventListener("focusin", this._setActiveItem), e8.removeEventListener("focusout", this._clearActiveItem);
    }, canPull: (e8) => this._canMove(e8, "pull"), canPut: (e8) => this._canMove(e8, "put"), "data-layer-type": s4, dragEnabled: c, filterEnabled: o2, filterPlaceholder: u, filterText: o2 ? p2 : "", group: s4, key: "root-list", label: h.widgetLabel, onmouseleave: this._clearActiveItem, onmouseover: this._setActiveItem, selectionAppearance: "border", selectionMode: d2, onCalciteListChange: (e8) => this._handleCalciteListChange(e8), onCalciteListDragEnd: (e8) => this._handleCalciteListDragEnd(e8.detail), onCalciteListFilter: (e8) => {
      var _a;
      return this.filterText = ((_a = e8.target) == null ? void 0 : _a.filterText) ?? "";
    }, onCalciteListOrderChange: (e8) => this._onCalciteListOrderChange(e8.detail) }, e7 == null ? void 0 : e7.toArray().map((e8) => this._renderItem(e8)), (e7 == null ? void 0 : e7.length) && o2 ? n2("div", { class: i2.filterNoResults, slot: "filter-no-results" }, n2("calcite-notice", { kind: "info", open: true, width: "full" }, this._renderNoItemsMessage())) : null)), this._renderPanelFlowItems(e7)];
    return t4 ? a2 ? n2("calcite-flow", { key: "root-flow" }, g2) : g2 : null;
  }
  _renderChildList(e7, t4 = []) {
    var _a;
    const { _dragEnabled: i3, _rootGroupUid: o2 } = this, { children: s4 } = e7, n4 = q(e7), l3 = !l(e7.layer) && !n4 && i3 && "group" === ((_a = e7.layer) == null ? void 0 : _a.type);
    return n4 || l3 ? n2("calcite-list", { canPull: (e8) => this._canMove(e8, "pull"), canPut: (e8) => this._canMove(e8, "put"), "data-item": e7, "data-layer-type": o2, dragEnabled: !!i3 && (e7.childrenSortable && d(e7)), group: `${o2}-${e7.layer.uid}` }, s4 == null ? void 0 : s4.filter((e8) => !e8.hidden).toArray().map((i4) => this._renderItem(i4, e7, [...t4, e7.title]))) : null;
  }
  _renderItemMessage(e7) {
    return e7.error ? n2("div", { class: i2.itemMessage, key: "esri-layer-list__error", slot: "content-bottom" }, n2("calcite-notice", { icon: "exclamation-mark-triangle", kind: "warning", open: true, scale: "s", width: "full" }, n2("div", { slot: "message" }, this.messages.layerError))) : e7.incompatible ? n2("div", { class: i2.itemMessage, key: "esri-layer-list__incompatible", slot: "content-bottom" }, n2("calcite-notice", { afterCreate: (t4) => this._setTooltipReference(t4, e7), afterRemoved: () => this._removeTooltipReference(e7), bind: this, icon: "exclamation-mark-triangle", kind: "warning", open: true, scale: "s", tabIndex: 0, width: "full" }, n2("div", { slot: "message" }, this.messages.layerIncompatible))) : null;
  }
  _renderItem(e7, t4, i3) {
    const { _activeItem: o2, _selectedDragItemLayerUid: s4, selectionMode: n4, selectedItems: l3, messages: r3 } = this, a2 = e7.title || r3.untitledLayer, c = e7.visibleAtCurrentScale ? a2 : `${a2} (${r3.layerInvisibleAtScale})`, d2 = this._filterActions(e7.actionsSections), p2 = this._countActions(d2);
    return n2("calcite-list-item", { afterCreate: (t5) => this._focusSelectedDragEl(t5, e7), afterUpdate: (t5) => this._focusSelectedDragEl(t5, e7), class: this.classes(i2.item, { [i2.itemActive]: o2 === e7 }), "data-item": e7, dragDisabled: !e7.sortable, dragSelected: e7.layer.uid === s4, id: e7.layer.uid, key: `list-item-${e7.layer.uid}`, label: a2, metadata: { parentTitles: i3, title: a2 }, open: e7.open, selected: "none" !== n4 && l3.includes(e7), title: c, value: e7.layer.uid, onCalciteListItemDragHandleChange: (t5) => this._handleCalciteListItemDragHandleChange(t5, e7), onCalciteListItemSelect: (i4) => this._handleCalciteListItemSelect(i4, e7, t4), onCalciteListItemToggle: (t5) => this._handleCalciteListItemToggle(t5, e7) }, n2("div", { class: this.classes({ [i2.itemContent]: true, [i2.itemInvisibleAtScale]: !e7.visibleAtCurrentScale }), slot: "content" }, a2), this._renderItemStatus(e7, t4), this._renderItemToggle(e7, t4), this._renderItemTemporaryIcon(e7), this._renderChildList(e7, i3), this._renderItemMessage(e7), this._renderPanel(e7.panel), this._renderPanelAction(e7.panel), p2 > 1 ? this._renderActionsSections(e7, d2) : 1 === p2 ? this._renderAction({ item: e7, action: this._getSingleActionButton(d2), textEnabled: false }) : null);
  }
  _renderItemStatus(e7, t4) {
    const { visibleElements: i3 } = this;
    if (!i3.statusIndicators)
      return null;
    const { connectionStatus: o2, publishing: s4, updating: n4 } = e7, l3 = n4 && !t4, r3 = !!o2;
    return n2("calcite-icon", { class: this.classes({ [i2.statusIndicator]: true, [i2.publishing]: s4, [i2.updating]: l3, [i2.connectionStatus]: r3, [i2.connectionStatusConnected]: r3 && "connected" === o2 }), icon: r2({ connectionStatus: o2, publishing: s4 }), key: "layer-item-status", scale: "s", slot: "actions-end" });
  }
  _renderItemTemporaryIcon(e7) {
    return this.visibleElements.temporaryLayerIndicators && "persistenceEnabled" in e7.layer && !e7.layer.persistenceEnabled ? n2("calcite-icon", { class: i2.itemTemporaryIcon, icon: "temporary", key: "temporary-icon", scale: "s", slot: "actions-start", title: this.messages.temporary }) : null;
  }
  _renderItemToggle(e7, t4) {
    const { messages: i3, visibilityAppearance: o2 } = this, { visible: s4 } = e7, n4 = t4 == null ? void 0 : t4.visibilityMode;
    if ("inherited" === n4)
      return null;
    const l3 = t2({ visible: s4, exclusive: "exclusive" === n4, visibilityAppearance: o2 }), r3 = "checkbox" === o2, a2 = i3.layerVisibility;
    return n2("calcite-action", { appearance: "transparent", class: i2.visibleToggle, icon: r3 ? l3 : void 0, key: "visibility-toggle", onclick: () => this._toggleVisibility(e7, t4), scale: "s", slot: r3 ? "actions-start" : "actions-end", text: a2, title: a2 }, r3 ? null : n2("calcite-icon", { class: this.classes({ [i2.visibleIcon]: "exclusive" !== n4 && s4 }), icon: l3, scale: "s" }));
  }
  _renderPanel(e7) {
    return !(e7 == null ? void 0 : e7.open) || e7.disabled || e7.flowEnabled ? null : n2("div", { class: i2.itemContentBottom, key: `content-panel-${e7.uid}`, slot: "content-bottom" }, e7.render());
  }
  _renderPanelAction(e7) {
    if (!(e7 == null ? void 0 : e7.visible))
      return null;
    const { open: t4, title: i3, disabled: o2 } = e7;
    return n2("calcite-action", { active: t4, appearance: "transparent", disabled: o2, icon: t(e7), key: `action-${e7.uid}`, onclick: () => this._togglePanel(e7), scale: "s", slot: "actions-end", text: i3 ?? "", title: i3 ?? void 0 }, this._renderFallbackIcon(e7));
  }
  _renderActionsSections(e7, t4) {
    const i3 = this.messagesCommon.options;
    return n2("calcite-action-menu", { appearance: "transparent", key: "item-action-menu", label: this.messagesCommon.menu, open: e7.actionsOpen, overlayPositioning: "fixed", placement: "bottom-end", scale: "s", slot: "actions-end", onCalciteActionMenuOpen: (t5) => e7.actionsOpen = t5.target.open }, n2("calcite-action", { appearance: "transparent", icon: "ellipsis", scale: "s", slot: "trigger", text: i3, title: i3 }), t4.toArray().map((t5, i4) => this._renderActionSection(e7, t5, i4)));
  }
  _renderActionSection(e7, t4, i3) {
    return n2("calcite-action-group", { key: `action-section-${i3}` }, t4.toArray().map((t5) => this._renderAction({ item: e7, action: t5, textEnabled: true })));
  }
  _renderFallbackIcon(e7) {
    const { className: t4, icon: i3 } = e7;
    if (i3)
      return null;
    const o2 = "image" in e7 ? e7.image : void 0, s4 = { [i2.itemActionIcon]: !!t4, [i2.itemActionImage]: !!o2 };
    return t4 && (s4[t4] = true), o2 || t4 ? n2("span", { "aria-hidden": "true", class: this.classes(i2.itemActionIcon, s4), key: "icon", styles: n3(o2) }) : null;
  }
  _renderAction(e7) {
    const { item: t4, action: i3, textEnabled: o2 } = e7;
    if (!i3)
      return null;
    const { active: s4, disabled: n4, title: l3, type: r3, indicator: c } = i3;
    return n2("calcite-action", { active: "toggle" === r3 && i3.value, appearance: "transparent", disabled: n4, icon: t(i3), indicator: c, key: `action-${i3.uid}`, loading: s4, onclick: () => this._triggerAction(t4, i3), scale: "s", slot: o2 ? void 0 : "actions-end", text: l3 ?? "", textEnabled: o2, title: l3 ?? void 0 }, this._renderFallbackIcon(i3));
  }
  _setTooltipReference(e7, t4) {
    this._tooltipReferenceMap.set(t4.layer.uid, e7);
  }
  _removeTooltipReference(e7) {
    this._tooltipReferenceMap.delete(e7.layer.uid);
  }
  _moveLayerFromChildList({ toEl: e7, fromEl: t4, dragEl: i3, newIndex: o2 }) {
    const s4 = N(i3), n4 = N(e7), l3 = N(t4);
    this.viewModel.moveListItem(s4, l3, n4, o2);
  }
  _handleCalciteListDragEnd(e7) {
    const { fromEl: t4, dragEl: i3, oldIndex: o2 } = e7;
    t4.insertBefore(i3, t4.children[o2]);
  }
  _sortLayers(e7, t4) {
    var _a, _b;
    if (e7)
      if (e7.group === this._rootGroupUid)
        p((_b = (_a = this.view) == null ? void 0 : _a.map) == null ? void 0 : _b.layers, t4);
      else {
        const i3 = N(e7);
        if (!i3)
          return;
        b(i3, t4);
      }
  }
  _getSingleActionButton(e7) {
    return e7.reduce((e8) => e8).filter((e8) => e8 && "button" === e8.type).at(0);
  }
  _filterActions(e7) {
    return e7.map((e8) => e8.filter((e9) => e9.visible));
  }
  _countActions(e7) {
    return e7.reduce((e8, t4) => e8 + t4.length, 0);
  }
  _triggerAction(e7, t4) {
    t4 && e7 && ("toggle" === t4.type && (t4.value = !t4.value), this.triggerAction(t4, e7));
  }
  _handleCalciteListChange(e7) {
    const { selectionMode: t4, selectedItems: i3 } = this;
    if ("none" === t4)
      return;
    const o2 = e7.target.selectedItems.map((e8) => N(e8)).filter(Boolean);
    i3.removeAll(), i3.addMany(o2);
  }
  _handleCalciteListItemToggle(e7, t4) {
    e7.stopPropagation(), t4.open = e7.target.open;
  }
  _focusSelectedDragEl(e7, t4) {
    this._selectedDragItemLayerUid === t4.layer.uid && requestAnimationFrame(() => e7 == null ? void 0 : e7.setFocus());
  }
  _handleCalciteListItemDragHandleChange(e7, t4) {
    e7.stopPropagation();
    const i3 = e7.target.dragSelected;
    this._selectedDragItemLayerUid = i3 ? t4.layer.uid : null;
  }
  _handleCalciteListItemSelect(e7, t4, i3) {
    N(e7.target) === t4 && "none" === this.selectionMode && "inherited" !== (i3 == null ? void 0 : i3.visibilityMode) && this._toggleVisibility(t4, i3);
  }
  _togglePanel(e7) {
    e7.open = !e7.open, e7.open && (this._focusPanelFlowItem = true);
  }
  _toggleVisibility(e7, t4) {
    if (!e7)
      return;
    const i3 = t4 == null ? void 0 : t4.visibilityMode;
    "exclusive" === i3 && e7.visible || (e7.visible = !e7.visible);
  }
};
e([y()], x.prototype, "_activeItem", void 0), e([y()], x.prototype, "_tooltipReferenceMap", void 0), e([y()], x.prototype, "_focusRootFlowItem", void 0), e([y()], x.prototype, "_focusPanelFlowItem", void 0), e([y()], x.prototype, "_dragEnabled", null), e([y()], x.prototype, "_filterEnabled", null), e([y()], x.prototype, "collapsed", void 0), e([y()], x.prototype, "dragEnabled", void 0), e([y()], x.prototype, "filterPlaceholder", void 0), e([y()], x.prototype, "filterText", void 0), e([y()], x.prototype, "headingLevel", void 0), e([y()], x.prototype, "icon", null), e([y()], x.prototype, "label", null), e([y()], x.prototype, "listItemCanGiveFunction", void 0), e([y()], x.prototype, "listItemCanReceiveFunction", void 0), e([y()], x.prototype, "listItemCreatedFunction", null), e([y(), e2("esri/widgets/LayerList/t9n/LayerList")], x.prototype, "messages", void 0), e([y(), e2("esri/t9n/common")], x.prototype, "messagesCommon", void 0), e([y()], x.prototype, "minDragEnabledItems", void 0), e([y()], x.prototype, "minFilterItems", void 0), e([y()], x.prototype, "multipleSelectionEnabled", null), e([y()], x.prototype, "operationalItems", null), e([y()], x.prototype, "selectionEnabled", null), e([y()], x.prototype, "selectedItems", void 0), e([y()], x.prototype, "selectionMode", void 0), e([y()], x.prototype, "view", null), e([e4("trigger-action"), y({ type: y2 })], x.prototype, "viewModel", void 0), e([y()], x.prototype, "visibilityAppearance", void 0), e([y({ type: l2, nonNullable: true })], x.prototype, "visibleElements", void 0), x = e([a("esri.widgets.LayerList")], x);
var P = x;
export {
  P as default
};
//# sourceMappingURL=LayerList-DOBOFHSS.js.map
