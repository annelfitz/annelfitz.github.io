{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/support/PropertiesPool.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ReentrantObjectPool as e}from\"../../../core/ReentrantObjectPool.js\";import{afterDispatch as t,isValueInUse as r}from\"../../../core/accessorSupport/watch.js\";class o{constructor(r,o){this._owner=o,this._properties={},this._afterDispatchHandle=null;for(const t in r){const o=r[t],s=new e(o,void 0,void 0,2,2);this._properties[t]={pool:s,acquired:[]}}this._afterDispatchHandle=t((()=>this._release()))}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const e in this._properties){const t=this._properties[e];for(const e of t.acquired)r(e)||t.pool.release(e);t.pool.destroy(),t.pool=null,t.acquired=null}this._properties=null,this._owner=null}get(e){const t=this._owner._get(e),r=this._properties[e];let o=r.pool.acquire();for(r.acquired.push(o);o===t;)r.acquired.push(o),o=r.pool.acquire();return o}_release(){for(const e in this._properties){const t=this._properties[e];let o=0;for(const e of t.acquired)r(e)?t.acquired[o++]=e:t.pool.release(e);t.acquired.length=o}}}export{o as PropertiesPool};\n"],
  "mappings": ";;;;;;;AAIoK,IAAM,IAAN,MAAO;AAAA,EAAC,YAAY,GAAEA,IAAE;AAAC,SAAK,SAAOA,IAAE,KAAK,cAAY,CAAC,GAAE,KAAK,uBAAqB;AAAK,eAAU,KAAK,GAAE;AAAC,YAAMA,KAAE,EAAE,CAAC,GAAEC,KAAE,IAAI,EAAED,IAAE,QAAO,QAAO,GAAE,CAAC;AAAE,WAAK,YAAY,CAAC,IAAE,EAAC,MAAKC,IAAE,UAAS,CAAC,EAAC;AAAA,IAAC;AAAC,SAAK,uBAAqB,EAAG,MAAI,KAAK,SAAS,CAAE;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,yBAAuB,KAAK,qBAAqB,OAAO,GAAE,KAAK,uBAAqB;AAAM,eAAU,KAAK,KAAK,aAAY;AAAC,YAAM,IAAE,KAAK,YAAY,CAAC;AAAE,iBAAUC,MAAK,EAAE;AAAS,UAAEA,EAAC,KAAG,EAAE,KAAK,QAAQA,EAAC;AAAE,QAAE,KAAK,QAAQ,GAAE,EAAE,OAAK,MAAK,EAAE,WAAS;AAAA,IAAI;AAAC,SAAK,cAAY,MAAK,KAAK,SAAO;AAAA,EAAI;AAAA,EAAC,IAAI,GAAE;AAAC,UAAM,IAAE,KAAK,OAAO,KAAK,CAAC,GAAE,IAAE,KAAK,YAAY,CAAC;AAAE,QAAIF,KAAE,EAAE,KAAK,QAAQ;AAAE,SAAI,EAAE,SAAS,KAAKA,EAAC,GAAEA,OAAI;AAAG,QAAE,SAAS,KAAKA,EAAC,GAAEA,KAAE,EAAE,KAAK,QAAQ;AAAE,WAAOA;AAAA,EAAC;AAAA,EAAC,WAAU;AAAC,eAAU,KAAK,KAAK,aAAY;AAAC,YAAM,IAAE,KAAK,YAAY,CAAC;AAAE,UAAIA,KAAE;AAAE,iBAAUE,MAAK,EAAE;AAAS,UAAEA,EAAC,IAAE,EAAE,SAASF,IAAG,IAAEE,KAAE,EAAE,KAAK,QAAQA,EAAC;AAAE,QAAE,SAAS,SAAOF;AAAA,IAAC;AAAA,EAAC;AAAC;",
  "names": ["o", "s", "e"]
}
