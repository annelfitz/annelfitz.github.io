{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/layers/graphics/DisplayFeatureLimit.js", "../../@arcgis/core/symbols/support/defaults3D.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureStore.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPointSymbol.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolFactory.js", "../../@arcgis/core/views/3d/layers/graphics/GraphicsCorePerformanceInfo.js", "../../@arcgis/core/views/3d/layers/graphics/GraphicStateTracking.js", "../../@arcgis/core/views/3d/layers/graphics/SpatialIndex2D.js", "../../@arcgis/core/views/3d/layers/graphics/symbolMemory.js", "../../@arcgis/core/views/3d/layers/support/StageLayerElevationProvider.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js", "../../@arcgis/core/views/3d/layers/graphics/ExtentSet.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Object3DStateSet.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStateSet.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass e{constructor(e,m,t){this.maximumTotalNumberOfVertices=e,this.maximumNumberOfFeatures=m,this.averageSymbolComplexity=t}}export{e as DisplayFeatureLimit};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport o from\"../../core/Collection.js\";import\"../../core/has.js\";import r from\"../FillSymbol3DLayer.js\";import e from\"../LineSymbol3D.js\";import m from\"../MeshSymbol3D.js\";import l from\"../PointSymbol3D.js\";import t from\"../PolygonSymbol3D.js\";import i from\"../edges/SolidEdges3D.js\";import{defaultPointSymbol2D as s,defaultPolylineSymbol2D as n,defaultPolygonSymbol2D as p}from\"./defaults.js\";import{defaultColor as f,defaultOutlineColor as y}from\"./defaultsJSON.js\";const a=l.fromSimpleMarkerSymbol(s),c=e.fromSimpleLineSymbol(n),u=t.fromSimpleFillSymbol(p),S=new m({symbolLayers:new o([new r({material:{color:f},edges:new i({size:\"1px\",color:y})})])});function j(o){if(null==o)return null;switch(o.type){case\"mesh\":return S;case\"point\":case\"multipoint\":return a;case\"polyline\":return c;case\"polygon\":case\"extent\":return u}return null}export{j as getDefaultSymbol3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{projectPoint as i}from\"../../../../geometry/projection.js\";import{create as a}from\"../../../../geometry/support/aaBoundingBox.js\";import{getObjectId as c}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{OptimizedFeature as p}from\"../../../../layers/graphics/OptimizedFeature.js\";import n from\"../../../../layers/graphics/OptimizedGeometry.js\";import{optimizedFeatureQueryEngineAdapter as h}from\"../../../../layers/graphics/data/optimizedFeatureQueryEngineAdapter.js\";const d=a();let l=class extends e{constructor(t){super(t),this.events=new r,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.featureAdapter={getAttribute:(t,e)=>\"graphic\"in t?t.graphic.attributes[e]:h.getAttribute(t,e),getAttributes:t=>\"graphic\"in t?t.graphic.attributes:h.getAttributes(t),getObjectId:t=>\"graphic\"in t?c(t.graphic,this.objectIdField)??void 0:h.getObjectId(t),getGeometry:t=>\"graphic\"in t?t.getAsOptimizedGeometry(this.hasZ,this.hasM):h.getGeometry(t),getCentroid:(t,e)=>{if(\"graphic\"in t){let r=null;null!=t.centroid?r=t.centroid:\"point\"===t.graphic.geometry.type&&i(t.graphic.geometry,u,this.viewSpatialReference)&&(r=u);const o=new Array(2+(e.hasZ?1:0)+(e.hasM?1:0));return null==r?(o[0]=0,o[1]=0,o[2]=0,o[3]=0):(o[0]=r.x,o[1]=r.y,e.hasZ&&(o[2]=r.hasZ?r.z:0),e.hasM&&(o[e.hasZ?3:2]=r.hasM?r.m:0)),new n([],o)}return h.getCentroid(t,e)},cloneWithGeometry:(t,e)=>\"graphic\"in t?new p(e,this.featureAdapter.getAttributes(t),null,this.featureAdapter.getObjectId(t)):h.cloneWithGeometry(t,e)}}forEachInBounds(t,e){this.getSpatialIndex().forEachInBounds(t,e)}forEachBounds(t,e){const r=this.getSpatialIndex();for(const o of t){const t=this.featureAdapter.getObjectId(o);null!=r.getBounds(t,d)&&e(d)}}};t([o({constructOnly:!0})],l.prototype,\"getSpatialIndex\",void 0),t([o({constructOnly:!0})],l.prototype,\"forEach\",void 0),t([o({constructOnly:!0})],l.prototype,\"hasZ\",void 0),t([o({constructOnly:!0})],l.prototype,\"hasM\",void 0),t([o({constructOnly:!0})],l.prototype,\"objectIdField\",void 0),t([o({constructOnly:!0})],l.prototype,\"viewSpatialReference\",void 0),t([o({constructOnly:!0})],l.prototype,\"featureSpatialReference\",void 0),l=t([s(\"esri.views.3d.layers.graphics.Graphics3DFeatureStore\")],l);const u={type:\"point\",x:0,y:0,hasZ:!1,hasM:!1,spatialReference:null};export{l as Graphics3DFeatureStore};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{result as r}from\"../../../../core/asyncUtils.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import{make as a}from\"./Graphics3DCalloutSymbolLayerFactory.js\";import{LineCalloutSymbolLayerRenderingInfo as l}from\"./Graphics3DLineCalloutSymbolLayer.js\";import{Graphics3DSymbol as e}from\"./Graphics3DSymbol.js\";class s extends e{constructor(r,o,t){super(r,o,t),this._calloutSymbolLayer=null,this.symbol.hasVisibleCallout()&&(this._calloutSymbolLayer=a(this.symbol,o))}async doLoad(o){const a=this._calloutSymbolLayer?r(this._calloutSymbolLayer.load()):null;try{await super.doLoad(o),t(o)}catch(l){throw this._calloutSymbolLayer?.abortLoad(),l}a&&await a}destroy(){super.destroy(),this._calloutSymbolLayer=o(this._calloutSymbolLayer)}createGraphics3DGraphic(r,o){const t=super.createGraphics3DGraphic(r,o);if(null!=this._calloutSymbolLayer&&null!=t){const o=this._createCalloutGraphic(r);o&&t.setCalloutGraphic(o)}return t}globalPropertyChanged(r,o){return!!super.globalPropertyChanged(r,o)&&(!this._calloutSymbolLayer||this._calloutSymbolLayer.globalPropertyChanged(r,o,(r=>r.calloutLayer)))}updateGeometry(r,o){const t=super.updateGeometry(r,o);if(t&&this._calloutSymbolLayer){const t=r.calloutLayer;if(t)return this._calloutSymbolLayer.updateGeometry(t,o)}return t}_createCalloutGraphic(r){const o=r.renderingInfo;return r.renderingInfo=new l(o.renderer,o.symbol),this._calloutSymbolLayer.createGraphics3DGraphic(r)}}export{s as Graphics3DPointSymbol};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{Graphics3DPointSymbol as o}from\"./Graphics3DPointSymbol.js\";import{Graphics3DSymbol as r}from\"./Graphics3DSymbol.js\";function t(t,i,n){return\"point-3d\"===t.type?new o(t,i,n):new r(t,i,n)}export{t as make};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass s{constructor(s,i,t){this.visible=s,this.missing=i,this.pending=t}}export{s as GraphicsCorePerformanceInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{remove as t}from\"../../../../core/arrayUtils.js\";import{makeHandle as i}from\"../../../../core/handleUtils.js\";import{getObjectId as s}from\"../../../../layers/graphics/dehydratedFeatures.js\";class e{constructor(t){this._graphicsCore=t,this._idToState=new Map,this._states=new Set;const i=t.owner.layer?.objectIdField;i?(this._getGraphicId=t=>s(t,i),this._getGraphics3DGraphicById=t=>this._graphicsCore.getGraphics3DGraphicByObjectId(t)):(this._getGraphicId=t=>t.uid,this._getGraphics3DGraphicById=t=>this._graphicsCore.getGraphics3DGraphicById(t))}destroy(){this._idToState.clear(),this._states.forEach(((t,i)=>this.remove(i)))}add(t){const s=i((()=>this.remove(t)));if(this._states.has(t))return s;const e=this._getGraphicId(t.graphic),a=this._getGraphics3DGraphicById(e);this._states.has(t)||this._states.add(t);return this._ensureStateList(e).push(t),t.displaying=null!=a&&a.isVisible(),t.isDraped=null!=a&&a.isDraped,t.tracking=!0,null!=a&&t.emit(\"changed\"),s}remove(i){if(this._states.has(i)){if(this._idToState.size){const s=this._getGraphicId(i.graphic),e=this._idToState.get(s);e&&(t(e,i),0===e.length&&this._idToState.delete(s))}this._states.delete(i),i.tracking=!1,i.displaying=!1}}addGraphic(t){this._forEachState(t,(i=>{i.displaying=t.isVisible(),i.isDraped=t.isDraped,i.emit(\"changed\")}))}removeGraphic(t){this._forEachState(t,(t=>{t.displaying=!1,t.isDraped=!1}))}updateGraphicGeometry(t){this._forEachState(t,(t=>t.emit(\"changed\")))}updateGraphicVisibility(t){this._forEachState(t,(i=>i.displaying=t.isVisible()))}allGraphicsDeleted(){this._states.forEach((t=>t.displaying=!1))}_ensureStateList(t){const i=this._idToState.get(t);if(i)return i;const s=new Array;return this._idToState.set(t,s),s}_forEachState(t,i){if(0===this._states.size||0===this._idToState.size)return;const s=this._getGraphicId(t.graphic),e=this._idToState.get(s);null!=e&&e.forEach(i)}}export{e as GraphicStateTracking};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import has from\"../../../../core/has.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{PooledRBush as n}from\"../../../../core/libs/rbush/PooledRBush.js\";import{fromRect as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{getObjectId as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";let d=class extends e{constructor(t){super(t),this._index=new n(9,has(\"esri-csp-restrictions\")?t=>({minX:t.extent[0],minY:t.extent[1],maxX:t.extent[2],maxY:t.extent[3]}):[\".extent[0]\",\".extent[1]\",\".extent[2]\",\".extent[3]\"]),this._missing=new Set,this._boundsByFeature=new Map,this.spatialReference=null,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.updating=!1}setup(t){this._addMany(t)}destroy(){this._missing.clear(),this._index=s(this._index),this._boundsByFeature.clear(),this._boundsByFeature=null}update(){this._missing.size>0&&(this._addMany(Array.from(this._missing.values())),this.updating=!1,this._missing.clear())}get updatingRemaining(){return this._missing.size}queryGraphicUIDsInExtent(t,e,s){null!=e&&e.equals(this.spatialReference)&&(u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>s(t.graphic.uid))))}add(t){this._missing.add(t),this.updating=!0}remove(t){if(this._missing.delete(t))return void(this.updating=this._missing.size>0);this._index.remove(t);const e=a(t.graphic,this._get(\"objectIdField\"));null!=e&&this._boundsByFeature.delete(e)}_addMany(t){if(0===t.length)return;const e=this._get(\"objectIdField\");for(const s of t){s.computeExtent(this.spatialReference);const t=a(s.graphic,e);null!=t&&this._boundsByFeature.set(t,s.extent)}this._index.load(t)}clear(){this._index.clear(),this._missing.clear(),this._boundsByFeature.clear(),this.updating=!1}forEachInBounds(t,e){u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>{e(t)}))}getBounds(t,e){this.update();const s=this._boundsByFeature.get(t);return s?o(e,s):null}};t([i({constructOnly:!0})],d.prototype,\"spatialReference\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasZ\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasM\",void 0),t([i({constructOnly:!0})],d.prototype,\"objectIdField\",void 0),t([i()],d.prototype,\"updating\",void 0),t([i({readOnly:!0})],d.prototype,\"updatingRemaining\",null),d=t([r(\"esri.views.3d.layers.graphics.SpatialIndex2D\")],d);const u={minX:0,minY:0,maxX:0,maxY:0};export{d as SpatialIndex2D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst e=2216,o=4096;function r(r){return e+o*r.symbolLayers.length+r.complexity.memory.resourceBytes}export{r as getSymbolMemorySize};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import o from\"../../../../core/Logger.js\";import{getMetersPerVerticalUnitForSR as s}from\"../../../../core/unitUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as a}from\"../../../../chunks/vec32.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{empty as c,toRect as d,expandWithVec3 as m}from\"../../../../geometry/support/aaBoundingBox.js\";import{getMetersPerUnit as p}from\"../../../../symbols/support/unitConversionUtils.js\";import{ElevationUpdateEvent as h}from\"../../support/ElevationUpdateEvent.js\";import{newIntersector as u}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as f}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{affectsGeometry as g}from\"../../webgl-engine/lib/VertexAttribute.js\";const _=1,v=Symbol(\"layerHandles\");let y=class extends(r.EventedMixin(t)){get spatialReference(){return this.view?.spatialReference}constructor(e){super(e),this._elevationOffset=0}initialize(){this._renderCoordsHelper=this.view.renderCoordsHelper,this._intersectLayers=[this.stageLayer],this._intersector=u(this.view.state.viewingMode),this._intersector.options.store=f.MIN;const e=this._computeLayerExtent(this.spatialReference,this.stageLayer);this._zmin=e[2],this._zmax=e[5];const t=this.stageLayer.events;this.addHandles([t.on([\"layerObjectAdded\",\"layerObjectRemoved\",\"geometryAdded\",\"geometryRemoved\"],(({object:e})=>this._objectChanged(e))),t.on(\"attributesChanged\",(({attribute:e,object:t})=>g(e)&&this._objectChanged(t))),t.on([\"transformationChanged\",\"shaderTransformationChanged\"],(e=>this._objectChanged(e)))],v)}dispose(){this.removeHandles(v)}elevationInfoChanged(){const e=null!=this.layer?this.layer.elevationInfo:null;if(null!=e&&\"on-the-ground\"!==e.mode){const t=s(this.layer.spatialReference),r=p(e.unit??\"meters\");this._elevationOffset=(e.offset??0)*r/t}else this._elevationOffset=0}getElevation(e,t,r,s){if(x[0]=e,x[1]=t,x[2]=r,!this._renderCoordsHelper.toRenderCoords(x,s,x))return o.getLogger(this).error(\"could not project point for elevation alignment\"),null;const i=this._elevationOffset,n=this._zmin+i,a=this._zmax+i;this._renderCoordsHelper.setAltitude(C,a,x),this._renderCoordsHelper.setAltitude(E,n,x);const l=e=>!!e.lastValidElevationBB;return this._intersector.reset(C,E,null),this._intersector.intersect(this._intersectLayers,null,_,null,l),this._intersector.results.min.getIntersectionPoint(x)?this._renderCoordsHelper.getAltitude(x):null}_objectChanged(e){const t=this.spatialReference;if(!e.lastValidElevationBB||!t)return;c(j);const r=e.lastValidElevationBB;r.isEmpty()||this._expandExtent(t,r.min,r.max,j);const{min:o,max:s}=e.boundingVolumeWorldSpace;this._expandExtent(t,o,s,j),d(j,b.extent),this._zmin=Math.min(this._zmin,j[2]),this._zmax=Math.max(this._zmax,j[5]),b.spatialReference=t,this.emit(\"elevation-change\",b),a(r.min,o),a(r.max,s)}_computeLayerExtent(e,t){return c(j),null!=e&&t.objects.forAll((t=>this._expandExtent(e,t.boundingVolumeWorldSpace.min,t.boundingVolumeWorldSpace.max,j))),j}_expandExtent(e,t,r,o){for(let s=0;s<8;++s)x[0]=1&s?t[0]:r[0],x[1]=2&s?t[1]:r[1],x[2]=4&s?t[2]:r[2],this._renderCoordsHelper.fromRenderCoords(x,x,e),m(o,x);return o}};e([i({constructOnly:!0})],y.prototype,\"layer\",void 0),e([i({constructOnly:!0})],y.prototype,\"stageLayer\",void 0),e([i({constructOnly:!0})],y.prototype,\"view\",void 0),e([i()],y.prototype,\"spatialReference\",null),y=e([n(\"esri.views.3d.layers.support.StageLayerElevationProvider\")],y);const j=c(),b=new h,x=l(),C=l(),E=l();export{y as StageLayerElevationProvider};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import\"../../../../renderers/ClassBreaksRenderer.js\";import\"../../../../renderers/DictionaryRenderer.js\";import\"../../../../renderers/DotDensityRenderer.js\";import\"../../../../renderers/HeatmapRenderer.js\";import\"../../../../renderers/PieChartRenderer.js\";import\"../../../../renderers/Renderer.js\";import\"../../../../renderers/SimpleRenderer.js\";import t from\"../../../../renderers/UniqueValueRenderer.js\";import\"../../../../renderers/support/jsonUtils.js\";import i from\"../../../../core/Logger.js\";import\"../../../../symbols.js\";import r from\"../../../../core/Accessor.js\";import{isSome as s}from\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import a from\"../../../../core/Error.js\";import{makeHandle as n}from\"../../../../core/handleUtils.js\";import{someMap as o,findInMap as l}from\"../../../../core/MapUtils.js\";import{removeMaybe as h,destroyMaybe as d,disposeMaybe as p}from\"../../../../core/maybe.js\";import{MinPriority as c}from\"../../../../core/MemCache.js\";import y from\"../../../../core/PooledArray.js\";import{throwIfAborted as g,createResolver as u,isAbortError as m}from\"../../../../core/promiseUtils.js\";import{watch as b,when as _,on as f,syncAndInitial as v,whenOnce as C}from\"../../../../core/reactiveUtils.js\";import{schedule as S}from\"../../../../core/scheduling.js\";import{property as G}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as w}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as R,isEmpty as P}from\"../../../../core/accessorSupport/diffUtils.js\";import{s as x,g as D,h as E}from\"../../../../chunks/vec32.js\";import{create as I}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{canProjectWithoutEngine as U}from\"../../../../geometry/projection.js\";import{projectBuffer as A}from\"../../../../geometry/projection/projectBuffer.js\";import{projectVectorToVector as L}from\"../../../../geometry/projection/projectVectorToVector.js\";import{projectXYZToVector as j}from\"../../../../geometry/projection/projectXYZToVector.js\";import{create as O,center as V,fromRect as F,equals as T}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as k}from\"../../../../geometry/support/aaBoundingRect.js\";import{equals as z}from\"../../../../geometry/support/spatialReferenceUtils.js\";import M from\"../../../../layers/Layer.js\";import{getObjectId as W,computeAABB as H,hasGeometry as N}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{hydrateGraphic as B}from\"../../../../layers/graphics/hydratedFeatures.js\";import{PromiseQueue as q}from\"../../../../layers/support/PromiseQueue.js\";import{isSupportedRenderer3D as Y,validateTo3D as Q}from\"../../../../renderers/support/rendererConversion.js\";import{loadArcade as $}from\"../../../../support/arcadeOnDemand.js\";import{isBasemapLayer as Z}from\"../../../../support/basemapUtils.js\";import{getDefaultSymbol3D as J}from\"../../../../symbols/support/defaults3D.js\";import{to3D as X}from\"../../../../symbols/support/symbolConversion.js\";import{averageSymbolComplexities as K,defaultSymbolComplexity as ee}from\"./defaultSymbolComplexity.js\";import{DisplayFeatureLimit as te}from\"./DisplayFeatureLimit.js\";import{ViewElevationProvider as ie}from\"./ElevationQuery.js\";import{VisibilityGroup as re,VisibilityFlag as se}from\"./enums.js\";import{extractExpressionInfo as ae,createContext as ne}from\"./featureExpressionInfoUtils.js\";import{Graphics3DFeatureStore as oe}from\"./Graphics3DFeatureStore.js\";import{Graphics3DGraphicCreationContext as le}from\"./Graphics3DGraphicCreationContext.js\";import{Graphics3DSymbolCreationContext as he}from\"./Graphics3DSymbolCreationContext.js\";import{make as de}from\"./Graphics3DSymbolFactory.js\";import{Graphics3DWebStyleSymbol as pe}from\"./Graphics3DWebStyleSymbol.js\";import{GraphicsCorePerformanceInfo as ce}from\"./GraphicsCorePerformanceInfo.js\";import{GraphicStateTracking as ye}from\"./GraphicStateTracking.js\";import{computeCentroid as ge}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as ue}from\"./interfaces.js\";import{LoadStatus as me}from\"./Loadable.js\";import{SpatialIndex2D as be}from\"./SpatialIndex2D.js\";import{getSymbolMemorySize as _e}from\"./symbolMemory.js\";import{StageLayerElevationProvider as fe}from\"../support/StageLayerElevationProvider.js\";import{toBoundingRect as ve}from\"../../support/extentUtils.js\";import{PropertiesPool as Ce}from\"../../support/PropertiesPool.js\";import{GridLocalOriginFactory as Se}from\"../../webgl-engine/lib/GridLocalOriginFactory.js\";import{UpdatePolicy as Ge}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{affectsGeometry as we}from\"../../webgl-engine/lib/VertexAttribute.js\";import{WebGLLayer as Re}from\"../../webgl-engine/lib/WebGLLayer.js\";import{hasPopupTemplate as Pe}from\"../../../layers/support/popupUtils.js\";import{ImmediateTask as xe,noBudget as De,TaskPriority as Ee}from\"../../../support/Scheduler.js\";import{Yield as Ie}from\"../../../support/Yield.js\";import Ue from\"../../../../geometry/Extent.js\";import Ae from\"../../../../geometry/Point.js\";import Le from\"../../../../symbols/LabelSymbol3D.js\";import je from\"../../../../symbols/TextSymbol.js\";import Oe from\"../../../../symbols/WebStyleSymbol.js\";var Ve;const Fe=I(),Te=O();let ke=Ve=class extends r{get _viewSpatialReference(){return this.owner.view.spatialReference}get spatialIndex(){return this._spatialIndex||(this._spatialIndex=new be({objectIdField:this.owner.layer?.objectIdField,spatialReference:this._viewSpatialReference,hasZ:!!this.hasZ,hasM:!!this.hasM}),this._spatialIndex.setup(Array.from(this.graphics3DGraphics.values()))),this._spatialIndex.update(),this._spatialIndex}get deconflictor(){return this._deconflictor}get labeler(){return this._labeler}get numberOfGraphics(){return this._numberOfGraphics}get effectiveUpdatePolicy(){return null!=this.currentRenderer&&\"dictionary\"===this.currentRenderer.type?Ge.ASYNC:this._forcedUpdatePolicy??this.preferredUpdatePolicy}get featureStore(){return this._featureStore}get initializePromise(){return this._initializePromise}get scaleVisibility(){return this._scaleVisibility}get elevationAlignment(){return this._elevationAlignment}get objectStates(){return this._objectStates}get filterVisibility(){return this._filterVisibility}get updating(){return!!(this.dataUpdating||this._elevationAlignment?.updating||this._scaleVisibility?.updating||this._filterVisibility?.updating||this._rendererChangeAbortController||this._elevationInfoChangeAbortController||this._frameTaskHandle.updating||this.running)}get dataUpdating(){return!!(this._graphicsWaitingForSymbol.size>0||this._pendingUpdates.size>0||this._spatialIndex?.updating||this._updatingPendingLoadedGraphicsChange||this._dataUpdateQueue.running||this._loadingSymbols>0)}get running(){return this._pendingUpdates.size>0||!!this._spatialIndex?.updating||this._dataUpdateQueue.running||this._updateQueue.running}get suspendedOrOutsideOfView(){return this.owner.suspended||!!this.owner.suspendInfo?.outsideOfView}get updatingRemaining(){return this.updating?this._pendingUpdates.size+.1*(this._spatialIndex?.updatingRemaining||0)+.1*(this._elevationAlignment?.updatingRemaining||0):0}get displayFeatureLimit(){const e=this.owner&&this.owner.view&&this.owner.view.qualitySettings,t=e?.graphics3D.minTotalNumberOfFeatures??0,i=e?.graphics3D.maxTotalNumberOfFeatures??0,r=e?.graphics3D.maxNumberOfDrawCalls??0,s=e?.graphics3D.maxTotalNumberOfVertices??0,a=this.averageSymbolComplexity,n=Math.max(1,a?.verticesPerFeature??1),o=a&&a.drawCallsPerFeature>0&&r>0?r/a.drawCallsPerFeature:i,l=Math.ceil(s/n),h=Math.max(t,Math.min(i,l,o)),d=this._get(\"displayFeatureLimit\");return d&&d.maximumTotalNumberOfVertices===s&&d.averageSymbolComplexity===a&&d.maximumNumberOfFeatures===h?d:new te(s,h,a)}get averageSymbolComplexity(){const e=K(this._symbolComplexities),t=this._get(\"averageSymbolComplexity\");return 0===e.numComplexities||null!=t&&(e.estimated&&(t.verticesPerFeature>=e.verticesPerFeature||t.verticesPerCoordinate>=e.verticesPerCoordinate||t.drawCallsPerFeature>=e.drawCallsPerFeature)||t.verticesPerFeature===e.verticesPerFeature&&t.verticesPerCoordinate===e.verticesPerCoordinate&&t.drawCallsPerFeature===e.drawCallsPerFeature)?t:e}get usedMemory(){const e=null!=this.averageSymbolComplexity&&this.labelsEnabled?this.averageSymbolComplexity.memory.bytesPerFeatureLabel*this._numberOfGraphics:0,t=this._getSymbolComplexitiesUsed().reduce(((e,t)=>e+t.memory.resourceBytes),0),i=this.owner.view._stage.renderer,r=this.owner.view.basemapTerrain.overlayManager.renderer,s=Array.from(this._symbols.values()).reduce(((e,t)=>e+(t?.symbolLayers.reduce(((e,t)=>e+(t?.materials.reduce(((e,t)=>t?e+(i.plugins.getMaterialRenderer(t)?.usedMemory??0)+r.getMemoryForMaterial(t):e),0)??0)),0)??0)),0);return this._usedMemory+e+t+s}get usedMemoryPerGraphic(){if(this._usedMemory&&this._numberOfGraphics){const e=this._numberOfGraphics/(this._numberOfGraphics+Math.max(this._pendingAdds,this._pendingRemoves));return this._usedMemory/this._numberOfGraphics*e}if(null!=this.averageSymbolComplexity){const e=this.labelsEnabled?this.averageSymbolComplexity.memory.bytesPerFeatureLabel:0;return this.averageSymbolComplexity.memory.bytesPerFeature+e}return 0}get unprocessedMemoryEstimate(){return(this._pendingAdds-this._pendingRemoves)*this.usedMemoryPerGraphic}get _symbolComplexities(){return this.currentRenderer?this._getSymbolComplexitiesUsedOrRenderer(this.currentRenderer):this._getSymbolComplexitiesUsed()}get visible(){return this._visible}_getConvertedSymbol(e){if(\"web-style\"===e.type)return e.clone();const t=this._symbolConversionCache.get(e.id);if(null!=t)return t;const r=X(e,{geometryType:this.layer?.geometryType??void 0,retainId:!0,hasLabelingContext:this._hasLabelingContext(e)}),s=r.symbol||null;return null==s&&r.error&&i.getLogger(this).error(r.error.message),this._symbolConversionCache.set(e.id,s),s}_getSymbolComplexitiesUsedOrRenderer(e){if(null==e)return[];const t=e.getSymbols(),i=\"backgroundFillSymbol\"in e?e.backgroundFillSymbol:null;if(!i&&!t?.length)return[];const r=[],s=this._getSymbolComplexityUsedOrRenderer(i);null!=s&&r.push(s);for(const a of t){const e=this._getSymbolComplexityUsedOrRenderer(a);null!=e&&r.push(e)}return r}_getSymbolComplexityUsedOrRenderer(e){if(null==e)return null;const t=this._symbols.get(e.id);if(null!=t)return t.complexity;const i=this._getConvertedSymbol(e);return null!=i?ee(i):null}_getSymbolComplexitiesUsed(){const e=[];return this._symbols.forEach((t=>{null!=t&&e.push(t.complexity)})),e}get _objectIdField(){return this.layer.objectIdField}constructor(e){super(e),this._propertiesPool=new Ce({computedExtent:Ue},this),this.computedExtent=null,this.currentRenderer=null,this.rendererHasGeometryOperations=!1,this._graphicStateTracking=null,this.graphics3DGraphics=new Map,this.stageLayer=null,this.stage=null,this._graphicsDrapedUids=new Set,this._graphicsBySymbol=new Map,this._symbolConversionCache=new Map,this._symbols=new Map,this._graphicsWithoutSymbol=new Map,this._graphicsWaitingForSymbol=new Map,this._graphicsUpdateId=0,this._frameTaskHandle=xe,this._dataUpdateQueue=new q,this._updateQueue=new q,this._suspendSymbolCleanup=!1,this._arcadeOnDemand=null,this._rendererChangeAbortController=null,this._elevationInfoChangeAbortController=null,this._initializeAbortController=null,this._elevationAlignment=null,this._scaleVisibility=null,this._filterVisibility=null,this._spatialIndex=null,this.extentPadding=0,this._updatingPendingLoadedGraphicsChange=null,this._featureStore=null,this._deconflictor=null,this._labeler=null,this._objectStates=null,this._viewElevationProvider=null,this._stageLayerElevationProvider=null,this._sharedSymbolResourcesOwnerHandle=null,this._whenGraphics3DGraphicRequests={},this._pendingUpdates=new Map,this._numberOfGraphics=0,this._numberOfGraphicsProvidingElevation=0,this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1,this._loadingSymbols=0,this._pendingUpdatesPool=new y({allocator:e=>e||new Me,deallocator:e=>(e.clear(),e)}),this._symbolWarningLogged=!1,this._geometryWarningLogged=!1,this._objectIdInvisibleSet=new Set,this._whenSymbolRemoved=new y,this.preferredUpdatePolicy=Ge.SYNC,this._forcedUpdatePolicy=null,this.elevationFeatureExpressionEnabled=!0,this.owner=null,this.layer=null,this.graphicSymbolSupported=!0,this.getRenderingInfoWithoutRenderer=!1,this.setUidToIdOnAdd=!0,this.hasZ=null,this.hasM=null,this._usedMemory=0,this._visible=!1,this._startCreateGraphics=!1,this._unusedSymbolsCache=e.owner.view.resourceController.memoryController.newCache(\"graphics-3d-unused-symbols\",(e=>e.destroy())),this.symbolCreationContext=new he(e.owner.view.resourceController.scheduler,((e,t)=>this._updateQueue.push(e,t)))}initialize(){this._featureStore=new oe({objectIdField:this.owner.layer?.objectIdField,hasZ:!!this.hasZ,hasM:!!this.hasM,viewSpatialReference:this._viewSpatialReference,featureSpatialReference:this.owner.featureSpatialReference,getSpatialIndex:()=>this.spatialIndex,forEach:e=>this.graphics3DGraphics.forEach(e)});const e=(e,t,i)=>this.spatialIndex.queryGraphicUIDsInExtent(e,t,i),{componentFactories:t}=this;this._elevationAlignment=t.elevationAlignment?.(this,e),this._scaleVisibility=t.scaleVisibility?.(this,e),this._filterVisibility=t.filterVisibility?.({featureStore:this._featureStore,getFeatureCount:()=>this.graphics3DGraphics.size,updateFeatureVisibilities:e=>this.modifyGraphics3DGraphicVisibilities((t=>t.setVisibilityFlag(re.GRAPHIC,se.FILTER,e(W(t.graphic,this._objectIdField))))),setAllFeaturesVisibility:e=>this.modifyGraphics3DGraphicVisibilities((t=>t.setVisibilityFlag(re.GRAPHIC,se.FILTER,e))),clearFeaturesVisibility:()=>this.modifyGraphics3DGraphicVisibilities((e=>e.setVisibilityFlag(re.GRAPHIC,se.FILTER,!0)))}),this._deconflictor=t.deconflictor?.(this),this._labeler=t.labeler?.(this,this._scaleVisibility),this._objectStates=t.objectStates?.(this),this._initializeAbortController=new AbortController,this._initializePromise=this._initializeAsync()}async _initializeAsync(){const e=this._initializeAbortController?.signal,t=this.owner.view;this._viewElevationProvider=new ie(this._viewSpatialReference,t),this._initializeStage(t,this.layer.uid);const r=t.sharedSymbolResources;this.symbolCreationContext.sharedResources=r,this._sharedSymbolResourcesOwnerHandle=r.addGraphicsOwner(this.owner),null!=this.currentRenderer&&(this.symbolCreationContext.renderer=this.currentRenderer),this.symbolCreationContext.stage=this.stage,this.symbolCreationContext.streamDataRequester=r.streamDataRequester,this.symbolCreationContext.renderCoordsHelper=t.renderCoordsHelper,this.symbolCreationContext.layer=this.layer,this.symbolCreationContext.graphicsCoreOwner=this.owner,this.symbolCreationContext.localOriginFactory=new Se(t.renderSpatialReference),this.symbolCreationContext.elevationProvider=t.elevationProvider,this.symbolCreationContext.notifyGraphicGeometryChanged=e=>this.notifyGraphicGeometryChanged(e),this.symbolCreationContext.notifyGraphicVisibilityChanged=e=>this.notifyGraphicVisibilityChanged(e);const s=ae(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);if(this.symbolCreationContext.featureExpressionInfoContext=await ne(s,this._viewSpatialReference,e,i.getLogger(this)),g(e),this.symbolCreationContext.screenSizePerspectiveEnabled=t.screenSizePerspectiveEnabled&&!!this.layer.screenSizePerspectiveEnabled,this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this.symbolCreationContext.physicalBasedRenderingEnabled=!!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled,this.symbolCreationContext.skipHighSymbolLods=!!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods,\"drapeSourceType\"in this.owner){const{owner:e}=this;this.symbolCreationContext.drapeSourceRenderer=t.basemapTerrain.overlayManager.registerGeometryDrapeSource(e),this.addHandles(n((()=>t.basemapTerrain.overlayManager.unregisterDrapeSource(e))))}this.addHandles([b((()=>this.suspendedOrOutsideOfView),(()=>this._updateQueue.unshift((()=>this._updateLayerVisibility()),null))),b((()=>[this.layer?.screenSizePerspectiveEnabled,this.owner.view?.screenSizePerspectiveEnabled]),(()=>{const e=t.screenSizePerspectiveEnabled&&!!this.layer.screenSizePerspectiveEnabled;e!==this.symbolCreationContext.screenSizePerspectiveEnabled&&(this.symbolCreationContext.screenSizePerspectiveEnabled=e,this._labeler?.reset(),this.recreateAllGraphicsAndSymbols())})),b((()=>this.owner.slicePlaneEnabled),(e=>this._slicePlaneEnabledChange(!!e))),b((()=>this.owner.view.state?.rasterPixelRatio),(()=>this._pixelRatioChange())),b((()=>!!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled),(e=>this._physicalBasedRenderingChange(e))),b((()=>!!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods),(e=>this._skipHighSymbolLoDsChange(e))),_((()=>t.basemapTerrain?.tilingScheme),(e=>{if(e.spatialReference.equals(this.symbolCreationContext.overlaySR)||null==t.basemapTerrain.spatialReference||(this.symbolCreationContext.overlaySR=t.basemapTerrain.spatialReference),this.hasHandles(\"loaded-graphics\"))this.recreateAllGraphics();else{const e=()=>this.owner?.loadedGraphics;this.addHandles([f(e,\"change\",(e=>{this._graphicsCollectionChanged(e),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}),{onListenerAdd:()=>{this.recreateAllGraphics(),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}})],\"loaded-graphics\")}}),{initial:!0}),b((()=>this.effectiveUpdatePolicy),(e=>{null!=this.stageLayer&&(this.stageLayer.updatePolicy=e),this.symbolCreationContext.isAsync=this.effectiveUpdatePolicy===Ge.ASYNC,e===Ge.SYNC&&this.runTask(De)}),v)]),this._frameTaskHandle=t.resourceController.scheduler.registerTask(Ee.GRAPHICS_CORE,this),this.layer&&\"featureReduction\"in this.layer&&this.addHandles(b((()=>this.layer.featureReduction),(()=>this._deconflictor?.featureReductionChange()))),this.notifyChange(\"averageSymbolComplexity\"),this.rendererChange(this.owner.renderer).catch((()=>{})),this._initializeAbortController=null}_abortInitialize(){this._initializeAbortController&&(this._initializeAbortController.abort(),this._initializeAbortController=null)}destroy(){this._unusedSymbolsCache.destroy(),this._abortInitialize(),this._abortRendererChange(),this._abortElevationInfoChange(),this._frameTaskHandle.remove(),this._frameTaskHandle=xe,this._dataUpdateQueue.cancelAll(),this._updateQueue.cancelAll(),this._deconflictor=h(this._deconflictor),this._labeler=h(this._labeler),this._elevationAlignment=d(this._elevationAlignment),this._scaleVisibility=d(this._scaleVisibility),this._filterVisibility=d(this._filterVisibility),this._objectStates=d(this._objectStates),this.clear(),this._featureStore=d(this._featureStore),this._updatingPendingLoadedGraphicsChange=h(this._updatingPendingLoadedGraphicsChange),this._graphicStateTracking=d(this._graphicStateTracking),this.stage&&(this.stageLayer=d(this.stageLayer),this.stage=null),this._set(\"owner\",null);for(const e in this._whenGraphics3DGraphicRequests)this._whenGraphics3DGraphicRequests[e].reject(new a(\"graphic:layer-destroyed\",\"Layer has been destroyed\"));this._whenGraphics3DGraphicRequests=null,this._sharedSymbolResourcesOwnerHandle=h(this._sharedSymbolResourcesOwnerHandle),this._propertiesPool=d(this._propertiesPool),this._pendingUpdatesPool=null,this._symbolConversionCache.clear(),this._objectIdInvisibleSet.clear(),this._spatialIndex=d(this._spatialIndex)}clear(){this._objectStates?.allGraphicsDeleted(),null!=this._graphicStateTracking&&this._graphicStateTracking.allGraphicsDeleted(),this.graphics3DGraphics.forEach((e=>e.destroy())),this._spatialIndex?.clear(),this.graphics3DGraphics.clear(),this._numberOfGraphics=0,this._usedMemory=0,this._updateLayerVisibility(),this._symbols.forEach(d),this._symbols.clear(),this._graphicsBySymbol.clear(),this._graphicsWithoutSymbol.clear(),this._graphicsWaitingForSymbol.clear(),this._pendingUpdates.clear(),this._pendingUpdatesPool.clear(),this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1,this.notifyChange(\"dataUpdating\"),this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\"),this._featureStore.events.emit(\"changed\")}_initializeStage(e,t){this.stage=e._stage,this.stageLayer=new Re(this.stage,{pickable:!this.suspendedOrOutsideOfView,updatePolicy:this.effectiveUpdatePolicy},t);const i=this.stageLayer.events;i.on(\"transformationChanged\",(e=>this.notifyGraphicGeometryChanged(e.graphicUid))),i.on(\"shaderTransformationChanged\",(e=>this.notifyGraphicGeometryChanged(e.graphicUid))),i.on(\"visibilityChanged\",(e=>this.notifyGraphicVisibilityChanged(e.graphicUid))),i.on(\"geometryAdded\",(e=>this.notifyGraphicGeometryChanged(e.object.graphicUid))),i.on(\"geometryRemoved\",(e=>this.notifyGraphicGeometryChanged(e.object.graphicUid))),i.on(\"attributesChanged\",(e=>we(e.attribute)&&this.notifyGraphicGeometryChanged(e.object.graphicUid)))}notifyGraphicGeometryChanged(e){if(null==this._graphicStateTracking||null==e)return;const t=this.graphics3DGraphics.get(e);t&&this._graphicStateTracking.updateGraphicGeometry(t)}notifyGraphicVisibilityChanged(e){if(null==this._graphicStateTracking||null==e)return;const t=this.graphics3DGraphics.get(e);t&&this._graphicStateTracking.updateGraphicVisibility(t)}_updateLayerVisibility(){const e=this.displayFeatureLimit.maximumNumberOfFeatures,t=this._numberOfGraphics>e*We,i=!this.suspendedOrOutsideOfView&&!t;i!==this._visible&&(this._visible=i,i?(this.stageLayer.pickable=!0,this.updateAllGraphicsVisibility()):(this.stageLayer.pickable=!1,this._hideAllGraphics()),this._updateStageLayerVisibility())}_updateStageLayerVisibility(){this.stageLayer.visible=this._visible&&(null==this.layer.opacity||this.layer.opacity>0)}getGraphics3DGraphicById(e){return null!=e?this.graphics3DGraphics.get(e):void 0}getGraphics3DGraphicByObjectId(e){return this.owner.layer?.objectIdField?this._findGraphics3DGraphicByObjectId(e):null}_getGraphicObjectID(e,t=this.owner.layer?.objectIdField){return W(e,t)}get graphics3DGraphicsByObjectID(){const e=this.owner.layer?.objectIdField;if(!e)return;const t=new Map;return this.graphics3DGraphics.forEach((i=>{if(!i)return;const r=i.graphic,s=this._getGraphicObjectID(r,e);null!=s&&t.set(s,i)})),t}get labelsEnabled(){return!!this._labeler?.layerLabelsEnabled()}async updateLabelingInfo(e){const t=this._deconflictor?.labelingInfoChange(e),i=this._labeler?.labelingInfoChange(e);await Promise.allSettled([t,i])}updateVisibilityInfo(){this._deconflictor?.labelingInfoChange(),this._labeler?.visibilityInfoChange()}get symbolUpdateType(){if(this._pendingUpdates.size>0)return\"unknown\";let e=0,t=0;return o(this._symbols,((i,r)=>{if(null!=i){const s=i.getFastUpdateStatus();if(s.loading>0)return!0;this._graphicsBySymbol.has(r)&&(t+=s.fast,e+=s.slow)}return!1}))?\"unknown\":t>=0&&0===e?\"fast\":e>=0&&0===t?\"slow\":\"mixed\"}runTask(e){if(this._dataUpdateQueue.runTask(e),this._updateQueue.runTask(e),this._applyPendingUpdates(e),this.notifyChange(\"running\"),this.running||this.notifyChange(\"dataUpdating\"),this.notifyChange(\"updatingRemaining\"),!e.hasProgressed)return Ie}setObjectIdVisibility(e,t){t?this._objectIdInvisibleSet.delete(e):this._objectIdInvisibleSet.add(e);const i=this._findGraphics3DGraphicByObjectId(e);null!=i&&this._updateUserVisibility(i)}_findGraphics3DGraphicByObjectId(e){return l(this.graphics3DGraphics,(t=>this._getGraphicObjectID(t.graphic)===e))}_updateUserVisibility(e){if(null==e)return!1;const t=e.graphic,i=this._getGraphicObjectID(t),r=t.visible&&!this.owner.suspended&&(null==i||!this._objectIdInvisibleSet.has(i));return e.setVisibilityFlag(re.GRAPHIC,se.USER,r)}_whenGraphics3DGraphic(e){const t=this.graphics3DGraphics.get(e.uid);if(t)return Promise.resolve(t);const i=this._whenGraphics3DGraphicRequests[e.uid];if(i)return i.promise;const r=u();return this._whenGraphics3DGraphicRequests[e.uid]=r,r.promise}async _boundsForGraphics3DGraphic(e,t){const i=this._viewSpatialReference,r=this.owner.view.renderSpatialReference,s=this.owner.view.basemapTerrain.spatialReference,a=(e,t,s)=>A(e,r,t,e,i,t,s),n=(e,t,r)=>A(e,s,t,e,i,t,r),o=this._viewElevationProvider?{service:this._viewElevationProvider,useViewElevation:null!=t&&!!t.useViewElevation,minDemResolution:null!=t?t.minDemResolution:null,minDemResolutionForPoints:this.owner.view.resolution}:null,l=await e.getProjectedBoundingBox(a,n,o,t?.signal);if(!l)return null;const h=l.boundingBox;if(l.requiresDrapedElevation){const e=this.symbolCreationContext.elevationProvider;if(e){V(h,Fe);const t=e.getElevation(Fe[0],Fe[1],0,i,\"ground\")??0;h[2]=Math.min(h[2],t),h[5]=Math.max(h[5],t)}}return{boundingBox:h,screenSpaceObjects:l.screenSpaceObjects}}async whenGraphicBounds(e,t){await C((()=>this.owner?.loadedGraphics));const i=this.owner.layer?.objectIdField,r=this.owner.loadedGraphics.find((t=>t===e||null!=i&&null!=t.attributes&&e.attributes&&t.attributes[i]===e.attributes[i]));if(!r)throw new a(\"internal:graphic-not-part-of-view\",\"Graphic is not part of this view\");const s=await this._whenGraphics3DGraphic(r);return this._boundsForGraphics3DGraphic(s,t)}computeAttachmentOrigin(e,t){const i=this.graphics3DGraphics.get(e.uid);if(!i)return null;const r=i.computeAttachmentOrigin();if(0===r.render.num&&0===r.draped.num)return null;x(He,0,0,0);let s=0;if(r.render.num>0){if(!L(r.render.origin,this.symbolCreationContext.renderCoordsHelper.spatialReference,Ne,t))return null;D(He,He,Ne),s++}if(r.draped.num>0){const[e,i]=r.draped.origin,a=this._viewElevationProvider.getElevation(e,i,\"ground\")??0;if(x(Ne,e,i,a),!L(Ne,this._viewElevationProvider.spatialReference,Ne,t))return null;D(He,He,Ne),s++}return s>1&&E(He,He,1/s),new Ae({x:He[0],y:He[1],z:He[2],spatialReference:t})}getSymbolLayerSize(e,t){const i=this._symbols.get(e.id);if(null==i)throw new a(\"internal:symbol-not-part-of-view\",\"Symbol is not part of this view\");const r=e.symbolLayers.indexOf(t);if(-1===r)throw new a(\"internal:missing-symbol-layer\",\"Symbol layer is not in symbol\");const s=i.getSymbolLayerSize(r);if(null==s)throw new a(\"internal:missing-size\",\"Symbol layer has no valid size\");return s}_graphicsCollectionChanged(e){this._startCreateGraphics&&(this.add(e.added),this.remove(e.removed))}graphicUpdateHandler(e){const t=e.graphic.uid,i=this.graphics3DGraphics.get(t);if(null!=i||null!=this._graphicsWithoutSymbol.get(t))switch(e.property){case\"visible\":this._graphicUpdateVisibleHandler(i);break;case\"geometry\":this._graphicUpdateGeometryHandler(i,e);break;case\"symbol\":this._graphicUpdateSymbolHandler(i,e);break;case\"attributes\":break;case\"origin-transform\":this._graphicUpdateTransformHandler(i,e)}}_graphicUpdateGeometryHandler(e,t){this._graphicUpdateGeometryOrTransformHandler(e,t,(()=>null!=t.newValue&&null!=e&&e.graphics3DSymbol.updateGeometry(e,t.newValue)));const i=t.graphic.geometry;null!=i&&this._expandComputedExtent(i)}_graphicUpdateTransformHandler(e,t){const i=t.graphic.geometry;this._graphicUpdateGeometryOrTransformHandler(e,t,(()=>null!=t.newValue&&null!=e&&null!=i&&e.graphics3DSymbol.updateTransform(e,i.spatialReference,t.newValue,t.action)))}_graphicUpdateGeometryOrTransformHandler(e,t,i){if(null!=t.graphic.geometry)if(null!=e)i()||this._recreateGraphic(e.graphic);else{const e=t.graphic.symbol?.id;if(e){const t=this._symbols.get(e);if(null!=t&&t.loadStatus===me.LOADING)return}this._recreateGraphic(t.graphic)}else this._recreateGraphic(t.graphic)}_graphicUpdateSymbolHandler(e,t){const i=t.graphic,r=null!=e?e.graphics3DSymbol:null!=t.oldValue?this._symbols.get(t.oldValue.id):null;if(null==r||null==t.newValue)return void this._recreateGraphic(i);const s=r.symbol,a=this._getConvertedSymbol(t.newValue);if(null!=a&&(a.type!==s.type||\"web-style\"===a.type)||\"web-style\"===s.type)return void this._recreateGraphic(i);const n=this._graphicsBySymbol.get(s.id);if(n&&1!==n.size)return void this._recreateGraphic(i);const o=R(s,a);if(null==o)return void this._updateSymbolMapping(s.id,a);const l={diff:o,graphics3DGraphicPatches:[],symbolStatePatches:[]};if(r.prepareSymbolPatch(l),!P(l.diff))return void this._recreateGraphic(i);const h=this._getRenderingInfo(i);if(null==h)return void this._recreateGraphic(i);const d=r.extentPadding;for(const p of l.symbolStatePatches)p();if(d!==r.extentPadding&&this._recomputeExtentPadding(),null!=e)for(const p of l.graphics3DGraphicPatches)p(e,h);this._updateSymbolMapping(s.id,a)}_graphicUpdateVisibleHandler(e){this._updateUserVisibility(e)&&(this._labeler?.setDirty(),this._deconflictor?.setDirty())}recreateGraphics(e){this._suspendSymbolCleanup=!0,this.remove(e),this.add(e),this._suspendSymbolCleanup=!1,this.effectiveUpdatePolicy===Ge.SYNC&&this._cleanupSymbols()}_recreateGraphic(e){this.recreateGraphics([e])}_beginGraphicUpdate(e){const t=this._graphicsUpdateId;return this._graphicsUpdateId++,this._graphicsWaitingForSymbol.set(e.uid,t),1===this._graphicsWaitingForSymbol.size&&this.notifyChange(\"dataUpdating\"),t}_endGraphicUpdate(e){e&&(this._graphicsWaitingForSymbol.delete(e.uid),0===this._graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"dataUpdating\")))}_recomputeExtentPadding(){let e=0;this._symbols.forEach((t=>{null!=t&&(e=Math.max(e,t.extentPadding))})),this._set(\"extentPadding\",e)}_expandComputedExtent(e){const t=Te,i=e.spatialReference;H(e,t);const r=this._viewSpatialReference,s=Ve.tmpVec;if(z(i,r)||j(t[0],t[1],0,i,s,r)&&(t[0]=s[0],t[1]=s[1],j(t[3],t[4],0,i,s,r),t[3]=s[0],t[4]=s[1]),!(isFinite(t[0])&&isFinite(t[3])&&isFinite(t[1])&&isFinite(t[4])))return;const a=this.computedExtent;let n=null;const o=isFinite(t[2])&&isFinite(t[5]),l=o&&(null==a?.zmin||t[2]<a.zmin),h=o&&(null==a?.zmax||t[5]>a.zmax);if(a){(t[0]<a.xmin||t[1]<a.ymin||t[3]>a.xmax||t[4]>a.ymax||l||h)&&(n=this._propertiesPool.get(\"computedExtent\"),n.xmin=Math.min(t[0],a.xmin),n.ymin=Math.min(t[1],a.ymin),n.xmax=Math.max(t[3],a.xmax),n.ymax=Math.max(t[4],a.ymax),n.spatialReference=r)}else n=this._propertiesPool.get(\"computedExtent\"),n.xmin=t[0],n.ymin=t[1],n.xmax=t[3],n.ymax=t[4],n.spatialReference=r;n&&(l&&(n.zmin=t[2]),h&&(n.zmax=t[5]),this._set(\"computedExtent\",n))}_abortElevationInfoChange(){this._elevationInfoChangeAbortController&&(this._elevationInfoChangeAbortController.abort(),this._elevationInfoChangeAbortController=null)}async elevationInfoChange(){this._abortElevationInfoChange();const e=new AbortController;this._elevationInfoChangeAbortController=e;const t=ae(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);this.symbolCreationContext.featureExpressionInfoContext=await ne(t,this._viewSpatialReference,e.signal,i.getLogger(this)),g(e.signal),this._elevationInfoChangeAbortController=null,this._labeler?.elevationInfoChange(),this.forEachGraphics3DSymbol(((e,t,i)=>{e.globalPropertyChanged(\"elevationInfo\",t)?t.forEach((e=>{const t=e.graphic,i=e.labelLayers;for(const r of i){r.graphics3DSymbolLayer.updateGraphicElevationContext(t,r)}})):this._recreateSymbol(i)})),this.updateStageLayerElevationProvider(),this._elevationAlignment?.elevationInfoChange()}updateStageLayerElevationProvider(){this._stageLayerElevationProvider?(this.layer.elevationInfo&&\"relative-to-scene\"===this.layer.elevationInfo.mode||0===this._numberOfGraphicsProvidingElevation)&&(this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider),this._stageLayerElevationProvider=p(this._stageLayerElevationProvider)):(!this.layer.elevationInfo||this.layer.elevationInfo&&\"relative-to-scene\"!==this.layer.elevationInfo.mode)&&this._numberOfGraphicsProvidingElevation>0&&(this._stageLayerElevationProvider=new fe({layer:this.layer,stageLayer:this.stageLayer,view:this.owner.view}),this.owner.view.elevationProvider.register(\"scene\",this._stageLayerElevationProvider))}_clearSymbolsAndGraphics(){this.clear(),null!=this._filterVisibility&&this._filterVisibility.clear(),this._labeler?.reset(),this._deconflictor?.clear(),this._elevationAlignment?.clear(),this.stageLayer?.invalidateSpatialQueryAccelerator(),this._stageLayerElevationProvider&&(this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider),this._stageLayerElevationProvider=p(this._stageLayerElevationProvider))}startCreateGraphics(){this._startCreateGraphics=!0,this.recreateAllGraphics()}recreateAllGraphics(){this._recreateAllGraphics(!1)}recreateAllGraphicsAndSymbols(){this._recreateAllGraphics(!0)}_recreateAllGraphics(e=!1){if(!this._startCreateGraphics)return;const{loadedGraphics:t,view:i}=this.owner,r=i.basemapTerrain.tilingScheme&&t?.length?t.toArray():null;!e&&r||this._clearSymbolsAndGraphics(),this.symbolCreationContext.screenSizePerspectiveEnabled=this.owner.view.screenSizePerspectiveEnabled&&!!this.layer.screenSizePerspectiveEnabled,this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this._set(\"computedExtent\",null),r&&(e?this.add(r):this.recreateGraphics(r))}_recreateSymbol(e){const t=this._graphicsBySymbol.get(e),i=[];t&&(t.forEach(((e,t)=>{const r=e.usedMemory;this._conditionalRemove(e,t),this._spatialIndex?.remove(e),i.push(e.graphic),e.destroy(),this._removeGraphics3DGraphic(t,r),this._updateLayerVisibility(),this._featureStore.events.emit(\"changed\")})),this._graphicsBySymbol.set(e,new Map));const r=this._symbols.get(e);d(r),this._symbols.delete(e),this.add(i)}_recreateGraphicsForSymbol(e){const t=this._graphicsBySymbol.get(e);if(t){const e=[];t.forEach((t=>e.push(t.graphic))),this.recreateGraphics(e)}}_conditionalRemove(e,t){this._graphicsDrapedUids.delete(t),this._objectStates?.removeGraphic(e),this._labeler?.removeGraphic(e),this._deconflictor?.removeGraphic(e),null!=this._graphicStateTracking&&this._graphicStateTracking.removeGraphic(e)}add(e){e&&0!==e.length&&(this.owner.view.basemapTerrain?.tilingScheme?(this._updatePolicyForGraphics(e)===Ge.ASYNC?this._addDelayed(e):this._addImmediate(e),this.notifyChange(\"dataUpdating\")):i.getLogger(this).error(\"#add()\",\"Cannot add graphics before terrain surface has been initialized\"))}_updatePolicyForGraphics(e){if(this.effectiveUpdatePolicy===Ge.SYNC&&(\"mesh\"===this.layer.geometryType||null==this.layer.geometryType))for(const t of e)if(null!=t.geometry&&\"mesh\"===t.geometry.type&&!t.geometry.loaded)return Ge.ASYNC;return this.effectiveUpdatePolicy}_addImmediate(e){this._geometryWarningLogged=!1,this._symbolWarningLogged=!1;for(const t of e)this._addGraphic(t,this._getRenderingInfo(t,i.getLogger(this)),Ge.SYNC);this._cleanupSymbols(),this._labeler?.setDirty(),this._deconflictor?.setDirty()}_addDelayed(e){for(const t of e){const e=t.uid;let i=this._pendingUpdates.get(e);i?i.add?i.state!==ze.NEW&&i.abortController?.abort():this._pendingAdds++:(i=this._pendingUpdatesPool.pushNew(),this._pendingAdds++,this._pendingUpdates.set(e,i)),i.add=t}this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\"),this.notifyChange(\"dataUpdating\")}remove(e){this.effectiveUpdatePolicy===Ge.ASYNC?this._removeDelayed(e):this._removeImmediate(e),this.notifyChange(\"dataUpdating\")}_removeImmediate(e){for(const t of e)this._removeGraphic(t);this._cleanupSymbols(),this._labeler?.setDirty(),this._deconflictor?.setDirty()}_removeDelayed(e){for(const t of e){const e=t.uid,i=this._pendingUpdates.get(e);if(i)i.add&&(i.remove?i.add=null:this._pendingUpdates.delete(e),i.state===ze.LOADING&&i.abortController?.abort(),this._pendingAdds--);else{const i=this._pendingUpdatesPool.pushNew();i.remove=t,this._pendingUpdates.set(e,i),this._pendingRemoves++,this._applyPendingRemovesFirst=!0}}0===this._pendingUpdates.size&&this._finishPendingUpdates(),this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\"),this.notifyChange(\"dataUpdating\")}_finishPendingUpdates(){this._pendingUpdatesPool.clear(),this._cleanupSymbols(),(this._pendingAdds||this._pendingRemoves)&&i.getLogger(this).warn(\"pendingAdds/Removes in inconsistent state!\"),this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1}_applyPendingUpdates(e){if(this._geometryWarningLogged=!1,this._symbolWarningLogged=!1,0===this._pendingUpdates.size&&this._spatialIndex?.updating)return this._spatialIndex.update(),void e.madeProgress();if(this._applyPendingRemovesFirst){this._applyPendingRemovesFirst=!1;for(const[t,i]of this._pendingUpdates){if(e.done){this._applyPendingRemovesFirst=!0;break}if(i.remove&&!i.add&&(this._pendingRemoves--,e.madeProgress(),this._removeGraphic(i.remove),i.remove=null,this._pendingUpdates.delete(t),0===this._pendingRemoves))break}}for(const[t,i]of this._pendingUpdates){if(e.done)break;i.add&&i.state===ze.NEW&&this._processPendingUpdateNew(i);let r=this.effectiveUpdatePolicy;if(!i.remove||i.add&&i.state!==ze.READY||(this._pendingRemoves--,e.madeProgress(),this._removeGraphic(i.remove),i.remove=null,r=Ge.SYNC),i.add)switch(i.state){case ze.READY:this._addGraphic(i.add,i.renderingInfo,r),i.add=null,this._pendingAdds--,e.madeProgress();break;case ze.REJECTED:i.add=null,this._pendingAdds--;case ze.LOADING:}null==i.remove&&null==i.add&&this._pendingUpdates.delete(t)}0===this._pendingUpdates.size&&(this._finishPendingUpdates(),this.notifyChange(\"running\"),this.notifyChange(\"dataUpdating\"))}_processPendingUpdateNew(e){if(!e.add)return void(e.state=ze.READY);const t=e.add.geometry;null==t||\"mesh\"!==t.type||t.loaded?this._processPendingUpdateNewRenderingInfo(e):this._processPendingUpdateNewMesh(e,t)}async _processPendingUpdateNewMesh(e,t){e.state=ze.LOADING,e.abortController=new AbortController;const i=e.abortController.signal;try{await t.load({signal:i})}catch(r){return this._processPendingUpdateNewError(e,r)}e.abortController=null,this._processPendingUpdateNewRenderingInfo(e)}_processPendingUpdateNewError(e,t){e.abortController=null,m(t)?e.state=ze.NEW:e.state=ze.REJECTED}async _processPendingUpdateNewRenderingInfo(e){if(null==this.layer.renderer||\"dictionary\"!==this.layer.renderer.type)return e.renderingInfo=this._getRenderingInfo(e.add,i.getLogger(this)),void(e.state=ze.READY);e.state=ze.LOADING,e.abortController=new AbortController;let t=null;try{t=await this._getRenderingInfoAsync(e.add,{signal:e.abortController.signal})}catch(r){return e.abortController=null,void(m(r)?e.state=ze.NEW:e.state=ze.REJECTED)}null==t?.symbol?(this._symbolWarningLogged||(this._symbolWarningLogged=!0,i.getLogger(this).warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),e.renderingInfo=null):e.renderingInfo=t,e.state=ze.READY}_addGraphic(e,t,i){if(this._graphicsWithoutSymbol.set(e.uid,e),null==t?.symbol||!N(e))return;if(null!=this.stage.renderView.objectAndLayerIdRenderHelper&&this.setUidToIdOnAdd){const t=Z(this.owner.view.map,this.layer.uid);this.stage.renderView.objectAndLayerIdRenderHelper.setUidToObjectAndLayerId(e.objectId,e.uid,this.layer.id,this.layer.uid,!!this.layer.popupEnabled&&!t&&Pe(this.layer,this.owner.view.popup?.defaultPopupTemplateEnabled))}const r=t.symbol,s=this.getOrCreateGraphics3DSymbol(r,t.renderer);if(null==s)return;this._expandComputedExtent(e.geometry);const a=this._beginGraphicUpdate(e),n=new le(e,t,this.layer);let o=!1;const l=e=>{e===s.symbol.id&&(o=!0)};this._whenSymbolRemoved.push(l);const h=()=>{if(--this._loadingSymbols,this.destroyed)return;this._whenSymbolRemoved.removeUnordered(l);if(this._graphicsWaitingForSymbol.get(e.uid)!==a||o||s.destroyed||this.graphicSymbolSupported&&e.symbol&&e.symbol.id!==s.symbol.id)--s.referenced,this._cleanupSymbols();else{const t=this._createGraphics3DGraphic(s,n);this._spatialIndex&&null!=t&&this._spatialIndex.add(t),--s.referenced,this._endGraphicUpdate(e)}this._featureStore.events.emit(\"changed\"),this._labeler?.setDirty()},d=t=>{--this._loadingSymbols,this.destroyed||(this._whenSymbolRemoved.removeUnordered(l),o||(m(t)?this.add([e]):s.destroyed||this._endGraphicUpdate(e)))};++this._loadingSymbols,i===Ge.ASYNC?s.load((()=>this._dataUpdateQueue.push(h,null)),(e=>this._dataUpdateQueue.push((()=>d(e)),null))):s.load(h,d)}_removeGraphic(e){const t=e.uid,i=this.graphics3DGraphics.get(t);if(i){i.graphics3DSymbol.onRemoveGraphic(i);const e=i.usedMemory,r=i.isElevationSource;this._conditionalRemove(i,t),this._spatialIndex?.remove(i);const s=i.graphics3DSymbol.symbol.id;this._graphicsBySymbol.get(s)?.delete(t),this._graphicsWithoutSymbol.delete(t),this._removeGraphics3DGraphic(t,e,r),i.destroy(),this._featureStore.events.emit(\"changed\")}else this._graphicsWithoutSymbol.delete(t),this._graphicsWaitingForSymbol.delete(t),0===this._graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"dataUpdating\"))}_hasLabelingContext(e){if(e instanceof Le||e instanceof je){const t=this.symbolCreationContext.layer;return!!t.labelingInfo&&t.labelingInfo.some((t=>t.symbol===e))}return!1}_hasValidSymbolCreationContext(e){return!(e instanceof Le&&!this._hasLabelingContext(e))||(i.getLogger(this).error(\"LabelSymbol3D is only valid as part of a LabelClass. Using LabelSymbol3D as a renderer symbol is not supported.\"),!1)}_getRenderingInfo(e,t){const i=e.geometry;if(null==i)return t&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,t.warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!U(i.spatialReference,this._viewSpatialReference))return t&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,t.warn(`Graphic in layer ${this.layer.id} has incompatible spatial reference and will not render`)),null;if(!this.graphicSymbolSupported&&null!=e.symbol)return t&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,t.warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const r=this.rendererHasGeometryOperations?B(e,this.layer):e;let s;if(this.owner.getRenderingInfo&&(this.getRenderingInfoWithoutRenderer||null!=this.currentRenderer))s=this.owner.getRenderingInfo(r,this.currentRenderer,this._arcadeOnDemand);else{s={symbol:r.symbol||J(r.geometry)}}return null==s?.symbol?(t&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,t.warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),null):s}_getRenderingInfoAsync(e,t){if(null==e.geometry)return this._geometryWarningLogged||(this._geometryWarningLogged=!0,i.getLogger(this).warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!this.graphicSymbolSupported&&null!=e.symbol)return this._symbolWarningLogged||(this._symbolWarningLogged=!0,i.getLogger(this).warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const r=this.rendererHasGeometryOperations?B(e,this.layer):e;return this.owner.getRenderingInfoAsync(r,this.currentRenderer,this._arcadeOnDemand,t)}_createGraphics3DSymbol(e,t){if(!this._hasValidSymbolCreationContext(e))return null;const i=this._getConvertedSymbol(e);if(!i)return null;let r;if(null!=t&&\"backgroundFillSymbol\"in t&&t.backgroundFillSymbol){const e=X(t.backgroundFillSymbol,{ignoreDrivers:!0});null!=e.symbol&&\"web-style\"!==e.symbol.type&&\"cim\"!==e.symbol.type&&(r=e.symbol.symbolLayers)}const s=de(i,this.symbolCreationContext,r);return s.load((()=>{const e=s.extentPadding;e>this.extentPadding&&this._set(\"extentPadding\",e),this.notifyChange(\"averageSymbolComplexity\")}),(()=>{})),s}getOrCreateGraphics3DSymbol(e,t){let i=this._symbols.get(e.id);if(void 0===i){const r=this._unusedSymbolsCache.pop(e.id);i=null!=r?r:e instanceof Oe?new pe(e,(e=>this._dataUpdateQueue.push(e,null)),(e=>this._createGraphics3DSymbol(e,t))):this._createGraphics3DSymbol(e,t),this._symbols.set(e.id,i)}return null!=i&&++i.referenced,i}trackGraphicState(e){return null==this._graphicStateTracking&&(this._graphicStateTracking=new ye(this)),this._graphicStateTracking.add(e)}_addGraphics3DGraphic(e){this._usedMemory+=e.usedMemory,this.graphics3DGraphics.set(e.graphic.uid,e),this._numberOfGraphics++,e.isElevationSource&&(this._numberOfGraphicsProvidingElevation++,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_removeGraphics3DGraphic(e,t,i=!1){this._usedMemory-=t,this.graphics3DGraphics.delete(e),this._numberOfGraphics--,i&&(this._numberOfGraphicsProvidingElevation--,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_createGraphics3DGraphic(e,t){const i=t.graphic;if(this._graphicsWithoutSymbol.delete(i.uid),!this._symbols.has(e.symbol.id))return this.add([i]),null;if(this.graphics3DGraphics.has(i.uid))return null;const r=e.createGraphics3DGraphic(t);if(null==r)return null;this._addGraphics3DGraphic(r);const s=e.symbol.id;this._graphicsBySymbol.has(s)||this._graphicsBySymbol.set(s,new Map),this._graphicsBySymbol.get(s).set(i.uid,r);if(r.isDraped&&this._graphicsDrapedUids.add(i.uid),r.centroid=null,null!=i.geometry&&\"point\"!==i.geometry.type&&(r.centroid=ge(i.geometry,this._viewSpatialReference)),this._updateUserVisibility(r),null!=this._scaleVisibility&&this._scaleVisibility.updateVisibility(r),null!=this._filterVisibility){const{defaultVisibility:e}=this._filterVisibility;r.setVisibilityFlag(re.GRAPHIC,se.FILTER,e),e||this._filterVisibility.reapply()}this._deconflictor?.addGraphic(r),this._labeler?.addGraphic(r),this._objectStates?.addGraphic(r),r.initialize(this.stageLayer,this.owner),null!=this._graphicStateTracking&&this._graphicStateTracking.addGraphic(r);const a=this._whenGraphics3DGraphicRequests[i.uid];return a&&(delete this._whenGraphics3DGraphicRequests[i.uid],a.resolve(r)),r}_abortRendererChange(){this._rendererChangeAbortController&&(this._rendererChangeAbortController.abort(),this._rendererChangeAbortController=null)}async rendererChange(e){if(this._abortRendererChange(),e!==this.currentRenderer)if(this._validateRenderer(e),null==e&&this._currentRendererChange(null,!1),Y(e))if(null!=e&&e.arcadeRequired){const t=new AbortController;this._rendererChangeAbortController=t;const{arcadeUtils:i}=await this._ensureArcade();g(t);const r=i.hasGeometryOperations(e);r&&(await i.enableGeometryOperations(),g(t)),this.effectiveUpdatePolicy===Ge.ASYNC?await this._updateQueue.push((()=>this._currentRendererChange(e,r)),t.signal):this._currentRendererChange(e,r),this._rendererChangeAbortController=null}else if(this.effectiveUpdatePolicy===Ge.ASYNC){const t=new AbortController;this._rendererChangeAbortController=t,await this._updateQueue.push((()=>this._currentRendererChange(e,!1)),t.signal),this._rendererChangeAbortController=null}else this._currentRendererChange(e,!1);else this._currentRendererChange(e,!1)}async _ensureArcade(){return null==this._arcadeOnDemand?(this._arcadeOnDemand=await $(),this._arcadeOnDemand):this._arcadeOnDemand}_currentRendererChange(e,t){this.currentRenderer=e,this.rendererHasGeometryOperations=t,this.symbolCreationContext.arcade=this._arcadeOnDemand;const i=this.symbolCreationContext.renderer;if(e===i)return;if(this._symbolConversionCache.clear(),this._unusedSymbolsCache.clear(),null==e)return this.symbolCreationContext.renderer=null,void this.recreateAllGraphicsAndSymbols();const r=R(i,e);this._updateUnchangedSymbolMappings(r,e,i),this.symbolCreationContext.renderer=e,null!=r&&(\"complete\"===r.type?this.recreateAllGraphicsAndSymbols():\"partial\"===r.type&&(this._applyRendererDiff(r,e,i)?this._labeler?.reset():this.recreateAllGraphicsAndSymbols()),this.notifyChange(\"averageSymbolComplexity\"))}_diffHasSymbolChange(e){for(const t in e.diff)switch(t){case\"visualVariables\":case\"defaultSymbol\":case\"uniqueValueInfos\":break;case\"uniqueValueGroups\":case\"authoringInfo\":case\"fieldDelimiter\":delete e.diff[t];break;default:return!0}return!1}_applySymbolSetDiff(e,t,i){e=e||[],t=t||[];const r=[];for(const s of t){const t=this._graphicsBySymbol.get(s.id);t&&t.forEach(((a,n)=>{const o=a.graphic,l=this.layer instanceof M?this.layer:null,h=this._arcadeOnDemand;if(s===i.defaultSymbol&&i.getSymbol(B(o,l),{arcade:h})===i.defaultSymbol)return;const d=a.usedMemory;e.length||i.defaultSymbol?r.push(o):this._graphicsWithoutSymbol.set(n,o);const p=this.graphics3DGraphics.get(n);this._conditionalRemove(p,n),a.destroy(),t.delete(n),this._removeGraphics3DGraphic(n,d),this._updateLayerVisibility()})),this._whenSymbolRemoved.forAll((e=>e(s.id)))}(e.length||r.length)&&(this._graphicsWithoutSymbol.forEach((e=>r.push(e))),this._graphicsWithoutSymbol.clear(),this.add(r)),this._cleanupSymbols(),this._labeler?.setDirty(),this._deconflictor?.setDirty()}_applyUniqueValueRendererDiff(e,t,i){const r=e.diff.defaultSymbol,a=e.diff.uniqueValueInfos;if(r||a){const n=a?a.added.map((e=>e.symbol)).filter(s):[],o=a?a.removed.map((e=>e.symbol)).filter(s):[];if(a)for(let e=0;e<a.changed.length;e++)n.push(a.changed[e].newValue.symbol),o.push(a.changed[e].oldValue.symbol);return r?(i.defaultSymbol&&o.push(i.defaultSymbol),t.defaultSymbol&&n.push(t.defaultSymbol)):i.defaultSymbol&&n.length&&o.push(t.defaultSymbol),this._applySymbolSetDiff(n,o,t),delete e.diff.defaultSymbol,delete e.diff.uniqueValueInfos,!0}return!1}_calculateUnchangedSymbolMapping(e,t,i){if(\"unique-value\"!==t?.type||\"unique-value\"!==i?.type||null!=e&&\"partial\"!==e.type)return[];const r=e=>null!=e?e.id:null,s=e&&e.diff,a=s?.defaultSymbol,n=s&&s.uniqueValueInfos;let o;if(n)o=n.unchanged.map((e=>({oldId:r(e.oldValue.symbol),newId:r(e.newValue.symbol)})));else{o=[];for(const e of i.uniqueValueInfos??[]){const i=r(e.symbol),s=t.uniqueValueInfos?.find((t=>t.value===e.value));s&&i!==r(s.symbol)&&o.push({oldId:i,newId:r(s.symbol)})}}return!a&&i.defaultSymbol&&o.push({oldId:r(i.defaultSymbol),newId:r(t.defaultSymbol)}),o}_updateSymbolMapping(e,t){const i=null!=t&&t?\"string\"==typeof t?t:t.id:null;if(null==e||e===i)return;const r=this._graphicsBySymbol.get(e);this._graphicsBySymbol.delete(e),void 0!==r&&this._graphicsBySymbol.set(i,r);const s=this._symbols.get(e);if(void 0!==s&&(this._symbols.delete(e),this._symbols.set(i,s),null!=s)){const e=\"string\"==typeof t?null:t;null!=e?s.symbol=e:s.symbol.id=i}}_updateUnchangedSymbolMappings(e,t,i){const r=this._calculateUnchangedSymbolMapping(e,t,i);for(const{oldId:s,newId:a}of r)this._updateSymbolMapping(s,a)}_applyRendererDiff(e,i,r){if(this._diffHasSymbolChange(e))return!1;if(i instanceof t&&r instanceof t&&this._applyUniqueValueRendererDiff(e,i,r)&&0===Object.keys(e.diff).length)return!0;for(const[t]of this._graphicsBySymbol){const r=this._symbols.get(t);if(null!=r)switch(r.applyRendererDiff(e,i)){case ue.RecreateSymbol:this._recreateSymbol(t);break;case ue.RecreateGraphics:this._recreateGraphicsForSymbol(t);case ue.FastUpdate:}}return!0}opacityChange(){this.forEachGraphics3DSymbol(((e,t)=>e.globalPropertyChanged(\"opacity\",t))),this._updateStageLayerVisibility()}_slicePlaneEnabledChange(e){e!==this.symbolCreationContext.slicePlaneEnabled&&(this.symbolCreationContext.slicePlaneEnabled=e,this.stageLayer.sliceable=e,this.forEachGraphics3DSymbol(((e,t)=>e.globalPropertyChanged(\"slicePlaneEnabled\",t))),this._deconflictor?.slicePlaneEnabledChange(),this._labeler?.slicePlaneEnabledChange())}_physicalBasedRenderingChange(e){this.symbolCreationContext.physicalBasedRenderingEnabled=e,this.forEachGraphics3DSymbol(((e,t,i)=>{e.globalPropertyChanged(\"physicalBasedRenderingEnabled\",t)||this._recreateSymbol(i)}))}_skipHighSymbolLoDsChange(e){this.symbolCreationContext.skipHighSymbolLods=e,this.forEachGraphics3DSymbol(((e,t,i)=>{e.globalPropertyChanged(\"skipHighSymbolLods\",t)||this._recreateSymbol(i)}))}_pixelRatioChange(){this.forEachGraphics3DSymbol(((e,t,i)=>{e.globalPropertyChanged(\"pixelRatio\",t)||this._recreateSymbol(i)}))}_signalUpdatingDuringAsyncLoadedGraphicsChange(){this._updatingPendingLoadedGraphicsChange&&this._updatingPendingLoadedGraphicsChange.remove(),this._updatingPendingLoadedGraphicsChange=S((()=>{this._updatingPendingLoadedGraphicsChange=null}))}setClippingExtent(e,t){const i=this.symbolCreationContext.clippingExtent,r=k();return ve(e,r,t)?this.symbolCreationContext.clippingExtent=F(O(),r):this.symbolCreationContext.clippingExtent=null,!T(this.symbolCreationContext.clippingExtent,i)}modifyGraphics3DGraphicVisibilities(e){if(this.destroyed)return;let t=!1;this.graphics3DGraphics.forEach((i=>{e(i)&&(t=!0)})),t&&(this._labeler?.setDirty(),this._deconflictor?.setDirty())}forEachGraphics3DSymbol(e){for(const[t,i]of this._symbols){if(null==i)return;e(i,this._graphicsBySymbol.get(t)||Be,t)}}updateAllGraphicsVisibility(){null!=this._filterVisibility&&this._filterVisibility.reapply(),this.modifyGraphics3DGraphicVisibilities((e=>{const t=this._updateUserVisibility(e),i=null!=this._scaleVisibility&&this._scaleVisibility.updateVisibility(e);return t||i}))}_hideAllGraphics(){this.modifyGraphics3DGraphicVisibilities((e=>e.setVisibilityFlag(re.GRAPHIC,se.USER,!1)))}_validateRenderer(e){const t=Q(e,{geometryType:this.layer?.geometryType});if(t){const e=`Renderer for layer '${this.layer.title?`${this.layer.title}, `:\"\"}, id:${this.layer.id}' is not supported in a SceneView`;i.getLogger(this).warn(e,t.message)}}_cleanupSymbols(){if(this._graphicsWaitingForSymbol.size>0||this._suspendSymbolCleanup)return;let e=!1;this._symbols.forEach(((t,i)=>{if(null==t||t.referenced>0)return;const r=this._graphicsBySymbol.get(i);r&&0!==r.size||(this._graphicsBySymbol.delete(i),this._symbols.delete(i),this._unusedSymbolsCache.put(i,t,_e(t),c),e=!0)})),e&&(this._recomputeExtentPadding(),this.notifyChange(\"averageSymbolComplexity\"))}get test(){return{snapshotInternals:()=>({graphics:[...this.graphics3DGraphics.keys()].sort(),symbols:[...this._symbols.keys()].sort(),graphicsBySymbol:[...this._graphicsBySymbol.keys()].sort().map((e=>({symbolId:e,graphics:[...this._graphicsBySymbol.get(e).keys()].sort()}))),graphicsWithoutSymbol:[...this._graphicsWithoutSymbol.keys()].sort(),graphicsDrapedUids:[...this._graphicsDrapedUids].sort(),pendingUpdates:this._pendingUpdates}),symbols:this._symbols,filterVisibility:this._filterVisibility,numPending:this._pendingUpdates.size,forceUpdatePolicy:e=>{this._forcedUpdatePolicy=e}}}get performanceInfo(){return new ce(this.graphics3DGraphics.size,this._graphicsWithoutSymbol.size,this._pendingUpdates.size)}};var ze;ke.tmpVec=I(),e([G({readOnly:!0})],ke.prototype,\"computedExtent\",void 0),e([G()],ke.prototype,\"currentRenderer\",void 0),e([G()],ke.prototype,\"rendererHasGeometryOperations\",void 0),e([G()],ke.prototype,\"_frameTaskHandle\",void 0),e([G()],ke.prototype,\"_dataUpdateQueue\",void 0),e([G()],ke.prototype,\"_updateQueue\",void 0),e([G({readOnly:!0})],ke.prototype,\"_viewSpatialReference\",null),e([G()],ke.prototype,\"_rendererChangeAbortController\",void 0),e([G()],ke.prototype,\"_elevationInfoChangeAbortController\",void 0),e([G()],ke.prototype,\"_initializeAbortController\",void 0),e([G()],ke.prototype,\"_elevationAlignment\",void 0),e([G()],ke.prototype,\"_scaleVisibility\",void 0),e([G()],ke.prototype,\"_filterVisibility\",void 0),e([G()],ke.prototype,\"_initializePromise\",void 0),e([G()],ke.prototype,\"_spatialIndex\",void 0),e([G({readOnly:!0})],ke.prototype,\"extentPadding\",void 0),e([G()],ke.prototype,\"_updatingPendingLoadedGraphicsChange\",void 0),e([G()],ke.prototype,\"_featureStore\",void 0),e([G()],ke.prototype,\"_objectStates\",void 0),e([G()],ke.prototype,\"_loadingSymbols\",void 0),e([G()],ke.prototype,\"preferredUpdatePolicy\",void 0),e([G()],ke.prototype,\"_forcedUpdatePolicy\",void 0),e([G({readOnly:!0})],ke.prototype,\"effectiveUpdatePolicy\",null),e([G({constructOnly:!0})],ke.prototype,\"elevationFeatureExpressionEnabled\",void 0),e([G({constructOnly:!0})],ke.prototype,\"owner\",void 0),e([G({constructOnly:!0})],ke.prototype,\"layer\",void 0),e([G({constructOnly:!0})],ke.prototype,\"graphicSymbolSupported\",void 0),e([G({constructOnly:!0})],ke.prototype,\"getRenderingInfoWithoutRenderer\",void 0),e([G({constructOnly:!0})],ke.prototype,\"componentFactories\",void 0),e([G({constructOnly:!0})],ke.prototype,\"setUidToIdOnAdd\",void 0),e([G()],ke.prototype,\"featureStore\",null),e([G()],ke.prototype,\"initializePromise\",null),e([G()],ke.prototype,\"scaleVisibility\",null),e([G()],ke.prototype,\"elevationAlignment\",null),e([G()],ke.prototype,\"objectStates\",null),e([G()],ke.prototype,\"filterVisibility\",null),e([G({readOnly:!0})],ke.prototype,\"updating\",null),e([G({readOnly:!0})],ke.prototype,\"dataUpdating\",null),e([G({readOnly:!0})],ke.prototype,\"running\",null),e([G({readOnly:!0})],ke.prototype,\"suspendedOrOutsideOfView\",null),e([G({readOnly:!0,dependsOn:[]})],ke.prototype,\"updatingRemaining\",null),e([G({readOnly:!0})],ke.prototype,\"displayFeatureLimit\",null),e([G({readOnly:!0,dependsOn:[]})],ke.prototype,\"averageSymbolComplexity\",null),e([G({constructOnly:!0})],ke.prototype,\"hasZ\",void 0),e([G({constructOnly:!0})],ke.prototype,\"hasM\",void 0),e([G()],ke.prototype,\"_objectIdField\",null),ke=Ve=e([w(\"esri.views.3d.layers.graphics.Graphics3DCore\")],ke),function(e){e[e.NEW=0]=\"NEW\",e[e.LOADING=1]=\"LOADING\",e[e.READY=2]=\"READY\",e[e.REJECTED=3]=\"REJECTED\"}(ze||(ze={}));class Me{constructor(){this.add=null,this.renderingInfo=null,this.state=ze.NEW,this.abortController=null,this.remove=null}clear(){this.add=null,this.renderingInfo=null,this.state=ze.NEW,this.abortController=null,this.remove=null}}const We=10,He=I(),Ne=I(),Be=new Map;export{ke as Graphics3DCore};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../core/Accessor.js\";import t from\"../../../../core/Logger.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as a}from\"../../../../core/support/UpdatingHandles.js\";import{projectBoundingRect as l}from\"../../../../geometry/projection/projectBoundingRect.js\";import{create as n}from\"../../../../geometry/support/aaBoundingRect.js\";import{VisibilityGroup as c,VisibilityFlag as o}from\"./enums.js\";import{scaleBoundsPredicate as h}from\"../../../support/layerViewUtils.js\";import{TaskPriority as p}from\"../../../support/Scheduler.js\";import{Yield as d}from\"../../../support/Yield.js\";let u=class extends i{constructor(e){super(e),this._scaleRangeActive=!1,this._layerScaleRangeVisibilityQuery=!1,this._extent=null,this._updatingHandles=new a,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null,this.basemapTerrain=null,this.layerScaleEnabled=!0,this.suspended=!1,this._dirty=!0}initialize(){this.updateScaleRangeActive();const e=this.graphicsCoreOwner.view.resourceController.scheduler;this.addHandles(e.registerTask(p.SCALE_VISIBILITY,this)),this._updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this.layerMinMaxScaleChangeHandler()))}destroy(){this._updatingHandles.destroy(),this.removeHandles(),this._dirty=!1,this._extent=null,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null,this.basemapTerrain=null}get updating(){return this._dirty||this._updatingHandles.updating}_setDirty(){this._dirty=!0}setExtent(e){const i=this.graphicsCoreOwner.view.spatialReference,t=this.graphicsCoreOwner.view.basemapTerrain.spatialReference;if(i===t)this._extent=e??null;else{const r=n();l(e,i,r,t)?this._extent=r:this._extent=null}this._setDirty()}scaleRangeActive(){return this._scaleRangeActive}updateScaleRangeActive(){const e=this.layer,i=e.effectiveScaleRange;let t=this.layerScaleEnabled&&null!=i&&g(i.minScale,i.maxScale);e.labelingInfo&&!t&&(t=e.labelingInfo.some((e=>e&&g(e.minScale??0,e.maxScale??0))));const r=this._scaleRangeActive!==t;return this._scaleRangeActive=t,t&&!this.hasHandles(y)&&this.basemapTerrain?(this.addHandles(this.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),y),this.layerScaleEnabled&&this.addHandles(this.basemapTerrain.on(\"tiles-visibility-changed\",(()=>this._setDirty())),y)):!t&&this.hasHandles(y)&&this.removeHandles(y),r}get running(){return!(!this.graphicsCoreOwner.view.basemapTerrain||!this.updating)}runTask(e){const i=this.graphicsCoreOwner.view.basemapTerrain;if(this._extent&&i&&i.ready&&this._scaleRangeActive&&this.layerScaleEnabled){if(this._layerScaleRangeVisibilityQuery)return d;{this._layerScaleRangeVisibilityQuery=!0;const{minScale:e,maxScale:t}=this.layer.effectiveScaleRange;i.queryVisibleScaleRange(this._extent,e,t,(e=>this._finishUpdate(e)))}}else this._finishUpdate(!0);e.madeProgress()}_finishUpdate(e){this._layerScaleRangeVisibilityQuery=!1,this._set(\"suspended\",!e),this._dirty=!1}_visibleAtLayerScale(e){const i=this.layer.effectiveScaleRange;return!this.layerScaleEnabled||h(e,i.minScale||0,i.maxScale||0)}_visibleAtLabelScale(e,i){return h(e,i.minScale||0,i.maxScale||0)}_graphicScale(e){let i;if(null!=e.centroid?i=e.centroid:null!=e.graphic.geometry&&\"point\"===e.graphic.geometry.type&&(i=e.graphic.geometry),i){return this.graphicsCoreOwner.view.basemapTerrain?this.graphicsCoreOwner.view.basemapTerrain.getScale(i):1}return null}_graphicVisible(e){if(!this.layerScaleEnabled)return!0;const i=this._graphicScale(e);return this._visibleAtLayerScale(i)}updateVisibility(e){if(this._scaleRangeActive){const i=this._graphicVisible(e);return e.setVisibilityFlag(c.GRAPHIC,o.SCALE_RANGE,i)}return!1}updateGraphicLabelScaleVisibility(e){if(!this._scaleRangeActive)return!1;if(!e.labelLayers||0===e.labelLayers.length)return!1;const i=this._graphicScale(e),t=this._updateLabelScaleVisibility(e,i);return t&&(this.graphicsCore.deconflictor?.setDirty(),this.graphicsCore.labeler?.setDirty()),t}_updateLabelScaleVisibility(e,i){if(!e.labelLayers||0===e.labelLayers.length)return!1;const t=e.labelLayers[0]._labelClass;if(null!=t?.minScale&&null!=t.maxScale){const r=this._visibleAtLabelScale(i,t);if(e.setVisibilityFlag(c.LABEL,o.SCALE_RANGE,r))return!0}return!1}_scaleUpdateHandler(e){if(this._setDirty(),!this.graphicsCore.visible)return;const i=e.extent,r=e.scale,s=this._visibleAtLayerScale(r);let a=!1;const n=this.graphicsCoreOwner.view.spatialReference,h=e.spatialReference;if(null==h)return void t.getLogger(this).error(\"scaleUpdate: Internal error, no SpatialReference given for tiles\");const p=!h.equals(n);if(p){if(!l(i,h,b,n))return void t.getLogger(this).error(\"scaleUpdate: Internal error, cannot project AABR from \"+h+\" to wkid \"+n)}const d=p?b:i;this.queryGraphicUIDsInExtent(d,n,(e=>{const t=this.graphicsCore.getGraphics3DGraphicById(e);if(null==t)return;const l=t.centroid;null!=l&&(i[0]>l.x||i[1]>l.y||i[2]<l.x||i[3]<l.y)||(t.setVisibilityFlag(c.GRAPHIC,o.SCALE_RANGE,s)&&(a=!0),this._updateLabelScaleVisibility(t,r)&&(a=!0))})),a&&(this.graphicsCore.deconflictor?.setDirty(),this.graphicsCore.labeler?.setDirty())}layerMinMaxScaleChangeHandler(){this.updateScaleRangeActive()&&!this._scaleRangeActive?this.graphicsCore.modifyGraphics3DGraphicVisibilities((e=>e.setVisibilityFlag(c.GRAPHIC,o.SCALE_RANGE,!0))):this._scaleRangeActive&&this.graphicsCore.updateAllGraphicsVisibility(),this._setDirty()}};function g(e,i){return e>0||i>0}e([r()],u.prototype,\"graphicsCoreOwner\",void 0),e([r()],u.prototype,\"layer\",void 0),e([r()],u.prototype,\"queryGraphicUIDsInExtent\",void 0),e([r()],u.prototype,\"graphicsCore\",void 0),e([r()],u.prototype,\"basemapTerrain\",void 0),e([r({constructOnly:!0})],u.prototype,\"layerScaleEnabled\",void 0),e([r({readOnly:!0})],u.prototype,\"suspended\",void 0),e([r({readOnly:!0})],u.prototype,\"updating\",null),e([r()],u.prototype,\"_dirty\",void 0),u=e([s(\"esri.views.3d.layers.graphics.Graphics3DScaleVisibility\")],u);const y=\"terrain-events\",b=n();export{u as Graphics3DScaleVisibility};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/PooledArray.js\";import{create as e,copy as r,area as s,expand as n,contains as o,containsPoint as i}from\"../../../../geometry/support/aaBoundingRect.js\";import{noBudget as h}from\"../../../support/Scheduler.js\";const a=.05;class l{constructor(){this._extents=new t({allocator:t=>t||e()}),this._tmpExtent=e(),this._dirty=!1}get empty(){return 0===this._extents.length}get size(){return this._extents.length}clear(){this._extents.clear()}add(t){this._contains(t)||(this._removeContained(t),r(this._extents.pushNew(),t),this._dirty=!0)}pop(){return this._dirty&&this._mergeTight(),this._extents.pop()}merge(t){return this._mergeTight(t),t.hasProgressed}_mergeTight(t=h){const e=this._extents,o=new Set;let i=0;for(;i!==e.length;){e.sort(((t,e)=>t[0]-e[0])),i=e.length,o.clear();for(let i=0;i<e.length;++i){if(t.done)return;const h=e.at(i);if(h){for(let t=i+1;t<e.length;++t){const r=e.at(t);if(null==r||r[0]>=h[2])break;o.add(r)}o.forEach((i=>{if(h===i)return;if(i[2]<=h[0])return void o.delete(i);const l=s(h),_=s(i),c=this._tmpExtent;n(h,i,c);const d=l+_;(s(c)-d)/d<a&&(r(h,c),o.delete(i),e.remove(i),t.madeProgress())})),o.add(h)}}}this._dirty=!1}_contains(t){return this._extents.some((e=>o(e,t)))}_removeContained(t){this._extents.filterInPlace((e=>!o(t,e)))}get test(){const t=this;return{containsPoint:e=>t._extents.some((t=>i(t,e)))}}}export{l as ExtentSet};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import i from\"../../../../core/Evented.js\";import{watch as r}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ExtentSet as n}from\"./ExtentSet.js\";import{UpdatePolicy as o}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{TaskPriority as h}from\"../../../support/Scheduler.js\";let p=class extends e{constructor(t){super(t),this._dirtyExtents=new n,this._globalDirty=!1,this._averageExtentUpdateSize=0,this._dirtyGraphicsSet=new Set,this._updateElevation=!1,this.graphicsCoreOwner=null,this.graphicsCore=null,this.events=new i}initialize(){const t=this.elevationProvider,e=this.graphicsCoreOwner.view.resourceController.scheduler;this._task=e.registerTask(d(this.graphicsCore.layer.elevationInfo?.mode),this),this.addHandles([t.on(\"elevation-change\",(t=>this._elevationChanged(t))),r((()=>this.graphicsCoreOwner.suspended),(()=>this._suspendedChange())),this._task,r((()=>d(this.graphicsCore.layer.elevationInfo?.mode)),(t=>this._task.priority=t))])}destroy(){this._dirtyGraphicsSet.clear(),this.graphicsCoreOwner=null,this.graphicsCore=null,this.queryGraphicUIDsInExtent=null,this.elevationProvider=null}clear(){this._dirtyGraphicsSet.clear(),this.notifyChange(\"updating\")}_suspendedChange(){!0===this.graphicsCoreOwner.suspended?this._updateElevation=!1:!1===this.graphicsCoreOwner.suspended&&this._updateElevation&&(this._globalDirty=!0,this.notifyChange(\"updating\"))}elevationInfoChange(){this._globalDirty=!0,this.notifyChange(\"updating\")}get updating(){return this.running}get running(){return this._dirtyGraphicsSet.size>0||this._dirtyExtents&&!this._dirtyExtents.empty||this._globalDirty}get updatingRemaining(){return this._dirtyGraphicsSet.size+this._dirtyExtents.size*this._averageExtentUpdateSize}runTask(t){for(this._globalDirty&&(this._markAllGraphicsElevationDirty(),this._globalDirty=!1,t.madeProgress()),t.run((()=>this._dirtyExtents.merge(t)));this.running&&!t.done;)this._updateDirtyGraphics(t),this._updateDirtyExtents(t);this.notifyChange(\"updating\")}_updateDirtyGraphics(t){const e=this.graphicsCoreOwner.view.renderCoordsHelper,i=this.graphicsCore.effectiveUpdatePolicy===o.ASYNC;for(const r of this._dirtyGraphicsSet.keys()){const s=this.graphicsCore.getGraphics3DGraphicById(r);if(this._dirtyGraphicsSet.delete(r),null!=s&&(s.alignWithElevation(this.elevationProvider,e,i),this.graphicsCore.deconflictor?.setDirty(),t.madeProgress()),t.done)return}}_updateDirtyExtents(t){for(;!this._dirtyExtents.empty&&!t.done;){const e=this._dirtyExtents.pop(),i=this.elevationProvider.spatialReference;this.events.emit(\"invalidate-elevation\",{extent:e,spatialReference:i});const r=this._dirtyGraphicsSet.size;this.queryGraphicUIDsInExtent(e,i,(t=>{const e=this.graphicsCore.getGraphics3DGraphicById(t);null!=e&&e.needsElevationUpdates()&&this._dirtyGraphicsSet.add(t)})),this._averageExtentUpdateSize=.1*(this._dirtyGraphicsSet.size-r)+.9*this._averageExtentUpdateSize,t.madeProgress()}}_markAllGraphicsElevationDirty(){this._dirtyExtents.clear(),this._dirtyGraphicsSet.clear(),this.graphicsCore.graphics3DGraphics.forEach(((t,e)=>this._dirtyGraphicsSet.add(e)))}_elevationChanged(t){if(\"scene\"===t.context&&(!this.graphicsCore.layer.elevationInfo||\"relative-to-scene\"!==this.graphicsCore.layer.elevationInfo.mode))return;const e=t.extent;if(this.graphicsCoreOwner.suspended){if(!this._updateElevation){const t=this.graphicsCore.computedExtent;t&&e[2]>t.xmin&&e[0]<t.xmax&&e[3]>t.ymin&&e[1]<t.ymax&&(this._updateElevation=!0)}this.events.emit(\"invalidate-elevation\",t)}else e[0]===-1/0?this._globalDirty=!0:this._dirtyExtents.add(e),this.notifyChange(\"updating\")}};function d(t){return null==t?h.ELEVATION_ALIGNMENT:\"relative-to-scene\"===t?h.ELEVATION_ALIGNMENT_SCENE:h.ELEVATION_ALIGNMENT}t([s()],p.prototype,\"graphicsCoreOwner\",void 0),t([s()],p.prototype,\"graphicsCore\",void 0),t([s()],p.prototype,\"queryGraphicUIDsInExtent\",void 0),t([s()],p.prototype,\"elevationProvider\",void 0),t([s({readOnly:!0})],p.prototype,\"updating\",null),t([s({readOnly:!0})],p.prototype,\"updatingRemaining\",null),p=t([a(\"esri.views.3d.layers.graphics.Graphics3DElevationAlignment\")],p);export{p as Graphics3DElevationAlignment};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{watch as s,sync as i,initial as r}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getReferenceEllipsoid as a}from\"../../../../geometry/ellipsoidUtils.js\";import{FrustumExtentIntersection as p}from\"../../support/FrustumExtentIntersection.js\";import{TaskPriority as c}from\"../../../support/Scheduler.js\";import{Yield as l}from\"../../../support/Yield.js\";const h=1.2;let u=class extends t{constructor(e){super(e),this.suspended=!1,this._extent=null,this._extentIntersectionDirty=!0,this._isVisibleBelowSurfaceInternal=!1,this.graphicsCoreOwner=null,this.updating=!0}initialize(){const{graphicsCoreOwner:e}=this;this._extentIntersection=new p({renderCoordsHelper:e.view.renderCoordsHelper});const t=e.view,n=t.basemapTerrain,o=t.resourceController.scheduler;this.addHandles([t.on(\"resize\",(()=>this._viewChange())),s((()=>t.state.camera),(()=>this._viewChange()),i),o.registerTask(c.FRUSTUM_VISIBILITY,this),s((()=>n.visibleElevationBounds),(()=>this._elevationBoundsChange()))]),\"local\"===t.viewingMode?this._isVisibleBelowSurface=!0:this.addHandles([s((()=>[n.baseOpacity,n.wireframe,t.map?.ground?.navigationConstraint?.type]),(()=>this._updateIsVisibleBelowSurface()),r)])}destroy(){this._set(\"graphicsCoreOwner\",null),this._extent=null,this._extentIntersection=null}_setDirty(){this.updating||this._set(\"updating\",!0)}setExtent(e){this._extent=e,this._extentIntersectionDirty=!0,this._setDirty()}_viewChange(){this._setDirty()}_elevationBoundsChange(){this._setDirty(),this._extentIntersectionDirty=!0}set _isVisibleBelowSurface(e){this._isVisibleBelowSurfaceInternal=e,this._setDirty(),this._extentIntersectionDirty=!0}_updateIsVisibleBelowSurface(){const e=this.graphicsCoreOwner.view,t=e.basemapTerrain,s=\"local\"===e.viewingMode,i=\"none\"===e.map.ground?.navigationConstraint?.type;this._isVisibleBelowSurface=s||!t.opaque||i}_updateExtentIntersection(){if(!this._extentIntersectionDirty)return;this._extentIntersectionDirty=!1;const e=this.graphicsCoreOwner.view;let t;if(this._isVisibleBelowSurfaceInternal)t=-.3*a(e.spatialReference).radius;else{const{min:s,max:i}=e.basemapTerrain.visibleElevationBounds;t=s-Math.max(1,(i-s)*(h-1))}this._extentIntersection.update(this._extent,e.spatialReference,t)}get running(){return this.updating}runTask(e){if(this._set(\"updating\",!1),!this._extent)return this._set(\"suspended\",!1),l;this._updateExtentIntersection();const t=this.graphicsCoreOwner.view.frustum,s=a(this.graphicsCoreOwner.view.spatialReference).radius;this._set(\"suspended\",!this._extentIntersection.isVisibleInFrustum(t,s)),e.madeProgress()}};e([n({readOnly:!0})],u.prototype,\"suspended\",void 0),e([n({constructOnly:!0})],u.prototype,\"graphicsCoreOwner\",void 0),e([n({readOnly:!0})],u.prototype,\"updating\",void 0),u=e([o(\"esri.views.3d.layers.graphics.Graphics3DFrustumVisibility\")],u);export{u as Graphics3DFrustumVisibility};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{Object3DState as e}from\"./basicInterfaces.js\";var t;!function(e){e[e.Object=0]=\"Object\",e[e.RenderGeometry=1]=\"RenderGeometry\",e[e.External=2]=\"External\",e[e.COUNT=3]=\"COUNT\"}(t||(t={}));class r{constructor(){this._items=[]}addObject(e,r){this._items.push({type:t.Object,objectStateId:r,object:e})}addRenderGeometry(e,r,o){this._items.push({type:t.RenderGeometry,objectStateId:r,renderGeometry:e,owner:o})}addExternal(e,r){this._items.push({type:t.External,objectStateId:r,remove:e})}remove(e){for(let t=this._items.length-1;t>=0;--t){const r=this._items[t];r.objectStateId===e&&(o(r),this._items.splice(t,1))}}removeObject(e){for(let r=this._items.length-1;r>=0;--r){const s=this._items[r];s.type===t.Object&&s.object===e&&(o(s),this._items.splice(r,1))}}removeRenderGeometry(e){for(let r=this._items.length-1;r>=0;--r){const s=this._items[r];s.type===t.RenderGeometry&&s.renderGeometry===e&&(o(s),this._items.splice(r,1))}}removeAll(){this._items.forEach((e=>{o(e)})),this._items=[]}}function o(r){switch(r.type){case t.Object:r.objectStateId.channel===e.Highlight?r.object.removeHighlight(r.objectStateId):r.objectStateId.channel===e.MaskOccludee&&r.object.removeOcclude(r.objectStateId);break;case t.RenderGeometry:r.owner.removeRenderGeometryObjectState(r.renderGeometry,r.objectStateId);break;case t.External:r.remove(r.objectStateId)}}export{r as Object3DStateSet};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{Object3DStateSet as t}from\"../../webgl-engine/lib/Object3DStateSet.js\";class e{constructor(e,i){this.stateType=e,this.objectIdField=i,this.objectStateSet=new t,this.ids=new Set,this.paused=!1}hasGraphic(t){if(this.objectIdField){const e=t.graphic.attributes[this.objectIdField];return this.ids.has(e)}return this.ids.has(t.graphic.uid)}}export{e as Graphics3DObjectStateSet};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{makeHandle as t}from\"../../../../core/handleUtils.js\";import{Graphics3DObjectStateSet as e}from\"./Graphics3DObjectStateSet.js\";class s{constructor(t){this._graphicsCore=t,this._stateSets=new Array}destroy(){this.reset(),this._stateSets=null}reset(){this._stateSets&&(this._stateSets.forEach((t=>t.objectStateSet.removeAll())),this._stateSets.length=0)}acquireSet(s,a){const i=new e(s,a);this._stateSets.push(i);const h=t((()=>this.releaseSet(i)));return{set:i,handle:h}}releaseSet(t){t.objectStateSet.removeAll();const e=this._stateSets?this._stateSets.indexOf(t):-1;-1!==e&&this._stateSets.splice(e,1)}setUid(t,e){t.ids.add(e);const s=this._graphicsCore.graphics3DGraphics.get(e);s&&a(s,t)}setUids(t,e){e.forEach((e=>this.setUid(t,e)))}setObjectIds(t,e){e.forEach((e=>t.ids.add(e))),this._initializeSet(t)}addGraphic(t){this._stateSets.forEach((e=>{!e.paused&&e.hasGraphic(t)&&a(t,e)}))}removeGraphic(t){this._stateSets.forEach((e=>{e.hasGraphic(t)&&i(t,e)}))}allGraphicsDeleted(){this._stateSets&&this._stateSets.forEach((t=>t.objectStateSet.removeAll()))}_initializeSet(t){const e=this._graphicsCore.graphics3DGraphics;t.objectIdField?e.forEach((e=>{e&&t.hasGraphic(e)&&a(e,t)})):t.ids.forEach((s=>{const i=e.get(s);i&&a(i,t)}))}get test(){return{states:this._stateSets}}}function a(t,e){t.addObjectStateSet(e.stateType,e.objectStateSet)}function i(t,e){t.removeObjectState(e.objectStateSet)}export{s as Graphics3DObjectStates};\n"],
  "mappings": "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",
  "names": ["e", "m", "t", "a", "w", "S", "c", "b", "u", "h", "e", "i", "o", "d", "l", "t", "e", "o", "I", "r", "u", "s", "m", "r", "o", "t", "e", "a", "l", "G", "t", "i", "n", "s", "m", "s", "i", "t", "e", "t", "i", "I", "s", "a", "d", "t", "h", "e", "s", "u", "I", "e", "o", "r", "_", "v", "y", "e", "t", "E", "L", "r", "s", "x", "i", "n", "a", "C", "l", "P", "j", "o", "S", "b", "n", "d", "C", "e", "t", "i", "r", "s", "a", "o", "l", "h", "S", "m", "w", "F", "A", "L", "I", "_", "_a", "_b", "v", "E", "u", "p", "y", "b", "c", "u", "e", "h", "i", "t", "r", "g", "y", "o", "A", "L", "s", "a", "n", "p", "b", "d", "l", "a", "l", "t", "u", "e", "C", "o", "i", "h", "r", "_", "c", "d", "b", "p", "t", "l", "e", "d", "_a", "i", "C", "r", "s", "h", "u", "e", "N", "t", "n", "o", "s", "i", "t", "e", "r", "o", "s", "e", "i", "r", "t", "s", "t", "a", "i", "e", "h"]
}
