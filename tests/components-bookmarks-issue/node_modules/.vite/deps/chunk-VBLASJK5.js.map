{
  "version": 3,
  "sources": ["../../@arcgis/core/geometry/support/meshUtils/exporters/gltf/imageutils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import e from\"../../../../../core/Error.js\";import{isDataProtocol as t,dataComponents as n}from\"../../../../../core/urlUtils.js\";function a(e){const t=o(e);return null!=t?t.toDataURL():\"\"}async function r(t){const n=o(t);if(null==n)throw new e(\"imageToArrayBuffer\",\"Unsupported image type\");const a=await i(t),r=await new Promise((e=>n.toBlob(e,a)));if(!r)throw new e(\"imageToArrayBuffer\",\"Failed to encode image\");return{data:await r.arrayBuffer(),type:a}}async function i(e){if(!(e instanceof HTMLImageElement))return\"image/png\";const a=e.src;if(t(a)){const e=n(a);return\"image/jpeg\"===e?.mediaType?e.mediaType:\"image/png\"}return/\\.png$/i.test(a)?\"image/png\":/\\.(jpg|jpeg)$/i.test(a)?\"image/jpeg\":\"image/png\"}function o(e){if(e instanceof HTMLCanvasElement)return e;if(e instanceof HTMLVideoElement)return null;const t=document.createElement(\"canvas\");t.width=e.width,t.height=e.height;const n=t.getContext(\"2d\");return e instanceof HTMLImageElement?n.drawImage(e,0,0,e.width,e.height):e instanceof ImageData&&n.putImageData(e,0,0),t}function c(e){const t=[],n=new Uint8Array(e);for(let a=0;a<n.length;a++)t.push(String.fromCharCode(n[a]));return\"data:application/octet-stream;base64,\"+btoa(t.join(\"\"))}function g(e){if(e.byteLength<8)return!1;const t=new Uint8Array(e);return 137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]&&13===t[4]&&10===t[5]&&26===t[6]&&10===t[7]}export{c as encodeBase64DataUri,r as imageToArrayBuffer,a as imageToDataURI,o as imageTypeToCanvas,g as isArrayBufferPNG};\n"],
  "mappings": ";;;;;;;;;AAIoK,SAAS,EAAE,GAAE;AAAC,QAAM,IAAE,EAAE,CAAC;AAAE,SAAO,QAAM,IAAE,EAAE,UAAU,IAAE;AAAE;AAAC,eAAe,EAAE,GAAE;AAAC,QAAM,IAAE,EAAE,CAAC;AAAE,MAAG,QAAM;AAAE,UAAM,IAAI,EAAE,sBAAqB,wBAAwB;AAAE,QAAMA,KAAE,MAAM,EAAE,CAAC,GAAEC,KAAE,MAAM,IAAI,QAAS,OAAG,EAAE,OAAO,GAAED,EAAC,CAAE;AAAE,MAAG,CAACC;AAAE,UAAM,IAAI,EAAE,sBAAqB,wBAAwB;AAAE,SAAM,EAAC,MAAK,MAAMA,GAAE,YAAY,GAAE,MAAKD,GAAC;AAAC;AAAC,eAAe,EAAE,GAAE;AAAC,MAAG,EAAE,aAAa;AAAkB,WAAM;AAAY,QAAMA,KAAE,EAAE;AAAI,MAAG,GAAEA,EAAC,GAAE;AAAC,UAAME,KAAE,GAAEF,EAAC;AAAE,WAAM,kBAAeE,MAAA,gBAAAA,GAAG,aAAUA,GAAE,YAAU;AAAA,EAAW;AAAC,SAAM,UAAU,KAAKF,EAAC,IAAE,cAAY,iBAAiB,KAAKA,EAAC,IAAE,eAAa;AAAW;AAAC,SAAS,EAAE,GAAE;AAAC,MAAG,aAAa;AAAkB,WAAO;AAAE,MAAG,aAAa;AAAiB,WAAO;AAAK,QAAM,IAAE,SAAS,cAAc,QAAQ;AAAE,IAAE,QAAM,EAAE,OAAM,EAAE,SAAO,EAAE;AAAO,QAAM,IAAE,EAAE,WAAW,IAAI;AAAE,SAAO,aAAa,mBAAiB,EAAE,UAAU,GAAE,GAAE,GAAE,EAAE,OAAM,EAAE,MAAM,IAAE,aAAa,aAAW,EAAE,aAAa,GAAE,GAAE,CAAC,GAAE;AAAC;AAAC,SAAS,EAAE,GAAE;AAAC,QAAM,IAAE,CAAC,GAAE,IAAE,IAAI,WAAW,CAAC;AAAE,WAAQA,KAAE,GAAEA,KAAE,EAAE,QAAOA;AAAI,MAAE,KAAK,OAAO,aAAa,EAAEA,EAAC,CAAC,CAAC;AAAE,SAAM,0CAAwC,KAAK,EAAE,KAAK,EAAE,CAAC;AAAC;AAAC,SAAS,EAAE,GAAE;AAAC,MAAG,EAAE,aAAW;AAAE,WAAM;AAAG,QAAM,IAAE,IAAI,WAAW,CAAC;AAAE,SAAO,QAAM,EAAE,CAAC,KAAG,OAAK,EAAE,CAAC,KAAG,OAAK,EAAE,CAAC,KAAG,OAAK,EAAE,CAAC,KAAG,OAAK,EAAE,CAAC,KAAG,OAAK,EAAE,CAAC,KAAG,OAAK,EAAE,CAAC,KAAG,OAAK,EAAE,CAAC;AAAC;",
  "names": ["a", "r", "e"]
}
