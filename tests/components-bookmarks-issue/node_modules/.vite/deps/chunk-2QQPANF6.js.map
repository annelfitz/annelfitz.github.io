{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/support/renderInfoUtils/point.js", "../../@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{newDoubleArray as t}from\"../../../../geometry/support/DoubleArray.js\";import{applyPerVertexElevationAlignment as e}from\"../../layers/graphics/elevationAlignmentUtils.js\";function o(o,n,r,s,i){const l=t(3*o.length),p=t(l.length);o.forEach(((t,e)=>{l[3*e]=t[0],l[3*e+1]=t[1],l[3*e+2]=t.length>2?t[2]:0}));const c=e(l,n,0,p,0,l,0,l.length/3,r,s,i),m=null!=c;return{numVertices:o.length,position:l,mapPositions:p,projectionSuccess:m,sampledElevation:c}}export{o as geometryToRenderInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{s as e}from\"../../../../chunks/vec32.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as r,c as i}from\"../../../../chunks/vec42.js\";import{fromArray as s}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{Object3DVisualElement as a}from\"./Object3DVisualElement.js\";import{ElevationContext as l}from\"../../layers/graphics/ElevationContext.js\";import{geometryToRenderInfo as o}from\"../../support/renderInfoUtils/point.js\";import{CullFaceOptions as n}from\"../../webgl-engine/lib/basicInterfaces.js\";import{createSphereGeometry as c}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as h}from\"../../webgl-engine/lib/Material.js\";import{ShadedColorMaterial as u}from\"../../webgl-engine/materials/ShadedColorMaterial.js\";class d extends a{constructor(e){super(e),this.view=null,this._renderOccluded=h.OccludeAndTransparent,this._vertices=null,this._spatialReference=null,this._color=s([1,127/255,0,1]),this._size=11,this._outlineColor=s([0,0,0,.5]),this._outlineSize=1,this._elevationInfo=null,this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial(),this._updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){r(e,this._color)||(i(this._color,e),this._updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){r(e,this._outlineColor)||(i(this._outlineColor,e),this._updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get _vertexMaterialParameters(){return{color:this._color,screenSizeScale:this.size,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}get _vertexOutlineMaterialParameters(){return{color:this._outlineColor,screenSizeScale:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateMaterial(){this.attached&&this._vertexMaterial.setParameters(this._vertexMaterialParameters)}_updateOutlineMaterial(){this.attached&&this._vertexOutlineMaterial.setParameters(this._vertexOutlineMaterialParameters)}_createRenderGeometries(){const t=this.vertices;if(null==t||0===t.length)return[];const r=.5,i=.5,s=o(t,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,l.fromElevationInfo(this.elevationInfo)),a=[],n=s.numVertices,c=s.position;for(let l=0;l<n;++l){const t=e(_,c[3*l],c[3*l+1],c[3*l+2]),s=m(this._vertexMaterial,r,t),o=m(this._vertexOutlineMaterial,i,t);a.push({vertexGeometry:s,vertexOutlineGeometry:o})}return a}createGeometries(e){const t=this._createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r),e.addGeometry(i)}createExternalResources(){this._vertexMaterial=new u({...this._vertexMaterialParameters,writeDepth:!0,cullFace:n.Back,screenSizeEnabled:!0}),this._vertexOutlineMaterial=new u({...this._vertexOutlineMaterialParameters,forceTransparentMode:!0,writeDepth:!0,cullFace:n.Front,screenSizeEnabled:!0,shadingEnabled:!1})}destroyExternalResources(){this._vertexMaterial=null,this._vertexOutlineMaterial=null}forEachExternalMaterial(e){e(this._vertexMaterial),e(this._vertexOutlineMaterial)}}const _=t();function m(e,t,r){return c(e,t,16,16,{offset:r})}export{d as VerticesVisualElement};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIiL,SAASA,GAAEA,IAAEC,IAAE,GAAE,GAAE,GAAE;AAAC,QAAM,IAAE,EAAE,IAAED,GAAE,MAAM,GAAE,IAAE,EAAE,EAAE,MAAM;AAAE,EAAAA,GAAE,QAAS,CAACE,IAAEC,OAAI;AAAC,MAAE,IAAEA,EAAC,IAAED,GAAE,CAAC,GAAE,EAAE,IAAEC,KAAE,CAAC,IAAED,GAAE,CAAC,GAAE,EAAE,IAAEC,KAAE,CAAC,IAAED,GAAE,SAAO,IAAEA,GAAE,CAAC,IAAE;AAAA,EAAC,CAAE;AAAE,QAAM,IAAE,EAAE,GAAED,IAAE,GAAE,GAAE,GAAE,GAAE,GAAE,EAAE,SAAO,GAAE,GAAE,GAAE,CAAC,GAAEG,KAAE,QAAM;AAAE,SAAM,EAAC,aAAYJ,GAAE,QAAO,UAAS,GAAE,cAAa,GAAE,mBAAkBI,IAAE,kBAAiB,EAAC;AAAC;;;ACA6V,IAAM,IAAN,cAAgBC,GAAC;AAAA,EAAC,YAAYC,IAAE;AAAC,UAAMA,EAAC,GAAE,KAAK,OAAK,MAAK,KAAK,kBAAgB,EAAE,uBAAsB,KAAK,YAAU,MAAK,KAAK,oBAAkB,MAAK,KAAK,SAAO,EAAE,CAAC,GAAE,MAAI,KAAI,GAAE,CAAC,CAAC,GAAE,KAAK,QAAM,IAAG,KAAK,gBAAc,EAAE,CAAC,GAAE,GAAE,GAAE,GAAE,CAAC,GAAE,KAAK,eAAa,GAAE,KAAK,iBAAe,MAAK,KAAK,gBAAgBA,EAAC;AAAA,EAAC;AAAA,EAAC,IAAI,iBAAgB;AAAC,WAAO,KAAK;AAAA,EAAe;AAAA,EAAC,IAAI,eAAeA,IAAE;AAAC,IAAAA,OAAI,KAAK,oBAAkB,KAAK,kBAAgBA,IAAE,KAAK,gBAAgB,GAAE,KAAK,uBAAuB;AAAA,EAAE;AAAA,EAAC,IAAI,WAAU;AAAC,WAAO,KAAK;AAAA,EAAS;AAAA,EAAC,IAAI,SAASA,IAAE;AAAC,SAAK,YAAUA,IAAE,KAAK,iBAAiB;AAAA,EAAC;AAAA,EAAC,IAAI,mBAAkB;AAAC,WAAO,KAAK;AAAA,EAAiB;AAAA,EAAC,IAAI,iBAAiBA,IAAE;AAAC,SAAK,oBAAkBA,IAAE,KAAK,iBAAiB;AAAA,EAAC;AAAA,EAAC,IAAI,QAAO;AAAC,WAAO,KAAK;AAAA,EAAM;AAAA,EAAC,IAAI,MAAMA,IAAE;AAAC,MAAEA,IAAE,KAAK,MAAM,MAAI,EAAE,KAAK,QAAOA,EAAC,GAAE,KAAK,gBAAgB;AAAA,EAAE;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK;AAAA,EAAK;AAAA,EAAC,IAAI,KAAKA,IAAE;AAAC,IAAAA,OAAI,KAAK,UAAQ,KAAK,QAAMA,IAAE,KAAK,gBAAgB;AAAA,EAAE;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK;AAAA,EAAa;AAAA,EAAC,IAAI,aAAaA,IAAE;AAAC,MAAEA,IAAE,KAAK,aAAa,MAAI,EAAE,KAAK,eAAcA,EAAC,GAAE,KAAK,uBAAuB;AAAA,EAAE;AAAA,EAAC,IAAI,cAAa;AAAC,WAAO,KAAK;AAAA,EAAY;AAAA,EAAC,IAAI,YAAYA,IAAE;AAAC,IAAAA,OAAI,KAAK,iBAAe,KAAK,eAAaA,IAAE,KAAK,uBAAuB;AAAA,EAAE;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,KAAK;AAAA,EAAc;AAAA,EAAC,IAAI,cAAcA,IAAE;AAAC,SAAK,iBAAeA,IAAE,KAAK,iBAAiB;AAAA,EAAC;AAAA,EAAC,IAAI,4BAA2B;AAAC,WAAM,EAAC,OAAM,KAAK,QAAO,iBAAgB,KAAK,MAAK,gBAAe,KAAK,iBAAgB,cAAa,KAAK,aAAY;AAAA,EAAC;AAAA,EAAC,IAAI,mCAAkC;AAAC,WAAM,EAAC,OAAM,KAAK,eAAc,iBAAgB,KAAK,OAAK,IAAE,KAAK,aAAY,gBAAe,KAAK,iBAAgB,cAAa,KAAK,aAAY;AAAA,EAAC;AAAA,EAAC,kBAAiB;AAAC,SAAK,YAAU,KAAK,gBAAgB,cAAc,KAAK,yBAAyB;AAAA,EAAC;AAAA,EAAC,yBAAwB;AAAC,SAAK,YAAU,KAAK,uBAAuB,cAAc,KAAK,gCAAgC;AAAA,EAAC;AAAA,EAAC,0BAAyB;AAAC,UAAMC,KAAE,KAAK;AAAS,QAAG,QAAMA,MAAG,MAAIA,GAAE;AAAO,aAAM,CAAC;AAAE,UAAM,IAAE,KAAG,IAAE,KAAG,IAAEC,GAAED,IAAE,KAAK,kBAAiB,KAAK,KAAK,mBAAkB,KAAK,KAAK,oBAAmBC,GAAE,kBAAkB,KAAK,aAAa,CAAC,GAAEH,KAAE,CAAC,GAAEI,KAAE,EAAE,aAAY,IAAE,EAAE;AAAS,aAAQ,IAAE,GAAE,IAAEA,IAAE,EAAE,GAAE;AAAC,YAAMF,KAAE,EAAE,GAAE,EAAE,IAAE,CAAC,GAAE,EAAE,IAAE,IAAE,CAAC,GAAE,EAAE,IAAE,IAAE,CAAC,CAAC,GAAEG,KAAE,EAAE,KAAK,iBAAgB,GAAEH,EAAC,GAAEC,KAAE,EAAE,KAAK,wBAAuB,GAAED,EAAC;AAAE,MAAAF,GAAE,KAAK,EAAC,gBAAeK,IAAE,uBAAsBF,GAAC,CAAC;AAAA,IAAC;AAAC,WAAOH;AAAA,EAAC;AAAA,EAAC,iBAAiBC,IAAE;AAAC,UAAMC,KAAE,KAAK,wBAAwB;AAAE,eAAS,EAAC,gBAAe,GAAE,uBAAsB,EAAC,KAAIA;AAAE,MAAAD,GAAE,YAAY,CAAC,GAAEA,GAAE,YAAY,CAAC;AAAA,EAAC;AAAA,EAAC,0BAAyB;AAAC,SAAK,kBAAgB,IAAI,EAAE,EAAC,GAAG,KAAK,2BAA0B,YAAW,MAAG,UAASA,GAAE,MAAK,mBAAkB,KAAE,CAAC,GAAE,KAAK,yBAAuB,IAAI,EAAE,EAAC,GAAG,KAAK,kCAAiC,sBAAqB,MAAG,YAAW,MAAG,UAASA,GAAE,OAAM,mBAAkB,MAAG,gBAAe,MAAE,CAAC;AAAA,EAAC;AAAA,EAAC,2BAA0B;AAAC,SAAK,kBAAgB,MAAK,KAAK,yBAAuB;AAAA,EAAI;AAAA,EAAC,wBAAwBA,IAAE;AAAC,IAAAA,GAAE,KAAK,eAAe,GAAEA,GAAE,KAAK,sBAAsB;AAAA,EAAC;AAAC;AAAC,IAAM,IAAE,EAAE;AAAE,SAAS,EAAEA,IAAEC,IAAE,GAAE;AAAC,SAAO,GAAED,IAAEC,IAAE,IAAG,IAAG,EAAC,QAAO,EAAC,CAAC;AAAC;",
  "names": ["o", "n", "t", "e", "m", "a", "e", "t", "o", "n", "s"]
}
