import {
  a as a3
} from "./chunk-MFKQEOWD.js";
import {
  r as r2,
  t
} from "./chunk-O2O2F3IL.js";
import {
  j,
  w
} from "./chunk-UP44TGUG.js";
import {
  e as e5
} from "./chunk-YBFQVZX5.js";
import "./chunk-UAITPI2I.js";
import "./chunk-7G5NQR7Q.js";
import "./chunk-KDHW2KXU.js";
import "./chunk-3ENNELTC.js";
import "./chunk-ZKV5BWYX.js";
import "./chunk-E6JAHJ2A.js";
import "./chunk-SVNPPUZN.js";
import "./chunk-ID25T22U.js";
import "./chunk-HBBLDSW6.js";
import "./chunk-YYI7TRI3.js";
import "./chunk-RQW2N53A.js";
import "./chunk-LHVWC4RW.js";
import "./chunk-GN2OLKIL.js";
import "./chunk-4VVENLLF.js";
import "./chunk-6GQQIJM7.js";
import "./chunk-5T7MASZO.js";
import "./chunk-5WKN6K5Z.js";
import "./chunk-WCBHO6BH.js";
import "./chunk-V7NVRGBC.js";
import "./chunk-KCZGCTYM.js";
import "./chunk-3YZBQBZ5.js";
import "./chunk-RFBA77K3.js";
import "./chunk-46T3D2EU.js";
import "./chunk-RYF27IO3.js";
import "./chunk-5MKTGTC4.js";
import "./chunk-7UDCRD5C.js";
import "./chunk-B3GKRGWX.js";
import "./chunk-FN7LLNVA.js";
import "./chunk-BR3PF5YD.js";
import "./chunk-QCUK7T7Y.js";
import "./chunk-2NDIVJST.js";
import "./chunk-SPYHZ6ZW.js";
import "./chunk-PMFQ2A2V.js";
import "./chunk-HHAESKQ6.js";
import "./chunk-5INQRMFY.js";
import "./chunk-XP3ABGGF.js";
import "./chunk-TACIE3AK.js";
import "./chunk-KYKKN5I4.js";
import "./chunk-4MJOJUFR.js";
import "./chunk-ZGRPTRAY.js";
import {
  n
} from "./chunk-BEXFYHUM.js";
import "./chunk-XTY645DH.js";
import "./chunk-BHOYA5LV.js";
import {
  e as e4
} from "./chunk-7RP2CUPD.js";
import "./chunk-KWLN46JY.js";
import "./chunk-J5F4VILS.js";
import "./chunk-KSBIR2KG.js";
import "./chunk-XVQGALI7.js";
import "./chunk-XFQIXBHG.js";
import "./chunk-MVSN2HAN.js";
import "./chunk-7A5N7G2Z.js";
import "./chunk-J54I3TB7.js";
import "./chunk-OE52KVBM.js";
import "./chunk-L577YNYZ.js";
import "./chunk-GL5TSVQL.js";
import "./chunk-TYYN3C37.js";
import "./chunk-OBABKQ6S.js";
import "./chunk-4GGEQMYI.js";
import "./chunk-A47N2JLN.js";
import "./chunk-ZPC74XHC.js";
import "./chunk-IVGJRGD2.js";
import "./chunk-JA2AO4PC.js";
import "./chunk-MTLWPXQD.js";
import "./chunk-ECIXBYOQ.js";
import "./chunk-5MQ4HAUX.js";
import "./chunk-2DATALUO.js";
import "./chunk-QFKFOAJ6.js";
import "./chunk-LOPMLCHC.js";
import "./chunk-JIR2YP6A.js";
import "./chunk-LANUNBDP.js";
import "./chunk-JBF6CULO.js";
import "./chunk-DRCNNCTI.js";
import "./chunk-MKOOEINB.js";
import "./chunk-JKOHBDRD.js";
import "./chunk-MDSRD3WV.js";
import {
  h
} from "./chunk-3DFMDDMO.js";
import "./chunk-4BCSYJOQ.js";
import "./chunk-GMUCR2DJ.js";
import "./chunk-HBRJJENW.js";
import "./chunk-VHY5K2VE.js";
import "./chunk-6ENXMQPD.js";
import "./chunk-FV43HSGW.js";
import "./chunk-ZR7OV2EH.js";
import "./chunk-U76EZJUZ.js";
import "./chunk-MEEG7XMI.js";
import "./chunk-LJULTBAY.js";
import "./chunk-FD4DXBZA.js";
import "./chunk-7QHIE4SQ.js";
import "./chunk-6MGK5WBT.js";
import "./chunk-HSOVRETF.js";
import "./chunk-CPZW2LMK.js";
import "./chunk-QR7J3YDY.js";
import "./chunk-GO2OGJDG.js";
import "./chunk-UYMREM3D.js";
import "./chunk-4YGBWYMD.js";
import "./chunk-JTUYA5FE.js";
import "./chunk-UNTQATE2.js";
import "./chunk-5YY6NZNY.js";
import "./chunk-YUWVLORR.js";
import "./chunk-7MYYCSEB.js";
import "./chunk-ESK2YRQM.js";
import "./chunk-QIEXJLRX.js";
import "./chunk-UNTPHF5R.js";
import "./chunk-YJFPDMSR.js";
import "./chunk-FFG7BDAP.js";
import "./chunk-QYDOVVH7.js";
import "./chunk-YSXT2SWC.js";
import "./chunk-YH3SFFF7.js";
import "./chunk-JBU54P54.js";
import "./chunk-H7T5AB2S.js";
import "./chunk-WKVHVZW2.js";
import "./chunk-DH7BG2VH.js";
import "./chunk-KSZESDGM.js";
import "./chunk-CHJMCUAV.js";
import "./chunk-5P74D2TG.js";
import "./chunk-33LWZO2E.js";
import "./chunk-YT66FIGM.js";
import "./chunk-VIKID44H.js";
import "./chunk-3IDXRFXE.js";
import "./chunk-TLU6YG3S.js";
import "./chunk-RLZYC2LS.js";
import "./chunk-WEER6QME.js";
import "./chunk-TXLJQAAN.js";
import "./chunk-YF5E2R37.js";
import "./chunk-R4SGP2EA.js";
import "./chunk-IRL6OOVK.js";
import "./chunk-3AIILHI5.js";
import {
  a as a2
} from "./chunk-SA77Z3WI.js";
import "./chunk-6MBDB46F.js";
import "./chunk-BKOYOJBG.js";
import "./chunk-7JR6S3WL.js";
import "./chunk-CJNDQ2LH.js";
import "./chunk-B4E4X2TN.js";
import "./chunk-HS6YI5DU.js";
import "./chunk-CDBOQCLE.js";
import "./chunk-RSRUEM5U.js";
import "./chunk-HFJMEXIX.js";
import "./chunk-VYSGSKHB.js";
import "./chunk-DGJJJ2DD.js";
import "./chunk-UAFQMHYI.js";
import "./chunk-IDPLBNJX.js";
import "./chunk-ZHAZR5C3.js";
import "./chunk-P4MNTMCZ.js";
import "./chunk-BSPKLAHD.js";
import "./chunk-GPWQGIYV.js";
import "./chunk-WZJNHZ6H.js";
import "./chunk-XMYPMIYH.js";
import "./chunk-FQLGRQKL.js";
import "./chunk-XGTCDM4C.js";
import "./chunk-LGMX4E7L.js";
import "./chunk-42DUJ2CX.js";
import "./chunk-B35SNV2V.js";
import "./chunk-Z2F5OKVA.js";
import "./chunk-UQA6M3KF.js";
import "./chunk-GLF3KRAL.js";
import "./chunk-ZLQTPFTL.js";
import "./chunk-WIVZ7SMV.js";
import "./chunk-O76UVYOO.js";
import "./chunk-QCMUK3QA.js";
import "./chunk-HZSGATFT.js";
import "./chunk-KNMQQRV7.js";
import "./chunk-N5GQOIDP.js";
import "./chunk-NFB6O77E.js";
import {
  e as e3
} from "./chunk-AKEHDP75.js";
import "./chunk-5MMGIT64.js";
import "./chunk-SCHTG6ZQ.js";
import "./chunk-QYC3GV65.js";
import "./chunk-ETHGDNE6.js";
import "./chunk-X2GCSX3A.js";
import "./chunk-USOPZ2Q6.js";
import "./chunk-S5I4QKJD.js";
import "./chunk-HWHMO3CO.js";
import "./chunk-NCRCDVOW.js";
import "./chunk-QX66UTIR.js";
import "./chunk-ZIJHDTB7.js";
import "./chunk-ZU6I4R6T.js";
import "./chunk-JI3AZJ7K.js";
import "./chunk-A5Q7MMP6.js";
import "./chunk-326OSIM5.js";
import "./chunk-R4CJB3GP.js";
import "./chunk-HTKSTTSR.js";
import "./chunk-6IED7TER.js";
import "./chunk-X7VSXJWW.js";
import "./chunk-VEODBKUJ.js";
import "./chunk-AG6JXA4M.js";
import "./chunk-B647DRFJ.js";
import "./chunk-PJNK3TLV.js";
import "./chunk-J7AMTUNG.js";
import "./chunk-G5EVVNIJ.js";
import "./chunk-HU5IGOTI.js";
import "./chunk-C24MEKSO.js";
import {
  u as u2
} from "./chunk-WDPG5BMO.js";
import "./chunk-TGXFDJCS.js";
import "./chunk-BOAEEYBE.js";
import "./chunk-VBUVOOM6.js";
import "./chunk-UMXV3EBO.js";
import "./chunk-ONK5AE7R.js";
import "./chunk-CZSTCON2.js";
import "./chunk-2ICUS4HL.js";
import "./chunk-ZXJ6I4RF.js";
import "./chunk-GBF2OQAY.js";
import "./chunk-WNNYD62G.js";
import {
  m2 as m
} from "./chunk-HV6S3GY2.js";
import "./chunk-IGR2BTWR.js";
import "./chunk-C7NPPGFR.js";
import "./chunk-ZPYA32PH.js";
import "./chunk-OCF7OAES.js";
import "./chunk-JZBR4X6W.js";
import "./chunk-OIJCMME5.js";
import "./chunk-4KLYOMH2.js";
import "./chunk-C62RZQQX.js";
import "./chunk-6Z6C6JVV.js";
import "./chunk-QLL2YG25.js";
import "./chunk-Z2PDA67N.js";
import "./chunk-IZKCZQUY.js";
import "./chunk-M5ZB5S5C.js";
import "./chunk-MBGZKT2Z.js";
import "./chunk-UWQ3OYA5.js";
import "./chunk-ORO4D3FB.js";
import "./chunk-YOPMY6TS.js";
import "./chunk-VIN55KNF.js";
import "./chunk-NIDZ6R4E.js";
import "./chunk-IOB3DJMR.js";
import "./chunk-BPRXWDBO.js";
import "./chunk-7MT4ACA4.js";
import "./chunk-RUN6MNXL.js";
import "./chunk-BIAXSBMP.js";
import "./chunk-SAYWXQVM.js";
import "./chunk-SBL4URUW.js";
import {
  A,
  d as d2
} from "./chunk-Z4Y53NDM.js";
import "./chunk-PVUNFEWX.js";
import "./chunk-TXBMNSNF.js";
import {
  d
} from "./chunk-BVQWKK2V.js";
import "./chunk-D25BO7X7.js";
import {
  S,
  r2 as r,
  y2 as y
} from "./chunk-NDIXNREV.js";
import {
  a3 as a
} from "./chunk-I2RC5KWA.js";
import "./chunk-SSFWZSUM.js";
import {
  e
} from "./chunk-2F6FFF5T.js";
import "./chunk-C26KUZ46.js";
import {
  l as l2,
  o,
  s
} from "./chunk-JGDJR5EV.js";
import {
  e as e2,
  l,
  u
} from "./chunk-QHK5ZYFW.js";
import "./chunk-L65HKN25.js";
import "./chunk-7RBRCL6S.js";
import "./chunk-J2EGIWT6.js";
import "./chunk-Z4ZPL3B3.js";

// node_modules/@arcgis/core/widgets/ElevationProfile/support/InputRepresentation3D.js
var p = class {
  constructor(e6) {
    this._params = e6, this._highlightTask = null, this._highlightHandle = null, this._visualElementHandle = null, this._settings = new j({ getTheme: () => this._params.view.effectiveTheme });
  }
  destroy() {
    this.remove();
  }
  remove() {
    this._highlightTask = e2(this._highlightTask), this._highlightHandle = l(this._highlightHandle), this._visualElementHandle = l(this._visualElementHandle);
  }
  showHighlight(i) {
    if (this.remove(), null == i || !u3(i))
      return;
    const t2 = i.layer;
    this._highlightTask = d(async (e6) => {
      const s2 = await this._params.view.whenLayerView(t2);
      s(e6), n(s2) && (this._highlightHandle = s2.highlight(i));
    });
  }
  showReshaping(e6) {
    if (this.remove(), null == e6)
      return;
    const s2 = this._params.view, l3 = new w({ view: s2, geometry: u3(e6) ? e6.geometry : null, attached: false, elevationInfo: a2(e6), renderOccluded: h.OccludeAndTransparentStencil, isDecoration: true }), r3 = new e5({ graphic: e6 }), n2 = [d2(() => r3.isDraped, (e7) => {
      l3.isDraped = e7;
    }), r3.on("changed", () => {
      l3.geometry = u3(e6) ? e6.geometry : null;
    }), s2.trackGraphicState(r3), s2.maskOccludee(e6), l2(l3)];
    this._settings.visualElements.lineObjects.outline.apply(l3), l3.attached = true, this._visualElementHandle = o(n2);
  }
};
function u3(e6) {
  return null != e6.geometry && "polyline" === e6.geometry.type;
}

// node_modules/@arcgis/core/widgets/ElevationProfile/support/ProfileLines3D.js
var h2 = 100;
var f = class extends S {
  constructor(e6) {
    super(e6), this._chartData = null, this._visualElements = [];
  }
  initialize() {
    const e6 = e4((e7) => {
      this._update(e7);
    }, h2);
    this.addHandles([d2(() => ({ spatialReference: this.view.spatialReference, chartData: this._chartData }), e6, A), e6]);
  }
  destroy() {
    this._destroyVisualElements();
  }
  remove() {
    this._destroyVisualElements();
  }
  update(e6) {
    this._chartData = e6;
  }
  _update(e6) {
    const { chartData: o2 } = e6;
    if (null == o2)
      return this.remove();
    if (!o2.refined)
      return;
    const r3 = this._visualElements, s2 = o2.lines.filter((e7) => e7.viewVisualizationEnabled), i = s2.length;
    for (; r3.length > i; )
      r3.pop().destroy();
    const l3 = r2().profileLinesStyle3D;
    for (; r3.length < i; ) {
      const e7 = new w({ view: this.view, elevationInfo: { mode: "absolute-height", offset: 0 }, innerWidth: l3.width - l3.outlineSize, width: l3.width, falloff: l3.falloff, color: l3.outlineColor, renderOccluded: l3.renderOccluded, isDecoration: true });
      r3.push(e7);
    }
    const a4 = e6.spatialReference;
    for (let c = 0; c < i; ++c) {
      const e7 = r3[c], o3 = s2[i - 1 - c];
      e7.geometry = this._createLineGeometry(o3, a4), e7.innerColor = e3(u2.toUnitRGBA(o3.color));
    }
  }
  _createLineGeometry(e6, t2) {
    const o2 = e6.samples ?? [], r3 = o2.length - 1, s2 = [];
    let i = [];
    for (let l3 = 0; l3 <= r3; l3++) {
      const { x: e7, y: t3, z: a4 } = o2[l3];
      null != a4 && i.push([e7, t3, a4]), l3 !== r3 && null != a4 || !i.length || (s2.push(i), i = []);
    }
    return new m({ paths: s2, hasZ: true, spatialReference: t2 });
  }
  _destroyVisualElements() {
    this._visualElements.forEach((e6) => e6.destroy()), this._visualElements.length = 0;
  }
};
e([y()], f.prototype, "view", void 0), e([y()], f.prototype, "_chartData", void 0), f = e([a("esri.widgets.ElevationProfile.support.ProfileLines3D")], f);

// node_modules/@arcgis/core/widgets/ElevationProfile/support/ElevationProfileView3D.js
var p2 = class {
  constructor(t2, s2) {
    this._handles = new r(), this._inputRepresentation = new p({ view: t2 }), this._hoveredPoints = new a3({ view: t2 }), this._profileLines = new f({ view: t2 }), this._handles.add([d2(() => s2.viewModel.hoveredPoints, (e6) => this._hoveredPoints.update(e6), A), d2(() => {
      const { state: e6, editable: t3, highlightEnabled: i, viewModel: o2 } = s2, n2 = o2.input;
      return n2 && (n2.commitProperty("geometry"), n2.commitProperty("layer")), { input: n2, state: e6, editable: t3, highlightEnabled: i };
    }, (e6) => this._updateInputRepresentation(e6), A), d2(() => s2.viewModel.chartData, (e6) => this._profileLines.update(e6), A), d2(() => {
      var _a;
      return (_a = s2.viewModel.input) == null ? void 0 : _a.geometry;
    }, () => {
      this._profileLines.remove();
    }, A)]);
  }
  destroy() {
    this._handles = u(this._handles), this._inputRepresentation = u(this._inputRepresentation), this._hoveredPoints = u(this._hoveredPoints), this._profileLines = u(this._profileLines);
  }
  _updateInputRepresentation({ input: e6, state: t2, editable: i, highlightEnabled: o2 }) {
    const n2 = this._inputRepresentation;
    if (!o2)
      return n2.remove();
    t2 === t.Selected ? n2.showHighlight(e6) : t2 !== t.Created || i ? n2.remove() : n2.showReshaping(e6);
  }
};
export {
  p2 as ElevationProfileView3D
};
//# sourceMappingURL=ElevationProfileView3D-NF6SEJIO.js.map
