{
  "version": 3,
  "sources": ["../../@arcgis/core/rest/query/operations/queryAttachments.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{addTokenParameter as t}from\"../../../kernel.js\";import o from\"../../../request.js\";import{addProxy as e}from\"../../../core/urlUtils.js\";import{mapParameters as n}from\"../../operations/urlUtils.js\";import r from\"../support/AttachmentInfo.js\";function s(t){const o=t.toJSON();return o.attachmentTypes&&(o.attachmentTypes=o.attachmentTypes.join(\",\")),o.keywords&&(o.keywords=o.keywords.join(\",\")),o.globalIds&&(o.globalIds=o.globalIds.join(\",\")),o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.size&&(o.size=o.size.join(\",\")),o}function a(o,n){const s={};for(const a of n){const{parentObjectId:n,parentGlobalId:c,attachmentInfos:m}=a;for(const a of m){const{id:m}=a,p=e(t(`${o.path}/${n}/attachments/${m}`)),i=r.fromJSON(a);i.set({url:p,parentObjectId:n,parentGlobalId:c}),s[n]?s[n].push(i):s[n]=[i]}}return s}function c(t,e,r){let a={query:n({...t.query,f:\"json\",...s(e)})};return r&&(a={...r,...a,query:{...r.query,...a.query}}),o(t.path+\"/queryAttachments\",a).then((t=>t.data.attachmentGroups))}async function m(t,e,n){const{objectIds:r}=e,s=[];for(const a of r)s.push(o(t.path+\"/\"+a+\"/attachments\",n));return Promise.all(s).then((t=>r.map(((o,e)=>({parentObjectId:o,attachmentInfos:t[e].data.attachmentInfos})))))}export{c as executeAttachmentQuery,m as fetchAttachments,a as processAttachmentQueryResult};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;AAIwP,SAAS,EAAEA,IAAE;AAAC,QAAM,IAAEA,GAAE,OAAO;AAAE,SAAO,EAAE,oBAAkB,EAAE,kBAAgB,EAAE,gBAAgB,KAAK,GAAG,IAAG,EAAE,aAAW,EAAE,WAAS,EAAE,SAAS,KAAK,GAAG,IAAG,EAAE,cAAY,EAAE,YAAU,EAAE,UAAU,KAAK,GAAG,IAAG,EAAE,cAAY,EAAE,YAAU,EAAE,UAAU,KAAK,GAAG,IAAG,EAAE,SAAO,EAAE,OAAK,EAAE,KAAK,KAAK,GAAG,IAAG;AAAC;AAAC,SAASC,GAAE,GAAE,GAAE;AAAC,QAAMC,KAAE,CAAC;AAAE,aAAUD,MAAK,GAAE;AAAC,UAAK,EAAC,gBAAeE,IAAE,gBAAeC,IAAE,iBAAgBC,GAAC,IAAEJ;AAAE,eAAUA,MAAKI,IAAE;AAAC,YAAK,EAAC,IAAGA,GAAC,IAAEJ,IAAE,IAAE,EAAE,EAAE,GAAG,EAAE,IAAI,IAAIE,EAAC,gBAAgBE,EAAC,EAAE,CAAC,GAAE,IAAE,EAAE,SAASJ,EAAC;AAAE,QAAE,IAAI,EAAC,KAAI,GAAE,gBAAeE,IAAE,gBAAeC,GAAC,CAAC,GAAEF,GAAEC,EAAC,IAAED,GAAEC,EAAC,EAAE,KAAK,CAAC,IAAED,GAAEC,EAAC,IAAE,CAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAC,SAAOD;AAAC;AAAC,SAAS,EAAEF,IAAE,GAAE,GAAE;AAAC,MAAIC,KAAE,EAAC,OAAM,EAAE,EAAC,GAAGD,GAAE,OAAM,GAAE,QAAO,GAAG,EAAE,CAAC,EAAC,CAAC,EAAC;AAAE,SAAO,MAAIC,KAAE,EAAC,GAAG,GAAE,GAAGA,IAAE,OAAM,EAAC,GAAG,EAAE,OAAM,GAAGA,GAAE,MAAK,EAAC,IAAG,EAAED,GAAE,OAAK,qBAAoBC,EAAC,EAAE,KAAM,CAAAD,OAAGA,GAAE,KAAK,gBAAiB;AAAC;AAAC,eAAeK,GAAEL,IAAE,GAAE,GAAE;AAAC,QAAK,EAAC,WAAU,EAAC,IAAE,GAAEE,KAAE,CAAC;AAAE,aAAUD,MAAK;AAAE,IAAAC,GAAE,KAAK,EAAEF,GAAE,OAAK,MAAIC,KAAE,gBAAe,CAAC,CAAC;AAAE,SAAO,QAAQ,IAAIC,EAAC,EAAE,KAAM,CAAAF,OAAG,EAAE,IAAK,CAAC,GAAEM,QAAK,EAAC,gBAAe,GAAE,iBAAgBN,GAAEM,EAAC,EAAE,KAAK,gBAAe,EAAG,CAAE;AAAC;",
  "names": ["t", "a", "s", "n", "c", "m", "e"]
}
