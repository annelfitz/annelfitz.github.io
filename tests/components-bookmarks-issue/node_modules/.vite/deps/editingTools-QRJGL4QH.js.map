{
  "version": 3,
  "sources": ["../../@arcgis/core/views/interactive/SegmentLabels.js", "../../@arcgis/core/views/3d/interactive/SegmentLabels3D.js", "../../@arcgis/core/views/3d/interactive/editingTools/meshFastUpdateUtils.js", "../../@arcgis/core/views/3d/interactive/editingTools/draw/DrawGraphicTool3D.js", "../../@arcgis/core/views/3d/interactive/editingTools/geometryUtils.js", "../../@arcgis/core/views/3d/interactive/editingTools/GrabbingState.js", "../../@arcgis/core/views/3d/interactive/editingTools/ManipulatorType.js", "../../@arcgis/core/views/3d/interactive/editingTools/ManipulatorState.js", "../../@arcgis/core/views/3d/interactive/editingTools/lineObjectVisualElementUtils.js", "../../@arcgis/core/views/3d/interactive/editingTools/originGeometryVisualElementUtils.js", "../../@arcgis/core/views/3d/interactive/editingTools/visualElementUtils.js", "../../@arcgis/core/views/3d/interactive/editingTools/manipulations/config.js", "../../@arcgis/core/views/3d/interactive/editingTools/manipulations/Manipulation.js", "../../@arcgis/core/views/3d/interactive/editingTools/manipulations/moveUtils.js", "../../@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation.js", "../../@arcgis/core/views/3d/interactive/editingTools/snapping/SnapToScene.js", "../../@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation.js", "../../@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveZManipulation.js", "../../@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveManipulation.js", "../../@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYObjectManipulation.js", "../../@arcgis/core/views/3d/interactive/editingTools/move/MoveTool3D.js", "../../@arcgis/core/views/3d/interactive/editingTools/reshape/edgeOffsetUtils.js", "../../@arcgis/core/views/interactive/tooltip/ReshapeTooltipInfos.js", "../../@arcgis/core/views/3d/interactive/editingTools/reshape/ReshapeOperation.js", "../../@arcgis/core/views/3d/interactive/editingTools/reshape/ReshapeTool3D.js", "../../@arcgis/core/views/3d/interactive/editingTools/transform/undoRecords.js", "../../@arcgis/core/views/3d/interactive/editingTools/transform/ScaleRotateMeshAdapter.js", "../../@arcgis/core/views/3d/interactive/editingTools/transform/ScaleRotateObjectSymbol3DAdapter.js", "../../@arcgis/core/views/interactive/tooltip/TransformTooltipInfos.js", "../../@arcgis/core/views/3d/interactive/editingTools/transform/ScaleRotateTransform.js", "../../@arcgis/core/views/3d/interactive/editingTools/transform/TransformTool3D.js", "../../@arcgis/core/views/3d/interactive/editingTools/transform/extentTransform/ExtentMove.js", "../../@arcgis/core/views/3d/interactive/editingTools/transform/extentTransform/ExtentRotate.js", "../../@arcgis/core/views/3d/interactive/editingTools/transform/extentTransform/extentUtils.js", "../../@arcgis/core/views/3d/interactive/editingTools/transform/extentTransform/ExtentScale.js", "../../@arcgis/core/views/3d/interactive/editingTools/transform/extentTransform/PreserveAspectRatio.js", "../../@arcgis/core/views/3d/interactive/editingTools/transform/extentTransform/SnapRotation.js", "../../@arcgis/core/views/3d/interactive/editingTools/transform/ExtentTransformTool.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../Color.js\";import o from\"../../core/Accessor.js\";import{createTask as s}from\"../../core/asyncUtils.js\";import{multiplyOpacity as r,getContrast as i,BrightnessThreshold as n}from\"../../core/colorUtils.js\";import{makeHandle as l}from\"../../core/handleUtils.js\";import{deg2rad as a}from\"../../core/mathUtils.js\";import{throwIfAborted as c}from\"../../core/promiseUtils.js\";import{formatLength as p}from\"../../core/quantityFormatUtils.js\";import{watch as h,on as m}from\"../../core/reactiveUtils.js\";import{createScreenPointArray as d}from\"../../core/screenUtils.js\";import{getMetersPerUnit as u,getMetersPerVerticalUnitForSR as f}from\"../../core/unitUtils.js\";import{property as b}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as g}from\"../../core/accessorSupport/decorators/subclass.js\";import{squaredDistance as x,set as _,normalize as y,scale as v,lerp as j,add as L}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{create as U}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{G as I}from\"../../chunks/vec32.js\";import{isClockwise as C}from\"../../geometry/support/coordsUtils.js\";import{sv3d as w}from\"../../geometry/support/vectorStacks.js\";import{fetchMessageBundle as k}from\"../../intl/messages.js\";import{getConvertedElevationFromVector as S,absoluteHeightElevationInfo as D}from\"../../support/elevationInfoUtils.js\";import{getDefaultUnitForView as O}from\"../../support/getDefaultUnitForView.js\";import P from\"../overlay/TextOverlayItem.js\";import{autoDistance2D as V}from\"../support/automaticLengthMeasurementUtils.js\";const G=3025,M={default:15,far:25};let A=class extends o{constructor(t){super(t),this.context=null,this.stagedVertex=null,this.visible=!0,this.edgeDistance=\"default\",this._messagesUnits=null,this._labelInfos=[],this._nextLabelIndex=0}initialize(){const t=s((async t=>{const e=await k(\"esri/core/t9n/Units\");c(t),this._messagesUnits=e}));this.addHandles([h((()=>[null!=this.context&&this.getCameraOrExtent(this.context),this.visible,this._edgeDistancePixels,this.stagedVertex,this._messagesUnits]),(()=>this._update())),...[\"vertex-add\",\"vertex-update\",\"vertex-remove\"].map((t=>m((()=>this.context?.editGeometryOperations),t,(()=>this._update())))),l((()=>t.abort())),h((()=>this._colors),(t=>this._updateStyle(t)))])}destroy(){for(this._nextLabelIndex=0;this._labelInfos.length;)this._destroyLabel(this._labelInfos.pop())}get updating(){return null==this._messagesUnits}get test(){return{labelContents:this._labelInfos.slice(0,this._nextLabelIndex).map((t=>t.label.text))}}get _edgeDistancePixels(){return M[this.edgeDistance]}get _colors(){const t=this.context?.view.effectiveTheme.textColor??e.fromArray([255,255,255]);return{textColor:t,backgroundColor:r(i(t,n.Low),.6)}}_update(){if(this.destroyed)return;this._nextLabelIndex=0;const{context:t,stagedVertex:e}=this;if(!t)return this._destroyUnusedLabels();const{editGeometryOperations:o}=t,{components:s,geometry:r,coordinateHelper:i}=o.data;if(!r)return this._destroyUnusedLabels();const n=s.length;for(let l=0;l<n;++l){const s=R(r,o,e,i,l);if(s.length<2||!q(s,t.view,t.elevationInfo,i.spatialReference))continue;const a=1===n&&!C(s);let c=T,p=X;this.toScreenPointArray(t,s[0],c);for(let e=1;e<s.length;++e){const o=s[e-1],r=s[e];this.toScreenPointArray(t,r,p),this._addLabel(t,o,c,r,p,a),[c,p]=[p,c]}}this._destroyUnusedLabels()}_updateStyle({textColor:t,backgroundColor:e}){const o=this._nextLabelIndex,s=this._labelInfos;for(let r=0;r<o;++r){const{label:o}=s[r];o.textColor=t,o.backgroundColor=e}}_addLabel(t,e,o,s,r,i){const{label:n}=this._getOrCreateLabel(t);if(!this.visible||x(o,r)<G)return void(n.visible=!1);const{spatialReference:l}=t.editGeometryOperations.data,a=V(e,s,l),c=this._messagesUnits,h=O(t.view);n.text=null!=c&&null!=a?p(c,a,h):\"\",n.visible=!0;const m=r[0]-o[0],d=r[1]-o[1];i?_(F,-d,m):_(F,d,-m),y(F,F),v(F,F,this._edgeDistancePixels),j(H,o,r,.5),L(H,H,F),n.position=[H[0],H[1]],Math.abs(F[0])>Math.abs(F[1])?n.anchor=F[0]>0?\"left\":\"right\":n.anchor=-F[1]<0?\"top\":\"bottom\"}_getOrCreateLabel(t){const e=this._labelInfos.length>this._nextLabelIndex,{textColor:o,backgroundColor:s}=this._colors;if(e){const t=this._labelInfos[this._nextLabelIndex++],{label:e}=t;return e.textColor=o,e.backgroundColor=s,t}const r=new P({anchor:\"center\",fontSize:8,textColor:o,backgroundColor:s});t.view.overlay?.items.add(r);const i={label:r};return this._labelInfos.push(i),this._nextLabelIndex=this._labelInfos.length,i}_destroyUnusedLabels(){for(;this._labelInfos.length>this._nextLabelIndex;)this._destroyLabel(this._labelInfos.pop())}_destroyLabel({label:t}){this.context?.view.overlay?.items.remove(t),t.destroy()}};function R(t,e,o,s,r){const i=[];if(e.data.components[r].iterateVertices((t=>{i.push(s.toXYZ(t.pos,w.get()))})),0===r&&null!=o&&i.push(s.toXYZ(o,w.get())),i.length<2)return i;const n=i[0],l=i[i.length-1];return\"polygon\"===t.type&&i.length>2&&!I(n,l)&&i.push(n),i}function q(t,e,o,s){if(\"2d\"===e.type)return!0;const r=u(s)??1,i=f(s),n=t=>S(e,t,s,o,D)??0;for(let l=1;l<t.length;++l){const e=t[l-1],o=t[l],s=(o[0]-e[0])*r,a=(o[1]-e[1])*r,c=(n(o)-n(e))*i;if(Math.abs(c)/Math.sqrt(s*s+a*a)>z)return!1}return!0}t([b()],A.prototype,\"context\",void 0),t([b()],A.prototype,\"stagedVertex\",void 0),t([b()],A.prototype,\"visible\",void 0),t([b()],A.prototype,\"edgeDistance\",void 0),t([b()],A.prototype,\"updating\",null),t([b()],A.prototype,\"_messagesUnits\",void 0),t([b()],A.prototype,\"_edgeDistancePixels\",null),t([b()],A.prototype,\"_colors\",null),A=t([g(\"esri.views.interactive.SegmentLabels\")],A);const z=a(5),F=U(),H=U(),T=d(),X=d();export{A as SegmentLabels};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{createScreenPointArray as r}from\"../../../core/screenUtils.js\";import\"../../../core/Logger.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import\"../../../core/Error.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import{create as o}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{SegmentLabels as s}from\"../../interactive/SegmentLabels.js\";import{vectorToRender as i}from\"../../interactive/support/viewUtils.js\";let a=class extends s{getCameraOrExtent({view:e}){return e.state.camera}toScreenPointArray({view:e,elevationInfo:t,editGeometryOperations:o},s,a=r()){const{spatialReference:m}=o.data.coordinateHelper;return i(s,m,t,e,c),e.state.camera.projectToScreen(c,a),a}};a=e([t(\"esri.views.3d.interactive.SegmentLabels3D\")],a);const c=o();export{a as SegmentLabels3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{watch as t,syncAndInitial as r}from\"../../../../core/reactiveUtils.js\";import{isRelativeVertexSpace as o}from\"../../../../geometry/support/meshVertexSpaceUtils.js\";import{equals as i}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{MeshTransformUpdateAction as s}from\"../../../../layers/graphics/sources/interfaces.js\";import{ViewingMode as n}from\"../../../ViewingMode.js\";function a(o,i){const s=o.graphic;return s?[t((()=>\"visible\"in o?o.visible:o.displaying),(e=>{e?c(s,i):p(s,i)}),{...r}),e((()=>p(s,i)))]:[]}function c(e,t){const{geometry:r}=e;f(r,t)&&e.notifyMeshTransformChanged({action:s.EnableFastUpdates})}function p(e,t){const{geometry:r}=e;f(r,t)&&e.notifyMeshTransformChanged({action:s.DisableFastUpdates})}function f(e,{state:{viewingMode:t},spatialReference:r}){if(\"mesh\"!==e?.type)return!1;const{vertexSpace:s,spatialReference:a}=e;if(!o(s))return!1;const{type:c}=s;return t===n.Global&&\"local\"===c||t===n.Local&&i(r,a)&&\"georeferenced\"===c&&!a.isGeographic}export{a as meshTransformFastUpdateHandles,p as tryDisableMeshTransformFastUpdates,c as tryEnableMeshTransformFastUpdates};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{unitRGBAFromColor as t}from\"../../../../../core/colorUtils.js\";import{handlesGroup as i,makeHandle as s}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as r}from\"../../../../../core/maybe.js\";import{watch as o,when as n,syncAndInitial as a,initial as l}from\"../../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as p}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{s as h}from\"../../../../../chunks/vec32.js\";import{create as m}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getEffectiveElevationInfo as u,getEffectiveElevationMode as d}from\"../../../../../support/elevationInfoUtils.js\";import v from\"../../../../../symbols/support/ElevationInfo.js\";import{SegmentLabels3D as f}from\"../../SegmentLabels3D.js\";import{SnappingVisualizer3D as g}from\"../../SnappingVisualizer3D.js\";import{meshTransformFastUpdateHandles as w}from\"../meshFastUpdateUtils.js\";import{Settings as y}from\"../settings.js\";import{ExtendedLineVisualElement as E}from\"../../visualElements/ExtendedLineVisualElement.js\";import{OutlineVisualElement as V}from\"../../visualElements/OutlineVisualElement.js\";import{VerticesVisualElement as _}from\"../../visualElements/VerticesVisualElement.js\";import{evaluateElevationAlignmentAtPoint as j}from\"../../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as L}from\"../../../layers/graphics/ElevationContext.js\";import{GraphicState as D}from\"../../../layers/graphics/GraphicState.js\";import{RenderOccludedFlag as I}from\"../../../webgl-engine/lib/Material.js\";import{DrawGraphicTool as S,geometryTypeToDrawOperationGeometryType as G}from\"../../../../draw/DrawGraphicTool.js\";import{DrawOperation as O}from\"../../../../draw/DrawOperation.js\";import{SceneDrawSurface as x,ElevationDrawSurface as T}from\"../../../../draw/drawSurfaces.js\";import{getDrawMeshHelpMessage as C}from\"../../../../draw/support/helpMessageUtils3d.js\";let b=class extends S{constructor(e){super(e),this._activeVertexVisualElement=null,this._createGraphicState=null,this._outlineVisualElement=null,this._verticesVisualElement=null,this._verticalLineVisualElement=null,this._settings=new y({getTheme:()=>this.view.effectiveTheme}),this.geometryType=null,this.type=\"draw-3d\"}initialize(){const{mode:e,offset:t,unit:i}=this.elevationInfo;this.internalGraphicsLayer.elevationInfo=new v({mode:e,offset:t,unit:i})}normalizeCtorArgs(e){if(!e.elevationInfo){const t=e.hasZ??!0;return{...e,elevationInfo:u(t)}}return e}initializeGraphic(e){const{view:t}=this,s=this._createGraphicState=new D({graphic:e});return i([t.maskOccludee(e),t.trackGraphicState(s),o((()=>({element:this._outlineVisualElement,isDraped:s.isDraped})),(({element:e,isDraped:t})=>{e&&(e.isDraped=t)}),a),this._setupLoadingIndicator(s),...w(s,t)])}updateDrawMeshTooltipInfo(e){const{graphic:t,sketchOptions:i,view:s}=this;e.sketchOptions=i,e.viewType=s.type,e.helpMessage=C(t,this.view),this.updateElevation(e.elevation)}makeDrawOperation(){const{geometryType:e}=this,t=\"circle\"!==e&&\"rectangle\"!==e;return new O({view:this.view,manipulators:this.manipulators,geometryType:G(e),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:new x(this.view,this.elevationInfo,[this.internalGraphicsLayer]),elevationDrawSurface:new T(this.elevationInfo,this.defaultZ,this.view,this.internalGraphicsLayer),hasM:!1,elevationInfo:this.elevationInfo,snappingManager:this.snappingManager,snappingVisualizer:new g,segmentLabels:t?new f:null,labelOptions:this.sketchOptions.labels,isDraped:this._createGraphicState?this._createGraphicState.isDraped:\"on-the-ground\"===d(this.hasZ,this.elevationInfo),cursor:this.cursor,constraintsEnabled:!0})}onActiveVertexChanged(e){const{view:n}=this;if(this._activeVertexVisualElement)return this._activeVertexVisualElement.vertices=[e],this._activeVertexVisualElement.recreate(),this._updateVerticalLineVisualElement(e),s();const a=this._settings,c=a.manipulators.vertex,p=new _({view:n,spatialReference:n.spatialReference,vertices:[e],elevationInfo:this.internalGraphicsLayer.elevationInfo,size:c.size,outlineSize:c.outlineSize,renderOccluded:c.renderOccluded,attached:!1,isDecoration:!0});this._activeVertexVisualElement=p;const h=a.visualElements.zVerticalLine,m=new E({view:n,extensionType:h.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:I.OccludeAndTransparent,isDecoration:!0});this._verticalLineVisualElement=m;const u=i([o((()=>a.visualElements.zVerticalLine),(e=>e.apply(m)),l),o((()=>({selectedColor:t(a.colors.selected),outlineColor:t(a.manipulators.vertex.outlineColor)})),(({selectedColor:e,outlineColor:t})=>{p.color=e,p.outlineColor=t}),l),s((()=>{this._activeVertexVisualElement=r(this._activeVertexVisualElement),this._verticalLineVisualElement=r(this._verticalLineVisualElement)}))]);return p.attached=!0,this._updateVerticalLineVisualElement(e),u}_updateVerticalLineVisualElement(e){const t=this._verticalLineVisualElement;if(!t)return;const{renderCoordsHelper:i,elevationProvider:s}=this.view;h(k,e[0],e[1],e[2]),z.setFromElevationInfo(this.elevationInfo),k[2]=j(k,s,z,i);i.toRenderCoords(k,this.view.spatialReference,k)?(t.setStartEndFromWorldDownAtLocation(k),t.attached=!0):t.attached=!1}onOutlineChanged(e){if(this._outlineVisualElement)return this._outlineVisualElement.geometry=e,s();const t=this.internalGraphicsLayer.elevationInfo,{view:n}=this,a=this._settings,c=new V({view:n,geometry:e,elevationInfo:t,isDraped:this._createGraphicState?this._createGraphicState.isDraped:\"on-the-ground\"===d(this.hasZ,t),attached:!1,isDecoration:!0});this._outlineVisualElement=c;const p=i([o((()=>a.visualElements.lineObjects.outline),(e=>e.apply(c)),l),o((()=>a.visualElements.lineObjects.shadowStyle),(e=>e.apply(c)),l),s((()=>{this._outlineVisualElement=r(this._outlineVisualElement)}))]);return c.attached=!0,c.laserlineEnabled=!0,p}onRegularVerticesChanged(e){if(this._verticesVisualElement)return this._verticesVisualElement.vertices=e,s();const{view:n}=this,a=this._settings,c=a.manipulators.vertex,p=new _({view:n,spatialReference:n.spatialReference,vertices:e,elevationInfo:this.internalGraphicsLayer.elevationInfo,size:c.size,outlineSize:c.outlineSize,renderOccluded:c.renderOccluded,attached:!1,isDecoration:!0}),h=i([o((()=>({color:t(a.manipulators.vertex.color),outlineColor:t(a.manipulators.vertex.outlineColor)})),(({color:e,outlineColor:t})=>{p.color=e,p.outlineColor=t}),l),s((()=>{this._verticesVisualElement=r(this._verticesVisualElement)}))]);return p.attached=!0,this._verticesVisualElement=p,h}updateGraphicGeometry(e){if(\"mesh\"!==this.geometryType||\"point\"!==e?.type)super.updateGraphicGeometry(e);else{const t=this.geometryToPlace;t?.centerAt(e);const i=this._graphic;t&&i.geometry===t||(i.geometry=t)}}_setupLoadingIndicator(e){const{drawOperation:t}=this;if(!this.geometryToPlace)return t.loading=!1,null;t.loading=!0;const r=s((()=>{t.loading=!1}));let o;const l=()=>o&&cancelAnimationFrame(o);return i([n((()=>e.displaying),(()=>{l(),o=requestAnimationFrame((()=>r.remove()))}),{...a,once:!0}),s(l),r])}};e([c({constructOnly:!0})],b.prototype,\"elevationInfo\",void 0),e([c({constructOnly:!0})],b.prototype,\"geometryType\",void 0),e([c()],b.prototype,\"type\",void 0),e([c({constructOnly:!0})],b.prototype,\"view\",void 0),b=e([p(\"esri.views.3d.interactive.editingTools.draw.DrawGraphicTool3D\")],b);const z=new L,k=m();export{b as DrawGraphicTool3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{fromValues as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{getEpsilon as o}from\"../../../../core/libs/gl-matrix-2/math/common.js\";function n(o){const n=r(o);return t(Math.cos(n),Math.sin(n))}function r(t){if(null==t||\"polyline\"!==t.type&&\"polygon\"!==t.type)return 0;const n=\"polyline\"===t.type?t.paths:t.rings,r=o();for(const o of n)for(let t=0;t<o.length-1;t++){const n=o[t],e=o[t+1],i=n[0]-e[0],l=n[1]-e[1];if(i*i+l*l>r)return Math.atan2(e[1]-n[1],e[0]-n[0])}return 0}export{n as mainAxis,r as orientation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar N;!function(N){N[N.NONE=0]=\"NONE\",N[N.ANY=1]=\"ANY\",N[N.Z=2]=\"Z\",N[N.XY=4]=\"XY\"}(N||(N={}));export{N as GrabbingState};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar A;!function(A){A[A.TRANSLATE_Z=0]=\"TRANSLATE_Z\",A[A.TRANSLATE_XY=1]=\"TRANSLATE_XY\",A[A.SCALE=2]=\"SCALE\",A[A.ROTATE=3]=\"ROTATE\",A[A.SCALE_ROTATE=4]=\"SCALE_ROTATE\"}(A||(A={}));export{A as ManipulatorType};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{Manipulator3D as t}from\"../Manipulator3D.js\";import{GrabbingState as i}from\"./GrabbingState.js\";import{ManipulatorType as e}from\"./ManipulatorType.js\";class a{constructor(){this.grabbingState=i.NONE,this.zManipulator=null,this.firstSelected=null,this.numSelected=0,this.firstGrabbedXY=null}update(a){this.grabbingState=i.NONE,this.zManipulator=null,this.numSelected=0,this.firstSelected=null,this.firstGrabbedXY=null,a.forEachManipulator(((a,s)=>{if(s===e.TRANSLATE_Z&&(this.zManipulator=a),a instanceof t&&(a.selected&&(0===this.numSelected&&(this.firstSelected=a),this.numSelected++),null==this.firstGrabbedXY&&a.grabbing&&s===e.TRANSLATE_XY&&(this.firstGrabbedXY=a)),a.grabbing)switch(this.grabbingState|=i.ANY,s){case e.TRANSLATE_Z:this.grabbingState|=i.Z;break;case e.TRANSLATE_XY:this.grabbingState|=i.XY}}))}}export{a as ManipulatorState};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{removeHandles as e,handlesGroup as t,destroyHandle as n,refHandle as a}from\"../../../../core/handleUtils.js\";import{deg2rad as l}from\"../../../../core/mathUtils.js\";import{watch as i,initial as o}from\"../../../../core/reactiveUtils.js\";import{signal as s}from\"../../../../core/signal.js\";import{s as r,g as c,h as m}from\"../../../../chunks/vec32.js\";import{create as u}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Manipulator3D as p}from\"../Manipulator3D.js\";import{GrabbingState as h}from\"./GrabbingState.js\";import{manipulatedObjectGeometry as d}from\"./manipulatedObjectUtils.js\";import{ManipulatorState as f}from\"./ManipulatorState.js\";import{ManipulatorType as v}from\"./ManipulatorType.js\";import{Settings as g}from\"./settings.js\";import{ExtendedLineVisualElement as b}from\"../visualElements/ExtendedLineVisualElement.js\";import{LaserlineVisualElement as E}from\"../visualElements/LaserlineVisualElement.js\";import{OutlineVisualElement as j}from\"../visualElements/OutlineVisualElement.js\";import{RenderOccludedFlag as w}from\"../../webgl-engine/lib/Material.js\";function y(t){const{object:n}=t,a=S(t),l=[a,M(t,a.visualElement)];return n.maskOccludee&&l.push(n.maskOccludee()),{visualElement:a.visualElement,remove:()=>e(l)}}function S(e){const{view:a,object:l}=e,s=d(l),r=new j({view:a,geometry:D(s)?s:null,elevationInfo:l.elevationInfo,attached:!1,isDecoration:!0}),c=new g({getTheme:()=>a.effectiveTheme}),m=()=>{r.attached=l.visible},u=t([i((()=>c.visualElements.lineObjects.outline),(e=>e.apply(r)),o),i((()=>c.visualElements.lineObjects.shadowStyle),(e=>e.apply(r)),o),i((()=>l.visible),m),i((()=>l.isDraped),(e=>{r.isDraped=e}),o),l.on(\"committed\",(()=>{const e=d(l);r.geometry=D(e)?e:null})),n(r)]);return m(),{visualElement:r,remove:()=>u.remove()}}function M(r,c){const{object:m,view:u}=r,p=[],v=m.elevationInfo,j=\"on-the-ground\"===v.mode||!v.offset&&\"absolute-height\"!==v.mode,y=new f,S=new g({getTheme:()=>u.effectiveTheme}),M=S.visualElements,L=new b({view:u,extensionType:M.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:w.OccludeAndTransparent,isDecoration:!0}),A=l(M.heightPlaneAngleCutoff),x=new E({view:u,attached:!1,angleCutoff:A,isDecoration:!0}),C=s(1);p.push(i((()=>({lineShadowStyle:S.visualElements.lineObjects.shadowStyle,pointShadowStyle:S.visualElements.pointObjects.shadowStyle,alpha:C.value})),(({lineShadowStyle:e,pointShadowStyle:t,alpha:n})=>{e.apply(c,n),t.apply(L,n)}),o));const V=s(1);p.push(i((()=>({heightPlane:S.visualElements.heightPlane,alpha:V.value})),(({heightPlane:e,alpha:t})=>e.apply(x,t)),o));const P=()=>{y.update(r);const e=d(m);if(!m.visible||j&&(m.isDraped||!D(e)||!e.hasZ))return c.laserlineEnabled=!1,L.attached=!1,void(x.attached=!1);c.laserlineEnabled=!0;const t=y.grabbingState&h.XY?M.laserlineAlphaMultiplier:1;C.value=t;const n=y.grabbingState&h.Z?M.laserlineAlphaMultiplier:1;V.value=n,T(L,y),O(r,c,x,y)};p.push(i((()=>S.visualElements.zVerticalLine),(e=>e.apply(L)),o)),p.push(m.on(\"committed\",P),i((()=>m.visible),P),c.events.on(\"attachment-origin-changed\",P),n(L),n(x));const U=[],X=()=>{e(U),U.length=0,r.forEachManipulator((e=>U.push(e.events.on(\"grab-changed\",P)))),r.forEachManipulator((e=>U.push(e.events.on(\"select-changed\",P)))),P()};return X(),p.push(r.onManipulatorsChanged(X),a((()=>t(U)))),t(p)}function T(e,t){const n=1===t.numSelected?t.firstSelected:t.numSelected>1&&null!=t.firstGrabbedXY?t.firstGrabbedXY:null;null!=n?(e.setStartEndFromWorldDownAtLocation(n.renderLocation),e.attached=!0):e.attached=!1}function O(e,t,n,a){if(a.numSelected>0){r(L,0,0,0);let t=0;e.forEachManipulator(((e,n)=>{n===v.TRANSLATE_XY&&e.selected&&e instanceof p&&(c(L,L,e.renderLocation),t++)})),t>0?(n.heightManifoldTarget=m(L,L,1/t),n.attached=!0):n.attached=!1}else{const a=t.attachmentOrigin;null!=a&&e.view.renderCoordsHelper.toRenderCoords(a,L)?(n.heightManifoldTarget=L,n.attached=!0):n.attached=!1}}function D(e){return null!=e&&(\"polygon\"===e.type||\"polyline\"===e.type)}const L=u();export{y as createVisualElements};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{removeHandles as e,destroyHandle as t,refHandle as o}from\"../../../../core/handleUtils.js\";import{deg2rad as n}from\"../../../../core/mathUtils.js\";import{watch as i,initial as r}from\"../../../../core/reactiveUtils.js\";import{signal as a}from\"../../../../core/signal.js\";import{s}from\"../../../../chunks/vec32.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectPointToVector as c}from\"../../../../geometry/projection/projectPointToVector.js\";import{projectVectorToVector as p}from\"../../../../geometry/projection/projectVectorToVector.js\";import{create as m,empty as u,getMin as h}from\"../../../../geometry/support/aaBoundingBox.js\";import{containsXY as f}from\"../../../../geometry/support/aaBoundingRect.js\";import{GrabbingState as v}from\"./GrabbingState.js\";import{manipulatedObjectGeometry as d}from\"./manipulatedObjectUtils.js\";import{ManipulatorState as g}from\"./ManipulatorState.js\";import{Settings as j}from\"./settings.js\";import{ExtendedLineVisualElement as b}from\"../visualElements/ExtendedLineVisualElement.js\";import{LaserlineVisualElement as w}from\"../visualElements/LaserlineVisualElement.js\";import{PointVisualElement as y}from\"../visualElements/PointVisualElement.js\";import{evaluateElevationAlignmentAtPoint as E}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as T}from\"../../layers/graphics/ElevationContext.js\";import{RenderOccludedFlag as x}from\"../../webgl-engine/lib/Material.js\";function D(t){const o=[],n=S(t,o);return P(t,o,n),{visualElement:n,remove:()=>e(o)}}function P(e,o,l){const{view:c,object:m}=e,f=new j({getTheme:()=>c.effectiveTheme}),y=new b({view:c,extensionType:f.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:x.OccludeAndTransparent,isDecoration:!0});o.push(i((()=>f.visualElements.zVerticalLine),(e=>e.apply(y)),r));const D=new w({view:c,intersectsLineInfinite:!0,attached:!1,isDecoration:!0}),P=n(f.visualElements.heightPlaneAngleCutoff),S=new w({view:c,attached:!1,angleCutoff:P,isDecoration:!0}),A=m.elevationInfo,L=T.fromElevationInfo(A),M=\"on-the-ground\"===A.mode||!A.offset&&\"absolute-height\"!==A.mode,U=new g,I=a(1);o.push(i((()=>({heightPlane:f.visualElements.heightPlane,alpha:I.value})),(({heightPlane:e,alpha:t})=>e.apply(S,t)),r));const O=a(1);o.push(i((()=>({shadowStyle:f.visualElements.pointObjects.shadowStyle,alpha:O.value})),(({shadowStyle:e,alpha:t})=>e.apply(D,t)),r));const B=()=>{U.update(e);const t=V(d(m)),o=M&&(m.isDraped||null==t||!t.hasZ);let n=!0;if(o||null==t)n=!1;else{const e=E(t,c.elevationProvider,L,c.renderCoordsHelper);s(C,t.x,t.y,e),p(C,t.spatialReference,C,c.renderCoordsHelper.spatialReference),y.setStartEndFromWorldDownAtLocation(C),D.intersectsWorldUpAtLocation=C}const i=U.grabbingState&v.Z?f.visualElements.laserlineAlphaMultiplier:1;I.value=i;const r=u(R);!o&&m.visible&&l.calculateMapBounds(r)&&p(h(r,C),c.spatialReference,C,c.renderCoordsHelper.spatialReference)?(S.heightManifoldTarget=C,S.attached=!0):S.attached=!1;const a=U.grabbingState&v.XY?f.visualElements.laserlineAlphaMultiplier:1;O.value=a;const g=n&&m.visible&&!o;D.attached=g,y.attached=g};o.push(i((()=>[m.visible,m.isDraped]),B),m.on(\"committed\",B)),e.forEachManipulator((e=>{o.push(e.events.on(\"grab-changed\",B))})),o.push(t(D)),o.push(t(y)),o.push(t(S)),B()}function S(e,o){const{view:n,object:i}=e,r=new y({view:n,geometry:V(d(i)),elevationInfo:i.elevationInfo,isDecoration:!0});return A(e,r,o),o.push(t(r)),r}function V(e){return null==e?null:\"point\"===e.type?e:\"mesh\"===e.type?e.anchor.clone():null}function A(e,t,o){const{view:n,object:a}=e,s=()=>{t.attached=a.visible},l=new j({getTheme:()=>n.effectiveTheme});L(e,t,o),l.visualElements.pointObjects.outline.apply(t),o.push(i((()=>a.visible),s,r))}function L(e,t,n){const{view:i,object:r}=e;let a=null;const s=e=>{null!=a&&(a.remove(),a=null),r.isDraped&&null!=e&&(a=M(i,e,(()=>{t.geometry=e})))},l=()=>{const e=V(d(r));s(e),t.geometry=e};n.push(r.on(\"committed\",l),o((()=>a))),l()}function M(e,t,o){const n=e.elevationProvider.spatialReference;c(t,C,n);const i=C[0],r=C[1];return e.elevationProvider.on(\"elevation-change\",(e=>{f(e.extent,i,r)&&o()}))}const C=l(),R=m();export{D as createVisualElements};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{createVisualElements as e}from\"./lineObjectVisualElementUtils.js\";import{manipulatedObjectGeometry as t}from\"./manipulatedObjectUtils.js\";import{createVisualElements as s}from\"./originGeometryVisualElementUtils.js\";function l(l){switch(t(l.object)?.type){case\"point\":case\"mesh\":return s(l);case\"polygon\":case\"polyline\":return e(l);default:return null}}export{l as createVisualElements};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst t=128,a=70,e=80,h=.02,M=54,c=100,o=Math.ceil(a/3*2),I=160,P=.5,i=24,l=9,n=I+30,p=I+53,r=60,s=23,x=5*Math.PI/12,b=1*Math.PI/3,d=10,f=.2,g=30,j=53,k=.2,m=.3,q=200,u=3,v=1e6;export{v as alignArrowsScaleThreshold,e as discCollisionRadius,h as discHeight,a as discRadius,o as discRadiusSmall,c as discTranslateArrowOffset,M as discTranslateArrowSize,d as dragThresholdPx,t as geometrySegments,l as indicatorThickness,n as innerIndicatorRadius,p as outerIndicatorRadius,P as ringHeight,q as ringIndicatorDelayMs,I as ringRadius,u as ringResetAnimationSpeedFactor,i as ringThickness,x as rotateIndicatorArcLength,f as rotateIndicatorArrowPlacementPercentage,r as rotateIndicatorArrowTipLength,s as rotateIndicatorArrowTipRadius,m as rotateIndicatorDirectionBuffer,b as scaleIndicatorArcLength,k as scaleIndicatorDirectionBuffer,g as scaleIndicatorOffset1,j as scaleIndicatorOffset2};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{Manipulator3D as a}from\"../../Manipulator3D.js\";class t{constructor(){this._available=!0}set location(a){this._forEachManipulator3D((t=>t.location=a))}set elevationAlignedLocation(a){this._forEachManipulator3D((t=>t.elevationAlignedLocation=a))}set elevationInfo(a){this._forEachManipulator3D((t=>t.elevationInfo=a))}get renderLocation(){let a;return this._forEachManipulator3D((t=>{a||(a=t.renderLocation)})),a}get available(){return this._available}set available(a){this._available=a,this._forEachManipulator3D((t=>t.available=a))}get hovering(){return this.someManipulator((a=>a.hovering))}get grabbing(){return this.someManipulator((a=>a.grabbing))}get dragging(){return this.someManipulator((a=>a.dragging))}hasManipulator(a){return this.someManipulator((t=>t===a))}someManipulator(a){let t=!1;return this.forEachManipulator((i=>{!t&&a(i)&&(t=!0)})),t}_forEachManipulator3D(t){this.forEachManipulator(((i,o)=>{i instanceof a&&t(i,o)}))}}export{t as Manipulation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{dragManipulatedObject as t,resetManipulatedObject as e}from\"../../../../interactive/dragEventPipeline.js\";function n(n,a,r){const c=(t,e)=>{a({action:t,object:n,dxScreen:e.screenDeltaX,dyScreen:e.screenDeltaY})};return r(((a,r,s)=>(r.next((t=>(\"start\"===t.action&&c(\"start\",t),t))).next(t(n)).next((t=>{switch(t.action){case\"start\":case\"update\":(t.translationX||t.translationY||t.translationZ)&&c(\"update\",t);break;case\"end\":c(\"end\",t)}return t})),{steps:r,cancel:s=s.next(e(n)).next((t=>(c(\"end\",{screenDeltaX:0,screenDeltaY:0}),t)))})))}function a(t){if(null==t?.axis)return 1;const{mapStart:e,mapEnd:n,axis:a}=t,r=[n.x-e.x,n.y-e.y];return r[0]*a[0]+r[1]*a[1]>0?1:-1}export{a as axisConstrainedDragSign,n as createManipulatedMoveDragPipeline};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../Color.js\";import a from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Handles.js\";import{makeHandle as e,handlesGroup as i}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as o}from\"../../../../../core/maybe.js\";import{watch as s,initial as n}from\"../../../../../core/reactiveUtils.js\";import{fromTranslation as l,fromZRotation as p,multiply as u,fromRotation as h,fromScaling as c}from\"../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as m}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{s as f}from\"../../../../../chunks/vec32.js\";import{fromValues as d}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{sv3d as _,sm4d as g}from\"../../../../../geometry/support/vectorStacks.js\";import{Manipulator3D as M}from\"../../Manipulator3D.js\";import{RenderObject as w}from\"../../RenderObject.js\";import{screenToMapXYAtLocation as j}from\"../dragEventPipeline3D.js\";import{ManipulatorType as v}from\"../ManipulatorType.js\";import{discRadius as b,discTranslateArrowOffset as A,discHeight as I,discTranslateArrowSize as T}from\"./config.js\";import{Manipulation as y}from\"./Manipulation.js\";import{createManipulatedMoveDragPipeline as x}from\"./moveUtils.js\";import{CullFaceOptions as D}from\"../../../webgl-engine/lib/basicInterfaces.js\";import{createExtrudedTriangle as S,transformInPlace as E}from\"../../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as P}from\"../../../webgl-engine/lib/Material.js\";import{ColorMaterial as O}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as R,dragAtLocation as U,constrainToMapAxis as L,addScreenDelta as k}from\"../../../../interactive/dragEventPipeline.js\";import{ManipulatorStateFlags as q}from\"../../../../interactive/interfaces.js\";class C extends y{constructor(t){super(),this._handles=new r,this._arrowManipulatorInfos=new Array,this._angle=0,this._scale=1,this._radius=b,this._updateAfterDrag=!1,this.events=new a,this._tool=t.tool,this._view=t.view,this._opaqueMaterial=this._createMaterial(),this._transparentMaterial=this._createMaterial(.5),null!=t.radius&&(this._radius=t.radius),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}set orthogonalAvailable(t){this._arrowManipulatorInfos.length>=3&&(this._arrowManipulatorInfos[1].manipulator.available=t,this._arrowManipulatorInfos[3].manipulator.available=t)}destroy(){this._handles=o(this._handles),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._arrowManipulatorInfos.length=0}forEachManipulator(t){for(const{manipulator:a}of this._arrowManipulatorInfos)t(a,v.TRANSLATE_XY)}createManipulatedObjectDragPipeline(t,a,r){if(!a.operations)return e();const i=a.operations.data.spatialReference,o=a.graphic;return x(a,r,(r=>this.createDragPipeline(((a,e,i,o,s)=>(({steps:e,cancel:i}=t(a,e,i,o,s)),r(a,e,i))),a.elevationInfo,i,o)))}createDragPipeline(t,a,r,e){return i(this._arrowManipulatorInfos.map((({manipulator:i},o)=>R(i,((i,s,n,l,p)=>{const u=s.next((t=>({...t,manipulatorType:v.TRANSLATE_XY}))).next(U(this._view,i.elevationAlignedLocation)).next(j(this._view,i.elevationAlignedLocation,a,r,e)).next(L(i.location,this.angle+(o+1)*Math.PI*.5)).next(k());t(i,u,n,l,p)})))))}get angle(){return this._angle}set angle(t){this._angle=t,this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get radius(){return this._radius}set radius(t){this._radius!==t&&(this._radius=t,this._updateManipulators())}_updateManipulators(){for(let t=0;t<this._arrowManipulatorInfos.length;t++)this._updateArrowManipulator(this._arrowManipulatorInfos[t],t);this._updateManipulatorTransform()}_updateArrowManipulator({manipulator:t,transform:a},r){const e=this._radius/b,i=T*e,o=i*Math.sqrt(3)/2,s=S(this._opaqueMaterial,o,i/2,i/2,I);E(s,l(g.get(),f(_.get(),0,-o/3,0))),t.renderObjects=[new w(s,q.Focused),new w(s.instantiate({material:this._transparentMaterial}),q.Unfocused)],t.radius=o/3*2*1.2;const n=p(g.get(),r*Math.PI/2),h=l(g.get(),f(_.get(),0,A*e,0));u(a,n,h)}_createManipulators(){for(let t=0;t<4;t++){const a=this._createArrowManipulator(t);this._arrowManipulatorInfos.push(a)}this._updateManipulatorTransform()}_updateManipulatorTransform(){const t=this.angle,a=h(g.get(),t,d(0,0,1));if(null==a)return;const r=c(g.get(),f(_.get(),this.displayScale,this.displayScale,this.displayScale)),e=u(g.get(),r,a);for(const i of this._arrowManipulatorInfos){const t=u(g.get(),e,i.transform);i.manipulator.modelTransform=t}}_createArrowManipulator(t){const a=new M({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:d(0,0,1)}}),r={manipulator:a,transform:m()};return this._updateArrowManipulator(r,t),this._handles.add(a.events.on(\"drag\",(t=>{this._updateAfterDrag&&\"end\"===t.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}))),r}_createMaterial(a=1){const r=new O({cullFace:D.Back,renderOccluded:P.Transparent,isDecoration:!0});return this._handles.add(s((()=>t.toUnitRGBA(this._view.effectiveTheme.accentColor)),(t=>{t[3]*=a,r.setParameters({color:t})}),n)),r}get test(){return{arrowManipulators:this._arrowManipulatorInfos.map((({manipulator:t})=>t))}}}export{C as MoveXYAxisManipulation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getZForElevationMode as t}from\"../../../../../support/elevationInfoUtils.js\";import{EventPipeline as n}from\"../../../../interactive/dragEventPipeline.js\";class e{constructor(){this._view=null,this._elevationInfo=null,this._lastDragEvent=null,this._next=null,this._enabled=!1}get enabled(){return this._enabled}set enabled(t){if(this._enabled!==t&&null!=this._lastDragEvent&&null!=this._next){const n=this._lastDragEvent.mapEnd,e=this._snap(this._lastDragEvent.screenEnd);if(null!=e){const s={action:\"update\",mapStart:this._lastDragEvent.mapStart,mapEnd:!0===t?e:n,screenStart:this._lastDragEvent.screenEnd,screenEnd:this._lastDragEvent.screenEnd};this._next.execute(s)}}this._enabled=t}_snap(n){const e=null!=this._view?this._view.toMap(n,{exclude:[]}):null;return null!=e&&null!=this._view&&(e.z=t(e,this._view,this._elevationInfo)),e}createDragEventPipelineStep(t,e){this._view=t,this._elevationInfo=e,this._lastDragEvent=null;const s=new n;this._next=s;return[t=>{if(this._lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled){const n=this._snap(t.screenEnd);return null!=n?{action:t.action,mapStart:t.mapStart,mapEnd:n,screenStart:t.screenStart,screenEnd:t.screenEnd}:null}return{action:t.action,mapStart:t.mapStart,mapEnd:t.mapEnd,screenStart:t.screenStart,screenEnd:t.screenEnd}},s]}}export{e as SnapToScene};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../Color.js\";import e from\"../../../../../core/Handles.js\";import{makeHandle as i}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as a}from\"../../../../../core/maybe.js\";import{watch as r,initial as s}from\"../../../../../core/reactiveUtils.js\";import{fromScaling as o}from\"../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as n}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{s as l}from\"../../../../../chunks/vec32.js\";import{fromValues as p}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{sv3d as c,sm4d as m}from\"../../../../../geometry/support/vectorStacks.js\";import{Manipulator3D as u}from\"../../Manipulator3D.js\";import{RenderObject as h}from\"../../RenderObject.js\";import{screenToMapXYAtLocation as d}from\"../dragEventPipeline3D.js\";import{ManipulatorType as _}from\"../ManipulatorType.js\";import{discRadius as f,geometrySegments as g,discHeight as j,discCollisionRadius as M}from\"./config.js\";import{Manipulation as T}from\"./Manipulation.js\";import{createManipulatedMoveDragPipeline as v}from\"./moveUtils.js\";import{SnapToScene as S}from\"../snapping/SnapToScene.js\";import{CullFaceOptions as w}from\"../../../webgl-engine/lib/basicInterfaces.js\";import{createCylinderGeometry as b}from\"../../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as y}from\"../../../webgl-engine/lib/Material.js\";import{ColorMaterial as x}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as E,dragAtLocation as A,addScreenDelta as D}from\"../../../../interactive/dragEventPipeline.js\";import{ManipulatorStateFlags as P}from\"../../../../interactive/interfaces.js\";class O extends T{constructor(t){super(),this._handles=new e,this._snapToScene=new S,this._scale=1,this._radius=f,this._view=t.view,this._tool=t.tool,this._discMaterial=this._createMaterial(),this._discMaterialTransparent=this._createMaterial(.5),null!=t.snapToScene&&(this.snapToScene=t.snapToScene),null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles=a(this._handles),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){t(this._manipulator,_.TRANSLATE_XY)}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get snapToScene(){return this._snapToScene.enabled}set snapToScene(t){this._snapToScene.enabled=t}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}createManipulatedObjectDragPipeline(t,e,a){if(!e.operations)return i();const r=e.graphic,s=e.elevationInfo,o=e.operations.data.spatialReference;return v(e,a,(e=>this.createDragPipeline(((i,a,r,s,o)=>(({steps:a,cancel:r}=t(i,a,r,s,o)),e(i,a,r))),s,o,r)))}createDragPipeline(t,e,i,a){const r=this._view;return E(this._manipulator,((s,o,n,l,p)=>{const c=o.next(A(r,s.elevationAlignedLocation)).next(d(r,s.elevationAlignedLocation,e,i,a)).next(...this._snapToScene.createDragEventPipelineStep(r,e)).next((t=>({...t,manipulatorType:_.TRANSLATE_XY}))).next(D());t(s,c,n,l,p)}))}_updateManipulatorTransform(){const t=o(m.get(),l(c.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=t}_createManipulator(){const t=this._view;this._manipulator=new u({view:t,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:p(0,0,1)},worldOriented:!0}),this._updateManipulator()}_updateManipulator(){const t=b(this._discMaterial,j,1,g,p(0,0,1),p(0,0,0));t.transformation=o(n(),p(this._radius,this._radius,this._radius)),this._manipulator.renderObjects=[new h(t,P.Focused),new h(t.instantiate({material:this._discMaterialTransparent}),P.Unfocused)],this._manipulator.radius=M*(this._radius/f)}_createMaterial(e=1){const i=new x({cullFace:w.Back,renderOccluded:y.Transparent,isDecoration:!0});return this._handles.add(r((()=>t.toUnitRGBA(this._view.effectiveTheme.accentColor)),(t=>{t[3]*=e,i.setParameters({color:t})}),s)),i}get test(){return{discManipulator:this._manipulator}}}export{O as MoveXYDiscManipulation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../Color.js\";import{darken as e}from\"../../../../../core/colorUtils.js\";import i from\"../../../../../core/Evented.js\";import{makeHandle as r}from\"../../../../../core/handleUtils.js\";import{clamp as a}from\"../../../../../core/mathUtils.js\";import{removeMaybe as o}from\"../../../../../core/maybe.js\";import{watch as s}from\"../../../../../core/reactiveUtils.js\";import{translate as n,rotateX as l,scale as c}from\"../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as m}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{o as u,f as d,n as p,k as h,b as f,h as _}from\"../../../../../chunks/vec32.js\";import{create as j,fromValues as w}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Manipulator3D as v}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as g}from\"../../manipulatorUtils.js\";import{RenderObject as M}from\"../../RenderObject.js\";import{screenToZConstrained as U}from\"../dragEventPipeline3D.js\";import{ManipulatorType as b}from\"../ManipulatorType.js\";import{Settings as O}from\"../settings.js\";import{discRadius as y}from\"./config.js\";import{Manipulation as P}from\"./Manipulation.js\";import{createManipulatedMoveDragPipeline as T}from\"./moveUtils.js\";import{createTubeGeometry as z,createConeGeometry as F}from\"../../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as x}from\"../../../webgl-engine/lib/Material.js\";import{createManipulatorDragEventPipeline as A,addScreenDelta as E}from\"../../../../interactive/dragEventPipeline.js\";import{ManipulatorStateFlags as R}from\"../../../../interactive/interfaces.js\";class C extends P{constructor(t){super(),this._radius=y,this.events=new i,this._tool=t.tool,this._view=t.view;const e=new O({getTheme:()=>this._view.effectiveTheme});this._settings=e,null!=t.radius&&(this._radius=t.radius);const r=this._view.effectiveTheme.accentColor;this._materials={materialUnfocused:g(D(r,1,.25),x.Occlude),materialFocused:g(D(r,1,0),x.Occlude),materialOccludedUnfocused:g(D(r,.7,0),e.zManipulator.renderOccluded),materialOccludedFocused:g(D(r,.85,0),e.zManipulator.renderOccluded)},this._themeHandle=s((()=>this._view.effectiveTheme.accentColor),(t=>{const e=D(t,1,.25),i=D(t,1,0),r=D(t,.7,0),a=D(t,.85,0),{materialUnfocused:o,materialFocused:s,materialOccludedUnfocused:n,materialOccludedFocused:l}=this._materials;o.setParameters({color:e}),s.setParameters({color:i}),n.setParameters({color:r}),l.setParameters({color:a})})),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._themeHandle=o(this._themeHandle),this._manipulator.applyObjectTransform=I,this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()}))}forEachManipulator(t){t(this._manipulator,b.TRANSLATE_Z)}createManipulatedObjectDragPipeline(t,e,i){if(!e.operations)return r();const a=e.operations.data.spatialReference;return T(e,i,(e=>this.createDragPipeline(((i,r,a,o,s)=>(({steps:r,cancel:a}=t(i,r,a,o,s)),e(i,r,a))),a)))}createDragPipeline(t,e){const i=this._view;return A(this._manipulator,((r,a,o,s,n)=>{const l=a.next((t=>({...t,manipulatorType:b.TRANSLATE_Z}))).next(U(i,r.renderLocation,e)).next(E());t(r,l,o,s,n)}))}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}_updateManipulator(){const t=this._settings,e=this._radius/y,i=t.zManipulator.height*e,r=t.zManipulator.coneHeight*e,a=t.zManipulator.coneWidth*e,o=t.zManipulator.width*e,s=[w(0,0,0),w(0,0,i)],u=[w(0,0,0),w(0,0,i+r)],d=t=>{const e=m();if(n(e,e,[0,0,i]),l(e,e,Math.PI/2),t){const i=1+2*t/a;c(e,e,[i,i,i])}return e},p=d(0),{materialUnfocused:h,materialFocused:f,materialOccludedUnfocused:_,materialOccludedFocused:j}=this._materials,v=z(h,s,o/2,16,!1),g=F(h,r,a/2,16,!1);g.transformation=p,this._manipulator.renderObjects=[new M(g,R.Unfocused),new M(v,R.Unfocused),new M(g.instantiate({material:f}),R.Focused),new M(v.instantiate({material:f}),R.Focused),new M(g.instantiate({material:_}),R.Unfocused),new M(v.instantiate({material:_}),R.Unfocused),new M(g.instantiate({material:j}),R.Focused),new M(v.instantiate({material:j}),R.Focused)],this._manipulator.radius=o/2+2,this._manipulator.collisionType={type:\"line\",paths:[u]}}_createManipulator(){const t=this._view,e=new v({view:t,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:\"ns-resize\",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});e.applyObjectTransform=e=>{const i=t.state.camera,r=H;t.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,r);const o=u(i.eye,r),s=i.computeRenderPixelSizeAtDist(o),n=d(S,r,i.eye);p(n,n);const l=L;t.renderCoordsHelper.worldUpAtPosition(H,l);const c=Math.abs(h(n,l)),m=f(S,n,l),j=f(S,m,l),w=a(c,.01,1),v=1-Math.sqrt(1-w*w)/w/i.fullWidth,g=this._settings,M=this._radius/y,U=g.zManipulator.width*M;_(j,p(j,j),(1/v-1)*o+s*U),e[12]-=S[0],e[13]-=S[1],e[14]-=S[2]},this._manipulator=e,this._updateManipulator()}get test(){return{manipulator:this._manipulator}}}function D(i,r,a){const o=e(i,a);return o.a*=r,t.toUnitRGBA(o)}const H=j(),S=j(),L=j(),I=()=>{};export{C as MoveZManipulation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport i from\"../../../../../core/Handles.js\";import{handlesGroup as a}from\"../../../../../core/handleUtils.js\";import has from\"../../../../../core/has.js\";import{when as t}from\"../../../../../core/reactiveUtils.js\";import{ManipulatorType as n}from\"../ManipulatorType.js\";import{discRadiusSmall as e,discRadius as s}from\"./config.js\";import{Manipulation as o}from\"./Manipulation.js\";import{MoveXYAxisManipulation as r}from\"./MoveXYAxisManipulation.js\";import{MoveXYDiscManipulation as l}from\"./MoveXYDiscManipulation.js\";import{MoveZManipulation as p}from\"./MoveZManipulation.js\";class u extends o{constructor(a){super(),this._handles=new i,this._interactive=!0;const{tool:t,view:n,snapToScene:e,radius:s}=a;this._view=n,this.xyManipulation=new l({tool:t,view:n,snapToScene:e,radius:s}),this.xyAxisManipulation=new r({tool:t,view:n,radius:s}),this.zManipulation=new p({tool:t,view:n,radius:s}),this.xyManipulation.available=a.xyAvailable,this.xyAxisManipulation.available=a.xyAxisAvailable,this.zManipulation.available=a.zAvailable,this._autoHideXYAxis(),this.forEachManipulator((i=>this._handles.add(i.events.on(\"grab-changed\",(()=>this._updateManipulatorInteractivity())))))}destroy(){this._handles.destroy(),this.xyManipulation.destroy(),this.xyAxisManipulation.destroy(),this.zManipulation.destroy()}createManipulatedObjectDragPipeline(i,t,n){return a([this.xyManipulation.createManipulatedObjectDragPipeline(((a,t,n,e,s)=>i(c.XY,a,t,n,e,s)),t,n),this.xyAxisManipulation.createManipulatedObjectDragPipeline(((a,t,n,e,s)=>i(c.XY_AXIS,a,t,n,e,s)),t,n),this.zManipulation.createManipulatedObjectDragPipeline(((a,t,n,e,s)=>i(c.Z,a,t,n,e,s)),t,n)])}createDragPipeline(i,t,n,e){return a([this.xyManipulation.createDragPipeline(((a,t,n,e,s)=>i(c.XY,a,t,n,e,s)),t,n,e),this.xyAxisManipulation.createDragPipeline(((a,t,n,e,s)=>i(c.XY_AXIS,a,t,n,e,s)),t,n,e),this.zManipulation.createDragPipeline(((a,t,n,e,s)=>i(c.Z,a,t,n,e,s)),n)])}set snapToScene(i){this.xyManipulation.snapToScene=i}set angle(i){this.xyAxisManipulation.angle=i}set interactive(i){this._interactive!==i&&(this._interactive=i,this._updateManipulatorInteractivity())}set radius(i){this.xyAxisManipulation.radius=i,this.xyManipulation.radius=i,this.zManipulation.radius=i}set displayScale(i){this.xyManipulation.displayScale=i,this.xyAxisManipulation.displayScale=i}forEachManipulator(i){this.xyManipulation.forEachManipulator((a=>i(a,n.TRANSLATE_XY))),this.xyAxisManipulation.forEachManipulator((a=>i(a,n.TRANSLATE_XY))),this.zManipulation.forEachManipulator((a=>i(a,n.TRANSLATE_Z)))}get _xyAxisVisible(){const i=this.xyManipulation.someManipulator((i=>i.focused))||this.xyAxisManipulation.someManipulator((i=>i.focused));return this._view.inputManager&&\"touch\"===this._view.inputManager.latestPointerType||i}_autoHideXYAxis(){const i=this.xyAxisManipulation,a=this.xyManipulation;if(has(\"esri-mobile\"))return;const n=[];a.forEachManipulator((i=>n.push(i))),i.forEachManipulator((i=>n.push(i)));const e=()=>{const a=[];this._xyAxisVisible||i.forEachManipulator((i=>a.push(i.disableDisplay()))),this._handles.remove(h),this._handles.add(a,h)};for(const t of n)this._handles.add(t.events.on(\"focus-changed\",e));this._view.inputManager&&this._handles.add(t((()=>this._view.inputManager?.latestPointerType),e)),e()}_updateManipulatorInteractivity(){const i=this.grabbing;this.forEachManipulator((a=>{a.interactive=!i&&this._interactive||a.grabbing}))}static radiusForSymbol(i){const a=null!=i&&\"point-3d\"===i.type&&i.symbolLayers;return!!a&&a.some((i=>\"icon\"===i.type))?e:s}}const h=\"disable-xy-axis-display\";var c;!function(i){i[i.XY=0]=\"XY\",i[i.XY_AXIS=1]=\"XY_AXIS\",i[i.Z=2]=\"Z\"}(c||(c={}));export{c as ManipulationType,u as MoveManipulation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{makeHandle as t}from\"../../../../../core/handleUtils.js\";import{screenToMapXYForManipulatedObject as i}from\"../dragEventPipeline3D.js\";import{ManipulatorType as e}from\"../ManipulatorType.js\";import{Manipulation as o}from\"./Manipulation.js\";import{createManipulatedMoveDragPipeline as r}from\"./moveUtils.js\";import{createManipulatorDragEventPipeline as a,addMapDelta as s,addScreenDelta as n}from\"../../../../interactive/dragEventPipeline.js\";class l extends o{constructor(t){super(),this._view=t.view,this._tool=t.tool,this._object=t.object,this._manipulator=this._object.createManipulator?.({selectable:!0,cursor:\"move\"}),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){this._manipulator&&t(this._manipulator,e.TRANSLATE_XY)}createManipulatedObjectDragPipeline(t){return r(this._object,t,(t=>this.createDragPipeline(t)))}createDragPipeline(e){if(!this._manipulator)return t();const o=this._view;return a(this._manipulator,((t,r,a,l,p)=>{const h=this._object.operations?.data.spatialReference,u=r.next((t=>h?t:null)).next(i(p,o,this._object,h)).next(s()).next(n());e(t,u,a,l,p)}))}}export{l as MoveXYObjectManipulation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Collection.js\";import i from\"../../../../../core/Evented.js\";import{makeHandle as o}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as n}from\"../../../../../core/maybe.js\";import{zeroMeters as s,scale as a}from\"../../../../../core/quantityUtils.js\";import{watch as l,syncAndInitial as r}from\"../../../../../core/reactiveUtils.js\";import{property as p}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as h}from\"../../../../../core/support/UpdatingHandles.js\";import{makeDehydratedPoint as u}from\"../../../../../layers/graphics/dehydratedPoint.js\";import{getConvertedElevation as m}from\"../../../../../support/elevationInfoUtils.js\";import{SnappingVisualizer3D as d}from\"../../SnappingVisualizer3D.js\";import{orientation as f}from\"../geometryUtils.js\";import{SupportedObjectResult as v}from\"../isSupportedObjectUtils.js\";import{manipulatedObjectGeometry as g}from\"../manipulatedObjectUtils.js\";import{canMoveZOperations as _}from\"../manipulatorUtils.js\";import{meshTransformFastUpdateHandles as j}from\"../meshFastUpdateUtils.js\";import{createVisualElements as M}from\"../visualElementUtils.js\";import{discRadius as b}from\"../manipulations/config.js\";import{ManipulationType as y,MoveManipulation as T}from\"../manipulations/MoveManipulation.js\";import{axisConstrainedDragSign as w}from\"../manipulations/moveUtils.js\";import{MoveXYObjectManipulation as I}from\"../manipulations/MoveXYObjectManipulation.js\";import{isSupportedObject as x}from\"./isSupportedObject.js\";import{OutlineVisualElement as O}from\"../../visualElements/OutlineVisualElement.js\";import{dragManipulatedObjectMany as E,resetManipulatedObjectMany as S}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as H}from\"../../../../interactive/InteractiveToolBase.js\";import{EditGeometryOperations as X}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import U from\"../../../../interactive/sketch/SketchOptions.js\";import{SnappingContext as k}from\"../../../../interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as Y}from\"../../../../interactive/snapping/SnappingDragPipelineStep.js\";import{Tooltip as z}from\"../../../../interactive/tooltip/Tooltip.js\";import{TranslateZTooltipInfo as A,TranslateXYTooltipInfo as P,TranslateTooltipInfo as D}from\"../../../../interactive/tooltip/TranslateTooltipInfos.js\";import{autoDistanceBetweenPoints2D as R}from\"../../../../support/automaticLengthMeasurementUtils.js\";import{verticalSignedDistanceBetweenPoints as Z}from\"../../../../support/euclideanLengthMeasurementUtils.js\";class C{constructor(t){this.objects=t,this.type=\"move-start\"}}class F{constructor(t,e,i){this.dx=t,this.dy=e,this.objects=i,this.type=\"move\"}}class G{constructor(t){this.objects=t,this.type=\"move-stop\"}}const V=\"manipulators\";let L=class extends H{constructor(t){super(t),this._infos=new Map,this.events=new i,this.objects=new e,this.enableZ=!0,this.sketchOptions=new U,this.type=\"move-3d\",this.tooltip=null,this._updatingHandles=new h,this._moveManipulation=null,this._latestTooltipInfo=null,this._translateTooltipInfo=null,this._translateXYTooltipInfo=null,this._translateZTooltipInfo=null}initialize(){const{view:t}=this;this.addHandles([this.objects.on(\"change\",(t=>{t.removed.forEach((t=>this.removeHandles(t))),this._updateObjectInfos(t),this._setupFastTransformUpdates(t.added),this._refreshManipulators()})),l((()=>this.sketchOptions.tooltips.effectiveEnabled),(e=>{this.tooltip=e?new z({info:this._latestTooltipInfo,view:t}):n(this.tooltip)}),r)]);const e=this.objects.toArray();this._updateObjectInfos({added:e,removed:[]}),this._setupFastTransformUpdates(e),this._refreshManipulators(),this.finishToolCreation()}destroy(){this.tooltip=n(this.tooltip),this._moveManipulation=n(this._moveManipulation),this._set(\"view\",null),this._updatingHandles.destroy()}get updating(){return this._updatingHandles.updating}reset(){}_updateObjectInfos({added:t,removed:e}){for(const i of t){if(x(i)!==v.SUPPORTED)continue;const t=new N(i);this._infos.set(i,t)}for(const i of e)this._infos.delete(i)}_setupFastTransformUpdates(t){const{view:e}=this;for(const i of t){const t=this._infos.get(i);this.addHandles(j(t.object,e),i)}}_refreshManipulators(){if(this.removeHandles(V),this._moveManipulation=n(this._moveManipulation),this.manipulators.removeAll(),0===this._infos.size)return;const t=Array.from(this._infos.values());this._createManipulators(t),this._createVisualElements(t),this._updateMoveManipulation(t)}_createManipulators(t){for(const e of t){const i=e.object;e.manipulationXY=new I({tool:this,view:this.view,object:i}),e.manipulationXY.forEachManipulator((t=>{this.addHandles([t.events.on(\"immediate-click\",(t=>{this.events.emit(\"immediate-click\",{...t,object:i}),t.stopPropagation()})),t.events.on(\"grab-changed\",(({action:t})=>{\"start\"===t?this._showTooltip(y.XY):this._hideTooltip()}))],V)})),this.addHandles(e.manipulationXY.createDragPipeline(((e,i,o,n)=>this._buildDragEventPipeline(t,y.XY,e,i,o,n))),V)}this._createMoveManipulation(t)}_createMoveManipulation(t){const e=new T({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===t.length?T.radiusForSymbol(t[0].object.graphic?.symbol):b});this._moveManipulation=e,e.elevationInfo={mode:\"absolute-height\",offset:0},e.forEachManipulator((t=>{this.addHandles(t.events.on(\"immediate-click\",(i=>{const o=this.objects.at(0);!e.zManipulation.hasManipulator(t)&&1===this.objects.length&&o&&this.events.emit(\"immediate-click\",{...i,object:o}),i.stopPropagation()})),V)}));const i=t=>e=>{this.addHandles([e.events.on(\"focus-changed\",(({action:e})=>{\"focus\"===e?this._showTooltip(t):this._hideTooltip()})),e.events.on(\"grab-changed\",(()=>{this._latestTooltipInfo&&(this._latestTooltipInfo.distance=s)}))],V)};this._moveManipulation.xyManipulation.forEachManipulator(i(y.XY)),this._moveManipulation.xyAxisManipulation.forEachManipulator(i(y.XY_AXIS)),this._moveManipulation.zManipulation.forEachManipulator(i(y.Z));const o=()=>this._updateMoveManipulation(t);for(const s of t)this.addHandles([s.object.on(\"committed\",o),l((()=>s.object.visible),o)],V);const n=t[t.length-1];this.addHandles(n.object.on(\"committed\",(()=>this._updateMoveManipulationAngle(n))),V);const{object:a}=n,{operations:r}=a;if(r){const i=a.graphic;this.addHandles(e.createDragPipeline(((e,i,o,n,s)=>this._buildDragEventPipeline(t,e,i,o,n,s)),a.elevationInfo,r.data.spatialReference,i),V)}this._updateMoveManipulationAngle(n)}_createVisualElements(t){for(const e of t){const i=e.object,n=M({view:this.view,object:i,forEachManipulator:t=>{e.manipulationXY?.forEachManipulator(t),this._moveManipulation?.forEachManipulator(t)},onManipulatorsChanged:()=>o()});null!=n&&(e.geometryRepresentation=n.visualElement,e.geometryRepresentation instanceof O&&this.addHandles([e.geometryRepresentation.events.on(\"attachment-origin-changed\",(()=>{e.object.isDraped||this._updateMoveManipulation(t)})),l((()=>e.object.isDraped),(()=>this._updateMoveManipulation(t)))],V),this.addHandles(n,V))}}_updateMoveManipulationAngle(t){this._moveManipulation&&(this._moveManipulation.angle=f(g(t.object)))}_updateMoveManipulation(t){const e=u(0,0,0,this.view.spatialReference);let i=0,o=!1;const n=this._moveManipulation;if(n){for(const n of t){if(!n.object.visible)continue;this.enableZ&&_(n.object.operations,n.object.elevationInfo)&&(o=!0);const t=n.geometryRepresentation instanceof O&&!n.object.isDraped?n.geometryRepresentation.attachmentOrigin:n.object.origin;if(null!=t){const{x:o,y:n,z:s}=t;e.x+=o,e.y+=n,s&&(e.z??=0,e.z+=s),i++}}i>0?(e.x/=i,e.y/=i,e.z??=0,e.z/=i,n.location=e,n.xyManipulation.available=!0,n.xyAxisManipulation.available=!0,n.zManipulation.available=o):n.available=!1}}_buildDragEventPipeline(t,e,i,o,n,s){const a=[],l=[];let r=null,p=null;const c=()=>{for(const t of a)t.dragging=!1;a.length=0,l.length=0,r=null,p=null,this._moveManipulation&&(this._moveManipulation.interactive=!0)};if(1===t.length&&e===y.XY){const e=t[0].object;({steps:o,cancel:n}=this._buildSnappingPipelineSteps(e,e.elevationInfo,o,n,s))}return n=n.next((t=>p?.(t))).next((()=>(l.length&&this.events.emit(\"move-stop\",new G(l)),this.destroyed||c(),null))),{steps:o=o.next((e=>{if(\"start\"===e.action){a.length=0,l.length=0;for(const e of t)e.dragging||!e.manipulationXY?.hasManipulator(i)&&e.manipulationXY?.grabbing||(a.push(e),l.push(e.object),e.dragging=!0);if(0!==l.length&&(this._moveManipulation&&(this._moveManipulation.interactive=!1),r=E(l),p=S(l),this.events.emit(\"move-start\",new C(l)),this.destroyed))return null}return 0!==l.length?e:null})).next((t=>r?.(t))).next((t=>(this._updateMoveTooltip(e,t),t))).next((t=>{switch(t.action){case\"start\":case\"update\":if(t.translationX||t.translationY||t.translationZ){const e=this.view.toScreen(t.mapStart),i=this.view.toScreen(t.mapEnd),o=i.x-e.x,n=i.y-e.y;if(this.events.emit(\"move\",new F(o,n,l)),this.destroyed)return null}break;case\"end\":if(this.events.emit(\"move-stop\",new G(l)),this.destroyed)return null;c()}return null})),cancel:n}}_showTooltip(t){this._updateMoveTooltip(t),this._latestTooltipInfo&&(this._latestTooltipInfo.distance=s)}_hideTooltip(){this.tooltip?.clear(),this._latestTooltipInfo=null}_updateMoveTooltip(t,e){const{sketchOptions:i,tooltip:o}=this;switch(t){case y.XY:this._latestTooltipInfo=this._translateTooltipInfo??=new D({sketchOptions:i}),q(this._latestTooltipInfo,e,((t,e)=>R(t,e)));break;case y.XY_AXIS:this._latestTooltipInfo=this._translateXYTooltipInfo??=new P({sketchOptions:i}),q(this._latestTooltipInfo,e,((t,i)=>a(R(t,i),w(e))));break;case y.Z:this._latestTooltipInfo=this._translateZTooltipInfo??=new A({sketchOptions:i}),q(this._latestTooltipInfo,e,Z)}this._latestTooltipInfo.sketchOptions=i,o&&(o.info=this._latestTooltipInfo)}_buildSnappingPipelineSteps(t,e,i,o,n){const s=g(t);if(null==s||\"point\"!==s.type&&\"mesh\"!==s.type)return{steps:i,cancel:o};const a=(\"point\"===s.type?s:s.anchor).clone(),l=new k({elevationInfo:e,pointer:n,editGeometryOperations:X.fromGeometry(a,this.view.state.viewingMode),visualizer:new d,excludeFeature:t.graphic}),r=this.snappingManager,{snappingStep:p,cancelSnapping:c}=Y({snappingContext:l,snappingManager:r,updatingHandles:this._updatingHandles});return o=o.next(c),{steps:i=i.next((e=>{a.z=m(this.view,a,t.elevationInfo,{mode:\"absolute-height\",offset:0});return{...e,snapOrigin:l.coordinateHelper.pointToVector(a)}})).next(...p),cancel:o}}};t([p({constructOnly:!0,nonNullable:!0})],L.prototype,\"view\",void 0),t([p()],L.prototype,\"objects\",void 0),t([p({constructOnly:!0,nonNullable:!0})],L.prototype,\"enableZ\",void 0),t([p({constructOnly:!0,type:U})],L.prototype,\"sketchOptions\",void 0),t([p({constructOnly:!0})],L.prototype,\"snappingManager\",void 0),t([p()],L.prototype,\"type\",void 0),t([p()],L.prototype,\"updating\",null),t([p()],L.prototype,\"tooltip\",void 0),L=t([c(\"esri.views.3d.interactive.editingTools.move.MoveTool3D\")],L);class N{constructor(t){this.object=t,this.geometryRepresentation=null,this.manipulationXY=null,this.dragging=!1}}function q(t,e,i){if(null==e||\"end\"===e.action)return;const{mapStart:o,mapEnd:n}=e,a=i(o,n);t.distance=null!=a?a:s}export{F as MoveEvent,C as MoveStartEvent,G as MoveStopEvent,L as MoveTool3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{createRenderScreenPointArray3 as e}from\"../../../../../core/screenUtils.js\";import{fromValues as r}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{b as o,E as n,p as t,f as s}from\"../../../../../chunks/vec32.js\";import{create as c}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getNormal as i,fromPositionAndNormal as l,create as d}from\"../../../../../geometry/support/plane.js\";import{makeDehydratedPoint as f}from\"../../../../../layers/graphics/dehydratedPoint.js\";import{PlaneType as u,OffsetEdgeVertex as p}from\"../../../../interactive/editGeometry/operations/OffsetEdgeVertex.js\";function a(e,r,o){const n=\"on-the-ground\"===o.mode?u.XY:u.XYZ;return new p(e,n,r,0)}function m(e,r,n){const t=c();if(!e.renderCoordsHelper.toRenderCoords(r,t))return null;const s=j(e,r,i(n.plane)),f=j(e,r,n.edgeDirection);if(null==s||null==f)return null;const u=o(c(),s,f);return l(t,u,d())}function j(e,r,o){const t=f(r.x+o[0],r.y+o[1],r.z+o[2],r.spatialReference),s=c(),i=c();return e.renderCoordsHelper.toRenderCoords(r,s)&&e.renderCoordsHelper.toRenderCoords(t,i)?n(i,s,i):null}function g(e,t,s){const l=i(e),d=n(c(),t,s),f=o(c(),d,l),u=o(c(),d,f);return r(d[0],d[1],d[2],0,f[0],f[1],f[2],0,u[0],u[1],u[2],0,0,0,0,1)}function C(r,o,n){const c=n.projectToRenderScreen(r,e()),i=n.projectToRenderScreen(o,e());return null!=c&&null!=i?t(s(c,c,i)):0}export{m as createEdgeOffsetIntersectionPlane,a as createEdgeOffsetOperation,g as edgeOffsetRotationMatrix,C as screenEdgeLengthSquared};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{zeroMeters as t}from\"../../../core/quantityUtils.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{SketchTooltipInfo as s}from\"./SketchTooltipInfo.js\";let p=class extends s{constructor(o){super(o),this.type=\"reshape-edge-offset\",this.distance=t,this.area=null,this.totalLength=null}};o([e()],p.prototype,\"type\",void 0),o([e()],p.prototype,\"distance\",void 0),o([e()],p.prototype,\"area\",void 0),o([e()],p.prototype,\"totalLength\",void 0),p=o([r(\"esri.views.interactive.tooltip.ReshapeTooltipInfos.ReshapeEdgeOffsetTooltipInfo\")],p);export{p as ReshapeEdgeOffsetTooltipInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../geometry.js\";import e from\"../../../../../core/Accessor.js\";import{removeUnordered as i}from\"../../../../../core/arrayUtils.js\";import{unitRGBAFromColor as a}from\"../../../../../core/colorUtils.js\";import\"../../../../../core/has.js\";import n from\"../../../../../core/Evented.js\";import o from\"../../../../../core/Handles.js\";import{handlesGroup as s,makeHandle as l,destroyHandle as r}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as p,removeMaybe as h}from\"../../../../../core/maybe.js\";import{zeroMeters as d,createLength as u,scale as c}from\"../../../../../core/quantityUtils.js\";import{watch as m,initial as f,on as g}from\"../../../../../core/reactiveUtils.js\";import{getMetersPerUnitForSR as _}from\"../../../../../core/unitUtils.js\";import{property as v}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import{subclass as M}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{IDENTITY as b}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{l as x,f as O,m as y,s as E,g as j,h as I}from\"../../../../../chunks/vec32.js\";import{fromValues as T,create as S}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{UpdatingHandles as w}from\"../../../../../core/support/UpdatingHandles.js\";import H from\"../../../../../geometry/Polyline.js\";import{projectPoint as V}from\"../../../../../geometry/support/plane.js\";import{sv3d as A}from\"../../../../../geometry/support/vectorStacks.js\";import{makeDehydratedPoint as L}from\"../../../../../layers/graphics/dehydratedPoint.js\";import{isVolumetricSymbol as G}from\"../../../../../symbols/support/utils.js\";import{Manipulator3D as D}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as P,createManipulatorOutlineMaterial as k,placeAtObject as U}from\"../../manipulatorUtils.js\";import{RenderObject as N}from\"../../RenderObject.js\";import{SegmentLabels3D as C}from\"../../SegmentLabels3D.js\";import{SnappingVisualizer3D as R}from\"../../SnappingVisualizer3D.js\";import{screenToMapXYAtLocation as F,screenToRenderPlaneFromEvent as X,convertToMapCoordinates as Z}from\"../dragEventPipeline3D.js\";import{orientation as z}from\"../geometryUtils.js\";import{ManipulatorType as Y}from\"../ManipulatorType.js\";import{canMoveZOperations as q}from\"../manipulatorUtils.js\";import{Settings as W}from\"../settings.js\";import{createVisualElements as K}from\"../visualElementUtils.js\";import{discRadiusSmall as B}from\"../manipulations/config.js\";import{ManipulationType as J,MoveManipulation as Q}from\"../manipulations/MoveManipulation.js\";import{axisConstrainedDragSign as $}from\"../manipulations/moveUtils.js\";import{MoveXYObjectManipulation as tt}from\"../manipulations/MoveXYObjectManipulation.js\";import{createEdgeOffsetIntersectionPlane as et,createEdgeOffsetOperation as it,edgeOffsetRotationMatrix as at,screenEdgeLengthSquared as nt}from\"./edgeOffsetUtils.js\";import{OutlineVisualElement as ot}from\"../../visualElements/OutlineVisualElement.js\";import{createExtrudedTriangle as st,createSphereGeometry as lt}from\"../../../webgl-engine/lib/GeometryUtil.js\";import{MouseButton as rt}from\"../../../../input/IViewEvents.js\";import{sceneSnappingAtLocation as pt,addMapDelta as ht,createManipulatorDragEventPipeline as dt,dragAtLocation as ut,addScreenDelta as ct}from\"../../../../interactive/dragEventPipeline.js\";import{ManipulatorStateCustomFlags as mt,ManipulatorStateFlags as ft}from\"../../../../interactive/interfaces.js\";import{AccumulationBehavior as gt}from\"../../../../interactive/editGeometry/interfaces.js\";import{SnappingContext as _t}from\"../../../../interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as vt}from\"../../../../interactive/snapping/SnappingDragPipelineStep.js\";import{ReshapeEdgeOffsetTooltipInfo as Mt}from\"../../../../interactive/tooltip/ReshapeTooltipInfos.js\";import{Tooltip as bt}from\"../../../../interactive/tooltip/Tooltip.js\";import{TranslateZTooltipInfo as xt,TranslateXYTooltipInfo as Ot,TranslateTooltipInfo as yt,TranslateVertexZTooltipInfo as Et,TranslateVertexXYTooltipInfo as jt,TranslateVertexTooltipInfo as It}from\"../../../../interactive/tooltip/TranslateTooltipInfos.js\";import{makeElevationField as Tt}from\"../../../../interactive/tooltip/fields/fields.js\";import{autoArea2D as St}from\"../../../../support/automaticAreaMeasurementUtils.js\";import{autoLength2D as wt,autoDistanceBetweenPoints2D as Ht}from\"../../../../support/automaticLengthMeasurementUtils.js\";import{elevationFromPoint as Vt,verticalSignedDistanceBetweenPoints as At}from\"../../../../support/euclideanLengthMeasurementUtils.js\";import{geodesicDistance as Lt}from\"../../../../support/geodesicLengthMeasurementUtils.js\";import Gt from\"../../../../../geometry/SpatialReference.js\";let Dt=class extends e{get _operations(){return this.object.operations}constructor(t){super(t),this._selectedIndex=0,this._manipulatorHandles=new o,this._manipulatorInfos=[],this._numGrabbing=0,this._numDragging=0,this._reshapeEventState=zt.NONE,this._updatingHandles=new w,this._recreatingManipulators=!1,this._settings=new W({getTheme:()=>this.view.effectiveTheme}),this.events=new n,this._latestTooltipInfo=null,this._translateTooltipInfo=null,this._translateXYTooltipInfo=null,this._translateZTooltipInfo=null,this._translateVertexTooltipInfo=null,this._translateVertexXYTooltipInfo=null,this._translateVertexZTooltipInfo=null,this._edgeOffsetTooltipInfo=null,this._vertexLaserLineVisualElement=null}initialize(){const{view:t}=this,e=this._settings.manipulators,i=e.vertex;this._vertexManipulatorMaterial=P(a(i.color),i.renderOccluded),this._vertexManipulatorOutlineMaterial=k(a(i.outlineColor),i.renderOccluded),this._vertexManipulatorHoverOutlineMaterial=k(a(i.hoverOutlineColor),i.renderOccluded);const n=e.edge;this._edgeManipulatorMaterial=P(a(n.color),n.renderOccluded),this._edgeManipulatorOutlineMaterial=k(a(n.outlineColor),n.renderOccluded);const o=e.edgeOffset;this._edgeOffsetManipulatorMaterial=P(a(o.color),o.renderOccluded,!1),this._edgeOffsetManipulatorHoverMaterial=P(a(o.hoverColor),o.renderOccluded,!1);const s=e.selected;this._selectedManipulatorMaterial=P(a(s.color),s.renderOccluded),this._selectedManipulatorOutlineMaterial=k(a(s.outlineColor),s.renderOccluded),this._selectedManipulatorHoverOutlineMaterial=k(a(s.hoverOutlineColor),s.renderOccluded),this.tooltip=new bt({view:t}),this.addHandles([m((()=>{const t=this._settings.manipulators;return{vertexSettings:t.vertex,edgeSettings:t.edge,edgeOffsetSettings:t.edgeOffset,selectedSettings:t.selected}}),(({vertexSettings:t,edgeSettings:e,edgeOffsetSettings:i,selectedSettings:a})=>{t.applyColor(this._vertexManipulatorMaterial),t.applyOutline(this._vertexManipulatorOutlineMaterial),t.applyHoverOutline(this._vertexManipulatorHoverOutlineMaterial),e.applyColor(this._edgeManipulatorMaterial),e.applyOutline(this._edgeManipulatorOutlineMaterial),i.applyColor(this._edgeOffsetManipulatorMaterial),i.applyHover(this._edgeOffsetManipulatorHoverMaterial),a.applyColor(this._selectedManipulatorMaterial),a.applyOutline(this._selectedManipulatorOutlineMaterial),a.applyHoverOutline(this._selectedManipulatorHoverOutlineMaterial)})),m((()=>this.object.visible),(t=>{for(const e of this._manipulatorInfos)e.manipulator.available=t,\"edge\"===e.type&&\"edgeManipulator\"in e&&(e.edgeManipulator.available=t)})),m((()=>({labels:this._segmentLabels,enabled:this.sketchOptions.labels.enabled,edgeOffsetEnabled:this.enableEdgeOffset})),(({labels:t,enabled:e,edgeOffsetEnabled:i})=>{null!=t&&(t.visible=e,t.edgeDistance=i?\"far\":\"default\")}),f),m((()=>this.sketchOptions.tooltips.effectiveEnabled),(t=>{this.tooltip.info=t?this._latestTooltipInfo:null}),f),g((()=>this._operations),\"vertex-update\",(t=>{this._updateManipulatorPositions(t.vertices)}),{onListenerAdd:()=>this._recreateManipulators()}),g((()=>this._operations?.data),\"change\",(t=>{\"undo\"!==t.operation&&\"redo\"!==t.operation||this._recreateManipulators()}))])}destroy(){this._segmentLabels=p(this._segmentLabels),this.tooltip=p(this.tooltip),this._removeManipulators(),this._updatingHandles.destroy()}get updating(){return this._updatingHandles.updating}get manipulators(){return this.tool.manipulators}get view(){return this.tool.view}get object(){return this.tool.object}get enableZShape(){return this.tool.enableZShape}get enableZVertex(){return this.tool.enableZVertex}get enableMoveObject(){return this.tool.enableMoveObject}get enableMidpoints(){return this.tool.enableMidpoints}get enableEdgeOffset(){return this.tool.enableEdgeOffset}get sketchOptions(){return this.tool.sketchOptions}get _accentColor(){return this.view.effectiveTheme.accentColor}removeSelectedVertices(){const t=this._manipulatorInfos.filter((t=>t.manipulator.selected&&\"vertex\"===t.type));this._removeVertices(t)}onManipulatorSelectionChanged(){this.events.emit(\"manipulators-changed\")}_removeManipulators(){this._manipulatorHandles.removeAll(),this._moveManipulation=p(this._moveManipulation),this._objectMoveManipulation=p(this._objectMoveManipulation),this.manipulators.removeAll(),this._manipulatorInfos=[],this._numGrabbing=0,this._numDragging=0}_createManipulators(t){if(null==this._operations)return;const e=this.object.elevationInfo;for(const i of this._operations.data.components){const a=t?.byComponentIndex.get(i.index);for(const t of i.vertices){const i=a?.has(t.index);this._createVertexOrEdgeManipulator(t,e,i)}for(const t of i.edges)this._createVertexOrEdgeManipulator(t,e)}this._createObjectMoveManipulation(),this._createMoveManipulation(e),this._createVisualElements()}get canRedo(){return null!=this._operations&&this._operations.canRedo}get canUndo(){return null!=this._operations&&this._operations.canUndo}redo(){return this._operations?.redo()}undo(){return this.events.emit(\"undo\"),this._operations?.undo()}_recreateManipulators(){if(!this._recreatingManipulators){if(this._recreatingManipulators=!0,this._removeManipulators(),this._hideTooltip(),this._operations&&this._segmentLabels?.context?.editGeometryOperations===this._operations||(this._segmentLabels=p(this._segmentLabels)),this._createManipulators(),!this._segmentLabels&&this._operations){const t=this.sketchOptions.labels;this._segmentLabels=new C({context:{view:this.view,editGeometryOperations:this._operations,elevationInfo:this.object.elevationInfo,labelOptions:t},visible:t.enabled})}this._recreatingManipulators=!1}}_perObjectManipulatorDragAction(t,e){if(\"end\"===e.action)return e;let i=0;const a=[],n=this._manipulatorInfos.some((t=>\"vertex\"===t.type&&t.manipulator.selected)),o=t===Yt.SELECTED_OR_ALL&&n;for(const s of this._manipulatorInfos)\"vertex\"===s.type&&(s.manipulator.grabbing||o&&!s.manipulator.selected||a.push(s),i++);this._moveVertices(a,e);if(a.length===i){if(this._updateEventState(zt.MOVING),this.destroyed)return e;this.events.emit(\"move\",{type:\"move\",dx:e.screenDeltaX,dy:e.screenDeltaY,object:this.object})}else{if(this._updateEventState(zt.RESHAPING),this.destroyed)return e;this.events.emit(\"reshape\",{type:\"reshape\",object:this.object})}return e}_isMultiVertexSelection(){return this._manipulatorInfos.reduce(((t,e)=>\"vertex\"===e.type&&e.manipulator.selected?t+1:t),0)>1}_perVertexManipulatorDragAction(t){if(this._updateEventState(zt.RESHAPING),this.destroyed)return;const{mapDeltaX:e,mapDeltaY:i,mapDeltaZ:a}=t;if(!e&&!i&&!a)return;const n=[];for(const o of this._manipulatorInfos)\"vertex\"===o.type&&(o.manipulator.selected&&!o.manipulator.grabbing||o===t.info)&&n.push(o);this._moveVertices(n,t,gt.ACCUMULATE_STEPS),this.events.emit(\"reshape\",{type:\"reshape\",object:this.object})}_updateEventState(t){if(t===this._reshapeEventState)return!1;switch(t){case zt.NONE:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case zt.MOVING:this.events.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,object:this.object});break;case zt.RESHAPING:this.events.emit(\"reshape\",{type:\"reshape-stop\",object:this.object})}break;case zt.MOVING:switch(this._reshapeEventState){case zt.NONE:this.events.emit(\"move\",{type:\"move-start\",dx:0,dy:0,object:this.object});break;case zt.RESHAPING:this.events.emit(\"reshape\",{type:\"reshape-stop\",object:this.object}),this.destroyed||this.events.emit(\"move\",{type:\"move-start\",dx:0,dy:0,object:this.object})}break;case zt.RESHAPING:switch(this._reshapeEventState){case zt.NONE:this.events.emit(\"reshape\",{type:\"reshape-start\",object:this.object});break;case zt.MOVING:this.events.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,object:this.object}),this.destroyed||this.events.emit(\"reshape\",{type:\"reshape-start\",object:this.object})}}if(this.destroyed)return!1;const e=this._reshapeEventState!==t;return this._reshapeEventState=t,e}_createObjectMoveManipulation(){const{tool:t,view:e,object:i,_operations:a}=this;if(a){if(this._objectMoveManipulation=new tt({tool:t,view:e,object:i}),this.enableMoveObject){let t=null;this._manipulatorHandles.add(this._objectMoveManipulation.createDragPipeline(((e,i,n)=>{i.next((t=>this._trackNumDragging(t))).next((e=>(\"start\"===e.action&&(t=a.createUndoGroup()),e))).next((t=>this._perObjectManipulatorDragAction(Yt.ALL,t))).next((t=>(this._updateTranslateObjectTooltip(J.XY,t),t))).next((e=>{\"end\"===e.action&&(this._hideTooltip(),t=h(t))})),n.next((()=>this._onDragCancel(!0,(()=>t=h(t)))))}))),this._objectMoveManipulation.forEachManipulator((t=>this._manipulatorHandles.add(this._watchAndUpdateGrabState(t,!1))))}else this._objectMoveManipulation.forEachManipulator((t=>{t.grabbable=!1,t.cursor=null}));this._objectMoveManipulation.forEachManipulator((t=>this._manipulatorHandles.add(t.events.on(\"immediate-click\",(t=>{this._manipulatorInfos.some((t=>t.manipulator.selected))?this._clearSelection():this.events.emit(\"immediate-click\",{...t,object:this.object}),t.stopPropagation()})))))}}_createMoveManipulation(t){const{object:e,tool:i,view:a,_operations:n}=this;if(!n)return;this._moveManipulation=new Q({tool:i,view:a,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZShape&&q(e.operations,e.elevationInfo),snapToScene:!1,radius:Q.radiusForSymbol(e.graphic?.symbol)}),this._moveManipulation.forEachManipulator((t=>this.addHandles([t.events.on(\"immediate-click\",(e=>{this._moveManipulation.zManipulation.hasManipulator(t)||this._manipulatorInfos.some((t=>t.manipulator.selected))||this.events.emit(\"immediate-click\",{...e,object:this.object}),e.stopPropagation()})),this._watchAndUpdateGrabState(t,!1)])));const o=t=>e=>{this.addHandles(e.events.on(\"focus-changed\",(({action:e})=>{\"focus\"===e?this._updateTranslateTooltip(t):this._hideTooltip()})))};this._moveManipulation.xyManipulation.forEachManipulator(o(J.XY)),this._moveManipulation.xyAxisManipulation.forEachManipulator(o(J.XY_AXIS)),this._moveManipulation.zManipulation.forEachManipulator(o(J.Z)),this._moveManipulation.elevationInfo={mode:\"absolute-height\",offset:0};const s=n.data.spatialReference;this.addHandles([this._moveManipulation.createDragPipeline(((a,o,s,l,r)=>{const{snappingStep:p,cancelSnapping:h}=vt({predicate:t=>!!t.info,snappingManager:i.snappingManager,snappingContext:new _t({editGeometryOperations:n,elevationInfo:t,pointer:r,excludeFeature:e.graphic,visualizer:new R}),updatingHandles:this._updatingHandles,useZ:!1});return l=l.next((t=>(this._onDragCancel(),t))).next(h),{steps:s=s.next((t=>this._trackNumDragging(t))).next((t=>{const e=this._manipulatorInfos.filter((t=>\"vertex\"===t.type&&t.manipulator.selected));return t.manipulatorType===Y.TRANSLATE_XY&&1===e.length?{...t,info:e[0],snapOrigin:e[0].handle.pos}:t})).next(pt(this.view,t,e.graphic??void 0)).next(...p).next(ht()).next((t=>this._perObjectManipulatorDragAction(Yt.SELECTED_OR_ALL,t))).next((t=>(this._updateTranslateTooltip(a,t),t))),cancel:l}}),t,s,e.graphic),m((()=>e.visible),(()=>this._updateMoveManipulationPosition()),f),e.on(\"committed\",(()=>{this._recreatingManipulators||this._updateMoveManipulationPosition()})),m((()=>e.isDraped),(t=>{this._updateMoveManipulationPosition();const e=\"align-move-manipulation\";t?this.addHandles(this.view.elevationProvider.on(\"elevation-change\",(()=>this._updateMoveManipulationPosition())),e):this.removeHandles(e)}),f)])}_createVisualElements(){const{object:t,view:e}=this,i=K({view:e,object:t,forEachManipulator:t=>{if(!this.destroyed&&!this._recreatingManipulators){this._objectMoveManipulation.forEachManipulator(t),this._moveManipulation.forEachManipulator(t);for(const e of this._manipulatorInfos)t(e.manipulator,Y.TRANSLATE_XY)}},onManipulatorsChanged:t=>this.events.on(\"manipulators-changed\",t)});null!=i&&(this._outlineVisualElement=i.visualElement instanceof ot?i.visualElement:null);const a=this._outlineVisualElement;if(null!=a){const e=()=>{t.isDraped||this._updateMoveManipulationPosition()};this._manipulatorHandles.add(g((()=>a.events),\"attachment-origin-changed\",e,{onListenerAdd:e}))}this._manipulatorHandles.add(i)}_createEdgeOffsetManipulator(t,e=this.object.elevationInfo){const i=this._operations;if(t.component.vertices.length<=2||!i)return null;const a=this._settings.manipulators.edgeOffset,n=a.size/2,o=n+a.collisionPadding,l=n/o,r=l*Math.sqrt(3)/2;null==this._edgeOffsetManipulatorGeometryInside&&(this._edgeOffsetManipulatorGeometryInside=st(this._edgeOffsetManipulatorMaterial,r,l/2,l/2,a.height,a.offset)),null==this._edgeOffsetManipulatorGeometryOutside&&(this._edgeOffsetManipulatorGeometryOutside=st(this._edgeOffsetManipulatorMaterial,-r,l/2,l/2,a.height,-a.offset));const p=[new N(this._edgeOffsetManipulatorGeometryInside.instantiate(),ft.Unfocused),new N(this._edgeOffsetManipulatorGeometryInside.instantiate({material:this._edgeOffsetManipulatorHoverMaterial}),ft.Focused),new N(this._edgeOffsetManipulatorGeometryOutside.instantiate(),ft.Unfocused),new N(this._edgeOffsetManipulatorGeometryOutside.instantiate({material:this._edgeOffsetManipulatorHoverMaterial}),ft.Focused)],h=new D({view:this.view,renderObjects:p,elevationInfo:\"on-the-ground\"!==e.mode||G(this.object.graphic?.symbol)?{mode:\"absolute-height\",offset:0}:e,worldOriented:!1,focusMultiplier:1,radius:o,available:this.object.visible,collisionType:{type:\"disc\",direction:T(0,0,1)},collisionPriority:1,metadata:{deleting:!1}}),u=new D({view:this.view,worldSized:!0,worldOriented:!1,available:this.object.visible,collisionPriority:-10,cursor:this.enableMoveObject?\"move\":\"default\",metadata:{deleting:!1}}),c={manipulator:h,handle:t,locationUpdateHandle:null,type:\"edge\",selectedIndex:0,edgeManipulator:u,elevationInfo:e,visibilityHandle:null};this._autoHideEdgeOffsetManipulator(c,a.minSquaredEdgeLength),this._updateEdgeOffsetManipulator(c);const m=[];for(const s of[t.leftVertex,t.rightVertex]){const t=this._getManipulatorInfoFromHandle(s);null!=t&&m.push(t.manipulator.events.on(\"location-update\",(()=>this._updateEdgeOffsetManipulator(c))))}c.locationUpdateHandle=s(m),this._manipulatorHandles.add(c.locationUpdateHandle,h),this._manipulatorHandles.add([this._watchAndUpdateGrabState(h,!0),this._watchAndUpdateGrabState(u,!0)],h),this._manipulatorHandles.add(dt(h,this._createEdgeOffsetPipeline(c,e)),h),this._manipulatorHandles.add(dt(u,((t,a,n,o)=>{if(\"touch\"===o){this._createEdgeOffsetPipeline(c,e)(t,a,n)}else if(this.enableMoveObject){const o=this.object.graphic,s=i.data.spatialReference;a.next((t=>this._trackNumDragging(t))).next(ut(this.view,t.elevationAlignedLocation)).next(F(this.view,t.elevationAlignedLocation,e,s,o)).next(ct()).next(ht()).next((t=>this._perObjectManipulatorDragAction(Yt.ALL,t))).next((t=>(this._updateTranslateObjectTooltip(J.XY,t),t))).next((t=>{\"end\"===t.action&&this._hideTooltip()})),n.next((()=>this._onDragCancel(!t.metadata.deleting)))}})),h);const f=t=>{this._manipulatorInfos.some((t=>t.manipulator.selected))?this._clearSelection():this.events.emit(\"immediate-click\",{...t,object:this.object}),t.stopPropagation()};return this._manipulatorHandles.add([h.events.on(\"immediate-click\",f),u.events.on(\"immediate-click\",f),h.events.on(\"focus-changed\",(({action:t})=>{const{sketchOptions:e,tooltip:i}=this;if(\"focus\"===t){const t=this._edgeOffsetTooltipInfo??=new Mt({sketchOptions:e});t.distance=d,t.sketchOptions=e,this._updateTooltipAreaOrTotalLength(t),this._latestTooltipInfo=t,i.info=e.tooltips.effectiveEnabled?this._latestTooltipInfo:null}else this._hideTooltip()}))],h),this._manipulatorInfos.push(c),this.manipulators.add(h),this.manipulators.add(u),this.events.emit(\"manipulators-changed\"),c}_autoHideEdgeOffsetManipulator(t,e){const i=t.manipulator,a=t.edgeManipulator,n=()=>{t.visibilityHandle=h(t.visibilityHandle);const n=this._getManipulatorInfoFromHandle(t.handle.leftVertex),o=this._getManipulatorInfoFromHandle(t.handle.rightVertex),r=null!=n&&null!=o&&nt(n.manipulator.renderLocation,o.manipulator.renderLocation,this.view.state.camera)<e;(!i.focused&&!a.focused||r)&&(i.grabbable=!r,a.grabbable=!r,t.visibilityHandle=s([i.disableDisplay(),l((()=>{i.grabbable=!0,a.grabbable=this.enableMoveObject}))]))};this._manipulatorHandles.add([i.events.on(\"focus-changed\",n),a.events.on(\"focus-changed\",n),l((()=>{h(t.visibilityHandle),a.metadata.deleting=!0,this.manipulators.remove(a)}))],i),n()}_updateEdgeOffsetManipulator(t){if(!this._operations)return;this._updateManipulatorPosition(t);const{coordinateHelper:e}=this._operations.data,i=et(this.view,t.manipulator.elevationAlignedLocation,it(e,t.handle,t.manipulator.elevationInfo)),a=this._getManipulatorInfoFromHandle(t.handle.leftVertex),n=this._getManipulatorInfoFromHandle(t.handle.rightVertex);if(null==a||null==n)return;const o=a.manipulator.renderLocation,s=n.manipulator.renderLocation,l=null!=i?at(i,o,s):b;t.manipulator.modelTransform=l,t.edgeManipulator.elevationAlignedLocation=t.manipulator.elevationAlignedLocation,t.edgeManipulator.modelTransform=l;const r=x(O(Ft,o,s))/2;t.edgeManipulator.collisionType={type:\"line\",paths:[[[-r,0,0],[r,0,0]]]}}_createEdgeOffsetPipeline(t,e){return(i,a,n)=>{const o=this._operations;if(!o)return;this._clearSelection();const{step:s,cleanup:l}=this._initializeEdgeOffset(t,e,o);a.next((t=>this._trackNumDragging(t))).next(ut(this.view,i.elevationAlignedLocation)).next(s).next(X(this.view)).next(Z(this.view,o.data.spatialReference)).next(ht()).next(kt()).next(this._applyEdgeOffsetStep(t)).next(this._showEdgeOffsetTooltip()).next((t=>{\"end\"===t.action&&l()})),n.next((()=>{i.metadata.deleting||(l(),this._onDragCancel())}))}}_initializeEdgeOffset(t,e,i){const{view:n}=this,o=it(i.data.coordinateHelper,t.handle,e),l=i.createUndoGroup(),p=et(n,t.manipulator.elevationAlignedLocation,o);if(o.requiresSplitEdgeLeft){const e=this._getManipulatorInfoFromHandle(t.handle.leftVertex.leftEdge);null!=e&&this._splitEdgeManipulator(e,1)}if(o.requiresSplitEdgeRight){const e=this._getManipulatorInfoFromHandle(t.handle.rightVertex.rightEdge);null!=e&&this._splitEdgeManipulator(e,0)}const d=()=>new H({paths:[[t.handle.leftVertex.pos,t.handle.rightVertex.pos]],spatialReference:i.data.spatialReference}),u=this._settings,c=new ot({view:n,isDraped:this.object.isDraped,geometry:d(),elevationInfo:t.elevationInfo,width:u.visualElements.lineObjects.outline.width,attached:!1,isDecoration:!0});let g;const _=()=>{this._cleanEdgeOffsetCollapsedEdges(t),g=h(g)},v=this.events.on(\"undo\",_);return g=s([m((()=>a(this._accentColor)),(t=>c.color=t),f),r(c),m((()=>this.object.isDraped),(t=>c.isDraped=t)),this.object.on(\"committed\",(()=>c.geometry=d())),l,v]),c.attached=!0,{step:t=>null==o||null==p?(_(),null):{...t,operation:o,plane:p},cleanup:_}}_applyEdgeOffsetStep(t){return e=>{if(this.destroyed||null==e.operation)return e;this._updateEventState(zt.RESHAPING);const{mapDeltaX:i,mapDeltaY:a,mapDeltaZ:n}=e;return(i||a||n)&&(this._offsetEdge(t,e),this.events.emit(\"reshape\",{type:\"reshape\",object:this.object})),e}}_showEdgeOffsetTooltip(){return t=>{const{mapEnd:e,signedDistance:i,operation:a}=t,{tooltip:n,sketchOptions:o}=this;if(null!=i&&this._operations){const n=this._edgeOffsetTooltipInfo??=new Mt({sketchOptions:o});n.sketchOptions=o,n.distance=\"end\"===t.action?d:Ct(this.object.isDraped,i*a.selectedArrow,e,a.plane,this._operations.data.coordinateHelper),this._updateTooltipAreaOrTotalLength(n),this._latestTooltipInfo=n}else this._latestTooltipInfo=null;return n.info=o.tooltips.effectiveEnabled?this._latestTooltipInfo:null,t}}_cleanEdgeOffsetCollapsedEdges(t){if(!this._operations)return;const e=t.handle.leftVertex.leftEdge?.leftVertex,i=t.handle.leftVertex,a=t.handle.rightVertex.rightEdge?.rightVertex,n=t.handle.rightVertex,o=this._operations.data.coordinateHelper,s=[];if(e&&o.distance(e.pos,i.pos)<Xt){const t=this._getManipulatorInfoFromHandle(i);null!=t&&s.push(t)}if(o.distance(i.pos,n.pos)<Xt||a&&o.distance(a.pos,n.pos)<Xt){const t=this._getManipulatorInfoFromHandle(n);null!=t&&s.push(t)}s.length&&this._removeVertices(s)}_createVertexOrEdgeManipulator(t,e=this.object.elevationInfo,i=!1){const{view:a,_operations:n}=this;if(!n)return null;const o=this._settings;if(\"edge\"===t.type){if(this.enableEdgeOffset)return this._createEdgeOffsetManipulator(t,e);if(!this.enableMidpoints)return null}if(null==this._vertexManipulatorGeometry||null==this._vertexManipulatorOutlineGeometry){const{size:t,outlineSize:e}=Ut(o.manipulators.vertex);this._vertexManipulatorGeometry=lt(this._vertexManipulatorMaterial,t,16,16),this._vertexManipulatorOutlineGeometry=lt(this._vertexManipulatorOutlineMaterial,e,16,16)}if(null==this._edgeManipulatorGeometry||null==this._edgeManipulatorOutlineGeometry){const{size:t,outlineSize:e}=Ut(o.manipulators.edge);this._edgeManipulatorGeometry=lt(this._edgeManipulatorMaterial,t,16,16),this._edgeManipulatorOutlineGeometry=lt(this._edgeManipulatorOutlineMaterial,e,16,16)}const l=this._operations?.data.type,r=\"point\"===l||\"mesh\"===l?[]:[new N(this._vertexManipulatorGeometry.instantiate(),Zt.Vertex|ft.Unselected),new N(this._vertexManipulatorOutlineGeometry.instantiate(),Zt.Vertex|ft.Unfocused|ft.Unselected),new N(this._vertexManipulatorOutlineGeometry.instantiate({material:this._vertexManipulatorHoverOutlineMaterial}),Zt.Vertex|ft.Focused|ft.Unselected),new N(this._vertexManipulatorGeometry.instantiate({material:this._selectedManipulatorMaterial}),ft.Selected),new N(this._vertexManipulatorOutlineGeometry.instantiate({material:this._selectedManipulatorOutlineMaterial}),ft.Selected|ft.Unfocused),new N(this._vertexManipulatorOutlineGeometry.instantiate({material:this._selectedManipulatorHoverOutlineMaterial}),ft.Selected|ft.Focused)];this.enableMidpoints&&r.push(new N(this._edgeManipulatorGeometry.instantiate({material:this._vertexManipulatorMaterial}),Zt.Edge|ft.Focused|ft.Unselected),new N(this._edgeManipulatorOutlineGeometry.instantiate({material:this._vertexManipulatorHoverOutlineMaterial}),Zt.Edge|ft.Focused|ft.Unselected),new N(this._edgeManipulatorGeometry.instantiate(),Zt.Edge|ft.Unfocused|ft.Unselected),new N(this._edgeManipulatorOutlineGeometry.instantiate(),Zt.Edge|ft.Unfocused|ft.Unselected));const p=new D({view:a,renderObjects:r,elevationInfo:e,focusMultiplier:1,touchMultiplier:1,available:this.object.visible,metadata:{deleting:!1}});p.selected=i,this._setTypeSpecificManipulatorSettings(p,t,e);const d=\"edge\"===t.type?{manipulator:p,handle:t,locationUpdateHandle:null,type:\"edge\",selectedIndex:0}:{manipulator:p,handle:t,type:\"vertex\",selectedIndex:0};if(this._manipulatorInfos.push(d),this.manipulators.add(p),this._updateManipulatorPosition(d),\"edge\"===d.type){const t=[];for(const e of[d.handle.leftVertex,d.handle.rightVertex]){const i=this._getManipulatorInfoFromHandle(e);null!=i&&t.push(i.manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(d))))}d.locationUpdateHandle=s(t),this._manipulatorHandles.add(d.locationUpdateHandle,p)}this._manipulatorHandles.add(this._watchAndUpdateGrabState(p,!0),p);const u=dt(p,((t,i,a,o)=>{let s=null;const{snappingStep:l,cancelSnapping:r}=vt({predicate:()=>!this._isMultiVertexSelection(),snappingManager:this.tool.snappingManager,snappingContext:new _t({editGeometryOperations:n,elevationInfo:e,pointer:o,excludeFeature:this.object.graphic,visualizer:new R}),updatingHandles:this._updatingHandles,useZ:!1});a=a.next((e=>(this._onDragCancel(!t.metadata.deleting,(()=>s=h(s))),e))).next(r),i.next((t=>this._trackNumDragging(t))).next((t=>{if(\"start\"===t.action&&this._operations&&(s=this._operations.createUndoGroup()),\"edge\"===d.type){const e=this._splitEdgeManipulator(d);return{...t,info:e,snapOrigin:e.handle.pos}}return{...t,info:d,snapOrigin:d.handle.pos}})).next(ut(this.view,t.elevationAlignedLocation)).next(F(this.view,t.elevationAlignedLocation,this.object.elevationInfo,t.location.spatialReference,this.object.graphic)).next(pt(this.view,e,this.object.graphic??void 0)).next(...l).next(ht()).next((e=>{this._perVertexManipulatorDragAction(e),\"end\"===e.action&&(s=h(s)),this._updateTranslateVertexTooltip(t,J.XY,e)}))}));return this._manipulatorHandles.add([u,p.events.on(\"immediate-click\",(t=>this._manipulatorClickCallback(t,d))),p.events.on(\"select-changed\",(()=>{d.selectedIndex=++this._selectedIndex,this._updateMoveManipulationPosition()})),p.events.on(\"focus-changed\",(({action:t})=>{\"focus\"===t&&\"edge\"!==d.type?this._updateTranslateVertexTooltip(p,J.XY):this._hideTooltip()}))],p),this.events.emit(\"manipulators-changed\"),d}_trackNumDragging(t){switch(t.action){case\"start\":this._numDragging++;break;case\"end\":this._numDragging--}return t}_onDragCancel(t=!0,e){switch(this._numDragging--,t&&this.undo(),null!=this.tool.snappingManager&&this.tool.snappingManager.doneSnapping(),this._hideTooltip(),this._reshapeEventState){case zt.NONE:break;case zt.MOVING:this.events.emit(\"move\",{type:\"move\",dx:0,dy:0,object:this.object});break;case zt.RESHAPING:this.events.emit(\"reshape\",{type:\"reshape\",object:this.object})}e&&e(),this.destroyed||this._updateEventState(zt.NONE)}_setTypeSpecificManipulatorSettings(t,e,i){const a=this._settings;switch(e.type){case\"vertex\":{t.state=Zt.Vertex,t.selectable=!0,t.cursor=\"move\",t.collisionPriority=2;const{size:e,collisionPadding:n}=a.manipulators.vertex;t.radius=e/2+n,t.elevationInfo=i;const o=this._operations?.data.type;t.interactive=null!=o&&\"point\"!==o&&\"mesh\"!==o;break}case\"edge\":{t.state=Zt.Edge,t.selectable=!1,t.cursor=\"copy\",t.collisionPriority=-1;const{size:e,collisionPadding:n}=a.manipulators.edge;t.radius=e/2+n,t.elevationInfo=\"on-the-ground\"!==i.mode||G(this.object.graphic?.symbol)?{mode:\"absolute-height\",offset:0}:i;break}}}_watchAndUpdateGrabState(t,e){return t.events.on(\"grab-changed\",(i=>this._onGrabStateChanged(t,e,i.action,i.pointerType)))}_onGrabStateChanged(t,e,i,a=\"mouse\"){if(!this._recreatingManipulators){if(\"start\"===i)e&&this._updateSelection(t),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(zt.NONE),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing,(\"touch\"!==a||this.enableEdgeOffset)&&(this._manipulatorInfos.forEach((t=>{const{manipulator:e}=t,i=this._operations?.data.type;e.interactive=e.grabbing||!this._numGrabbing&&null!=i&&\"point\"!==i&&\"mesh\"!==i,\"edgeManipulator\"in t&&(t.edgeManipulator.interactive=t.edgeManipulator.grabbing||!this._numGrabbing)})),this._objectMoveManipulation.forEachManipulator((t=>{t.interactive=t.grabbing||!this._numGrabbing})))}}_clearSelection(){for(const t of this._manipulatorInfos)t.manipulator.grabbing||(t.manipulator.selected=!1)}_updateSelection(t){t.grabbing&&!t.selected&&t.selectable&&(this._clearSelection(),t.selected=!0,this.events.emit(\"manipulators-changed\"))}_removeManipulator(t){null!=t&&(t.manipulator.metadata.deleting=!0,this.manipulators.remove(t.manipulator),this._manipulatorHandles.remove(t.manipulator),i(this._manipulatorInfos,t),this.events.emit(\"manipulators-changed\"))}_getManipulatorInfoFromHandle(t){if(t)for(const e of this._manipulatorInfos)if(t===e.handle)return e;return null}_updateManipulatorPositions(t){for(const e of t)this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(e))}_updateManipulatorPosition(t){const e=this._operations;if(null!=t&&e)if(\"vertex\"===t.type)t.manipulator.location=e.data.coordinateHelper.vectorToDehydratedPoint(t.handle.pos,Rt),t.manipulator.grabbing&&null!=this._vertexLaserLineVisualElement&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=t.manipulator.renderLocation);else if(\"edge\"===t.type){const i=this._getManipulatorInfoFromHandle(t.handle.leftVertex),a=this._getManipulatorInfoFromHandle(t.handle.rightVertex);if(null==i||null==a)return;const n=i.manipulator,o=a.manipulator;if(null!=t.manipulator.elevationInfo&&\"on-the-ground\"===t.manipulator.elevationInfo.mode){const i=n.location,a=o.location,s=.5,l=i.x+s*(a.x-i.x),r=i.y+s*(a.y-i.y),p=i.hasZ&&a.hasZ?0:void 0;t.manipulator.location=L(l,r,p,e.data.spatialReference)}else y(Ft,n.renderLocation,o.renderLocation,.5),t.manipulator.renderLocation=Ft}}_splitEdgeManipulator(t,e=.5){const i=this._operations,a=i.splitEdge(t.handle,e).createdVertex;t.locationUpdateHandle=h(t.locationUpdateHandle);const n=this.object.elevationInfo;let o;this.enableEdgeOffset?(this._removeManipulator(t),o=this._createVertexOrEdgeManipulator(a)):(o=t,o.handle=a,o.type=\"vertex\",this._setTypeSpecificManipulatorSettings(t.manipulator,t.handle,n)),a.leftEdge&&this._createVertexOrEdgeManipulator(a.leftEdge),a.rightEdge&&this._createVertexOrEdgeManipulator(a.rightEdge),this._updateManipulatorPosition(o),this.enableEdgeOffset||this._updateTranslateVertexTooltip(o.manipulator,J.XY),this._updateSelection(t.manipulator);const s=this._updateEventState(zt.RESHAPING),l=i.data.coordinateHelper.vectorToArray(o.handle.pos),r=i.data.components.indexOf(a.component);return this.events.emit(\"vertex-add\",{type:\"vertex-add\",object:this.object,vertices:[{coordinates:l,componentIndex:r,vertexIndex:a.index}],added:l}),s&&this._updateEventState(zt.NONE),o}_updateMoveManipulationPosition(){const t=E(Ft,0,0,0);let e=0,i=!1,a=null,n=null;for(const l of this._manipulatorInfos)\"vertex\"===l.type&&(l.manipulator.selected?(e++,j(t,t,l.manipulator.renderLocation),null==a||l.selectedIndex>a.selectedIndex?(n=a,a=l):(null==n||l.selectedIndex>n.selectedIndex)&&(n=l)):i=!0);const o=this.object,s=this._operations?.data.geometry;if(0===e){const t=o.visible&&this.enableMoveObject;this._moveManipulation.xyManipulation.available=t,this._moveManipulation.xyAxisManipulation.available=t,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=t,this._moveManipulation.zManipulation.available=t&&this.enableZShape&&q(this._operations,o.elevationInfo),this._moveManipulation.angle=z(s),this._moveManipulation.radius=Q.radiusForSymbol(o.graphic?.symbol)}else{const t=o.visible;this._moveManipulation.xyManipulation.available=t,this._moveManipulation.xyAxisManipulation.available=t,this._moveManipulation.zManipulation.available=t&&this.enableZVertex&&q(this._operations,this.object.elevationInfo),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=t&&1!==e;let i=0;if(null!=a){const t=a.handle.pos,e=null!=n?n.handle.pos:a.handle.leftEdge&&a.handle.leftEdge.leftVertex?a.handle.leftEdge.leftVertex.pos:null,o=null==n&&a.handle.rightEdge&&a.handle.rightEdge.rightVertex?a.handle.rightEdge.rightVertex.pos:null;e&&o?this._moveManipulation.xyAxisManipulation.available=!1:e?i=Nt(e,t):o&&(i=Nt(t,o))}this._moveManipulation.angle=i,this._moveManipulation.radius=B}0!==e&&i?(I(t,t,1/e),Rt.spatialReference=this._operations.data.spatialReference,Rt.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(t,Rt),this._moveManipulation.elevationAlignedLocation=Rt):null==this._outlineVisualElement||this.object.isDraped||null==this._outlineVisualElement.attachmentOrigin?U(this._moveManipulation,this.object):this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin}_removeVertices(t){const e=new Array,i=this._operations;if(i){for(const a of t){const t=a.handle.component;if(\"vertex\"===a.type&&i.canRemoveVertex(t)){e.push(a.handle),this._removeManipulator(a),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.leftEdge)),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.rightEdge));const n=i.removeVertices([a.handle]),o=n.removedVertices?.[0].createdEdge;o?this._createVertexOrEdgeManipulator(o):this.enableEdgeOffset&&t.vertices.length<=2&&this._removeManipulator(this._getManipulatorInfoFromHandle(t.edges[0]))}}if(e.length>0){const t=e.map((t=>{const e=i.data.components.indexOf(t.component);return{coordinates:i.data.coordinateHelper.vectorToArray(t.pos),componentIndex:e,vertexIndex:t.index}})),a=this._updateEventState(zt.RESHAPING);if(this.destroyed)return;if(this.events.emit(\"vertex-remove\",{type:\"vertex-remove\",object:this.object,removed:t.map((t=>t.coordinates)),vertices:t}),this.destroyed)return;if(a&&(this._updateEventState(zt.NONE),this.destroyed))return;this._updateMoveManipulationPosition()}}}_moveVertices(t,e,i=(\"start\"===e.action?gt.NEW_STEP:gt.ACCUMULATE_STEPS)){const a=this._operations;if(a){t.length>0&&a.moveVertices(t.map((t=>t.handle)),e.mapDeltaX,e.mapDeltaY,e.mapDeltaZ,i);for(const e of t)this._updateManipulatorPosition(e)}}_offsetEdge(t,e){if(null==e.operation||null==e.signedDistance)return;const i=this._operations;if(!i)return;const a=e.operation.clone();a.distance=e.signedDistance,i.updateVertices([t.handle.leftVertex,t.handle.rightVertex],a),this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(t.handle.leftVertex)),this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(t.handle.rightVertex))}_manipulatorClickCallback(t,e){t.shiftKey||this._clearSelection(),\"vertex\"===e.type&&(e.manipulator.selected=!e.manipulator.selected,t.button===rt.Right&&this._removeVertices([e])),\"edge\"===e.type&&t.button===rt.Left&&this._splitEdgeManipulator(e),t.stopPropagation()}_updateTranslateTooltip(t,e){const i=this._manipulatorInfos.filter((t=>\"vertex\"===t.type&&t.manipulator.selected));1===i.length?this._updateTranslateVertexTooltip(i[0].manipulator,t,e):this._updateTranslateObjectTooltip(t,e)}_updateTranslateObjectTooltip(t,e){const{sketchOptions:i,tooltip:a}=this;switch(t){case J.XY:this._latestTooltipInfo=this._translateTooltipInfo??=new yt({sketchOptions:i}),Pt(this._latestTooltipInfo,e,((t,e)=>Ht(t,e)));break;case J.XY_AXIS:this._latestTooltipInfo=this._translateXYTooltipInfo??=new Ot({sketchOptions:i}),Pt(this._latestTooltipInfo,e,((t,i)=>c(Ht(t,i),$(e))));break;case J.Z:this._latestTooltipInfo=this._translateZTooltipInfo??=new xt({sketchOptions:i}),Pt(this._latestTooltipInfo,e,At)}this._latestTooltipInfo.sketchOptions=i,a.info=i.tooltips.effectiveEnabled?this._latestTooltipInfo:null}_updateTranslateVertexTooltip(t,e,i){const{sketchOptions:a,tooltip:n}=this;switch(e){case J.XY:this._latestTooltipInfo=this._translateVertexTooltipInfo??=new It({sketchOptions:a}),Pt(this._latestTooltipInfo,i,((t,e)=>Ht(t,e))),this._updateTooltipAreaOrTotalLength(this._latestTooltipInfo);break;case J.XY_AXIS:this._latestTooltipInfo=this._translateVertexXYTooltipInfo??=new jt({sketchOptions:a}),Pt(this._latestTooltipInfo,i,((t,e)=>c(Ht(t,e),$(i)))),this._updateTooltipAreaOrTotalLength(this._latestTooltipInfo);break;case J.Z:this._latestTooltipInfo=this._translateVertexZTooltipInfo??=new Et({sketchOptions:a}),Pt(this._latestTooltipInfo,i,At)}const o=Vt(t.location);this._latestTooltipInfo.elevation=null!=o?Tt({actual:o}):null,this._latestTooltipInfo.sketchOptions=a,n.info=a.tooltips.effectiveEnabled?this._latestTooltipInfo:null}_updateTooltipAreaOrTotalLength(t){const e=this._operations?.data.geometry;if(null==e)return t.area=null,void(t.totalLength=null);t.area=\"polygon\"===e.type?St(e):null,t.totalLength=\"polyline\"===e.type?wt(e):null}_hideTooltip(){this.tooltip.clear(),this._latestTooltipInfo=null}get test(){return{segmentLabels:this._segmentLabels,manipulatorInfos:this._manipulatorInfos}}};function Pt(t,e,i){if(null!=e&&\"end\"!==e.action){const{mapStart:a,mapEnd:n}=e,o=i(a,n);t.distance=null!=o?o:d}else t.distance=d}function kt(){return t=>{const{operation:e,mapEnd:i}=t;return null==e||null==i?t:(\"start\"===t.action&&e.selectArrowFromStartPoint(i),{...t,signedDistance:e.signedDistanceToPoint(i)})}}function Ut(t){const e=t.size/2,i=e+t.collisionPadding;return{size:e/i,outlineSize:(e+t.outlineSize)/i}}function Nt(t,e){return Math.atan2(e[1]-t[1],e[0]-t[0])+Math.PI/2}function Ct(t,e,i,a,n){if(t){const t=n.toXYZ(n.pointToVector(i)),o=V(a,t,A.get()),s=Lt(o,t,n.spatialReference);if(null!=s)return u(s.value*Math.sign(e),s.unit)}return u(e*_(i.spatialReference),\"meters\")}t([v()],Dt.prototype,\"_operations\",null),t([v()],Dt.prototype,\"_segmentLabels\",void 0),t([v({constructOnly:!0})],Dt.prototype,\"tool\",void 0),t([v()],Dt.prototype,\"tooltip\",void 0),t([v({readOnly:!0})],Dt.prototype,\"updating\",null),t([v()],Dt.prototype,\"manipulators\",null),t([v()],Dt.prototype,\"view\",null),t([v()],Dt.prototype,\"object\",null),t([v()],Dt.prototype,\"enableZShape\",null),t([v()],Dt.prototype,\"enableZVertex\",null),t([v()],Dt.prototype,\"enableMoveObject\",null),t([v()],Dt.prototype,\"enableMidpoints\",null),t([v()],Dt.prototype,\"enableEdgeOffset\",null),t([v()],Dt.prototype,\"sketchOptions\",null),t([v()],Dt.prototype,\"_accentColor\",null),Dt=t([M(\"esri.views.3d.interactive.editingTools.reshape.ReshapeOperation\")],Dt);const Rt=L(0,0,void 0,Gt.WGS84),Ft=S(),Xt=1e-6;var Zt,zt,Yt;!function(t){t.Vertex=mt.Custom1,t.Edge=mt.Custom2}(Zt||(Zt={})),function(t){t[t.NONE=0]=\"NONE\",t[t.MOVING=1]=\"MOVING\",t[t.RESHAPING=2]=\"RESHAPING\"}(zt||(zt={})),function(t){t[t.ALL=0]=\"ALL\",t[t.SELECTED_OR_ALL=1]=\"SELECTED_OR_ALL\"}(Yt||(Yt={}));export{Dt as ReshapeOperation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Evented.js\";import{destroyMaybe as o}from\"../../../../../core/maybe.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{ReshapeOperation as s}from\"./ReshapeOperation.js\";import{InteractiveToolBase as r}from\"../../../../interactive/InteractiveToolBase.js\";import a from\"../../../../interactive/sketch/SketchOptions.js\";let p=class extends r{constructor(e){super(e),this.events=new t,this.enableZShape=!0,this.enableZVertex=!0,this.enableMoveObject=!0,this.enableMidpoints=!0,this.enableEdgeOffset=!1,this.type=\"reshape-3d\",this.sketchOptions=new a,this.snappingManager=null,this.automaticManipulatorSelection=!1}initialize(){const e=this._reshapeOperation=new s({tool:this});this.addHandles([e.events.on(\"reshape\",(e=>this.events.emit(\"reshape\",e))),e.events.on(\"move\",(e=>this.events.emit(\"move\",e))),e.events.on(\"vertex-add\",(e=>this.events.emit(\"vertex-add\",e))),e.events.on(\"vertex-remove\",(e=>this.events.emit(\"vertex-remove\",e))),e.events.on(\"immediate-click\",(e=>this.events.emit(\"immediate-click\",{...e,object:this.object}))),this.view.on(\"pointer-down\",[\"Shift\"],(e=>e.stopPropagation()))]),this.finishToolCreation()}destroy(){this._reshapeOperation=o(this._reshapeOperation)}get updating(){return((this.object.updating??!1)||this._reshapeOperation?.updating)??!1}onManipulatorSelectionChanged(){this._reshapeOperation&&this._reshapeOperation.onManipulatorSelectionChanged()}get canUndo(){return this._reshapeOperation.canUndo??!1}undo(){null!=this.snappingManager&&this.snappingManager.doneSnapping(),this._reshapeOperation.undo()}get canRedo(){return this._reshapeOperation.canRedo??!1}redo(){null!=this.snappingManager&&this.snappingManager.doneSnapping(),this._reshapeOperation.redo()}onInputEvent(e){\"key-down\"!==e.type||\"Delete\"!==e.key&&\"Backspace\"!==e.key||this._reshapeOperation.removeSelectedVertices()}reset(){}get test(){return{snappingManager:this.snappingManager,reshapeOperation:this._reshapeOperation}}};e([n()],p.prototype,\"_reshapeOperation\",void 0),e([n({constructOnly:!0,nonNullable:!0})],p.prototype,\"view\",void 0),e([n({constructOnly:!0})],p.prototype,\"object\",void 0),e([n({constructOnly:!0,nonNullable:!0})],p.prototype,\"enableZShape\",void 0),e([n({constructOnly:!0,nonNullable:!0})],p.prototype,\"enableZVertex\",void 0),e([n({constructOnly:!0,nonNullable:!0})],p.prototype,\"enableMoveObject\",void 0),e([n({constructOnly:!0,nonNullable:!0})],p.prototype,\"enableMidpoints\",void 0),e([n({constructOnly:!0,nonNullable:!0})],p.prototype,\"enableEdgeOffset\",void 0),e([n()],p.prototype,\"type\",void 0),e([n({constructOnly:!0,type:a})],p.prototype,\"sketchOptions\",void 0),e([n({constructOnly:!0})],p.prototype,\"snappingManager\",void 0),e([n()],p.prototype,\"updating\",null),e([n()],p.prototype,\"automaticManipulatorSelection\",void 0),p=e([i(\"esri.views.3d.interactive.editingTools.reshape.ReshapeTool3D\")],p);export{p as ReshapeTool3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{isRelativeVertexSpace as t}from\"../../../../../geometry/support/meshVertexSpaceUtils.js\";function r(e){const{graphic:t}=e;return null!=t.geometry&&\"mesh\"===t.geometry.type?o(t.geometry):n(e)}function o(e){return t(e.vertexSpace)?i(e,e.transform,e.vertexSpace):l(e)}function n(e){let t=e.graphic.geometry,r=null;return{undo(e){r=e.geometry,e.geometry=t},redo(e){t=e.geometry,e.geometry=r}}}function i(t,r,o){let n=r?.clone(),i=e(o.origin),l=null,u=null;return{undo:()=>{l=t.transform?.clone(),u=e(o.origin),t.transform=n,t.vertexSpace.origin=i},redo:()=>{n=t.transform?.clone(),i=e(o.origin),t.transform=l,t.vertexSpace.origin=u}}}function l(e){let t,r=e.vertexAttributes.clonePositional();return{undo:()=>{t=e.vertexAttributes.clonePositional(),e.vertexAttributes=r},redo:()=>{r=e.vertexAttributes.clonePositional(),e.vertexAttributes=t}}}export{r as createGraphicGeometryUndoRecord};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Accessor.js\";import{deg2rad as o,rad2deg as i}from\"../../../../../core/mathUtils.js\";import{when as r,sync as n}from\"../../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{axis as l,angle as c}from\"../../../../../geometry/support/axisAngleDegrees.js\";import{createGraphicGeometryUndoRecord as p}from\"./undoRecords.js\";let g=class extends e{constructor(t){super(t),this._interactionState=null}initialize(){this.addHandles([r((()=>{const t=this._interactionState;return t&&t.angle!==t.previousAngle?{interactionState:t,angle:t.state.angle}:null}),(({interactionState:t})=>{this._updateMeshRotation(t)}),n),r((()=>{const t=this._interactionState;return t&&t.scale!==t.previousScale?{interactionState:t,scale:t.state.scale}:null}),(({interactionState:t})=>{this._updateMeshSize(t)}),n)])}get initialAngle(){return this._interactionState?.initialAngle??0}get angle(){const t=this.geometry.transform;if(null==t)return this._interactionState?.angle??0;const e=l(t.rotation)[2];return Math.abs(e)>.999999?o(c(t.rotation))*Math.sign(e):0}get angleClockwise(){return-this.angle}get relativeAngle(){return this.angle-this.initialAngle}get relativeAngleClockwise(){return-this.relativeAngle}get scale(){return this._interactionState?.scale??1}startInteraction(){const t=new u({angle:this.angle});this._interactionState=t;const e=()=>{this._interactionState=null};return{state:t,done:e,cancel:()=>{t.cancel(),e()}}}createUndoRecord(){return p(this.object)}_updateMeshRotation(t){const{angle:e,previousAngle:o}=t;t.previousAngle=e;const r=i(e-o);this.geometry.rotate(0,0,r,{origin:this.geometry.anchor})}_updateMeshSize(t){const{scale:e,previousScale:o}=t;t.previousScale=e;const i=e/o,r=this.geometry.anchor;this.geometry.scale(i,{origin:r})}};t([s({constructOnly:!0})],g.prototype,\"object\",void 0),t([s({constructOnly:!0})],g.prototype,\"geometry\",void 0),t([s({constructOnly:!0})],g.prototype,\"viewingMode\",void 0),t([s()],g.prototype,\"initialAngle\",null),t([s()],g.prototype,\"angle\",null),t([s()],g.prototype,\"angleClockwise\",null),t([s()],g.prototype,\"relativeAngle\",null),t([s()],g.prototype,\"relativeAngleClockwise\",null),t([s()],g.prototype,\"scale\",null),t([s()],g.prototype,\"_interactionState\",void 0),g=t([a(\"esri.views.3d.interactive.editingTools.transform.ScaleRotateMeshAdapter\")],g);let u=class extends e{get state(){const{angle:t,scale:e}=this;return{angle:t,scale:e}}constructor(t){super(t),this.angle=0,this.initialAngle=0,this.previousAngle=0,this.previousScale=1,this.scale=1,this.initialAngle=t.angle,this.previousAngle=t.angle}cancel(){this.angle=this.initialAngle,this.scale=1}};t([s()],u.prototype,\"angle\",void 0),t([s()],u.prototype,\"initialAngle\",void 0),t([s()],u.prototype,\"previousAngle\",void 0),t([s()],u.prototype,\"previousScale\",void 0),t([s()],u.prototype,\"scale\",void 0),t([s()],u.prototype,\"state\",null),u=t([a(\"esri.views.3d.interactive.editingTools.transform.ScaleRotateMeshAdapter.InteractionState\")],u);export{g as ScaleRotateMeshAdapter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Accessor.js\";import{rad2deg as i,deg2rad as l}from\"../../../../../core/mathUtils.js\";import{when as n,sync as o}from\"../../../../../core/reactiveUtils.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";let a=class extends e{constructor(t){super(t),this.sizeAxis=null,this._interactionState=null}initialize(){this.addHandles(n((()=>null!=this._interactionState?this._interactionState.state:null),(t=>{this._updateSymbol(t)}),o))}get initialAngle(){return this._interactionState?.initialAngle??0}get angle(){return null!=this._interactionState?this._interactionState.angle:null!=this._orientationReferenceSymbolLayer?c(this._orientationReferenceSymbolLayer.heading??0):0}get angleClockwise(){return-this.angle}get orientation(){return this.angle}get orientationClockwise(){return this.angleClockwise}get relativeAngle(){return this.angle-this.initialAngle}get relativeAngleClockwise(){return-this.relativeAngle}get scale(){return this._interactionState?.scale??1}get size(){const t=this._sizeReferenceSymbolLayer;if(null==t)return null;const e=this.findLayerView(),i=this._graphicSymbol;if(null==e||null==i||\"point-3d\"!==i.type)return null;const l=e.getSymbolLayerSize(i,t);if(\"size\"in l&&null!=l.size)return l.size;const n=this.sizeAxis;return!(\"width\"in l)||null==l.width||null!=n&&\"width\"!==n&&\"all\"!==n&&\"width-and-depth\"!==n?!(\"depth\"in l)||null==t.depth||null!=n&&\"depth\"!==n&&\"all\"!==n&&\"width-and-depth\"!==n?!(\"height\"in l)||null==t.height||null!=n&&\"height\"!==n&&\"all\"!==n?null:l.height:l.depth:l.width}get _sizeReferenceSymbolLayer(){const t=this._graphicSymbol;return null==t||0===t.symbolLayers.length?null:t.symbolLayers.find((t=>\"object\"===t.type))}get _orientationReferenceSymbolLayer(){const t=this._graphicSymbol;return null==t||0===t.symbolLayers.length?null:t.symbolLayers.find((t=>\"object\"===t.type&&null!=t.heading))}get _graphicSymbol(){return null!=this.graphic?.symbol&&\"point-3d\"===this.graphic.symbol.type?this.graphic.symbol:null}set _graphicSymbol(t){this.graphic.symbol=t}startInteraction(){const t=this._graphicSymbol,e=this.findLayerView();if(null!=this._interactionState||null==t||null==e)return h;const i=t.symbolLayers.map((i=>\"object\"===i.type?e.getSymbolLayerSize(t,i):null)).toArray(),l=t.clone(),n=this.angle,o=new p({originalSymbol:l,angle:n,initialSizes:i});this._interactionState=o;const r=()=>{this._interactionState=null};return{state:o,done:r,cancel:()=>{this._graphicSymbol=l,r()}}}createUndoRecord(){let t=this.graphic.symbol,e=null;return{undo:i=>{e=i.symbol,i.symbol=t},redo:i=>{t=i.symbol,i.symbol=e}}}_updateSymbol({scale:t,angle:e,originalSymbol:l,initialSizes:n}){const o=this._graphicSymbol;if(null==o||\"point-3d\"!==o.type)return;const r=o.clone(),s=-i(e-this.initialAngle);let a=!1;this._forEachObjectSymbolLayerPair(l,r,((e,i,l)=>{const o=(e.heading??0)+s;i.heading!==o&&(i.heading=o,a=!0);const r=n[l];if(null!=r&&\"width\"in r){r.width=this.sizeFilter(r.width),r.height=this.sizeFilter(r.height),r.depth=this.sizeFilter(r.depth);const e=r.width*t;i.width!==e&&(i.width=e,a=!0);const l=r.depth*t;i.depth!==l&&(i.depth=l,a=!0);const n=r.height*t;i.height!==n&&(i.height=n,a=!0)}})),a&&(this._graphicSymbol=r)}_forEachObjectSymbolLayerPair(t,e,i){t.symbolLayers.forEach(((t,l)=>{const n=e.symbolLayers.at(l);\"object\"===t.type&&\"object\"===n.type&&i(t,n,l)}))}};function c(t){return-l(t)}t([r()],a.prototype,\"initialAngle\",null),t([r()],a.prototype,\"angle\",null),t([r()],a.prototype,\"angleClockwise\",null),t([r()],a.prototype,\"orientation\",null),t([r()],a.prototype,\"orientationClockwise\",null),t([r()],a.prototype,\"relativeAngle\",null),t([r()],a.prototype,\"relativeAngleClockwise\",null),t([r()],a.prototype,\"scale\",null),t([r()],a.prototype,\"size\",null),t([r()],a.prototype,\"sizeAxis\",void 0),t([r({constructOnly:!0})],a.prototype,\"graphic\",void 0),t([r()],a.prototype,\"_interactionState\",void 0),t([r({constructOnly:!0})],a.prototype,\"findLayerView\",void 0),t([r({constructOnly:!0})],a.prototype,\"sizeFilter\",void 0),t([r()],a.prototype,\"_sizeReferenceSymbolLayer\",null),t([r()],a.prototype,\"_orientationReferenceSymbolLayer\",null),t([r()],a.prototype,\"_graphicSymbol\",null),a=t([s(\"esri.views.3d.interactive.editingTools.transform.ScaleRotateObjectSymbol3DAdapter\")],a);const h={state:{angle:0,scale:0},done:()=>{},cancel:()=>{}};let p=class extends e{get state(){const{originalSymbol:t,angle:e,initialAngle:i,scale:l,initialSizes:n}=this;return{originalSymbol:t,angle:e,initialAngle:i,scale:l,initialSizes:n}}constructor(t){super(t),this.angle=0,this.initialAngle=0,this.scale=1,this.initialAngle=t.angle}};t([r()],p.prototype,\"originalSymbol\",void 0),t([r()],p.prototype,\"angle\",void 0),t([r()],p.prototype,\"initialAngle\",void 0),t([r()],p.prototype,\"initialSizes\",void 0),t([r()],p.prototype,\"scale\",void 0),t([r()],p.prototype,\"state\",null),p=t([s(\"esri.views.3d.interactive.editingTools.transform.ScaleRotateObjectSymbol3DAdapter.InteractionState\")],p);export{a as ScaleRotateObjectSymbol3DAdapter,c as headingToAngle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{SketchTooltipInfo as r}from\"./SketchTooltipInfo.js\";let e=class extends r{constructor(o){super(o),this.type=\"transform-rotate\",this.rotation=null,this.rotationPrecision=null,this.orientation=null,this.orientationPrecision=null,this.rotationType=\"geographic\"}};o([t()],e.prototype,\"type\",void 0),o([t()],e.prototype,\"rotation\",void 0),o([t()],e.prototype,\"rotationPrecision\",void 0),o([t()],e.prototype,\"orientation\",void 0),o([t()],e.prototype,\"orientationPrecision\",void 0),o([t()],e.prototype,\"rotationType\",void 0),e=o([i(\"esri.views.interactive.tooltip.TransformTooltipInfos.TransformRotateTooltipInfo\")],e);let s=class extends r{constructor(o){super(o),this.type=\"transform-scale\",this.size=null,this.sizeUnit=null,this.sizePrecision=null}};o([t()],s.prototype,\"type\",void 0),o([t()],s.prototype,\"scale\",void 0),o([t()],s.prototype,\"size\",void 0),o([t()],s.prototype,\"sizeUnit\",void 0),o([t()],s.prototype,\"sizePrecision\",void 0),s=o([i(\"esri.views.interactive.tooltip.TransformTooltipInfos.TransformScaleTooltipInfo\")],s);let n=class extends r{constructor(o){super(o),this.type=\"transform-absolute\",this.orientation=null,this.orientationPrecision=null,this.rotationType=\"geographic\",this.size=null,this.sizePrecision=null,this.sizeUnit=null}};o([t()],n.prototype,\"type\",void 0),o([t()],n.prototype,\"orientation\",void 0),o([t()],n.prototype,\"orientationPrecision\",void 0),o([t()],n.prototype,\"rotationType\",void 0),o([t()],n.prototype,\"size\",void 0),o([t()],n.prototype,\"sizePrecision\",void 0),o([t()],n.prototype,\"sizeUnit\",void 0),n=o([i(\"esri.views.interactive.tooltip.TransformTooltipInfos.TransformAbsoluteTooltipInfo\")],n);export{n as TransformAbsoluteTooltipInfo,e as TransformRotateTooltipInfo,s as TransformScaleTooltipInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Accessor.js\";import{multiplyOpacityToUnitRGBA as a}from\"../../../../../core/colorUtils.js\";import{cyclicalPI as o}from\"../../../../../core/Cyclical.js\";import i from\"../../../../../core/Evented.js\";import{clamp as s,rad2deg as n}from\"../../../../../core/mathUtils.js\";import{destroyMaybe as r}from\"../../../../../core/maybe.js\";import{createAngle as l,createScalar as c,createLength as p}from\"../../../../../core/quantityUtils.js\";import{when as h,initial as u,watch as d}from\"../../../../../core/reactiveUtils.js\";import{addFrameTask as g}from\"../../../../../core/scheduling.js\";import{createScreenPointArray as m}from\"../../../../../core/screenUtils.js\";import{property as f}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as _}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{fromRotation as v,fromScaling as D,multiply as S,scale as b,rotate as M}from\"../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as y}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{s as j,f as T,l as w,a as R,b as I,g as k}from\"../../../../../chunks/vec32.js\";import{clone as O,fromValues as A}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromPositionAndNormal as F,create as C,getNormal as P}from\"../../../../../geometry/support/plane.js\";import{wrap as E,distance2 as U}from\"../../../../../geometry/support/ray.js\";import{sv3d as x,sm4d as L}from\"../../../../../geometry/support/vectorStacks.js\";import{Manipulator3D as z}from\"../../Manipulator3D.js\";import{calculateInputRotationTransform as N}from\"../../manipulatorUtils.js\";import{RenderObject as H}from\"../../RenderObject.js\";import{screenToRenderPlane as G}from\"../dragEventPipeline3D.js\";import{ManipulatorType as V}from\"../ManipulatorType.js\";import{ringIndicatorDelayMs as q,rotateIndicatorDirectionBuffer as B,scaleIndicatorDirectionBuffer as J,rotateIndicatorArrowPlacementPercentage as K,ringThickness as Q,dragThresholdPx as W,ringRadius as X,innerIndicatorRadius as Y,outerIndicatorRadius as Z,ringHeight as $,rotateIndicatorArrowTipRadius as tt,rotateIndicatorArrowTipLength as et,scaleIndicatorOffset1 as at,scaleIndicatorOffset2 as ot,indicatorThickness as it,geometrySegments as st,rotateIndicatorArcLength as nt,ringResetAnimationSpeedFactor as rt,scaleIndicatorArcLength as lt}from\"../manipulations/config.js\";import{CullFaceOptions as ct}from\"../../../webgl-engine/lib/basicInterfaces.js\";import{createExtrudedTriangle as pt,transformInPlace as ht,createPathExtrusionGeometry as ut}from\"../../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as dt}from\"../../../webgl-engine/lib/Material.js\";import{ColorMaterial as gt}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as mt}from\"../../../../interactive/dragEventPipeline.js\";import{ManipulatorStateCustomFlags as ft,ManipulatorStateFlags as _t}from\"../../../../interactive/interfaces.js\";import{Tooltip as vt}from\"../../../../interactive/tooltip/Tooltip.js\";import{TransformRotateTooltipInfo as Dt,TransformScaleTooltipInfo as St,TransformAbsoluteTooltipInfo as bt}from\"../../../../interactive/tooltip/TransformTooltipInfos.js\";var Mt;!function(t){t.ScaleIn=ft.Custom2,t.ScaleOut=ft.Custom3,t.RotateLeft=ft.Custom4,t.RotateRight=ft.Custom5,t.Unlocked=ft.Custom7,t.DelayedFocused=ft.Custom8,t.TouchInput=ft.Custom12}(Mt||(Mt={}));let yt=class extends e{get angle(){return this.adapter.angle}get scale(){return this.adapter.scale}set location(t){this._ringManipulator.location=t}set elevationAlignedLocation(t){this._ringManipulator.elevationAlignedLocation=t}get grabbing(){return this._ringManipulator.grabbing}set interactive(t){this._ringManipulator.interactive=t}get updating(){return!!this._activeAnimation}constructor(t){super(t),this.mode=null,this._scaleRotateDragData=null,this._activeAnimation=null,this._ringIndicatorDelayMs=q,this._absoluteTooltipInfo=null,this._scaleTooltipInfo=null,this._rotateTooltipInfo=null,this.events=new i,this.getFocused=()=>this._ringManipulator.focused,this.getScale=()=>\"scale\"===this._scaleRotateDragData?.mode?this.adapter.scale:1}initialize(){this._tooltip=new vt({view:this.tool.view}),this._createManipulator(),this._updateDragState(),this._updateManipulatorTransform(),this.addHandles([h((()=>!this.sketchOptions.tooltips.effectiveEnabled),(()=>this._tooltip.clear()),u),d((()=>{const{adapter:t}=this,{info:e}=this._tooltip;return e===this._absoluteTooltipInfo&&this.getFocused()?[e,t.size,t.orientationClockwise]:[null]}),(([t])=>{t&&this._updateFocusTooltip()}))])}destroy(){this._activeAnimation?.frameTask.remove(),this._activeAnimation=null,this.tool.manipulators.remove(this._ringManipulator),this._ringManipulator=null,this._tooltip=r(this._tooltip)}startAnimation(t){this.cancelActiveAnimation(),t.start();const e=g({update:({deltaTime:e})=>{t.update(e)&&this.cancelActiveAnimation()}});this._activeAnimation={...t,frameTask:e}}cancelActiveAnimation(){this._activeAnimation?.frameTask.remove(),this._activeAnimation=r(this._activeAnimation)}forEachManipulator(t){t(this._ringManipulator,V.SCALE_ROTATE)}_createManipulator(){const t=this._createRingManipulator();this._ringManipulator=t,this.tool.manipulators.add(t);const e=this.tool.object,a=mt(t,((t,a,i)=>{this._scaleRotateDragData=null;const r=this.adapter.startInteraction(),l={mode:\"none\",origin:O(t.renderLocation),initialAngle:this.adapter.angle,angle:0,angleDir:0,scaleDir:0};this._scaleRotateDragData=l,this._updateDragState();const c=x.get();this.tool.view.renderCoordsHelper.worldUpAtPosition(t.renderLocation,c),a.next(G(this.tool.view,F(t.renderLocation,c,C()))).next((t=>{const a=P(t.plane),i=N(t.renderStart,t.renderEnd,l.origin,a),c=o.shortestSignedDiff(l.angle,i);l.angleDir=s(l.angleDir+c,-B,B),l.angle=i;const p=jt(l,t),h=p-this.adapter.scale;if(l.scaleDir=s(l.scaleDir+h,-J,J),this._onScaleChanged(),\"none\"===l.mode){const a=this.mode||Tt(t,t.plane,l.origin,this.tool.view.state.camera);if(null!=a){switch(a){case\"rotate\":this.tool.events.emit(\"rotate-start\",{object:e,angle:0}),this.tool.events.emit(\"record-undo\",{record:this.adapter.createUndoRecord()});break;case\"scale\":this.tool.events.emit(\"scale-start\",{object:e,xScale:1,yScale:1}),this.tool.events.emit(\"record-undo\",{record:this.adapter.createUndoRecord()})}l.mode=a}}switch(l.mode){case\"rotate\":r.state.angle=l.initialAngle+i;break;case\"scale\":r.state.scale=p,this._onScaleChanged()}switch(this._updateDragState(),this._updateManipulatorTransform(),t.action){case\"start\":case\"update\":switch(l.mode){case\"rotate\":this.tool.events.emit(\"rotate\",{object:e,angle:n(l.angle)});break;case\"scale\":this.tool.events.emit(\"scale\",{object:e,xScale:p,yScale:p})}break;case\"end\":switch(l.mode){case\"rotate\":this.tool.events.emit(\"rotate-stop\",{object:e,angle:n(l.angle)});break;case\"scale\":this.tool.events.emit(\"scale-stop\",{object:e,xScale:p,yScale:p})}}return\"end\"===t.action&&(this.startAnimation(It(this,(()=>this._onScaleChanged()))),this._scaleRotateDragData=null,this._updateDragState(),r.done()),t})).next(this._updateTooltipPipelineStep(l)),i.next((()=>{if(r.cancel(),null!=this._scaleRotateDragData){switch(this._scaleRotateDragData.mode){case\"none\":break;case\"rotate\":this.tool.events.emit(\"rotate-stop\",{object:e,angle:0});break;case\"scale\":this.tool.events.emit(\"scale-stop\",{object:e,xScale:1,yScale:1})}this.startAnimation(It(this,(()=>this._onScaleChanged()))),this._scaleRotateDragData=null,this._updateDragState()}this._updateFocusTooltip()}))}));this.addHandles([a,t.events.on(\"focus-changed\",(t=>{\"focus\"===t.action?this.startAnimation(kt(this,(()=>this._updateDelayedFocusedState()),{delayMs:this._ringIndicatorDelayMs})):this._updateDelayedFocusedState()})),t.events.on(\"immediate-click\",(t=>{t.stopPropagation()})),d((()=>this.tool.object.visible),(t=>this._ringManipulator.available=t),u)])}_updateTooltipPipelineStep(t){return e=>{const{sketchOptions:a}=this,{effectiveEnabled:o,visualVariables:i}=a.tooltips;if(!o)return e;if(\"end\"===e.action)return this._updateFocusTooltip(),e;const s=this._tooltip;switch(t.mode){case\"scale\":{s.info=this._scaleTooltipInfo??=new St({sketchOptions:a});const{size:t,scale:e}=this.adapter,o=i?.size,n=s.info;n.sketchOptions=a,n.scale=c(e),n.size=null!=t?p(t,\"meters\"):void 0,n.sizePrecision=Ot(o?.valueType),n.sizeUnit=o?.unit;break}case\"rotate\":{s.info=this._rotateTooltipInfo??=new Dt({sketchOptions:a});const{orientationClockwise:t,relativeAngleClockwise:e}=this.adapter,o=i?.rotation,n=Ot(o?.valueType),r=s.info;r.sketchOptions=a,r.rotation=null!=e?l(e,\"radians\",\"geographic\"):void 0,r.rotationPrecision=n,r.rotationType=o?.rotationType??\"geographic\",r.orientation=null!=t?l(t,\"radians\",\"geographic\"):void 0,r.orientationPrecision=n;break}}return e}}_updateFocusTooltip(){const{sketchOptions:t,_tooltip:e}=this,{effectiveEnabled:a,visualVariables:o}=t.tooltips;if(!a)return;if(this.getFocused()){const a=o?.rotation,i=o?.size,s=this.mode,{size:n,orientationClockwise:r}=this.adapter,c=null!=r&&(null==s||\"rotate\"===s),h=null!=n&&(null==s||\"scale\"===s);e.info=this._absoluteTooltipInfo??=new bt({sketchOptions:t});const u=e.info;u.sketchOptions=t,u.orientation=c?l(r,\"radians\",\"geographic\"):void 0,u.orientationPrecision=Ot(a?.valueType),u.rotationType=a?.rotationType??\"geographic\",u.size=h?p(n,\"meters\"):void 0,u.sizeUnit=i?.unit,u.sizePrecision=Ot(i?.valueType)}else e.clear()}_onScaleChanged(){this.events.emit(\"scale-changed\"),this._updateManipulatorTransform()}_updateDelayedFocusedState(){this._ringManipulator.updateStateEnabled(Mt.DelayedFocused,this.getFocused()),this._updateFocusTooltip()}_updateDragState(){if(this._ringManipulator.updateStateEnabled(Mt.Unlocked,!(null!=this._scaleRotateDragData&&\"none\"!==this._scaleRotateDragData?.mode)),null!=this._scaleRotateDragData)switch(this._scaleRotateDragData.mode){case\"rotate\":this._ringManipulator.updateStateEnabled(Mt.ScaleIn|Mt.ScaleOut,!1),this._ringManipulator.updateStateEnabled(Mt.RotateLeft,this._scaleRotateDragData.angleDir<0),this._ringManipulator.updateStateEnabled(Mt.RotateRight,this._scaleRotateDragData.angleDir>=0);break;case\"scale\":this._ringManipulator.updateStateEnabled(Mt.RotateLeft|Mt.RotateRight,!1),this._ringManipulator.updateStateEnabled(Mt.ScaleIn,this._scaleRotateDragData.scaleDir<0),this._ringManipulator.updateStateEnabled(Mt.ScaleOut,this._scaleRotateDragData.scaleDir>=0)}else this._ringManipulator.updateStateEnabled(Mt.ScaleIn|Mt.ScaleOut|Mt.RotateLeft|Mt.RotateRight,!1)}_updateManipulatorTransform(){const t=v(L.get(),this.adapter.angle,A(0,0,1));if(null==t)return;const e=this.getScale(),a=D(L.get(),j(x.get(),e,e,e));this._ringManipulator.modelTransform=S(L.get(),a,t)}_createRingManipulator(){const t=(t,e,a)=>{const o=[],i=Math.ceil(st*(e-t)/(2*Math.PI));for(let s=0;s<i+1;s++){const n=t+s*(e-t)/i;o.push(A(a*Math.cos(n),a*Math.sin(n),0))}return o},e=e=>t(0,2*Math.PI,e),a=t=>[[-t/2,0],[t/2,0],[t/2,$/2],[-t/2,$/2]],o=this._createMaterial(1),i=(t,e,i=o)=>ut(i,a(e),t,[],[],!1),s=e(X),n=i(s,Q),r={left:new Array,right:new Array},l=[];for(let w=0;w<2;w++){const e=w*Math.PI-Math.PI/4,a=Math.PI/2-nt,s=e+a,n=e+Math.PI/2-a,c=t(s,n,Y),p=i(c,it);l.push(c),l.push(t(s,n,Z-Q/2)),r.left.push(p),r.right.push(p.instantiate());for(let t=0;t<2;t++){const e=0===t,a=y();if(e){b(a,a,[1,-1,1]),M(a,a,-s,[0,0,1]);const t=Math.round(K*(c.length-1));a[12]=c[t][0],a[13]=c[t][1],a[14]=c[t][2]}else{M(a,a,n,[0,0,1]);const t=Math.round((1-K)*(c.length-1));a[12]=c[t][0],a[13]=c[t][1],a[14]=c[t][2]}const i=pt(o,et,0,tt,$);ht(i,a),(e?r.left:r.right).push(i)}}const c=[];for(let b=0;b<2;b++){const e=b*Math.PI-Math.PI/4,a=Math.PI/2-lt,o=e+a,s=e+Math.PI/2-a,n=t(o,s,Z);c.push(i(n,it))}const p=this._createMaterial(.66),h=this._createMaterial(.5),u=this._createMaterial(.33),d=e(X+at),g=e(X+ot),m=i(d,it,p),f=i(g,it,u),_=e(X-at),v=e(X-ot),D=i(_,it,p),S=i(v,it,u);let j=[new H(n,Mt.DelayedFocused),new H(n.instantiate({material:h}),_t.None)];this.mode&&\"scale\"!==this.mode||(j=j.concat([...c.map((t=>new H(t,Mt.DelayedFocused|Mt.Unlocked))),new H(m,Mt.DelayedFocused|Mt.ScaleIn),new H(f,Mt.DelayedFocused|Mt.ScaleIn),new H(D,Mt.DelayedFocused|Mt.ScaleOut),new H(S,Mt.DelayedFocused|Mt.ScaleOut)])),this.mode&&\"rotate\"!==this.mode||(j=j.concat([...r.right.map((t=>new H(t.instantiate(),Mt.DelayedFocused|Mt.Unlocked))),...r.left.map((t=>new H(t,Mt.DelayedFocused|Mt.RotateLeft))),...r.right.map((t=>new H(t,Mt.DelayedFocused|Mt.RotateRight)))]));const T=[s,...l];return new z({view:this.tool.view,renderObjects:j,autoScaleRenderObjects:!1,worldOriented:!0,radius:Q,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:this.tool.object.elevationInfo,collisionType:{type:\"ribbon\",paths:T,direction:A(0,0,1)}})}_createMaterial(t){const e=new gt({cullFace:ct.Back,renderOccluded:dt.Transparent,isDecoration:!0});return this.addHandles(d((()=>({color:a(this.tool.view.effectiveTheme.accentColor,t)})),(t=>e.setParameters(t)),u)),e}get test(){return{ringManipulator:this._ringManipulator,setRingIndicatorDelayMs:t=>this._ringIndicatorDelayMs=t,tooltip:this._tooltip}}};function jt(t,e){const a=T(x.get(),e.renderStart,t.origin),o=T(x.get(),e.renderEnd,t.origin),i=w(a),s=w(o);return 0===i?0:s/i}function Tt(t,e,a,o){const{renderStart:i,renderEnd:s}=t,n=wt(i,o,x.get()),r=wt(s,o,x.get());if(R(n,r)<W*W)return null;const l=T(x.get(),i,a),c=I(x.get(),l,P(e)),p=i,h=k(x.get(),p,c),u=wt(a,o,x.get()),d=n,g=wt(h,o,x.get()),m=T(x.get(),g,d),f=T(x.get(),n,u),_=E(d,m),v=E(u,f);return U(_,r)<U(v,r)?\"rotate\":\"scale\"}function wt(t,e,a){return e.projectToScreen(t,At),j(a,At[0],At[1],0)}var Rt;function It(t,e){let a=null,o=1;const i=()=>o;return{start:()=>{o=t.getScale(),a=t.getScale,t.getScale=i,e()},update:t=>(o+=((o+1)/2-o)*Math.min(t*rt,1),e(),Math.abs(o-1)<.01?Rt.STOP:Rt.CONTINUE),destroy:()=>{a&&(t.getScale=a),e()}}}function kt(t,e,a){let o=0,i=null;const s=()=>!1;return{start:()=>{i=t.getFocused,t.getFocused=s,o=0,e()},update:t=>(o+=t,!i?.()||o>=a.delayMs?Rt.STOP:Rt.CONTINUE),destroy:()=>{i&&(t.getFocused=i),e()}}}function Ot(t){switch(t){case\"integer\":case\"long\":return 0;default:return null}}t([f({constructOnly:!0})],yt.prototype,\"tool\",void 0),t([f({constructOnly:!0})],yt.prototype,\"adapter\",void 0),t([f({constructOnly:!0})],yt.prototype,\"sketchOptions\",void 0),t([f()],yt.prototype,\"mode\",void 0),t([f()],yt.prototype,\"_activeAnimation\",void 0),t([f()],yt.prototype,\"updating\",null),yt=t([_(\"esri.views.3d.interactive.editingTools.transform.ScaleRotateTransform\")],yt),function(t){t[t.CONTINUE=0]=\"CONTINUE\",t[t.STOP=1]=\"STOP\"}(Rt||(Rt={}));const At=m();export{yt as ScaleRotateTransform};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{isSome as e}from\"../../../../../core/arrayUtils.js\";import i from\"../../../../../core/Evented.js\";import{makeHandle as o}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as a}from\"../../../../../core/maybe.js\";import{zeroMeters as n,scale as s}from\"../../../../../core/quantityUtils.js\";import{watch as l,syncAndInitial as r}from\"../../../../../core/reactiveUtils.js\";import{property as p}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as c}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as h}from\"../../../../../core/support/UpdatingHandles.js\";import m from\"../../../../../geometry/Point.js\";import{ViewingMode as u}from\"../../../../ViewingMode.js\";import{Manipulator3D as d}from\"../../Manipulator3D.js\";import{placeAtObject as v}from\"../../manipulatorUtils.js\";import{SnappingVisualizer3D as _}from\"../../SnappingVisualizer3D.js\";import{manipulatedObjectGeometry as f}from\"../manipulatedObjectUtils.js\";import{canMoveZOperations as g}from\"../manipulatorUtils.js\";import{meshTransformFastUpdateHandles as M}from\"../meshFastUpdateUtils.js\";import{createVisualElements as b}from\"../visualElementUtils.js\";import{alignArrowsScaleThreshold as j}from\"../manipulations/config.js\";import{MoveManipulation as y,ManipulationType as R}from\"../manipulations/MoveManipulation.js\";import{axisConstrainedDragSign as S}from\"../manipulations/moveUtils.js\";import{ScaleRotateMeshAdapter as w}from\"./ScaleRotateMeshAdapter.js\";import{ScaleRotateObjectSymbol3DAdapter as A}from\"./ScaleRotateObjectSymbol3DAdapter.js\";import{ScaleRotateTransform as O}from\"./ScaleRotateTransform.js\";import{createGraphicGeometryUndoRecord as T}from\"./undoRecords.js\";import{sceneSnappingAtProjectedLocation as x}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as k}from\"../../../../interactive/InteractiveToolBase.js\";import{EditGeometryOperations as I}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import E from\"../../../../interactive/sketch/SketchOptions.js\";import{SnappingContext as U}from\"../../../../interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as G}from\"../../../../interactive/snapping/SnappingDragPipelineStep.js\";import{Tooltip as H}from\"../../../../interactive/tooltip/Tooltip.js\";import{TranslateZTooltipInfo as z,TranslateXYTooltipInfo as Z,TranslateTooltipInfo as L}from\"../../../../interactive/tooltip/TranslateTooltipInfos.js\";import{autoDistanceBetweenPoints2D as C}from\"../../../../support/automaticLengthMeasurementUtils.js\";import{verticalSignedDistanceBetweenPoints as X}from\"../../../../support/euclideanLengthMeasurementUtils.js\";let D=class extends k{constructor(t){super(t),this.events=new i,this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this.sketchOptions=new E,this.type=\"transform-3d\",this.tooltip=null,this._updatingHandles=new h,this._scaleRotate=null,this._translateGraphicTooltipInfo=null,this._translateGraphicXYTooltipInfo=null,this._translateGraphicZTooltipInfo=null}initialize(){const{object:t,view:i}=this;this.addHandles(l((()=>this.sketchOptions.tooltips.effectiveEnabled),(t=>{this.tooltip=t?new H({view:i}):a(this.tooltip)}),r)),this._moveManipulation=new y({tool:this,view:i,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&g(t.operations,t.elevationInfo),radius:y.radiusForSymbol(t.graphic?.symbol)}),this._moveManipulation.forEachManipulator((t=>this.addHandles(t.events.on(\"immediate-click\",(t=>{this.events.emit(\"immediate-click\",{...t,object:this.object}),t.stopPropagation()})))));const n=t=>e=>{this.addHandles(e.events.on(\"focus-changed\",(({action:e})=>{const i=this.tooltip;null!=i&&(\"focus\"===e?this._updateMoveTooltip(t):i.clear())})))};this._moveManipulation.xyManipulation.forEachManipulator(n(R.XY)),this._moveManipulation.xyAxisManipulation.forEachManipulator(n(R.XY_AXIS)),this._moveManipulation.zManipulation.forEachManipulator(n(R.Z));const s=t.elevationInfo;if(this._moveManipulation.elevationInfo=s,this.addHandles(M(t,i)),this._moveManipulation.createManipulatedObjectDragPipeline(((e,o,a,n,l)=>{if(e===R.XY){const{snappingStep:e,cancelSnapping:o}=G({snappingContext:new U({elevationInfo:s,pointer:l,editGeometryOperations:I.fromGeometry(new m({spatialReference:t.operations?.data.spatialReference}),i.state.viewingMode),visualizer:new _,excludeFeature:t.graphic}),snappingManager:this.snappingManager,updatingHandles:this._updatingHandles,useZ:!1});n=n.next(o),a=a.next(x(this.view,s)).next(...e)}return{steps:a=a.next((t=>(this._updateMoveTooltip(e,t),t))),cancel:n}}),t,(t=>{const{action:e,object:i,dxScreen:o,dyScreen:a}=t,n={object:i,dxScreen:o,dyScreen:a};switch(e){case\"start\":this.events.emit(\"translate-start\",n),this.events.emit(\"record-undo\",{record:this._createGeometryUndoRecord()});break;case\"update\":this.events.emit(\"translate\",n);break;case\"end\":this.events.emit(\"translate-stop\",n)}})),this._moveManipulation.angle=null!=this._scaleRotate?this._scaleRotate.angle:0,this._scaleRotateAdapter=this._createScaleRotateAdapter(),this.addHandles(l((()=>this._scaleRotateAdapter.angle),(()=>this._updateMoveAngle()))),this.enableScaling||this.enableRotation){const t=this.enableScaling&&this.enableRotation?null:this.enableScaling?\"scale\":\"rotate\";this._scaleRotate=new O({tool:this,mode:t,adapter:this._scaleRotateAdapter,sketchOptions:this.sketchOptions}),this.addHandles(this._scaleRotate.events.on(\"scale-changed\",(()=>this._onScaleChanged())))}this.addHandles([b({view:this.view,object:this.object,forEachManipulator:t=>this._forEachManipulator(t),onManipulatorsChanged:()=>o()}),this.object.on(\"committed\",(()=>this._onGeometryChanged())),this._hideManipulatorsForObjectState(),l((()=>i.scale),(()=>this._updateMoveAngle()))].filter(e)),this._onGeometryChanged(),this._updateMoveAngle(),this._forEachManipulator((t=>{t instanceof d&&this.addHandles(t.events.on(\"grab-changed\",(()=>this._updateManipulatorsInteractive())))})),this.finishToolCreation()}destroy(){this.tooltip=a(this.tooltip),this._moveManipulation.destroy(),this._scaleRotate=a(this._scaleRotate),this._scaleRotateAdapter=a(this._scaleRotateAdapter),this._updatingHandles.destroy(),this._set(\"view\",null),this._set(\"object\",null)}_updateManipulatorsInteractive(){null!=this._scaleRotate&&(this._scaleRotate.interactive=!this._moveManipulation.grabbing,this._moveManipulation.interactive=!this._scaleRotate.grabbing)}_createScaleRotateAdapter(){const t=f(this.object);return\"mesh\"===t?.type?new w({object:this.object,geometry:t,viewingMode:this.view.state.viewingMode}):new A({graphic:this.object.graphic,sizeFilter:t=>this._enforceNonZeroSize(t),findLayerView:()=>this.view.allLayerViews.find((t=>t.layer===this.object.graphic?.layer)),sizeAxis:this.sketchOptions?.tooltips?.visualVariables?.size?.axis??null})}_forEachManipulator(t){this._moveManipulation?.forEachManipulator(t),this._scaleRotate?.forEachManipulator(t)}_hideManipulatorsForObjectState(){return l((()=>this.object.visible),(t=>{this._forEachManipulator((e=>e.available=t)),this._moveManipulation.zManipulation.available=t&&this.enableZ&&g(this.object.operations,this.object.elevationInfo)}))}_createGeometryUndoRecord(){return T(this.object)}set snapToScene(t){this._moveManipulation&&(this._moveManipulation.snapToScene=t),this._set(\"snapToScene\",t)}get updating(){return this._updatingHandles.updating||!!this._scaleRotate?.updating}set location(t){this._moveManipulation.location=t,this._scaleRotate&&(this._scaleRotate.location=t)}set elevationAlignedLocation(t){this._moveManipulation.elevationAlignedLocation=t,this._scaleRotate&&(this._scaleRotate.elevationAlignedLocation=t)}reset(){}onHide(){this._scaleRotate?.cancelActiveAnimation()}_onScaleChanged(){null!=this._scaleRotate&&(this._moveManipulation.displayScale=this._scaleRotate.getScale())}_updateMoveAngle(){this.view.state.viewingMode===u.Local||this.view.scale<j?this._moveManipulation.angle=this._scaleRotateAdapter.angle:this._moveManipulation.angle=0}_onGeometryChanged(){v(this,this.object)}_enforceNonZeroSize(t){return t||this.view.state.camera.computeRenderPixelSizeAt(this._moveManipulation.renderLocation)}_updateMoveTooltip(t,e){const{sketchOptions:i,tooltip:o}=this;if(null!=o){switch(o.clear(),t){case R.XY:o.info=this._translateGraphicTooltipInfo??=new L({sketchOptions:i}),Y(o.info,e,((t,e)=>C(t,e)));break;case R.XY_AXIS:o.info=this._translateGraphicXYTooltipInfo??=new Z({sketchOptions:i}),Y(o.info,e,((t,i)=>s(C(t,i),S(e))));break;case R.Z:o.info=this._translateGraphicZTooltipInfo??=new z({sketchOptions:i}),Y(o.info,e,X)}o.info.sketchOptions=i}}get test(){return{discManipulator:this._moveManipulation.xyManipulation.test.discManipulator,zManipulator:this._moveManipulation.zManipulation.test.manipulator,ringManipulator:null!=this._scaleRotate?this._scaleRotate.test.ringManipulator:null,arrowManipulators:this._moveManipulation.xyAxisManipulation.test.arrowManipulators,setRingIndicatorDelayMs:t=>null!=this._scaleRotate?this._scaleRotate.test.setRingIndicatorDelayMs(t):null,scaleRotateAdapter:this._scaleRotateAdapter,scaleRotateTransform:this._scaleRotate}}};function Y(t,e,i){if(null!=e&&\"end\"!==e.action){const{mapStart:o,mapEnd:a}=e,s=i(o,a);t.distance=null!=s?s:n}else t.distance=n}t([p({constructOnly:!0,nonNullable:!0})],D.prototype,\"view\",void 0),t([p({constructOnly:!0,nonNullable:!0})],D.prototype,\"object\",void 0),t([p({constructOnly:!0,nonNullable:!0})],D.prototype,\"enableZ\",void 0),t([p()],D.prototype,\"enableRotation\",void 0),t([p()],D.prototype,\"enableScaling\",void 0),t([p({constructOnly:!0,type:E})],D.prototype,\"sketchOptions\",void 0),t([p({value:!1})],D.prototype,\"snapToScene\",null),t([p({constructOnly:!0})],D.prototype,\"snappingManager\",void 0),t([p({readOnly:!0})],D.prototype,\"type\",void 0),t([p({readOnly:!0})],D.prototype,\"updating\",null),t([p()],D.prototype,\"tooltip\",void 0),D=t([c(\"esri.views.3d.interactive.editingTools.transform.TransformTool3D\")],D);export{D as TransformTool3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{makeHandle as t}from\"../../../../../../core/handleUtils.js\";import{zeroMeters as e}from\"../../../../../../core/quantityUtils.js\";import{rotateZ as o}from\"../../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{f as i}from\"../../../../../../chunks/vec32.js\";import{clone as n}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{sm4d as a,sv3d as r}from\"../../../../../../geometry/support/vectorStacks.js\";import{ShiftManipulator as s,OffsetMode as p}from\"../../../../analysis/Slice/ShiftManipulator.js\";import{IsShiftEdgeOnScreenFlag as l}from\"../../../../analysis/Slice/sliceToolUtils.js\";import{screenToZConstrained as c}from\"../../dragEventPipeline3D.js\";import{ManipulatorType as m}from\"../../ManipulatorType.js\";import{MoveXYObjectManipulation as u}from\"../../manipulations/MoveXYObjectManipulation.js\";import{createManipulatorDragEventPipeline as h,addScreenDelta as d,addMapDelta as v}from\"../../../../../interactive/dragEventPipeline.js\";import{AccumulationBehavior as f}from\"../../../../../interactive/editGeometry/interfaces.js\";import{TranslateTooltipInfo as _,TranslateZTooltipInfo as M}from\"../../../../../interactive/tooltip/TranslateTooltipInfos.js\";import{autoDistance2D as j}from\"../../../../../support/automaticLengthMeasurementUtils.js\";import{verticalSignedDistance as g}from\"../../../../../support/euclideanLengthMeasurementUtils.js\";class b{get _object(){return this._tool.object}get _operations(){return this._object.operations}constructor(t,e){this._tool=t,this._bounds=e,this._moveXYTooltipInfo=null,this._moveZTooltipInfo=null;const o=this._tool,i=o.view;this.moveXYObjectManipulation=new u({view:i,tool:o,object:this._object}),o.addHandles(this._createMoveXYObjectDragPipeline()),this.moveZManipulator=new s(i,p.CENTER_ON_CALLOUT),this.moveZManipulator.state|=l,o.manipulators.add(this.moveZManipulator),o.addHandles([this._createMoveZDragPipeline()]),o.addHandles([o.events.on(\"translate-stop\",(()=>{this._moveXYTooltipInfo=null,this._moveZTooltipInfo=null}))])}destroy(){this.moveXYObjectManipulation.destroy(),this._tool.manipulators.remove(this.moveZManipulator),this.moveZManipulator.destroy()}forEachManipulator(t){this.moveXYObjectManipulation.forEachManipulator(t),t(this.moveZManipulator,m.TRANSLATE_Z)}updateManipulators(t,e){const n=this.moveZManipulator,s=o(a.get(),t,Math.PI);s[12]=0,s[13]=0,s[14]=0,n.modelTransform=s,n.renderLocation=i(r.get(),e.origin,e.basis1)}getUpdatedTooltipInfo(){return this.moveXYObjectManipulation.grabbing||this.moveXYObjectManipulation.dragging?this._computeMoveXYTooltipInfo():this.moveZManipulator.focused?this._computeMoveZTooltipInfo():null}_computeMoveXYTooltipInfo(){const t=this._tool,o=this._moveXYTooltipInfo??=new _({sketchOptions:t.sketchOptions});if(this.moveXYObjectManipulation.dragging){const e=this._bounds,i=e.mapBoundsStart.origin,n=e.mapBounds.origin,{renderSpatialReference:a}=t.view;if(!a)return null;const r=j(i,n,a);if(null==r)return null;o.distance=r}else o.distance=e;return o}_computeMoveZTooltipInfo(){const t=this._tool,o=this._moveZTooltipInfo??=new M({sketchOptions:t.sketchOptions});if(this.moveZManipulator.dragging){const e=this._bounds,i=e.mapBoundsStart.origin,n=e.mapBounds.origin,{renderSpatialReference:a}=t.view;if(!a)return null;const r=g(i,n,a);if(null==r)return null;o.distance=r}else o.distance=e;return o}_createMoveXYObjectDragPipeline(){return this.moveXYObjectManipulation.createDragPipeline(((t,e,o)=>this._applyObjectMoveSteps(e,o)))}_createMoveZDragPipeline(){if(!this._operations)return t();const e=this._operations.data.spatialReference;return h(this.moveZManipulator,((t,o,i)=>{const a=n(t.renderLocation),r=o.next(c(this._tool.view,a,e)).next(d());this._applyObjectMoveSteps(r,i)}))}_applyObjectMoveSteps(t,e){const{_tool:o,_object:i}=this,n=t.next((t=>(\"start\"===t.action&&(o.inputState={type:\"move\"},this._bounds.backupMapBounds(),o.events.emit(\"translate-start\",{object:i,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY})),t))).next(v()).next(this._moveDragUpdateGeometry()).next((t=>{const e={object:i,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY};switch(t.action){case\"start\":case\"update\":(t.mapEnd.x-t.mapStart.x||t.mapEnd.y-t.mapStart.y||(t.mapEnd.z??0)-(t.mapStart.z??0))&&o.events.emit(\"translate\",e);break;case\"end\":o.inputState=null,o.events.emit(\"translate-stop\",e)}return t}));return e.next((()=>{null!=o.inputState&&o.events.emit(\"translate-stop\",{object:i,dxScreen:0,dyScreen:0}),o.cancel()})),n}_moveDragUpdateGeometry(){const t=this._tool;return e=>{if(null==t.inputState||\"move\"!==t.inputState.type)return e;const o=\"start\"===e.action?f.NEW_STEP:f.ACCUMULATE_STEPS;if(this._operations){const t=this._operations.move(e.mapDeltaX,e.mapDeltaY,e.mapDeltaZ,o);this._bounds.updateMapBoundsFromOperation(t)}return e}}}export{b as ExtentMove};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{rad2deg as t}from\"../../../../../../core/mathUtils.js\";import{rotateX as e}from\"../../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{g as o,c as r}from\"../../../../../../chunks/vec32.js\";import{create as a}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{c as n}from\"../../../../../../chunks/boundedPlane.js\";import{create as s,intersectRay as i,getNormal as l}from\"../../../../../../geometry/support/plane.js\";import{sm4d as p,sv3d as c}from\"../../../../../../geometry/support/vectorStacks.js\";import{getRotateHeadingTexture as m}from\"../../../../analysis/images/Factory.js\";import{RotateManipulator as u}from\"../../../../analysis/Slice/RotateManipulator.js\";import{createRotatePlane as d,RotationAxis as h}from\"../../../../analysis/Slice/sliceToolUtils.js\";import{calculateInputRotationTransform as g}from\"../../../manipulatorUtils.js\";import{screenToRenderPlane as _}from\"../../dragEventPipeline3D.js\";import{ManipulatorType as f}from\"../../ManipulatorType.js\";import{fromScreenNormalized as j}from\"../../../../support/geometryUtils/ray.js\";import{createManipulatorDragEventPipeline as v}from\"../../../../../interactive/dragEventPipeline.js\";import{AccumulationBehavior as b}from\"../../../../../interactive/editGeometry/interfaces.js\";import{AccumulationType as y}from\"../../../../../interactive/editGeometry/operations/UpdateVertices.js\";import{ExtentRotateTooltipInfo as A}from\"../../../../../interactive/tooltip/ExtentTooltipInfos.js\";class M{get _object(){return this._tool.object}get _operations(){return this._object.operations}constructor(t,e,o){this._tool=t,this._bounds=e,this._snapRotation=o,this._rotateTooltipInfo=null,this._startAngle=0,this._endAngle=0;const r=this._tool,a=r.view,n=!a._stage?.renderView.renderingContext.driverTest.svgPremultipliesAlpha.result;this.rotateManipulator=new u(a,((t,e)=>m(a.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:n}))),r.addHandles([this.rotateManipulator.events.on(\"grab-changed\",(t=>this._onRotateGrab(t))),this._createRotateDragPipeline(this.rotateManipulator)]),r.manipulators.add(this.rotateManipulator),r.addHandles([r.events.on(\"rotate-start\",(t=>this._startAngle=t.angle)),r.events.on(\"rotate\",(t=>this._endAngle=t.angle)),r.events.on(\"rotate-stop\",(()=>{this._startAngle=0,this._endAngle=0}))])}destroy(){this._tool.manipulators.remove(this.rotateManipulator),this.rotateManipulator.destroy()}forEachManipulator(t){t(this.rotateManipulator,f.ROTATE)}updateManipulators(t,r){const a=this._bounds.mapBounds.plane[2]<0?Math.PI:0,n=e(p.get(),t,a);n[12]=0,n[13]=0,n[14]=0,this.rotateManipulator.modelTransform=n,this.rotateManipulator.renderLocation=o(c.get(),r.origin,r.basis1)}getUpdatedTooltipInfo(){return this.rotateManipulator.focused?this._computeRotateTooltipInfo():null}_computeRotateTooltipInfo(){const t=this._rotateTooltipInfo??=new A({sketchOptions:this._tool.sketchOptions});return t.angle=this._startAngle-this._endAngle,t}_onRotateGrab({action:t,screenPoint:e}){const o=this._tool,r=this._bounds;if(\"start\"!==t||!e)return;const a=d(r.displayBounds,o.view.renderCoordsHelper,h.HEADING,s()),n=j(o.view.state.camera,e);i(a,n,c.get())&&(r.backupMapBounds(),o.inputState={type:\"rotate\",rotatePlane:a})}_createRotateDragPipeline(e){const{_tool:o,_object:r}=this;return v(e,((e,a,n)=>{const s=o.inputState;null!=s&&(a.next((t=>(\"start\"===t.action&&o.events.emit(\"rotate-start\",{object:r,angle:0}),t))).next(_(o.view,s.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(s)).next(...this._snapRotation()).next(this._rotateDragUpdateGeometry()).next((e=>{const a={object:r,angle:t(e.rotateAngle)};switch(e.action){case\"start\":case\"update\":o.events.emit(\"rotate\",a);break;case\"end\":o.inputState=null,o.events.emit(\"rotate-stop\",a)}return e})),n.next((()=>{null!=o.inputState&&o.events.emit(\"rotate-stop\",{object:r,angle:0}),o.cancel()})))}))}_rotateDragRenderPlaneToRotate(t){return e=>{const o=l(t.rotatePlane),r=g(e.renderStart,e.renderEnd,this._bounds.displayBounds.origin,o);return{...e,rotateAxis:o,rotateAngle:r}}}_rotateDragUpdateGeometry(){const t=this._bounds;return e=>{const o=r(a(),t.mapBoundsStart.origin),s=\"start\"===e.action?b.NEW_STEP:b.ACCUMULATE_STEPS;if(this._operations){const r=this._operations.rotate(o,e.rotateAngle,s,y.REPLACE);n(t.mapBoundsStart,t.mapBounds),t.updateMapBoundsFromOperation(r)}return e}}}export{M as ExtentRotate};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{on as s}from\"../../../../../../core/reactiveUtils.js\";import{getMetersPerCartesianUnitForSR as t,getMetersPerUnitForSR as o}from\"../../../../../../core/unitUtils.js\";import{scale as i}from\"../../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{g as e,f as a,m as n,b as r,n as p,h as d,k as c,l,r as u}from\"../../../../../../chunks/vec32.js\";import{create as m}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as g,c as h,u as b}from\"../../../../../../chunks/boundedPlane.js\";import{sv3d as f}from\"../../../../../../geometry/support/vectorStacks.js\";import{mainAxis as B}from\"../../geometryUtils.js\";import{manipulatedObjectGeometry as y}from\"../../manipulatedObjectUtils.js\";import{evaluateElevationAlignmentAtPoint as j}from\"../../../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as v}from\"../../../../layers/graphics/ElevationContext.js\";import{apply as _,applyInverse as R,calculateOrientedBounds as C}from\"../../../../../interactive/editGeometry/support/editPlaneUtils.js\";import{autoSize2D as M}from\"../../../../../support/extentUtils.js\";class x{constructor(t,o){this._tool=t,this.mapBounds=g(),this.mapBoundsStart=g(),this.displayBounds=g(),t.addHandles(s((()=>t.object),\"modified-externally\",(()=>this._resetMapBounds()),{onListenerAdd:()=>this._resetMapBounds()})),this._onDisplayBoundsChanged=o}get displayBoundsMargin(){const{view:s,object:t}=this._tool,o=y(t),i=s.pointsOfInterest?.centerOnSurfaceFrequent.location??o?.extent?.center;return i?D*s.pixelSizeAt(i):0}backupMapBounds(){h(this.mapBounds,this.mapBoundsStart)}updateDisplayBounds(){this._calculateDisplayBounds(),this._onDisplayBoundsChanged?.()}updateMapBoundsFromOperation(s){_(s,this.mapBounds),this.updateDisplayBounds()}updateMapBoundsFromOperationInverse(s){R(s,this.mapBounds),this.updateDisplayBounds()}_resetMapBounds(){this._calculateMapBounds(),this.updateDisplayBounds()}_calculateMapBounds(){const{view:s,attachmentOrigin:e,object:a}=this._tool,n=a.operations?.data;if(!n)return;const r=n.geometry;this.spatialReference=r.spatialReference;const p=B(r);i(p,p,-1);const d=s.spatialReference,c=r.spatialReference,l=e?s.pixelSizeAt(e)*t(d)/o(c):0;C(p,n,O*l,this.mapBounds)}_calculateDisplayBounds(){const{view:s,attachmentOrigin:t}=this._tool,o=t?.z??j(this.mapBounds.origin,s.elevationProvider,v.fromElevationInfo(this._tool.object.elevationInfo),s.renderCoordsHelper),i=h(this.mapBounds);i.origin[2]=o??0,U(i,s.renderCoordsHelper,this.spatialReference,this.displayBoundsMargin,this.displayBounds)}}const D=10,O=80;function U(s,t,o,i=0,u){u||(u=g()),t.toRenderCoords(s.origin,o,u.origin);const m=f.get();e(m,s.origin,s.basis1),e(m,m,s.basis2),t.toRenderCoords(m,o,m);const h=f.get();e(h,s.origin,s.basis1),a(h,h,s.basis2),t.toRenderCoords(h,o,h);const B=f.get();a(B,s.origin,s.basis1),a(B,B,s.basis2),t.toRenderCoords(B,o,B);const y=f.get();a(y,s.origin,s.basis1),e(y,y,s.basis2),t.toRenderCoords(y,o,y);const j=n(f.get(),m,h,.5);a(j,j,u.origin);const v=n(f.get(),B,y,.5);a(v,u.origin,v),n(u.basis1,j,v,.5);const _=n(f.get(),y,m,.5);a(_,_,u.origin);const R=n(f.get(),h,B,.5);a(R,u.origin,R),n(u.basis2,_,R,.5);const C=r(f.get(),u.basis1,u.basis2),M=r(C,C,u.basis1);return p(M,M),d(u.basis2,M,c(u.basis2,M)),d(u.basis1,u.basis1,1+i/l(u.basis1)),d(u.basis2,u.basis2,1+i/l(u.basis2)),b(u),u}function S(s,t,o){return a(w,a(w,s.origin,s.basis1),s.basis2),u(I,w,s.basis1,2),u(A,I,s.basis2,2),u(k,w,s.basis2,2),w[2]=I[2]=A[2]=k[2]=t,M({topLeft:k,topRight:A,bottomRight:I,bottomLeft:w,spatialReference:o})}const k=m(),A=m(),I=m(),w=m();export{x as TransformBounds,S as mapPlaneAutoSize2D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{set as t,normalize as e}from\"../../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as s}from\"../../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{c as a,r as i,f as o,l as r,k as n}from\"../../../../../../chunks/vec32.js\";import{create as c}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as l,c as p}from\"../../../../../../chunks/boundedPlane.js\";import{intersectRay as d}from\"../../../../../../geometry/support/plane.js\";import{sv3d as h}from\"../../../../../../geometry/support/vectorStacks.js\";import{ResizeManipulator as u}from\"../../../../analysis/Slice/ResizeManipulator.js\";import{updateResizeHandle as m,isDiagonalResizeHandle as _,calculateDiagonalResizeHandleScale as S}from\"../../../../analysis/Slice/sliceToolUtils.js\";import{screenToRenderPlane as f}from\"../../dragEventPipeline3D.js\";import{ManipulatorType as z}from\"../../ManipulatorType.js\";import{mapPlaneAutoSize2D as y}from\"./extentUtils.js\";import{fromScreenNormalized as x}from\"../../../../support/geometryUtils/ray.js\";import{createManipulatorDragEventPipeline as g}from\"../../../../../interactive/dragEventPipeline.js\";import{AccumulationBehavior as M}from\"../../../../../interactive/editGeometry/interfaces.js\";import{AccumulationType as b}from\"../../../../../interactive/editGeometry/operations/UpdateVertices.js\";import{ExtentScaleTooltipInfo as v}from\"../../../../../interactive/tooltip/ExtentTooltipInfos.js\";class j{get _object(){return this._tool.object}get _operations(){return this._object.operations}get zMax(){if(!this._zMaxDirty||!this._operations)return this._zMax;const t=this._operations.data;if(t.geometry.hasZ){const e=t.coordinateHelper;this._zMax=Number.NEGATIVE_INFINITY;for(const s of t.components)for(const t of s.vertices){const s=e.getZ(t.pos)??0;this._zMax=Math.max(s,this._zMax)}}else this._zMax=0;return this._zMaxDirty=!1,this._zMax}constructor(e,a,i){this._tool=e,this._bounds=a,this._preserveAspectRatioStep=i,this._resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}],this._scaleTooltipInfo=null,this._displayBoundsStart=l(),this._displayBoundsMarginStart=0,this._startScale=s(),this._endScale=s(),this._sizeStart=null,this._zMax=0,this._zMaxDirty=!0;const o=this._tool,r=o.view;this.resizeManipulators=this._resizeHandles.map((t=>{const e=new u(r,t);return o.addHandles([e.events.on(\"grab-changed\",(t=>this._onResizeGrab(t))),this._createResizeDragPipeline(e,t)]),e})),o.manipulators.addMany(this.resizeManipulators),o.addHandles([o.events.on(\"scale-start\",(e=>{t(this._startScale,e.xScale,e.yScale),t(this._endScale,e.xScale,e.yScale)})),o.events.on(\"scale\",(e=>{t(this._endScale,e.xScale,e.yScale)})),o.events.on(\"scale-stop\",(()=>{t(this._startScale,0,0),t(this._endScale,0,0)}))]),this._operations&&o.addHandles(this._operations.data.on(\"change\",(()=>{\"resize\"!==o.inputState?.type&&(this._zMaxDirty=!0)})))}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()}))}forEachManipulator(t){this.resizeManipulators.forEach((e=>t(e,z.SCALE)))}updateManipulators(t,e){this.resizeManipulators.forEach(((s,a)=>{m(s,this._resizeHandles[a],t,e)}))}getUpdatedTooltipInfo(){return this.resizeManipulators.some((t=>t.focused))?this._computeScaleTooltipInfo():null}_computeScaleTooltipInfo(){const t=this._tool,e=this._scaleTooltipInfo??=new v({sketchOptions:t.sketchOptions}),s=y(this._bounds.mapBounds,this.zMax,this._bounds.spatialReference);return null==s?null:(e.xSize=s.xSize,e.ySize=s.ySize,null!=this._sizeStart&&this.resizeManipulators.some((t=>t.dragging))?(e.xScale=s.xSize.value/this._sizeStart.xSize.value,e.yScale=s.ySize.value/this._sizeStart.ySize.value):(e.xScale=1,e.yScale=1),e)}_onResizeGrab({action:t,screenPoint:e}){const s=this._tool,a=this._bounds;if(\"start\"!==t||!e)return;const i=x(s.view.state.camera,e);d(a.displayBounds.plane,i,h.get())&&(a.backupMapBounds(),p(a.displayBounds,this._displayBoundsStart),this._displayBoundsMarginStart=a.displayBoundsMargin,this._sizeStart=y(a.mapBoundsStart,this.zMax,a.spatialReference),s.inputState={type:\"resize\"})}_createResizeDragPipeline(t,e){const{_tool:s,_object:a}=this;return g(t,((t,i,o)=>{null!=s.inputState&&(i.next((t=>(\"start\"===t.action&&s.events.emit(\"scale-start\",{object:a,xScale:1,yScale:1}),t))).next(f(s.view,this._displayBoundsStart.plane)).next((t=>({...t,handle:e}))).next(this._resizeDragRenderPlaneToFactors()).next(...this._preserveAspectRatioStep()).next(this._resizeDragUpdateGeometry()).next((t=>{const e={object:a,xScale:t.factor1,yScale:t.factor2};switch(t.action){case\"start\":case\"update\":s.events.emit(\"scale\",e);break;case\"end\":s.inputState=null,s.events.emit(\"scale-stop\",e)}return t})),o.next((()=>{null!=s.inputState&&s.events.emit(\"scale-stop\",{object:a,xScale:1,yScale:1}),s.cancel()})))}))}_resizeDragRenderPlaneToFactors(){const t=this._bounds;return e=>{const s=this._displayBoundsStart,c=e.handle.direction,l=t.displayBoundsMargin,p=this._displayBoundsMarginStart,d=a(h.get(),s.origin);i(d,d,s.basis1,-c[0]),i(d,d,s.basis2,-c[1]);const u=o(h.get(),e.renderEnd,d),m=o(h.get(),e.renderStart,d),f=_(e.handle),z=S(s),y=S(t.displayBounds)/z,x=(t,e)=>{if(0===t)return 1;let s=r(e),a=.5*t*n(e,u)/s;const i=a<0?-1:1;if(f){a+=(s-.5*t*n(e,m)/s)*i*y}const o=s<1.5*p?1:B;return s=Math.max(s-p,B),i>0&&(a-=l),i*Math.max(i*(a/s),o)};return{...e,factor1:x(c[0],s.basis1),factor2:x(c[1],s.basis2)}}}_resizeDragUpdateGeometry(){const o=this._bounds;return r=>{const n=a(c(),o.mapBoundsStart.origin);i(n,n,o.mapBoundsStart.basis1,-r.handle.direction[0]),i(n,n,o.mapBoundsStart.basis2,-r.handle.direction[1]);const l=t(s(),o.mapBoundsStart.basis1[0],o.mapBoundsStart.basis1[1]);e(l,l);const d=\"start\"===r.action?M.NEW_STEP:M.ACCUMULATE_STEPS;if(this._operations){const t=this._operations.scale(n,l,r.factor1,r.factor2,d,b.REPLACE);p(o.mapBoundsStart,o.mapBounds),o.updateMapBoundsFromOperation(t)}return r}}}const B=1e-6;export{j as ExtentScale,B as scaleEpsilon};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{isDiagonalResizeHandle as t}from\"../../../../analysis/Slice/sliceToolUtils.js\";import{EventPipeline as e}from\"../../../../../interactive/dragEventPipeline.js\";class a{constructor(){this._lastDragEvent=null,this._next=null,this._enabled=!1}get enabled(){return this._enabled}set enabled(t){if(this._enabled!==t&&null!=this._lastDragEvent&&null!=this._next){const e={...this._lastDragEvent,action:\"update\"};t&&n(e),this._next.execute(e)}this._enabled=t}createDragEventPipelineStep(){this._lastDragEvent=null;const t=new e;return this._next=t,[t=>(this._lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled&&n(t),t),t]}get test(){return{_adjustScaleFactors:n}}}function n(e){const a=t(e.handle)?Math.max(Math.abs(e.factor1),Math.abs(e.factor2)):0===e.handle.direction[0]?Math.abs(e.factor2):Math.abs(e.factor1);e.factor1=e.factor1<0?-a:a,e.factor2=e.factor2<0?-a:a}export{a as PreserveAspectRatio};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{deg2rad as t}from\"../../../../../../core/mathUtils.js\";import{EventPipeline as e}from\"../../../../../interactive/dragEventPipeline.js\";class n{constructor(){this._lastDragEvent=null,this._next=null,this.incrementRadians=t(5),this._enabled=!1}get enabled(){return this._enabled}set enabled(t){if(this._enabled!==t&&null!=this._lastDragEvent&&null!=this._next){const e={...this._lastDragEvent,action:\"update\"};t&&this._adjustRotation(e),this._next.execute(e)}this._enabled=t}createDragEventPipelineStep(){this._lastDragEvent=null;const t=new e;return this._next=t,[t=>(this._lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled&&this._adjustRotation(t),t),t]}_adjustRotation(t){t.rotateAngle=Math.round(t.rotateAngle/this.incrementRadians)*this.incrementRadians}}export{n as SnapRotation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Evented.js\";import{makeHandle as i}from\"../../../../../core/handleUtils.js\";import{watch as o,initial as a}from\"../../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{containsXY as r}from\"../../../../../geometry/support/aaBoundingRect.js\";import{sm4d as l}from\"../../../../../geometry/support/vectorStacks.js\";import{calculateBoundedPlaneTranslateRotate as p,resizeNormal as h,resizeOutlineOnly as c}from\"../../../analysis/Slice/sliceToolUtils.js\";import{Manipulator3D as d}from\"../../Manipulator3D.js\";import{manipulatedObjectGeometry as u}from\"../manipulatedObjectUtils.js\";import{ManipulatorType as v}from\"../ManipulatorType.js\";import{canMoveZOperations as m}from\"../manipulatorUtils.js\";import{createVisualElements as b}from\"../visualElementUtils.js\";import{ExtentMove as _}from\"./extentTransform/ExtentMove.js\";import{ExtentRotate as f}from\"./extentTransform/ExtentRotate.js\";import{ExtentScale as g}from\"./extentTransform/ExtentScale.js\";import{TransformBounds as j}from\"./extentTransform/extentUtils.js\";import{PreserveAspectRatio as y}from\"./extentTransform/PreserveAspectRatio.js\";import{SnapRotation as M}from\"./extentTransform/SnapRotation.js\";import{OutlineVisualElement as R}from\"../../visualElements/OutlineVisualElement.js\";import{InteractiveToolBase as x}from\"../../../../interactive/InteractiveToolBase.js\";import E from\"../../../../interactive/sketch/SketchOptions.js\";import{Tooltip as A}from\"../../../../interactive/tooltip/Tooltip.js\";let S=class extends x{get updating(){return!!this.object.updating}constructor(t){super(t),this.events=new e,this.enableZ=!0,this.enableScaling=!0,this.enableRotation=!0,this.sketchOptions=new E,this._preserveAspectRatio=new y,this._snapRotation=new M,this.grabbing=!1,this.inputState=null,this._attachmentOrigin=null,this.type=\"transform-3d\",this._outlineVisualElement=null}initialize(){const{view:t,object:e}=this,n=this._bounds=new j(this,(()=>this._updateManipulators()));this._extentMove=new _(this,n),this._extentScale=new g(this,n,(()=>this._preserveAspectRatio.createDragEventPipelineStep())),this._extentRotate=new f(this,n,(()=>this._snapRotation.createDragEventPipelineStep())),this.addHandles([o((()=>this.enableZ),(()=>this._updateManipulatorAvailability(this._extentMove.moveZManipulator,v.TRANSLATE_Z))),o((()=>this.enableScaling),(()=>this._extentScale.forEachManipulator((t=>this._updateManipulatorAvailability(t,v.SCALE))))),o((()=>this.enableRotation),(()=>this._updateManipulatorAvailability(this._extentRotate.rotateManipulator,v.ROTATE)))]),this._updateManipulators(),this._updateAllManipulatorAvailability();const s=b({view:t,object:e,forEachManipulator:t=>this._forEachManipulator(t),onManipulatorsChanged:()=>i()});if(null!=s){const{visualElement:t}=s;t instanceof R&&(this._outlineVisualElement=t,this.addHandles(t.events.on(\"attachment-origin-changed\",(()=>this._bounds.updateDisplayBounds())))),this.addHandles(s)}this.addHandles([e.on(\"committed\",(()=>this._onGeometryChanged())),o((()=>this.object.visible),(()=>this._updateAllManipulatorAvailability())),o((()=>this.object.isDraped),(()=>this._graphicDrapedChanged()),a),o((()=>t.pointsOfInterest?.centerOnSurfaceFrequent.location),(()=>n.updateDisplayBounds()))]);const r=t=>{this.addHandles(t.events.on(\"grab-changed\",(()=>{this.grabbing=t.grabbing,this._updateAllManipulatorAvailability()})))};this._forEachManipulator(r);const l=(t,i)=>{this.addHandles(t.events.on(\"immediate-click\",(t=>{i===v.TRANSLATE_XY&&this.events.emit(\"immediate-click\",{...t,object:e}),t.stopPropagation()})))};this._forEachManipulator(l),this._initializeTooltip(),this.finishToolCreation()}destroy(){this._extentMove.destroy(),this._extentScale.destroy(),this._extentRotate.destroy(),this.tooltip.destroy(),this._set(\"view\",null),this._set(\"object\",null)}_initializeTooltip(){const{view:t}=this,e=this.tooltip=new A({view:t}),i=()=>{e.info=this._getUpdatedTooltipInfo()};this.addHandles([o((()=>this.sketchOptions.tooltips.effectiveEnabled),i),this.events.on(\"translate-start\",i),this.events.on(\"translate\",i),this.events.on(\"translate-stop\",(()=>this.tooltip.clear())),this.events.on(\"rotate-start\",i),this.events.on(\"rotate\",i),this.events.on(\"rotate-stop\",i),this.events.on(\"scale-start\",i),this.events.on(\"scale\",i),this.events.on(\"scale-stop\",i)]),this._forEachManipulator((t=>{this.addHandles([t.events.on(\"focus-changed\",i),t.events.on(\"grab-changed\",i),t.events.on(\"drag\",(t=>{\"cancel\"===t.action?this.tooltip.clear():i()}))])}))}_getUpdatedTooltipInfo(){return this.sketchOptions.tooltips.effectiveEnabled?this._extentMove.getUpdatedTooltipInfo()??this._extentScale.getUpdatedTooltipInfo()??this._extentRotate.getUpdatedTooltipInfo():null}_onGeometryChanged(){this._bounds.updateDisplayBounds()}_graphicDrapedChanged(){this.removeHandles(T),this._bounds.updateDisplayBounds(),this.object.isDraped&&this.addHandles(this.view.elevationProvider.on(\"elevation-change\",(t=>{null!=this._attachmentOrigin&&r(t.extent,this._attachmentOrigin.x,this._attachmentOrigin.y)&&this._bounds.updateDisplayBounds()})),T)}_updateManipulators(){if(!this.visible)return;const t=this._bounds.displayBounds,e=p(t,l.get());this._extentMove.updateManipulators(e,t),this._extentScale.updateManipulators(e,t),this._extentRotate.updateManipulators(e,t)}_updateAllManipulatorAvailability(){this._forEachManipulator(((t,e)=>this._updateManipulatorAvailability(t,e)))}_updateManipulatorAvailability(t,e){const i=this.grabbing&&!t.grabbing;if(t.interactive=!i,t instanceof d){const o=this.object.visible,a=this.enableZ&&m(this.object.operations,this.object.elevationInfo);switch(e){case v.ROTATE:t.available=o&&this.enableRotation;break;case v.SCALE:t.available=o&&(this.enableScaling||this.enableRotation||a),t.interactive=!i&&this.enableScaling,t.state=this.enableScaling?h:c;break;case v.TRANSLATE_Z:t.available=o&&a;break;default:t.available=o}}}_forEachManipulator(t){this._extentMove.forEachManipulator(t),this._extentScale.forEachManipulator(t),this._extentRotate.forEachManipulator(t)}get preserveAspectRatio(){return this._preserveAspectRatio.enabled}set preserveAspectRatio(t){this._preserveAspectRatio.enabled=t,this._set(\"preserveAspectRatio\",t)}get snapRotation(){return this._snapRotation.enabled}set snapRotation(t){this._snapRotation.enabled=t,this._set(\"snapRotation\",t)}get attachmentOrigin(){const t=this.object.isDraped?null:this._outlineVisualElement?.attachmentOrigin;return this._attachmentOrigin=t??this.object.origin??u(this.object)?.extent?.center,this._attachmentOrigin}reset(){}cancel(){if(this.canUndo){const t=this.object.operations?.undo();t&&this._bounds.updateMapBoundsFromOperationInverse(t)}this.inputState=null}get canUndo(){return!!this.object.operations?.canUndo}undo(){if(null!=this.inputState)this.view.activeTool=null;else if(this.canUndo){const t=this.object.operations?.undo();t&&this._bounds.updateMapBoundsFromOperationInverse(t)}}get canRedo(){return!!this.object.operations?.canRedo}redo(){if(this.canRedo){const t=this.object.operations?.redo();t&&this._bounds.updateMapBoundsFromOperation(t)}}get test(){return{moveZManipulator:this._extentMove.moveZManipulator,resizeManipulators:this._extentScale.resizeManipulators,rotateManipulator:this._extentRotate.rotateManipulator}}};t([n()],S.prototype,\"updating\",null),t([n({constructOnly:!0,nonNullable:!0})],S.prototype,\"view\",void 0),t([n({constructOnly:!0,nonNullable:!0})],S.prototype,\"object\",void 0),t([n()],S.prototype,\"enableZ\",void 0),t([n()],S.prototype,\"enableScaling\",void 0),t([n()],S.prototype,\"enableRotation\",void 0),t([n({constructOnly:!0,type:E})],S.prototype,\"sketchOptions\",void 0),t([n()],S.prototype,\"preserveAspectRatio\",null),t([n()],S.prototype,\"snapRotation\",null),t([n()],S.prototype,\"grabbing\",void 0),t([n()],S.prototype,\"inputState\",void 0),t([n({readOnly:!0})],S.prototype,\"type\",void 0),t([n()],S.prototype,\"tooltip\",void 0),S=t([s(\"esri.views.3d.interactive.editingTools.transform.ExtentTransformTool\")],S);const T=\"draped-elevation-changes\";export{S as ExtentTransformTool};\n"],
  "mappings": "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",
  "names": ["G", "M", "A", "t", "e", "d", "u", "R", "q", "o", "s", "r", "i", "n", "l", "a", "c", "T", "p", "b", "h", "m", "F", "v", "_", "H", "x", "$", "z", "a", "A", "e", "t", "o", "s", "i", "m", "l", "c", "a", "o", "i", "s", "d", "e", "c", "p", "A", "t", "r", "f", "g", "l", "b", "W", "e", "j", "t", "i", "h", "u", "s", "d", "A", "a", "L", "$", "l", "c", "O", "r", "n", "p", "m", "G", "o", "k", "z", "f", "w", "n", "o", "r", "t", "e", "i", "l", "N", "A", "a", "N", "s", "A", "y", "t", "n", "a", "S", "l", "M", "r", "e", "s", "w", "D", "c", "j", "m", "u", "d", "p", "v", "L", "G", "h", "A", "x", "C", "V", "P", "N", "T", "O", "U", "X", "o", "D", "t", "o", "n", "S", "P", "r", "e", "l", "c", "m", "f", "j", "y", "G", "h", "d", "A", "L", "M", "U", "a", "I", "O", "B", "V", "C", "i", "N", "R", "g", "x", "s", "l", "t", "D", "y", "t", "a", "e", "h", "M", "c", "o", "I", "P", "i", "l", "n", "p", "r", "s", "x", "b", "d", "f", "g", "j", "k", "m", "q", "u", "v", "t", "a", "i", "o", "n", "a", "r", "c", "t", "e", "s", "f", "g", "C", "t", "a", "o", "A", "r", "e", "i", "n", "s", "p", "l", "u", "M", "m", "j", "h", "q", "f", "c", "R", "d", "_", "e", "t", "n", "s", "g", "w", "O", "t", "e", "a", "A", "r", "s", "o", "n", "i", "p", "l", "c", "M", "j", "d", "f", "h", "_", "u", "C", "t", "a", "o", "e", "j", "r", "f", "D", "h", "d", "i", "s", "n", "l", "I", "A", "p", "u", "_", "v", "g", "H", "S", "z", "L", "c", "P", "m", "w", "M", "U", "u", "t", "a", "n", "e", "s", "O", "C", "i", "c", "A", "h", "o", "l", "t", "A", "n", "e", "o", "p", "r", "a", "h", "u", "D", "v", "j", "C", "t", "F", "e", "i", "G", "V", "L", "l", "o", "h", "d", "u", "A", "r", "P", "N", "a", "c", "n", "s", "w", "p", "S", "z", "q", "m", "y", "E", "O", "f", "a", "e", "r", "o", "n", "Z", "m", "t", "s", "j", "F", "f", "u", "E", "i", "g", "l", "d", "C", "c", "x", "v", "p", "r", "o", "h", "t", "h", "j", "o", "e", "i", "f", "n", "s", "u", "d", "a", "E", "l", "c", "r", "p", "O", "A", "v", "w", "y", "m", "M", "C", "g", "k", "_", "F", "R", "J", "p", "l", "e", "o", "r", "e", "t", "o", "n", "g", "i", "l", "u", "g", "t", "e", "y", "h", "z", "u", "r", "o", "i", "a", "t", "c", "e", "i", "l", "n", "h", "o", "p", "r", "s", "e", "r", "o", "s", "n", "t", "u", "q", "o", "d", "e", "A", "a", "p", "i", "r", "l", "c", "U", "E", "F", "w", "s", "m", "h", "k", "kt", "n", "f", "P", "I", "x", "b", "g", "j", "_", "v", "D", "S", "T", "wt", "Rt", "D", "l", "t", "o", "h", "i", "d", "u", "A", "n", "e", "c", "s", "a", "_a", "f", "E", "O", "U", "g", "r", "v", "F", "Y", "m", "y", "b", "t", "e", "o", "i", "l", "H", "A", "n", "s", "x", "f", "c", "r", "a", "u", "h", "g", "p", "j", "v", "E", "M", "t", "e", "o", "r", "a", "n", "g", "l", "A", "f", "u", "c", "i", "E", "m", "S", "p", "s", "U", "F", "w", "x", "t", "o", "W", "s", "i", "D", "d", "E", "e", "a", "n", "r", "p", "l", "c", "z", "F", "O", "f", "U", "u", "m", "h", "B", "y", "j", "A", "v", "_", "R", "C", "M", "P", "J", "S", "w", "I", "k", "j", "t", "e", "s", "a", "i", "W", "n", "o", "r", "v", "A", "p", "S", "m", "c", "U", "l", "d", "u", "f", "z", "y", "x", "P", "E", "a", "t", "e", "n", "w", "n", "h", "t", "e", "w", "S", "l", "t", "o", "a", "n", "e", "x", "b", "j", "M", "d", "A", "s", "w", "r", "i", "u", "T", "f"]
}
