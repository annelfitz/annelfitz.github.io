{
  "version": 3,
  "sources": ["../../@arcgis/core/views/2d/engine/BitmapTile.js", "../../@arcgis/core/views/2d/engine/BitmapTileContainer.js", "../../@arcgis/core/views/2d/layers/BitmapTileLayerView2D.js", "../../@arcgis/core/views/2d/layers/support/imageUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{Bitmap as t}from\"./Bitmap.js\";import{TiledDisplayObject as s}from\"./webgl/TiledDisplayObject.js\";class r extends s{constructor(e,s,r,i,a,n,o=null){super(e,s,r,i,a,n),this.bitmap=new t(o),this.bitmap.coordScale=[a,n],this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy()}beforeRender(e){this.bitmap.beforeRender(e),super.beforeRender(e)}afterRender(e){this.bitmap.afterRender(e),super.afterRender(e)}set stencilRef(e){this.bitmap.stencilRef=e}get stencilRef(){return this.bitmap.stencilRef}_createTransforms(){return{displayViewScreenMat3:e(),tileMat3:e()}}setTransform(e){super.setTransform(e),this.bitmap.transforms.displayViewScreenMat3=this.transforms.displayViewScreenMat3}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap&&(this.bitmap.stage=null)}}export{r as BitmapTile};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{BitmapTile as i}from\"./BitmapTile.js\";import{brushes as r}from\"./brushes.js\";import{WGLDrawPhase as t}from\"./webgl/enums.js\";import s from\"./webgl/TileContainer.js\";class n extends s{get requiresDedicatedFBO(){return this.children.some((e=>\"additive\"===e.bitmap.blendFunction))}createTile(r){const t=this._tileInfoView.getTileBounds(e(),r),s=this._tileInfoView.getTileResolution(r.level),[n,o]=this._tileInfoView.tileInfo.size;return new i(r,s,t[0],t[3],n,o)}prepareRenderPasses(e){const i=e.registerRenderPass({name:\"bitmap (tile)\",brushes:[r.bitmap],target:()=>this.children.map((e=>e.bitmap)),drawPhase:t.MAP});return[...super.prepareRenderPasses(e),i]}doRender(e){this.visible&&e.drawPhase===t.MAP&&super.doRender(e)}}export{n as BitmapTileContainer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import\"../../../core/Logger.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import\"../../../core/Error.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import{BitmapTileContainer as t}from\"../engine/BitmapTileContainer.js\";const r=r=>{let s=class extends r{attach(){this.view.timeline.record(`${this.layer.title} (BitmapTileLayer) Attach`),this._bitmapView=new t(this._tileInfoView),this.container.addChild(this._bitmapView)}detach(){this.container.removeChild(this._bitmapView),this._bitmapView?.removeAllChildren(),this._bitmapView=null}};return s=i([e(\"esri.views.2d.layers.BitmapTileLayerView2D\")],s),s};export{r as BitmapTileLayerView2D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction e(e){return e instanceof HTMLImageElement?e.naturalWidth:e.width}function t(e){return e instanceof HTMLImageElement?e.naturalHeight:e.height}function n(n,l,r,u){if(r.level===u.level)return l;const i=n.tileInfo.size,a=n.getTileResolution(r.level),c=n.getTileResolution(u.level);let g=n.getLODInfoAt(u.level);const h=g.getXForColumn(u.col),d=g.getYForRow(u.row);g=n.getLODInfoAt(r.level);const f=g.getXForColumn(r.col),s=g.getYForRow(r.row),m=e(l)/i[0],v=t(l)/i[1],w=Math.round(m*((h-f)/a)),I=Math.round(v*(-(d-s)/a)),M=Math.round(m*i[0]*(c/a)),F=Math.round(v*i[1]*(c/a)),L=o(i);return L.getContext(\"2d\").drawImage(l,w,I,M,F,0,0,i[0],i[1]),L}function o(e){const t=document.createElement(\"canvas\");return[t.width,t.height]=e,t}export{o as createBlankImage,n as resampleImage};\n"],
  "mappings": "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",
  "names": ["r", "e", "i", "a", "n", "o", "e", "r", "t", "n", "o", "i", "r", "e", "n", "r", "u", "i", "a", "h", "t"]
}
