{
  "version": 3,
  "sources": ["../../@arcgis/core/geometry/support/meshUtils/deduplicate.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as t}from\"../../../core/mathUtils.js\";import{newIndexArray as n,compactIndices as r}from\"../Indices.js\";function e(e,s,u){const c=Array.isArray(e),a=c?e.length/s:e.byteLength/(4*s),h=c?e:new Uint32Array(e,0,a*s),y=u?.minReduction??0,A=u?.originalIndices||null,g=A?A.length:0,m=u?.componentOffsets||null;let w=0;if(m)for(let t=0;t<m.length-1;t++){const n=m[t+1]-m[t];n>w&&(w=n)}else w=a;const U=Math.floor(1.1*w)+1;(null==i||i.length<2*U)&&(i=new Uint32Array(t(2*U)));for(let t=0;t<2*U;t++)i[t]=0;let b=0;const d=!!m&&!!A,p=d?g:a;let M=n(a);const j=new Uint32Array(g),q=1.96;let I=0!==y?Math.ceil(4*q*q/(y*y)*y*(1-y)):p,k=1,x=m?m[1]:p;for(let t=0;t<p;t++){if(t===I){const n=1-b/t;if(n+q*Math.sqrt(n*(1-n)/t)<y)return null;I*=2}if(t===x){for(let t=0;t<2*U;t++)i[t]=0;if(A)for(let t=m[k-1];t<m[k];t++)j[t]=M[A[t]];x=m[++k]}const n=d?A[t]:t,r=n*s,e=f(h,r,s);let o=e%U,u=b;for(;0!==i[2*o+1];){if(i[2*o]===e){const t=i[2*o+1]-1;if(l(h,r,t*s,s)){u=M[t];break}}o++,o>=U&&(o-=U)}u===b&&(i[2*o]=e,i[2*o+1]=n+1,b++),M[n]=u}if(0!==y&&1-b/a<y)return null;if(d){for(let t=m[k-1];t<j.length;t++)j[t]=M[A[t]];M=r(j)}const C=c?new Array(b):new Uint32Array(b*s);b=0;for(let t=0;t<p;t++)if(M[t]===b){o(h,(d?A[t]:t)*s,C,b*s,s),b++}if(A&&!d){const t=new Uint32Array(g);for(let n=0;n<t.length;n++)t[n]=M[A[n]];M=r(t)}return{buffer:Array.isArray(C)?C:C.buffer,indices:M,uniqueCount:b}}function l(t,n,r,e){for(let l=0;l<e;l++)if(t[n+l]!==t[r+l])return!1;return!0}function o(t,n,r,e,l){for(let o=0;o<l;o++)r[e+o]=t[n+o]}function f(t,n,r){let e=0;for(let l=0;l<r;l++)e=t[n+l]+e|0,e=e+(e<<11)+(e>>>2)|0;return e>>>0}let i=null;export{e as deduplicate};\n"],
  "mappings": "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",
  "names": ["e", "u", "t", "i", "n", "o", "l"]
}
