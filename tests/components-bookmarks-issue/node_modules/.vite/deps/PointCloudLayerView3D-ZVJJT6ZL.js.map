{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/layers/PointCloudLayerViewPerformanceInfo.js", "../../@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js", "../../@arcgis/core/views/3d/layers/i3s/LoDUtil.js", "../../@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js", "../../@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js", "../../@arcgis/core/views/3d/layers/i3s/PointGraphic.js", "../../@arcgis/core/views/3d/layers/i3s/PointHighlights.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechniqueConfiguration.js", "../../@arcgis/core/views/3d/layers/i3s/PointRenderer.js", "../../@arcgis/core/views/3d/layers/PointCloudLayerView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{LayerViewPerformanceInfo as s}from\"./support/LayerViewPerformanceInfo.js\";class e extends s{constructor(s,e,o,r,i){super(s,e,-1,o,r),this.queue=i}}class o{constructor(s,e,o,r){this.loading=s,this.indexLoading=e,this.processing=o,this.idleProcessing=r}}export{e as PointCloudLayerViewPerformanceInfo,o as QueuePerformanceInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{WorkerHandle as t}from\"../../../core/workers/WorkerHandle.js\";class r extends t{constructor(t){super(\"PointCloudWorker\",\"transform\",{transform:t=>u(t)},t)}}function u(t){const r=[t.geometryBuffer];if(null!=t.primaryAttributeData&&t.primaryAttributeData.buffer&&r.push(t.primaryAttributeData.buffer),null!=t.modulationAttributeData&&t.modulationAttributeData.buffer&&r.push(t.modulationAttributeData.buffer),null!=t.filterAttributesData)for(const u of t.filterAttributesData)null!=u&&u.buffer&&r.push(u.buffer);for(const u of t.userAttributesData)u.buffer&&r.push(u.buffer);return r}export{r as PointCloudWorkerHandle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{k as e}from\"../../../../chunks/vec32.js\";function t(e,t,g){for(let n=0;n<t.length;n++)r[n]=!1,o[n]=null;for(let r=0;r<e.length;r++)n[r]=!1,l[r]=null;for(let n=0;n<t.length;n++){const o=h(t[n],e,g);o>=0&&(r[n]=!0,null!=l[o]?l[o].push(t[n]):l[o]=[t[n]])}for(let l=0;l<e.length;l++){const r=h(e[l],t,g);r>=0&&(n[l]=!0,null!=o[r]?o[r].push(e[l]):o[r]=[e[l]])}const u=[];for(let r=0;r<e.length;r++)null!=l[r]||n[r]||u.push({load:[],remove:[e[r]]});for(let n=0;n<t.length;n++)null!=o[n]||r[n]||u.push({load:[t[n]],remove:[]});for(let n=0;n<t.length;n++)null!=o[n]&&(o[n].length>1||o[n][0]!==t[n])&&u.push({load:[t[n]],remove:o[n]});for(let n=0;n<e.length;n++)null!=l[n]&&(l[n].length>1||l[n][0]!==e[n])&&u.push({load:l[n],remove:[e[n]]});return u}const n=[!1],l=[null],r=[!1],o=[null];function h(e,t,n){let l=e;for(;l>0;){const e=t.indexOf(l);if(e>=0)return e;l=n.getParentId(l)}return t.indexOf(l)}function g(t,n,l){return t.sort(((t,r)=>{if(0===t.load.length&&0===r.load.length)return 0;if(0===t.load.length)return-1;if(0===r.load.length)return 1;if(0===t.remove.length&&0===r.remove.length){const o=l.getRenderObb(t.load[0]).center,h=l.getRenderObb(r.load[0]).center;return e(o,n)-e(h,n)}if(0===t.remove.length)return-1;if(0===r.remove.length)return 1;if(1===t.load.length&&1===r.load.length){const o=l.getRenderObb(t.load[0]).center,h=l.getRenderObb(r.load[0]).center;return e(o,n)-e(h,n)}if(1===t.load.length)return-1;if(1===r.load.length)return 1;{const o=l.getRenderObb(t.remove[0]).center,h=l.getRenderObb(r.remove[0]).center;return e(o,n)-e(h,n)}}))}function u(e,t,n){for(let l=0;l<e.length;++l){const r=e[l];r.load.length>t&&1===r.remove.length&&d(e,r,n)}}function d(e,t,n){const l=[t.remove[0]],r=[];for(;1===l.length;){const e=l.pop();r.length=0;for(let o=0;o<t.load.length;o++){let h=t.load[o],g=n.getParentId(h);for(;g!==e;)h=g,g=n.getParentId(h);let u=l.indexOf(h);u<0&&(u=l.length,l.push(h),r.push([])),r[u].push(t.load[o])}}t.load=l;for(let o=0;o<l.length;o++)r[o].length>1?e.push({remove:[l[o]],load:r[o]}):l[o]=r[o][0]}export{t as nodeDiff,g as sortFrontToBack,u as splitWorkEntries,d as splitWorkEntry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getSphericalPCPF as e}from\"../../../../geometry/spatialReferenceEllipsoidUtils.js\";import{create as t,contains as s,intersects as n}from\"../../../../geometry/support/aaBoundingBox.js\";class i{constructor(t,s,n){this._pages=[],this.pageSize=0,this._nodeSR=t,this._renderSR=s,this._renderSRSphericalPCPF=e(s),this.pageSize=n}addPage(e,t,s=0){for(;this._pages.length<e;)this._pages.push(null);r(t,this._nodeSR,this._renderSR,s,this._renderSRSphericalPCPF),this._pages[e]={nodes:t,parents:new Uint32Array(this.pageSize)},p(this._pages,this.pageSize)}hasPage(e){return!!this._pages[e]}getNode(e){const t=this.pageSize;return this._pages[a(e,t)].nodes[h(e,t)]}getRenderObb(e){const t=this.pageSize;return this._pages[a(e,t)].nodes[h(e,t)].obbInRenderSR}setRenderObb(e,t){const s=this.pageSize;this._pages[a(e,s)].nodes[h(e,s)].obbInRenderSR.copy(t)}getParentId(e){const t=this.pageSize;return this._pages[a(e,t)].parents[h(e,t)]}hasNodes(e,t){const s=a(e,this.pageSize),n=a(e+t-1,this.pageSize);for(let i=s;i<=n;i++)if(null==this._pages[i])return!1;return!0}forEachNodeId(e){for(let t=0;t<this._pages.length;t++){const s=this._pages[t];if(s)for(let n=0;n<s.nodes.length;n++)e(t*this.pageSize+n)}}createVisibilityTraverse(){const e={index:this,queue:[],masks:[],tempAabb:t()};return(t,s)=>o(e,t,s)}}function o(e,t,i){const o=e.index;if(!o.hasNodes(0,1))return;const r=e.queue;r.length=0,r.push(0);const p=e.masks;for(p.length=0,p.push(0);r.length>0;){const h=r.pop();let g=p.pop();const l=o.getNode(h),c=o.getRenderObb(h);let u=!0;if(null!=t.clippingBox){const i=1<<t.frustum.length;g&i||(c.toAaBoundingBox(e.tempAabb),s(t.clippingBox,e.tempAabb)?g|=i:n(t.clippingBox,e.tempAabb)||(u=!1))}for(let e=0;e<t.frustum.length&&u;e++){const s=1<<e;if(!(g&s)){const n=c.intersectPlane(t.frustum[e]);n>0?u=!1:n<0&&(g|=s)}}if(i.predicate(h,l,u)){const e=l.firstChild,t=l.childCount;let s=!1;const n=a(e,o.pageSize),c=a(e+t-1,o.pageSize);for(let r=n;r<=c;r++)if(!o.hasPage(r)){i.pageMiss(h,r),s=!0;break}if(!s)for(let i=0;i<t;i++)r.push(e+i),p.push(g)}}}function r(e,t,s,n,i){for(let o=0;o<e.length;o++){const r=e[o];r.obb.transform(r.obbInRenderSR,t,s,n,i)}}function p(e,t){const s=[0];for(;s.length;){const n=s.pop(),i=e[a(n,t)].nodes[h(n,t)];for(let o=0;o<i.childCount;o++){const r=i.firstChild+o;null!=e[a(r,t)]&&(e[a(r,t)].parents[h(r,t)]=n,s.push(r))}}}function a(e,t){return e/t|0}function h(e,t){return e%t}export{i as PagedNodeIndex};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction t(t){const e=t.renderer,n=e?.type,o=e?.toJSON()??null;let l=null,i=!1;const a=t.attributeStorageInfo;\"point-cloud-unique-value\"===n||\"point-cloud-stretch\"===n||\"point-cloud-class-breaks\"===n?l=u(a,e.field):\"point-cloud-rgb\"===n?(l=r(a,e.field),i=null!=l):(l=r(a,\"RGB\"),i=null!=l);let s=null;return e?.colorModulation&&(s=u(a,e.colorModulation.field)),{rendererJSON:o,isRGBRenderer:i,primaryAttribute:l,modulationAttribute:s}}function e(t){const e=t.filters;return e?e.map((e=>({filterJSON:e.toJSON(),attributeInfo:u(t.attributeStorageInfo,e.field)}))):[]}function n(t){const e=t?.pointSizeAlgorithm;return e&&\"splat\"===e.type?e:null}function o(t){const e=t?.pointSizeAlgorithm;return e&&\"fixed-size\"===e.type?e:null}function l(t){const e=t?.pointSizeAlgorithm;return!!e?.type&&\"fixed-size\"===e.type}function r(t,e){for(const n of t??[])if(n.name===e&&null!=n.attributeValues&&\"UInt8\"===n.attributeValues.valueType&&3===n.attributeValues.valuesPerElement)return{name:e,storageInfo:n,useElevation:!1};return null}function u(t,e){for(const n of t??[])if(n.name===e){const t=\"embedded-elevation\"===n.encoding;return t?{name:e,storageInfo:null,useElevation:t}:{name:e,storageInfo:n,useElevation:t}}return\"elevation\"===e?.toLowerCase()?{name:e,storageInfo:null,useElevation:!0}:null}export{u as getAttributeInfo,e as getFilterInfo,o as getFixedSizeAlgorithm,t as getRendererInfo,n as getSplatSizeAlgorithm,l as rendererUsesFixedSizes};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../Graphic.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";let e=class extends r{constructor(o){super(o),this.pointCloudMetadata=null}};o([s({constructOnly:!0,clonable:\"reference\"})],e.prototype,\"pointCloudMetadata\",void 0),e=o([t(\"esri.views.3d.layers.i3s.PointGraphic\")],e);export{e as PointGraphic};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{Object3DState as t}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3DStateID as i}from\"../../webgl-engine/lib/Object3DStateID.js\";class h{constructor(e){this._context=e,this._highlights=new Set}get empty(){return 0===this._highlights.size}destroy(){this._highlights=null}add(t){const i=new s(t);return this._highlights.add(i),this._enableSet(i),e((()=>this._removeSet(i)))}_removeSet(e){this._disableSet(e),this._highlights.delete(e)}_enableSet(e){e.enabled||(e.enabled=!0,this._context.forEachNode((t=>this._enableSetForNode(e,t))))}_enableSetForNode(e,t){if(!e.enabled)return;const i=e.ids.get(t.id);i&&i.forEach((i=>this._context.addHighlight(t,i,e.id)))}_disableSet(e){e.enabled&&(e.enabled=!1,this._context.forEachNode((t=>this._disableSetForNode(e,t))))}_disableSetForNode(e,t){e.enabled||this._context.removeHighlight(t,e.id)}nodeAdded(e){this._highlights.forEach((t=>this._enableSetForNode(t,e)))}nodeRemoved(e){this._highlights.forEach((t=>this._disableSetForNode(t,e)))}removeAll(){this._highlights.forEach((e=>this._disableSet(e)))}}class s{constructor(e){this.id=new i(t.Highlight),this.ids=new Map,this.enabled=!1;for(const t of e)null!=t&&this._add(t.nodeId,t.pointId)}_add(e,t){const i=this.ids.get(e);i?i.add(t):this.ids.set(e,new Set([t]))}}export{h as PointHighlights};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as t}from\"../lib/Program.js\";import{stencilWriteMaskOn as o,stencilBaseAllZerosParams as s}from\"../lib/StencilUtils.js\";import{b as n}from\"../../../../chunks/PointRenderer.glsl.js\";import{CompareFunction as l}from\"../../../webgl/enums.js\";import{makePipelineState as c,defaultDepthWriteParams as a,defaultColorWriteParams as u}from\"../../../webgl/renderState.js\";class m extends r{constructor(e,r,i){super(e,r,i)}initializeProgram(e){return new t(e.rctx,m.shader.get().build(this.configuration),i)}initializePipeline(){return c({depthTest:{func:l.LESS},depthWrite:a,colorWrite:u,stencilWrite:this.configuration.hasOccludees?o:null,stencilTest:this.configuration.hasOccludees?s:null})}}m.shader=new e(n,(()=>import(\"./PointRenderer.glsl.js\")));export{m as PointRendererTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";class r extends i{constructor(){super(...arguments),this.output=o.Color,this.hasSlicePlane=!1,this.drawScreenSize=!1,this.useFixedSizes=!1,this.hasOccludees=!1,this.clippingEnabled=!1}}e([t({count:o.COUNT})],r.prototype,\"output\",void 0),e([t()],r.prototype,\"hasSlicePlane\",void 0),e([t()],r.prototype,\"drawScreenSize\",void 0),e([t()],r.prototype,\"useFixedSizes\",void 0),e([t()],r.prototype,\"hasOccludees\",void 0),e([t()],r.prototype,\"clippingEnabled\",void 0),e([t({constValue:!0})],r.prototype,\"hasSliceInVertexProgram\",void 0);export{r as PointRendererTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{disposeMaybe as t}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{f as n,l as o,h as a,F as l,k as h,p as c}from\"../../../../chunks/vec32.js\";import{create as d}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as u}from\"../../../../chunks/vec42.js\";import{create as p,offset as m,contains as g,containsPoint as _,set as f,positiveInfinity as P,equals as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as S}from\"../../../../geometry/support/plane.js\";import{fromPoints as x}from\"../../../../geometry/support/ray.js\";import{PclTarget as z}from\"./Intersector.js\";import{PointHighlights as R}from\"./PointHighlights.js\";import{ShaderOutput as w}from\"../../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SyncPrepareRenderPlugin as A}from\"../../webgl-engine/effects/RenderPlugin.js\";import{Default3D as j}from\"../../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{newIntersectorResult as y}from\"../../webgl-engine/lib/Intersector.js\";import{IntersectorType as q,StoreResults as O}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{RenderSlot as E}from\"../../webgl-engine/lib/RenderSlot.js\";import{VertexArrayObject as I}from\"../../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as L}from\"../../webgl-engine/lib/VertexAttribute.js\";import{P as v,a as F,g as N}from\"../../../../chunks/PointRenderer.glsl.js\";import{PointRendererTechnique as C}from\"../../webgl-engine/shaders/PointRendererTechnique.js\";import{PointRendererTechniqueConfiguration as T}from\"../../webgl-engine/shaders/PointRendererTechniqueConfiguration.js\";import{BufferObject as H}from\"../../../webgl/BufferObject.js\";import{DataType as D,PrimitiveType as M,Usage as B}from\"../../../webgl/enums.js\";import{VertexElementDescriptor as U}from\"../../../webgl/VertexElementDescriptor.js\";const V={positions:[new U(L.POSITION,3,D.FLOAT,0,12)],colors:[new U(L.COLOR,3,D.UNSIGNED_BYTE,0,3,!0)]};let W=class extends A{constructor(e){super(e),this.type=q.PCL,this.isGround=!1,this._passParameters=new v,this._highlights=new R({forEachNode:e=>this.forEachNode(e),addHighlight:(e,t,s)=>this._addHighlight(e,t,s),removeHighlight:(e,t)=>this._removeHighlight(e,t)}),this.produces=new Map([[E.OPAQUE_MATERIAL,e=>e!==w.LinearDepth&&(e!==w.Highlight||!this._highlights.empty)],[E.OPAQUE_NO_SSAO_DEPTH,e=>e===w.LinearDepth]]),this.layerUid=\"\",this._slicePlaneEnabled=!1,this._techniqueConfig=new T,this._nodes=new s}initializeRenderContext(e){this._context=e,e.requestRender()}uninitializeRenderContext(){}intersect(e,t,s,i){const r=d(),f=d(),P=d(),b=d(),R=S(),w=e.camera.perScreenPixelRatio/2,A=e.camera.near;n(f,i,s);const j=1/o(f);a(f,f,j),l(P,f),u(R,f[0],f[1],f[2],-h(f,s));const q=new $,E=new $,I=new Array,L=p(),v=p(this._passParameters.clipBox);m(v,-s[0],-s[1],-s[2],v),this._nodes.forAll((o=>{const a=o.splatSize*this._passParameters.scaleFactor;let l=o.obb.minimumDistancePlane(R),d=o.obb.maximumDistancePlane(R);l-=Y(a,l+A,this._passParameters,w,o.isLeaf),d-=Y(a,d+A,this._passParameters,w,o.isLeaf);const u=d<0,p=null!=q.dist&&null!=E.dist&&q.dist<l*j&&E.dist>d*j;if(u||p)return;const S=Q(a,d+A,this._passParameters,w,o.isLeaf);if(!o.obb.intersectRay(s,f,S))return;const x=S*S;o.obb.toAaBoundingBox(L),m(L,-s[0],-s[1],-s[2],L);const z=!g(v,L);n(b,o.origin,s);const y=o.coordinates.length/3;for(let n=0;n<y;n++){if(r[0]=b[0]+o.coordinates[3*n],r[1]=b[1]+o.coordinates[3*n+1],r[2]=b[2]+o.coordinates[3*n+2],z&&!_(v,r))continue;const l=h(r,f),d=c(r)-l*l;if(d>x)continue;let u=l+A;const p=Y(a,u,this._passParameters,w,o.isLeaf);if(l-p<0)continue;u-=p;const m=Q(a,u,this._passParameters,w,o.isLeaf);if(d>m*m)continue;const g=(l-p)*j,S=e=>(e.point=J(o,n,e.point),e.dist=g,e.normal=P,e.node=o,e.pointId=n,e.layerUid=this.layerUid,e);if((null==q.dist||g<q.dist)&&(null==t||t(s,i,g))&&S(q),e.options.store!==O.MIN&&(null==E.dist||g>E.dist)&&(null==t||t(s,i,g))&&S(E),e.options.store===O.ALL&&(null==t||t(s,i,g))){const e=new $;I.push(S(e))}}}));const F=e=>{const{layerUid:t,node:s,pointId:i}=e;return new z(e.point,t,i,(()=>this.createGraphic(s,i,e.point)))},N=(e,t)=>{const s=F(t);e.set(this.type,s,t.dist,t.normal)};if(ee(q)){const t=e.results.min;(null==t.dist||q.dist<t.dist)&&N(t,q)}if(ee(E)&&e.options.store!==O.MIN){const t=e.results.max;(null==t.dist||E.dist>t.dist)&&N(t,E)}if(e.options.store===O.ALL){const t=x(s,i);for(const s of I){const i=y(t);N(i,s),e.results.all.push(i)}}}prepareTechnique(e){return 0===this._nodes.length||e.output!==w.Color&&(e.output!==w.LinearDepth||e.bindParameters.slot!==E.OPAQUE_NO_SSAO_DEPTH)&&e.output!==w.Highlight?null:(this._nodes.forAll((t=>{null==t.vao&&this._initNode(e,t)})),this._techniqueConfig.drawScreenSize=this._passParameters.drawScreenSpace,this._techniqueConfig.useFixedSizes=this._passParameters.useFixedSizes,this._techniqueConfig.hasSlicePlane=this._slicePlaneEnabled,this._techniqueConfig.hasOccludees=e.bindParameters.hasOccludees,this._techniqueConfig.clippingEnabled=this._clippingEnabled,this._techniqueConfig.output=e.output,this._context.techniqueRepository.releaseAndAcquire(C,this._techniqueConfig,this._technique))}renderNode(e,t){const s=e.rctx,i=s.bindTechnique(t,e.bindParameters,this._passParameters),r=e.output===w.Highlight;this._nodes.forAll((t=>{0===t.coordinates.length||r&&!t.highlights||(i.bindDraw(t,e.bindParameters,this._passParameters),s.bindVAO(t.vao),r?this._renderHighlightFragments(s,t):s.drawArrays(M.POINTS,0,t.coordinates.length/3))}))}_renderHighlightFragments(e,t){const s=t.highlights;if(null==s)return;let i=s[0].component,r=i+1;for(let o=1;o<s.length;o++){const t=s[o].component;if(t!==r){const s=r-i;s>0&&e.drawArrays(M.POINTS,i,s),i=t}r=t+1}const n=r-i;n>0&&e.drawArrays(M.POINTS,i,n)}set useFixedSizes(e){this._passParameters.useFixedSizes!==e&&(this._passParameters.useFixedSizes=e,this._requestRender())}get useFixedSizes(){return this._passParameters.useFixedSizes}set scaleFactor(e){this._passParameters.scaleFactor!==e&&(this._passParameters.scaleFactor=e,this._requestRender())}get scaleFactor(){return this._passParameters.scaleFactor}set minSizePx(e){this._passParameters.minSizePx!==e&&(this._passParameters.minSizePx=e,this._requestRender())}get minSizePx(){return this._passParameters.minSizePx}set useRealWorldSymbolSizes(e){this._passParameters.useRealWorldSymbolSizes!==e&&(this._passParameters.useRealWorldSymbolSizes=e,this._requestRender())}get useRealWorldSymbolSizes(){return this._passParameters.useRealWorldSymbolSizes}set size(e){this._passParameters.size!==e&&(this._passParameters.size=e,this._requestRender())}get size(){return this._passParameters.size}set sizePx(e){this._passParameters.sizePx!==e&&(this._passParameters.sizePx=e,this._requestRender())}get sizePx(){return this._passParameters.sizePx}set clippingBox(e){f(this._passParameters.clipBox,e||P)}get _clippingEnabled(){return!b(this._passParameters.clipBox,P,((e,t)=>e===t))}get slicePlaneEnabled(){return this._slicePlaneEnabled}set slicePlaneEnabled(e){this._slicePlaneEnabled!==e&&(this._slicePlaneEnabled=e,this._requestRender())}addNode(e){this._nodes.push(e),this._highlights.nodeAdded(e),this._requestRender()}removeNode(e){let s=null;return this._nodes.filterInPlace((i=>i.id!==e||(s=i,i.vao=t(i.vao),this._highlights.nodeRemoved(i),!1))),this._requestRender(),s}forEachNode(e){this._nodes.forAll(e)}removeAll(){this._nodes.forAll((e=>e.vao=t(e.vao))),this._highlights.removeAll(),this._nodes.clear(),this._requestRender()}highlight(e){return this._highlights.add(e)}_addHighlight(e,t,s){e.highlights=X(e.highlights,t,s),this._requestRender()}_removeHighlight(e,t){e.highlights=Z(e.highlights,t),this._requestRender()}_initNode(e,t){const s=e.rctx;t.vao=new I(s,j,V,{positions:H.createVertex(s,B.STATIC_DRAW,t.coordinates),colors:H.createVertex(s,B.STATIC_DRAW,t.rgb)})}_requestRender(){this._context&&this._context.requestRender()}};e([i({constructOnly:!0})],W.prototype,\"createGraphic\",void 0),W=e([r(\"esri.views.3d.layers.i3s.PointRenderer\")],W);class k extends F{constructor(e,t,s,i,r,n,o,a,l=null,h=null){super(s,r,t),this.id=e,this.obb=i,this.coordinates=n,this.rgb=o,this.attributes=a,this.pointIdFilterMap=l,this.highlights=h}}function G(e){return e.hasOwnProperty(\"splatSize\")}function Q(e,t,s,i,r){if(s.drawScreenSpace)return s.fixedSize*t*i;const n=N(r)*t*i;return s.useFixedSizes?Math.min(s.fixedSize/2,n):s.screenMinSize>0?Math.min(Math.max(s.screenMinSize*t*i,e/2),n):Math.min(e/2,n)}function Y(e,t,s,i,r){return s.drawScreenSpace?0:Q(e,t,s,i,r)}function J(e,t,s){return null==s&&(s=d()),s[0]=e.origin[0]+e.coordinates[3*t],s[1]=e.origin[1]+e.coordinates[3*t+1],s[2]=e.origin[2]+e.coordinates[3*t+2],s}function K(e){return null!=e.component?e.component:-1}function X(e,t,s){null==e&&(e=[]);const i={component:t,id:s};e.push(i);const r=K(i);let n=e.length-1;for(;n>0&&r<K(e[n-1]);)[e[n-1],e[n]]=[e[n],e[n-1]],--n;return e}function Z(e,t){if(null==e)return e;const s=e.filter((e=>e.id!==t));return 0===s.length?null:s}class ${constructor(){this.node=null,this.pointId=null,this.point=null,this.dist=null,this.normal=null,this.layerUid=\"\"}}function ee(e){return null!=e.dist&&null!=e.point&&null!=e.pointId&&null!=e.node}export{W as PointRenderer,k as PointRendererNode,G as isPointRendererNode};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../core/arrayUtils.js\";import{result as i,forEach as r}from\"../../../core/asyncUtils.js\";import s from\"../../../core/Collection.js\";import{makeHandle as o}from\"../../../core/handleUtils.js\";import n from\"../../../core/Logger.js\";import{destroyMaybe as a,abortMaybe as d}from\"../../../core/maybe.js\";import{isAbortError as l,allSettledValues as h,throwIfAborted as u}from\"../../../core/promiseUtils.js\";import{initial as p,watch as c,sync as _}from\"../../../core/reactiveUtils.js\";import{pt2px as m}from\"../../../core/screenUtils.js\";import{estimateSize as g,isArrayBuffer as f}from\"../../../core/typedArrayUtil.js\";import{property as y}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import{subclass as b}from\"../../../core/accessorSupport/decorators/subclass.js\";import{k as w,c as P}from\"../../../chunks/vec32.js\";import{clone as N}from\"../../../core/libs/gl-matrix-2/factories/vec3f32.js\";import{projectBoundingRect as x}from\"../../../geometry/projection/projectBoundingRect.js\";import{create as v}from\"../../../geometry/support/aaBoundingBox.js\";import{containsPoint as C,create as S}from\"../../../geometry/support/aaBoundingRect.js\";import{create as I,fromNormalAndOffset as A}from\"../../../geometry/support/plane.js\";import{makeDehydratedPoint as k}from\"../../../layers/graphics/dehydratedPoint.js\";import{CodedValue as V}from\"../../../layers/support/CodedValue.js\";import R from\"../../../layers/support/CodedValueDomain.js\";import\"../../../layers/support/Domain.js\";import\"../../../layers/support/InheritedDomain.js\";import\"../../../layers/support/RangeDomain.js\";import{unpackFieldNames as j}from\"../../../layers/support/fieldUtils.js\";import{PromiseQueue as D}from\"../../../layers/support/PromiseQueue.js\";import{getElevationOffset as L}from\"../../../support/elevationInfoUtils.js\";import{LayerView3D as U}from\"./LayerView3D.js\";import{PointCloudLayerViewPerformanceInfo as Q,QueuePerformanceInfo as W}from\"./PointCloudLayerViewPerformanceInfo.js\";import{PointCloudWorkerHandle as M}from\"./PointCloudWorkerHandle.js\";import{checkPointCloudLayerValid as z,checkPointCloudLayerCompatibleWithView as E}from\"./i3s/I3SUtil.js\";import{nodeDiff as F,sortFrontToBack as H,splitWorkEntries as B}from\"./i3s/LoDUtil.js\";import{PagedNodeIndex as O}from\"./i3s/PagedNodeIndex.js\";import{getSplatSizeAlgorithm as q,getFixedSizeAlgorithm as G,getRendererInfo as T,getFilterInfo as $,rendererUsesFixedSizes as J,getAttributeInfo as K}from\"./i3s/PointCloudRendererUtil.js\";import{getAttributeValues as X,readGeometry as Y,elevationFromPositions as Z}from\"./i3s/PointCloudWorkerUtil.js\";import{PointGraphic as ee}from\"./i3s/PointGraphic.js\";import{PointRenderer as te,isPointRendererNode as ie,PointRendererNode as re}from\"./i3s/PointRenderer.js\";import{PopupSceneLayerView as se}from\"./support/PopupSceneLayerView.js\";import{projectToBoundingBox as oe}from\"../support/extentUtils.js\";import{computeMapPointFromVec3d as ne}from\"../support/hitTest.js\";import{ClientType as ae}from\"../support/index.js\";import{Obb as de}from\"../support/orientedBoundingBox.js\";import{updatingProgress as le}from\"../support/updatingProperties.js\";import he from\"../../layers/LayerView.js\";import{isScaleRangeActive as ue,extractSafeScaleBounds as pe,scaleBoundsPredicate as ce}from\"../../support/layerViewUtils.js\";import{TaskPriority as _e}from\"../../support/Scheduler.js\";const me=8,ge=I();let fe=class extends(se(U(he))){constructor(){super(...arguments),this.type=\"point-cloud-3d\",this.maximumPointCount=4e6,this.slicePlaneEnabled=!1,this._renderer=null,this._rendererAdded=!1,this._renderedNodes=new Set,this._nodeScales=new Map,this._updateViewNeeded=!0,this._lodFactor=1,this._maxLoggedBoxWarnings=5,this._pageMultiplier=1,this._nodeLoadEpoch=0,this._indexQueue=[],this._workQueue=new Array,this._idleQueue=new D,this._indexPagesLoading=new Map,this._loadingNodes=new Map,this._recalcWork=!0,this._layerIsVisible=!1,this._codedDomainPopulationPromise=null,this._codedDomainPopulationAbortController=null,this._totalWork=0,this._index=null,this._loadingInitNodePage=!1,this._nodeIdArray=[],this.ignoresMemoryFactor=!1}get baseUrl(){return this.layer.parsedUrl.path}get pointScale(){const e=q(this.layer?.renderer),t=1;return null!=e?.scaleFactor?e.scaleFactor:t}get useRealWorldSymbolSizes(){const e=G(this.layer?.renderer),t=!1;return null!=e?.useRealWorldSymbolSizes?e.useRealWorldSymbolSizes:t}get pointSize(){const e=G(this.layer?.renderer),t=0;return null!=e?.size?e.size:t}get inverseDensity(){const e=96;return this.layer?.renderer?1*e/this.layer.renderer.pointsPerInch:5}get availableFields(){const e=T(this.layer),t=new Set;e.primaryAttribute&&t.add(e.primaryAttribute.name),e.modulationAttribute&&t.add(e.modulationAttribute.name);const i=$(this.layer);if(i)for(const r of i)r.attributeInfo&&t.add(r.attributeInfo.name);if(this.layer.outFields)for(const r of j(this.layer.fieldsIndex,this.layer.outFields))t.add(r);return Array.from(t)}get _clippingBox(){if(!this.view||!this.view.clippingArea)return null;const e=v(),t=this.view.renderSpatialReference;return oe(this.view.clippingArea,e,t)?e:null}get _elevationOffset(){const e=this.layer&&this.layer.elevationInfo;return e&&\"absolute-height\"===e.mode?L(e,this.layer.spatialReference):0}initialize(){const e=this.view.resourceController,t=Ne(e);this._worker=new M(t),this.addResolvingPromise(this._worker.promise),this._tmpPoint=k(0,0,0,this.layer.spatialReference),z(this.layer),E(this.layer,this.view),this._indexRequester=e.createStreamDataRequester(ae.I3S_INDEX),this._dataRequester=e.createStreamDataRequester(ae.I3S_DATA),this._initRenderer();const i=this._initNodePages(),r=this.view.resourceController.memoryController;this._memCache=r.newCache(`pcl-${this.layer.uid}`),this._updatingHandles.add((()=>this._clippingBox),(()=>this._setUpdateViewNeeded()),p),this._updatingHandles.add((()=>this._elevationOffset),(()=>this._elevationOffsetChanged()),p),this._updatingHandles.add((()=>this.layer.renderer),(()=>this._rendererChanged()),p),this._updatingHandles.add((()=>this.layer.filters),(()=>this._reload()),p),this._updatingHandles.add((()=>this.layer.outFields),(()=>this._reload()),p),this._updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this._setUpdateViewNeeded())),this._updatingHandles.add((()=>this.view.state.contentCamera),(()=>this._setUpdateViewNeeded())),this.addHandles([this.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),c((()=>this.view.quality),(()=>this._setUpdateViewNeeded()),_)]),this.addResolvingPromise(i),this.when((()=>{this.addHandles([e.scheduler.registerTask(_e.POINT_CLOUD_LAYER,this),e.scheduler.registerIdleStateCallbacks((()=>this._idleBegin()),(()=>this._idleEnd())),this._updatingHandles.add((()=>this.suspended),(e=>{e?this._clearNodeState():this._setUpdateViewNeeded()}),p)])}),(()=>{this._updatingHandles.removeAll(),this.removeAllHandles()}))}_setUpdateViewNeeded(){this._updateViewNeeded=!0,this._updateLoading()}destroy(){this.cancelLoading(),this._worker=a(this._worker),this._destroyRenderer(),this._memCache=a(this._memCache),this._codedDomainPopulationAbortController=d(this._codedDomainPopulationAbortController),this._codedDomainPopulationPromise=null}_initRenderer(){this._renderer=new te({createGraphic:(e,t,i)=>this._createGraphic(e,t,i)}),this._renderer.layerUid=this.layer.uid,this._updatingHandles.add((()=>this._clippingBox),(e=>this._renderer.clippingBox=e),p),this._updatingHandles.add((()=>this.suspended),(e=>this._setPointsVisible(!e)),p),this._updatingHandles.add((()=>this.pointScale),(e=>this._renderer.scaleFactor=e),p),this._renderer.minSizePx=Math.sqrt(2),this._updatingHandles.add((()=>this.useRealWorldSymbolSizes),(e=>this._renderer.useRealWorldSymbolSizes=e),p),this._updatingHandles.add((()=>this.pointSize),(e=>{const t=m(e);this._renderer.size=e,this._renderer.sizePx=t}),p),this._updatingHandles.add((()=>this.slicePlaneEnabled),(e=>this._renderer.slicePlaneEnabled=e),p),this._updatingHandles.add((()=>this.inverseDensity),(()=>this._setUpdateViewNeeded()),p),this._updatingHandles.add((()=>this.maximumPointCount),(()=>this._setUpdateViewNeeded()),p),this._updatingHandles.add((()=>this.view.qualitySettings.sceneService.pointCloud.lodFactor),(e=>{this._lodFactor=e,this._setUpdateViewNeeded()}),p)}_destroyRenderer(){this._renderer.removeAll(),this._setPointsVisible(!1)}_createGraphic(e,t,i){const r=null!=e.pointIdFilterMap?e.pointIdFilterMap[t]:t,s=ne(this.view,i),o=this._createGraphicAttributes(e,r);return new ee({pointCloudMetadata:{nodeId:e.id,pointIndexInNode:t,attributePointIndexInNode:r,epoch:this._nodeLoadEpoch},geometry:s,attributes:o,layer:this.layer,sourceLayer:this.layer})}_createGraphicAttributes(e,t){const i={};for(const r of e.attributes)this._encodeGraphicAttribute(r.attributeInfo,r.values,t,i);return i}_encodeGraphicAttribute(e,t,i,r){const s=e.storageInfo?.attributeValues,o=s?.valuesPerElement??1;if(1===o)r[e.name]=t[i];else if(\"UInt8\"===s?.valueType&&o<=4){let s=0;const n=i*o;for(let e=n;e<n+o;e++)s=(s<<8)+t[e];r[e.name]=s}else r[e.name]=void 0}_setPointsVisible(e){e&&!this._rendererAdded?(this.view._stage.addRenderPlugin(this._renderer),this._rendererAdded=!0):!e&&this._rendererAdded&&(this.view._stage.removeRenderPlugin(this._renderer),this._rendererAdded=!1)}_rendererChanged(){this._renderer.useFixedSizes=J(this.layer.renderer),this._reload()}_reload(){this._clearNodeState(),this._memCache.clear(),this._setUpdateViewNeeded()}_elevationOffsetChanged(){this._clearNodeState(),this._memCache.clear(),this._initNodePages()}_scaleUpdateHandler(e){const t=this.layer.effectiveScaleRange;ue(t.minScale,t.maxScale)?x(e.extent,e.spatialReference,we,this.layer.spatialReference)&&(this._nodeScales.forEach(((t,i)=>{if(!this._renderedNodes.has(i))return void this._nodeScales.delete(i);const r=this._index.getNode(i);C(we,r.obb.center)&&this._nodeScales.set(i,e.scale)})),this._setUpdateViewNeeded()):this._nodeScales.clear()}_displayNodes(e){this._workQueue=F([...this._renderedNodes],e,this._index),H(this._workQueue,this.view.state.contentCamera.viewForward,this._index),B(this._workQueue,me,this._index),this._updateQueues(),this._totalWork=this._computeWork(),this._updateLoading(),this._layerIsVisible=e.length>0||this._loadingInitNodePage,this.notifyChange(\"suspended\")}cancelLoading(){this._cancelNodeLoading(),this._cancelIndexLoading()}_cancelNodeLoading(){const e=new Array;this._loadingNodes.forEach((({abortController:t})=>e.push(t))),this._loadingNodes.clear();for(const t of e)t.abort();this._workQueue=[],this._idleQueue.cancelAll(),this._totalWork=this._computeWork(),this._updateLoading()}_updateQueues(){const e=new Set;this._workQueue.forEach((t=>t.load.forEach((t=>e.add(t)))));const t=new Array,i=new Map;this._loadingNodes.forEach(((r,s)=>{e.has(s)?i.set(s,r):t.push(r)})),this._loadingNodes=i;for(const{abortController:r}of t)r.abort();this._workQueue=this._workQueue.filter((e=>{for(const t of e.load)if(this._loadingNodes.has(t))return this._recalcWork=!0,!1;return!0})),this._totalWork=this._computeWork(),this._updateLoading()}_cancelIndexLoading(){this._indexQueue=[],this._indexPagesLoading.forEach((({abortController:e})=>e.abort())),this._indexPagesLoading.clear(),this._totalWork=this._computeWork(),this._updateLoading()}_clearNodeState(){this._nodeLoadEpoch++,this._renderedNodes.forEach((e=>this._removeFromRenderer(e))),this._cancelNodeLoading()}_idleBegin(){this._setUpdateViewNeeded()}_idleEnd(){this._setUpdateViewNeeded()}get running(){return this.suspended?this._updateViewNeeded:this._updateViewNeeded||this._indexQueue.length>0||this._workQueue.length>0||this._idleQueue.running}runTask(e){if(this.suspended){if(this._updateViewNeeded){this._updateViewNeeded=!1;const e=this._isRootNodeVisible();e!==this._layerIsVisible&&(this._layerIsVisible=e,this.notifyChange(\"suspended\")),this._updateLoading()}}else{for(e.run((()=>this._updateWorkQueues()));this._indexQueue.length>0&&e.run((()=>this._processIndexQueue())););this._processWorkQueue(e),this._idleQueue.runTask(e)}}_processIndexQueue(){const e=this._indexQueue.shift(),t=this._loadNodePage(e);return this._indexPagesLoading.set(e,t),t.promise.then((t=>{this._index.addPage(e,t,this._elevationOffset),this._setUpdateViewNeeded()})).then((()=>{this._indexPagesLoading.delete(e)}),(()=>{this._indexPagesLoading.delete(e)})),!0}_processWorkQueue(e){for(;!e.done;){const t=this._scheduleWorkEntry();if(null==t)return void e.madeProgress();this._processWorkEntry(t),e.madeProgress()}}_scheduleWorkEntry(){let e=this._workQueue.length;for(;e--;){const e=this._workQueue.shift();if(!e.remove.find((e=>!this._renderedNodes.has(e))))return e;this._workQueue.push(e)}return null}_processWorkEntry(e){if(0!==e.load.length)Promise.all(e.load.map((e=>{const t=new AbortController,i=this._memCache.pop(e.toString());return null!=i?this._loadingNodes.set(e,{abortController:t,promise:Promise.resolve(i)}):this._loadingNodes.has(e)||this._loadingNodes.set(e,{abortController:t,promise:this._loadNode(e,t.signal)}),this._loadingNodes.get(e).promise}))).then((t=>{for(let i=0;i<e.load.length;i++)if(t[i]){const r=this._setupRendererData(e.load[i],t[i]);this._addToRenderer(r)}for(const i of e.remove)this._removeFromRenderer(i)})).catch((()=>{})).then((()=>{for(const t of e.load)this._loadingNodes.delete(t);this._updateLoading(),this._recalcWork&&!this._idleQueue.running&&0===this._indexQueue.length&&0===this._loadingNodes.size&&(this._recalcWork=!1,this._setUpdateViewNeeded())})),this._updateLoading();else for(const t of e.remove)this._removeFromRenderer(t)}async _populateClassCodeCodedDomain(e,t){const r=\"CLASS_CODE\",s=this.layer.fieldsIndex.get(r);if(!s||s.domain)return;if(!e.includes(s.name))return;const o=await i(this.layer.queryCachedStatistics(r,{signal:t}));if(!1===o.ok)return;const n=o.value?.stats?.labels?.labels;n&&Array.isArray(n)&&(s.domain=new R({name:\"CLASS_CODE\",codedValues:n.map((e=>new V({code:e.value,name:e.label})))}))}async prepareFetchPopupFeatures(e){return this._codedDomainPopulationPromise||(this._codedDomainPopulationAbortController=new AbortController,this._codedDomainPopulationPromise=this._populateClassCodeCodedDomain(e,this._codedDomainPopulationAbortController.signal).then((()=>{this._codedDomainPopulationAbortController=null}))),this._codedDomainPopulationPromise}async whenGraphicAttributes(e,i){const s=this._splitGraphicsPerNode(e),o=this.layer.attributeStorageInfo,n=i.map((e=>K(o,e))).filter(t),a=async(e,t)=>{const i=this._index.getNode(t);await r(n,(async t=>{const r=t.useElevation?await this._loadElevationAttributeFromGeometry(i.resourceId):await this._loadAndParseAttribute(i,t);if(r)for(const i of e)if(this._isValidPointGraphic(i)){const e=i.pointCloudMetadata.attributePointIndexInNode;this._encodeGraphicAttribute(t,r,e,i.attributes)}}))},d=[];return s.forEach(((e,t)=>{d.push(a(e,t))})),await Promise.allSettled(d),e}_isValidPointGraphic(e){return e instanceof ee&&e.pointCloudMetadata?.epoch===this._nodeLoadEpoch}_splitGraphicsPerNode(e){const t=new Map;for(const i of e){if(!this._isValidPointGraphic(i))continue;const e=i.pointCloudMetadata,r=t.get(e.nodeId);r?r.push(i):t.set(e.nodeId,[i])}return t}async _loadAndParseAttribute(e,t){const i=await this._loadAttribute(e.resourceId,t,null);return null!=i?X({attributeInfo:t,buffer:i},null,e.vertexCount):null}async _loadElevationAttributeFromGeometry(e){const t=this.layer.store.defaultGeometrySchema,i=Y(t,await this._loadGeometry(e,null));return Z(i,i.length/3)}highlight(e){if(!e)return o();const t=s.isCollection(e)?e.toArray():Array.isArray(e)?e:[e];return this._renderer.highlight(t.map((e=>this._graphicToPointDefinition(e))))}_graphicToPointDefinition(e){if(!this._isValidPointGraphic(e))return null;const{nodeId:t,pointIndexInNode:i}=e.pointCloudMetadata;return null!=t&&null!=i?{nodeId:t,pointId:i}:null}_computeWork(){let e=0;for(const t of this._workQueue)e+=t.load.length+t.remove.length;return e+=this._loadingNodes.size,e+=(this._indexQueue.length+this._indexPagesLoading.size)*this._index.pageSize,e+=this._loadingInitNodePage?100:0,e+=this._updateViewNeeded?100:0,e}get updatingProgressValue(){if(this.suspended)return this._updateViewNeeded?0:1;const e=this._computeWork();return 1-Math.min(this._totalWork,e)/this._totalWork}_updateLoading(){this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")}canResume(){return super.canResume()&&this._layerIsVisible}isUpdating(){return this.suspended?this._updateViewNeeded:this._computeWork()>0}_initNodePages(){const e=this.layer.store.index,t=e.nodesPerPage||e.nodePerIndexBlock;return this._index=new O(this.layer.spatialReference,this.view.renderCoordsHelper.spatialReference,t),this._cancelIndexLoading(),this._traverseVisible=this._index.createVisibilityTraverse(),this._loadingInitNodePage=!0,this._layerIsVisible=!0,this.notifyChange(\"suspended\"),this._updateLoading(),this._pageMultiplier=null!=e.nodesPerPage?1:e.nodePerIndexBlock,this._loadNodePage(0).promise.then((e=>{this._index.addPage(0,e,this._elevationOffset),this._loadingInitNodePage=!1,this._setUpdateViewNeeded()}))}_loadNodePage(e){const t=new AbortController,i=`${this.baseUrl}/nodepages/${e*this._pageMultiplier}`;return{promise:this._requestNodePage(i,t.signal).then((t=>t.nodes.map(((t,i)=>({resourceId:null!=t.resourceId?t.resourceId:e*this._index.pageSize+i,obb:de.fromJSON(t.obb),obbInRenderSR:new de,firstChild:t.firstChild,childCount:t.childCount,vertexCount:t.vertexCount??t.pointCount,lodThreshold:t.lodThreshold??t.effectiveArea}))))),abortController:t}}_updateWorkQueues(){if(!this._updateViewNeeded)return!1;const e=this.view.quality;let t=this.inverseDensity/this._lodFactor*e;const i=this.maximumPointCount*this._lodFactor*e;let r=this._computeNodesForMinimumDensity(t),s=this._computePointCount(r),o=Math.sqrt(s/(.75*i));for(;s>i;)t*=o,r=this._computeNodesForMinimumDensity(t),s=this._computePointCount(r),o=Math.sqrt(2);return this._displayNodes(r),this._updateViewNeeded=!1,this._updateLoading(),!0}_computePointCount(e){let t=0;for(let i=0;i<e.length;i++){const r=this._index.getNode(e[i]);r&&(t+=r.vertexCount)}return t}_isRootNodeVisible(){let e=!1;return this._traverseVisible({frustum:this.view.state.contentCamera.frustum,clippingBox:this._clippingBox},{predicate:(t,i,r)=>(e=r,!1),pageMiss:()=>{}}),e}_computeNodesForMinimumDensity(e){const t=this.view.state.contentCamera,i=t.frustum,r=this._clippingBox,s=t.viewForward,o=w(s,t.eye),n=A(s,-o,ge),a=t.perScreenPixelRatio/2,d=e*e,l=this._nodeIdArray;l.length=0;const{minScale:h,maxScale:u}=pe(this.layer),p=0===h&&0===u?e=>l.push(e):e=>{const t=this._getScale(e);ce(t,h,u)&&l.push(e)};return this._traverseVisible({frustum:i,clippingBox:r},{predicate:(e,t,i)=>{if(!i)return!1;if(0===t.childCount)return p(e),!1;const r=this._index.getRenderObb(e);return!(this._computeAveragePixelArea(r,t.lodThreshold,t.vertexCount,n,a)<=d)||(p(e),!1)},pageMiss:(e,t)=>{p(e),this._indexQueue.includes(t)||this._indexQueue.push(t)}}),l}_getScale(e){let t=this._nodeScales.get(e);if(null==t){const i=this._index.getNode(e).obb.center;this._tmpPoint.x=i[0],this._tmpPoint.y=i[1],this._tmpPoint.z=i[2],t=this.view.basemapTerrain.getScale(this._tmpPoint),this._nodeScales.set(e,t)}return t}_computeAveragePixelArea(e,t,i,r,s){const o=1e-7,n=Math.max(o,e.minimumDistancePlane(r));return t/(n*n)/(4*s*s)/i}_loadNode(e,t){try{return this._loadNodeAsync(e,t)}catch(i){throw l(i)||n.getLogger(this).error(i),i}}async _loadAdditionalUserAttributes(e,i,r){const s=this.layer.outFields;if(!s)return[];const o=j(this.layer.fieldsIndex,s),n=new Set(e.map((e=>null!=e?e.name:null))),a=this.layer.attributeStorageInfo,d=[];for(const t of o){if(n.has(t))continue;const e=K(a,t);e&&d.push(i(e))}const l=await h(d);return u(r),l.filter(t)}async _loadNodeAsync(e,t){const i=this._index.getNode(e),r=T(this.layer),s=$(this.layer),o=i.resourceId,n=async e=>{if(!e)return null;if(e.useElevation)return{attributeInfo:e,buffer:null};const i=await this._loadAttribute(o,e,t);return null!=i?{attributeInfo:e,buffer:i}:null};return this._idleQueue.push((async()=>{const i=this._loadGeometry(o,t),{primaryAttribute:a,modulationAttribute:d}=r,l=n(a),h=n(d),p=s.map((e=>e.attributeInfo)),c=p.map((e=>n(e))),_=this._loadAdditionalUserAttributes([a,d,...p],n,t),[m,g,f,y,b]=await Promise.all([i,l,h,Promise.all(c),_]);u(t);const w={geometryBuffer:m,primaryAttributeData:g,modulationAttributeData:f,filterAttributesData:y,userAttributesData:b,schema:this.layer.store.defaultGeometrySchema,rendererInfo:r,filterInfo:s,obbData:this._index.getRenderObb(e).data,elevationOffset:this._elevationOffset,inSR:this.layer.spatialReference.toJSON(),outSR:this.view.renderCoordsHelper.spatialReference.toJSON()};return this._worker.invoke(w,t)}),t)}async _loadGeometry(e,t){return this._requestData(`${this.baseUrl}/nodes/${e}/geometries/0`,t)}async _loadAttribute(e,t,i){if(!t?.storageInfo)return null;const r=t.storageInfo.key;return this._requestData(`${this.baseUrl}/nodes/${e}/attributes/${r}`,i)}_requestNodePage(e,t){const i={f:\"json\",...this.layer.customParameters,token:this.layer.apiKey};return this._indexRequester.request(e,\"json\",{query:i,signal:t})}_requestData(e,t){return this._dataRequester.request(e,\"binary\",{query:{...this.layer.customParameters,token:this.layer.apiKey},signal:t})}_removeFromRenderer(e){if(this._renderedNodes.has(e)){const t=this._renderer.removeNode(e);this._renderedNodes.delete(e),this._nodeScales.delete(e),this._memCache.put(t.id.toString(),t,be(t))}}_addToRenderer(e){this._renderedNodes.has(e.id)||(this._renderedNodes.add(e.id),this._renderer.addNode(e))}_setupRendererData(e,t){const i=this._index.getNode(e),r=Math.sqrt(i.lodThreshold/i.vertexCount),s=this._index.getRenderObb(e);if(ie(t))return t.splatSize=r,t.obb=s,P(t.origin,t.obb.center),t;const o=de.fromData(t.obbData),a=o.halfSize,d=s.halfSize,l=.01*Math.max(d[0],d[1],d[2]);if(a[0]>d[0]+l||a[1]>d[1]+l||a[2]>d[2]+l){if(this._maxLoggedBoxWarnings>0){const t=e=>`[${e.halfSize[0]}, ${e.halfSize[1]}, ${e.halfSize[2]}]`;n.getLogger(this).warn(`Node ${e} reported bounding box too small. got ${t(s)} but points cover ${t(o)}`),0==--this._maxLoggedBoxWarnings&&n.getLogger(this).warn(\"  Too many bounding box errors, stopping reporting for this layer.\")}this._index.setRenderObb(e,o)}return new re(e,r,N(s.center),s,0===i.childCount,t.points,t.rgb,t.attributes,t.pointIdFilterMap)}get usedMemory(){let e=0;return this._renderer.forEachNode((t=>{e+=Pe,e+=g(t.coordinates);for(const i of t.attributes){const t=i.values;f(t.buffer)&&(e+=g(t))}})),e}get unloadedMemory(){const e=this._renderedNodes.size;if(e<4)return 0;const t=[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount));let i=this._loadingNodes.size;for(let r=0;r<this._workQueue.length;r++)i+=this._workQueue[r].load.length,i-=this._workQueue[r].remove.length;if(i<0)return 0;return i*t/e*((this.usedMemory-e*Pe)/t)+i*Pe}get performanceInfo(){return new Q(this.usedMemory,this._renderedNodes.size,[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount),0),this.maximumPointCount,new W(this._loadingNodes.size,this._indexQueue.length,this._workQueue.length,this._idleQueue.length))}get test(){return{index:this._index,visibleNodes:this._renderedNodes}}};e([y()],fe.prototype,\"layer\",void 0),e([y()],fe.prototype,\"baseUrl\",null),e([y()],fe.prototype,\"pointScale\",null),e([y()],fe.prototype,\"useRealWorldSymbolSizes\",null),e([y()],fe.prototype,\"pointSize\",null),e([y()],fe.prototype,\"inverseDensity\",null),e([y()],fe.prototype,\"maximumPointCount\",void 0),e([y({readOnly:!0})],fe.prototype,\"availableFields\",null),e([y({readOnly:!0})],fe.prototype,\"_clippingBox\",null),e([y({readOnly:!0})],fe.prototype,\"_elevationOffset\",null),e([y({type:Boolean})],fe.prototype,\"slicePlaneEnabled\",void 0),e([y()],fe.prototype,\"updating\",void 0),e([y(le)],fe.prototype,\"updatingProgress\",void 0),e([y({readOnly:!0})],fe.prototype,\"updatingProgressValue\",null),fe=e([b(\"esri.views.3d.layers.PointCloudLayerView3D\")],fe);const ye=fe;function be(e){return 5*e.coordinates.length+128}const we=S(),Pe=160;function Ne(e){return t=>e.immediate.schedule(t)}export{ye as default};\n"],
  "mappings": "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",
  "names": ["e", "t", "s", "o", "r", "i", "r", "h", "t", "u", "t", "e", "g", "n", "r", "o", "l", "h", "u", "P", "d", "i", "t", "s", "n", "a", "e", "r", "p", "h", "o", "g", "l", "c", "u", "b", "t", "e", "n", "o", "l", "i", "a", "u", "r", "s", "e", "o", "h", "e", "t", "i", "s", "r", "m", "r", "e", "i", "O", "o", "_", "f", "t", "C", "r", "t", "V", "t", "e", "C", "d", "i", "y", "h", "s", "A", "r", "n", "f", "P", "b", "j", "g", "E", "I", "L", "v", "o", "a", "l", "Y", "u", "p", "S", "x", "z", "m", "F", "O", "k", "G", "i", "n", "u", "e", "t", "o", "r", "v", "A", "I", "s", "l", "b", "g", "a", "d", "P", "_", "h", "c", "p", "m", "f", "y", "G", "k"]
}
