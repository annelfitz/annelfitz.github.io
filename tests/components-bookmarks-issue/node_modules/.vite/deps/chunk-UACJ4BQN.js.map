{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/layers/graphics/QueryEngine.js", "../../@arcgis/core/views/3d/layers/support/attributeUtils.js", "../../@arcgis/core/views/3d/layers/support/FeatureVisibilityFilter.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js", "../../@arcgis/core/views/3d/layers/support/featureReference.js", "../../@arcgis/core/views/3d/layers/support/FeatureTile.js", "../../@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js", "../../@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js", "../../@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/lib/DrapedHeatmapRenderer.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/HeatmapDensityMaterial.js", "../../@arcgis/core/views/3d/layers/support/HeatmapFeatureProcessor.js", "../../@arcgis/core/views/3d/layers/FeatureLikeLayerView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import t from\"../../../../core/Accessor.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../../geometry/Extent.js\";import{QueryEngine as o}from\"../../../../layers/graphics/data/QueryEngine.js\";import a from\"../../../../layers/support/FieldsIndex.js\";import u from\"../../../../rest/support/FeatureSet.js\";import i from\"../../../../rest/support/Query.js\";import{featureGeometryTypeKebabDictionary as y}from\"../../../../geometry/support/typeUtils.js\";const c=o;let l=class extends t{get layer(){return this.context.layer}get spatialReference(){return this.context.spatialReference}get _queryGeometryType(){switch(this.layer.geometryType){case\"multipoint\":case\"point\":case\"polygon\":case\"polyline\":return this.layer.geometryType;case\"mesh\":return\"polygon\";default:return}}get defaultQueryJSON(){return new i({outSpatialReference:this.spatialReference}).toJSON()}get _dataQueryEngine(){return this._ensureDataQueryEngine()}constructor(e){super(e),this._dataQueryEngineInstance=null}destroy(){this.clear()}clear(){return!!this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null,!0)}async executeQueryForIdSet(e,t,r){return this._dataQueryEngine.executeQueryForIdSet(this._ensureQueryJSON(e,t),r)}async executeQueryForCount(e,t){return this._dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),t)}async executeQueryForExtent(e,t){const{count:r,extent:s}=await this._dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),t);return{count:r,extent:n.fromJSON(s)}}async executeQueryForIds(e,t){return this._dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),t)}async executeQueryForLatestObservations(e,t){const r=await this._dataQueryEngine.executeQueryForLatestObservations(this._ensureQueryJSON(e),t),s=u.fromJSON(r);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}async executeQuery(e,t){const r=await this._dataQueryEngine.executeQuery(this._ensureQueryJSON(e),t),s=u.fromJSON(r);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}_ensureQueryJSON(e,t){let r=this.defaultQueryJSON;if(null!=e&&(\"outSpatialReference\"in e&&!e.outSpatialReference&&(e.outSpatialReference=this.spatialReference),r=e.toJSON()),null!=t){const e=t.geometries.map((e=>e.toJSON())).reduce(((e,t)=>(e.rings=e.rings.concat(t.rings),e)));r={...r,sceneFilter:{...t,geometry:e}}}return r}_ensureDataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const e=\"timeInfo\"in this.layer&&this.layer.timeInfo?.toJSON()||null,t=this.layer.objectIdField,r=y.toJSON(this._queryGeometryType),s=this.layer.fieldsIndex?.toJSON()||new a([]),n=this.priority,o=this.spatialReference.toJSON(),{hasZ:u,hasM:i,featureStore:l,scheduler:p}=this.context;return this._dataQueryEngineInstance=new c({hasZ:u,hasM:i,geometryType:r,fieldsIndex:s,timeInfo:e,spatialReference:o,objectIdField:t,featureStore:l,scheduler:p,priority:n}),this._dataQueryEngineInstance}};e([r({constructOnly:!0})],l.prototype,\"context\",void 0),e([r({constructOnly:!0})],l.prototype,\"priority\",void 0),e([r()],l.prototype,\"layer\",null),e([r()],l.prototype,\"spatialReference\",null),e([r()],l.prototype,\"_queryGeometryType\",null),e([r()],l.prototype,\"defaultQueryJSON\",null),l=e([s(\"esri.views.3d.layers.graphics.QueryEngine\")],l);export{l as QueryEngine};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction n(n,t,e){if(!e||null==t)return null;if(!n)return r(t,e);const o=n.get(e);return o?t[o.name]:null}function r(n,r){const t=r.toLowerCase();for(const e in n)if(e.toLowerCase()===t)return n[e];return null}export{n as attributeLookup};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{createTask as r}from\"../../../../core/asyncUtils.js\";import i from\"../../../../core/Logger.js\";import{abortMaybe as s,removeMaybe as l,destroyMaybe as o}from\"../../../../core/maybe.js\";import{throwIfAbortError as a}from\"../../../../core/promiseUtils.js\";import{initial as n}from\"../../../../core/reactiveUtils.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as h}from\"../../../../core/support/UpdatingHandles.js\";import c from\"../../../../layers/support/FeatureFilter.js\";import{getFloorFilterClause as _}from\"../../../../layers/support/floorFilterUtils.js\";import{QueryEngine as d}from\"../graphics/QueryEngine.js\";import{TaskPriority as y}from\"../../../support/Scheduler.js\";import{Yield as m}from\"../../../support/Yield.js\";let f=class extends t{constructor(e){super(e),this._updateTask=null,this._frameTask=null,this._queryEngine=null,this._updateRequested=!0,this._updatingHandles=new h,this._updateVisibility=async e=>{if(null==this._compositedFeatureFilter&&null==this._sceneFilter||0===this.context.getFeatureCount())return this._frameTask.schedule((()=>this.clear()),e);try{const t=await this._queryEngine.executeQueryForIdSet(this._compositedFeatureFilter,this._sceneFilter,e);return this._frameTask.schedule((()=>{this.context.updateFeatureVisibilities((e=>t.has(e)))}),e)}catch(t){return a(t),i.getLogger(this).warn(`FeatureFilter query failed: ${t}`,{error:t}),this._frameTask.schedule((()=>{this.context.setAllFeaturesVisibility(!0)}),e)}}}initialize(){const e=y.FILTER_VISIBILITY,{layer:t,view:r}=this._layerView,{featureStore:i}=this.context,s=\"hasZ\"in this._layerView&&this._layerView.hasZ,l=\"hasM\"in this._layerView&&this._layerView.hasM;this._queryEngine=new d({context:{spatialReference:r.spatialReference,layer:t,scheduler:r.resourceController.scheduler,featureStore:i,hasM:l,hasZ:s},priority:e}),this._frameTask=this._layerView.view.resourceController.scheduler.registerTask(e,this),this._updatingHandles.add((()=>[this._compositedFeatureFilter,this._sceneFilter]),(()=>this.reapply()),n)}destroy(){this._updateRequested=!1,this._updatingHandles.destroy(),this.clear(),this._updateTask=s(this._updateTask),this._frameTask=l(this._frameTask),this._queryEngine=o(this._queryEngine),this._set(\"context\",null)}get updating(){return this.running||this._updatingHandles.updating||null!=this._updateTask&&!this._updateTask.finished}get running(){return this._updateRequested||this._frameTask.updating}get defaultVisibility(){return null==this._compositedFeatureFilter&&null==this._sceneFilter}get _featureFilter(){return\"filter\"in this._layerView?this._layerView.filter:null}get _sceneFilter(){return\"layerFilter\"in this._layerView?this._layerView.layerFilter:null}get _floorFilter(){return _(this._layerView)}get _timeExtent(){return\"timeExtent\"in this._layerView?this._layerView.timeExtent:null}get _compositedFeatureFilter(){const{_featureFilter:e,_timeExtent:t,_floorFilter:r}=this;if(null==t&&null==r)return e;const i=null!=e?e.clone():new c;if(null!=t&&(i.timeExtent=null!=i.timeExtent?i.timeExtent.intersection(t):t),null!=r){const e=null==i.where||\"\"===i.where;i.where=e?r:`(${i.where}) AND (${r})`}return i}get _layerView(){return this.context.layerView}reapply(){this._updateRequested=!0}clear(){this._queryEngine.clear(),this.context.clearFeaturesVisibility()}runTask(e){if(this._updateRequested&&(this._updateTask=s(this._updateTask),this._updateTask=r(this._updateVisibility),this._updateRequested=!1,e.madeProgress()),this._frameTask.processQueue(e),!e.hasProgressed)return m}};e([u({constructOnly:!0})],f.prototype,\"context\",void 0),e([u()],f.prototype,\"updating\",null),e([u()],f.prototype,\"running\",null),e([u()],f.prototype,\"defaultVisibility\",null),e([u()],f.prototype,\"_featureFilter\",null),e([u()],f.prototype,\"_sceneFilter\",null),e([u()],f.prototype,\"_floorFilter\",null),e([u()],f.prototype,\"_timeExtent\",null),e([u()],f.prototype,\"_compositedFeatureFilter\",null),e([u()],f.prototype,\"_layerView\",null),e([u()],f.prototype,\"_updateTask\",void 0),e([u()],f.prototype,\"_updateRequested\",void 0),f=e([p(\"esri.views.3d.layers.support.FeatureVisibilityFilter\")],f);export{f as FeatureVisibilityFilter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Graphic.js\";import{XXH as i}from\"../../../../arcade/functions/hash.js\";import r from\"../../../../core/Accessor.js\";import{neverReached as s}from\"../../../../core/compilerUtils.js\";import{makeHandle as n}from\"../../../../core/handleUtils.js\";import{destroyMaybe as a}from\"../../../../core/maybe.js\";import{logOnError as o}from\"../../../../core/promiseUtils.js\";import{watch as p,initial as l,when as d}from\"../../../../core/reactiveUtils.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as c}from\"../../../../core/accessorSupport/diffUtils.js\";import{UpdatingHandles as g}from\"../../../../core/support/UpdatingHandles.js\";import{canProject as y,project as m}from\"../../../../geometry/support/webMercatorUtils.js\";import{matchRandomRotationExpression as f}from\"../../../../renderers/support/randomRotationExpression.js\";import{getRenderingInfo as b,getRenderingInfoAsync as E}from\"../../../../renderers/support/renderingInfoUtils.js\";import C from\"../../../../rest/support/Query.js\";import{DrapeSourceType as x}from\"../interfaces.js\";import{suspendResumeExtentOptimism as w}from\"./constants.js\";import{DisplayFeatureLimit as v}from\"./DisplayFeatureLimit.js\";import{Graphics3DCore as V}from\"./Graphics3DCore.js\";import{Graphics3DElevationAlignment as R}from\"./Graphics3DElevationAlignment.js\";import{Graphics3DFrustumVisibility as j}from\"./Graphics3DFrustumVisibility.js\";import{Graphics3DObjectStates as O}from\"./Graphics3DObjectStates.js\";import{Graphics3DScaleVisibility as _}from\"./Graphics3DScaleVisibility.js\";import{enlargeExtent as S}from\"./graphicUtils.js\";import{attributeLookup as G}from\"../support/attributeUtils.js\";import{FeatureVisibilityFilter as I}from\"../support/FeatureVisibilityFilter.js\";import{Object3DState as A}from\"../../webgl-engine/lib/basicInterfaces.js\";import{UpdatePolicy as U}from\"../../webgl-engine/lib/UpdatePolicy.js\";let P=class extends r{constructor(e){super(e),this.type=\"graphics-3d\",this._randomRotationRenderers=null,this._updatingHandles=new g,this.elevationFeatureExpressionEnabled=!1,this.scaleVisibilityEnabled=!1,this.filterVisibilityEnabled=!1,this.frustumVisibilityEnabled=!1,this.elevationAlignmentEnabled=!1,this.timeExtentEnabled=!1,this.setUidToIdOnAdd=!0,this.dataExtent=null,this.drapeSourceType=x.Features,this.preferredUpdatePolicy=U.ASYNC,this._suspendResumeExtent=null}initialize(){const e=this.owner,t=(this.filterVisibilityEnabled||this.timeExtentEnabled)&&\"multipatch\"!==e.layer.geometryType,i=new V({owner:this,layer:this.layer,preferredUpdatePolicy:this.preferredUpdatePolicy,elevationFeatureExpressionEnabled:this.elevationFeatureExpressionEnabled,graphicSymbolSupported:!1,hasZ:e.hasZ,hasM:e.hasM,setUidToIdOnAdd:this.setUidToIdOnAdd,componentFactories:{deconflictor:t=>e.view.deconflictor.addGraphicsOwner(t),labeler:(t,i)=>e.view.labeler.addGraphicsOwner(t,i),elevationAlignment:this.elevationAlignmentEnabled?(t,i)=>new R({graphicsCoreOwner:this,graphicsCore:t,queryGraphicUIDsInExtent:i,elevationProvider:e.view.elevationProvider}):null,scaleVisibility:this.scaleVisibilityEnabled?(t,i)=>new _({graphicsCoreOwner:this,layer:this.layer,queryGraphicUIDsInExtent:i,graphicsCore:t,basemapTerrain:e.view.basemapTerrain}):null,filterVisibility:t?t=>new I({context:{layerView:e,...t}}):null,objectStates:e=>new O(e)}});this._set(\"graphicsCore\",i),this.frustumVisibilityEnabled&&this._set(\"frustumVisibility\",new j({graphicsCoreOwner:this})),this.elevationAlignment&&this._updatingHandles.add((()=>this.layer.elevationInfo),((e,t)=>{c(e,t)&&this._updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())})),this._updatingHandles.add((()=>this.layer.labelsVisible),(()=>this.graphicsCore.updateVisibilityInfo())),this._updatingHandles.add((()=>this.layer.labelingInfo),((e,t)=>{c(e,t)&&this.graphicsCore.updateLabelingInfo()})),this._updatingHandles.add((()=>this.preferredUpdatePolicy),(e=>this.graphicsCore.preferredUpdatePolicy=e)),this._set(\"initializePromise\",this._initializeAsync()),this._updatingHandles.addPromise(this.initializePromise)}async _initializeAsync(){await o(this.graphicsCore.initializePromise);const e=this.owner;this._updatingHandles.add((()=>this.renderer),(e=>this._updatingHandles.addPromise(this.graphicsCore.rendererChange(e)))),this._updatingHandles.add((()=>e.fullOpacity),(()=>this.graphicsCore.opacityChange())),this._setupSuspendResumeExtent(),this.updateClippingExtent&&(this._updatingHandles.add((()=>e.view.clippingArea),(()=>this._updateClippingExtent())),this._updateClippingExtent()),this.graphicsCore.startCreateGraphics(),this.graphicsCore.labelsEnabled&&await o(this.graphicsCore.updateLabelingInfo())}destroy(){this._updatingHandles.destroy(),this._set(\"frustumVisibility\",a(this.frustumVisibility)),this._set(\"graphicsCore\",a(this.graphicsCore)),this._set(\"owner\",null)}get layer(){return this.owner.layer}get dataUpdating(){return this.graphicsCore?.dataUpdating??!1}get renderer(){const{renderer:e,objectIdField:t}=this.layer;if(!e||!t||\"heatmap\"===e.type||!e.visualVariables)return e;const i=e.visualVariables.findIndex((e=>\"rotation\"===e.type&&null!=e.valueExpression&&f(e.valueExpression)===t&&(null==e.axis||\"heading\"===e.axis)&&\"geographic\"===e.rotationType));if(i<0)return e;const r=e.clone();return r.visualVariables.splice(i,1),this._randomRotationRenderers||(this._randomRotationRenderers=new WeakMap),this._randomRotationRenderers.set(r,t),r}get scaleVisibility(){return this.graphicsCore?.scaleVisibility}get filterVisibility(){return this.graphicsCore?.filterVisibility}get elevationAlignment(){return this.graphicsCore?.elevationAlignment}get suspendResumeExtentMode(){return\"suspendResumeExtentMode\"in this.owner?this.owner.suspendResumeExtentMode:\"computed\"}get scaleVisibilitySuspended(){return null!=this.scaleVisibility&&this.scaleVisibility.suspended}get suspended(){return this.owner.suspended}get legendEnabled(){return null==this.frustumVisibility||!this.frustumVisibility.suspended}get suspendInfo(){const e={};return this.scaleVisibilitySuspended&&(e.outsideScaleRange=!0),null!=this.frustumVisibility&&this.frustumVisibility.suspended&&(e.outsideOfView=!0),e}get updating(){return!!(this.graphicsCore?.updating||this.frustumVisibility?.updating||this._updatingHandles.updating)}get updatingRemaining(){return this.graphicsCore?.updatingRemaining??0}get featureStore(){return this.graphicsCore?.featureStore}get view(){return this.owner.view}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner?.fullOpacity}get filter(){return\"filter\"in this.owner?this.owner.filter:null}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get updatePolicy(){return this.owner.updatePolicy}get featureSpatialReference(){return\"featureSpatialReference\"in this.owner?this.owner.featureSpatialReference:this.owner.view.spatialReference}get graphics3DGraphics(){return this.graphicsCore?.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphicsCore?.graphics3DGraphicsByObjectID}get symbolUpdateType(){return this.graphicsCore?.symbolUpdateType}get displayFeatureLimit(){const e=this.view.quality,t=this.graphicsCore?.displayFeatureLimit;if(1===e)return t;const i=Math.ceil(t.maximumNumberOfFeatures*e);return new v(t.maximumTotalNumberOfVertices,i,t.averageSymbolComplexity)}get usedMemory(){return this.graphicsCore?.usedMemory??0}get loadedFeatures(){return this.graphicsCore?.numberOfGraphics??0}get usedMemoryPerFeature(){return this.graphicsCore?.usedMemoryPerGraphic??0}get unprocessedMemoryEstimate(){return this.graphicsCore?.unprocessedMemoryEstimate??0}get performanceInfo(){return this.graphicsCore.performanceInfo}maskOccludee(e){const t=this.graphicsCore?.objectStates;if(!t)return n();const{set:i,handle:r}=t.acquireSet(A.MaskOccludee,null);return t.setUid(i,e.uid),r}highlight(e,i){const r=this.graphicsCore?.objectStates;if(!r)return n();if(e instanceof C){const{set:t,handle:s}=r.acquireSet(A.Highlight,i);return this.owner.queryObjectIds(e).then((e=>r.setObjectIds(t,e))),s}if(\"number\"==typeof e||\"string\"==typeof e)return this.highlight([e],i);if(e instanceof t)return this.highlight([e],i);if(\"toArray\"in e&&(e=e.toArray()),Array.isArray(e)&&e.length>0){if(e[0]instanceof t){const t=e;if(null==G(this.layer.fieldsIndex,t[0].attributes,i)){const e=t.map((e=>e.uid)),{set:i,handle:s}=r.acquireSet(A.Highlight,null);return r.setUids(i,e),s}e=t.map((e=>G(this.layer.fieldsIndex,e.attributes,i)))}if(Array.isArray(e)&&(\"number\"==typeof e[0]||\"string\"==typeof e[0])){const t=e,{set:s,handle:n}=r.acquireSet(A.Highlight,i);return r.setObjectIds(s,t),n}}return n()}resetObjectStates(){this.graphicsCore?.objectStates?.reset()}whenGraphicBounds(e,t){return this.graphicsCore?.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.graphicsCore?.computeAttachmentOrigin(e,t)}notifyGraphicGeometryChanged(e){this.graphicsCore.notifyGraphicGeometryChanged(e)}notifyGraphicVisibilityChanged(e){this.graphicsCore.notifyGraphicVisibilityChanged(e)}getRenderingInfo(e,t,r){const s=b(e,{renderer:t,arcade:r});if(s?.color){const e=s.color;e[0]=e[0]/255,e[1]=e[1]/255,e[2]=e[2]/255}if(null!=s&&null!=t&&this._randomRotationRenderers?.has(t)){const r=this._randomRotationRenderers.get(t),n=e.attributes[r],a=new i(0);a.updateFloatArray([n]),a.updateUint8Array([173]),s.heading=8.381e-8*a.digest()}return s}getRenderingInfoAsync(e,t,i,r){return E(e,{renderer:t,arcade:i,...r})}getSymbolLayerSize(e,t){return this.graphicsCore?.getSymbolLayerSize(e,t)}setObjectIdVisibility(e,t){this.graphicsCore?.setObjectIdVisibility(e,t)}refreshFilter(){null!=this.filterVisibility&&this.filterVisibility.reapply()}getGraphics3DGraphicByObjectId(e){return this.graphicsCore?.getGraphics3DGraphicByObjectId(e)}_updateClippingExtent(){const e=this.owner.view.clippingArea;this.graphicsCore.setClippingExtent(e,this.owner.view.spatialReference)&&(this.updateClippingExtent(e)||this.graphicsCore.recreateAllGraphics())}_setupSuspendResumeExtent(){(this.frustumVisibility||this.scaleVisibility)&&this.addHandles(p((()=>this.suspendResumeExtentMode),(()=>{switch(this.removeHandles(H),this.suspendResumeExtentMode){case\"computed\":this.addHandles([p((()=>this.graphicsCore.computedExtent),(e=>this._updateSuspendResumeExtent(e)),l),p((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent(this.graphicsCore.computedExtent)))],H);break;case\"data\":this.addHandles([d((()=>this.dataExtent),(e=>this._updateSuspendResumeExtent(e)),l),p((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent(this.dataExtent)))],H);break;default:s(this.suspendResumeExtentMode)}}),l))}_updateSuspendResumeExtent(e){e?this._suspendResumeExtentChanged(this._extentToSuspendResumeRect(e,this._suspendResumeExtent)):this._suspendResumeExtentChanged(null)}_extentToSuspendResumeRect(e,t){const i=this.owner.view.spatialReference;if(!e.spatialReference.equals(i)){if(!y(e,i))return;e=m(e,i)}return S(e,t,w,this.graphicsCore.extentPadding)}_suspendResumeExtentChanged(e){null!=this.frustumVisibility&&this.frustumVisibility.setExtent(e),null!=this.scaleVisibility&&this.scaleVisibility.setExtent(e)}};e([u()],P.prototype,\"type\",void 0),e([u({constructOnly:!0})],P.prototype,\"owner\",void 0),e([u()],P.prototype,\"layer\",null),e([u({readOnly:!0})],P.prototype,\"dataUpdating\",null),e([u()],P.prototype,\"renderer\",null),e([u({constructOnly:!0})],P.prototype,\"updateClippingExtent\",void 0),e([u({constructOnly:!0})],P.prototype,\"elevationFeatureExpressionEnabled\",void 0),e([u({constructOnly:!0})],P.prototype,\"graphicsCore\",void 0),e([u({constructOnly:!0})],P.prototype,\"scaleVisibilityEnabled\",void 0),e([u({constructOnly:!0})],P.prototype,\"filterVisibilityEnabled\",void 0),e([u({constructOnly:!0})],P.prototype,\"frustumVisibilityEnabled\",void 0),e([u({constructOnly:!0})],P.prototype,\"elevationAlignmentEnabled\",void 0),e([u({constructOnly:!0})],P.prototype,\"timeExtentEnabled\",void 0),e([u({constructOnly:!0})],P.prototype,\"setUidToIdOnAdd\",void 0),e([u()],P.prototype,\"scaleVisibility\",null),e([u()],P.prototype,\"filterVisibility\",null),e([u()],P.prototype,\"elevationAlignment\",null),e([u({constructOnly:!0})],P.prototype,\"frustumVisibility\",void 0),e([u()],P.prototype,\"initializePromise\",void 0),e([u()],P.prototype,\"suspendResumeExtentMode\",null),e([u()],P.prototype,\"dataExtent\",void 0),e([u()],P.prototype,\"scaleVisibilitySuspended\",null),e([u()],P.prototype,\"suspended\",null),e([u()],P.prototype,\"legendEnabled\",null),e([u()],P.prototype,\"suspendInfo\",null),e([u()],P.prototype,\"updating\",null),e([u()],P.prototype,\"updatingRemaining\",null),e([u()],P.prototype,\"featureStore\",null),e([u()],P.prototype,\"view\",null),e([u()],P.prototype,\"loadedGraphics\",null),e([u()],P.prototype,\"fullOpacity\",null),e([u()],P.prototype,\"filter\",null),e([u()],P.prototype,\"slicePlaneEnabled\",null),e([u()],P.prototype,\"drapeSourceType\",void 0),e([u()],P.prototype,\"updatePolicy\",null),e([u()],P.prototype,\"preferredUpdatePolicy\",void 0),e([u({readOnly:!0})],P.prototype,\"displayFeatureLimit\",null),P=e([h(\"esri.views.3d.layers.graphics.Graphics3DFeatureProcessor\")],P);const H=\"suspendResumeExtentMode\";export{P as Graphics3DFeatureProcessor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import\"../../../../geometry/SpatialReference.js\";import\"../../../../geometry/support/aaBoundingBox.js\";import\"../../../../core/mathUtils.js\";import\"../../../../geometry/Extent.js\";import\"../../../../geometry/Geometry.js\";import\"../../../../geometry/Multipoint.js\";import\"../../../../geometry/Point.js\";import\"../../../../geometry/Polygon.js\";import\"../../../../geometry/Polyline.js\";import\"../../../../geometry/support/typeUtils.js\";import\"../../../../layers/support/Field.js\";import{equals as e}from\"../../../../layers/graphics/dehydratedFeatureComparison.js\";class t{get isReferenced(){return 0!==this.versions.length}get isSingle(){return 1===this.versions.length&&1===this.versions[0].refCount}constructor(e,t){this._highestResolutionVersion=null,this.versions=[],this.ref(e,t)}ref(t,s){const r=this.feature;i.oldVersion=r,this.feature&&Object.defineProperty(t,\"uid\",{value:this.feature.uid,configurable:!0});for(const n of this.versions)if(n.resolution===s){n.refCount++;const s=this._highestResolutionVersion===n&&!e(t,n.feature);return(s||this._highestResolutionVersion!==n)&&(n.feature=t),i.newVersion=s?t:r,i}const o={feature:t,resolution:s,refCount:1};return this.versions.push(o),!this._highestResolutionVersion||s<this._highestResolutionVersion.resolution?(i.newVersion=t,this._highestResolutionVersion=o):i.newVersion=r,i}unref(e){for(let t=0;t<this.versions.length;t++){const s=this.versions[t];if(s.resolution===e)return s.refCount--,i.oldVersion=this.feature,0===s.refCount&&(this.versions[t]=this.versions[this.versions.length-1],this.versions.length--,this._highestResolutionVersion===s&&(this._recalculateHighestResolutionVersion(),i.oldVersion=s.feature)),i.newVersion=this.feature,i}return null}get feature(){return this._highestResolutionVersion?this._highestResolutionVersion.feature:null}_recalculateHighestResolutionVersion(){if(0===this.versions.length)return void(this._highestResolutionVersion=null);let e=this.versions[0];for(let t=1;t<this.versions.length;t++){const s=this.versions[t];s.resolution<e.resolution&&(e=s)}this._highestResolutionVersion=e}}class s{get isReferenced(){return 0!==this._refCount}get isSingle(){return 1===this._refCount}constructor(e){this._feature=e,this._refCount=1}ref(t){return++this._refCount,i.oldVersion=this._feature,this.feature&&Object.defineProperty(t,\"uid\",{value:this.feature.uid,configurable:!0}),e(this._feature,t)||(this._feature=t),i.newVersion=this._feature,i}unref(){return i.oldVersion=this._feature,this._refCount>0&&(this._refCount--,!this.isReferenced)?(i.newVersion=null,i):(i.newVersion=this._feature,i)}get feature(){return this._feature}}const i={oldVersion:null,newVersion:null};export{t as MultiFeatureReference,s as SingleFeatureReference};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{shuffle as t}from\"../../../../core/arrayUtils.js\";import{signal as e}from\"../../../../core/signal.js\";import{create as s,fromExtent as i,intersects as r,copy as u,positiveInfinity as a,intersection as h}from\"../../../../geometry/support/aaBoundingRect.js\";import{numVertices as n,estimateSize as f,getObjectId as l}from\"../../../../layers/graphics/dehydratedFeatures.js\";const _=16438,d=new Set;class m{get featuresMissing(){return this._featuresMissing.value}set featuresMissing(t){this._featuresMissing.value=t}get missingAttributes(){return this._missingAttributes}get fetchFailed(){return this._fetchFailed.value}set fetchFailed(t){this._fetchFailed.value=t}get displayingFeatures(){return this._displayingFeatures}set displayingFeatures(t){this._displayingFeatures=t,this.extentIncludingBorrowedFeatures=null}get perTileMaximumNumberOfFeaturesExceeded(){const t=(this.fetchStatus===c.DONE||this.fetchStatus===c.FULL)&&this.featuresMissing;return!this.filtered&&(t||this.hasFeatureLimit)}get features(){return this._features}get featureLimit(){return this._featureLimit.value}set featureLimit(t){this._featureLimit.value!==t&&(this._featureLimit.value=t,this._estimatedUnusedSizeDirty=!0)}get hasFeatureLimit(){return this.featureLimit!==this._featuresLength.value}get hasAllFeatures(){return!(this.featuresMissing||this.fetchFailed||this.hasFeatureLimit)}get availableFields(){return this._availableFields}setFeatures(t,e,s,i){this._availableFields=s??d,this._features=t,this._featuresLength.value=t?.length??0,this._shuffled=!1,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0,this._missingAttributes=i,t&&t.length>0?(this._emptyFeatureRatio.value=e/(t.length+e),this._numVertices=t.reduce(((t,e)=>t+n(e.geometry)),0)):(this._emptyFeatureRatio.value=0,this._numVertices=0)}get emptyFeatureRatio(){return this._emptyFeatureRatio.value}get numFeatures(){return this.hasPreciseFeatureCount?this._numFeatures:this._features?this._features.length:0}set numFeatures(t){this._numFeatures=t}get hasPreciseFeatureCount(){return this._numFeatures>F}get needsFeatureCount(){return this._numFeatures===F}get numVertices(){return this._numVertices}constructor(t){this.descriptor=t,this.fetchStatus=c.FETCH_NEEDED,this._features=null,this._featuresLength=e(0),this._numVertices=0,this._featureLimit=e(0),this._featuresMissing=e(!0),this._fetchFailed=e(!1),this._shuffled=!1,this._numFeatures=F,this._emptyFeatureRatio=e(0),this._estimatedSize=-1,this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._availableFields=d,this._displayingFeatures=null,this.alive=!0,this.filtered=!1}get id(){return this.descriptor.id}get estimatedSize(){return this.updateMemoryEstimates(),this._estimatedSize}get estimatedUnusedSize(){return this._estimatedUnusedSize}updateMemoryEstimates(){if(this._estimatedSize<0){if(this._estimatedSize=0,this._estimatedUnusedSize=0,this._features)for(let t=0;t<this._features.length;++t){const e=f(this._features[t]);this._estimatedSize+=e,t>=this.featureLimit&&(this._estimatedUnusedSize+=e)}return!0}if(this._estimatedUnusedSizeDirty){if(this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._features)for(let t=this.featureLimit;t<this._features.length;++t)this._estimatedUnusedSize+=f(this._features[t]);return!0}return!1}get isFetching(){return this.fetchStatus===c.FETCHING||this.fetchStatus===c.REFETCHING}get isRefetching(){return this.fetchStatus===c.REFETCHING}get needsFetching(){return this.fetchStatus===c.FETCH_NEEDED||this.fetchStatus===c.REFETCH_NEEDED}get needsRefetching(){return this.fetchStatus===c.REFETCH_NEEDED}get isFetched(){return this.fetchStatus===c.DONE||this.fetchStatus===c.FULL}resetFetching(){this.fetchStatus=this.fetchStatus===c.REFETCHING?c.REFETCH_NEEDED:c.FETCH_NEEDED}get needsDisplayUpdate(){return!!this._features&&!E(this._features,this.displayingFeatures,this.featureLimit)}intersects(t){return null==t||!this.descriptor.extent||(i(t,o),r(this.descriptor.extent,o))}intersectionIncludingBorrowed(t,e){const s=null!=this.extentIncludingBorrowedFeatures?this.extentIncludingBorrowedFeatures:this.descriptor.extent;return t||s?(null!=t?(i(t,e),h(e,s,e)):u(e,s),e):(u(e,a),e)}_shuffle(e){this._features&&(this._features.sort(((t,s)=>l(t,e)-l(s,e))),t(this._features,_),this._shuffled=!0,this._estimatedUnusedSizeDirty=!0)}reduceFeatures(t,e,s){if(t<=0)return!1;if(!this._features)return this.featureLimit=0,!1;let i=!1;this.featureLimit=Math.ceil(this.numFeatures*t),this.featureLimit>this._features.length&&(this.featureLimit=this._features.length,this.fetchStatus===c.DONE&&this._features.length>0&&(this.fetchStatus=c.REFETCH_NEEDED,i=!0)),!this._shuffled&&t<1&&this._shuffle(s);const r=Math.max(this.featureLimit,Math.ceil(e*this.numFeatures));return this._features.length>r&&(this._features.length=r,this._featuresLength.value=r,this.featuresMissing=!0,this.fetchStatus===c.FULL&&(this.fetchStatus=c.DONE)),i}get cache(){return{availableFields:this._availableFields,features:this._features,numFeatures:this._numFeatures,emptyFeatureRatio:this._emptyFeatureRatio.value,fetchStatus:this.fetchStatus,featuresMissing:this.featuresMissing}}set cache(t){this.requestController=null,this._availableFields=t.availableFields,this._features=t.features,this._featuresLength.value=t.features?.length??0,this._numFeatures=t.numFeatures,this._emptyFeatureRatio.value=t.emptyFeatureRatio,this.fetchStatus=t.fetchStatus,this.featuresMissing=t.featuresMissing,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0}}const F=-1,g=-2;var c;function E(t,e,s){if(null==e||null==t||s!==e.length||s>t.length)return!1;for(let i=0;i<s;++i)if(t[i]!==e[i])return!1;return!0}!function(t){t[t.FETCH_NEEDED=0]=\"FETCH_NEEDED\",t[t.REFETCH_NEEDED=1]=\"REFETCH_NEEDED\",t[t.FETCHING=2]=\"FETCHING\",t[t.REFETCHING=3]=\"REFETCHING\",t[t.DONE=4]=\"DONE\",t[t.FULL=5]=\"FULL\"}(c||(c={}));const o=s();export{m as FeatureTile,c as FetchStatus,g as failedFeatureCount};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import s from\"../../../../core/Logger.js\";import{someMap as i,getOrCreateMapValue as r}from\"../../../../core/MapUtils.js\";import{isAbortError as a,throwIfAborted as n}from\"../../../../core/promiseUtils.js\";import o from\"../../../../core/ReactiveMap.js\";import{on as u}from\"../../../../core/reactiveUtils.js\";import{schedule as l}from\"../../../../core/scheduling.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as c,equals as p,clone as f,expand as _,toExtent as m}from\"../../../../geometry/support/aaBoundingRect.js\";import{getObjectId as g,hasVertices as F}from\"../../../../layers/graphics/dehydratedFeatures.js\";import y from\"../../../../rest/support/QuantizationParameters.js\";import T from\"../../../../rest/support/Query.js\";import{ViewingMode as x}from\"../../../ViewingMode.js\";import{MultiFeatureReference as E,SingleFeatureReference as C}from\"./featureReference.js\";import{failedFeatureCount as b,FetchStatus as R,FeatureTile as v}from\"./FeatureTile.js\";import{tilesAreRelated as M}from\"../../terrain/tileUtils.js\";import{ImmediateTask as w,TaskPriority as D}from\"../../../support/Scheduler.js\";let j=class extends t{set maximumNumberOfFeatures(e){e=e||1/0;const t=this._get(\"maximumNumberOfFeatures\");e===t||e<1||(this._set(\"maximumNumberOfFeatures\",e),this._maximumFeaturesUpdated(t,e))}set memoryFactor(e){this.memoryFactor!==e&&(this._set(\"memoryFactor\",e),this._setDirty())}set lodFactor(e){this.lodFactor!==e&&(this._set(\"lodFactor\",e),this._supportsResolution&&this.refetch())}get useTileCount(){return this._useTileCount&&null!=this.context.query.queryFeatureCount}set useTileCount(e){this._useTileCount=e,this.notifyChange(\"useTileCount\")}get updating(){return this._dirty||!!this._pendingEdits||this._isFetching||(this.tileDescriptors?.updating??!1)}get memoryForUnusedFeatures(){let e=0;return this._featureTiles.forEach((t=>e+=t.estimatedUnusedSize)),e}get totalVertices(){let e=0;return this._featureTiles.forEach((t=>e+=t.numVertices)),e}get totalFeatures(){let e=0;return this._featureTiles.forEach((t=>e+=t.numFeatures)),e}get hasAllFeatures(){if(this._paused||this.dataUpdating)return!1;for(const[,e]of this._featureTiles)if(!this.hasFullGeometries&&0!==e.emptyFeatureRatio||!e.hasAllFeatures)return!1;return!0}get hasFullGeometries(){if(!this._supportsResolution)return!0;return!this.tileDescriptors.find((e=>null!=e.resolution))||!this.context.capabilities.supportsQuantization&&\"polyline\"!==this.context.geometryType}set filterExtent(e){if(null!=e&&this.context.tilingScheme&&!e.spatialReference.equals(this.context.tilingScheme.spatialReference))return void s.getLogger(this).error(\"#filterExtent=\",\"extent needs to be in the same spatial reference as the tiling scheme\");const t=this._get(\"filterExtent\");if(t===e||null!=t&&e&&t.equals(e))return;const i=null!=e?e.clone():null;this._set(\"filterExtent\",i),this._reclip(i,t)}constructor(e){super(e),this._useTileCount=!1,this.dataUpdating=!1,this.running=!1,this.updatingTotal=0,this.updatingRemaining=0,this.expectedFeatureDiff=0,this.maximumNumberOfFeaturesExceeded=!1,this._fullRatio=1,this._farRatio=1,this._changes={updates:{adds:new Array,removes:new Array},adds:new Array,removes:new Array},this._frameTask=w,this._dirty=!1,this._featureTiles=new o,this._displayingFeatureReferences=new Map,this._numDisplayingFeatureReferences=0,this._suspended=!0,this._pendingEdits=null,this._applyEditsTilesUpdated=!1,this._isFetching=!1}initialize(){this.addHandles(u((()=>this.tileDescriptors),\"change\",(()=>this._setDirty()),{sync:!0,onListenerAdd:()=>this._setDirty()})),this._objectIdField=this.context.objectIdField,this.FeatureReferenceClass=this.context.capabilities.supportsMultipleResolutions?E:C;const e=this.context.scheduler;null!=e&&(this._frameTask=e.registerTask(D.FEATURE_TILE_FETCHER,this)),this._setDirty()}destroy(){this._frameTask.remove(),this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._removeTile(e)})),this._featureTiles.clear(),this._displayingFeatureReferences.clear(),this._pendingEdits?.controller.abort(),this._pendingEdits=null}get _paused(){return this._suspended||!!this._pendingEdits}restart(){this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._clearTile(e),this._resetFetchTile(e)})),null!=this.context.memoryCache&&this.context.memoryCache.clear(),this._setDirty()}refetch(){this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._resetFetchTile(e)})),null!=this.context.memoryCache&&this.context.memoryCache.clear(),this._setDirty()}suspend(){this._suspended||(this._suspended=!0,this._pause(),this._setDirty())}resume(){this._suspended&&(this._suspended=!1,this._unpause())}getMissingAttributesForFeature(e){for(const[,t]of this._featureTiles){const s=t.missingAttributes?.get(e);if(null!=s)return s}}_pause(){this._paused&&(this._featureTiles.forEach((e=>this._cancelFetchTile(e))),this._updated())}_unpause(){this._paused||(this._setDirty(),this._updated())}get availableFields(){let e=null;return this._featureTiles.forEach((t=>{null!=t.displayingFeatures&&0!==t.displayingFeatures.length&&(null==e?e=new Set(t.availableFields):e.forEach((s=>{t.availableFields.has(s)||e.delete(s)})))})),null!=e?e:new Set}applyEdits(e){this._pendingEdits||(this._pendingEdits={edits:Promise.resolve(),count:0,controller:new AbortController},this._pause());const t=this._pendingEdits;t.count++;const s=t.edits.then((()=>e.result.catch((e=>{if(a(e))throw e;return null})).then((e=>e?(this._applyEditsDeleteFeatures(e.deletedFeatures),this._applyEditsAddUpdateFeatures(e.addedFeatures,e.updatedFeatures,t.controller.signal).then((()=>e))):e)).then((e=>(0==--t.count&&(this._pendingEdits===t&&(this._pendingEdits=null),null!=this.context.memoryCache&&this.context.memoryCache.clear(),this._applyEditsTilesUpdated=!1,this._unpause()),e)))));return t.edits=s,this._updated(),s}_applyEditsDeleteFeatures(e){if(0===e.length)return;const t=this.context.globalIdField,i=t&&this.availableFields.has(t),r=new Set,a=this._objectIdField;e.forEach((({objectId:e,globalId:n})=>{(!e||e<0)&&t&&n&&(i||s.getLogger(this).errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${t} to be included the layer's outFields for updates to be reflected in the view`),e=this._objectIdFromGlobalId(n,a,t)),null!=e&&e>=0&&r.add(e)})),this._featureTiles.forEach((e=>{if(!e.features)return;const t=e.features.filter((e=>!r.has(g(e,this._objectIdField))));t.length!==e.features.length&&(this._applyEditsTileUpdated(),e.setFeatures(t,0,e.availableFields,e.missingAttributes),this._invalidateCounts())}))}_objectIdFromGlobalId(e,t,s){if(null==e)return null;const i=this.features.find((t=>t.attributes?.[s]===e));return i?g(i,t):null}async _applyEditsAddUpdateFeatures(e,t,i){const{objectIdField:r,globalIdField:a}=this.context,n=a&&this.availableFields.has(a),o=new Set,u=new Set;for(const s of e){const e=s.objectId;null!=e&&o.add(e)}for(const{objectId:h,globalId:d}of t){let e=h;(null==e||e<0)&&a&&(n||s.getLogger(this).errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${a} to be included the layer's outFields for updates to be reflected in the view`),e=this._objectIdFromGlobalId(d,r,a)),null!=e&&e>=0&&(o.add(e),u.add(e))}if(0===o.size)return;const l=[];this._featureTiles.forEach((e=>{const t=this._applyEditsAddUpdateTile(e,o,u,i);t&&l.push(t)})),this._updated(),await Promise.allSettled(l)}async _applyEditsAddUpdateTile(e,t,s,i){if(!e.features)return;const r=this._createQuery(e);r.resultType=void 0,r.cacheHint=!1,r.objectIds=Array.from(t);const a=await this._queryFeatures(r,i);let n=null;if(s.size>0){const t=e.features.filter((e=>!s.has(g(e,this._objectIdField))));t.length!==e.features.length&&(n=t)}if(a.features.length>0){n||(n=e.features.slice());for(const e of a.features)n.push(e)}n&&(e.hasPreciseFeatureCount&&(e.numFeatures=Math.max(e.numFeatures,n.length)),this._applyEditsTileUpdated(),e.setFeatures(n,0,q(e.availableFields,a.fields),L(e.missingAttributes,a.missingAttributes)),this._invalidateCounts())}_applyEditsTileUpdated(){this._applyEditsTilesUpdated||(this._applyEditsTilesUpdated=!0,this._updated())}_queryFeatures(e,t){return this.context.query.queryFeaturesDehydrated(e,{signal:t,timeout:V})}_setDirty(){this._dirty=!0,this._updated()}runTask(e){const t=this._frameTask.processQueue(e);if(!this._dirty||!this.initialized)return t;this._dirty=!1;const s=this._getListOfTiles();if(this._markTilesNotAlive(s),!e.run((()=>this._addTiles(s,e)))||!e.run((()=>this._filterExtentTiles(s,e)))||!e.run((()=>this._removeTiles(s,e)))||e.done)return void this._setDirty();const i=this._sortTiles(s);e.run((()=>this._showTiles(i,e)))&&e.run((()=>this._fetchTiles(i,e)))&&e.run((()=>this._updateMemoryEstimates(i,e)))||this._setDirty(),this._updated(),this.updating||this._updateMaximumNumberOfFeaturesExceeded()}_markTilesNotAlive(e){for(const t of e)t.alive=!1}_addTiles(e,t){return!(this._suspended||!this.tileDescriptors)&&(this.tileDescriptors.forEach((s=>{const i=this._featureTiles.get(s.id);i?i.alive=!0:t.done||(e.push(this._addTile(s)),t.madeProgress())})),t.hasProgressed)}_filterExtentTiles(e,t){for(const s of e){if(t.done)break;s.alive&&(s.filtered=!s.intersects(this.filterExtent),s.filtered&&(this._clearTile(s),t.madeProgress()))}return t.hasProgressed}_removeTiles(e,t){for(let s=e.length-1;s>=0&&!t.done;s--){const i=e[s];i.alive||(this._removeTile(i),s!==e.length-1&&(e[s]=e[e.length-1]),e.pop(),t.madeProgress())}return t.hasProgressed}_sortTiles(e){return e.sort(((e,t)=>(e.descriptor.loadPriority??0)-(t.descriptor.loadPriority??0))),e}_showTiles(e,t){const s=this._updateRatio(e),i=e=>{const t=this._fullRatio<1?s(e)*this._farRatio:1;return e.reduceFeatures(t,this.memoryFactor,this._objectIdField)&&this._setDirty(),this._showTile(e)};for(const r of e)if(!t.run((()=>i(r)))){this._setDirty();break}return t.hasProgressed}_fetchTiles(e,t){if(this._paused)return!1;let i=!1;for(const s of e){if(!s.needsFetching)continue;const e=null!=this.context.memoryCache?this.context.memoryCache.pop(s.id):null;if(null==e){if(this._needsNumFeatures(s)){const e=new AbortController,r=this._fetchTileCount(s,e.signal);this._handleRequest(s,r,e,(()=>s.numFeatures=b)),i=!0,t.madeProgress()}if(t.done)return!0}else s.cache=e,this._setDirty(),this._scheduleUpdated(),t.madeProgress()}if(i)return t.hasProgressed;for(const r of e)if(r.needsFetching){const e=new AbortController,i=this._fetchTile(r,e.signal);if(this._handleRequest(r,i,e,(e=>{r.setFeatures([],0,null,void 0),this._invalidateCounts(),r.featuresMissing=!1,r.fetchFailed=!0,this.context.logFetchError(s.getLogger(this),e)})),t.madeProgress())return!0}return t.hasProgressed}_updateMemoryEstimates(e,t){return e.some((e=>!t.run((()=>e.updateMemoryEstimates()))&&(this._setDirty(),!0))),t.hasProgressed}_reclip(e,t){if(!this.initialized)return;const s=new Array;this._featureTiles.forEach((i=>{null!=i.displayingFeatures&&0!==i.displayingFeatures.length&&(i.intersectionIncludingBorrowed(t,Q),i.intersectionIncludingBorrowed(e,H),p(Q,H)||s.push(i))})),this._refreshDisplayingFeatures(s),this._updated()}_refreshDisplayingFeatures(e){const t=new Set,s=this._changes.updates;for(const i of e)if(null!=i.displayingFeatures)for(const e of i.displayingFeatures){const i=g(e,this._objectIdField);if(t.has(i))continue;t.add(i);const r=this._displayingFeatureReferences.get(i).feature;s.removes.push(r),s.adds.push(r)}this._applyChanges()}_updated(){let e=0;if(this._paused||this._featureTiles.forEach((t=>t.isFetching?++e:0)),this._isFetching=e>0,this._set(\"running\",this._dirty),e>0||this._applyEditsTilesUpdated?this._set(\"dataUpdating\",!0):this._dirty||this._set(\"dataUpdating\",!1),this.updating){let t=0,s=0,i=0,r=0,a=0;const n=this._displayingFeatureReferences.size/this._numDisplayingFeatureReferences;this._featureTiles.forEach((e=>{if(++s,e.isFetching&&e.hasPreciseFeatureCount){const t=this._maximumFeaturesForTile(e)*(1-e.emptyFeatureRatio),s=null!=e.displayingFeatures?e.displayingFeatures.length*n:0;a+=t-s}e.needsFetching?++r:e.numFeatures>0&&(++i,t+=e.numFeatures)})),r+=e;let o=0,u=0;t?(u=t,o=Math.min(r*t/i,t)):(u=s,o=r),a=Math.min(this.maximumNumberOfFeatures-this.features.length,a),this._set(\"updatingTotal\",u),this._set(\"updatingRemaining\",o),this._set(\"expectedFeatureDiff\",a)}else this._set(\"updatingTotal\",0),this._set(\"updatingRemaining\",0),this._set(\"expectedFeatureDiff\",0);this.debugger&&this.debugger.update()}_updateMaximumNumberOfFeaturesExceeded(){const e=i(this._featureTiles,(e=>e.perTileMaximumNumberOfFeaturesExceeded));this._set(\"maximumNumberOfFeaturesExceeded\",e)}_updateRatio(e){const t=U(e),s=e=>1/(1<<Math.max(0,t-e.descriptor.lij[0]));let i=0,r=0;for(const a of e){const e=a.numFeatures;i+=e,r+=e*s(a)}return this._fullRatio=Math.min(1,this.maximumNumberOfFeatures/i),this._farRatio=this.maximumNumberOfFeatures/r,this._scheduleUpdated(),s}_maximumFeaturesUpdated(e,t){e!==t&&(t>e&&this._featureTiles.forEach((e=>{if(!e.featuresMissing)return;const t=this._maximumFeaturesForTile(e);e.features&&(e.features.length>=t||e.fetchStatus===R.FULL)||(this._cancelFetchTile(e),this._resetFetchTile(e))})),this._setDirty())}_addTile(e){const t=new v(e);return this._featureTiles.set(t.id,t),this._resetFetchTile(t),this._referenceDisplayingFeaturesFromRelatedTiles(t),t}_referenceDisplayingFeaturesFromRelatedTiles(e){const t=e.descriptor.resolution;this._featureTiles.forEach((s=>{if(!(null==s.displayingFeatures||e===s||e.descriptor.lij&&s.descriptor.lij&&!M(e.descriptor.lij,s.descriptor.lij))){null==e.displayingFeatures&&(e.displayingFeatures=[]),e.descriptor.extent&&s.descriptor.extent&&(null==e.extentIncludingBorrowedFeatures&&(e.extentIncludingBorrowedFeatures=f(e.descriptor.extent)),_(e.extentIncludingBorrowedFeatures,s.descriptor.extent,e.extentIncludingBorrowedFeatures));for(const i of s.displayingFeatures){e.displayingFeatures.push(i);const s=this._displayingFeatureReferences.get(g(i,this._objectIdField));s.ref(s.feature,t),this._numDisplayingFeatureReferences++}}})),e.featureLimit=null!=e.displayingFeatures?e.displayingFeatures.length:0}_removeTile(e){this._clearTile(e),this._featureTiles.delete(e.id)}_resetFetchTile(e){e.filtered=!e.intersects(this.filterExtent),e.filtered?e.needsFetching&&(e.fetchStatus=R.DONE):e.fetchStatus=R.FETCH_NEEDED}_cancelFetchTile(e){const t=e.requestController;null!=t&&(e.requestController=null,e.resetFetching(),t.abort())}async _fetchTileCount(e,t){return e.numFeatures=await this._fetchCount(e,t),this._updateRatio(this._getListOfTiles()),e.fetchStatus===R.REFETCHING?R.REFETCH_NEEDED:R.FETCH_NEEDED}async _fetchTile(e,t){e.fetchFailed=!1;const s=this._maximumFeaturesForTile(e);if(s<=0)return e.hasPreciseFeatureCount&&0===e.numFeatures||(e.fetchFailed=!0),A(e);const i=this._getMaxRecordCount(e),r=Math.ceil(s/i);if(O(e)||!this.context.capabilities.supportsMaxRecordCountFactor||e.numFeatures<=s&&r>T.MAX_MAX_RECORD_COUNT_FACTOR)return this._fetchPagedTile(e,t);const a=this._createQuery(e);if(a.maxRecordCountFactor=Math.ceil(s/i),e.isRefetching&&e.features&&e.features.length>0){const t=Math.ceil(e.features.length/(1-e.emptyFeatureRatio)/i);a.maxRecordCountFactor=Math.max(t+1,a.maxRecordCountFactor)}const{features:o,exceededTransferLimit:u,fields:l,missingAttributes:h}=await this._queryFeatures(a,t),d=u?a.maxRecordCountFactor>=T.MAX_MAX_RECORD_COUNT_FACTOR?R.FULL:R.DONE:R.FULL;return await this._frameTask.schedule((()=>{e.featuresMissing=e.hasPreciseFeatureCount&&o.length<e.numFeatures||!!u;const t=this._removeEmptyFeatures(o);e.setFeatures(o,t,N(l),L(void 0,h))}),t),n(t),this._invalidateCounts(),d}async _fetchCount(e,t){return this.context.query.queryFeatureCount(this._createFeatureCountQuery(e),{signal:t})}async _fetchPagedTile(e,t){let s,i=0,r=0,a=0,o=this._maximumFeaturesForTile(e)-a;const u=this._getMaxRecordCount(e);let l,h=null;for(;;){const d=this._createQuery(e),c=this._setPagingParameters(d,i,o,u),{features:p,exceededTransferLimit:f,fields:_,missingAttributes:m}=await this._queryFeatures(d,t);if(await this._frameTask.schedule((()=>{c&&(i+=d.num),a+=p.length,r+=this._removeEmptyFeatures(p),e.featuresMissing=c&&e.hasPreciseFeatureCount&&i<e.numFeatures||!!f,s=s?s.concat(p):p,h=q(h,_),l=L(l,m),e.setFeatures(s,r,h,l)}),t),n(t),this._invalidateCounts(),this._setDirty(),o=this._maximumFeaturesForTile(e)-a,!c||!f||o<=0)return f?R.DONE:R.FULL}}_createFeatureCountQuery(e){const t=this._createQuery(e);return this.context.capabilities.supportsCacheHint&&(t.resultType=void 0,t.cacheHint=!0),t}_createQuery(e){const t=this.context.createQuery(),s=e.descriptor.extent;if(s){const e=this.context.tilingScheme.spatialReference;t.geometry=m(s,e)}return this._setResolutionParams(t,e),this._useTileQuery(e)?t.resultType=\"tile\":this.context.capabilities.supportsCacheHint&&(t.cacheHint=!0),t}_setPagingParameters(e,t,s,i){return!!this.context.capabilities.supportsPagination&&(e.start=t,s>0&&this.context.capabilities.supportsMaxRecordCountFactor?(e.maxRecordCountFactor=Math.ceil(s/i),e.num=Math.min(e.maxRecordCountFactor*i,s)):e.num=Math.min(i),!0)}_getEffectiveTileResolution(e){if(null==e.descriptor.resolution)return null;const t=this.context.viewingMode===x.Global?this.context.tilingScheme.resolutionAtLevel(3):1/0;return Math.min(e.descriptor.resolution,t)/this.lodFactor}get _supportsResolution(){return this.context.capabilities.supportsMultipleResolutions&&\"point\"!==this.context.geometryType}_setResolutionParams(e,t){if(!this._supportsResolution)return;const s=this._getEffectiveTileResolution(t);null!=s&&(this.context.capabilities.supportsQuantization?e.quantizationParameters=new y({mode:\"view\",originPosition:\"upper-left\",tolerance:s,extent:this.context.fullExtent}):\"polyline\"===this.context.geometryType&&(e.maxAllowableOffset=s))}_removeEmptyFeatures(e){const t=e.length;for(let s=0;s<e.length;){const t=e[s];F(t.geometry)?++s:(e[s]=e[e.length-1],--e.length)}return t-e.length}_needsNumFeatures(e){return this.useTileCount&&e.needsFeatureCount&&!O(e)}_getMaxRecordCount(e){const{tileMaxRecordCount:t,maxRecordCount:s}=this.context;return this._useTileQuery(e)&&null!=t&&t>0&&this.context.capabilities.supportsResultType?t:null!=s&&s>0?s:S}_useTileQuery(e){return(!O(e)||!this.context.capabilities.supportsCacheHint)&&this.context.capabilities.supportsResultType}_handleRequest(e,t,s,i){e.fetchStatus=e.needsRefetching?R.REFETCHING:R.FETCHING,e.requestController=s;let r=!1;t.then((t=>{e.requestController=null,e.fetchStatus=t})).catch((t=>{e.requestController===s&&(e.requestController=null,e.fetchStatus=R.DONE),a(t)?r=!0:i(t)})).then((()=>{r||this._setDirty(),this._scheduleUpdated()}))}_scheduleUpdated(){this.hasHandles(\"scheduleUpdated\")||this.addHandles(l((()=>{this.removeHandles(\"scheduleUpdated\"),this._updated()})),\"scheduleUpdated\")}_showTile(e){if(null!=e.displayingFeatures&&!e.needsDisplayUpdate)return!1;const t=e.features;if(0===e.featureLimit||!t){const t=null!=e.displayingFeatures&&e.displayingFeatures.length>0;return this._hideTileFeatures(e),e.displayingFeatures=[],t}const s=e.descriptor.resolution,i=this._changes.updates,r=this._changes.adds,a=Math.min(e.featureLimit,t.length);e.featureLimit=a;for(let n=0;n<a;++n){const e=t[n],a=g(e,this._objectIdField),o=this._displayingFeatureReferences.get(a);if(o){const t=o.ref(e,s);t.oldVersion!==t.newVersion&&(t.oldVersion&&i.removes.push(t.oldVersion),t.newVersion&&i.adds.push(t.newVersion))}else this._displayingFeatureReferences.set(a,new this.FeatureReferenceClass(e,s)),r.push(e);this._numDisplayingFeatureReferences++}return this._hideTileFeatures(e),this._applyChanges(),e.displayingFeatures=t.slice(0,a),!0}_hideTile(e){this._cancelFetchTile(e),this._hideTileFeatures(e)}_hideTileFeatures(e){if(null==e.displayingFeatures)return;const t=this._changes.updates,s=this._changes.removes;for(const i of e.displayingFeatures){const r=g(i,this._objectIdField),a=this._displayingFeatureReferences.get(r);if(!a)continue;const n=a.unref(e.descriptor.resolution);this._numDisplayingFeatureReferences--,n?n.oldVersion!==n.newVersion&&(null==n.newVersion?(this._displayingFeatureReferences.delete(r),n.oldVersion&&s.push(n.oldVersion)):(t.adds.push(n.newVersion),n.oldVersion&&t.removes.push(n.oldVersion))):console.error(\"Hiding unreferenced feature\")}this._applyChanges(),e.displayingFeatures=null}_applyChanges(){const e=this._changes.updates;e.removes.length>0&&(this.features.removeMany(e.removes),e.removes.length=0),e.adds.length>0&&(this.features.addMany(e.adds),e.adds.length=0);const t=this._changes.adds,s=this._changes.removes,i=Math.min(t.length,s.length);let r=0;for(;r<i;){const e=Math.min(r+z,i);this.features.addMany(t.slice(r,e)),this.features.removeMany(s.slice(r,e)),r=e}t.length>i&&this.features.addMany(0===r?t:t.slice(r)),s.length>i&&this.features.removeMany(0===r?s:s.slice(r)),t.length=0,s.length=0}_clearTile(e){if(this._hideTile(e),e.features&&null!=this.context.memoryCache){const t=16+e.estimatedSize;this.context.memoryCache.put(e.id,e.cache,t)}e.setFeatures(null,0,null,void 0),this._invalidateCounts()}_invalidateCounts(){this.notifyChange(\"totalVertices\"),this.notifyChange(\"totalFeatures\"),this.notifyChange(\"memoryForUnusedFeatures\")}_getListOfTiles(){return Array.from(this._featureTiles.values())}get storedFeatures(){return this._getListOfTiles().reduce(((e,t)=>e+(t.features?t.features.length:0)),0)}get missingTiles(){return Array.from(this._featureTiles.values()).reduce(((e,t)=>e+(t.needsFetching||t.isFetching?1:0)),0)}_maximumFeaturesForTile(e){const t=e.hasPreciseFeatureCount?e.numFeatures:1/0,s=e.hasPreciseFeatureCount?t:this.maximumNumberOfFeatures,i=this._fullRatio<1?this._farRatio:1;return Math.min(Math.ceil(s*i/(1-e.emptyFeatureRatio)),t)}get test(){return{process:e=>this.runTask(e),getFeatureTileById:e=>this._featureTiles.get(e),forEachFeatureTile:e=>this._featureTiles.forEach(e)}}};function O(e){return\"dummy-tile-full-extent\"===e.id}function U(e){let t=0;for(const s of e)s.features&&s.features.length>0&&s.alive&&(t=Math.max(t,s.descriptor.lij[0]));return t}function P(e){const t=e.capabilities.query;return{supportsMultipleResolutions:I(e),supportsPagination:!(!t||!t.supportsPagination),supportsResultType:!(!t||!t.supportsResultType),supportsCacheHint:!(!t||!t.supportsCacheHint),supportsQuantization:!(!t||!t.supportsQuantization),supportsQuantizationEditMode:!(!t||!t.supportsQuantizationEditMode),supportsMaxRecordCountFactor:!(!t||!t.supportsMaxRecordCountFactor),supportsFormatPBF:!(!t||!t.supportsFormatPBF)}}function I(e){switch(e.geometryType){case\"polyline\":return!0;case\"polygon\":return e.capabilities&&e.capabilities.query&&e.capabilities.query.supportsQuantization;default:return!1}}function A(e){return e.setFeatures([],0,null,void 0),e.featuresMissing=!1,R.DONE}function N(e){return null==e?new Set:new Set(e.map((e=>e.name)))}function q(e,t){if(null==e||null==t)return N(t);const s=new Set;for(const{name:i}of t)e.has(i)&&s.add(i);return s}function L(e,t){if(!t?.length)return e;e??=new Map;const s=()=>new Set;for(const{objectId:i,attribute:a}of t)r(e,i,s).add(a);return e}e([h({constructOnly:!0})],j.prototype,\"features\",void 0),e([h()],j.prototype,\"tileDescriptors\",void 0),e([h({value:1/0})],j.prototype,\"maximumNumberOfFeatures\",null),e([h({value:1})],j.prototype,\"memoryFactor\",null),e([h({value:1})],j.prototype,\"lodFactor\",null),e([h()],j.prototype,\"useTileCount\",null),e([h({readOnly:!0})],j.prototype,\"updating\",null),e([h({readOnly:!0})],j.prototype,\"dataUpdating\",void 0),e([h({readOnly:!0})],j.prototype,\"running\",void 0),e([h({readOnly:!0})],j.prototype,\"updatingTotal\",void 0),e([h({readOnly:!0})],j.prototype,\"updatingRemaining\",void 0),e([h({readOnly:!0})],j.prototype,\"expectedFeatureDiff\",void 0),e([h({readOnly:!0})],j.prototype,\"memoryForUnusedFeatures\",null),e([h({readOnly:!0})],j.prototype,\"maximumNumberOfFeaturesExceeded\",void 0),e([h({readOnly:!0})],j.prototype,\"totalVertices\",null),e([h({readOnly:!0})],j.prototype,\"totalFeatures\",null),e([h({readOnly:!0})],j.prototype,\"hasAllFeatures\",null),e([h({readOnly:!0})],j.prototype,\"hasFullGeometries\",null),e([h()],j.prototype,\"filterExtent\",null),e([h({constructOnly:!0})],j.prototype,\"context\",void 0),e([h()],j.prototype,\"_dirty\",void 0),e([h()],j.prototype,\"_suspended\",void 0),e([h()],j.prototype,\"_pendingEdits\",void 0),e([h()],j.prototype,\"_applyEditsTilesUpdated\",void 0),e([h()],j.prototype,\"_paused\",null),e([h()],j.prototype,\"_isFetching\",void 0),j=e([d(\"esri.views.3d.layers.support.FeatureTileFetcher3D\")],j);const S=2e3,Q=c(),H=c(),V=6e5,z=200;export{j as FeatureTileFetcher3D,P as contextCapabilitiesFromLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Graphic.js\";import\"../../../../symbols.js\";import t from\"../../../../core/Collection.js\";import i from\"../../../../geometry/Polygon.js\";import s from\"../../../../symbols/FillSymbol3DLayer.js\";import o from\"../../../../symbols/PointSymbol3D.js\";import r from\"../../../../symbols/PolygonSymbol3D.js\";import a from\"../../../../symbols/TextSymbol3DLayer.js\";import l from\"../../../../symbols/support/Symbol3DVerticalOffset.js\";import{TilingScheme as h}from\"../../terrain/TilingScheme.js\";import n from\"../../../../symbols/callouts/LineCallout3D.js\";const c=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];class m{constructor(e,i,o){this._loadingGraphics=new Map,this._loadedGraphics=new Map,this._pendingGraphics=new Map,this._dataExtentGraphic=null,this._enabled=!0,this._tileFetcher=e,this._view=o,this._tilingScheme=new h(i),this._loadedSymbols=c.map((e=>new r({symbolLayers:new t([new s({material:{color:[e[0],e[1],e[2],.6]},outline:{color:\"black\",size:1}})])}))),this._loadingSymbols=[new r({symbolLayers:new t([new s({material:{color:[200,200,200,.4]},outline:{color:[30,30,30],size:1}})])})],this._pendingSymbols=[new r({symbolLayers:new t([new s({material:{color:[100,100,100,.4]},outline:{color:[30,30,30],size:1}})])})],this._dataExtentSymbol=new r({symbolLayers:new t([new s({material:{color:[0,0,0,0]},outline:{color:\"green\",size:4}})])})}destroy(){this.enabled=!1}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}update(){this._enabled?(this._synchronizeMaps(this._loadingGraphics,{filter:e=>e.isFetching,symbols:this._loadingSymbols}),this._synchronizeMaps(this._loadedGraphics,{filter:e=>!e.isFetching,symbols:this._loadedSymbols}),this._synchronizeMaps(this._pendingGraphics,{filter:e=>!e.isFetching,symbols:this._pendingSymbols}),this.showDataExtent(this._tileFetcher.filterExtent)):(this._loadingGraphics.forEach((e=>{this._view.graphics.removeMany(e)})),this._loadingGraphics.clear(),this._loadedGraphics.forEach((e=>{this._view.graphics.removeMany(e)})),this._loadedGraphics.clear(),this._pendingGraphics.forEach((e=>{this._view.graphics.removeMany(e)})),this._pendingGraphics.clear(),this._dataExtentGraphic&&(this._view.graphics.remove(this._dataExtentGraphic),this._dataExtentGraphic=null))}showDataExtent(t){if(this._dataExtentGraphic&&(this._view.graphics.remove(this._dataExtentGraphic),this._dataExtentGraphic=null),null==t)return;const s=i.fromExtent(t);this._dataExtentGraphic=new e({geometry:s,symbol:this._dataExtentSymbol}),this._view.graphics.add(this._dataExtentGraphic)}_synchronizeMaps(i,s){const r=[];i.forEach(((e,t)=>{const i=this._tileFetcher.test.getFeatureTileById(t);i&&s.filter(i)||(this._view.graphics.removeMany(e),r.push(t))})),r.forEach((e=>i.delete(e))),this._tileFetcher.test.forEachFeatureTile((r=>{if(s.filter(r)&&!i.has(r.id)){const[h,c,m]=r.descriptor.lij;this._tilingScheme.ensureMaxLod(h);const p=this._tilingScheme.getExtentGeometry(h,c,m),y=[new e({geometry:p,symbol:s.symbols[h%s.symbols.length]}),new e({geometry:p.center,symbol:new o({verticalOffset:new l({screenLength:40/.75}),callout:new n({color:\"white\",border:{color:\"black\"}}),symbolLayers:new t([new a({text:`${h}/${c}/${m}`,halo:{color:\"white\",size:1/.75},material:{color:\"black\"},size:16})])})})];i.set(r.id,y),this._view.graphics.addMany(y)}}))}}export{m as FeatureTileFetcher3DDebugger};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{result as i}from\"../../../core/asyncUtils.js\";import r from\"../../../core/Collection.js\";import has from\"../../../core/has.js\";import s from\"../../../core/Error.js\";import{clone as a}from\"../../../core/lang.js\";import o from\"../../../core/Logger.js\";import{destroyMaybe as l,removeMaybe as n,abortMaybe as u}from\"../../../core/maybe.js\";import{EsriPromiseMixin as h}from\"../../../core/Promise.js\";import{createAbortError as c,isAbortError as d}from\"../../../core/promiseUtils.js\";import{initial as p,whenOnce as m,watch as f,syncAndInitial as y,sync as _}from\"../../../core/reactiveUtils.js\";import{property as g}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as F}from\"../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as x}from\"../../../core/support/UpdatingHandles.js\";import{isHostedAgolService as v}from\"../../support/arcgisLayerUrl.js\";import{getEffectiveLayerCapabilities as D}from\"../../support/layerUtils.js\";import{projectGeometry as b}from\"../../../portal/support/geometryServiceUtils.js\";import C from\"../../../rest/support/StatisticDefinition.js\";import{FeatureTileFetcher3D as w}from\"../../../views/3d/layers/support/FeatureTileFetcher3D.js\";import{FeatureTileFetcher3DDebugger as S}from\"../../../views/3d/layers/support/FeatureTileFetcher3DDebugger.js\";import{debugFlags as E}from\"../../../views/3d/support/debugFlags.js\";let T=class extends(h(t)){get dataUpdating(){return this._tileFetcher?.dataUpdating??!1}set extent(e){if(null!=e&&!e.spatialReference.equals(this.layerView.view.spatialReference))return void o.getLogger(this).error(\"#extent=\",\"extent needs to be in the same spatial reference as the view\");const t=this._get(\"extent\");if(t===e)return;if(null!=t&&e&&t.equals(e))return;const i=null!=e?e.clone():null;this._set(\"extent\",i)}get updating(){return!!(null!=this._tileFetcher&&this._tileFetcher.updating||null!=this._fetchDataInfoPromise||\"tiles\"===this.mode&&this.layerView.view.featureTiles&&this.layerView.view.featureTiles.updating||this._updatingHandles&&this._updatingHandles.updating)}get updatingTotal(){return this.updating&&null!=this._tileFetcher?this._tileFetcher.updatingTotal:0}get updatingRemaining(){return this.updating&&null!=this._tileFetcher?this._tileFetcher.updatingRemaining:0}get expectedFeatureDiff(){return this.updating&&null!=this._tileFetcher?this._tileFetcher.expectedFeatureDiff:0}get memoryForUnusedFeatures(){return null!=this._tileFetcher?this._tileFetcher.memoryForUnusedFeatures:0}get maximumNumberOfFeaturesExceeded(){return!(null==this._tileFetcher||!this._tileFetcher.maximumNumberOfFeaturesExceeded)}get maximumNumberOfFeatures(){return this.displayFeatureLimit?.maximumNumberOfFeatures??0}set maximumNumberOfFeatures(e){e!==this.maximumNumberOfFeatures&&this._overrideIfSome(\"maximumNumberOfFeatures\",e)}get hasMaximumNumberOfFeaturesOverride(){return this._isOverridden(\"maximumNumberOfFeatures\")}get hasAllFeatures(){return this.serviceDataCount===q.noServiceDataCount&&\"snapshot\"===this.mode&&this.hasAllFeaturesInView||this.serviceDataCount===this.graphics.length}get hasAllFeaturesInView(){return this._tileFetcher?.hasAllFeatures??!1}get hasFullGeometries(){return this._tileFetcher?.hasFullGeometries??!1}get mode(){const e=this.layerView.layer;if(\"feature\"===e.type&&null!=e.infoFor3D)return\"snapshot\";if(this._forceTilesMode)return\"tiles\";const t=this.layerView.view;if(!1===t.qualitySettings?.graphics3D?.snapshotAvailable||this.serviceDataCount===q.noServiceDataCount||this._snapshotLimitExceeded||this.maximumNumberOfFeaturesExceeded||t.quality<1)return\"tiles\";const i=t&&t.featureTiles,r=i&&i.tilingScheme;if(e&&e.minScale&&this.serviceDataExtent&&r){const t=this._approximateExtentSizeAtScale(e.minScale,r);if((this.serviceDataExtent.width/t+this.serviceDataExtent.height/t)/2>q.maxSnapshotMinScaleFactor)return\"tiles\"}return!this.maximumNumberOfFeatures||this.serviceDataCount<=this.maximumNumberOfFeatures?\"snapshot\":\"tiles\"}get maxTotalSnapshotVertices(){const e=this._get(\"maxTotalSnapshotVertices\")||0,t=\"snapshot\"===this.mode&&this._tileFetcher?.totalVertices||0;return Math.max(e,t)}_approximateExtentSizeAtScale(e,t){const i=this.layerView.view,r=Math.ceil((i.width/t.pixelSize+i.height/t.pixelSize)/2),s=t.levels[0];return r*((s.tileSize[0]/(s.scale/e)+s.tileSize[1]/(s.scale/e))/2)}get tileDescriptors(){const e=this.layerView.view.featureTiles;return\"snapshot\"===this.mode?new r([{id:\"dummy-tile-full-extent\",lij:[0,0,0]}]):e?e.tiles:new r}get test(){return{fetchDataInfoPromise:this._fetchDataInfoPromise,tileFetcher:this._tileFetcher}}constructor(e){super(e),this.type=\"feature-tile-3d\",this._updatingHandles=new x,this.serviceDataExtent=null,this.serviceDataCount=q.noServiceDataCount,this._snapshotLimitExceeded=!1,this.displayFeatureLimit=null,this._forceTilesMode=!1,this._suspended=!1,this._tileFetcher=null,this._fetchDataInfoPromise=null,this._fetchDataInfoAbortController=null,this._lifeCycleAbortController=new AbortController}initialize(){this._updatingHandles.add((()=>this.displayFeatureLimit),(e=>this._updatingHandles.addPromise(this._updateSnapshotLimit(e,null,this._lifeCycleAbortController.signal)))),this._updatingHandles.add((()=>this.mode),(()=>this._modeChanged()),p),this._updatingHandles.add((()=>this.mode),((e,t)=>{\"tiles\"===e&&\"snapshot\"===t&&(this._forceTilesMode=!0)}),p),this.addResolvingPromise(Promise.resolve().then((()=>this._verifyCapabilities())).then((()=>this._updatingHandles.addPromise(this._fetchServiceDataInfo()))).then((()=>this._initializeTileFetcher())))}_verifyCapabilities(){const e=this.layerView.layer;if(\"ogc-feature\"!==e.type&&!D(e)?.operations.supportsQuery)throw new s(\"graphicscontroller:query-capability-required\",\"Service requires query capabilities to be used as a feature layer\",{layer:e})}destroy(){this._cancelFetchServiceDataInfo(),this._tileFetcher=l(this._tileFetcher),this._tilesHandle=n(this._tilesHandle),this._lifeCycleAbortController=u(this._lifeCycleAbortController),this._updatingHandles.destroy(),this._set(\"_updatingHandles\",null)}suspend(){this._suspended||(this._suspended=!0,null!=this._tileFetcher&&this._tileFetcher.suspend())}resume(){this._suspended&&(this._suspended=!1,null!=this._tileFetcher&&this._tileFetcher.resume())}restart(){const e=()=>{null!=this._tileFetcher&&this._tileFetcher.restart()};this._updatingHandles.addPromise(this._fetchServiceDataInfo().then(e,e))}refetch(){this._refetch({resetForceTilesMode:!1})}getMissingAttributesForFeature(e){return this._tileFetcher?.getMissingAttributesForFeature(e)}_refetch(e){const t=()=>{null!=this._tileFetcher&&(e.resetForceTilesMode&&(this._forceTilesMode=!1),this._tileFetcher.refetch())};this._updatingHandles.addPromise(this._fetchServiceDataInfo().then(t,t))}_initializeTileFetcher(){const e=this.layerView.view;if(!e)return;const t=m((()=>e.featureTiles?.tilingScheme),this._lifeCycleAbortController.signal);this._updatingHandles.addPromise(t),t.then((()=>{const{layerView:e,tileDescriptors:t}=this,i=e.layer,r=new w({context:this.context,filterExtent:this.extent,tileDescriptors:t,features:this.graphics});this._tileFetcher=r,this._suspended?r.suspend():r.resume();const s=this.layerView.view;s&&this.addHandles(f((()=>s.quality),(e=>r.memoryFactor=e),y));const a=\"polygon\"===this.context.geometryType?\"polygonLodFactor\":\"polyline\"===this.context.geometryType?\"polylineLodFactor\":null;a&&this.addHandles(f((()=>this.layerView.view?.qualitySettings?.graphics3D?.[a]),(e=>r.lodFactor=e||1),p));const o=e=>{r.maximumNumberOfFeatures=e,r.useTileCount=this.serviceDataCount>e},l=e=>{r.useTileCount=e>this.maximumNumberOfFeatures};\"ogc-feature\"!==i.type&&this._updatingHandles.add((()=>i.createQueryVersion),(()=>this._dataFilterChanged())),this._updatingHandles.add((()=>e.availableFields),((e,t)=>this._availableFieldsChanged(t,e))),this._updatingHandles.add((()=>e.requiredFields),((e,t)=>this._requiredFieldsChanged(t,e))),\"customParameters\"in i&&this._updatingHandles.add((()=>i.customParameters),(()=>this.restart())),this.addHandles([i.on(\"apply-edits\",(e=>this._applyEdits(e))),f((()=>this.extent),(e=>r.filterExtent=e),_),f((()=>this.tileDescriptors),(e=>r.tileDescriptors=e),_),f((()=>this.maximumNumberOfFeatures),o,y),f((()=>this.serviceDataCount),l,y),f((()=>E.FEATURE_TILE_FETCH_SHOW_TILES),(e=>{e&&r&&!r.debugger?(r.debugger=new S(r,s.featureTiles.tilingScheme.toTileInfo(),s),r.debugger.update()):!e&&this._tileFetcher&&r.debugger&&(r.debugger.destroy(),r.debugger=null)}),y)]),this._supportsExceedsLimitQuery||this._updatingHandles.add((()=>this.maxTotalSnapshotVertices),(()=>this._updatingHandles.addPromise(this._updateSnapshotLimit(this.displayFeatureLimit,null,this._lifeCycleAbortController.signal))))})).catch((()=>{}))}_modeChanged(){switch(this.mode){case\"tiles\":this._tilesHandle||(this._tilesHandle=this.layerView.view.featureTiles.addClient());break;default:o.getLogger(this).warn(\"Unhandled feature layer mode \"+this.mode);case\"snapshot\":null!=this._tilesHandle&&(this._tilesHandle.remove(),this._tilesHandle=null)}}_dataFilterChanged(){this._set(\"maxTotalSnapshotVertices\",0),this.notifyChange(\"maxTotalSnapshotVertices\"),this._refetch({resetForceTilesMode:!0})}_applyEdits(e){null!=this._tileFetcher&&this._tileFetcher.applyEdits(e).then((e=>{if(e){if(!this._lifeCycleAbortController)throw c();e.exceededTransferLimit?this.layerView.layer.refresh():(e.deletedFeatures.length||e.updatedFeatures.length||e.addedFeatures.length)&&this._updatingHandles.addPromise(this._updateServiceDataExtent(this._lifeCycleAbortController.signal))}})).catch((e=>{if(!d(e))throw e}))}_availableFieldsChanged(e,t){null!=this._tileFetcher&&A(this._tileFetcher.availableFields,t)&&this._refetch({resetForceTilesMode:!1})}_requiredFieldsChanged(e,t){null!=this._tileFetcher&&A(this._tileFetcher.availableFields,t)&&this.restart()}_createVertexLimitExceededQuery(e){const t=this.layerView.layer,i=t.createQuery();return i.returnGeometry=!1,i.outStatistics=[new C({statisticType:\"exceedslimit\",maxVertexCount:e,outStatisticFieldName:\"exceedslimit\",maxPointCount:1e8,maxRecordCount:1e8})],t.capabilities?.query.supportsCacheHint&&(i.cacheHint=!0),i}_createDataInfoQuery(){const e=this.layerView.layer,t=e.createQuery();return t.returnGeometry=!1,t.outSpatialReference=this.layerView.view.spatialReference,e.capabilities?.query.supportsCacheHint&&(t.cacheHint=!0),t}_fullExtentIsAccurate(){const e=this.layerView.layer;if(\"definitionExpression\"in e&&e.definitionExpression)return!1;switch(e.type){case\"feature\":case\"oriented-imagery\":return v(e.url);case\"csv\":case\"geojson\":case\"ogc-feature\":case\"wfs\":return!0;default:return}}async _updateServiceDataExtent(e){try{await this._tryUpdateServiceDataExtent(e)}catch(t){d(t)||this._set(\"serviceDataExtent\",a(this.layerView.fullExtentInLocalViewSpatialReference))}}async _tryUpdateServiceDataExtent(e){const t=this.layerView,i=t.layer,r=i.capabilities?.query.supportsExtent??!1,s=a(t.fullExtentInLocalViewSpatialReference),o=i.fullExtent,l=this._fullExtentIsAccurate(),n=this.serviceDataCount;if(r&&n<=q.maxFeatureCountForExtent&&(!s||!l)&&\"queryExtent\"in i){const t=this._createDataInfoQuery(),r=await i.queryExtent(t,{timeout:q.queryExtentTimeout,signal:e});this._set(\"serviceDataExtent\",r.extent)}else if(s)this._set(\"serviceDataExtent\",s);else if(null!=o){const r=\"portalItem\"in i?i.portalItem:null,s=await b(o,t.view.spatialReference,r,e);this._set(\"serviceDataExtent\",s)}else this._set(\"serviceDataExtent\",null)}async _updateServiceDataCount(e){const t=this.layerView.layer;if(!(\"queryFeatureCount\"in t)||!has(\"featurelayer-snapshot-enabled\"))return void this._set(\"serviceDataCount\",q.noServiceDataCount);const r=await i(t.queryFeatureCount(this._createDataInfoQuery(),{timeout:q.queryStatisticsTimeout,signal:e}));if(!0===r.ok)this._set(\"serviceDataCount\",r.value);else{if(d(r.error))throw r.error;this._set(\"serviceDataCount\",q.noServiceDataCount)}}get _supportsExceedsLimitQuery(){const e=this.layerView.layer;return null!=e.capabilities&&e.capabilities.operations&&e.capabilities.operations.supportsExceedsLimitStatistics}get _minimumNumberOfVerticesForGeometry(){switch(this.layerView.layer.geometryType){case\"point\":case\"multipoint\":return 1;case\"polygon\":return 4;case\"polyline\":return 2;case\"multipatch\":case\"mesh\":return 3;default:return 0}}async _updateSnapshotLimit(e,t,r){if(null==e?.averageSymbolComplexity)return void(this._snapshotLimitExceeded=!1);const{maximumTotalNumberOfVertices:s,averageSymbolComplexity:a}=e,{verticesPerFeature:o,verticesPerCoordinate:l}=a,n=o<=0,u=this._minimumNumberOfVerticesForGeometry>1;if(!n&&!u)return void(this._snapshotLimitExceeded=!1);0!==o&&null!=t&&await t;const h=Math.min(s,I),c=this.serviceDataCount,p=c!==q.noServiceDataCount;let m=p?Math.ceil((h-c*o)/(l||1)):Math.ceil(h/(l||1));if(u&&(m=Math.min(m,L)),p&&this._minimumNumberOfVerticesForGeometry*c>m)return void(this._snapshotLimitExceeded=!0);if(!this._supportsExceedsLimitQuery||!has(\"featurelayer-snapshot-enabled\"))return void(this._snapshotLimitExceeded=this.maxTotalSnapshotVertices>m);const f=await i(this.layerView.layer.queryFeatures(this._createVertexLimitExceededQuery(m),{timeout:q.queryStatisticsTimeout,signal:r}));if(!1===f.ok){if(d(f.error))throw f.error;return void(this._snapshotLimitExceeded=!1)}const y=f.value.features[0];this._snapshotLimitExceeded=!!y?.attributes&&!!y.attributes.exceedslimit}async _fetchServiceDataInfo(){this._cancelFetchServiceDataInfo();let e=new AbortController;const t=e.signal,i=this._updateServiceDataCount(t),r=Promise.allSettled([i,this._updateSnapshotLimit(this.displayFeatureLimit,i,t)]),s=r.then((()=>this._updateServiceDataExtent(t))).catch((e=>{d(e)||o.getLogger(this).error(\"#fetchServiceDataInfo()\",e)})).then((()=>{s===this._fetchDataInfoPromise&&(this._fetchDataInfoPromise=null,this._fetchDataInfoAbortController=null),e=null}));return e&&(this._fetchDataInfoPromise=s),this._fetchDataInfoAbortController=e,r.then((()=>{}),(()=>{}))}_cancelFetchServiceDataInfo(){const e=this._fetchDataInfoAbortController;e&&(this._fetchDataInfoAbortController=null,this._fetchDataInfoPromise=null,e.abort())}get performanceInfo(){return{storedFeatures:this._tileFetcher?.storedFeatures??0,totalFeatures:this._tileFetcher?.totalFeatures??0,totalVertices:this._tileFetcher?.totalVertices??0,missingTiles:this._tileFetcher?.missingTiles??0}}};e([g({readOnly:!0})],T.prototype,\"type\",void 0),e([g({constructOnly:!0})],T.prototype,\"graphics\",void 0),e([g({constructOnly:!0})],T.prototype,\"layerView\",void 0),e([g({constructOnly:!0})],T.prototype,\"context\",void 0),e([g({readOnly:!0})],T.prototype,\"dataUpdating\",null),e([g()],T.prototype,\"extent\",null),e([g()],T.prototype,\"updating\",null),e([g({readOnly:!0})],T.prototype,\"_updatingHandles\",void 0),e([g()],T.prototype,\"updatingTotal\",null),e([g()],T.prototype,\"updatingRemaining\",null),e([g()],T.prototype,\"expectedFeatureDiff\",null),e([g()],T.prototype,\"memoryForUnusedFeatures\",null),e([g()],T.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([g({readOnly:!0})],T.prototype,\"serviceDataExtent\",void 0),e([g({readOnly:!0})],T.prototype,\"serviceDataCount\",void 0),e([g()],T.prototype,\"_snapshotLimitExceeded\",void 0),e([g()],T.prototype,\"displayFeatureLimit\",void 0),e([g({type:Number})],T.prototype,\"maximumNumberOfFeatures\",null),e([g({readOnly:!0})],T.prototype,\"hasAllFeatures\",null),e([g({readOnly:!0})],T.prototype,\"hasAllFeaturesInView\",null),e([g({readOnly:!0})],T.prototype,\"hasFullGeometries\",null),e([g()],T.prototype,\"_forceTilesMode\",void 0),e([g({readOnly:!0})],T.prototype,\"mode\",null),e([g({readOnly:!0})],T.prototype,\"maxTotalSnapshotVertices\",null),e([g({readOnly:!0})],T.prototype,\"tileDescriptors\",null),e([g()],T.prototype,\"_tileFetcher\",void 0),e([g()],T.prototype,\"_fetchDataInfoPromise\",void 0),T=e([F(\"esri.layers.graphics.controllers.FeatureTileController3D\")],T);const V=1e4,I=1e6,H=12e3,O=1e4,L=5e6;function A(e,t){if(!t)return!1;for(const i of t)if(!e.has(i))return!0;return!1}var q;!function(e){function t(){e.maxFeatureCountForExtent=V,e.queryStatisticsTimeout=H,e.queryExtentTimeout=O}e.noServiceDataCount=1/0,e.maxSnapshotMinScaleFactor=5,e.reset=t}(q||(q={})),q.reset();export{T as FeatureTileController3D,q as FeatureTileController3DConstants};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as o}from\"../lib/DefaultVertexAttributeLocations.js\";import{blendingDefault as n}from\"../lib/OrderIndependentTransparency.js\";import{Program as a}from\"../lib/Program.js\";import{DefaultTechniqueConfiguration as l}from\"../materials/DefaultTechniqueConfiguration.js\";import{H as m}from\"../../../../chunks/Heatmap.glsl.js\";import{PrimitiveType as u}from\"../../../webgl/enums.js\";import{makePipelineState as p,defaultColorWriteParams as c}from\"../../../webgl/renderState.js\";class h extends r{constructor(){super(...arguments),this.colorRamp=null,this.densityMap=null,this.searchRadius=1,this.fieldTotal=0,this.minDensity=0,this.maxDensity=100}}class d extends s{constructor(e,r){super(e,r,(()=>this.destroy()))}initializeProgram(e){return new a(e.rctx,d.shader.get().build(this.configuration),o)}initializePipeline(){return p({blending:n,colorWrite:c,depthTest:null,depthWrite:null})}get primitiveType(){return u.TRIANGLE_STRIP}}d.shader=new t(m,(()=>import(\"./Heatmap.glsl.js\")));class f extends l{constructor(){super(...arguments),this.usesHalfFloat=!1}}e([i()],f.prototype,\"usesHalfFloat\",void 0);export{h as HeatmapPassParameters,d as HeatmapTechnique,f as HeatmapTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{releaseMaybe as e,disposeMaybe as r}from\"../../../../core/maybe.js\";import{watch as a}from\"../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ViewingMode as o}from\"../../../ViewingMode.js\";import{createQuadVAO as n}from\"./glUtil3D.js\";import{SortedRenderGeometryRenderer as h}from\"./SortedRenderGeometryRenderer.js\";import{HeatmapPassParameters as m,HeatmapTechniqueConfiguration as p,HeatmapTechnique as l}from\"../shaders/HeatmapTechnique.js\";import{TextureWrapMode as c,PixelType as d,ClearBufferBit as u}from\"../../../webgl/enums.js\";import{FramebufferObject as y}from\"../../../webgl/FramebufferObject.js\";import{Texture as _}from\"../../../webgl/Texture.js\";import{TextureDescriptor as g}from\"../../../webgl/TextureDescriptor.js\";import{vertexCount as f}from\"../../../webgl/Util.js\";let x=class extends h{constructor(t){super(t),this.pixelRatio=1,this._colorRampData=new Uint8ClampedArray(4),this.type=\"draped-heatmap\",this._heatmapParameters=new m;const e=new g;e.pixelFormat=t.pixelFormat,e.internalFormat=t.internalFormat,e.dataType=t.dataType,e.samplingMode=t.samplingMode,e.wrapMode=c.CLAMP_TO_EDGE;const r=t.rendererContext.rctx;this._densityMap=new y(r,e),this._quad=n(r);const a=new p;a.usesHalfFloat=t.dataType!==d.FLOAT,this._technique=new l({rctx:r,viewingMode:o.Local},a)}initialize(){const t=this._colorRampData,e=new g(t.length/4,1);e.wrapMode=c.CLAMP_TO_EDGE,this._colorRamp=new _(this.rctx,e,t),this._heatmapParameters.densityMap=this._densityMap.colorTexture,this.addHandles(a((()=>[this.colorRampData,this.minDensity,this.maxDensity,this.fieldTotal,this.pixelRatio,this.searchRadius]),(()=>this.rendererContext.notifyContentChanged())))}destroy(){this._technique=e(this._technique),this._densityMap=r(this._densityMap),this._quad=r(this._quad),this._colorRamp=r(this._colorRamp)}get searchRadius(){return this._heatmapParameters.searchRadius}set searchRadius(t){t!==this._heatmapParameters.searchRadius&&(this._heatmapParameters.searchRadius=t,this.notifyChange(\"searchRadius\"))}get minDensity(){return this._heatmapParameters.minDensity}set minDensity(t){t!==this._heatmapParameters.minDensity&&(this._heatmapParameters.minDensity=t,this.notifyChange(\"minDensity\"))}get maxDensity(){return this._heatmapParameters.maxDensity}set maxDensity(t){t!==this._heatmapParameters.maxDensity&&(this._heatmapParameters.maxDensity=t,this.notifyChange(\"maxDensity\"))}get fieldTotal(){return this._heatmapParameters.fieldTotal}set fieldTotal(t){this._heatmapParameters.fieldTotal=t,this.notifyChange(\"fieldTotal\")}get colorRampData(){return this._colorRampData}set colorRampData(t){const{colorRamp:e}=this._heatmapParameters;if(null!=e&&t!==this._colorRampData){const r=e.descriptor.width,a=t.length/4;a!==r&&e.resize(a,1),e.setData(t)}this._colorRampData=t}get _colorRamp(){return this._heatmapParameters.colorRamp}set _colorRamp(t){this._heatmapParameters.colorRamp=t}get hasHighlights(){return!1}get hasWater(){return!1}get rendersOccludedDraped(){return!1}render(t){const e=this._sortedMaterialRenderers;if(0===e.length)return;const r=this.rctx.getBoundFramebufferObject(),a=this.rctx.getViewport(),{pixelRatio:i}=this,s=Math.ceil(a.width*i),o=Math.ceil(a.height*i);this._densityMap.resize(s,o),this.rctx.bindFramebuffer(this._densityMap),this.rctx.setViewport(0,0,s,o),this.rctx.clear(u.COLOR_BUFFER_BIT);let n=!1;e.forAll((e=>{const r=e.prepareTechnique(t);null!=r&&(e.renderNode(t,r),n=!0)})),this.rctx.bindFramebuffer(r),this.rctx.setViewport(a.x,a.y,a.width,a.height),n&&(this.rctx.bindVAO(this._quad),this.rctx.bindTechnique(this._technique,t.bindParameters,this._heatmapParameters),this.rctx.drawArrays(this._technique.primitiveType,0,f(this._quad,\"geometry\")))}};t([i()],x.prototype,\"searchRadius\",null),t([i()],x.prototype,\"minDensity\",null),t([i()],x.prototype,\"maxDensity\",null),t([i()],x.prototype,\"fieldTotal\",null),t([i()],x.prototype,\"pixelRatio\",void 0),t([i()],x.prototype,\"colorRampData\",null),t([i({constructOnly:!0})],x.prototype,\"dataType\",void 0),t([i({constructOnly:!0})],x.prototype,\"samplingMode\",void 0),t([i({constructOnly:!0})],x.prototype,\"pixelFormat\",void 0),t([i({constructOnly:!0})],x.prototype,\"internalFormat\",void 0),t([i()],x.prototype,\"_colorRampData\",void 0),x=t([s(\"esri.views.3d.webgl-engine.lib.DrapedHeatmapRenderer\")],x);export{x as DrapedHeatmapRenderer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import{MaterialParameters as o}from\"../lib/Material.js\";import{Program as a}from\"../lib/Program.js\";import{DefaultTechniqueConfiguration as n}from\"../materials/DefaultTechniqueConfiguration.js\";import{H as l}from\"../../../../chunks/HeatmapDensity.glsl.js\";import{BlendOperation as u,BlendFactor as m}from\"../../../webgl/enums.js\";import{makePipelineState as p,simpleBlendingParams as c,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";class d extends o{constructor(){super(...arguments),this.searchRadius=128,this.resolutionForScale=0}}class f extends t{initializeProgram(e){return new a(e.rctx,f.shader.get().build(this.configuration),s)}initializePipeline(){return p({blending:c(m.ONE,m.ONE,u.ADD),colorWrite:h,depthTest:null,depthWrite:null})}destroy(){super.destroy()}}f.shader=new r(l,(()=>import(\"./HeatmapDensity.glsl.js\")));class b extends n{constructor(){super(...arguments),this.isAttributeDriven=!1,this.usesHalfFloat=!1}}e([i()],b.prototype,\"isAttributeDriven\",void 0),e([i()],b.prototype,\"usesHalfFloat\",void 0);export{d as HeatmapDensityPassParameters,f as HeatmapDensityTechnique,b as HeatmapDensityTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{set as t,squaredDistance as e}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{newLayout as s}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as i}from\"../core/shaderLibrary/ShaderOutput.js\";import a from\"../lib/GLMaterial.js\";import{Material as o}from\"../lib/Material.js\";import{RenderSlot as n}from\"../lib/RenderSlot.js\";import{VertexAttribute as u}from\"../lib/VertexAttribute.js\";import{writePosition as l,writeBufferFloat as c}from\"./internal/bufferWriterUtils.js\";import{HeatmapDensityPassParameters as f,HeatmapDensityTechniqueConfiguration as m,HeatmapDensityTechnique as p}from\"../shaders/HeatmapDensityTechnique.js\";const h=2;class b extends f{constructor(){super(...arguments),this.isAttributeDriven=!1,this.usesHalfFloats=!1}}class T extends o{constructor(t){super(t,new b),this.produces=new Map([[n.DRAPED_MATERIAL,t=>t===i.Color]]),this._configuration=new m}getConfiguration(){return this._configuration.isAttributeDriven=this.parameters.isAttributeDriven,this._configuration.usesHalfFloat=this.parameters.usesHalfFloats,this._configuration}createGLMaterial(t){return new d(t)}intersect(){}intersectDraped(r,s,i,a,o,n){const l=r.attributes.get(u.POSITION),{parameters:c}=this,{searchRadius:f}=c,{screenToWorldRatio:m}=r,p=f*m+h*m,b=p*p,T=l.data.length/l.size;for(let u=0;u<T;u++){const r=u*l.size,s=t(E,l.data[r],l.data[r+1]);e(s,a)<b&&o(n.dist,n.normal,-1,!1)}}createBufferWriter(){return new g(this.parameters.isAttributeDriven?I:A)}}class d extends a{beginSlot(t){return this.ensureTechnique(p,t)}}class g{constructor(t){this.vertexBufferLayout=t}elementCount(t){return t.attributes.get(u.POSITION).indices.length*v}write(t,e,r,s,i){l(r.attributes.get(u.POSITION),t,s.position,i,v);const a=r.attributes.get(u.POSITION).indices.length,o=s.uv0;let n=i;for(let u=0;u<a;++u)o.setValues(n++,-1,-1),o.setValues(n++,1,-1),o.setValues(n++,1,1),o.setValues(n++,1,1),o.setValues(n++,-1,1),o.setValues(n++,-1,-1);const f=u.FEATUREATTRIBUTE in s?s.featureAttribute:null;f&&c(r.attributes.get(u.FEATUREATTRIBUTE),f,i,v)}}const A=s().vec3f(u.POSITION).vec2f(u.UV0),I=A.clone().f32(u.FEATUREATTRIBUTE),v=6,E=r();export{T as HeatmapDensityMaterial,b as HeatmapDensityMaterialParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{isSome as r}from\"../../../../core/arrayUtils.js\";import{estimateAttributesObjectSize as i,estimateFixedArraySize as a,estimateNumberByteSize as s}from\"../../../../core/byteSizeEstimations.js\";import{makeHandle as o}from\"../../../../core/handleUtils.js\";import n from\"../../../../core/Logger.js\";import{initial as l,sync as p,watch as d}from\"../../../../core/reactiveUtils.js\";import{pt2px as u}from\"../../../../core/screenUtils.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import{subclass as h}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{UpdatingHandles as y}from\"../../../../core/support/UpdatingHandles.js\";import{projectPointToVector as _}from\"../../../../geometry/projection/projectPointToVector.js\";import{getContinuousIndexArray as g}from\"../../../../geometry/support/Indices.js\";import{getResolutionForScale as f}from\"../../../../geometry/support/scaleUtils.js\";import{getObjectId as R}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{convertFromPoint as F}from\"../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as b}from\"../../../../layers/graphics/OptimizedFeature.js\";import v from\"../../../../layers/graphics/OptimizedGeometry.js\";import S from\"../../../../layers/graphics/data/FeatureStore.js\";import{isNumericField as w}from\"../../../../layers/support/fieldUtils.js\";import{generateGradient as P}from\"../../../../renderers/support/heatmapUtils.js\";import{DrapeSourceType as j}from\"../interfaces.js\";import{DisplayFeatureLimit as T}from\"../graphics/DisplayFeatureLimit.js\";import{GraphicsCorePerformanceInfo as V}from\"../graphics/GraphicsCorePerformanceInfo.js\";import{FeatureVisibilityFilter as G}from\"./FeatureVisibilityFilter.js\";import{drapedZ as x}from\"../../terrain/OverlayRenderer.js\";import{Attribute as I}from\"../../webgl-engine/lib/Attribute.js\";import{ContentObjectType as M}from\"../../webgl-engine/lib/ContentObjectType.js\";import{DrapedHeatmapRenderer as A}from\"../../webgl-engine/lib/DrapedHeatmapRenderer.js\";import{Geometry as N}from\"../../webgl-engine/lib/Geometry.js\";import{DirtyOperation as O,DirtyState as H}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as U}from\"../../webgl-engine/lib/RenderGeometry.js\";import{UpdatePolicy as E}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{VertexAttribute as L}from\"../../webgl-engine/lib/VertexAttribute.js\";import{HeatmapDensityMaterial as D}from\"../../webgl-engine/materials/HeatmapDensityMaterial.js\";import{scaleBoundsPredicate as C,isScaleRangeActive as B}from\"../../../support/layerViewUtils.js\";import{PixelType as W,PixelFormat as Z}from\"../../../webgl/enums.js\";import{loadHeatmapTextureConfiguration as z}from\"../../../webgl/heatmapTextureUtils.js\";const $=112;let q=class extends t{constructor(e){super(e),this.type=\"heatmap\",this.preferredUpdatePolicy=E.ASYNC,this.dataExtent=null,this.drapeSourceType=j.Features,this._renderGeometries=new Map,this._fieldTotal=0,this._drapeSourceRenderer=null,this._dataType=W.HALF_FLOAT,this._pixelFormat=Z.RGBA,this._updatingHandles=new y,this.initializePromise=Promise.resolve()}initialize(){this._featureStore=new S({geometryType:\"esriGeometryPoint\",hasZ:this.hasZ,hasM:this.hasM});const{dataType:e,samplingMode:t,pixelFormat:r,internalFormat:i}=z(this._renderView.renderingContext,n.getLogger(this));this._dataType=e,this._pixelFormat=r;const a=e!==W.FLOAT;this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerDrapeSource(this,A,{...this._rendererParameters,dataType:e,samplingMode:t,pixelFormat:r,internalFormat:i}),this._material=new D({usesHalfFloats:a}),this._materialWithField=new D({usesHalfFloats:a,isAttributeDriven:!0}),this._filterVisibility=new G({context:{layerView:this.owner,featureStore:this.featureStore,getFeatureCount:()=>this._loadedPointGraphics.length,setAllFeaturesVisibility:e=>this._setAllFeaturesVisibility(e),clearFeaturesVisibility:()=>this._setAllFeaturesVisibility(!0),updateFeatureVisibilities:e=>this._updateFeatureVisibilities(e)}}),this._updatingHandles.addOnCollectionChange((()=>this._loadedPointGraphics),(e=>this._onLoadedFeaturesChange(e)),l),this._updatingHandles.addWhen((()=>this._materialParameters),(e=>this._forEachMaterial((t=>t.setParameters(e)))),l),this._updatingHandles.add((()=>this._rendererParameters),(e=>this._drapeSourceRenderer.set(e))),this._updatingHandles.add((()=>this._heatmapRendererField),(()=>{this._recreate()}),p),this._updatingHandles.add((()=>({fieldName:this._heatmapRendererFieldName,numeric:this._heatmapRendererFieldIsNumeric})),(({fieldName:e,numeric:t})=>{if(null!=e&&t){let t=0;this._featureStore.forEach((r=>t+=r.attributes[e]??0)),this._fieldTotal=t}else this._fieldTotal=this._featureStore.numFeatures}),l),this.addHandles([d((()=>({fieldName:this._heatmapRendererFieldName,field:this._heatmapRendererField})),(({fieldName:e,field:t})=>{e&&!t&&n.getLogger(this).warn(`Heatmap renderer field '${e}' for layer '${this.layer.title??this.layer.id}' not found`)})),d((()=>({field:this._heatmapRendererField,numeric:this._heatmapRendererFieldIsNumeric})),(({field:e,numeric:t})=>{null==e||t||n.getLogger(this).warn(`Heatmap renderer field '${e.name}' for layer '${this.layer.title??this.layer.id}' does not contain numeric values and cannot be used to drive the heatmap density`)})),o((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))])}destroy(){this._renderGeometries.clear(),this._material=null,this._materialWithField=null,this._featureStore.clear(),this._featureStore=null,this._updatingHandles.destroy()}get layer(){return this.owner.layer}get featureStore(){return this._featureStore}get updating(){return this._updatingHandles.updating||this.filterVisibility.updating}get updatingRemaining(){return 0}get suspendInfo(){return{}}get legendEnabled(){return!0}get filterVisibility(){return this._filterVisibility}get displayFeatureLimit(){const e=this.owner?.view?.quality??1,t=this.owner?.view?.qualitySettings,r=t?Math.ceil(t.heatmap.maxTotalNumberOfFeatures*e):0;return new T(r*6,r)}get hasZ(){return\"hasZ\"in this.layer&&this.layer.hasZ}get hasM(){return\"hasM\"in this.layer&&this.layer.hasM}get view(){return this.owner.view}get fullOpacity(){return this.owner.fullOpacity}get updatePolicy(){return this.owner.updatePolicy}get scaleVisibilitySuspended(){if(!this._isScaleRangeActive)return!1;const{minScale:e,maxScale:t}=this.layer.effectiveScaleRange,{scale:r}=this.view;return!C(r,e??0,t??0)}get usedMemory(){const e=this.usedMemoryPerFeature*this._featureStore.numFeatures,t=this._pixelFormat===Z.RED?1:4,r=this._dataType===W.FLOAT?4:2,i=Math.ceil((this._overlayRenderer?.overlays[0]?.resolution??0)*this._densityMapPixelRatio)??0;return i*i*t*r+e}get usedMemoryPerFeature(){const e=this._loadedPointGraphics.find((()=>!0));if(null==e)return 0;const t=i(e),r=s(),o=6;return o*a([0,0,0],r)+o*a([0,0],r)+(this._heatmapRendererFieldIsNumeric?o*r:0)+t}get loadedFeatures(){return this._featureStore.numFeatures}get unprocessedMemoryEstimate(){return 0}get performanceInfo(){return new V(this._visibleFeatures,0,0)}get renderer(){return this._heatmapRenderer}get _overlayRenderer(){return this.view.basemapTerrain.overlayManager.renderer}get _overlaySpatialReference(){return this._overlayRenderer.spatialReference}get _rendererParameters(){return{...this._radiusParameter,...this._densityParameters,...this._colorRampParameter,...this._pixelRatioParameter}}get _materialParameters(){return{...this._radiusParameter,...this._resolutionForScaleParameter}}get _densityParameters(){const e=this._heatmapRenderer;if(null==e)return null;const{minDensity:t,maxDensity:r}=e;return{minDensity:t,maxDensity:r,fieldTotal:this._fieldTotal}}get _radiusParameter(){const e=this._heatmapRenderer;return e?{searchRadius:u(this._clampSearchRadius(e.radius))}:null}get _resolutionForScaleParameter(){const e=this._heatmapRenderer;if(!e)return null;const{referenceScale:t}=e;return{resolutionForScale:0===t?0:f(t,this.view.spatialReference)}}get _colorRampParameter(){const e=this._heatmapRenderer;return e?{colorRampData:P(e.colorStops)}:null}get _pixelRatioParameter(){return{pixelRatio:this._densityMapPixelRatio}}get _densityMapPixelRatio(){return this.owner?.view?.qualitySettings.heatmap.pixelRatio??1}get _renderView(){return this.view._stage.renderView}get _featuresArePoints(){return\"point\"===this.layer.geometryType}get _loadedPointGraphics(){return this.owner.loadedGraphics}get _heatmapRenderer(){const e=this.layer.renderer;return\"heatmap\"===e?.type?e:null}get _heatmapRendererFieldName(){return this._heatmapRenderer?.field}get _heatmapRendererField(){const e=this._heatmapRendererFieldName;return null!=e?this.layer.fieldsIndex.get(e):null}get _heatmapRendererFieldIsNumeric(){const e=this._heatmapRendererField;return null!=e&&w(e)}get _isScaleRangeActive(){const{layer:e}=this;if(!(\"effectiveScaleRange\"in e))return!1;const{minScale:t,maxScale:r}=e.effectiveScaleRange;return B(t,r)}get _visibleFeatures(){let e=0;return this._renderGeometries.forEach((t=>{t.visible&&++e})),e}async whenGraphicBounds(){return null}computeAttachmentOrigin(){return null}highlight(){return o()}maskOccludee(){return o()}setObjectIdVisibility(){}refreshFilter(){this.filterVisibility.reapply()}_onLoadedFeaturesChange(e){if(!this._featuresArePoints)return;const{objectIdField:t}=this.layer;this._featureStore.removeManyById(e.removed.map((e=>R(e,t)))),this._featureStore.addMany(e.added.map((e=>{const{attributes:r,centroid:i,geometry:a}=e,s=new b(F(new v,a),r,i?F(new v,i):null,R(e,t));return s.displayId=e.uid,s})));const i=e.added,a=e.removed;this._fieldTotal+=this._computeFieldTotalChange(i,a);const s=a.map((({uid:e})=>{const t=this._renderGeometries.get(e);return this._renderGeometries.delete(e),t})).filter(r),o=i.map((e=>{const t=this._pointGraphicToRenderGeometry(e);return this._renderGeometries.set(e.uid,t),t}));s.length>0&&this._drapeSourceRenderer.removeGeometries(s,O.REMOVE),o.length>0&&this._drapeSourceRenderer.addGeometries(o,O.ADD),(o.length>0||s.length>0)&&(this.filterVisibility.reapply(),this._renderView.requestRender())}_recreate(){if(!this._loadedPointGraphics)return;const e=this._loadedPointGraphics.toArray();this._onLoadedFeaturesChange({added:e,removed:e})}_pointGraphicToRenderGeometry(e){const t=this._heatmapRendererFieldName,r=null!=t?this._materialWithField:this._material,i=c();_(e.geometry,i,this._overlaySpatialReference),i[2]=x;const a=g(1),s=[[L.POSITION,new I(i,a,i.length)]],o=this._heatmapRendererFieldIsNumeric;null!=t&&s.push([L.FEATUREATTRIBUTE,new I([o?e.attributes[t]??0:0],a,1)]);const n=new U(new N(r,s,null,M.Point),{layerUid:this.layer.uid,graphicUid:e.uid});return n.visible=this.filterVisibility.defaultVisibility,n}_forEachMaterial(e){e(this._material),e(this._materialWithField)}_computeFieldTotalChange(e,t){if(null==this._heatmapRendererFieldName||!this._heatmapRendererFieldIsNumeric)return e.length-t.length;const r=this._heatmapRendererFieldName,i=(e,t)=>e+(t.attributes[r]??0);return e.reduce(i,0)-t.reduce(i,0)}_clampSearchRadius(e){return e>$&&n.getLogger(this).warnOnce(`SceneView supports a maximum radius of ${$} pt for HeatmapRenderer.`),Math.min(e,$)}_updateFeatureVisibilities(e){const t=[];this._featureStore.forEach((({objectId:r,displayId:i})=>{const a=e(r),s=this._renderGeometries.get(i);s&&s.visible!==a&&(t.push(s),s.visible=a)})),this._drapeSourceRenderer.modifyGeometries(t,H.VISIBILITY)}_setAllFeaturesVisibility(e){const t=[];for(const r of this._renderGeometries.values())r.visible!==e&&(t.push(r),r.visible=e);this._drapeSourceRenderer.modifyGeometries(t,H.VISIBILITY)}get test(){return{visibleFeatureCount:this._visibleFeatures}}};e([m()],q.prototype,\"type\",void 0),e([m({constructOnly:!0})],q.prototype,\"owner\",void 0),e([m()],q.prototype,\"layer\",null),e([m()],q.prototype,\"featureStore\",null),e([m()],q.prototype,\"updating\",null),e([m()],q.prototype,\"updatingRemaining\",null),e([m()],q.prototype,\"suspendInfo\",null),e([m()],q.prototype,\"legendEnabled\",null),e([m()],q.prototype,\"filterVisibility\",null),e([m()],q.prototype,\"displayFeatureLimit\",null),e([m()],q.prototype,\"preferredUpdatePolicy\",void 0),e([m()],q.prototype,\"hasZ\",null),e([m()],q.prototype,\"hasM\",null),e([m()],q.prototype,\"dataExtent\",void 0),e([m()],q.prototype,\"view\",null),e([m()],q.prototype,\"fullOpacity\",null),e([m()],q.prototype,\"updatePolicy\",null),e([m()],q.prototype,\"drapeSourceType\",void 0),e([m()],q.prototype,\"scaleVisibilitySuspended\",null),e([m()],q.prototype,\"renderer\",null),e([m()],q.prototype,\"_featureStore\",void 0),e([m()],q.prototype,\"_filterVisibility\",void 0),e([m()],q.prototype,\"_overlayRenderer\",null),e([m()],q.prototype,\"_overlaySpatialReference\",null),e([m()],q.prototype,\"_rendererParameters\",null),e([m()],q.prototype,\"_materialParameters\",null),e([m()],q.prototype,\"_densityParameters\",null),e([m()],q.prototype,\"_radiusParameter\",null),e([m()],q.prototype,\"_resolutionForScaleParameter\",null),e([m()],q.prototype,\"_colorRampParameter\",null),e([m()],q.prototype,\"_pixelRatioParameter\",null),e([m()],q.prototype,\"_densityMapPixelRatio\",null),e([m()],q.prototype,\"_renderGeometries\",void 0),e([m()],q.prototype,\"_material\",void 0),e([m()],q.prototype,\"_materialWithField\",void 0),e([m()],q.prototype,\"_renderView\",null),e([m()],q.prototype,\"_featuresArePoints\",null),e([m()],q.prototype,\"_loadedPointGraphics\",null),e([m()],q.prototype,\"_heatmapRenderer\",null),e([m()],q.prototype,\"_heatmapRendererFieldName\",null),e([m()],q.prototype,\"_heatmapRendererField\",null),e([m()],q.prototype,\"_heatmapRendererFieldIsNumeric\",null),e([m()],q.prototype,\"_fieldTotal\",void 0),e([m()],q.prototype,\"_drapeSourceRenderer\",void 0),e([m()],q.prototype,\"_isScaleRangeActive\",null),q=e([h(\"esri.views.3d.layers.support.HeatmapFeatureProcessor\")],q);export{q as HeatmapFeatureProcessor,$ as maxRadiusPt};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import{destroyMaybe as r}from\"../../../core/maybe.js\";import{initial as s,watch as i,sync as o,whenOnce as n}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{hydrateGraphic as p}from\"../../../layers/graphics/hydratedFeatures.js\";import{FeatureTileController3D as h}from\"../../../layers/graphics/controllers/FeatureTileController3D.js\";import d from\"../../../rest/support/Query.js\";import{symbolHasExtrudeSymbolLayer as u}from\"../../../symbols/support/utils.js\";import{elevationAlignPointsInFeatures as c}from\"./graphics/elevationAlignPointsInFeatures.js\";import{Graphics3DFeatureProcessor as y}from\"./graphics/Graphics3DFeatureProcessor.js\";import{QueryEngine as g}from\"./graphics/QueryEngine.js\";import{queryForSymbologySnapping as m}from\"./graphics/queryForSymbologySnapping.js\";import{HeatmapFeatureProcessor as f}from\"./support/HeatmapFeatureProcessor.js\";import{LayerViewPerformanceInfo as E}from\"./support/LayerViewPerformanceInfo.js\";import{toViewIfLocal as _}from\"./support/projectExtentUtils.js\";import{UpdatePolicy as C}from\"../webgl-engine/lib/UpdatePolicy.js\";import{TaskPriority as w}from\"../../support/Scheduler.js\";const b=b=>{let v=class extends b{constructor(){super(...arguments),this._dataUpdatingState=O.NONE,this.controller=null,this.updatePolicy=C.SYNC,this.suspendResumeExtentMode=\"computed\",this.slicePlaneEnabled=!1,this.fullExtentInLocalViewSpatialReference=null,this.suspendResumeExtent=null,this._controllerCreated=!1,this.supportsHeightUnitConversion=!0,this._pendingController=null,this.queryEngine=null}initialize(){const e=this.layer;if(\"isTable\"in e&&e.isTable)return void this.addResolvingPromise(Promise.reject(new t(\"featurelayerview:table-not-supported\",\"table feature layer can't be displayed\",{layer:e})));this.addResolvingPromise(this._validateGeometryType()),this._updatingHandles.add((()=>this.layer.renderer),(e=>this._recreateProcessor(e)),s),this.addResolvingPromise((async()=>{const e=await _(this);this.fullExtentInLocalViewSpatialReference=e,await this._initializeController()})()),this._updatingHandles.add((()=>this.updatePolicy),(e=>this.processor.preferredUpdatePolicy=e));const r=()=>this.processor.featureStore;this.queryEngine=new g({context:{spatialReference:this.view.spatialReference,layer:this.layer,scheduler:this.view.resourceController.scheduler,get featureStore(){return r()},hasZ:this.hasZ,hasM:this.hasM},priority:w.FEATURE_QUERY_ENGINE}),this.notifyChange(\"updating\")}destroy(){this._destroyPendingController(),this.controller=r(this.controller),this._set(\"processor\",r(this.processor)),this.queryEngine=r(this.queryEngine),this.loadedGraphics=null}_destroyPendingController(){this._pendingController=r(this._pendingController)}get dataUpdating(){return this._dataUpdatingState!==O.NONE}get legendEnabled(){return this.canResume()&&this.processor?.legendEnabled}get graphics3DProcessor(){return\"graphics-3d\"===this.processor?.type?this.processor:null}get heatmapProcessor(){return\"heatmap\"===this.processor?.type?this.processor:null}get symbologySnappingSupported(){const e=this.layer?.renderer?.getSymbols();return e?.some(u)??!1}get hasAllFeatures(){return!(!this.controller||!(\"hasAllFeatures\"in this.controller))&&this.controller.hasAllFeatures}get hasAllFeaturesInView(){return!(!this.controller||!(\"hasAllFeaturesInView\"in this.controller))&&this.controller.hasAllFeaturesInView}get hasFullGeometries(){return!(!this.controller||!(\"hasFullGeometries\"in this.controller))&&this.controller.hasFullGeometries}getHit(e){let t;return this.loadedGraphics?.forEach((r=>{r.uid===e&&(t=p(r,this.layer))})),t?{type:\"graphic\",graphic:t,layer:t.layer}:null}whenGraphicBounds(e,t){return this.processor?.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.processor?.computeAttachmentOrigin(e,t)}async elevationAlignPointsInFeatures(e,r){const s=this.graphics3DProcessor;if(null==s)throw new t(\"featurelayerview3d:missing-processor\",\"A Graphics3D processor is needed to resolve graphics elevation.\");return c(this.view,this.layer,(e=>s.getGraphics3DGraphicByObjectId(e)),e,r)}async queryForSymbologySnapping(e,t){return this.symbologySnappingSupported?m(this.graphics3DProcessor,e,t):{candidates:[],sourceCandidateIndices:[]}}queryFeatures(e,t){return this.queryEngine.executeQuery(this._ensureQuery(e),t?.signal)}queryObjectIds(e,t){return this.queryEngine.executeQueryForIds(this._ensureQuery(e),t?.signal)}queryFeatureCount(e,t){return this.queryEngine.executeQueryForCount(this._ensureQuery(e),t?.signal)}queryExtent(e,t){return this.queryEngine.executeQueryForExtent(this._ensureQuery(e),t?.signal)}_ensureQuery(e){return null==e?this.createQuery():d.from(e)}highlight(e){return this.processor.highlight(e,this.layer.objectIdField)}maskOccludee(e){return this.processor.maskOccludee(e)}canResume(){return super.canResume()&&!this.processor?.scaleVisibilitySuspended}getSuspendInfo(){const e=super.getSuspendInfo();return this.processor?{...e,...this.processor.suspendInfo}:e}isUpdating(){return!(!this.processor||this.processor.destroyed)&&!(this._controllerCreated&&!this.controller?.updating&&this.view?.basemapTerrain?.ready&&!this.processor.updating)}async _initializeController(){const e=this.createController();this._pendingController=e,this._setupDataUpdating(e),await e.when(),this._setControllerWhenInitialized(e)}_setupDataUpdating(e){\"dataUpdating\"in e&&this.addHandles([i((()=>e.dataUpdating),(e=>{e&&this._dataUpdatingState===O.NONE?this._dataUpdatingState=O.CONTROLLER:e||this._dataUpdatingState!==O.CONTROLLER||(this._dataUpdatingState=O.NONE)}),o),i((()=>!!this.graphics3DProcessor?.dataUpdating),(t=>{t&&this._dataUpdatingState===O.CONTROLLER?this._dataUpdatingState=O.CORE:t||this._dataUpdatingState!==O.CORE||(this._dataUpdatingState=e.dataUpdating?O.CONTROLLER:O.NONE)}),o)])}async _setControllerWhenInitialized(e){try{await this.when()}catch(t){}this._controllerCreated=!0,this.notifyChange(\"updating\"),this.isResolved()&&!this.destroyed?(await n((()=>this.view?.basemapTerrain?.ready)),this.beforeSetController(e),this._pendingController=null,this.controller=e,this.loadedGraphics=e.graphics,this.notifyChange(\"updating\")):this._destroyPendingController()}_updateClippingExtent(e){if(this.clippingExtent=e,!this.controller)return!1;switch(this.controller.type){case\"stream\":return!1;case\"feature-tile-3d\":return this.controller.extent=e,!0}}async _validateGeometryType(){switch(this.layer.geometryType){case\"multipatch\":case\"multipoint\":throw new t(\"featurelayerview3d:unsupported-geometry-type\",\"Unsupported geometry type ${geometryType}\",{geometryType:this.layer.geometryType})}}_recreateProcessor(e){const t=\"heatmap\"===e?.type,r=\"heatmap\"===this.processor?.type,s=this.processor;if(s&&t===r)return;const i=t?new f({owner:this}):new y({owner:this,frustumVisibilityEnabled:!0,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentEnabled:!0,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!0,preferredUpdatePolicy:this.updatePolicy,updateClippingExtent:e=>this._updateClippingExtent(e)});this._set(\"processor\",i),s?.destroy(),this.queryEngine?.clear(),this.addResolvingPromise(i.initializePromise)}get performanceInfo(){const e=this.controller instanceof h?this.controller:null;return new E(this.processor.usedMemory,this.loadedGraphics?.length,e?.serviceDataCount??-1,e?.maximumNumberOfFeatures??-1,0,this.processor.performanceInfo)}};return e([a()],v.prototype,\"loadedGraphics\",void 0),e([a()],v.prototype,\"_dataUpdatingState\",void 0),e([a({readOnly:!0})],v.prototype,\"dataUpdating\",null),e([a()],v.prototype,\"suspended\",void 0),e([a({readOnly:!0})],v.prototype,\"legendEnabled\",null),e([a()],v.prototype,\"updating\",void 0),e([a()],v.prototype,\"controller\",void 0),e([a()],v.prototype,\"processor\",void 0),e([a({readOnly:!0})],v.prototype,\"updatePolicy\",void 0),e([a({readOnly:!0})],v.prototype,\"suspendResumeExtentMode\",void 0),e([a({type:Boolean})],v.prototype,\"slicePlaneEnabled\",void 0),e([a({readOnly:!0})],v.prototype,\"suspendInfo\",void 0),e([a()],v.prototype,\"graphics3DProcessor\",null),e([a()],v.prototype,\"heatmapProcessor\",null),e([a()],v.prototype,\"symbologySnappingSupported\",null),e([a({readOnly:!0})],v.prototype,\"hasAllFeatures\",null),e([a({readOnly:!0})],v.prototype,\"hasAllFeaturesInView\",null),e([a({readOnly:!0})],v.prototype,\"hasFullGeometries\",null),v=e([l(\"esri.views.3d.layers.FeatureLikeLayerView3D\")],v),v};var O;!function(e){e[e.NONE=0]=\"NONE\",e[e.CONTROLLER=1]=\"CONTROLLER\",e[e.CORE=2]=\"CORE\"}(O||(O={}));export{b as FeatureLikeLayerView3D};\n"],
  "mappings": "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",
  "names": ["c", "l", "b", "e", "t", "r", "s", "w", "d", "o", "n", "u", "i", "p", "y", "a", "n", "t", "e", "r", "o", "f", "e", "h", "t", "a", "n", "I", "r", "i", "s", "l", "o", "d", "y", "P", "e", "h", "C", "t", "i", "p", "u", "f", "s", "d", "r", "b", "n", "a", "l", "H", "y", "t", "e", "s", "r", "i", "n", "h", "o", "_", "d", "m", "t", "c", "e", "s", "i", "F", "r", "Z", "E", "o", "I", "g", "u", "j", "e", "t", "n", "i", "s", "v", "I", "r", "a", "o", "u", "h", "d", "l", "L", "V", "g", "H", "U", "c", "m", "x", "A", "O", "b", "p", "f", "_", "k", "S", "z", "P", "y", "c", "m", "e", "i", "o", "f", "h", "t", "s", "r", "p", "y", "w", "d", "T", "n", "e", "t", "i", "q", "r", "s", "h", "O", "j", "d", "a", "o", "l", "m", "u", "A", "w", "I", "c", "p", "L", "f", "y", "V", "H", "h", "n", "d", "r", "e", "O", "S", "c", "_", "E", "t", "a", "f", "x", "R", "t", "h", "e", "r", "i", "a", "f", "U", "d", "l", "m", "s", "o", "_", "n", "y", "d", "u", "f", "r", "e", "O", "S", "s", "_", "t", "b", "h", "b", "d", "T", "c", "t", "A", "o", "r", "s", "i", "a", "n", "l", "e", "f", "m", "p", "u", "E", "g", "I", "v", "$", "q", "e", "C", "U", "h", "m", "t", "r", "i", "n", "a", "x", "T", "f", "d", "o", "s", "u", "I", "E", "c", "l", "y", "b", "v", "O", "C", "e", "l", "r", "I", "J", "t", "c", "s", "m", "d", "i", "q", "P", "T", "y", "a"]
}
