{
  "version": 3,
  "sources": ["../../@arcgis/core/support/featureFlags.js", "../../@arcgis/core/symbols/support/styleUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from\"../core/has.js\";const e=()=>!!has(\"enable-feature:force-wosr\"),a=()=>!!has(\"enable-feature:direct-3d-object-feature-layer-display\"),t=()=>has.add(\"enable-feature:direct-3d-object-feature-layer-display\",!0,!0,!0),i=()=>has.add(\"enable-feature:direct-3d-object-feature-layer-display\",!1,!0,!0),r=()=>!!has(\"enable-i3s-patching\"),d=()=>has.add(\"enable-i3s-patching\",!0,!0,!0),c=()=>has.add(\"enable-i3s-patching\",!1,!0,!0),n=()=>!!has(\"enable-feature:SceneLayer-editing\"),l=(e=\"i3s-patching\")=>{switch(c(),i(),has.add(\"enable-feature:SceneLayer-editing\",!0,!0,!0),e){case\"feature-layer-view\":t();break;case\"i3s-patching\":d()}},s=()=>{c(),i(),has.add(\"enable-feature:SceneLayer-editing\",!1,!0,!0)},b=()=>has.add(\"disable-feature:idb-cache\",!0,!0,!0);l(\"i3s-patching\");export{a as direct3DObjectFeatureLayerDisplayEnabled,i as disableDirect3DObjectFeatureLayerDisplay,c as disableI3SPatching,b as disableIDBCache,s as disableSceneLayerEditing,t as enableDirect3DObjectFeatureLayerDisplay,d as enableI3SPatching,l as enableSceneLayerEditing,e as enableWebStyleForceWOSR,r as i3sPatchingEnabled,n as sceneLayerEditingEnabled};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{throwIfAbortError as r}from\"../../core/promiseUtils.js\";import{normalize as o,removeFile as s}from\"../../core/urlUtils.js\";import n from\"../../portal/Portal.js\";import l from\"../../portal/PortalQueryParams.js\";import{enableWebStyleForceWOSR as a}from\"../../support/featureFlags.js\";let u={};async function f(e,t){try{return{data:(await b(e,t)).data,baseUrl:s(e),styleUrl:e}}catch(o){return r(o),null}}function i(e,t,r){const o=null!=t.portal?t.portal:n.getDefault();let s;const l=`${o.url} - ${o.user&&o.user.username} - ${e}`;return u[l]||(u[l]=y(e,o,r).then((e=>(s=e,e.fetchData()))).then((t=>({data:t,baseUrl:s.itemUrl??\"\",styleName:e})))),u[l]}function m(){u&&(u={})}function y(e,r,o){return r.load(o).then((()=>{const t=new l({disableExtraQuery:!0,query:`owner:${h} AND type:${j} AND typekeywords:\"${e}\"`});return r.queryItems(t,o)})).then((({results:r})=>{let s=null;const n=e.toLowerCase();if(r&&Array.isArray(r))for(const e of r){const t=e.typeKeywords?.some((e=>e.toLowerCase()===n));if(t&&e.type===j&&e.owner===h){s=e;break}}if(!s)throw new t(\"symbolstyleutils:style-not-found\",`The style '${e}' could not be found`,{styleName:e});return s.load(o)}))}function c(e,r,o){return null!=e?.styleUrl?f(e.styleUrl,o):null!=e?.styleName?i(e.styleName,r,o):Promise.reject(new t(\"symbolstyleutils:style-url-and-name-missing\",\"Either styleUrl or styleName is required to resolve a style\"))}function p(e){return null===e||\"CIMSymbolReference\"===e.type?e:{type:\"CIMSymbolReference\",symbol:e}}function d(e,t,r=[\"gltf\"]){if(\"cimRef\"===t)return e.cimRef;if(e.formatInfos&&!a())for(const o of r){const t=e.formatInfos.find((e=>e.type===o));if(t)return t.href}return e.webRef}function b(t,r){const s={responseType:\"json\",query:{f:\"json\"},...r};return e(o(t),s)}const h=\"esri_en\",j=\"Style\",w=\"https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json\";export{w as Style2DUrlTemplate,u as cachedStyles,m as cleanupStyleUtilsCache,c as fetchStyle,p as makeCIMSymbolRef,b as requestJSON,d as symbolUrlFromStyleItem};\n"],
  "mappings": "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",
  "names": ["a", "c", "e", "e", "t", "i", "r", "s", "l", "e", "r", "t", "s", "n", "c", "i", "d"]
}
