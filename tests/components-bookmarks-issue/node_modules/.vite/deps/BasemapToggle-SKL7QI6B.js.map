{
  "version": 3,
  "sources": ["../../@arcgis/core/widgets/BasemapToggle/BasemapToggleViewModel.js", "../../@arcgis/core/widgets/BasemapToggle/css.js", "../../@arcgis/core/widgets/BasemapToggle.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import a from\"../../core/Accessor.js\";import{watch as t,initial as s,whenOnce as i}from\"../../core/reactiveUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{cast as p}from\"../../core/accessorSupport/decorators/cast.js\";import\"../../core/RandomLCG.js\";import\"../../core/has.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{isLoaded as o,canProjectWithoutEngine as c,load as l}from\"../../geometry/projection.js\";import{equals as m}from\"../../geometry/support/spatialReferenceUtils.js\";import{ensureType as h,destroyCache as d,findSpatialReference as f,getBasemapThumbnailUrl as u}from\"../../support/basemapUtils.js\";let g=class extends a{constructor(e){super(e),this._basemapCache={},this._loadingProjectionEngine=!1,this.nextBasemap=h(\"hybrid\",this._basemapCache),this.view=null}initialize(){t((()=>this.nextBasemap),(e=>{e&&!e.loaded&&e.load().catch((()=>{}))}),s)}destroy(){this.view=null,d(this._basemapCache),this._basemapCache=null}get _nextBasemapSpatialReferenceTask(){return f(this.view,this.nextBasemap)}get _viewSpatialReferenceLocked(){const{view:e}=this;return!e||!(\"spatialReferenceLocked\"in e)||e.spatialReferenceLocked}get activeBasemap(){return h(this.view?.map?.basemap??\"topo-vector\",this._basemapCache)}castNextBasemap(e){return h(e,this._basemapCache)}get state(){const{view:e}=this;if(!e?.ready)return\"disabled\";if(this._nextBasemapSpatialReferenceTask.updating)return\"disabled\";const{spatialReference:a}=this._nextBasemapSpatialReferenceTask;return this._viewSpatialReferenceLocked&&null!=a&&!e.spatialReference.equals(a)?\"incompatible-next-basemap\":this._loadingProjectionEngine?\"loading\":\"ready\"}async toggle(){const{activeBasemap:e,nextBasemap:a,state:t,view:s}=this;if(!s||\"disabled\"===t||\"incompatible-next-basemap\"===t)return;const r=this._viewSpatialReferenceLocked;if(!r){if(await i((()=>!this._nextBasemapSpatialReferenceTask.updating)),a!==this.nextBasemap||e!==this.activeBasemap)return;const{spatialReference:t}=this._nextBasemapSpatialReferenceTask;if(null==t||m(s.spatialReference,t)||o()||c(s.spatialReference,t)||(this._loadingProjectionEngine=!0,await l(),this._loadingProjectionEngine=!1),a!==this.nextBasemap||e!==this.activeBasemap)return}s.map.basemap=a,r||null==this._nextBasemapSpatialReferenceTask.spatialReference||m(s.spatialReference,this._nextBasemapSpatialReferenceTask.spatialReference)||(s.spatialReference=this._nextBasemapSpatialReferenceTask.spatialReference),this.nextBasemap=e}static getThumbnailUrl(e){return u(e)}};e([r()],g.prototype,\"_loadingProjectionEngine\",void 0),e([r({readOnly:!0})],g.prototype,\"_nextBasemapSpatialReferenceTask\",null),e([r({readOnly:!0})],g.prototype,\"_viewSpatialReferenceLocked\",null),e([r({readOnly:!0})],g.prototype,\"activeBasemap\",null),e([r()],g.prototype,\"nextBasemap\",void 0),e([p(\"nextBasemap\")],g.prototype,\"castNextBasemap\",null),e([r({readOnly:!0})],g.prototype,\"state\",null),e([r()],g.prototype,\"view\",void 0),e([r()],g.prototype,\"toggle\",null),g=e([n(\"esri.widgets.BasemapToggle.BasemapToggleViewModel\")],g);const B=g;export{B as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst e=\"esri-basemap-toggle\",a=\"esri-basemap-thumbnail\",_={base:e,secondaryBasemapImage:`${e}__image--secondary`,container:`${a} ${e}__container`,image:`${a}__image ${e}__image`,imageLoading:`${e}__image--loading`,overlay:`${a}__overlay ${e}__image-overlay`,title:`${a}__title ${e}__title`,overlayScrim:`${a}__overlay-scrim`};export{_ as css};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{property as t}from\"../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/RandomLCG.js\";import\"../core/has.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import{getBasemapThumbnailUrl as o}from\"../support/basemapUtils.js\";import a from\"./Widget.js\";import l from\"./BasemapToggle/BasemapToggleViewModel.js\";import{css as r}from\"./BasemapToggle/css.js\";import{loadCalciteComponents as n}from\"./support/componentsUtils.js\";import{globalCss as c}from\"./support/globalCss.js\";import\"./support/widgetUtils.js\";import{messageBundle as p}from\"./support/decorators/messageBundle.js\";import{tsx as m}from\"./support/jsxFactory.js\";function d(e){const t=o(e);return t?{backgroundImage:\"url(\"+t+\")\"}:{backgroundImage:\"\"}}const u={title:!1};let g=class extends a{constructor(e,t){super(e,t),this.messages=null,this.viewModel=new l,this.visibleElements={...u},this.toggle=()=>this.viewModel.toggle()}loadDependencies(){return n({button:()=>import(\"@esri/calcite-components/dist/components/calcite-button.js\"),icon:()=>import(\"@esri/calcite-components/dist/components/calcite-icon.js\"),scrim:()=>import(\"@esri/calcite-components/dist/components/calcite-scrim.js\")})}get activeBasemap(){return this.viewModel.activeBasemap}get icon(){return\"layer-basemap\"}set icon(e){this._overrideIfSome(\"icon\",e)}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get nextBasemap(){return this.viewModel.nextBasemap}set nextBasemap(e){this.viewModel.nextBasemap=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}castVisibleElements(e){return{...u,...e}}render(){const e=this.viewModel,t=\"disabled\"===e.state?null:e.activeBasemap,s=\"disabled\"===e.state?null:e.nextBasemap,i=\"loading\"===e.state,o=\"incompatible-next-basemap\"===e.state,a=s?.title??\"\",l=s&&\"loaded\"!==s.loadStatus;let n;const p=this.visibleElements.title&&a,u=o;return(p||u)&&(n=m(\"div\",{class:r.overlay,key:\"overlay\"},p?m(\"span\",{class:r.title,title:a},a):null,u?m(\"calcite-scrim\",{class:r.overlayScrim,title:this.messages.incompatibleSpatialReference},m(\"calcite-icon\",{icon:\"exclamation-mark-triangle\"})):null)),m(\"div\",{class:this.classes(r.base,c.widget)},m(\"calcite-button\",{appearance:\"transparent\",\"data-basemap-id\":s?s.id:\"\",disabled:o,kind:\"neutral\",label:this.label,onclick:()=>{this.toggle()},title:this.label},m(\"div\",{class:this.classes(r.container,r.secondaryBasemapImage)},m(\"div\",{class:r.image,styles:d(t)})),m(\"div\",{class:r.container},m(\"div\",{class:this.classes(r.image,l?r.imageLoading:null),styles:d(s)},l||i?m(\"calcite-scrim\",null,m(\"span\",{\"aria-hidden\":\"true\",class:c.loaderAnimation,role:\"presentation\"})):null),n)))}};e([t({readOnly:!0})],g.prototype,\"activeBasemap\",null),e([t()],g.prototype,\"icon\",null),e([t()],g.prototype,\"label\",null),e([t(),p(\"esri/widgets/BasemapToggle/t9n/BasemapToggle\")],g.prototype,\"messages\",void 0),e([t()],g.prototype,\"nextBasemap\",null),e([t()],g.prototype,\"view\",null),e([t({type:l})],g.prototype,\"viewModel\",void 0),e([t()],g.prototype,\"visibleElements\",void 0),e([s(\"visibleElements\")],g.prototype,\"castVisibleElements\",null),g=e([i(\"esri.widgets.BasemapToggle\")],g);const v=g;export{v as default};\n"],
  "mappings": "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",
  "names": ["e", "b", "a", "s", "r", "t", "e", "a", "d", "e", "g", "s", "a", "n", "u"]
}
