{
  "version": 3,
  "sources": ["../../@arcgis/core/geometry/support/coordsUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{equals as t}from\"../../core/arrayUtils.js\";import{Axis as n}from\"./Axis.js\";import{getInfo as r}from\"./spatialReferenceUtils.js\";function e(t){if(!t)return null;if(Array.isArray(t))return t;const n=t.hasZ,r=t.hasM;if(\"point\"===t.type)return r&&n?[t.x,t.y,t.z,t.m]:n?[t.x,t.y,t.z]:r?[t.x,t.y,t.m]:[t.x,t.y];if(\"polygon\"===t.type)return t.rings.slice(0);if(\"polyline\"===t.type)return t.paths.slice(0);if(\"multipoint\"===t.type)return t.points.slice(0);if(\"extent\"===t.type){const n=t.clone().normalize();if(!n)return null;let r=!1,e=!1;return n.forEach((t=>{t.hasZ&&(r=!0),t.hasM&&(e=!0)})),n.map((t=>{const n=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(r&&t.hasZ){const r=.5*(t.zmax-t.zmin);for(let t=0;t<n.length;t++)n[t].push(r)}if(e&&t.hasM){const r=.5*(t.mmax-t.mmin);for(let t=0;t<n.length;t++)n[t].push(r)}return n}))}return null}function i(t,n){const r=n[0]-t[0],e=n[1]-t[1];if(t.length>2&&n.length>2){const i=t[2]-n[2];return Math.sqrt(r*r+e*e+i*i)}return Math.sqrt(r*r+e*e)}function o(t,n,r){const e=t[0]+r*(n[0]-t[0]),i=t[1]+r*(n[1]-t[1]);return t.length>2&&n.length>2?[e,i,t[2]+r*(n[2]-t[2])]:[e,i]}function s(t,n,r,e){return f(t,n,r[e],r[e+1])}function f(t,n,r,e){const[i,o]=n,[s,f]=r,[l,u]=e,c=l-s,h=u-f,p=c*c+h*h,a=(i-s)*c+(o-f)*h,y=Math.min(1,Math.max(0,a/p));return t[0]=s+c*y,t[1]=f+h*y,t}function l(t,n,r){let e,i,o,s,f=!1,l=1/0;for(r.reset();r.nextPath();)if(r.nextPoint())for(e=r.x,i=r.y;r.nextPoint();)o=r.x,s=r.y,i>n!=s>n&&t<(o-e)*(n-i)/(s-i)+e&&(f=!f),l=Math.min(l,u(t,n,e,i,o,s)),e=o,i=s;return 0===l?0:(f?1:-1)*Math.sqrt(l)}function u(t,n,r,e,i,o){let s=r,f=e,l=i-s,u=o-f;if(0!==l||0!==u){const r=((t-s)*l+(n-f)*u)/(l*l+u*u);r>1?(s=i,f=o):r>0&&(s+=l*r,f+=u*r)}return l=t-s,u=n-f,l*l+u*u}function c(t,n){return o(t,n,.5)}function h(t){const n=t.length;let r=0;for(let e=0;e<n-1;++e)r+=i(t[e],t[e+1]);return r}function p(t,n){if(n<=0)return t[0];const r=t.length;let e=0;for(let s=0;s<r-1;++s){const r=i(t[s],t[s+1]);if(n-e<r){const i=(n-e)/r;return o(t[s],t[s+1],i)}e+=r}return t[r-1]}function a(t,r=n.X,e=n.Y){let i=0;const o=t.length;let s=t[0];for(let n=0;n<o-1;n++){const o=t[n+1];i+=(o[r]-s[r])*(o[e]+s[e]),s=o}return i>=0}function y(n){const r=n.length;return r>2&&t(n[0],n[r-1])}function m(t){if(\"rings\"in t&&(g(t),t.rings.length>0&&!a(t.rings[0])))for(const n of t.rings)n.reverse()}function g(t){if(\"rings\"in t)for(const n of t.rings)y(n)||n.push(n[0].slice())}function x(t){if(\"polygon\"!==t.type&&\"polyline\"!==t.type)return t;return M(\"polygon\"===t.type?t.rings:t.paths,t.spatialReference),t}function M(t,n){const e=r(n);if(!e)return;const i=e.valid[0],o=e.valid[1],s=o-i;for(const r of t){let t=1/0,n=-1/0;for(const s of r){const r=z(s[0],i,o);t=Math.min(t,r),n=Math.max(n,r),s[0]=r}const e=n-t;s-e<e&&r.forEach((t=>{t[0]<0&&(t[0]+=s)}))}}function z(t,n,r){const e=r-n;return t<n?r-(n-t)%e:t>r?n+(t-n)%e:t}function v(t,n){if(t===n)return!0;if(t.type!==n.type)return!1;if(\"point\"===t.type||\"mesh\"===t.type||\"extent\"===t.type)return!0;if(\"multipoint\"===t.type)return t.points.length===n.points.length;const[r,e]=\"polyline\"===t.type?[t.paths,n.paths]:[t.rings,n.rings];return r.length===e.length&&r.every(((t,n)=>t.length===e[n].length))}export{g as closeRings,m as closeRingsAndFixWinding,l as distanceFromPointToPolygon,u as distanceToSegmentSquared,e as geometryToCoordinates,i as getLength,c as getMidpoint,h as getPathLength,p as getPointOnPath,v as hasCompatibleTopology,a as isClockwise,y as isClosed,s as projectPointOnLine,f as projectPointOnLineSeg,x as unnormalizeGeometryOnDatelineCrossing,M as unnormalizeVerticesOnDatelineCrossing,z as unnormalizedCoordinate};\n"],
  "mappings": "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",
  "names": ["n", "r", "e", "t", "i", "s", "o", "f", "u", "c", "h", "p", "a", "y", "n", "e", "i", "o", "s", "f", "u", "r", "h", "t"]
}
