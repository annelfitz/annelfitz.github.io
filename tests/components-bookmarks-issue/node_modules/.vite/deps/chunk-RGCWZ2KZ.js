import {
  d as d2,
  e as e3,
  f as f4,
  t as t3
} from "./chunk-5VMSFOCB.js";
import {
  n as n5
} from "./chunk-LGQXPGTM.js";
import {
  c,
  e as e2,
  g,
  o as o3,
  t as t2
} from "./chunk-2SDMYJDE.js";
import {
  n as n4
} from "./chunk-TPLOIZC7.js";
import {
  h
} from "./chunk-6Z6C6JVV.js";
import {
  n as n3
} from "./chunk-Z2PDA67N.js";
import {
  s
} from "./chunk-IOB3DJMR.js";
import {
  n as n6
} from "./chunk-BPRXWDBO.js";
import {
  f as f3
} from "./chunk-7MT4ACA4.js";
import {
  _
} from "./chunk-SAYWXQVM.js";
import {
  A,
  d,
  p
} from "./chunk-Z4Y53NDM.js";
import {
  o as o2
} from "./chunk-TXBMNSNF.js";
import {
  i,
  t5 as t,
  y2 as y
} from "./chunk-NDIXNREV.js";
import {
  a3 as a2,
  f
} from "./chunk-I2RC5KWA.js";
import {
  e
} from "./chunk-2F6FFF5T.js";
import {
  f2,
  k,
  n as n2,
  o3 as o
} from "./chunk-JGDJR5EV.js";
import {
  u
} from "./chunk-QHK5ZYFW.js";
import {
  a,
  n2 as n
} from "./chunk-7RBRCL6S.js";
import {
  autoMode,
  darkMode
} from "./chunk-MDRC3XUT.js";
import {
  getAssetPath,
  setAssetPath
} from "./chunk-NCF6OYL5.js";

// node_modules/@arcgis/core/core/domUtils.js
function e4(e9) {
  return "string" == typeof e9 ? document.getElementById(e9) : e9 ?? null;
}
function n7(e9) {
  for (; e9.hasChildNodes(); )
    e9.removeChild(e9.firstChild);
}
function o4(e9, n11) {
  const t4 = n11.parentNode;
  t4 && t4.insertBefore(e9, n11);
}
function i2(e9, n11) {
  for (; ; ) {
    const t4 = e9.firstChild;
    if (!t4)
      break;
    n11.appendChild(t4);
  }
}
var l = "function" == typeof Element.prototype.closest ? (e9, n11) => e9.closest(n11) : (e9, n11) => {
  let t4 = e9;
  do {
    if (t4.matches(n11))
      return t4;
    t4 = t4.parentElement;
  } while (null !== t4 && 1 === t4.nodeType);
  return null;
};

// node_modules/@esri/calcite-components/dist/components/index.js
function initModeChangeEvent() {
  const { classList } = document.body;
  const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
  const getMode = () => classList.contains(darkMode) || classList.contains(autoMode) && prefersDark ? "dark" : "light";
  const emitModeChange = (mode) => document.body.dispatchEvent(new CustomEvent("calciteModeChange", { bubbles: true, detail: { mode } }));
  const modeChangeHandler = (newMode) => {
    currentMode !== newMode && emitModeChange(newMode);
    currentMode = newMode;
  };
  let currentMode = getMode();
  emitModeChange(currentMode);
  window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", (event) => modeChangeHandler(event.matches ? "dark" : "light"));
  new MutationObserver(() => modeChangeHandler(getMode())).observe(document.body, {
    attributes: true,
    attributeFilter: ["class"]
  });
}
function appGlobalScript() {
  const isBrowser = typeof window !== "undefined" && typeof location !== "undefined" && typeof document !== "undefined" && window.location === location && window.document === document;
  if (isBrowser) {
    if (document.readyState === "interactive") {
      initModeChangeEvent();
    } else {
      document.addEventListener("DOMContentLoaded", () => initModeChangeEvent(), { once: true });
    }
  }
}
var globalScripts = appGlobalScript;
globalScripts();

// node_modules/@arcgis/core/widgets/support/componentsUtils.js
var c2;
function n8() {
  try {
    getAssetPath(".");
  } catch {
    setAssetPath(_(n6(c2)));
  }
}
function r(t4) {
  var _a;
  const o6 = [];
  for (const s3 of Object.keys(t4))
    customElements.get(`calcite-${s3}`) || o6.push((_a = t4[s3]) == null ? void 0 : _a.call(t4));
  return o6.length > 0 ? Promise.all(o6) : null;
}
c2 = "components/assets";

// node_modules/@arcgis/core/libs/maquette-advanced-projector/advanced-projector-options.js
var e5 = { handleInterceptedEvent: (e9, p2, t4, n11) => (e9.scheduleRender(), p2.properties[`on${n11.type}`].apply(p2.properties.bind || t4, [n11])) };

// node_modules/@arcgis/core/libs/maquette-advanced-projector/utils.js
var e6 = { namespace: void 0, performanceLogger: () => {
}, eventHandlerInterceptor: void 0, styleApplyer: (e9, r3, t4) => {
  "-" === r3.charAt(0) ? e9.style.setProperty(r3, t4) : e9.style[r3] = t4;
} };
var r2 = (r3) => ({ ...e6, ...r3 });

// node_modules/@arcgis/core/libs/maquette-advanced-projector/projector.js
var o5 = (e9, t4) => {
  const r3 = [];
  for (; e9 && e9 !== t4; )
    r3.push(e9), e9 = e9.parentNode;
  return r3;
};
var n9 = (e9, t4) => e9.find(t4);
var d3 = (e9, t4, r3 = false) => {
  let o6 = e9;
  return t4.forEach((e10, d4) => {
    const s3 = (o6 == null ? void 0 : o6.children) ? n9(o6.children, (t5) => t5.domNode === e10) : void 0;
    r3 && !s3 && d4 !== t4.length - 1 || (o6 = s3);
  }), o6;
};
var s2 = (n11) => {
  let s3;
  const i3 = { ...e5, ...n11 }, c3 = r2(i3), a3 = c3.performanceLogger;
  let m, p2 = true, l2 = false;
  const f5 = [], u2 = [], h2 = (e9, t4, r3) => {
    var _a;
    let n12;
    c3.eventHandlerInterceptor = (e10, t5, r4, c4) => function(e11) {
      let t6;
      a3("domEvent", e11);
      const r5 = o5(e11.currentTarget, n12.domNode), c5 = r5.some((e12) => {
        var _a2;
        return customElements.get((_a2 = e12 == null ? void 0 : e12.tagName) == null ? void 0 : _a2.toLowerCase());
      });
      if (e11.eventPhase === Event.CAPTURING_PHASE || !c5)
        r5.reverse(), t6 = d3(n12.getLastRender(), r5);
      else {
        const r6 = e11.composedPath(), o6 = r6.slice(r6.indexOf(e11.currentTarget), r6.indexOf(n12.domNode)).reverse();
        t6 = d3(n12.getLastRender(), o6, true);
      }
      let m3;
      return t6 && (m3 = i3.handleInterceptedEvent(s3, t6, this, e11)), a3("domEventProcessed", e11), m3;
    }, (_a = i3.postProcessProjectionOptions) == null ? void 0 : _a.call(i3, c3);
    const m2 = r3();
    n12 = e9(t4, m2, c3), c3.eventHandlerInterceptor = void 0, f5.push(n12), u2.push(r3), i3.afterFirstVNodeRendered && i3.afterFirstVNodeRendered(n12, m2);
  };
  let v = () => {
    if (m = void 0, p2) {
      p2 = false, a3("renderStart", void 0);
      for (let e9 = 0; e9 < f5.length; e9++) {
        const t4 = u2[e9]();
        a3("rendered", void 0), f5[e9].update(t4), a3("patched", void 0);
      }
      a3("renderDone", void 0), p2 = true;
    }
  };
  return i3.modifyDoRenderImplementation && (v = i3.modifyDoRenderImplementation(v, f5, u2)), s3 = { renderNow: v, scheduleRender: () => {
    m || l2 || (m = requestAnimationFrame(v));
  }, stop: () => {
    m && (cancelAnimationFrame(m), m = void 0), l2 = true;
  }, resume: () => {
    l2 = false, p2 = true, s3.scheduleRender();
  }, append: (t4, r3) => {
    h2(n5.append, t4, r3);
  }, insertBefore: (t4, r3) => {
    h2(n5.insertBefore, t4, r3);
  }, merge: (t4, r3) => {
    h2(n5.merge, t4, r3);
  }, replace: (t4, r3) => {
    h2(n5.replace, t4, r3);
  }, detach: (e9) => {
    for (let t4 = 0; t4 < u2.length; t4++)
      if (u2[t4] === e9)
        return u2.splice(t4, 1), f5.splice(t4, 1)[0];
    throw new Error("renderFunction was not found");
  } }, s3;
};

// node_modules/@arcgis/core/widgets/support/tests.js
var e7 = /* @__PURE__ */ new Set();
function n10(n11) {
  e7.add(n11), n11.finally(() => e7.delete(n11));
}

// node_modules/@arcgis/core/widgets/Widget.js
var $;
var U = "esri.widgets.Widget";
var z = 0;
function W(e9, t4) {
  for (const r3 in t4)
    null != e9[r3] && ("object" == typeof e9[r3] && "object" == typeof t4[r3] ? W(e9[r3], t4 == null ? void 0 : t4[r3]) : e9[r3] = t4[r3]);
  return e9;
}
var x = s2({ postProcessProjectionOptions(e9) {
  const t4 = e9.eventHandlerInterceptor, r3 = /capture$/i;
  e9.eventHandlerInterceptor = (e10, s3, o6, i3) => {
    const n11 = t4 == null ? void 0 : t4(e10, s3, o6, i3), a3 = r3.test(e10);
    if (!((e10 = e10.replace(r3, "")).toLowerCase() in o6) || a3) {
      const t5 = e10[2].toLowerCase() + e10.slice(3), r4 = (e11) => n11 == null ? void 0 : n11.call(o6, e11);
      o6.addEventListener(t5, r4, a3);
      const s4 = () => o6.removeEventListener(t5, r4, a3), d4 = i3.afterRemoved;
      i3.afterRemoved = (e11) => {
        d4 == null ? void 0 : d4(e11), s4();
      };
    }
    return n11;
  };
}, handleInterceptedEvent(e9, t4, r3, s3) {
  const { eventPhase: o6, type: i3 } = s3, n11 = o6 === Event.CAPTURING_PHASE;
  let a3 = `on${i3}${n11 ? "capture" : ""}`;
  const d4 = t4.properties;
  (d4 && a3 in d4 || (a3 = `on${i3[0].toUpperCase()}${i3.slice(1)}${n11 ? "Capture" : ""}`, d4 && a3 in d4)) && (t2(), e9.scheduleRender(), d4[a3].call(d4.bind || r3, s3));
} });
var A2 = false;
var B = class extends n3(o2.EventedAccessor) {
  constructor(e9, t4) {
    super(e9, t4), this._attached = false, this._projector = x, this._readyForTrueRender = false, this.key = this, this.autoRenderingEnabled = true, this._loadLocale = k(async () => {
      var _a;
      if ((_a = this._messageBundleProps) == null ? void 0 : _a.length) {
        const e10 = await Promise.allSettled(this._messageBundleProps.map(async ({ bundlePath: e11, propertyName: t5 }) => {
          if (this.destroyed)
            return;
          let r4 = await h(e11);
          this.uiStrings && Object.keys(this.uiStrings) && (r4 = W(a(r4), this.uiStrings)), this[t5] = r4;
        }));
        if (this.destroyed)
          return;
        for (const t5 of e10)
          "rejected" === t5.status && n.getLogger(this).error("widget-intl:locale-error", this.declaredClass, t5.reason);
      }
      await this.loadLocale();
    }), n8();
    const r3 = "esri-widget-uid-" + n4(), s3 = this.render.bind(this);
    this._trackingTarget = new t(() => {
      this.autoRenderingEnabled && this.scheduleRender();
    });
    const o6 = () => ({ vnodeSelector: "div", properties: { key: `${r3}-hidden`, class: "", styles: { display: "none" } }, domNode: null, children: void 0, text: void 0 }), i3 = () => {
      var _a, _b;
      if (!this._readyForTrueRender || this.destroyed)
        return null;
      const e10 = s3() ?? o6(), t5 = e10.properties ?? (e10.properties = {});
      if (t5.key ?? (t5.key = r3), f4(e10.vnodeSelector)) {
        if (!this.visible)
          return o6();
      } else
        this.visible ? t5.styles || (t5.styles = {}) : (t5.class = "", t5.styles = { display: "none" }), (_a = t5.styles).display ?? (_a.display = "");
      let i4 = 0;
      return (_b = e10.children) == null ? void 0 : _b.forEach((e11) => {
        var _a2;
        f4(e11.vnodeSelector) || (e11.properties ?? (e11.properties = {}), (_a2 = e11.properties).key ?? (_a2.key = `${this.id}--${i4++}`));
      }), d2(this, e10);
    };
    this.render = () => {
      if (A2)
        return i3();
      let e10 = e2(this) ?? null;
      if (e10)
        return e10;
      this._trackingTarget.clear(), A2 = true;
      try {
        e10 = f(this._trackingTarget, i3);
      } catch (t5) {
        throw n.getLogger(this).error(t5), t5;
      } finally {
        A2 = false;
      }
      return e10 && c(this, e10), e10;
    };
    const d4 = this.beforeFirstRender();
    d4 ? this._resourcesFetch = d4.then(() => {
      this._readyForTrueRender = true, this._postInitialize();
    }) : (this._resourcesFetch = Promise.resolve().then(() => {
      this._postInitialize();
    }), this._readyForTrueRender = true), this.addResolvingPromise(this._resourcesFetch), n10(this._resourcesFetch);
  }
  normalizeCtorArgs(e9, t4) {
    const r3 = { ...e9 };
    return t4 && (r3.container = t4), r3;
  }
  postInitialize() {
  }
  beforeFirstRender() {
    var _a;
    const e9 = this.loadDependencies();
    return ((_a = this._messageBundleProps) == null ? void 0 : _a.length) || e9 ? Promise.all([e9, this._loadLocale()]).then(() => {
    }).catch(f2) : null;
  }
  loadDependencies() {
    return null;
  }
  loadLocale() {
    return null;
  }
  destroy() {
    this.destroyed || (u(this._trackingTarget), u(this.viewModel), this._detach(this.container), this._set("container", null), this._emitter.clear(), this.render = () => null, this._projector = null, o3(this));
  }
  set container(e9) {
    this._get("container") || this._set("container", e9);
  }
  castContainer(e9) {
    return e4(e9);
  }
  get domNode() {
    return this.container;
  }
  set domNode(e9) {
    this.container = e9;
  }
  get icon() {
    return null;
  }
  set icon(e9) {
    this._overrideIfSome("icon", e9);
  }
  get id() {
    var _a;
    return this._get("id") || ((_a = this.container) == null ? void 0 : _a.id) || Date.now().toString(16) + "-widget-" + z++;
  }
  set id(e9) {
    e9 && this._set("id", e9);
  }
  get label() {
    return this.declaredClass.split(".").pop();
  }
  set label(e9) {
    this._overrideIfSome("label", e9);
  }
  get renderable() {
    return this._resourcesFetch;
  }
  get visible() {
    return this._get("visible");
  }
  set visible(e9) {
    this._set("visible", e9);
  }
  get [($ = t3, e3)]() {
    return { projector: this._projector };
  }
  render() {
    throw new Error("not implemented");
  }
  scheduleRender() {
    this.destroyed || (o3(this), this._projector.scheduleRender());
  }
  own(e9) {
    i(n.getLogger(this), "`Widget.own()` is deprecated in favor of 'Widget.addHandles()'", { replacement: "Widget.addHandles()", version: "4.28" }), this.addHandles(e9);
  }
  classes(...e9) {
    return g.apply(this, e9);
  }
  renderNow() {
    o3(this), this._projector.renderNow();
  }
  _postInitialize() {
    var _a;
    if (this.destroyed)
      return;
    this.scheduleRender(), ((_a = this._delegatedEventNames) == null ? void 0 : _a.length) && this.addHandles(d(() => this.viewModel, (e10, t4) => {
      t4 && this.removeHandles("delegated-events"), e10 && n2(e10) && this.addHandles(this._delegatedEventNames.map((t5) => o(e10, t5, (e11) => {
        this.emit(t5, e11);
      })), "delegated-events");
    }, A)), this.postInitialize();
    const e9 = async () => {
      await this._loadLocale().catch(f2), this.scheduleRender();
    };
    this.addHandles([f3(e9), d(() => this.uiStrings, e9), p(() => this.container, (e10) => {
      this.destroyed || this._attach(e10);
    }, { initial: true, once: true })]);
  }
  _attach(e9) {
    e9 && (this._projector.merge(e9, this.render), this._attached = true);
  }
  _detach(e9) {
    var _a;
    this._attached && (this._projector.detach(this.render), this._attached = false), (_a = e9 == null ? void 0 : e9.parentNode) == null ? void 0 : _a.removeChild(e9);
  }
};
B[$] = true, e([y()], B.prototype, "_readyForTrueRender", void 0), e([y({ value: null })], B.prototype, "container", null), e([s("container")], B.prototype, "castContainer", null), e([y()], B.prototype, "icon", null), e([y()], B.prototype, "id", null), e([y()], B.prototype, "label", null), e([y()], B.prototype, "renderable", null), e([y()], B.prototype, "uiStrings", void 0), e([y()], B.prototype, "viewModel", void 0), e([y({ value: true })], B.prototype, "visible", null), e([y()], B.prototype, "key", void 0), e([y()], B.prototype, "children", void 0), e([y()], B.prototype, "afterCreate", void 0), e([y()], B.prototype, "afterUpdate", void 0), e([y()], B.prototype, "afterRemoved", void 0), B = e([a2(U)], B);
var D = B;

// node_modules/@arcgis/core/widgets/support/decorators/messageBundle.js
function e8(e9) {
  return (s3, r3) => {
    s3.hasOwnProperty("_messageBundleProps") || (s3._messageBundleProps = s3._messageBundleProps ? s3._messageBundleProps.slice() : []);
    s3._messageBundleProps.push({ bundlePath: e9, propertyName: r3 });
  };
}

export {
  e4 as e,
  n7 as n,
  o4 as o,
  i2 as i,
  r,
  D,
  e8 as e2
};
/*! Bundled license information:

@esri/calcite-components/dist/components/index.js:
  (*!
   * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
   * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
   * v2.6.0
   *)
*/
//# sourceMappingURL=chunk-RGCWZ2KZ.js.map
