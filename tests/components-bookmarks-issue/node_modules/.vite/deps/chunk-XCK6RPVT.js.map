{
  "version": 3,
  "sources": ["../../@arcgis/core/chunks/HeatmapDensity.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{addProjViewLocalOrigin as e}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as o}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as r}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as a}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function t(t){const s=new r,{vertex:d,fragment:u,attributes:n,varyings:l}=s;e(d,t);const{isAttributeDriven:c,usesHalfFloat:f}=t;return n.add(a.POSITION,\"vec3\"),n.add(a.UV0,\"vec2\"),c&&(n.add(a.FEATUREATTRIBUTE,\"float\"),l.add(\"attributeValue\",\"float\")),f&&s.constants.add(\"compressionFactor\",\"float\",.25),l.add(\"unitCirclePos\",\"vec2\"),d.uniforms.add(new i(\"radius\",(({resolutionForScale:e,searchRadius:i},{camera:o,screenToWorldRatio:r,overlayStretch:a})=>2*i*(0===e?1:e/r)*o.pixelRatio/o.fullViewport[2]/a))),d.code.add(o`\n    void main() {\n      unitCirclePos = uv0;\n\n      vec4 posProj = proj * (view * vec4(${a.POSITION}, 1.0));\n      vec4 quadOffset = vec4(unitCirclePos * radius, 0.0, 0.0);\n\n      ${c?o`attributeValue = ${a.FEATUREATTRIBUTE};`:\"\"}\n      gl_Position = posProj + quadOffset;\n    }\n  `),u.code.add(o`\n    void main() {\n      float radiusRatioSquared = dot(unitCirclePos, unitCirclePos);\n      if (radiusRatioSquared > 1.0) {\n        discard;\n      }\n\n      float oneMinusRadiusRatioSquared = 1.0 - radiusRatioSquared;\n      float density = oneMinusRadiusRatioSquared * oneMinusRadiusRatioSquared ${c?o` * attributeValue`:\"\"} ${f?o` * compressionFactor`:\"\"};\n      fragColor = vec4(density);\n    }\n  `),s}const s=Object.freeze(Object.defineProperty({__proto__:null,build:t},Symbol.toStringTag,{value:\"Module\"}));export{s as H,t as b};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAI0c,SAAS,EAAEA,IAAE;AAAC,QAAMC,KAAE,IAAIC,MAAE,EAAC,QAAOC,IAAE,UAAS,GAAE,YAAW,GAAE,UAAS,EAAC,IAAEF;AAAE,IAAEE,IAAEH,EAAC;AAAE,QAAK,EAAC,mBAAkB,GAAE,eAAc,EAAC,IAAEA;AAAE,SAAO,EAAE,IAAI,EAAE,UAAS,MAAM,GAAE,EAAE,IAAI,EAAE,KAAI,MAAM,GAAE,MAAI,EAAE,IAAI,EAAE,kBAAiB,OAAO,GAAE,EAAE,IAAI,kBAAiB,OAAO,IAAG,KAAGC,GAAE,UAAU,IAAI,qBAAoB,SAAQ,IAAG,GAAE,EAAE,IAAI,iBAAgB,MAAM,GAAEE,GAAE,SAAS,IAAI,IAAID,GAAE,UAAU,CAAC,EAAC,oBAAmBE,IAAE,cAAa,EAAC,GAAE,EAAC,QAAOF,IAAE,oBAAmB,GAAE,gBAAe,EAAC,MAAI,IAAE,KAAG,MAAIE,KAAE,IAAEA,KAAE,KAAGF,GAAE,aAAWA,GAAE,aAAa,CAAC,IAAE,CAAE,CAAC,GAAEC,GAAE,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA,2CAIt6B,EAAE,QAAQ;AAAA;AAAA;AAAA,QAG7C,IAAE,qBAAqB,EAAE,gBAAgB,MAAI,EAAE;AAAA;AAAA;AAAA,GAGpD,GAAE,EAAE,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gFAQgE,IAAE,uBAAqB,EAAE,IAAI,IAAE,0BAAwB,EAAE;AAAA;AAAA;AAAA,GAGtI,GAAEF;AAAC;AAAC,IAAM,IAAE,OAAO,OAAO,OAAO,eAAe,EAAC,WAAU,MAAK,OAAM,EAAC,GAAE,OAAO,aAAY,EAAC,OAAM,SAAQ,CAAC,CAAC;",
  "names": ["t", "s", "o", "d", "e"]
}
