{
  "version": 3,
  "sources": ["../../@arcgis/core/symbols/cim/rasterizingUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{packFloatRGBA as o}from\"../../core/floatRGBA.js\";import{nextPowerOfTwo as t}from\"../../core/mathUtils.js\";import{dashRadius as a}from\"./constants.js\";const r=o=>\"vertical\"===o||\"horizontal\"===o||\"cross\"===o||\"esriSFSCross\"===o||\"esriSFSVertical\"===o||\"esriSFSHorizontal\"===o;function e(o,a,e){const i=a.style,n=t(Math.ceil(e)),s=r(i)?8*n:16*n,l=2*n;o.width=s,o.height=s;const h=o.getContext(\"2d\");h.strokeStyle=\"#FFFFFF\",h.lineWidth=n,h.beginPath(),\"vertical\"!==i&&\"cross\"!==i&&\"esriSFSCross\"!==i&&\"esriSFSVertical\"!==i||(h.moveTo(s/2,-l),h.lineTo(s/2,s+l)),\"horizontal\"!==i&&\"cross\"!==i&&\"esriSFSCross\"!==i&&\"esriSFSHorizontal\"!==i||(h.moveTo(-l,s/2),h.lineTo(s+l,s/2)),\"backward-diagonal\"!==i&&\"diagonal-cross\"!==i&&\"esriSFSDiagonalCross\"!==i&&\"esriSFSBackwardDiagonal\"!==i||(h.moveTo(-l,-l),h.lineTo(s+l,s+l),h.moveTo(s-l,-l),h.lineTo(s+l,l),h.moveTo(-l,s-l),h.lineTo(l,s+l)),\"forward-diagonal\"!==i&&\"diagonal-cross\"!==i&&\"esriSFSForwardDiagonal\"!==i&&\"esriSFSDiagonalCross\"!==i||(h.moveTo(s+l,-l),h.lineTo(-l,s+l),h.moveTo(l,-l),h.lineTo(-l,l),h.moveTo(s+l,s-l),h.lineTo(s-l,s+l)),h.stroke();const c=h.getImageData(0,0,o.width,o.height),m=new Uint8Array(c.data);let S;for(let t=0;t<m.length;t+=4)S=m[t+3]/255,m[t]=m[t]*S,m[t+1]=m[t+1]*S,m[t+2]=m[t+2]*S;return[m,o.width,o.height,n]}function i(t,r){const e=\"Butt\"===r,i=\"Square\"===r,n=!e&&!i;t.length%2==1&&(t=[...t,...t]);const s=a,l=2*s;let h=0;for(const o of t)h+=o;const c=Math.round(h*s),m=new Float32Array(c*l),S=.5*s;let F=0,g=0,T=.5,d=!0;for(const o of t){for(F=g,g+=o*s;T<=g;){let o=.5;for(;o<l;){const t=(o-.5)*c+T-.5,a=n?(o-s)*(o-s):Math.abs(o-s);m[t]=d?e?Math.max(Math.max(F+S-T,a),Math.max(T-g+S,a)):a:n?Math.min((T-F)*(T-F)+a,(T-g)*(T-g)+a):i?Math.min(Math.max(T-F,a),Math.max(g-T,a)):Math.min(Math.max(T-F+S,a),Math.max(g+S-T,a)),o++}T++}d=!d}const f=m.length,M=new Uint8Array(4*f);for(let a=0;a<f;++a){const t=(n?Math.sqrt(m[a]):m[a])/s;o(t,M,4*a)}return[M,c,l]}export{i as rasterizeDash,e as rasterizeFillStyle};\n"],
  "mappings": "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",
  "names": ["o", "e", "i", "r", "t"]
}
