{
  "version": 3,
  "sources": ["../../@arcgis/core/geometry/support/lineSegment.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../core/mathUtils.js\";import{ObjectStack as r}from\"../../core/ObjectStack.js\";import{c as n,f as o,k as e,h as i,g as c,p as s,a}from\"../../chunks/vec32.js\";import{clone as u,create as g}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{sv3d as f}from\"./vectorStacks.js\";function v(t){return t?{origin:u(t.origin),vector:u(t.vector)}:{origin:g(),vector:g()}}function p(t,r){const n=S.get();return n.origin=t,n.vector=r,n}function m(t,r=v()){return h(t.origin,t.vector,r)}function h(t,r,o=v()){return n(o.origin,t),n(o.vector,r),o}function b(t,r,e=v()){return n(e.origin,t),o(e.vector,r,t),e}function M(r,n){const c=o(f.get(),n,r.origin),s=e(r.vector,c),a=e(r.vector,r.vector),u=t(s/a,0,1),g=o(f.get(),i(f.get(),r.vector,u),c);return e(g,g)}function j(t,r,n){return A(t,r,0,1,n)}function l(t,r,n){return c(n,t.origin,i(n,t.vector,r))}function A(r,n,a,u,g){const{vector:v,origin:p}=r,m=o(f.get(),n,p),h=e(v,m)/s(v);return i(g,v,t(h,a,u)),c(g,g,r.origin)}function B(t,r){if(k(t,p(r.origin,r.direction),!1,x)){const{tA:r,pB:n,distance2:o}=x;if(r>=0&&r<=1)return o;if(r<0)return a(t.origin,n);if(r>1)return a(c(f.get(),t.origin,t.vector),n)}return null}function d(t,r,o){return!!k(t,r,!0,x)&&(n(o,x.pA),!0)}function k(r,n,o,e){const i=1e-6,s=r.origin,u=c(f.get(),s,r.vector),g=n.origin,v=c(f.get(),g,n.vector),p=f.get(),m=f.get();if(p[0]=s[0]-g[0],p[1]=s[1]-g[1],p[2]=s[2]-g[2],m[0]=v[0]-g[0],m[1]=v[1]-g[1],m[2]=v[2]-g[2],Math.abs(m[0])<i&&Math.abs(m[1])<i&&Math.abs(m[2])<i)return!1;const h=f.get();if(h[0]=u[0]-s[0],h[1]=u[1]-s[1],h[2]=u[2]-s[2],Math.abs(h[0])<i&&Math.abs(h[1])<i&&Math.abs(h[2])<i)return!1;const b=p[0]*m[0]+p[1]*m[1]+p[2]*m[2],M=m[0]*h[0]+m[1]*h[1]+m[2]*h[2],j=p[0]*h[0]+p[1]*h[1]+p[2]*h[2],l=m[0]*m[0]+m[1]*m[1]+m[2]*m[2],A=(h[0]*h[0]+h[1]*h[1]+h[2]*h[2])*l-M*M;if(Math.abs(A)<i)return!1;let B=(b*M-j*l)/A,d=(b+M*B)/l;o&&(B=t(B,0,1),d=t(d,0,1));const k=f.get(),x=f.get();return k[0]=s[0]+B*h[0],k[1]=s[1]+B*h[1],k[2]=s[2]+B*h[2],x[0]=g[0]+d*m[0],x[1]=g[1]+d*m[1],x[2]=g[2]+d*m[2],e.tA=B,e.tB=d,e.pA=k,e.pB=x,e.distance2=a(k,x),!0}const x={tA:0,tB:0,pA:g(),pB:g(),distance2:0},S=new r((()=>v()));export{d as closestLineSegmentPoint,B as closestRayDistance2,m as copy,v as create,M as distance2,b as fromPoints,h as fromValues,l as pointAt,j as projectPoint,A as projectPointClamp,p as wrap};\n"],
  "mappings": "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",
  "names": ["v", "t", "p", "r", "n", "e", "c", "s", "u", "g", "m", "h", "b", "M", "j", "l", "A", "B", "d", "k", "x"]
}
