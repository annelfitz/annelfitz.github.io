import {
  L as L3,
  k as k4,
  s as s6
} from "./chunk-V4GNOX5M.js";
import "./chunk-THQ2DNZA.js";
import {
  pe
} from "./chunk-H2X5RBRV.js";
import {
  $,
  J as J2
} from "./chunk-WU7QPFL3.js";
import "./chunk-3JWLLOPA.js";
import {
  F,
  h as h5,
  m as m4,
  o as o6,
  t as t2
} from "./chunk-HUT7NKW5.js";
import {
  h as h6
} from "./chunk-DSYR24NA.js";
import "./chunk-5HWGOVOV.js";
import "./chunk-3RT7534N.js";
import "./chunk-R5A6POKY.js";
import "./chunk-CGJEHQM2.js";
import {
  s as s5,
  t
} from "./chunk-MYIS6GAM.js";
import "./chunk-CRYY7ZCN.js";
import {
  e as e9
} from "./chunk-YBFQVZX5.js";
import {
  e as e10
} from "./chunk-XTC23A5V.js";
import "./chunk-AVQM6UNY.js";
import {
  a as a5,
  l as l4
} from "./chunk-ZIKY3AX6.js";
import "./chunk-VGQTAP4F.js";
import {
  p as p3,
  q as q2,
  u as u5
} from "./chunk-YSRCOU2A.js";
import "./chunk-EZMIPVQL.js";
import "./chunk-7IFMSG3H.js";
import "./chunk-CA3XJ2RX.js";
import "./chunk-JASPUPTW.js";
import "./chunk-TKMRXVLK.js";
import "./chunk-LEFES6LS.js";
import "./chunk-AEAYH74I.js";
import "./chunk-6BCJJDKK.js";
import "./chunk-DNFHDQRJ.js";
import "./chunk-TO6UIATU.js";
import "./chunk-WCBCYPOZ.js";
import "./chunk-3FTSPLRV.js";
import "./chunk-OMRW2J7M.js";
import "./chunk-UXQH3C5A.js";
import "./chunk-5SYJEI74.js";
import "./chunk-VUHMQQ6M.js";
import "./chunk-6GQQIJM7.js";
import "./chunk-PAH4PVZY.js";
import "./chunk-2GT6KC2O.js";
import "./chunk-637XZX4A.js";
import {
  i as i5
} from "./chunk-EL74TSJT.js";
import "./chunk-PTIWH4S7.js";
import {
  o as o5,
  r as r6
} from "./chunk-67GTVIII.js";
import {
  h as h4,
  p as p2
} from "./chunk-LNR6W2LA.js";
import "./chunk-ZGRPTRAY.js";
import {
  L as L2
} from "./chunk-UN4X7MBS.js";
import {
  n as n5
} from "./chunk-BEXFYHUM.js";
import {
  _ as _2
} from "./chunk-K3DEHPDR.js";
import "./chunk-I6RS7YIS.js";
import "./chunk-ZGQG4C5J.js";
import "./chunk-UVHAFHZU.js";
import {
  H
} from "./chunk-TCQ65UXM.js";
import "./chunk-4ZRUV2JM.js";
import {
  e as e8
} from "./chunk-D5LHX57G.js";
import {
  e as e7,
  n as n4
} from "./chunk-HLKM6YBE.js";
import "./chunk-CDYT7KXF.js";
import "./chunk-KZN32FM2.js";
import "./chunk-WFTDPAWN.js";
import "./chunk-BVUFFGBR.js";
import {
  I as I2,
  y as y2
} from "./chunk-F4RCQNKU.js";
import {
  J,
  K
} from "./chunk-KDAM4HTO.js";
import "./chunk-WK2KEW7P.js";
import "./chunk-G4YIJOSP.js";
import "./chunk-PMQ5HDZI.js";
import {
  e as e6
} from "./chunk-EAAEPSBY.js";
import "./chunk-GEMKWQ3Q.js";
import "./chunk-I7LDU4W6.js";
import {
  h as h3
} from "./chunk-NAWP2ZCR.js";
import "./chunk-M5DWZKDJ.js";
import "./chunk-7KNPDPFB.js";
import "./chunk-M6P775BS.js";
import "./chunk-J5F4VILS.js";
import "./chunk-KSBIR2KG.js";
import "./chunk-7A5N7G2Z.js";
import "./chunk-FD7NY4JS.js";
import "./chunk-ZPC74XHC.js";
import "./chunk-IVGJRGD2.js";
import "./chunk-MTLWPXQD.js";
import "./chunk-ZEMG7GKC.js";
import "./chunk-XIWETS2Q.js";
import "./chunk-QFKFOAJ6.js";
import "./chunk-LOPMLCHC.js";
import "./chunk-JIR2YP6A.js";
import "./chunk-LANUNBDP.js";
import "./chunk-JBF6CULO.js";
import "./chunk-DRCNNCTI.js";
import "./chunk-MKOOEINB.js";
import "./chunk-JKOHBDRD.js";
import "./chunk-MDSRD3WV.js";
import "./chunk-3DFMDDMO.js";
import "./chunk-4BCSYJOQ.js";
import "./chunk-GMUCR2DJ.js";
import "./chunk-HBRJJENW.js";
import "./chunk-VHY5K2VE.js";
import "./chunk-6ENXMQPD.js";
import "./chunk-FV43HSGW.js";
import "./chunk-ZR7OV2EH.js";
import "./chunk-U76EZJUZ.js";
import "./chunk-MEEG7XMI.js";
import "./chunk-LJULTBAY.js";
import "./chunk-LO5UMUY4.js";
import "./chunk-54XXLVAD.js";
import "./chunk-KO7QNSNZ.js";
import "./chunk-YKIGDW5O.js";
import "./chunk-6MGK5WBT.js";
import "./chunk-CPZW2LMK.js";
import "./chunk-QR7J3YDY.js";
import "./chunk-GO2OGJDG.js";
import "./chunk-UYMREM3D.js";
import "./chunk-QREUCRQ4.js";
import "./chunk-YK3UMVCY.js";
import "./chunk-5YY6NZNY.js";
import "./chunk-YJFPDMSR.js";
import "./chunk-ECTYMEUP.js";
import {
  h as h2
} from "./chunk-I4SHZ6P5.js";
import "./chunk-JBU54P54.js";
import {
  i as i4,
  l as l3,
  m as m3
} from "./chunk-D2U65FA6.js";
import "./chunk-RK2U53CD.js";
import "./chunk-YPY24RRU.js";
import "./chunk-O7RKI2QW.js";
import "./chunk-H7T5AB2S.js";
import "./chunk-WKVHVZW2.js";
import "./chunk-33LWZO2E.js";
import "./chunk-YT66FIGM.js";
import "./chunk-RLZYC2LS.js";
import "./chunk-TXLJQAAN.js";
import "./chunk-IRL6OOVK.js";
import "./chunk-3AIILHI5.js";
import "./chunk-MGFAIE2L.js";
import "./chunk-SA77Z3WI.js";
import "./chunk-D56W4LPT.js";
import "./chunk-BKOYOJBG.js";
import "./chunk-B4E4X2TN.js";
import "./chunk-HS6YI5DU.js";
import "./chunk-CDBOQCLE.js";
import "./chunk-RSRUEM5U.js";
import "./chunk-HFJMEXIX.js";
import "./chunk-VYSGSKHB.js";
import "./chunk-UAFQMHYI.js";
import "./chunk-IDPLBNJX.js";
import "./chunk-ZHAZR5C3.js";
import "./chunk-P4MNTMCZ.js";
import "./chunk-EWD7I5UU.js";
import "./chunk-4UEJR4VO.js";
import "./chunk-BUEJAM23.js";
import "./chunk-LQR76D5M.js";
import "./chunk-2CWW7O7M.js";
import "./chunk-Q5NCQLSM.js";
import "./chunk-FLBJ53KN.js";
import "./chunk-YH2IYJYF.js";
import "./chunk-BSPKLAHD.js";
import "./chunk-GGHKH3LP.js";
import {
  s as s4
} from "./chunk-VS6AHHIY.js";
import {
  l as l2
} from "./chunk-WZJNHZ6H.js";
import "./chunk-XMYPMIYH.js";
import "./chunk-FQLGRQKL.js";
import "./chunk-DIT542IP.js";
import "./chunk-HFYOMP47.js";
import "./chunk-TOKUWZQG.js";
import "./chunk-JNGJWHJD.js";
import "./chunk-QMPD4WXY.js";
import "./chunk-OF4YIONV.js";
import "./chunk-YBPOKK6D.js";
import "./chunk-AHEDDTVZ.js";
import "./chunk-Z4ALW6LX.js";
import "./chunk-H4O73SDK.js";
import "./chunk-UVXSAP7V.js";
import "./chunk-IZ3VJLQ6.js";
import "./chunk-DRC4XSYG.js";
import "./chunk-IHQNQQJC.js";
import "./chunk-4IKPTZ53.js";
import "./chunk-DXMBDX2I.js";
import "./chunk-TUVEYM7U.js";
import "./chunk-5S637BGW.js";
import "./chunk-BFOJPIF7.js";
import "./chunk-7UUNSIMA.js";
import "./chunk-GMRQGGML.js";
import "./chunk-BYK4ZOU2.js";
import "./chunk-OHYLFFUW.js";
import "./chunk-XW3FDKYP.js";
import "./chunk-Y7RXGLGH.js";
import "./chunk-3JC3OUNW.js";
import "./chunk-RO3CTAP7.js";
import "./chunk-GKMVTGGM.js";
import "./chunk-XGTCDM4C.js";
import "./chunk-QNG4TY7L.js";
import "./chunk-RW5QMWE6.js";
import "./chunk-LGMX4E7L.js";
import "./chunk-2QCWKZIQ.js";
import "./chunk-2NPNEA6N.js";
import "./chunk-U34ZXOJT.js";
import "./chunk-OKRW5W44.js";
import "./chunk-RGAA5Z76.js";
import "./chunk-Q6RZBEZ6.js";
import "./chunk-PC66NY33.js";
import "./chunk-YY2VB3AE.js";
import {
  d as d3
} from "./chunk-VEYMN5N3.js";
import "./chunk-H6NTWZSO.js";
import "./chunk-BMT3OVAP.js";
import "./chunk-W5ALAOW2.js";
import "./chunk-FHDHOWK5.js";
import "./chunk-Y546C2O5.js";
import "./chunk-IYKBAIQE.js";
import "./chunk-BDRVHR2K.js";
import "./chunk-DVIGFJWY.js";
import "./chunk-LQBHIBXV.js";
import "./chunk-B35SNV2V.js";
import "./chunk-Z2F5OKVA.js";
import "./chunk-UQA6M3KF.js";
import "./chunk-GLF3KRAL.js";
import "./chunk-ZLQTPFTL.js";
import "./chunk-HZSGATFT.js";
import "./chunk-KNMQQRV7.js";
import "./chunk-N5GQOIDP.js";
import "./chunk-NFB6O77E.js";
import "./chunk-AKEHDP75.js";
import "./chunk-5MMGIT64.js";
import "./chunk-AKQ765JR.js";
import "./chunk-ERD6I7QP.js";
import "./chunk-QIT4M76C.js";
import "./chunk-EZL4LTMD.js";
import "./chunk-F3BQGS35.js";
import "./chunk-Z3NX5DTX.js";
import "./chunk-J4RP32NG.js";
import "./chunk-6NLHKXEW.js";
import {
  V as V2,
  b
} from "./chunk-LMO6NZJA.js";
import {
  a as a4,
  i as i2
} from "./chunk-A5QTLE4Y.js";
import "./chunk-SCHTG6ZQ.js";
import {
  i as i3,
  u as u4
} from "./chunk-YUUTEPX2.js";
import "./chunk-OHE3HDFF.js";
import {
  f as f3
} from "./chunk-QYC3GV65.js";
import "./chunk-ETHGDNE6.js";
import "./chunk-X2GCSX3A.js";
import "./chunk-HV2SFSJW.js";
import "./chunk-7EQJLP2H.js";
import "./chunk-4ZLXDMI5.js";
import "./chunk-SBARCIDP.js";
import "./chunk-EMYOYGGK.js";
import "./chunk-6PMFOUWZ.js";
import "./chunk-3KPZ3BQR.js";
import "./chunk-5JYVZQZR.js";
import "./chunk-UUG4W2PI.js";
import "./chunk-WW22JHXA.js";
import "./chunk-ZAM62XN5.js";
import "./chunk-RKVEKQ5O.js";
import "./chunk-P7J4JFEH.js";
import "./chunk-G7FOE26O.js";
import "./chunk-USOPZ2Q6.js";
import "./chunk-S5I4QKJD.js";
import "./chunk-LSM34QAB.js";
import "./chunk-HWHMO3CO.js";
import {
  m as m2
} from "./chunk-NCRCDVOW.js";
import "./chunk-QX66UTIR.js";
import "./chunk-TCRKKQAL.js";
import "./chunk-77YSHEUQ.js";
import {
  n as n3,
  r as r5
} from "./chunk-JW7VBMHD.js";
import {
  S as S2
} from "./chunk-GLLRUDMY.js";
import "./chunk-ZIJHDTB7.js";
import "./chunk-ZU6I4R6T.js";
import "./chunk-JI3AZJ7K.js";
import "./chunk-A5Q7MMP6.js";
import "./chunk-326OSIM5.js";
import "./chunk-R4CJB3GP.js";
import "./chunk-HTKSTTSR.js";
import "./chunk-6IED7TER.js";
import {
  I2 as I,
  _2 as _,
  je
} from "./chunk-X7VSXJWW.js";
import "./chunk-VEODBKUJ.js";
import "./chunk-AG6JXA4M.js";
import "./chunk-B647DRFJ.js";
import "./chunk-PJNK3TLV.js";
import "./chunk-J7AMTUNG.js";
import "./chunk-G5EVVNIJ.js";
import "./chunk-HU5IGOTI.js";
import "./chunk-C24MEKSO.js";
import "./chunk-WDPG5BMO.js";
import "./chunk-TGXFDJCS.js";
import {
  e as e5
} from "./chunk-BOAEEYBE.js";
import "./chunk-VBUVOOM6.js";
import "./chunk-WMUEII2O.js";
import "./chunk-6QNF7OHN.js";
import "./chunk-AKLOTDO2.js";
import "./chunk-6AQIVLDN.js";
import "./chunk-I5RCKVDX.js";
import "./chunk-6CWL7BCV.js";
import "./chunk-DVI5RM3W.js";
import "./chunk-LBXFRGMS.js";
import "./chunk-VTH4DAHQ.js";
import {
  B,
  O as O2,
  c as c3,
  k as k3,
  r as r4,
  x
} from "./chunk-HLDUDRTD.js";
import "./chunk-SLQA5YBV.js";
import "./chunk-UMXV3EBO.js";
import "./chunk-ONK5AE7R.js";
import "./chunk-CZSTCON2.js";
import "./chunk-2ICUS4HL.js";
import "./chunk-ZXJ6I4RF.js";
import "./chunk-GBF2OQAY.js";
import "./chunk-WNNYD62G.js";
import "./chunk-HV6S3GY2.js";
import "./chunk-IGR2BTWR.js";
import "./chunk-C7NPPGFR.js";
import "./chunk-ZPYA32PH.js";
import "./chunk-OCF7OAES.js";
import "./chunk-JZBR4X6W.js";
import "./chunk-OIJCMME5.js";
import "./chunk-4KLYOMH2.js";
import "./chunk-CXNX736Z.js";
import {
  D,
  e2 as e4,
  r as r3
} from "./chunk-RGCWZ2KZ.js";
import {
  i,
  n as n2
} from "./chunk-5VMSFOCB.js";
import "./chunk-LGQXPGTM.js";
import {
  g,
  q
} from "./chunk-2SDMYJDE.js";
import {
  r as r2
} from "./chunk-TPLOIZC7.js";
import {
  s as s3
} from "./chunk-C62RZQQX.js";
import "./chunk-6Z6C6JVV.js";
import "./chunk-QLL2YG25.js";
import "./chunk-Z2PDA67N.js";
import "./chunk-545NO6M2.js";
import "./chunk-5LSHHVQ5.js";
import "./chunk-IZKCZQUY.js";
import "./chunk-M5ZB5S5C.js";
import "./chunk-MBGZKT2Z.js";
import {
  A as A2,
  C as C2,
  G,
  w as w2
} from "./chunk-UWQ3OYA5.js";
import "./chunk-ORO4D3FB.js";
import "./chunk-YOPMY6TS.js";
import "./chunk-VIN55KNF.js";
import "./chunk-NIDZ6R4E.js";
import "./chunk-IOB3DJMR.js";
import "./chunk-BPRXWDBO.js";
import "./chunk-7MT4ACA4.js";
import "./chunk-RUN6MNXL.js";
import "./chunk-BIAXSBMP.js";
import {
  a as a3
} from "./chunk-SAYWXQVM.js";
import "./chunk-SBL4URUW.js";
import {
  A,
  C,
  P,
  d as d2,
  p,
  v,
  w
} from "./chunk-Z4Y53NDM.js";
import {
  V
} from "./chunk-PVUNFEWX.js";
import {
  o as o4
} from "./chunk-TXBMNSNF.js";
import {
  d
} from "./chunk-BVQWKK2V.js";
import "./chunk-D25BO7X7.js";
import {
  S,
  c as c2,
  o,
  r,
  y2 as y
} from "./chunk-NDIXNREV.js";
import {
  a3 as a2
} from "./chunk-I2RC5KWA.js";
import "./chunk-SSFWZSUM.js";
import {
  e
} from "./chunk-2F6FFF5T.js";
import "./chunk-C26KUZ46.js";
import {
  L,
  c2 as c,
  e as e3,
  f2,
  h,
  k as k2,
  m,
  o as o3,
  s as s2,
  u as u2,
  u2 as u3
} from "./chunk-JGDJR5EV.js";
import {
  e as e2,
  f,
  l,
  u
} from "./chunk-QHK5ZYFW.js";
import "./chunk-L65HKN25.js";
import {
  a,
  n2 as n,
  s
} from "./chunk-7RBRCL6S.js";
import {
  O,
  k,
  o as o2
} from "./chunk-J2EGIWT6.js";
import "./chunk-MDRC3XUT.js";
import "./chunk-NCF6OYL5.js";
import "./chunk-Z4ZPL3B3.js";

// node_modules/@arcgis/core/widgets/Editor/css.js
var e11 = "esri-editor";
var t3 = { base: e11, helpMessage: `${e11}__help-message`, updateActions: `${e11}__update-actions`, updateActionsList: `${e11}__update-actions-list`, featureTemplatesContainer: `${e11}__feature-templates-container`, templateItemContentEnd: `${e11}__template-item-content-end` };

// node_modules/@arcgis/core/widgets/Editor/CreateFeaturesWorkflowData.js
var p4 = class extends S {
  constructor(o10) {
    super(o10), this.creationInfo = null, this.editorItem = null, this.parent = null, this.pendingFeatures = new V(), this.sketchOptions = null, this.snappingManager = null, this.viewModel = null, this.upload = null;
  }
};
e([y()], p4.prototype, "creationInfo", void 0), e([y()], p4.prototype, "editorItem", void 0), e([y()], p4.prototype, "parent", void 0), e([y({ constructOnly: true })], p4.prototype, "sketchOptions", void 0), e([y()], p4.prototype, "snappingManager", void 0), e([y()], p4.prototype, "viewModel", void 0), e([y()], p4.prototype, "upload", void 0), p4 = e([a2("esri.widgets.Editor.CreateFeaturesWorkflowData")], p4);

// node_modules/@arcgis/core/widgets/Editor/workflowUtils.js
function L4(e14) {
  const t5 = e14.sourceLayer;
  if (!t5 || "feature" !== t5.type || !P2(t5.renderer))
    return { rotation: null, size: null };
  let r14 = null, i11 = null;
  const a12 = t5.renderer.getVisualVariablesForType("rotation").filter((t6) => (!t6.axis || "heading" === t6.axis) && t6.field && !t6.valueExpression && null != b(t6, e14));
  1 === a12.length && (r14 = x2(a12[0], t5));
  const n14 = t5.renderer.getVisualVariablesForType("size").filter((t6) => t6.field && !t6.useSymbolValue && !t6.valueExpression && a4(t6) === i2.RealWorldSize && null != V2(t6, e14));
  return 1 === n14.length && (i11 = E(n14[0], t5)), { rotation: r14, size: i11 };
}
function x2(e14, t5) {
  const r14 = "heading" === (e14.axis || "heading") && "arithmetic" === e14.rotationType ? -1 : 1, i11 = e14.field, a12 = t5.fields && t5.fields.filter((e15) => e15.name === i11), n14 = a12 && 1 === a12.length ? a12[0].type : "double", s13 = { initial: 0, current: 0 };
  return { field: i11, fieldType: n14, getDefault: () => Promise.resolve(0), getValue: (e15) => (s13.current = s13.initial - r14 * e15, M((s13.current + 360) % 360, n14)), setInitialValue: (e15) => {
    s13.initial = e15, s13.current = 0;
  }, isUpdatingInteractively: false, rotationType: e14.rotationType ?? "geographic" };
}
function k5(e14, t5) {
  switch (t5) {
    case "width":
      return e14[0];
    case "depth":
      return e14[1];
    case "height":
      return e14[2];
    default:
      return e14[2] || e14[1] || e14[0];
  }
}
async function A3(e14, t5, r14) {
  if (null == t5)
    return 0;
  const { symbol: i11 } = S2(t5);
  if (null == i11 || "web-style" === i11.type || "cim" === i11.type)
    return 0;
  const a12 = i11.symbolLayers.at(0);
  if (!a12)
    return 0;
  switch (a12.type) {
    case "icon": {
      const { computeIconLayerResourceSize: e15 } = await import("./symbolLayerUtils-EC4KYQIP.js");
      return a12.size || Math.min(te.icon, (await e15(a12, te.icon))[0]) || te.icon;
    }
    case "text":
      return a12.size || te.text;
    case "line":
      return a12.size || te.line;
    case "object": {
      const { computeObjectLayerResourceSize: t6 } = await import("./symbolLayerUtils-EC4KYQIP.js");
      return k5(await t6(a12, e14.scale / te.viewScaleSizeFactor), r14);
    }
    case "path":
      return (null != a12.width ? a12.width : a12.height) || e14.scale / te.viewScaleSizeFactor;
    case "extrude":
      return a12.size || e14.scale / te.viewScaleSizeFactor;
    default:
      return 0;
  }
}
function E(e14, t5) {
  const r14 = e14.field, i11 = e14.axis, a12 = t5.fields && t5.fields.filter((e15) => e15.name === r14), n14 = a12 && 1 === a12.length ? a12[0].type : "double", s13 = { initial: 0, current: 0 }, l6 = m2[e14.valueUnit] ?? 1;
  let o10;
  return o10 = "area" === e14.valueRepresentation ? (e15) => (e15 * l6 / 2) ** 2 * Math.PI : "radius" === e14.valueRepresentation || "distance" === e14.valueRepresentation ? (e15) => e15 * l6 / 2 : (e15) => e15 * l6, { field: r14, fieldType: n14, getDefault: async (e15, t6) => M(o10(await A3(t6, e15, i11)), n14), getValue: (e15, t6) => (s13.initial || (s13.initial = t6.pixelSizeAt(t6.center)), s13.current = s13.initial * e15, M(s13.current, n14)), setInitialValue: (e15) => {
    s13.initial = e15, s13.current = 0;
  }, isUpdatingInteractively: false, displayUnit: ae(e14.valueUnit), axis: e14.axis };
}
function M(e14, t5) {
  switch (t5) {
    case "small-integer":
    case "integer":
    case "long":
      return Math.round(e14);
    case "double":
    case "single":
      return e14;
    default:
      return 0;
  }
}
function P2(e14) {
  switch (e14 == null ? void 0 : e14.type) {
    case "class-breaks":
    case "simple":
    case "unique-value":
    case "dot-density":
    case "dictionary":
    case "pie-chart":
      return true;
    default:
      return false;
  }
}
async function C3(e14, t5, r14) {
  const i11 = await L2(e14, { useSourceLayer: true, ignoreGraphicSymbol: true, webStyleCache: t5, scale: r14 });
  null != d3(e14.symbol, i11) && (e14.symbol = i11);
}
function R(e14) {
  if (!e14)
    throw new Error("no geometry type");
  return "multipatch" === e14 ? "mesh" : e14;
}
async function O3(e14, t5, r14) {
  var _a;
  const a12 = t5.layer, n14 = { ...(_a = t5.template) == null ? void 0 : _a.prototype.attributes, ...t5.attributeOverrides };
  let s13 = null;
  const { view: l6 } = e14, u7 = "2d" === (l6 == null ? void 0 : l6.type);
  if (await G2(e14, a12, n14, r14, u7 ? l6.scale : null), u7) {
    const t6 = k2((t7) => G2(e14, a12, n14, r14, t7));
    s13 = d2(() => l6.scale, (e15) => t6(e15));
  }
  const { data: p12, editing: y4 } = a12.capabilities;
  return e14.layer.elevationInfo = a12.elevationInfo, null == t5.geometryToPlace ? await e14.create(R(a12.geometryType), { graphicProperties: { attributes: n14, sourceLayer: a12 }, hasZ: p12.supportsZ, defaultZ: (u7 ? y4.zDefault : null) ?? e14.defaultCreateOptions.defaultZ }) : await e14.place(t5.geometryToPlace, { graphicProperties: { attributes: n14, sourceLayer: a12 } }), s13 ?? e3();
}
async function G2(t5, r14, i11, a12, n14) {
  const s13 = new f3({ sourceLayer: r14, attributes: i11 }), { rotation: l6, size: o10 } = L4(s13);
  let c10 = await L2(s13, { useSourceLayer: true, webStyleCache: a12, scale: n14 }), u7 = false;
  for (const e14 of [o10, l6]) {
    if (null == e14)
      continue;
    null == i11[e14.field] && (i11[e14.field] = await e14.getDefault(c10, t5.view), u7 = true);
  }
  switch (u7 && (c10 = await L2(s13, { useSourceLayer: true, webStyleCache: a12, scale: n14 })), c10 == null ? void 0 : c10.type) {
    case "simple-fill":
    case "polygon-3d":
      t5.polygonSymbol = c10;
      break;
    case "simple-line":
    case "line-3d":
      t5.polylineSymbol = c10;
      break;
    case "simple-marker":
    case "picture-marker":
    case "point-3d":
    case "cim":
      t5.pointSymbol = c10;
      break;
    case "mesh-3d":
      t5.meshSymbol = c10;
  }
  D2(t5.tooltipOptions, o10, l6);
}
function D2(e14, t5, r14) {
  e14.visualVariables = null != t5 || null != r14 ? { size: null != t5 ? { unit: t5.displayUnit, axis: t5.axis, valueType: t5.fieldType } : null, rotation: null != r14 ? { valueType: r14.fieldType, rotationType: r14.rotationType ?? "geographic" } : null } : null;
}
function Z(e14, t5) {
  return e14 == null ? void 0 : e14.find((e15) => e15.layer === t5);
}
async function q3(e14, t5, r14, i11) {
  switch (t5.type) {
    case "3d":
      return Q(e14, t5, r14, i11);
    case "2d":
      return B2(e14, t5, r14, i11);
  }
}
async function Q(e14, r14, i11, a12) {
  if (0 === e14.length)
    return [];
  const { updatable: n14, graphicsByLayer: l6 } = await i11.async(async () => {
    const { results: t5 } = await h(t(r14, i11), a12), n15 = /* @__PURE__ */ new Map(), l7 = (e15) => {
      const t6 = e15.layer, r15 = n15.get(t6);
      if (!r15) {
        const e16 = new Array();
        return n15.set(t6, e16), e16;
      }
      return r15;
    };
    s5(t5).forEach(({ graphic: e15 }) => l7(e15).push(e15));
    const o10 = e14.filter(({ capabilities: e15, layer: t6 }) => e15.update.enabled && n15.has(t6));
    return 0 !== o10.length && i11.stopPropagation(), { updatable: o10, graphicsByLayer: n15 };
  });
  return h(Promise.allSettled(n14.map(async ({ layer: e15 }) => {
    const r15 = l6.get(e15), i12 = W(e15);
    if (r15.every((e16) => je(i12, e16)))
      return r15;
    const n15 = [];
    for (const a13 of r15) {
      n15.push(a13.getObjectId());
      const e16 = Object.keys(a13.attributes);
      o2(i12, e16);
    }
    const s13 = e15.createQuery();
    return s13.returnGeometry = false, s13.objectIds = n15, s13.outFields = I(e15.fieldsIndex, i12), e15.queryFeatures(s13, { signal: a12 }).then(({ features: e16 }) => e16);
  })), a12);
}
async function B2(e14, t5, r14, i11) {
  if (0 === e14.length)
    return [];
  const { mapPoint: a12 } = r14;
  if (null == a12)
    return [];
  let n14 = null;
  const l6 = await r14.async(async () => {
    const { results: a13 } = await h(t5.hitTest(r14), i11);
    if (0 === a13.length)
      return [];
    const l7 = /* @__PURE__ */ new Set();
    n14 = s5(a13), n14.forEach(({ graphic: e15 }) => e15 && l7.add(e15.layer));
    const o10 = e14.filter((e15) => l7.has(e15.layer) && e15.supportsUpdateWorkflow);
    return o10.length > 0 && r14.stopPropagation(), o10;
  });
  return h(Promise.allSettled(l6.map(async ({ layer: e15 }) => {
    const s13 = e15.createQuery();
    s13.returnGeometry = false, s13.outFields = W(e15);
    const l7 = "renderer" in e15 ? o5({ renderer: e15.renderer, pointerType: r14.pointerType }) : 0;
    s13.geometry = r6(a12, l7, t5), s13.outSpatialReference = t5.spatialReference;
    const { features: o10 } = await e15.queryFeatures(s13, { signal: i11 });
    return n14 == null ? void 0 : n14.forEach(({ graphic: t6 }) => {
      t6.layer !== e15 || o10.some((e16) => e16.getObjectId() === t6.getObjectId()) || o10.push(t6);
    }), o10;
  })), i11);
}
function W(e14) {
  return I(e14.fieldsIndex, [e14.objectIdField, _({ displayField: "displayField" in e14 ? e14.displayField : null, fields: e14.fields })]);
}
async function H2(e14, t5, r14) {
  const { sourceLayer: i11 } = e14, a12 = i11.createQuery();
  a12.objectIds = [e14.getAttribute(i11.objectIdField)], a12.outFields = ["*"], a12.returnM = i11.capabilities.data.supportsM, a12.returnZ = i11.capabilities.data.supportsZ, "scene" === i11.type && null != i11.infoFor3D || (a12.outSpatialReference = t5);
  const n14 = await i11.queryFeatures(a12, { signal: r14 });
  s2(r14);
  return n14.features[0];
}
async function J3(e14) {
  var _a;
  const { graphic: t5, sketchViewModel: r14, sourceLayer: i11, visualVariables: a12, webStyleCache: n14 } = e14;
  let s13 = false;
  const { rotation: l6, size: o10 } = a12;
  if ([l6, o10].forEach(async (e15) => {
    if (null == e15)
      return;
    const i12 = t5.getAttribute(e15.field);
    if (null != i12)
      e15.setInitialValue(i12);
    else {
      const i13 = await e15.getDefault(t5.symbol, r14.view);
      e15.setInitialValue(i13), t5.setAttribute(e15.field, i13), s13 = true;
    }
  }), s13) {
    const e15 = "2d" === ((_a = r14.view) == null ? void 0 : _a.type) ? r14.view.scale : null;
    await C3(t5, n14, e15);
  }
  const c10 = { multipleSelectionEnabled: false };
  return "point" === i11.geometryType && (c10.enableRotation = null != l6, c10.enableScaling = null != o10), D2(r14.tooltipOptions, o10, l6), r14.layer.elevationInfo = i11.elevationInfo, r14.update(t5, c10);
}
function K2(e14) {
  return null == e14 || "rotate-start" !== e14.type && "rotate" !== e14.type && "rotate-stop" !== e14.type ? null : e14;
}
function N(e14) {
  return null == e14 || "scale-start" !== e14.type && "scale" !== e14.type && "scale-stop" !== e14.type ? null : e14;
}
async function X(e14, t5, r14, i11, a12) {
  var _a;
  if (null == t5.geometry || "point" !== ((_a = t5.geometry) == null ? void 0 : _a.type))
    return;
  const n14 = i11.rotation, s13 = K2(r14.toolEventInfo);
  if (null != n14 && null != s13) {
    const { field: r15, getValue: i12 } = n14;
    "rotate-stop" === s13.type ? (n14.isUpdatingInteractively = false, n14.setInitialValue(t5.getAttribute(r15))) : (n14.isUpdatingInteractively = true, t5.setAttribute(r15, i12(s13.angle, e14)));
  }
  const l6 = i11.size, o10 = N(r14.toolEventInfo);
  if (null != l6 && null != o10) {
    const { field: r15, getValue: i12 } = l6;
    "scale-stop" === o10.type ? (l6.isUpdatingInteractively = false, l6.setInitialValue(t5.getAttribute(r15))) : (l6.isUpdatingInteractively = true, t5.setAttribute(r15, i12(o10.xScale, e14)));
  }
  await C3(t5, a12, "2d" === e14.type ? e14.scale : null);
}
async function Y({ feature: e14, featureClone: t5, visualVariableAttributes: r14, sketchViewModel: n14, view: s13, onUpdate: l6, webStyleCache: u7 }) {
  var _a;
  await C3(t5, u7, "2d" === s13.type ? s13.scale : null);
  let p12 = null;
  if ("2d" === ((_a = n14 == null ? void 0 : n14.view) == null ? void 0 : _a.type)) {
    const e15 = k2((e16) => C3(t5, u7, e16));
    p12 = d2(() => {
      var _a2;
      return (_a2 = n14 == null ? void 0 : n14.view) == null ? void 0 : _a2.scale;
    }, (t6) => e15(t6));
  }
  const y4 = t5.sourceLayer, f7 = le(s13, y4);
  await J3({ graphic: t5, sketchViewModel: n14, sourceLayer: y4, visualVariables: r14, webStyleCache: u7 });
  let d7 = null;
  f7.then((e15) => d7 = e15).catch(() => {
  });
  const m6 = r14.size, g5 = r14.rotation, h10 = d2(() => e14.attributes, async (e15) => {
    let r15 = false;
    for (const i11 in e15) {
      const a12 = e15[i11];
      a12 !== t5.getAttribute(i11) && (t5.setAttribute(i11, a12), null == m6 || m6.isUpdatingInteractively || m6.field !== i11 || m6.setInitialValue(a12), null == g5 || g5.isUpdatingInteractively || g5.field !== i11 || g5.setInitialValue(a12), (null == d7 || d7.requiredFields.includes(i11)) && (r15 = true));
    }
    r15 && await C3(t5, u7, "2d" === s13.type ? s13.scale : null);
  }), b3 = n14.on("update", async (e15) => {
    const t6 = e15.graphics[0];
    if ("complete" === e15.state)
      return J3({ graphic: t6, sketchViewModel: n14, sourceLayer: y4, visualVariables: r14, webStyleCache: u7 });
    await X(s13, t6, e15, r14, u7), l6(ce(t6), e15);
  }), w4 = n14.on(["undo", "redo"], async (e15) => {
    l6(ce(e15.graphics[0]), e15);
  });
  return o3([w4, b3, e3(() => n14.cancel()), h10, p12]);
}
async function $2(e14, t5, n14) {
  const s13 = e14.view;
  e14.layer.add(n14);
  const o10 = t5.sourceLayer, c10 = t5.layer, p12 = t5.getAttribute(c10.objectIdField);
  let y4 = null;
  function f7(e15) {
    y4 == null ? void 0 : y4.abort(), y4 = d(async (t6) => {
      var _a;
      const r14 = await le(s13, o10);
      s2(t6), (_a = r14.setVisibility) == null ? void 0 : _a.call(r14, p12, e15);
    });
  }
  return await ee(s13, n14), f7(false), o3([_3(s13, n14, (e15) => f7(!e15)), e3(async () => {
    f7(true);
    try {
      const e15 = await le(s13, o10);
      await w(() => !e15.updating);
    } finally {
      e14.layer.remove(n14);
    }
  })]);
}
function _3(e14, t5, r14) {
  if ("3d" === e14.type) {
    const i11 = new e9({ graphic: t5 });
    return o3([e14.trackGraphicState(i11), d2(() => i11.displaying, r14)]);
  }
  return d2(() => t5.visible, r14);
}
async function ee(e14, t5) {
  if ("3d" === e14.type) {
    const r14 = new e9({ graphic: t5 }), i11 = e14.trackGraphicState(r14);
    await w(() => r14.displaying), i11.remove();
  } else
    await w(() => t5.visible);
}
var te = { icon: e5(24), text: e5(12), line: e5(1), viewScaleSizeFactor: 100 };
function re(e14, t5, r14) {
  let i11 = false;
  return e14.filter((e15) => !!i11 || (i11 = e15 === t5, i11)).map((e15) => r14[e15]());
}
function ie(e14, t5) {
  e14.viewModel.syncFeatureTemplates();
  const r14 = e14.creationInfo;
  if ("awaiting-feature-creation-info" === t5[0].id && r14) {
    const e15 = r14.layer, i11 = t2(e15);
    1 === i11.length && "scene" !== e15.type && (r14.template = i11[0], t5.shift());
  }
  return t5;
}
function ae(e14) {
  switch (e14) {
    case "unknown":
    case "decimal-degrees":
      return null;
    default:
      return e14;
  }
}
function ne(e14) {
  e14.filesEnabled = true, e14.mode = "view", e14.capabilities = { editing: true, operations: { add: true, update: true, delete: true } };
}
var se = (e14) => /-stop/.test(e14) || /vertex-/.test(e14);
var le = (e14, t5) => {
  const r14 = "subtype-sublayer" === t5.type ? t5.parent : t5;
  return e14.whenLayerView(r14);
};
function oe(e14) {
  return "createInteractiveEditSession" in e14;
}
function ce(e14) {
  var _a;
  const t5 = e14.geometry;
  if ("mesh" === (t5 == null ? void 0 : t5.type)) {
    const r14 = e14.cloneShallow();
    return r14.attributes = a(e14.attributes), r14.geometry = t5.cloneShallow(), r14.geometry.transform = ((_a = t5.transform) == null ? void 0 : _a.clone()) ?? null, r14;
  }
  return e14.clone();
}
function ue(e14) {
  const t5 = e14.cursor;
  return e14.cursor = "progress", e3(() => e14.cursor = t5);
}

// node_modules/@arcgis/core/widgets/Editor/modelUploadUtils.js
async function n6({ view: n14, data: c10, signal: l6, next: i11, cancel: u7 }) {
  const { creationInfo: m6 } = c10;
  if (!m6)
    return e3();
  if (!s7(m6))
    return e3();
  const { layer: p12 } = m6, f7 = null != m6.geometryToPlace;
  if (m6.geometryToPlace = null, f7)
    return u7(), e3();
  const { Upload: d7 } = await import("./Upload-JCZBEMWS.js");
  s2(l6);
  const y4 = new d7();
  c10.upload = y4;
  let w4 = null;
  const U2 = () => w4 == null ? void 0 : w4.remove(), g5 = o3([d2(() => y4.state, (e14) => {
    switch (e14) {
      case "default":
      case "error":
        U2();
        break;
      case "pending":
        U2(), w4 = ue(n14);
        break;
      case "success":
        m6.maxFeatures = 1, m6.geometryToPlace = y4.result, U2(), i11();
    }
  }), e3(() => {
    y4.cancel(), U2();
  })]);
  return y4.uploadTo(p12), g5;
}
function s7(e14) {
  const r14 = e14 == null ? void 0 : e14.layer;
  return "scene" === (r14 == null ? void 0 : r14.type);
}

// node_modules/@arcgis/core/widgets/Editor/Workflow.js
var p5 = class extends o4.EventedAccessor {
  constructor(t5) {
    super(t5), this._indexHistory = [], this._lastStepIndex = -1, this._stepIndex = -1, this._updatingHandles = new h2(), this._handleKeys = { afterCommit: "after-commit", beforeCommit: "before-commit" }, this.data = void 0, this.started = false, this.steps = [], this.type = null, this._pendingOperation = null;
  }
  destroy() {
    this._updatingHandles.destroy();
  }
  get hasNextStep() {
    const { steps: t5 } = this;
    return !!(t5 && this._stepIndex < t5.filter((t6) => !t6.parent).length - 1);
  }
  get hasPreviousStep() {
    return this._stepIndex > 0;
  }
  get reliesOnOwnerAdminPrivileges() {
    return false;
  }
  get hasInvalidFormTemplate() {
    return false;
  }
  get shouldShowAttachments() {
    return false;
  }
  get shouldAllowAttachmentEditing() {
    return false;
  }
  get stepId() {
    const { steps: t5 } = this, e14 = t5 && t5[this._stepIndex];
    return e14 && e14.id;
  }
  get helpMessage() {
  }
  get hasPendingEdits() {
    return false;
  }
  get keyboardCancellationEnabled() {
    return true;
  }
  get updating() {
    return this._updatingHandles.updating;
  }
  async back(t5 = () => Promise.resolve(true)) {
    if (this.hasPendingEdits) {
      if (!await t5())
        return;
    }
    this.hasPreviousStep ? await this.previous({ cancelCurrentStep: true }) : await this.cancel({ force: true });
  }
  async cancel(t5 = { force: true }) {
    return false !== t5.force ? this._cancel(t5) : new Promise((s13, i11) => {
      this.emit("cancel-request", { controller: { allow: () => {
        this._cancel({ ...t5, force: true }).then(s13);
      }, deny: () => i11(new s("workflow:cancel-denied", "Request to cancel workflow was denied.")) } });
    });
  }
  async commit() {
    this.removeHandles(this._handleKeys.beforeCommit), this.onCommit && await this.onCommit(this.data), this.removeHandles(this._handleKeys.afterCommit), this.emit("commit");
  }
  async go(t5) {
    const { steps: e14 } = this, s13 = e14.findIndex((e15) => e15.id === t5);
    this._indexHistory.push(this._stepIndex), await this._go(s13);
  }
  async next() {
    this._indexHistory.push(this._stepIndex), await this._go(this._stepIndex + 1);
  }
  async previous(t5 = { cancelCurrentStep: false }) {
    await this._go(this._indexHistory.pop(), t5.cancelCurrentStep);
  }
  async reset() {
    await this._cancel({ emitCancelEvent: false }), await this.start();
  }
  async save() {
    await this.commit(), await this.reset();
  }
  async start() {
    this._set("started", true);
    const t5 = -1 === this._stepIndex ? 0 : this._stepIndex;
    await this._go(t5);
  }
  async _cancel({ emitCancelEvent: t5 = true, error: e14 } = {}) {
    this.started && (this._set("started", false), await this._transaction(() => {
      var _a;
      return (_a = this.steps[this._stepIndex]) == null ? void 0 : _a.tearDown({ canceled: true });
    })), this.removeHandles([this._handleKeys.afterCommit, this._handleKeys.beforeCommit]), this._resetIndexing(t5), t5 && this.emit("cancel", { error: e14 });
  }
  _go(t5 = -1, e14 = false) {
    return this._transaction(async () => {
      const { steps: s13 } = this;
      if (!(t5 <= -1 || t5 >= s13.length)) {
        if (!this.started)
          return this._stepIndex = t5, void this._notifyStepProps();
        this._lastStepIndex > -1 && await s13[this._lastStepIndex].tearDown({ canceled: e14 });
        try {
          await s13[t5].setUp();
        } catch (n14) {
          f2(n14);
        }
        this._lastStepIndex = t5, this._stepIndex = t5, this._notifyStepProps();
      }
    });
  }
  async _transaction(t5) {
    const e14 = this._pendingOperation, s13 = L(), i11 = (e14 ?? Promise.resolve()).then(() => s13.promise);
    this._pendingOperation = i11, this._updatingHandles.addPromise(i11);
    try {
      e14 && await e14, await t5();
    } finally {
      s13.resolve(), i11 === this._pendingOperation && (this._pendingOperation = null);
    }
  }
  _resetIndexing(t5 = true) {
    this._stepIndex = -1, this._lastStepIndex = -1, this._indexHistory.length = 0, t5 && this._notifyStepProps();
  }
  _notifyStepProps() {
    this.notifyChange("stepId"), this.notifyChange("hasPreviousStep"), this.notifyChange("hasNextStep");
  }
};
e([y()], p5.prototype, "data", void 0), e([y()], p5.prototype, "hasNextStep", null), e([y()], p5.prototype, "hasPreviousStep", null), e([y()], p5.prototype, "onCommit", void 0), e([y()], p5.prototype, "reliesOnOwnerAdminPrivileges", null), e([y()], p5.prototype, "hasInvalidFormTemplate", null), e([y()], p5.prototype, "shouldShowAttachments", null), e([y()], p5.prototype, "shouldAllowAttachmentEditing", null), e([y()], p5.prototype, "started", void 0), e([y({ readOnly: true })], p5.prototype, "stepId", null), e([y()], p5.prototype, "steps", void 0), e([y({ readOnly: true })], p5.prototype, "type", void 0), e([y()], p5.prototype, "helpMessage", null), e([y()], p5.prototype, "hasPendingEdits", null), e([y()], p5.prototype, "keyboardCancellationEnabled", null), e([y()], p5.prototype, "updating", null), p5 = e([a2("esri.widgets.Editor.Workflow")], p5);
var h7 = p5;

// node_modules/@arcgis/core/widgets/Editor/CreateFeaturesWorkflow.js
var P3;
var W2 = Symbol();
var x3 = Symbol();
var N2 = Symbol();
var z = P3 = class extends h7 {
  constructor(e14) {
    super(e14), this.type = "create-features", this.createFeatureState = "create-new", this.isNested = false, this._getDrawMeshHelpMessage = void 0, this._featureFormHandle = null, this._visualVariableAttributes = { rotation: null, size: null }, this._featureFormViewModel = new J2(), this._sketchViewModel = null, this._attachmentFileInfos = /* @__PURE__ */ new Map(), this._highlightHandles = /* @__PURE__ */ new Map(), this._preventDefaultActionOnCancel = false, this._lastActiveGraphics = [], this._isActive = true, this._updateGraphicDebounced = k2((e15, t5, a12) => C3(e15, t5, a12));
  }
  initialize() {
    this.isNested && (this._isActive = false), this._initializeSketchViewModel();
  }
  destroy() {
    this._sketchViewModel.destroy();
  }
  get featureFormViewModel() {
    return this._featureFormViewModel;
  }
  get hasPendingEdits() {
    var _a, _b;
    if (this.numPendingFeatures > 0)
      return true;
    const { creationInfo: e14, upload: t5 } = this.data, a12 = this._sketchViewModel, { activeComponent: i11 } = a12, r14 = (_b = (_a = a12.createGraphic) == null ? void 0 : _a.geometry) == null ? void 0 : _b.type;
    return !("polyline" !== r14 && "polygon" !== r14 && "multipoint" !== r14 || "draw-2d" !== (i11 == null ? void 0 : i11.type) && "draw-3d" !== (i11 == null ? void 0 : i11.type)) && i11.drawOperation.committedVertices.length > 0 || (!(!t5 || "pending" !== t5.state && "success" !== t5.state) || !!(e14 == null ? void 0 : e14.geometryToPlace));
  }
  get helpMessage() {
    var _a;
    const { creationInfo: e14, viewModel: t5 } = this.data;
    if ("creating-features" !== this.stepId || !e14)
      return;
    const a12 = e14.layer.geometryType, i11 = this._sketchViewModel.createGraphic;
    if ("mesh" === a12) {
      this._getDrawMeshHelpMessage || import("./helpMessageUtils3d-2AVHNKU6.js").then((e16) => {
        this._getDrawMeshHelpMessage = e16.getDrawMeshHelpMessage;
      });
      const { view: e15 } = t5;
      return "3d" === (e15 == null ? void 0 : e15.type) ? (_a = this._getDrawMeshHelpMessage) == null ? void 0 : _a.call(this, i11, e15) : void 0;
    }
    return e10(a12, i11 == null ? void 0 : i11.geometry);
  }
  get layer() {
    var _a;
    return (_a = this.data.creationInfo) == null ? void 0 : _a.layer;
  }
  get numPendingFeatures() {
    return this.pendingFeatures.length;
  }
  get parent() {
    return this.data.parent;
  }
  get parentLayer() {
    var _a;
    return (_a = this.parent) == null ? void 0 : _a.data.editorItem.layer;
  }
  get pendingFeatures() {
    return this.data.pendingFeatures;
  }
  get keyboardCancellationEnabled() {
    return 0 === this.numPendingFeatures;
  }
  get reliesOnOwnerAdminPrivileges() {
    var _a;
    return ((_a = this.data.editorItem) == null ? void 0 : _a.capabilities.create.reliesOnOwnerAdminPrivileges) ?? false;
  }
  get shouldShowAttachments() {
    var _a;
    return ((_a = this.data.editorItem) == null ? void 0 : _a.capabilities.create.attachments.enabled) ?? false;
  }
  get shouldAllowAttachmentEditing() {
    return this.shouldShowAttachments;
  }
  get sketchViewModel() {
    return this._sketchViewModel;
  }
  get test() {
    return { addAttachment: (e14, t5) => {
      this._attachmentFileInfos.set(e14, t5);
    }, sketchViewModel: this._sketchViewModel };
  }
  async enter() {
    this._isActive = true, "awaiting-feature-creation-info" !== this.stepId && this._setUpCreatingFeaturesStep();
  }
  exit() {
    this._isActive = false, this.removeHandles([N2]);
  }
  async updatePendingFeature(e14, t5) {
    return this._preventDefaultActionOnCancel = true, this._sketchViewModel.cancel(), O(this._lastActiveGraphics, e14), this._startUpdating(e14, t5);
  }
  async start() {
    var _a;
    return await super.start(), k3((_a = this.data.creationInfo) == null ? void 0 : _a.layer) ? null : { enter: async () => {
    }, exit: async () => {
    }, viewModel: this._sketchViewModel };
  }
  static create(e14) {
    const { addAttachmentsCallback: t5, applyEditsCallback: a12, isNested: i11, creationInfo: r14, parent: s13, snappingManager: n14, startAt: o10, viewModel: l6 } = e14, c10 = e14.sketchOptions ?? new l4(), d7 = r14 == null ? void 0 : r14.layer, h10 = d7 ? l6.findEditorItemForLayer(d7) : void 0, p12 = new P3({ data: new p4({ creationInfo: r14, editorItem: h10, parent: s13, sketchOptions: c10, snappingManager: n14, viewModel: l6 }), isNested: i11, onCommit: async (e15) => {
      var _a;
      const { creationInfo: i12 } = e15;
      if (!i12)
        return;
      const r15 = e15.pendingFeatures.toArray(), { layer: s14 } = i12, n15 = ((_a = s14.capabilities) == null ? void 0 : _a.editing.supportsGlobalId) && "globalIdField" in s14, o11 = p12._attachmentFileInfos;
      if (n15) {
        const e16 = q4(r15, s14, o11);
        return void await a12(s14, e16, { globalIdUsed: true });
      }
      const l7 = await a12(s14, { addFeatures: r15 });
      if (o11.size > 0) {
        const e16 = (l7 == null ? void 0 : l7.addFeatureResults) ?? [];
        await t5(s14, Z2(r15, e16, s14, o11));
      }
    } });
    return p12._set("steps", this._createWorkflowSteps(p12, o10)), p12;
  }
  _fadeExistingFeatures(e14) {
    if ("effect" in e14) {
      const t6 = e14.effect;
      return e14.effect = "saturate(0.6) opacity(0.8)", e3(() => e14.effect = t6);
    }
    const t5 = e14.opacity;
    return e14.opacity = 0.7, e3(() => e14.opacity = t5);
  }
  _highlight(e14) {
    const t5 = this.data.viewModel.view;
    "3d" === (t5 == null ? void 0 : t5.type) && this._highlightHandles.set(e14, t5.highlight(e14));
  }
  _removeHighlight(e14) {
    l(this._highlightHandles.get(e14)), this._highlightHandles.delete(e14);
  }
  async _startCreating(e14) {
    this.removeHandles(x3);
    const { creationInfo: t5 } = this.data;
    if (!t5)
      return;
    this.createFeatureState = "create-new";
    const a12 = await O3(this._sketchViewModel, t5, e14);
    this.addHandles(a12, x3);
  }
  async _startUpdating(e14, t5) {
    var _a;
    const { pendingFeatures: a12 } = this;
    a12.includes(e14) || a12.add(e14);
    const { _featureFormViewModel: i11, _sketchViewModel: r14 } = this, { creationInfo: o10, viewModel: l6 } = this.data, { attachmentsViewModel: d7, layerInfos: h10, view: p12 } = l6;
    if (!p12 || !o10)
      return;
    const u7 = o10.layer, f7 = Z(h10, u7), m6 = f7 == null ? void 0 : f7.formTemplate, g5 = p12.spatialReference;
    i11.set({ arcadeEditType: "INSERT", feature: e14, formTemplate: m6, spatialReference: g5, map: p12.map }), "add" !== d7.mode && "edit" !== d7.mode || ((_a = l6.activeWorkflow) == null ? void 0 : _a.previous()), d7.graphic = e14, d7.fileInfos.removeAll(), d7.mode = "view";
    if ((this._attachmentFileInfos.get(e14) || []).forEach(({ file: e15, form: t6 }) => d7.addFile(e15, t6)), this._removeHighlight(e14), await C3(e14, t5, "2d" === p12.type ? p12.scale : null), this.removeHandles(x3), l(this._featureFormHandle), "2d" === p12.type) {
      const a13 = d2(() => p12.scale, (a14) => this._updateGraphicDebounced(e14, t5, a14));
      this.addHandles(a13, x3);
    }
    return this._featureFormHandle = o3([i11.on("value-change", async () => {
      e14.attributes = i11.getValues(), await C3(e14, t5, "2d" === p12.type ? p12.scale : null);
    }), r14.on(["update", "undo", "redo"], (e15) => {
      ("undo" === e15.type || "redo" === e15.type || "update" === e15.type && null != e15.toolEventInfo && se(e15.toolEventInfo.type)) && i11.notifyFeatureGeometryChanged();
    })]), this.createFeatureState = "update-pending", this._visualVariableAttributes = L4(e14), k3(u7) ? void 0 : J3({ graphic: e14, sketchViewModel: r14, sourceLayer: u7, visualVariables: this._visualVariableAttributes, webStyleCache: t5 });
  }
  static _createWorkflowSteps(e14, t5 = "awaiting-feature-creation-info") {
    const { data: a12 } = e14, i11 = re(["awaiting-feature-creation-info", "creating-features", "adding-attachment", "editing-attachment"], t5, { "awaiting-feature-creation-info": () => ({ id: "awaiting-feature-creation-info", async setUp() {
      const { creationInfo: t6, viewModel: i12 } = a12, { view: r14 } = i12;
      r14 && (s7(t6) ? e14.addHandles(await n6({ view: r14, data: a12, next: () => e14.next(), cancel: () => i12.cancelWorkflow({ warnIfNoWorkflow: false }) }), this.id) : (a12.parent && t6 && (e14.addHandles(i12.lockFeatureTemplatesViewModel(), this.id), i12.featureTemplatesViewModel.layers = [t6.layer]), e14.addHandles(i12.featureTemplatesViewModel.on("select", ({ item: t7 }) => {
        t7 && (a12.creationInfo = { ...a12.creationInfo, layer: t7.layer, template: t7.template }, e14.next());
      }), this.id)));
    }, async tearDown() {
      e14.removeHandles([this.id, x3]);
    } }), "creating-features": () => ({ id: "creating-features", async setUp() {
      e14._isActive && await e14._setUpCreatingFeaturesStep();
    }, async tearDown(t6) {
      const { viewModel: i12 } = a12;
      t6.canceled && (e14.removeHandles([N2, W2, x3]), i12.attachmentsViewModel.fileInfos.removeAll(), e14._attachmentFileInfos.clear());
    } }), "adding-attachment": () => ({ id: "adding-attachment", parent: "creating-features", async setUp() {
    }, async tearDown() {
      const { attachmentsViewModel: t6 } = a12.viewModel, { graphic: i12, fileInfos: r14 } = t6;
      e14._attachmentFileInfos.set(i12, r14.toArray()), t6.mode = "view";
    } }), "editing-attachment": () => ({ id: "editing-attachment", parent: "creating-features", async setUp() {
    }, async tearDown() {
      const { attachmentsViewModel: t6 } = a12.viewModel, { graphic: i12, fileInfos: r14 } = t6;
      e14._attachmentFileInfos.set(i12, r14.toArray()), t6.mode = "view";
    } }) });
    return ie(a12, i11);
  }
  static _configureSketchViewModel(e14, t5) {
    const { data: i11 } = e14, { creationInfo: n14, viewModel: o10 } = i11, { view: l6 } = o10, c10 = e14._sketchViewModel;
    let h10 = null;
    const p12 = [];
    if (!l6)
      return e3();
    "2d" === l6.type && n14 && p12.push(e14._fadeExistingFeatures(n14.layer)), p12.push(c10.on("create", async (a12) => {
      if ("cancel" === a12.state) {
        if (e14._preventDefaultActionOnCancel)
          return void (e14._preventDefaultActionOnCancel = false);
        if (e14._lastActiveGraphics.length < 1)
          return e14._startCreating(t5);
        const a13 = e14._lastActiveGraphics.pop();
        return e14._startUpdating(a13, t5);
      }
      if ("complete" === a12.state && a12.graphic)
        return e14._startUpdating(a12.graphic, t5);
    }), c10.on("update", async (a12) => {
      var _a;
      const { attachmentsViewModel: i12 } = o10, { _featureFormViewModel: r14 } = e14, s13 = a12.graphics[0];
      if ("complete" === a12.state) {
        if (s13 !== h10 && (e14._lastActiveGraphics.push(s13), e14._highlight(s13)), h10 = null, e14.numPendingFeatures === (n14 == null ? void 0 : n14.maxFeatures)) {
          const a13 = e14._lastActiveGraphics.pop();
          return e14._startUpdating(a13, t5);
        }
        if (!r14.submittable) {
          r14.submit();
          const a13 = e14._lastActiveGraphics.pop();
          return e14._startUpdating(a13, t5);
        }
        if ("add" !== i12.mode && "edit" !== i12.mode || ((_a = o10.activeWorkflow) == null ? void 0 : _a.previous()), a12.aborted && e14._preventDefaultActionOnCancel)
          return void (e14._preventDefaultActionOnCancel = false);
        e14.addHandles([ue(l6), l6.on("click", (e15) => e15.preventDefault())], W2), await w(() => !r14.updating), e14.removeHandles(W2), e14._startCreating(t5);
      }
      "start" === a12.state && e14._removeHighlight(s13);
      const c11 = e14._visualVariableAttributes;
      await X(l6, s13, a12, c11, t5);
      const p13 = s13.attributes, { rotation: u8, size: f7 } = c11;
      if (null != u8) {
        const { field: e15 } = u8;
        r14.setValue(e15, p13[e15]);
      }
      if (null != f7) {
        const { field: e15 } = f7;
        r14.setValue(e15, p13[e15]);
      }
    }), c10.on("delete", async (t6) => {
      const i12 = t6.graphics[0];
      e14.pendingFeatures.remove(i12), O(e14._lastActiveGraphics, i12), h10 = i12;
    }), l6.on("immediate-click", async (a12) => {
      if (s7(n14))
        return;
      const { results: i12 } = await l6.hitTest(a12, { include: c10.layer }), r14 = i12.find((e15) => "graphic" === e15.type && e15.graphic.sourceLayer === (n14 == null ? void 0 : n14.layer));
      if (!r14)
        return;
      const s13 = r14.graphic;
      if ("transform" === c10.activeTool || "reshape" === c10.activeTool) {
        if (c10.updateGraphics.at(0) === s13)
          return;
        if (!e14._featureFormViewModel.submittable)
          return;
        await e14.updatePendingFeature(s13, t5);
      }
    }, _2.TOOL), e3(() => {
      e14._preventDefaultActionOnCancel = true, c10.cancel();
    }), R2(c10, i11));
    const u7 = o3(p12);
    return c10.addHandles(u7), u7;
  }
  _initializeSketchViewModel() {
    var _a;
    const { data: e14 } = this, { view: t5 } = e14.viewModel, a12 = new h3({ elevationInfo: (_a = e14.creationInfo) == null ? void 0 : _a.layer.elevationInfo, internal: true, listMode: "hide" }), i11 = new pe({ layer: a12, sketchOptions: e14.sketchOptions, snappingManager: e14.snappingManager, updateOnGraphicClick: false, view: t5 });
    this._sketchViewModel = i11, t5 == null ? void 0 : t5.map.add(a12), this.addHandles(e3(() => {
      (t5 == null ? void 0 : t5.destroyed) || (t5 == null ? void 0 : t5.map.remove(a12)), a12.destroy();
    }));
  }
  async _setUpCreatingFeaturesStep() {
    var _a;
    if (this.hasHandles(N2))
      return;
    const { creationInfo: e14, viewModel: a12 } = this.data, { attachmentsViewModel: o10, view: l6 } = a12;
    if (!l6 || !(e14 == null ? void 0 : e14.layer))
      throw new s("missing-parameters", "CreateFeaturesWorkflow requires a view and creationInfo.");
    const { initialFeature: d7, layer: p12 } = e14, u7 = this._sketchViewModel, f7 = /* @__PURE__ */ new Map(), m6 = [];
    this._lastActiveGraphics = [], this._featureFormHandle = l(this._featureFormHandle), this._visualVariableAttributes = { rotation: null, size: null }, this.data.editorItem = a12.findEditorItemForLayer(e14.layer), ne(o10), m6.push(d2(() => o10.mode, (e15) => {
      switch (e15) {
        case "add":
          this.go("adding-attachment");
          break;
        case "edit":
          this.go("editing-attachment");
      }
    }));
    const g5 = ue(l6);
    m6.push(g5);
    const y4 = k3(e14.layer);
    try {
      if (y4) {
        const a13 = d7 ?? new f3({ attributes: { ...(_a = e14.template) == null ? void 0 : _a.prototype.attributes, ...e14.attributeOverrides }, sourceLayer: p12 });
        await this._startUpdating(a13, f7);
      } else
        m6.push(P3._configureSketchViewModel(this, f7)), d7 ? (u7.layer.add(d7), await this._startUpdating(d7, f7)) : await this._startCreating(f7);
    } finally {
      g5.remove();
    }
    const v3 = e3(() => this.pendingFeatures.drain((e15) => u7.layer.remove(e15))), _6 = d2(() => l6 == null ? void 0 : l6.timeZone, (e15) => this._featureFormViewModel.timeZone = e15, P), M2 = e3(() => {
      s7(e14) && a12.cancelWorkflow({ warnIfNoWorkflow: false });
    });
    this._featureFormHandle && m6.push(this._featureFormHandle), this.addHandles(m6, this._handleKeys.beforeCommit), this.addHandles([e3(() => o10.fileInfos.removeAll()), o3(m6), M2, v3, _6], N2);
  }
};
function R2(e14, t5) {
  let a12 = null;
  const i11 = () => e14.snappingOptions.featureSources, n14 = () => (a12 = new p3({ layer: e14.layer }), i11().add(a12), a12), l6 = () => {
    null != a12 && (i11().remove(a12), a12 = u(a12));
  };
  return o3([d2(() => {
    var _a;
    const e15 = (_a = t5.creationInfo) == null ? void 0 : _a.layer, a13 = i11().find((t6) => t6.layer === e15);
    return { hasFeatureLayerSource: !!a13, enabled: (a13 == null ? void 0 : a13.enabled) ?? false };
  }, ({ hasFeatureLayerSource: e15, enabled: t6 }) => {
    if (!e15)
      return l6();
    a12 ?? (a12 = n14()), a12.enabled = t6;
  }, A), e3(l6)]);
}
function Z2(e14, t5, a12, i11) {
  const r14 = [];
  return t5.forEach((t6, s13) => {
    if (!t6.error) {
      const n14 = e14[s13], o10 = i11.get(n14) || [];
      n14.attributes[a12.objectIdField] = t6.objectId, o10.forEach(({ form: e15 }) => r14.push({ feature: n14, attachment: e15 }));
    }
  }), r14;
}
function q4(e14, t5, a12) {
  const i11 = [], r14 = t5.globalIdField;
  return e14.forEach((t6, s13) => {
    var _a;
    (_a = e14[s13].attributes)[r14] ?? (_a[r14] = r2()), ((a12 == null ? void 0 : a12.get(t6)) || []).forEach(({ file: e15 }) => i11.push({ feature: t6, attachment: { globalId: r2(), data: e15 } }));
  }), i11.length ? { addFeatures: e14, addAttachments: i11 } : { addFeatures: e14 };
}
e([y({ constructOnly: true })], z.prototype, "isNested", void 0), e([y()], z.prototype, "featureFormViewModel", null), e([y()], z.prototype, "hasPendingEdits", null), e([y()], z.prototype, "_getDrawMeshHelpMessage", void 0), e([y()], z.prototype, "helpMessage", null), e([y()], z.prototype, "layer", null), e([y()], z.prototype, "parent", null), e([y()], z.prototype, "parentLayer", null), e([y()], z.prototype, "keyboardCancellationEnabled", null), e([y()], z.prototype, "reliesOnOwnerAdminPrivileges", null), e([y()], z.prototype, "shouldShowAttachments", null), e([y()], z.prototype, "shouldAllowAttachmentEditing", null), e([y()], z.prototype, "sketchViewModel", null), z = P3 = e([a2("esri.widgets.Editor.CreateFeaturesWorkflow")], z);
var K3 = z;

// node_modules/@arcgis/core/widgets/Editor/Edits.js
function s8(t5) {
  return null == t5 ? null : JSON.stringify(t5);
}
var o7 = class extends S {
  constructor(t5) {
    super(t5), this._stagedForDelete = false, this.feature = null, this.initialFeature = null;
  }
  get attributesModified() {
    return this._stringifyAttributes(this.feature) !== this._stringifyAttributes(this.initialFeature);
  }
  get geometryModified() {
    return this._stringifyGeometry(this.feature) !== this._stringifyGeometry(this.initialFeature);
  }
  get stagedForDelete() {
    return this._stagedForDelete;
  }
  get modified() {
    return this.attributesModified || this.geometryModified || this._stagedForDelete;
  }
  stageDelete() {
    this._stagedForDelete = true;
  }
  unstageDelete() {
    this._stagedForDelete = false;
  }
  trackChanges() {
    var _a;
    this.initialFeature = (_a = this.feature) == null ? void 0 : _a.clone();
  }
  updateAttributes(t5) {
    const { feature: e14 } = this;
    e14 && (e14.attributes = t5, this.notifyChange("attributesModified"));
  }
  updateGeometry(t5) {
    const { feature: e14 } = this;
    e14 && (e14.geometry = t5, this.notifyChange("geometryModified"));
  }
  _stringifyAttributes(t5) {
    return s8(t5 == null ? void 0 : t5.attributes);
  }
  _stringifyGeometry(t5) {
    const e14 = t5 == null ? void 0 : t5.geometry;
    return s8("mesh" === (e14 == null ? void 0 : e14.type) ? { transform: e14.transform, vertexSpace: e14.vertexSpace } : e14);
  }
};
e([y()], o7.prototype, "_stagedForDelete", void 0), e([y()], o7.prototype, "attributesModified", null), e([y()], o7.prototype, "feature", void 0), e([y()], o7.prototype, "geometryModified", null), e([y()], o7.prototype, "initialFeature", void 0), e([y()], o7.prototype, "modified", null), o7 = e([a2("esri.widgets.Editor.Edits")], o7);

// node_modules/@arcgis/core/widgets/Editor/UpdateRecordWorkflowData.js
var i6;
var d4 = i6 = class extends S {
  constructor(e14) {
    super(e14), this.editorItem = null, this.edits = null, this.parent = null, this.relatedRecordCallbacks = null, this.viewModel = null;
  }
  get attachmentsCapabilities() {
    const e14 = this.editorItem.capabilities.update.attachments.enabled;
    return { editing: true, operations: { add: e14, update: e14, delete: e14 } };
  }
  get formTemplate() {
    return this.editorItem.formTemplate;
  }
  static async create(e14) {
    const t5 = i6._makeConstructorProps(e14);
    return new i6(t5);
  }
  static _makeConstructorProps(e14) {
    const { feature: t5, parent: o10, relatedRecordCallbacks: s13, viewModel: i11 } = e14, d7 = i11.editorItems.find((e15) => e15.layer === t5.layer);
    if (!d7)
      throw new s("no-editorItem-found", "The EditorViewModel provided did not have an EditorItem associated with the specified Graphic's layer");
    return { editorItem: d7, edits: new o7({ feature: t5 }), parent: o10, relatedRecordCallbacks: s13, viewModel: i11 };
  }
};
e([y()], d4.prototype, "attachmentsCapabilities", null), e([y({ constructOnly: true })], d4.prototype, "editorItem", void 0), e([y()], d4.prototype, "edits", void 0), e([y()], d4.prototype, "formTemplate", null), e([y()], d4.prototype, "parent", void 0), e([y()], d4.prototype, "relatedRecordCallbacks", void 0), e([y()], d4.prototype, "viewModel", void 0), d4 = i6 = e([a2("esri.widgets.Editor.UpdateRecordWorkflowData")], d4);
var p6 = d4;

// node_modules/@arcgis/core/widgets/Editor/UpdateFeatureWorkflowData.js
var p7;
var n7 = p7 = class extends p6 {
  constructor(o10) {
    super(o10), this.sketchOptions = null, this.snappingManager = null;
  }
  static async create(o10) {
    const { feature: t5, snappingManager: e14, viewModel: a12 } = o10, n14 = o10.sketchOptions ?? new l4(), { view: c10 } = a12;
    if (!c10)
      throw new s("editor:cannot-create-workflow-data", "The provided EditorViewModel does not have an associated view");
    const d7 = await le(c10, t5.layer);
    return new p7({ ...p7._makeConstructorProps(o10), layerView: d7, sketchOptions: n14, snappingManager: e14 });
  }
};
e([y()], n7.prototype, "layerView", void 0), e([y({ constructOnly: true })], n7.prototype, "sketchOptions", void 0), e([y()], n7.prototype, "snappingManager", void 0), n7 = p7 = e([a2("esri.widgets.Editor.UpdateFeatureWorkflowData")], n7);
var c4 = n7;

// node_modules/@arcgis/core/widgets/Editor/UpdateRecordWorkflow.js
var f4;
var g2 = { exit: Symbol() };
var w3 = f4 = class extends h7 {
  constructor(e14) {
    super(e14), this._highlightHelper = null, this.fullFeature = null, this.type = "update-table-record";
  }
  initialize() {
    const { data: e14 } = this, { edits: o10 } = e14, { view: s13 } = e14.viewModel, l6 = o10.feature, n14 = new AbortController();
    this.addHandles(u2(n14)), this._updatingHandles.addPromise(H2(l6, e14.viewModel.view.spatialReference, n14.signal).then((e15) => {
      c(n14) || (this._onFullFeatureLoaded(e15), this._initializeFeatureFormViewModel());
    }, (e15) => this.cancel({ force: true, error: new s("editor:failed-to-fetch-full-feature", "Failed to retrieve all information for this feature. The update cannot proceed.", { detail: { error: e15 } }) }))), s13 && (this._highlightHelper = new h6({ view: s13 }), this.addHandles(e3(() => {
      var _a;
      return (_a = this._highlightHelper) == null ? void 0 : _a.removeAll();
    })));
  }
  get editorItem() {
    return this.data.editorItem;
  }
  get featureFormViewModel() {
    return this._featureFormViewModel;
  }
  get hasPendingEdits() {
    return this.data.edits.modified;
  }
  get layer() {
    return this.data.editorItem.layer;
  }
  get parent() {
    return this.data.parent;
  }
  get parentLayer() {
    var _a;
    return (_a = this.parent) == null ? void 0 : _a.data.editorItem.layer;
  }
  get shouldShowAttachments() {
    return this.editorItem.capabilities.attachments.enabled;
  }
  get shouldAllowAttachmentEditing() {
    return this.editorItem.capabilities.update.attachments.enabled;
  }
  get reliesOnOwnerAdminPrivileges() {
    const e14 = this.editorItem.capabilities;
    return e14.update.reliesOnOwnerAdminPrivileges || e14.delete.reliesOnOwnerAdminPrivileges;
  }
  async deleteAndCommit() {
    return this.data.edits.stageDelete(), this.commit();
  }
  async enter() {
    this._configureAttachmentsViewModel();
  }
  exit(e14) {
    this.removeHandles(g2.exit);
  }
  async start() {
    return await super.start(), null;
  }
  _configureAttachmentsViewModel() {
    const { data: e14, fullFeature: t5 } = this, { attachmentsCapabilities: r14, viewModel: a12 } = e14, { attachmentsViewModel: s13 } = a12;
    s13.set({ capabilities: r14, graphic: t5, filesEnabled: false, mode: "view" }), this.addHandles([e3(() => s13.fileInfos.removeAll()), d2(() => s13.mode, (e15) => {
      switch (e15) {
        case "add":
          this.go("adding-attachment");
          break;
        case "edit":
          this.go("editing-attachment");
      }
    })], g2.exit);
  }
  _initializeFeatureFormViewModel() {
    const { edits: e14, formTemplate: t5, viewModel: { view: r14 } } = this.data, i11 = this._featureFormViewModel = new J2({ arcadeEditType: "UPDATE", feature: this.fullFeature, formTemplate: t5, highlightHelper: this._highlightHelper, map: r14 == null ? void 0 : r14.map, spatialReference: r14.spatialReference, timeZone: r14 == null ? void 0 : r14.timeZone });
    i11.relatedRecordCallbacks = { ...this.data.relatedRecordCallbacks, showAllRelatedRecords: (e15) => i11.relationshipId = e15.relationshipId };
    const { initialFeature: a12 } = e14;
    a12 && i11.overrideInitialFeature(a12), this.addHandles([i11.on("value-change", () => {
      e14.updateAttributes(i11.getValues()), this.fullFeature.attributes = e14.feature.attributes;
    }), d2(() => r14 == null ? void 0 : r14.timeZone, (e15) => i11.timeZone = e15)]);
  }
  _onFullFeatureLoaded(e14) {
    this.fullFeature = e14;
    const { edits: t5 } = this.data;
    t5.updateAttributes(e14.attributes), t5.trackChanges();
  }
  static async create(e14) {
    const t5 = new f4({ data: await p6.create(e14), onCommit: this._onCommitFactory(e14.applyEdits) });
    return t5._set("steps", this._createWorkflowSteps(t5)), t5;
  }
  static _createWorkflowSteps(e14) {
    const { attachmentsViewModel: t5 } = e14.data.viewModel;
    return [{ id: "editing-attributes", async setUp() {
    }, async tearDown() {
    } }, { id: "adding-attachment", async setUp() {
    }, async tearDown() {
      t5.mode = "view";
    } }, { id: "editing-attachment", async setUp() {
    }, async tearDown() {
      t5.mode = "view";
    } }];
  }
};
w3._onCommitFactory = (e14) => async (t5) => {
  var _a;
  const { edits: r14 } = t5, { feature: i11 } = r14;
  if (!i11)
    return;
  const a12 = i11.sourceLayer, o10 = i11.clone();
  if (!r14.attributesModified || r14.stagedForDelete) {
    const e15 = a12.objectIdField;
    if (o10.attributes = { [e15]: i11.getAttribute(e15) }, n3() && r5() && "scene" === a12.type && null != a12.infoFor3D) {
      const e16 = (_a = a12.associatedLayer) == null ? void 0 : _a.globalIdField;
      null != e16 && o10.setAttribute(e16, i11.getAttribute(e16));
    }
  }
  r14.geometryModified && !r14.stagedForDelete || (o10.geometry = null);
  const s13 = r14.stagedForDelete ? "deleteFeatures" : "updateFeatures";
  await e14(a12, { [s13]: [o10] });
}, e([y()], w3.prototype, "editorItem", null), e([y()], w3.prototype, "featureFormViewModel", null), e([y()], w3.prototype, "fullFeature", void 0), e([y()], w3.prototype, "hasPendingEdits", null), e([y()], w3.prototype, "layer", null), e([y()], w3.prototype, "parent", null), e([y()], w3.prototype, "parentLayer", null), e([y()], w3.prototype, "shouldShowAttachments", null), e([y()], w3.prototype, "shouldAllowAttachmentEditing", null), e([y()], w3.prototype, "reliesOnOwnerAdminPrivileges", null), w3 = f4 = e([a2("esri.widgets.Editor.UpdateRecordWorkflow")], w3);

// node_modules/@arcgis/core/widgets/Editor/UpdateFeatureWorkflow.js
var g3;
var _4 = { ...g2, highlights: Symbol(), sketchGraphics: Symbol(), sketchViewModel: Symbol() };
var V3 = g3 = class extends w3 {
  constructor(e14) {
    super(e14), this.type = "update-feature", this._layerViewEditSession = null, this._sketchGraphicClone = null, this._sketchViewModel = null, this._webStyleCache = /* @__PURE__ */ new Map();
  }
  destroy() {
    var _a;
    (_a = this._layerViewEditSession) == null ? void 0 : _a.rollback();
  }
  async commit() {
    this.removeHandles(_4.sketchGraphics);
    try {
      const e14 = this.data.edits.stagedForDelete;
      await super.commit();
      const t5 = this._layerViewEditSession;
      e14 ? t5 == null ? void 0 : t5.rollback() : t5 == null ? void 0 : t5.commit();
    } catch (e14) {
      throw await this._configureSketchViewModel(), new s("editor-workflow:failed-to-commit", "An error occurred when sending the updates to the service", { error: e14 });
    }
  }
  async start() {
    return await super.start(), await this._initializeSketchViewModel();
  }
  _initializeFeatureFormViewModel() {
    super._initializeFeatureFormViewModel(), this.addHandles(this._featureFormViewModel.on("value-change", (e14) => {
      var _a;
      (_a = this._layerViewEditSession) == null ? void 0 : _a.setAttribute(e14.fieldName, e14.value);
    }));
  }
  _configureHighlight() {
    const { edits: e14, layerView: t5 } = this.data;
    n5(t5) && this.addHandles(t5.highlight(e14.feature), _4.highlights);
  }
  async _configureSketchViewModel() {
    const e14 = this._sketchViewModel;
    if (!e14)
      return;
    const { data: t5, _featureFormViewModel: i11, _sketchGraphicClone: s13 } = this, { edits: o10, viewModel: r14 } = t5, a12 = o10.feature, { view: l6 } = r14, h10 = L4(a12), c10 = await Y({ feature: a12, featureClone: s13, visualVariableAttributes: h10, sketchViewModel: e14, view: l6, onUpdate: ({ geometry: e15, attributes: t6 }, s14) => {
      if (o10.updateAttributes(t6), o10.updateGeometry(e15), i11.feature.geometry = e15, null != h10.rotation) {
        const { field: e16 } = h10.rotation;
        i11.setValue(e16, t6[e16]);
      }
      if (null != h10.size) {
        const { field: e16 } = h10.size;
        i11.setValue(e16, t6[e16]);
      }
      ("undo" === s14.type || "redo" === s14.type || "update" === s14.type && null != s14.toolEventInfo && se(s14.toolEventInfo.type)) && i11.notifyFeatureGeometryChanged();
    }, webStyleCache: this._webStyleCache });
    this.addHandles(c10, _4.sketchGraphics), e14.addHandles(c10);
  }
  async _initializeSketchViewModel() {
    const { data: e14, _sketchGraphicClone: t5 } = this, o10 = e14.edits.feature, { capabilities: r14, layer: l6 } = e14.editorItem, { view: h10 } = e14.viewModel;
    if (this.removeHandles([_4.highlights, _4.sketchGraphics, _4.sketchViewModel]), !r14.update.geometry)
      return { enter: async () => {
        this.hasHandles(_4.highlights) || this._configureHighlight();
      }, exit: () => this.removeHandles([_4.highlights]) };
    const c10 = new h3({ elevationInfo: l6.elevationInfo, internal: true, listMode: "hide" }), n14 = new pe({ allowDeleteKey: false, layer: c10, sketchOptions: e14.sketchOptions, snappingManager: e14.snappingManager, updateOnGraphicClick: false, view: h10 });
    return this._sketchViewModel = n14, h10 == null ? void 0 : h10.map.add(c10), this.addHandles(e3(() => {
      (h10 == null ? void 0 : h10.destroyed) || (h10 == null ? void 0 : h10.map.remove(c10)), c10.destroy(), this._sketchViewModel = u(n14);
    }), _4.sketchViewModel), await C3(t5, this._webStyleCache, "2d" === (h10 == null ? void 0 : h10.type) ? h10.scale : null), this.addHandles([await $2(n14, o10, t5)]), { enter: async () => {
      this.hasHandles(_4.sketchGraphics) || await this._configureSketchViewModel();
    }, exit: () => this.removeHandles([_4.sketchGraphics]), viewModel: n14 };
  }
  _onFullFeatureLoaded(e14) {
    super._onFullFeatureLoaded(e14);
    const t5 = this._sketchGraphicClone = ce(e14), { edits: i11, layerView: s13 } = this.data;
    i11.updateGeometry(e14.geometry), i11.trackChanges(), oe(s13) && (this._layerViewEditSession = s13.createInteractiveEditSession(t5));
  }
  static async create(e14) {
    const t5 = new g3({ data: await c4.create(e14), onCommit: this._onCommitFactory(e14.applyEdits) });
    return t5._set("steps", this._createWorkflowSteps(t5)), t5;
  }
  get test() {
    return { graphicClone: this._sketchGraphicClone, sketchViewModel: this._sketchViewModel };
  }
};
e([y()], V3.prototype, "_layerViewEditSession", void 0), e([y()], V3.prototype, "_sketchGraphicClone", void 0), e([y()], V3.prototype, "_sketchViewModel", void 0), V3 = g3 = e([a2("esri.widgets.Editor.UpdateFeatureWorkflow")], V3);

// node_modules/@arcgis/core/widgets/Editor/UpdateWorkflowData.js
var e12 = class extends S {
  constructor(o10) {
    super(o10), this.addAttachmentsCallback = null, this.applyEditsCallback = null, this.candidates = null, this.rootFeature = null, this.sketchOptions = null, this.snappingManager = null, this.viewModel = null;
  }
};
e([y()], e12.prototype, "addAttachmentsCallback", void 0), e([y()], e12.prototype, "applyEditsCallback", void 0), e([y()], e12.prototype, "candidates", void 0), e([y()], e12.prototype, "rootFeature", void 0), e([y({ constructOnly: true })], e12.prototype, "sketchOptions", void 0), e([y()], e12.prototype, "snappingManager", void 0), e([y()], e12.prototype, "viewModel", void 0), e12 = e([a2("esri.widgets.Editor.UpdateWorkflowData")], e12);
var a6 = e12;

// node_modules/@arcgis/core/widgets/Editor/UpdateWorkflow.js
var E2;
var x4 = "esri.widgets.Editor.UpdateWorkflow";
var R3 = () => n.getLogger(x4);
var O4 = E2 = class extends h7 {
  constructor(e14) {
    super(e14), this._workflowStack = new s4(c2), this._sketchStack = new s4(c2), this.type = "update";
  }
  get activeEditorItem() {
    var _a;
    return ((_a = this.activeWorkflow) == null ? void 0 : _a.data.editorItem) ?? void 0;
  }
  get activeFeatureFormViewModel() {
    var _a;
    return (_a = this.activeWorkflow) == null ? void 0 : _a.featureFormViewModel;
  }
  get activeSketchViewModel() {
    var _a;
    return (_a = this._sketchStack.peek()) == null ? void 0 : _a.viewModel;
  }
  get activeWorkflow() {
    return this._workflowStack.last();
  }
  get hasUpdatableCandidates() {
    const { candidates: e14, viewModel: t5 } = this.data;
    return e14.some(({ layer: e15 }) => {
      var _a;
      return (_a = t5.findEditorItemForLayer(e15)) == null ? void 0 : _a.supportsUpdateWorkflow;
    });
  }
  get nestedWorkflowCount() {
    return this._workflowStack.length;
  }
  get shouldShowAttachments() {
    var _a;
    return !!((_a = this.activeEditorItem) == null ? void 0 : _a.capabilities.attachments.enabled);
  }
  get shouldAllowAttachmentEditing() {
    var _a;
    return !!((_a = this.activeEditorItem) == null ? void 0 : _a.capabilities.update.attachments.enabled);
  }
  get hasPendingEdits() {
    return Array.from(this._workflowStack).some((e14) => e14.hasPendingEdits);
  }
  get helpMessage() {
    var _a;
    return ((_a = this.activeWorkflow) == null ? void 0 : _a.helpMessage) ? this.activeWorkflow.helpMessage : "awaiting-feature-to-update" === this.stepId ? "select" : void 0;
  }
  get reliesOnOwnerAdminPrivileges() {
    var _a;
    return ((_a = this.activeWorkflow) == null ? void 0 : _a.reliesOnOwnerAdminPrivileges) ?? false;
  }
  get hasInvalidFormTemplate() {
    var _a;
    return !!((_a = this.activeEditorItem) == null ? void 0 : _a.hasInvalidFormTemplate);
  }
  async back(e14 = () => Promise.resolve(true)) {
    const { activeWorkflow: t5 } = this;
    if (null == (t5 == null ? void 0 : t5.featureFormViewModel.relationshipId))
      if (t5) {
        if (t5.hasPendingEdits) {
          if (!await e14())
            return;
        }
        t5.hasPreviousStep ? await t5.previous({ cancelCurrentStep: true }) : await this.cancelActiveWorkflow({ force: true });
      } else
        this.hasPreviousStep ? await this.previous({ cancelCurrentStep: true }) : await this.cancel({ force: true });
    else
      t5.featureFormViewModel.relationshipId = null;
  }
  async cancelActiveWorkflow(e14) {
    var _a;
    await ((_a = this.activeWorkflow) == null ? void 0 : _a.cancel(e14)), await this._popWorkflow();
  }
  async commit() {
    await this._drainWorkflowStack((e14) => e14.commit()), await super.commit();
  }
  static create(e14) {
    const { viewModel: t5, snappingManager: a12, startAt: o10, addAttachmentsCallback: i11, applyEditsCallback: r14 } = e14, s13 = e14.sketchOptions ?? new l4(), n14 = new E2({ data: new a6({ addAttachmentsCallback: i11, applyEditsCallback: r14, sketchOptions: s13, snappingManager: a12, viewModel: t5 }), onCommit: async () => {
    } });
    return n14._set("steps", this._createWorkflowSteps(n14, o10)), n14;
  }
  async save() {
    var _a;
    this.nestedWorkflowCount > 1 ? (await ((_a = this.activeWorkflow) == null ? void 0 : _a.commit()), await this._popWorkflow()) : await this.commit();
  }
  async startCreatingRelatedRecord(e14) {
    try {
      const t5 = await this._createNestedCreateFeaturesWorkflow(e14);
      await this._pushWorkflow(t5);
    } catch (t5) {
      throw new s("editor:unable-to-start-creating", "Could not begin updating the provided feature or table record.", { error: t5 });
    }
  }
  async startUpdating(e14) {
    try {
      const t5 = await this._createNestedUpdateWorkflow(e14);
      await this._pushWorkflow(t5);
    } catch (t5) {
      throw new s("editor:unable-to-start-updating", "Could not begin updating the provided feature or table record.", { error: t5 });
    }
  }
  async deleteActiveFeature() {
    const { activeWorkflow: e14 } = this;
    if (!e14)
      throw new s("editor:nothing-to-delete", "There is no feature to delete");
    V4(e14) ? await e14.deleteAndCommit() : await e14.cancel(), 1 === this.nestedWorkflowCount ? await this.reset() : await this._popWorkflow();
  }
  async cancelAll() {
    await this._drainWorkflowStack((e14) => e14.cancel({ force: true }));
  }
  async _createNestedCreateFeaturesWorkflow(e14) {
    var _a;
    const { relatedLayer: t5 } = e14, { addAttachmentsCallback: o10, applyEditsCallback: i11, sketchOptions: r14, snappingManager: s13, viewModel: n14 } = this.data;
    if (!i5(t5))
      throw new s("editor:unsupported-layer", "Editing is not supported on the provided layer");
    const l6 = this._getCreationInfoForNestedCreateFeaturesWorkflow(e14), d7 = l6.template || l6.initialFeature ? "creating-features" : "awaiting-feature-creation-info", c10 = "create-features" !== ((_a = this.activeWorkflow) == null ? void 0 : _a.type) ? this.activeWorkflow : void 0;
    return K3.create({ addAttachmentsCallback: o10, applyEditsCallback: i11, creationInfo: l6, isNested: true, parent: c10, sketchOptions: r14, snappingManager: s13, startAt: d7, viewModel: n14 });
  }
  _getCreationInfoForNestedCreateFeaturesWorkflow(e14) {
    const { relatedLayer: o10 } = e14;
    if (!i5(o10) || c3(o10))
      throw new s("editor:unsupported-layer", "Editing is not supported on the provided layer");
    const i11 = { layer: o10, maxFeatures: 1 }, r14 = this._makeRelatedRecordAttributes(e14), s13 = t2(o10);
    return (s13 == null ? void 0 : s13.length) > 0 ? (i11.attributeOverrides = r14, 1 === s13.length && (i11.template = s13[0])) : i11.initialFeature = new f3({ sourceLayer: o10, attributes: r14 }), i11;
  }
  async _createNestedUpdateWorkflow(e14) {
    var _a;
    const t5 = k3(e14.sourceLayer) ? w3 : V3, { applyEditsCallback: a12, sketchOptions: o10, snappingManager: i11, viewModel: r14 } = this.data, s13 = "create-features" !== ((_a = this.activeWorkflow) == null ? void 0 : _a.type) ? this.activeWorkflow : void 0, n14 = await t5.create({ feature: e14, parent: s13, sketchOptions: o10, snappingManager: i11, viewModel: r14, applyEdits: a12, relatedRecordCallbacks: { addRelatedRecord: async (e15) => await this.startCreatingRelatedRecord(e15), editRelatedRecord: async ({ relatedFeature: e15 }) => await this.startUpdating(e15) } });
    return await w(() => !n14.updating), n14;
  }
  async _drainWorkflowStack(e14) {
    const t5 = this._workflowStack, a12 = [];
    for (; t5.length > 0; ) {
      const o10 = t5.pop();
      this._sketchStack.pop();
      const i11 = e14(o10).then(() => o10.destroy());
      this._updatingHandles.addPromise(i11), a12.push(i11);
    }
    await Promise.all(a12);
  }
  _makeRelatedRecordAttributes(e14) {
    var _a, _b;
    const { parentFeature: t5, relatedLayer: a12, relationshipId: o10 } = e14;
    if (!K(t5))
      return;
    const i11 = (_a = a12.relationships) == null ? void 0 : _a.find((e15) => e15.id === o10);
    if (!i11)
      return void P4("relationship-not-found", "Could not begin creating a related record because the relationship specified could not be found on the destination layer.");
    if ("origin" === i11.role)
      return void P4("unsupported-role", "Creating new related records in the 'origin' table of a relationship is not yet supported");
    const r14 = t5.sourceLayer;
    i11.relatedTableId !== r14.layerId && P4("invalid-argument-combination", "The given parent feature does not belong to the relationship designated by the given relationship ID.");
    const s13 = (_b = r14.relationships) == null ? void 0 : _b.find((e15) => e15.id === o10);
    if (!s13)
      return void P4("relationship-not-found", "Could not begin creating a related record because the relationship specified could not be found on the origin layer.");
    const n14 = t5.getAttribute(s13.keyField);
    return n14 || P4("no-key-on-origin-feature", "The given parent feature does not have a value for the relationship's origin primary key field."), { [i11.keyField]: n14 };
  }
  async _popWorkflow() {
    var _a;
    (_a = this._workflowStack.pop()) == null ? void 0 : _a.destroy(), this._sketchStack.pop();
    const e14 = await this._reconcileWorkflowStack();
    if (e14.failureCount > 0)
      throw new s("editor:next-workflow-failed", "Popped the top workflow, but the next workflow in the stack failed to activate", e14);
  }
  async _pushWorkflow(e14) {
    var _a;
    const t5 = this._workflowRequiresSketchViewModel(e14);
    (_a = this.activeWorkflow) == null ? void 0 : _a.exit({ removeSketchHandles: t5 });
    const o10 = this._sketchStack, i11 = await (e14 == null ? void 0 : e14.start()), r14 = o10.peek();
    i11 ? (r14 == null ? void 0 : r14.exit(), o10.push(i11)) : o10.push(this._cloneSketchController(r14)), this._workflowStack.push(e14);
    const s13 = await this._reconcileWorkflowStack();
    if (s13.failureCount > 0)
      throw new s("editor:failed-to-start-updating-feature", "Failed to enter the provided workflow.", s13);
  }
  async _reconcileWorkflowStack() {
    var _a;
    const e14 = this._workflowStack, t5 = this._sketchStack;
    try {
      const a12 = e14.peek();
      return await (a12 == null ? void 0 : a12.enter()), await ((_a = t5.peek()) == null ? void 0 : _a.enter()), { activeWorkflow: a12, failureCount: 0 };
    } catch (a12) {
      e14.pop().destroy(), t5.pop();
      const { activeWorkflow: o10, failureCount: i11 } = await this._reconcileWorkflowStack();
      return { activeWorkflow: o10, failureCount: i11 + 1 };
    }
  }
  _cloneSketchController(e14) {
    return { enter: (e14 == null ? void 0 : e14.enter) ?? (async () => {
    }), exit: (e14 == null ? void 0 : e14.exit) ?? (async () => {
    }), viewModel: e14 == null ? void 0 : e14.viewModel };
  }
  _workflowRequiresSketchViewModel(e14) {
    var _a;
    const { type: t5 } = e14;
    return "update-feature" === t5 || "create-features" === t5 && !k3((_a = e14.data.creationInfo) == null ? void 0 : _a.layer);
  }
  static _createWorkflowSteps(e14, t5 = "awaiting-feature-to-update") {
    const { data: i11 } = e14;
    return re(["awaiting-feature-to-update", "awaiting-update-feature-candidate", "editing-existing-feature", "adding-attachment", "editing-attachment"], t5, { "awaiting-feature-to-update": () => ({ id: "awaiting-feature-to-update", async setUp() {
      const { spinnerViewModel: t6 } = i11.viewModel, a12 = i11.viewModel.view;
      let d7 = null;
      e14.addHandles(e3(() => {
        d7 = e2(d7);
      }), this.id), i11.rootFeature = null, i11.candidates = [];
      const c10 = a12.on("immediate-click", async (o10) => {
        t6.location = o10.mapPoint, t6.visible = true, d7 == null ? void 0 : d7.abort();
        const { editorItems: r14 } = i11.viewModel;
        d7 = new AbortController();
        const c11 = await o10.async(() => new Promise((e15, t7) => {
          m(d7 == null ? void 0 : d7.signal, () => t7(u3())), e15(q3(r14, a12, o10, d7 == null ? void 0 : d7.signal));
        }));
        s2(d7), i11.candidates = c11.filter((e15) => "fulfilled" === e15.status).flatMap((e15) => e15.value), t6.visible = 1 === i11.candidates.length, 0 !== i11.candidates.length && (o10.stopPropagation(), 1 === i11.candidates.length ? (i11.rootFeature = i11.candidates[0], e14.go("editing-existing-feature").catch(() => {
        }).then(() => t6.visible = false)) : e14.next());
      }, _2.TOOL);
      a12.focus(), e14.addHandles(c10, this.id);
    }, async tearDown() {
      0 === i11.candidates.length && (i11.viewModel.spinnerViewModel.visible = false), e14.removeHandles(this.id);
    } }), "awaiting-update-feature-candidate": () => ({ id: "awaiting-update-feature-candidate", async setUp() {
      i11.rootFeature = null;
      const { view: t6 } = i11.viewModel;
      if (!t6)
        return;
      const a12 = new h6({ view: t6 });
      e14.addHandles([d2(() => i11.rootFeature, (e15, t7) => {
        a12.remove(t7), a12.add(e15);
      }, C), e3(() => a12.removeAll())], this.id);
    }, async tearDown() {
      e14.removeHandles(this.id);
    } }), "editing-existing-feature": () => ({ id: "editing-existing-feature", async setUp() {
      const { rootFeature: t6, viewModel: o10 } = e14.data;
      if (!t6)
        throw new s("editor:no-feature-specified", "Cannot setup the 'updating-existing-feature' step until the root feature is defined");
      await e14.startUpdating(t6), o10.spinnerViewModel.visible = false;
      const i12 = k2(async () => {
        await w(() => !e14.updating), e14.previous();
      });
      e14.addHandles([d2(() => e14.nestedWorkflowCount, (e15, t7) => {
        0 === e15 && 0 !== t7 && i12();
      }, C)], this.id);
    }, async tearDown() {
      await e14.cancelAll(), e14.removeHandles(this.id);
    } }), "adding-attachment": () => ({ id: "adding-attachment", parent: "editing-existing-feature", async setUp() {
    }, async tearDown() {
      i11.viewModel.attachmentsViewModel.mode = "view";
    } }), "editing-attachment": () => ({ id: "editing-attachment", parent: "editing-existing-feature", async setUp() {
    }, async tearDown() {
      i11.viewModel.attachmentsViewModel.mode = "view";
    } }) });
  }
};
e([y()], O4.prototype, "activeEditorItem", null), e([y()], O4.prototype, "activeFeatureFormViewModel", null), e([y()], O4.prototype, "activeSketchViewModel", null), e([y()], O4.prototype, "activeWorkflow", null), e([y()], O4.prototype, "hasUpdatableCandidates", null), e([y()], O4.prototype, "nestedWorkflowCount", null), e([y()], O4.prototype, "shouldShowAttachments", null), e([y()], O4.prototype, "shouldAllowAttachmentEditing", null), e([y()], O4.prototype, "hasPendingEdits", null), e([y()], O4.prototype, "helpMessage", null), e([y()], O4.prototype, "reliesOnOwnerAdminPrivileges", null), e([y()], O4.prototype, "hasInvalidFormTemplate", null), O4 = E2 = e([a2(x4)], O4);
var P4 = (e14, t5) => R3().warn(`editor:${e14}`, t5, "The create operation will be allowed to proceed, but the resulting feature may not be related to the given parent feature.");
var V4 = (e14) => !!e14 && /update-/.test(e14.type);
var L5 = O4;

// node_modules/@arcgis/core/layers/support/EditingCapabilities.js
var n8 = class extends S {
  constructor(e14) {
    super(e14), this.layer = null;
  }
  get attachments() {
    var _a;
    return { enabled: this._effectiveEnabled && !!((_a = this._effectiveCapabilities) == null ? void 0 : _a.data.supportsAttachment) };
  }
  get create() {
    var _a;
    const { _effectiveCapabilities: e14, layer: t5 } = this, r14 = this._createEnabled, i11 = r14, s13 = (_a = t5.capabilities) == null ? void 0 : _a.operations.supportsAdd, a12 = !!(e14 == null ? void 0 : e14.operations.supportsAdd);
    return { attachments: { enabled: r14 && this.attachments.enabled }, attributes: r14, enabled: r14, geometry: i11, reliesOnOwnerAdminPrivileges: !s13 && a12 };
  }
  get delete() {
    var _a;
    const { _effectiveCapabilities: e14, layer: t5 } = this, r14 = (_a = t5.capabilities) == null ? void 0 : _a.operations.supportsDelete, i11 = !!(e14 == null ? void 0 : e14.operations.supportsDelete);
    return { enabled: this._effectiveEnabled && !!(e14 == null ? void 0 : e14.operations.supportsDelete), reliesOnOwnerAdminPrivileges: !r14 && i11 };
  }
  get reliesOnOwnerAdminPrivileges() {
    return this._effectiveEnabled && !this.layer.editingEnabled || this.create.reliesOnOwnerAdminPrivileges || this.update.reliesOnOwnerAdminPrivileges || this.delete.reliesOnOwnerAdminPrivileges;
  }
  get update() {
    var _a;
    const { _effectiveCapabilities: e14, layer: t5 } = this, r14 = this._updateEnabled, i11 = !(!r14 || !(e14 == null ? void 0 : e14.editing.supportsGeometryUpdate)), s13 = (_a = t5.capabilities) == null ? void 0 : _a.operations.supportsUpdate, a12 = !!(e14 == null ? void 0 : e14.operations.supportsUpdate), n14 = this.attachments.enabled, p12 = n14 && this._canCreateOrUpdate;
    return { attachments: { enabled: n14, create: p12, update: p12 }, attributes: r14, enabled: r14, geometry: i11, reliesOnOwnerAdminPrivileges: !s13 && a12 };
  }
  get _createEnabled() {
    var _a;
    return this._effectiveEnabled && !!((_a = this._effectiveCapabilities) == null ? void 0 : _a.operations.supportsAdd);
  }
  get _updateEnabled() {
    var _a;
    return this._effectiveEnabled && !!((_a = this._effectiveCapabilities) == null ? void 0 : _a.operations.supportsUpdate);
  }
  get _canCreateOrUpdate() {
    return !(!this._createEnabled && !this._updateEnabled);
  }
  get _effectiveEnabled() {
    return B(this.layer);
  }
  get _effectiveCapabilities() {
    return O2(this.layer);
  }
};
e([y()], n8.prototype, "attachments", null), e([y()], n8.prototype, "create", null), e([y()], n8.prototype, "delete", null), e([y()], n8.prototype, "layer", void 0), e([y()], n8.prototype, "reliesOnOwnerAdminPrivileges", null), e([y()], n8.prototype, "update", null), e([y()], n8.prototype, "_createEnabled", null), e([y()], n8.prototype, "_updateEnabled", null), e([y()], n8.prototype, "_canCreateOrUpdate", null), e([y()], n8.prototype, "_effectiveEnabled", null), e([y()], n8.prototype, "_effectiveCapabilities", null), n8 = e([a2("esri.layers.support.EditingCapabilities")], n8);
var p8 = n8;

// node_modules/@arcgis/core/views/layers/support/editableLayerViews.js
var d5 = "esri.views.layers.support.editableLayerViews";
function c5(c10, l6) {
  const { associatedLayer: g5 } = c10, p12 = g5 == null ? void 0 : g5.infoFor3D;
  if (!!!p12)
    return false;
  const { supportedFormats: u7, queryFormats: f7 } = p12, w4 = u4("model/gltf-binary", u7) ?? i3("glb", u7);
  if (!(null != w4 && f7.includes(w4)))
    return n.getLogger(d5).warnOnce(`SceneLayer (${c10.title ?? "Untitled layer"}, ${c10.id}) does not support geometry edits because it does not support GLB queries.`), false;
  const y4 = c10.spatialReference, m6 = g5.spatialReference;
  if (!G(y4, m6))
    return n.getLogger(d5).warnOnce(`SceneLayer (${c10.title ?? "Untitled layer"}, ${c10.id}) does not support geometry edits because its spatial reference (wkid:${y4.wkid}) is different from its associated FeatureLayer's spatial reference (wkid:${m6.wkid}).`), false;
  const $4 = g5.sourceJSON.sourceSpatialReference;
  if (!(null == $4 || G($4, m6)))
    return n.getLogger(d5).warnOnce(`SceneLayer (${c10.title ?? "Untitled layer"}, ${c10.id}) does not support geometry edits because the spatial reference of its associated FeatureLayer's service (wkid:${m6.wkid}) is different from its source spatial reference (wkid:${$4.wkid}).`), false;
  const { view: L6 } = l6;
  if (l6.destroyed || null == L6)
    return false;
  const k7 = L6.spatialReference, { viewingMode: b3 } = L6.state, v3 = A2(y4), h10 = b3 === l2.Global;
  if (v3 && !h10)
    return n.getLogger(d5).warnOnce(`SceneLayer (${c10.title ?? "Untitled layer"}, ${c10.id}) does not support geometry edits in local viewing mode because its spatial reference (wkid:${y4.wkid}) is geographic. Please consider changing the viewing mode to global.`), false;
  if (!v3 && h10)
    return n.getLogger(d5).warnOnce(`SceneLayer (${c10.title ?? "Untitled layer"}, ${c10.id}) does not support geometry edits in global viewing mode because its spatial reference (wkid:${y4.wkid}) is projected. Please consider changing the viewing mode to local.`), false;
  return !!(G(y4, k7) || h10 && w2(k7) && C2(y4)) || (n.getLogger(d5).warnOnce(`SceneLayer (${c10.title ?? "Untitled layer"}, ${c10.id}) does not support geometry edits because its spatial reference (wkid:${y4.wkid}) does not match the view spatial reference (wkid:${k7.wkid}).`), false);
}

// node_modules/@arcgis/core/widgets/Editor/support/EditorEditingCapabilities.js
var s9 = class extends p8 {
  constructor(e14) {
    super(e14), this.layerInfo = null, this.layerView = null;
  }
  get attachments() {
    const e14 = this.defaults.attachments.enabled, t5 = this.layerInfo;
    return { enabled: e14 && false !== (t5 == null ? void 0 : t5.allowAttachments) && false !== (t5 == null ? void 0 : t5.enabled) };
  }
  get create() {
    const { attachments: e14, defaults: t5, layerInfo: r14, layer: a12, layerView: l6 } = this, n14 = t5.create, s13 = false !== (r14 == null ? void 0 : r14.enabled) && false !== (r14 == null ? void 0 : r14.addEnabled), i11 = n14.enabled && s13;
    return { attributes: i11 && n14.attributes, enabled: i11, geometry: i11 && n14.geometry && o8(a12, l6), attachments: { enabled: e14.enabled && i11 && false !== (r14 == null ? void 0 : r14.attachmentsOnCreateEnabled) }, reliesOnOwnerAdminPrivileges: n14.reliesOnOwnerAdminPrivileges };
  }
  get defaults() {
    return new p8({ layer: this.layer });
  }
  get delete() {
    const { defaults: e14, layerInfo: t5 } = this, r14 = e14.delete, a12 = false !== (t5 == null ? void 0 : t5.enabled) && false !== (t5 == null ? void 0 : t5.deleteEnabled);
    return { enabled: r14.enabled && a12, reliesOnOwnerAdminPrivileges: r14.reliesOnOwnerAdminPrivileges };
  }
  get formTemplate() {
    const { layer: e14, layerInfo: t5 } = this;
    return (t5 == null ? void 0 : t5.formTemplate) ? t5.formTemplate : e14 && "formTemplate" in e14 ? e14.formTemplate : null;
  }
  get relationship() {
    var _a, _b, _c;
    const { layer: e14 } = this, t5 = !(!J(e14) || !((_a = e14.relationships) == null ? void 0 : _a.length)), r14 = !!((_c = (_b = this.formTemplate) == null ? void 0 : _b.elements) == null ? void 0 : _c.some((e15) => "relationship" === e15.type));
    return { enabled: t5 && r14 };
  }
  get update() {
    const { attachments: e14, defaults: t5, layerInfo: r14, layer: a12, layerView: l6 } = this, n14 = t5.update, s13 = false !== (r14 == null ? void 0 : r14.enabled) && false !== (r14 == null ? void 0 : r14.updateEnabled), i11 = n14.enabled && s13, p12 = i11 && n14.attributes && false !== (r14 == null ? void 0 : r14.attributeUpdatesEnabled), d7 = i11 && n14.geometry && false !== (r14 == null ? void 0 : r14.geometryUpdatesEnabled) && o8(a12, l6), m6 = e14.enabled && false !== (r14 == null ? void 0 : r14.attachmentsOnUpdateEnabled);
    return { attributes: p12, enabled: i11, geometry: d7, attachments: { enabled: m6, create: m6 && n14.attachments.create, update: m6 && n14.attachments.update }, reliesOnOwnerAdminPrivileges: n14.reliesOnOwnerAdminPrivileges };
  }
};
function o8(e14, t5) {
  return "scene" !== e14.type || null != t5 && "type" in t5 && "scene-layer-3d" === t5.type && c5(e14, t5);
}
e([y()], s9.prototype, "attachments", null), e([y()], s9.prototype, "create", null), e([y()], s9.prototype, "defaults", null), e([y()], s9.prototype, "delete", null), e([y()], s9.prototype, "formTemplate", null), e([y()], s9.prototype, "layerInfo", void 0), e([y()], s9.prototype, "layerView", void 0), e([y()], s9.prototype, "relationship", null), e([y()], s9.prototype, "update", null), s9 = e([a2("esri.widgets.Editor.support.EditorEditingCapabilities")], s9);
var i7 = s9;

// node_modules/@arcgis/core/widgets/Editor/support/EditorItem.js
var a7 = class extends S {
  constructor(e14) {
    super(e14), this.disabled = false, this.layer = null, this.layerInfo = null, this.layerView = null;
  }
  get _suspended() {
    var _a;
    return !!((_a = this.layerView) == null ? void 0 : _a.suspended);
  }
  get capabilities() {
    return new i7({ layer: this.layer, layerInfo: this.layerInfo, layerView: this.layerView });
  }
  get editable() {
    const { create: e14, relationship: t5, update: r14, delete: { enabled: s13 } } = this.capabilities, o10 = e14.attachments.enabled || r14.attachments.enabled;
    return !this.disabled && (e14.enabled || r14.enabled || o10 || s13 || t5.enabled);
  }
  get formTemplate() {
    return this.capabilities.formTemplate;
  }
  get hasInvalidFormTemplate() {
    return H(this.layer, this.formTemplate);
  }
  get isTable() {
    return k3(this.layer);
  }
  get supportsCreateFeaturesWorkflow() {
    if (this.disabled)
      return false;
    const { enabled: e14, geometry: t5 } = this.capabilities.create;
    return this.isTable ? e14 : e14 && t5;
  }
  get supportsUpdateWorkflow() {
    const { capabilities: e14 } = this;
    return !this.disabled && (e14.update.enabled || e14.update.attachments.enabled || e14.delete.enabled);
  }
  get visible() {
    const { layer: e14 } = this, t5 = e14.parent;
    return !this._suspended && e14.visible && (!t5 || !("visible" in t5) || t5.visible);
  }
};
e([y()], a7.prototype, "_suspended", null), e([y()], a7.prototype, "capabilities", null), e([y()], a7.prototype, "disabled", void 0), e([y()], a7.prototype, "editable", null), e([y()], a7.prototype, "formTemplate", null), e([y()], a7.prototype, "hasInvalidFormTemplate", null), e([y()], a7.prototype, "isTable", null), e([y()], a7.prototype, "layer", void 0), e([y()], a7.prototype, "layerInfo", void 0), e([y()], a7.prototype, "layerView", void 0), e([y()], a7.prototype, "supportsCreateFeaturesWorkflow", null), e([y()], a7.prototype, "supportsUpdateWorkflow", null), e([y()], a7.prototype, "visible", null), a7 = e([a2("esri.widgets.Editor.support.EditorItem")], a7);
var p9 = a7;

// node_modules/@arcgis/core/widgets/Editor/EditorViewModel.js
var x5 = "esri.widgets.Editor.EditorViewModel";
var D3 = () => n.getLogger(x5);
var G3 = ["create-features", "update"];
function q5(t5, e14, a12) {
  D3().error(new s(t5, e14, a12));
}
function B3(t5, e14) {
  return t5 == null ? void 0 : t5.find((t6) => t6.layer === e14);
}
var Q2 = class extends o4.EventedAccessor {
  constructor(t5) {
    super(t5), this._sketchEventListenerHandle = null, this._sketchGraphicsLayer = new h3({ listMode: "hide", internal: true }), this._snappingManager = null, this._updateItemsTask = null, this._updatingHandles = new h2(), this._featureTemplatesViewModelLocked = false, this.activeWorkflow = null, this._activityQueue = new V(), this.editorItems = new V(), this.failures = [], this.hideTemplatesForInactiveLayers = false, this.attachmentsViewModel = new y2({ capabilities: { editing: true } }), this.featureTemplatesViewModel = new h5({ disabledItemFunction: ({ layer: t6 }) => this._itemIsSuspended(t6) }), this.ownSketchViewModel = new pe({ layer: this._sketchGraphicsLayer }), this.sketchOptions = new l4(), this.snappingOptions = new u5(), this.spinnerViewModel = new p2(), this.pageStack = [], this.showDiscardEditsPrompt = () => Promise.resolve(true), this._candidateCommitted = false, this.back = async () => {
      var _a;
      this.canGoBack && (((_a = this.activeWorkflow) == null ? void 0 : _a.hasPreviousStep) ? await this.activeWorkflow.back(this.showDiscardEditsPrompt) : await this._cancelWorkflow({ force: !this.hasPendingEdits }));
    }, this.saveWorkflow = async () => {
      var _a;
      const { featureFormViewModel: t6 } = this;
      if (t6) {
        if (t6.submit(), !t6.submittable)
          return;
        const e14 = t6.getValues();
        if (t6.validateContingencyConstraints(e14, { includeIncompleteViolations: true }).length > 0)
          return;
      }
      await ((_a = this.activeWorkflow) == null ? void 0 : _a.save());
    }, this.selectFeature = (t6, e14 = false) => {
      const a12 = this.activeWorkflow;
      this._candidateCommitted || "update" !== (a12 == null ? void 0 : a12.type) || (a12.data.rootFeature = t6, e14 && (a12.next(), this._candidateCommitted = true));
    };
  }
  initialize() {
    this.addHandles([d2(() => {
      var _a;
      const t5 = this.view, e14 = (_a = t5 == null ? void 0 : t5.map) == null ? void 0 : _a.editableLayers, a12 = t5 == null ? void 0 : t5.allLayerViews, r14 = a12 == null ? void 0 : a12.filter((t6) => !!(e14 == null ? void 0 : e14.includes(t6.layer)));
      return [e14, r14, this.layerInfos, this.allowedWorkflows];
    }, () => this._updateEditorItems(), A), d2(() => this.hideTemplatesForInactiveLayers, () => this.syncFeatureTemplates()), v(() => this.activeWorkflow, "cancel", () => this.emit("workflow-cancel")), v(() => this.activeWorkflow, "commit", () => this.emit("workflow-commit")), v(() => this.activeWorkflow, "complete", () => {
      this.emit("workflow-commit"), this._set("activeWorkflow", null);
    }), p(() => {
      var _a;
      return (_a = this.view) == null ? void 0 : _a.map;
    }, (t5) => t5.add(this._sketchGraphicsLayer), P), v(() => this.editorItems, "change", () => this._afterEditorItemsChange()), d2(() => [this.canCreate, this.canUpdateVisible], () => this._afterEditorItemsChange()), d2(() => this.page, (t5, e14) => {
      const a12 = [...this.pageStack];
      if (-1 === a12.indexOf(t5))
        a12.push(t5);
      else
        for (; a12.length && a12.at(-1) !== t5; )
          a12.pop();
      this.pageStack = a12;
    }, A), p(() => "awaiting-update-feature-candidate" === this.state, () => this._candidateCommitted = false), v(() => this.featureTemplatesViewModel, "select", async ({ item: t5, oldItem: e14 }) => {
      var _a;
      const { activeWorkflow: a12 } = this;
      if (a12) {
        if ("update" === a12.type && "awaiting-feature-creation-info" === ((_a = a12.activeWorkflow) == null ? void 0 : _a.stepId))
          return;
        try {
          await this.cancelWorkflow({ force: !this.hasPendingEdits });
        } catch {
          return void this.featureTemplatesViewModel.select(e14, { emit: false });
        }
      }
      if (!t5)
        return;
      const r14 = { layer: t5.layer, template: t5.template };
      if (t5.supportsUpload)
        return this.featureTemplatesViewModel.select(e14, { emit: false }), this.startCreateFeaturesWorkflow(r14);
      this.startCreateFeaturesWorkflowAtFeatureCreation(r14);
    }), v(() => this.view, "key-down", (t5) => {
      var _a;
      "Escape" === t5.key && ((_a = this.activeWorkflow) == null ? void 0 : _a.keyboardCancellationEnabled) && (t5.stopPropagation(), this.back());
    }), v(() => this.sketchViewModel, ["create", "delete", "update"], (t5) => {
      var _a, _b;
      const { activeWorkflow: e14 } = this, a12 = "update" === (e14 == null ? void 0 : e14.type), r14 = a12 ? (_a = e14.activeWorkflow) == null ? void 0 : _a.layer : e14 == null ? void 0 : e14.layer, i11 = a12 ? (_b = e14 == null ? void 0 : e14.activeWorkflow) == null ? void 0 : _b.parentLayer : void 0, s13 = `sketch-${t5.type}`;
      this.emit(s13, { type: s13, detail: t5, layer: r14, parentLayer: i11 });
    }, C), d2(() => this.view, (t5) => {
      if (this._snappingManager = u(this._snappingManager), !t5)
        return;
      const e14 = this.snappingOptions;
      this._snappingManager = new q2({ view: t5, options: e14 });
    }, A), d2(() => this.snappingOptions, (t5) => {
      this._snappingManager && (this._snappingManager.options = t5);
    }, A)]);
  }
  destroy() {
    this._cancelWorkflow({ warnIfNoWorkflow: false }).then(() => {
      var _a, _b;
      (_b = (_a = this.view) == null ? void 0 : _a.map) == null ? void 0 : _b.remove(this._sketchGraphicsLayer), this.view = null;
    }), this._updateItemsTask = e2(this._updateItemsTask), this._updatingHandles.destroy(), this._sketchEventListenerHandle = l(this._sketchEventListenerHandle);
  }
  get allowedWorkflows() {
    return this._get("allowedWorkflows");
  }
  set allowedWorkflows(t5) {
    o(n.getLogger(this), "allowedWorkflows", { replacement: "Editor.visibleElements", version: "4.29", warnOnce: true }), t5 && 0 !== t5.length || (t5 = [...G3]), this._set("allowedWorkflows", t5);
  }
  get canCreate() {
    return this.editorItems.some((t5) => t5.supportsCreateFeaturesWorkflow);
  }
  get canCreateVisible() {
    return !!this.featureTemplatesLayers.length;
  }
  get canUpdate() {
    return this.editorItems.some((t5) => t5.supportsUpdateWorkflow);
  }
  get canUpdateVisible() {
    return this.editorItems.some((t5) => t5.supportsUpdateWorkflow && t5.visible);
  }
  get featureTemplatesLayers() {
    const t5 = new V();
    for (const e14 of this.editorItems) {
      const a12 = e14.supportsCreateFeaturesWorkflow && !e14.isTable, r14 = this.hideTemplatesForInactiveLayers && !e14.visible;
      a12 && !r14 && t5.push(e14.layer);
    }
    return t5;
  }
  get editableItems() {
    return o(n.getLogger(this), "editableItems", { replacement: "editorItems", version: "4.29", warnOnce: true }), this.editorItems.map((t5) => {
      const { capabilities: e14, disabled: a12, hasInvalidFormTemplate: r14, layer: i11 } = t5, s13 = [], o10 = e14.create, n14 = e14.update, l6 = e14.delete;
      return o10.enabled && s13.push("create"), n14.enabled && s13.push("update"), l6.enabled && s13.push("delete"), { layer: i11, supports: s13, suspended: a12, attributeUpdatesEnabled: n14.attributes, geometryUpdatesEnabled: n14.geometry, attachmentsOnCreateEnabled: o10.attachments.enabled, attachmentsOnUpdateEnabled: n14.attachments.enabled, hasInvalidFormTemplate: r14, hasAttachments: e14.attachments.enabled };
    });
  }
  get featureFormViewModel() {
    const { activeWorkflow: t5 } = this;
    return "update" === (t5 == null ? void 0 : t5.type) ? t5.activeFeatureFormViewModel : "create-features" === (t5 == null ? void 0 : t5.type) ? t5.featureFormViewModel : null;
  }
  get labelOptions() {
    return this.sketchOptions.labels;
  }
  set labelOptions(t5) {
    this.sketchOptions.labels = t5;
  }
  set layerInfos(t5) {
    const e14 = t5 == null ? void 0 : t5.some((t6) => "allowAttachments" in t6);
    e14 && r(D3(), "Property: layerInfo.allowAttachments", { replacement: "layerInfo.attachmentsOnCreateEnabled or layerInfo.attachmentsOnUpdateEnabled", version: "4.26" }), this._set("layerInfos", t5);
  }
  get sketchViewModel() {
    const { activeWorkflow: t5 } = this;
    return "update" === (t5 == null ? void 0 : t5.type) ? t5.activeSketchViewModel : "create-features" === (t5 == null ? void 0 : t5.type) ? t5.sketchViewModel : this.ownSketchViewModel;
  }
  get state() {
    var _a, _b;
    if (!((_a = this.view) == null ? void 0 : _a.ready))
      return "disabled";
    const t5 = this.attachmentsViewModel.mode;
    if ("add" === t5)
      return "adding-attachment";
    if ("edit" === t5)
      return "editing-attachment";
    const { activeWorkflow: e14 } = this;
    return (e14 == null ? void 0 : e14.stepId) ? "update" === e14.type && ((_b = e14.activeWorkflow) == null ? void 0 : _b.stepId) ? e14.activeWorkflow.stepId : e14.stepId : "ready";
  }
  get syncing() {
    return this._activityQueue.length > 0;
  }
  get updating() {
    var _a;
    return this._updatingHandles.updating || true === ((_a = this.activeWorkflow) == null ? void 0 : _a.updating);
  }
  get tooltipOptions() {
    return this.sketchOptions.tooltips;
  }
  set tooltipOptions(t5) {
    this.sketchOptions.tooltips = t5;
  }
  get valueOptions() {
    return this.sketchOptions.values;
  }
  set valueOptions(t5) {
    this.sketchOptions.values = t5;
  }
  set view(t5) {
    this.ownSketchViewModel.view = t5, this.spinnerViewModel.view = t5, this._set("view", t5);
  }
  get page() {
    const { activeWorkflow: t5, state: e14 } = this;
    if ("update" === (t5 == null ? void 0 : t5.type) && "awaiting-feature-to-update" === t5.stepId)
      return "ready";
    if ("create-features" === (t5 == null ? void 0 : t5.type) && 0 === t5.numPendingFeatures) {
      const e15 = t5.data.upload;
      if (e15)
        return "default" === e15.state ? "ready" : "creating-features-upload-details";
    }
    return e14 ?? "disabled";
  }
  get featureFormDisabled() {
    var _a;
    const { activeWorkflow: t5 } = this;
    return "update" === (t5 == null ? void 0 : t5.type) && false === ((_a = t5.activeEditorItem) == null ? void 0 : _a.capabilities.update.attributes);
  }
  get canGoBack() {
    return null != this.activeWorkflow && !this.syncing;
  }
  get shouldShowDeleteButton() {
    var _a;
    const { activeWorkflow: t5 } = this;
    return !!t5 && "update" === t5.type && !!((_a = t5.activeEditorItem) == null ? void 0 : _a.capabilities.delete.enabled);
  }
  get hasPendingEdits() {
    var _a;
    return ((_a = this.activeWorkflow) == null ? void 0 : _a.hasPendingEdits) ?? false;
  }
  async startCreateFeaturesWorkflowAtFeatureTypeSelection() {
    return this.startCreateFeaturesWorkflow();
  }
  async startCreateFeaturesWorkflowAtFeatureCreation(t5) {
    return this.startCreateFeaturesWorkflow(t5, "creating-features");
  }
  async startCreateFeaturesWorkflow(t5, e14 = "awaiting-feature-creation-info") {
    if (await w(() => !this.updating), !this.canCreate)
      throw new s("editing:unsupported-workflow", "Creating features is unsupported or disabled.");
    const a12 = this._createUpdatingResolver();
    await this._cancelWorkflow();
    const r14 = this._createCreateFeaturesWorkflow(t5, e14);
    this._set("activeWorkflow", r14), await r14.start(), a12.resolve();
  }
  async startCreateFeaturesWorkflowAtFeatureEdit(t5) {
    await w(() => !this.updating);
    const e14 = this._createUpdatingResolver(), { initialFeature: a12 } = t5, r14 = a12.sourceLayer = a12.layer, i11 = r14 ? this.findEditorItemForLayer(r14) : void 0;
    if (!(i11 == null ? void 0 : i11.supportsCreateFeaturesWorkflow))
      throw new s("editing:unsupported-workflow", "Creating features is unsupported or disabled for this layer.");
    await this._cancelWorkflow();
    const o10 = this._createCreateFeaturesWorkflow({ initialFeature: a12, layer: i11.layer, maxFeatures: 1 }, "creating-features");
    this._set("activeWorkflow", o10), await o10.start(), e14.resolve();
  }
  async startUpdateWorkflowAtFeatureSelection() {
    if (await w(() => !this.updating), !this.canUpdate)
      return void q5("editing:unsupported-workflow", "Update workflow is unsupported or disabled.");
    const t5 = this._createUpdatingResolver();
    await this._cancelWorkflow();
    const e14 = this._createUpdateWorkflow();
    this._set("activeWorkflow", e14), await e14.start(), t5.resolve();
  }
  async startUpdateWorkflowAtMultipleFeatureSelection(t5) {
    if (await w(() => !this.updating), !this.canUpdate)
      return void q5("editing:unsupported-workflow", "Update workflow is unsupported or disabled.");
    const e14 = this._createUpdatingResolver();
    await this._cancelWorkflow();
    const a12 = this._createUpdateWorkflow("awaiting-update-feature-candidate");
    a12.data.candidates = t5, this._set("activeWorkflow", a12), await a12.start(), e14.resolve();
  }
  async startUpdateWorkflowAtFeatureEdit(t5) {
    if (await w(() => !this.updating), !this.canUpdate)
      return void q5("editing:unsupported-workflow", "Update workflow is unsupported or disabled.");
    const e14 = this._createUpdatingResolver();
    await this._cancelWorkflow();
    const a12 = this._createUpdateWorkflow("editing-existing-feature");
    a12.data.rootFeature = t5, this._set("activeWorkflow", a12), await a12.start(), e14.resolve();
  }
  async deleteFeatureFromWorkflow() {
    const { activeWorkflow: t5 } = this;
    t5 && "update" === t5.type ? await t5.deleteActiveFeature() : q5("editing:unsupported-workflow", "Deleting requires an active update workflow.");
  }
  async cancelWorkflow(t5) {
    return this._cancelWorkflow({ warnIfNoWorkflow: true, ...t5 });
  }
  findEditorItemForLayer(t5) {
    return this.editorItems.find((e14) => e14.layer === t5);
  }
  itemHasInvalidFormTemplate(t5) {
    var _a;
    return null != t5 && true === ((_a = this.findEditorItemForLayer(t5.layer)) == null ? void 0 : _a.hasInvalidFormTemplate);
  }
  syncFeatureTemplates() {
    this._featureTemplatesViewModelLocked || (this.featureTemplatesViewModel.layers = this.featureTemplatesLayers.toArray());
  }
  async toggleUpdateWorkflow() {
    this.canUpdate && (this.hasPendingEdits && !await this.showDiscardEditsPrompt() || (this.activeWorkflow && "awaiting-feature-to-update" === this.state ? await this.cancelWorkflow({ force: true }) : await this.startUpdateWorkflowAtFeatureSelection()));
  }
  lockFeatureTemplatesViewModel() {
    return this._featureTemplatesViewModelLocked = true, e3(() => {
      this._featureTemplatesViewModelLocked = false, this.syncFeatureTemplates();
    });
  }
  async _getEditorItemCandidates(t5) {
    const { view: e14 } = this;
    if (!(e14 == null ? void 0 : e14.map))
      return [];
    const { map: a12 } = e14, r14 = a12.editableLayers.toArray() ?? [], i11 = a12.allTables.toArray().filter(r4) ?? [];
    return await Promise.allSettled([...r14.map((t6) => "subtype-group" === t6.type ? t6.loadAll() : Promise.resolve()), ...i11.map((t6) => t6.load())]), s2(t5), [...r14.reverse(), ...i11.reverse()].filter((t6) => i5(t6) && ("mesh" !== t6.geometryType || "3d" === e14.type)).flatMap((t6) => "subtype-group" === t6.type ? t6.sublayers.toArray() : t6);
  }
  _drainEditorItems() {
    this.editorItems.drain((t5) => t5.destroy());
  }
  async _updateEditorItems() {
    e2(this._updateItemsTask);
    const { view: t5 } = this, a12 = d(async (e14) => {
      if (!(t5 == null ? void 0 : t5.map) || !(t5 == null ? void 0 : t5.allLayerViews))
        return;
      const a13 = await this._getEditorItemCandidates(e14);
      if (!a13.length)
        return void this._drainEditorItems();
      const r14 = [], i11 = [], s13 = [], { layerInfos: o10 } = this;
      for (const l6 of a13) {
        const e15 = B3(o10, l6), a14 = await le(t5, l6).catch(() => null);
        (e15 ? r14 : a14 ? i11 : s13).push(new p9({ layer: l6, layerInfo: e15, layerView: a14 }));
      }
      (o10 == null ? void 0 : o10.length) && r14.sort((t6, e15) => o10.findIndex(({ layer: e16 }) => e16 === t6.layer) - o10.findIndex(({ layer: t7 }) => t7 === e15.layer));
      const n14 = [...r14, ...i11, ...s13];
      e14.aborted || (this._drainEditorItems(), this.editorItems.addMany(n14));
    });
    this._updatingHandles.addPromise(a12.promise), this._updateItemsTask = a12;
  }
  _afterEditorItemsChange() {
    const { activeWorkflow: t5 } = this;
    if (this.syncFeatureTemplates(), !t5)
      return;
    const { stepId: e14 } = t5;
    "create-features" !== t5.type ? "update" === t5.type && ("awaiting-feature-to-update" === e14 && !this.canUpdateVisible || "awaiting-update-feature-candidate" === e14 && !t5.hasUpdatableCandidates) && this._cancelWorkflow() : "awaiting-feature-creation-info" !== e14 || this.canCreate || this._cancelWorkflow();
  }
  async _cancelWorkflow(t5) {
    const e14 = this.activeWorkflow;
    if (!e14)
      return void ((t5 == null ? void 0 : t5.warnIfNoWorkflow) && q5("editing:no-active-workflow", "There is no active workflow to cancel."));
    if (!t5 || false !== t5.force)
      return this.emit("workflow-cancel"), this._set("activeWorkflow", null), void await e14.cancel(t5);
    await e14.cancel(t5), this._set("activeWorkflow", null);
  }
  _createCreateFeaturesWorkflow(t5, e14) {
    return K3.create({ viewModel: this, creationInfo: t5, sketchOptions: this.sketchOptions, snappingManager: this._snappingManager, startAt: e14, applyEditsCallback: (t6, e15, a12) => this._applyEdits(t6, e15, a12), addAttachmentsCallback: (t6, e15) => this._addAttachments(t6, e15) });
  }
  _createUpdateWorkflow(t5) {
    return L5.create({ viewModel: this, sketchOptions: this.sketchOptions, snappingManager: this._snappingManager, startAt: t5, applyEditsCallback: (t6, e14, a12) => this._applyEdits(t6, e14, a12), addAttachmentsCallback: (t6, e14) => this._addAttachments(t6, e14) });
  }
  _addAttachments(t5, e14) {
    const a12 = e14.map((e15) => this._addAttachment(t5, e15.feature, e15.attachment)) ?? [];
    return Promise.all(a12);
  }
  async _addAttachment(t5, e14, a12) {
    var _a;
    let r14 = null;
    if (!("addAttachment" in t5) || null == ((_a = t5.capabilities) == null ? void 0 : _a.attachment))
      throw new s("editor:attachments-not-supported", "Adding attachments is not supported for this layer type");
    return await this._queueOperation(async () => {
      var _a2;
      return r14 = await ((_a2 = t5.addAttachment) == null ? void 0 : _a2.call(t5, e14, a12).catch((t6) => {
        throw (t6 == null ? void 0 : t6.error) || t6;
      })) ?? null, r14;
    }), r14;
  }
  async _applyEdits(t5, e14, a12) {
    let r14 = null;
    const i11 = t5.url ? await x(t5.url) : null, s13 = { returnServiceEditsOption: (!i11 || !a3(i11)) && !RegExp("/hosted/", "i").test(t5.url) ? "original-and-current-features" : void 0, ...a12 };
    return await this._queueOperation(async () => {
      const { view: a13 } = this;
      if (!a13)
        return null;
      const i12 = await le(a13, t5).catch(() => null);
      return r14 = await t5.applyEdits(e14, s13), i12 && await w(() => !i12.updating), r14;
    }), r14;
  }
  _queueOperation(t5) {
    this._activityQueue.push(t5);
    const e14 = (t6, e15) => {
      const a12 = e15.indexOf(t6);
      a12 > -1 && e15.splice(a12, 1);
    };
    return t5().then((t6) => {
      if (null != t6 && "error" in t6 && null != t6.error)
        throw t6.error;
      if (null != t6 && "addFeatureResults" in t6) {
        const { addFeatureResults: e15, deleteFeatureResults: a12, updateFeatureResults: r14 } = t6, i11 = e15.find((t7) => !!t7.error) || r14.find((t7) => !!t7.error) || a12.find((t7) => !!t7.error);
        if (i11)
          throw i11.error;
      }
      return t6;
    }).catch((a12) => {
      q5("editing:operation-error", "An error occurred.", { error: a12 });
      const r14 = { error: a12, retry: () => (e14(r14, this.failures), this._queueOperation(t5)), cancel: () => {
        e14(r14, this.failures);
      } };
      this._set("failures", [...this.failures, r14]);
    }).then(() => {
      e14(t5, this._activityQueue);
    });
  }
  _createUpdatingResolver() {
    const t5 = L();
    return this._updatingHandles.addPromise(t5.promise), t5;
  }
  _itemIsSuspended(t5) {
    const e14 = this.findEditorItemForLayer(t5);
    return null != e14 && (!e14.visible || e14.disabled);
  }
};
e([y({ readOnly: true })], Q2.prototype, "activeWorkflow", void 0), e([y({ readOnly: true })], Q2.prototype, "_activityQueue", void 0), e([y({ value: [...G3] })], Q2.prototype, "allowedWorkflows", null), e([y({ readOnly: true })], Q2.prototype, "canCreate", null), e([y()], Q2.prototype, "canCreateVisible", null), e([y({ readOnly: true })], Q2.prototype, "canUpdate", null), e([y()], Q2.prototype, "canUpdateVisible", null), e([y()], Q2.prototype, "featureTemplatesLayers", null), e([y()], Q2.prototype, "editableItems", null), e([y()], Q2.prototype, "editorItems", void 0), e([y({ readOnly: true })], Q2.prototype, "failures", void 0), e([y()], Q2.prototype, "hideTemplatesForInactiveLayers", void 0), e([y()], Q2.prototype, "attachmentsViewModel", void 0), e([y()], Q2.prototype, "featureFormViewModel", null), e([y()], Q2.prototype, "featureTemplatesViewModel", void 0), e([y()], Q2.prototype, "labelOptions", null), e([y()], Q2.prototype, "layerInfos", null), e([y()], Q2.prototype, "ownSketchViewModel", void 0), e([y()], Q2.prototype, "sketchOptions", void 0), e([y()], Q2.prototype, "sketchViewModel", null), e([y({ type: u5, nonNullable: true })], Q2.prototype, "snappingOptions", void 0), e([y()], Q2.prototype, "spinnerViewModel", void 0), e([y()], Q2.prototype, "state", null), e([y({ readOnly: true })], Q2.prototype, "syncing", null), e([y()], Q2.prototype, "updating", null), e([y()], Q2.prototype, "tooltipOptions", null), e([y()], Q2.prototype, "valueOptions", null), e([y()], Q2.prototype, "view", null), e([y()], Q2.prototype, "pageStack", void 0), e([y()], Q2.prototype, "showDiscardEditsPrompt", void 0), e([y()], Q2.prototype, "_candidateCommitted", void 0), e([y()], Q2.prototype, "page", null), e([y()], Q2.prototype, "featureFormDisabled", null), e([y()], Q2.prototype, "canGoBack", null), e([y()], Q2.prototype, "shouldShowDeleteButton", null), e([y()], Q2.prototype, "hasPendingEdits", null), Q2 = e([a2(x5)], Q2);
var N3 = Q2;

// node_modules/@arcgis/core/widgets/Editor/icons.js
var a8 = "exclamation-mark-triangle";

// node_modules/@arcgis/core/widgets/Editor/VisibleElements.js
var n9 = class extends S {
  constructor(o10) {
    super(o10), this.createFeaturesSection = true, this.directionModePicker = false, this.editFeaturesSection = true, this.labelsToggle = true, this.snappingControls = true, this.snappingControlsElements = new s6(), this.tooltipsToggle = true, this.undoRedoButtons = false;
  }
};
e([y({ type: Boolean, nonNullable: true })], n9.prototype, "createFeaturesSection", void 0), e([y({ type: Boolean, nonNullable: true })], n9.prototype, "directionModePicker", void 0), e([y({ type: Boolean, nonNullable: true })], n9.prototype, "editFeaturesSection", void 0), e([y({ type: Boolean, nonNullable: true })], n9.prototype, "labelsToggle", void 0), e([y({ type: Boolean, nonNullable: true })], n9.prototype, "snappingControls", void 0), e([y({ type: s6, nonNullable: true })], n9.prototype, "snappingControlsElements", void 0), e([y({ type: Boolean, nonNullable: true })], n9.prototype, "tooltipsToggle", void 0), e([y({ type: Boolean, nonNullable: true })], n9.prototype, "undoRedoButtons", void 0), n9 = e([a2("esri.widgets.Editor.VisibleElements")], n9);
var l5 = n9;

// node_modules/@arcgis/core/widgets/Editor/components/PanelContent.js
var n10 = "esri-editor__panel-content";
var o9 = { base: n10, message: `${n10}__message`, section: `${n10}__section`, sectionGroup: `${n10}__section__group`, scrimContainer: `${n10}__scrim-container` };
var i8 = () => r3({ scrim: () => import("./calcite-scrim-Z45AYPZE.js") });
function c6(e14, ...n14) {
  return n2("div", { class: g(o9.base, (e14 == null ? void 0 : e14.showScrimOverlay) ? o9.scrimContainer : void 0), key: (e14 == null ? void 0 : e14.key) ?? "panel-content" }, ...n14, (e14 == null ? void 0 : e14.showScrimOverlay) ? n2("calcite-scrim", null) : void 0);
}
function r7(e14, ...t5) {
  return n2("div", { class: o9.message, "data-testid": "panel-content-message", key: (e14 == null ? void 0 : e14.key) ?? "panel-content-message" }, ...t5);
}
function a9(e14, ...t5) {
  return n2("div", { class: o9.section, key: (e14 == null ? void 0 : e14.key) ?? "panel-content-section" }, ...t5);
}
function p10(e14, ...t5) {
  return n2("div", { class: o9.sectionGroup, key: (e14 == null ? void 0 : e14.key) ?? "panel-content-section-group" }, ...t5);
}

// node_modules/@arcgis/core/widgets/Editor/components/CreateFeaturesPanelContent.js
var r8 = () => i8();
function s10({ helpMessage: t5 }) {
  return n2(c6, { key: "creating-features-panel-content" }, n2(r7, { key: "content-message" }, t5));
}

// node_modules/@arcgis/core/widgets/Editor/components/FeatureList.js
var i9 = () => i8();
function n11({ editorItems: t5, filterText: r14, id: i11, messagesTemplates: n14, onFilterTextChange: m6, onSelectFeature: c10, workflow: u7 }) {
  const f7 = /* @__PURE__ */ new Map(), p12 = u7.data.candidates;
  let y4 = 0;
  p12.map((e14) => ({ label: d6(e14), id: e14.attributes[e14.layer.objectIdField], data: e14 })).filter(({ label: e14, data: a12 }) => {
    const l6 = r14.toLowerCase(), { title: o10 } = a12.layer, s13 = t5.find((e15) => e15.layer === a12.sourceLayer);
    return s13 ? s13.supportsUpdateWorkflow && (!l6 || (e14 == null ? void 0 : e14.toLowerCase().includes(l6)) || (o10 == null ? void 0 : o10.toLowerCase().includes(l6))) : null;
  }).filter(k).forEach((e14) => {
    var _a;
    y4++;
    const t6 = e14.data.layer;
    f7.has(t6) ? (_a = f7.get(t6)) == null ? void 0 : _a.items.push(e14) : f7.set(t6, { id: `${t6.id}`, label: t6.title ?? "", items: [e14] });
  });
  const h10 = t5.toArray().map(({ layer: e14 }) => f7.get(e14)).filter(k), I3 = y4 > 10 || r14.length > 0;
  return n2(c6, { key: "feature-list" }, n2(a9, null, o6({ enableListScroll: false, filterEnabled: I3, filterText: r14, id: i11, items: h10, messages: { filterPlaceholder: n14.filterPlaceholder, noItems: n14.noItems, noMatches: n14.noMatches }, onFilterChange: (e14) => m6(e14), onItemMouseEnter: (e14) => c10(e14.data), onItemMouseLeave: () => c10(null), onItemSelect: (e14) => c10(e14.data, true) })));
}
function d6(e14) {
  const r14 = e14.layer;
  if (!r14)
    return null;
  const a12 = r14.fieldsIndex.get(r14.objectIdField), l6 = a12.alias || a12.name, { attributes: o10 } = e14, s13 = _(r14);
  return s13 && o10[s13] && `${o10[s13]}` || `${l6}: ${o10[a12.name]}`;
}

// node_modules/@arcgis/core/widgets/Editor/components/FooterActions.js
var i10 = { base: "esri-editor__actions" };
var e13 = () => r3({ button: () => import("./calcite-button-V4T5NPWY.js") });
function r9({ buttons: o10, key: e14 }) {
  return n2("div", { class: i10.base, key: e14 ?? "footer-actions", slot: "footer" }, o10.filter(k).map(({ disabled: t5, onClick: o11, label: i11, ...e15 }, r14) => n2("calcite-button", { disabled: t5 ?? false, key: `action-${r14}`, onclick: () => {
    t5 || o11();
  }, slot: "footer-actions", width: "full", ...e15 }, i11)));
}

// node_modules/@arcgis/core/widgets/Editor/components/Notices.js
var t4 = { notice: "esri-editor__notice" };
var r10 = () => r3({ notice: () => import("./calcite-notice-Q2MN4Y4I.js") });
function n12({ workflow: o10, messages: t5 }) {
  return n2(i, null, (o10 == null ? void 0 : o10.reliesOnOwnerAdminPrivileges) ? n2(c7, { message: t5.ownerAdminNotice }) : void 0, (o10 == null ? void 0 : o10.hasInvalidFormTemplate) ? n2(c7, { icon: a8, message: t5.formFieldUpdateError }) : void 0);
}
function c7({ message: e14, ...o10 }) {
  return n2("calcite-notice", { class: t4.notice, open: true, scale: "s", ...o10 }, n2("div", { slot: "message" }, e14));
}

// node_modules/@arcgis/core/widgets/Editor/components/Settings.js
var r11 = { settingsContainer: "esri-editor__settings" };
var p11 = () => r3({ accordion: () => import("./calcite-accordion-HEFSEF4I.js"), "accordion-item": () => import("./calcite-accordion-item-B7NM2YM3.js") });
function c8({ editorViewModel: t5, messagesCommon: p12, visibleElements: c10 }) {
  const { snappingOptions: l6, sketchOptions: a12, view: m6 } = t5, g5 = [], d7 = { directionModePicker: c10.directionModePicker, labelsToggle: c10.labelsToggle, tooltipsToggle: c10.tooltipsToggle };
  return q(d7) && g5.push(n2(k4, { sketchOptions: a12, viewType: m6 == null ? void 0 : m6.type, visibleElements: d7 })), c10.snappingControls && g5.push(n2(L3, { afterCreate: (t6) => t6.layerListOpen = false, snappingOptions: l6, view: m6, visibleElements: c10.snappingControlsElements ?? new s6() })), 0 === g5.length ? null : n2("calcite-accordion", { appearance: "transparent", class: r11.settingsContainer, key: "settings" }, n2("calcite-accordion-item", { "data-testid": "settings", heading: p12.settings, iconStart: "gear" }, g5));
}

// node_modules/@arcgis/core/widgets/Editor/components/PanelToolbar.js
var s11 = { base: "esri-editor__panel-toolbar" };
var a10 = () => Promise.all([r3({ button: () => import("./calcite-button-V4T5NPWY.js") }), p11()]);
function r12({ editorViewModel: e14, messagesCommon: t5, visibleElements: a12 }) {
  const { sketchViewModel: r14 } = e14;
  return n2("div", { class: s11.base, key: "panel-toolbar" }, n2(c8, { editorViewModel: e14, messagesCommon: t5, visibleElements: a12 }), a12.undoRedoButtons ? [n2("calcite-button", { alignment: "center", appearance: "transparent", disabled: !(r14 == null ? void 0 : r14.canUndo()), iconStart: "undo", key: "undo-button", kind: "neutral", label: t5.undo, onclick: () => r14 == null ? void 0 : r14.undo(), scale: "l" }, t5.undo), n2("calcite-button", { alignment: "center", appearance: "transparent", disabled: !(r14 == null ? void 0 : r14.canRedo()), iconStart: "redo", key: "redo-button", kind: "neutral", label: t5.redo, onclick: () => r14 == null ? void 0 : r14.redo(), scale: "l" }, t5.redo)] : null);
}

// node_modules/@arcgis/core/widgets/Editor/components/Prompt.js
var s12 = "esri-editor__prompt";
var a11 = { base: s12, header: `${s12}__header`, heading: `${s12}__header__heading`, message: `${s12}__message`, divider: `${s12}__divider`, actions: `${s12}__actions` };
var c9 = () => r3({ button: () => import("./calcite-button-V4T5NPWY.js"), icon: () => import("./calcite-icon-25XWA6H7.js"), scrim: () => import("./calcite-scrim-Z45AYPZE.js") });
function r13({ actions: e14, context: s13, headingLevel: c10, message: r14, title: p12 }) {
  const d7 = e14.secondary;
  let m6;
  switch (s13) {
    case "danger":
      m6 = "danger";
      break;
    case "info":
      m6 = "brand";
      break;
    default:
      m6 = "neutral";
  }
  const l6 = n2("calcite-button", { afterCreate: n13, appearance: "solid", "data-testid": "primary-prompt-button", key: "prompt-primary-button", kind: m6, onclick: e14.primary.action, width: d7 ? "half" : "full" }, e14.primary.label), u7 = d7 && n2("calcite-button", { appearance: "outline", "data-testid": "secondary-prompt-button", key: "prompt-secondary-button", kind: m6, onclick: d7.action, width: "half" }, d7.label);
  return n2("calcite-scrim", { "data-testid": "prompt", key: "prompt" }, n2("div", { class: `${a11.base}--${s13}` }, n2("div", { class: a11.header }, n2("calcite-icon", { icon: a8 }), n2(e7, { class: a11.heading, level: c10 }, p12)), n2("div", { class: a11.message }, r14), n2("div", { class: a11.divider }), n2("div", { class: a11.actions }, u7, l6)));
}
function n13(t5) {
  requestAnimationFrame(() => t5.setFocus());
}

// node_modules/@arcgis/core/widgets/Editor/components/UpdateFeaturePanelContent.js
var f5 = () => Promise.all([e13(), r10(), i8()]);
function h8({ editorViewModel: t5, headingLevel: n14, messages: r14, messagesCommon: f7, onDelete: h10, onSave: g5, renderAttachments: v3, renderFeatureForm: k7 }) {
  const { activeWorkflow: w4, featureFormViewModel: y4, syncing: F2 } = t5;
  if (!w4 || !y4)
    return null;
  const b3 = w4.type, j2 = "activeWorkflow" in w4 ? w4.activeWorkflow : void 0, P5 = j2 == null ? void 0 : j2.type, S3 = j2 && !j2.hasPendingEdits || "update" === b3 && !w4.hasPendingEdits || F2 || y4.updating, C5 = "update" === b3 && "create-features" !== P5 ? f7.update : f7.create, A4 = "create-features" === b3 && "create-new" === w4.createFeatureState, T = "create-features" === b3 ? w4.numPendingFeatures : 0, W3 = T > 1 ? s3(r14.createFeaturesTemplate, { numFeatures: T }) : C5, x6 = w4.shouldShowAttachments && !y4.activeRelationshipInput, D4 = y4.inputs.every((e14) => !e14.visible) && !x6 ? n2(r7, { key: "panel-content-message" }, s3(r14.clickToFinishTemplate, { button: C5 })) : n2(a9, { key: "panel-content-section" }, n2(n12, { messages: r14, workflow: w4 }), n2(p10, null, k7(), x6 ? n2("div", { key: "attachments" }, n2(e7, { level: n4(n14) }, r14.attachments), v3()) : null));
  return n2(i, null, n2(c6, { key: "attribute-panel-content", showScrimOverlay: A4 }, D4), n2(r9, { buttons: [{ onClick: g5, disabled: S3, label: W3 }, t5.shouldShowDeleteButton ? { appearance: "outline", onClick: h10, disabled: F2, kind: "danger", label: f7.delete } : void 0] }));
}

// node_modules/@arcgis/core/widgets/Editor/components/UploadDetails.js
var u6 = "esri-editor__upload-details";
var m5 = { base: u6, status: `${u6}__status`, titleWrapper: `${u6}__title-wrapper`, title: `${u6}__title`, description: `${u6}__description`, loader: `${u6}__loader`, iconSuccess: `${u6}__icon ${u6}__icon--success`, iconError: `${u6}__icon ${u6}__icon--error`, fileList: `${u6}__file-list`, file: `${u6}__file`, fileIcon: `${u6}__file-icon`, fileName: `${u6}__file-name` };
var f6 = () => Promise.all([r3({ icon: () => import("./calcite-icon-25XWA6H7.js"), loader: () => import("./calcite-loader-64JUXTQT.js") }), e13(), i8()]);
function _5(e14) {
  const { messages: t5, key: s13, upload: o10 } = e14;
  return n2(i, null, n2(c6, { key: s13 ?? "upload-details" }, n2(a9, null, g4(e14))), "error" === o10.state ? n2(r9, { buttons: [{ onClick: () => o10.retry(), label: t5.modelUploads.error.uploadNew, iconStart: "upload-to" }], key: "upload-details-footer-actions" }) : null);
}
function g4(e14) {
  const t5 = y3(e14);
  return t5 ? n2("div", { class: m5.base, "data-testid": "upload-details", key: "upload-details-content" }, n2("div", { class: m5.status, key: "status" }, t5.iconContent, n2("div", { class: m5.titleWrapper, key: "text" }, n2("div", { class: m5.title, key: "title" }, t5.title), n2("div", { class: m5.description, key: "description" }, t5.description))), k6(e14.upload)) : null;
}
function y3({ helpMessage: e14, messages: t5, upload: s13 }) {
  switch (s13.state) {
    case "pending": {
      const { title: e15, description: o10 } = t5.modelUploads.pending;
      return { title: e15, description: o10, iconContent: n2("calcite-loader", { "aria-hidden": "true", class: m5.loader, label: "", scale: "s", type: "determinate", value: Math.min(Math.round(100 * s13.progress), 1 === s13.progress ? 100 : 99) }) };
    }
    case "success": {
      const { title: s14 } = t5.modelUploads.success;
      return { title: s14, description: e14 || t5.helpMessages3d.mesh, iconContent: n2("calcite-icon", { class: g(m5.iconSuccess), icon: "check", scale: "l" }) };
    }
    case "error": {
      const { title: e15 } = t5.modelUploads.error;
      return { title: e15, description: $3(s13.error, t5), iconContent: n2("calcite-icon", { class: g(m5.iconError), icon: "exclamation-mark-circle", scale: "l" }) };
    }
    default:
      return null;
  }
}
function $3(o10, i11) {
  if (!o10)
    return null;
  const l6 = i11.modelUploads.error.messages;
  switch (o10.constructor) {
    case i4:
      return l6.noModel;
    case m3:
      return l6.multipleModels;
    case l3:
      return l6.conversionFailed;
    default:
      return l6.default;
  }
}
function k6(e14) {
  return n2("div", { class: m5.fileList, key: "file-list" }, e14.files.map((e15) => n2("div", { class: m5.file, key: `file-${e15.name}` }, n2("calcite-icon", { class: m5.fileIcon, icon: j(e15), scale: "s" }), n2("span", { class: m5.fileName }, h9(e15.name)))));
}
function h9(e14) {
  var _a;
  return ((_a = e14.split("/").pop()) == null ? void 0 : _a.split("\\").pop()) ?? "";
}
function j(e14) {
  var _a;
  const t5 = (_a = e14.name.split(".").pop()) == null ? void 0 : _a.toLowerCase();
  return (t5 ? b2[t5] : null) ?? v2;
}
var v2 = "file";
var C4 = "file-shape";
var U = "file-image";
var b2 = { glb: C4, gltf: C4, jpeg: U, jpg: U, png: U, svg: U, zip: "file-zip" };

// node_modules/@arcgis/core/widgets/Editor.js
var X2 = class extends D {
  constructor(e14, t5) {
    super(e14, t5), this._featureForm = new $(), this._attachments = new I2({ visibleElements: { addSubmitButton: false, cancelAddButton: false, cancelUpdateButton: false, deleteButton: false, errorMessage: false, progressBar: false, updateButton: false } }), this._featureTemplates = new F({ enableListScroll: false, renderItemContentEnd: (e15) => e15.supportsUpload ? n2("calcite-icon", { class: t3.templateItemContentEnd, icon: "upload-to", key: "upload-icon" }) : null, renderItemLabel: (e15) => e15.label, renderCustomGroupContent: (e15) => this._renderCustomTemplateGroupContent(e15) }), this._filterText = "", this._prompt = null, this._spinner = new h4(), this.headingLevel = 4, this.messages = null, this.messagesCommon = null, this.messagesTemplates = null, this.supportingWidgetDefaults = null, this.viewModel = new N3(), this.visibleElements = new l5(), this._renderSelectIcon = () => n2("calcite-icon", { icon: "cursor", slot: "content-start" }), this.EditorPanel = ({ heading: e15, key: t6 }, ...s13) => {
      var _a;
      return n2("calcite-flow-item", { closable: false, heading: e15, headingLevel: this.headingLevel, key: t6, loading: this._loading, onCalciteFlowItemBack: this._onBack, onCalciteFlowItemScroll: (_a = this._featureForm) == null ? void 0 : _a.onScroll }, n2(r12, { editorViewModel: this.viewModel, messagesCommon: this.messagesCommon, visibleElements: this.visibleElements }), ...s13);
    }, this._showDiscardEditsPrompt = () => {
      var _a;
      const { messages: e15, activeWorkflow: t6 } = this;
      return "create-features" === (t6 == null ? void 0 : t6.type) && s7(t6.data.creationInfo) ? this._showPrompt("success" === ((_a = t6.data.upload) == null ? void 0 : _a.state) ? e15.modelUploads.cancelPlacementPrompt : e15.modelUploads.cancelUploadPrompt) : this._showPrompt({ title: e15.cancelEditTitle, message: e15.cancelEditWarningMessage, yesLabel: e15.discardEdits, noLabel: e15.continueEditing });
    }, this._showGenericCancelPrompt = () => {
      const { messages: e15, messagesCommon: t6 } = this;
      return this._showPrompt({ title: e15.cancelRequestTitle, message: e15.cancelRequestWarningMessage, yesLabel: t6.form.yes, noLabel: t6.form.no });
    }, this._onSave = () => {
      this.viewModel.saveWorkflow();
    }, this._onDelete = () => {
      const { messages: e15, messagesCommon: t6 } = this;
      this._prompt = { title: e15.deleteWarningTitle, message: e15.deleteWarningMessage, context: "danger", actions: { primary: { label: t6.delete, action: () => {
        this.deleteFeatureFromWorkflow(), this._clearPrompt();
      } }, secondary: { label: e15.keepFeature, action: this._clearPrompt } } };
    }, this._onToggleUpdateWorkflow = () => this.viewModel.toggleUpdateWorkflow(), this._onBack = (e15) => (e15 == null ? void 0 : e15.stopPropagation(), this.viewModel.back()), this._onAttachmentAdd = () => {
      var _a;
      const { activeWorkflow: e15 } = this.viewModel;
      e15 && ("create-features" === e15.type || "update" === e15.type && "create-features" === ((_a = e15.activeWorkflow) == null ? void 0 : _a.type) ? (this._attachments.addFile(), e15.back()) : this._attachments.addAttachment().then(() => e15.back()));
    }, this._onAttachmentUpdate = () => {
      const { activeWorkflow: e15 } = this.viewModel;
      e15 && ("create-features" === e15.type ? (this._attachments.updateFile(), e15.back()) : this._attachments.updateAttachment().then(() => e15.back()));
    }, this._onAttachmentDelete = () => {
      const { messages: e15, messagesCommon: t6 } = this;
      this._prompt = { title: e15.deleteAttachmentWarningTitle, message: e15.deleteAttachmentWarningMessage, context: "danger", actions: { primary: { label: t6.delete, action: this._onAttachmentDeleteConfirm }, secondary: { label: e15.keepAttachment, action: this._clearPrompt } } };
    }, this._onAttachmentDeleteConfirm = async () => {
      const e15 = this._attachments, { activeWorkflow: t6 } = this.viewModel;
      t6 && ("create-features" === t6.type ? e15.deleteFile() : (await e15.deleteAttachment(e15.viewModel.activeAttachmentInfo), this._clearPrompt()), await t6.back(), this._clearPrompt());
    }, this._onAttachmentsError = (e15) => {
      this._prompt = { title: this.messages.errorWarningTitle, message: e15.message, context: "warning", actions: { primary: { label: this.messagesCommon.form.ok, action: this._clearPrompt } } };
    }, this._clearPrompt = () => {
      this._prompt = null;
    };
  }
  initialize() {
    this.addHandles([d2(() => n4(this.headingLevel), (e14) => {
      this._featureForm.headingLevel = e14, this._featureTemplates.headingLevel = e14;
    }, P), v(() => this.viewModel.activeWorkflow, "cancel-request", ({ controller: e14 }) => {
      (this.viewModel.hasPendingEdits ? this._showDiscardEditsPrompt() : this._showGenericCancelPrompt()).then((t5) => t5 ? e14.allow() : e14.deny());
    }), p(() => this.viewModel.featureFormViewModel, (e14) => {
      this._featureForm.viewModel = e14;
    }, P), d2(() => this.viewModel, (e14) => {
      this._attachments.viewModel = (e14 == null ? void 0 : e14.attachmentsViewModel) ?? null, this._featureTemplates.viewModel = (e14 == null ? void 0 : e14.featureTemplatesViewModel) ?? null, this._spinner.viewModel = (e14 == null ? void 0 : e14.spinnerViewModel) ?? null, e14.showDiscardEditsPrompt = this._showDiscardEditsPrompt;
    }, P), d2(() => this.view, (e14, t5) => {
      const s13 = `editor-${this.id}-spinner`;
      t5 == null ? void 0 : t5.ui.remove(this._spinner, s13), e14 == null ? void 0 : e14.ui.add(this._spinner, { key: s13, position: "manual" });
    }, P), d2(() => [this.supportingWidgetDefaults, this.viewModel.sketchViewModel], ([e14]) => {
      var _a;
      e14 && (this._featureForm.set(e14.featureForm), this._attachments.set(e14.attachments), this._featureTemplates.set(e14.featureTemplates), (_a = this.viewModel.sketchViewModel) == null ? void 0 : _a.set(e14.sketch));
    }, P), p(() => {
      var _a;
      return (_a = this._attachments) == null ? void 0 : _a.error;
    }, (e14) => this._onAttachmentsError(e14)), p(() => {
      var _a;
      return (_a = this.viewModel) == null ? void 0 : _a.failures;
    }, (e14) => {
      const { messages: t5 } = this, [{ error: s13, retry: o10, cancel: i11 }] = e14;
      this._prompt = { title: t5.errorWarningTitle, message: s3(t5.errorWarningMessageTemplate, { errorMessage: s13.message }), context: "warning", actions: { primary: { label: t5.retry, action: () => {
        o10(), this._clearPrompt();
      } }, secondary: { label: t5.ignore, action: () => {
        i11(), this._clearPrompt();
      } } } };
    }), d2(() => {
      var _a;
      return (_a = this.viewModel) == null ? void 0 : _a.state;
    }, (e14) => {
      switch (e14) {
        case "awaiting-feature-to-update":
        case "ready":
        case "disabled":
          this._filterText = "", this._featureTemplates.filterText = "";
      }
    }), d2(() => this.viewModel.featureFormDisabled, (e14) => this._featureForm.disabled = e14)]);
  }
  destroy() {
    this._attachments.destroy(), this._featureForm.destroy(), this._featureTemplates.destroy();
  }
  loadDependencies() {
    return Promise.all([r3({ "flow-item": () => import("./calcite-flow-item-BUZXXDGT.js"), flow: () => import("./calcite-flow-S3IMKQD6.js"), icon: () => import("./calcite-icon-25XWA6H7.js"), list: () => import("./calcite-list-CC3BA3BY.js") }), r8(), i9(), e13(), r10(), i8(), a10(), c9(), f5(), f6()]);
  }
  get _deleteButtonCommonInfo() {
    return { appearance: "outline", kind: "danger" };
  }
  get _loading() {
    const { viewModel: e14 } = this;
    return e14.syncing || e14.updating || this._attachments.submitting;
  }
  get activeWorkflow() {
    return this.viewModel.activeWorkflow;
  }
  get allowedWorkflows() {
    return this.viewModel.allowedWorkflows;
  }
  set allowedWorkflows(e14) {
    o(n.getLogger(this), "allowedWorkflows", { replacement: "visibleElements", version: "4.29", warnOnce: true }), this.viewModel.allowedWorkflows = e14;
  }
  get hideTemplatesForInactiveLayers() {
    return this.viewModel.hideTemplatesForInactiveLayers;
  }
  set hideTemplatesForInactiveLayers(e14) {
    this.viewModel.hideTemplatesForInactiveLayers = e14;
  }
  get icon() {
    return "pencil";
  }
  set icon(e14) {
    this._overrideIfSome("icon", e14);
  }
  get label() {
    var _a;
    return ((_a = this.messages) == null ? void 0 : _a.widgetLabel) ?? "";
  }
  set label(e14) {
    this._overrideIfSome("label", e14);
  }
  get labelOptions() {
    return this.viewModel.labelOptions;
  }
  set labelOptions(e14) {
    this.viewModel.labelOptions = e14;
  }
  get layerInfos() {
    return this.viewModel.layerInfos;
  }
  set layerInfos(e14) {
    this.viewModel.layerInfos = e14;
  }
  get snappingOptions() {
    return this.viewModel.snappingOptions;
  }
  set snappingOptions(e14) {
    this.viewModel.snappingOptions = e14;
  }
  get tooltipOptions() {
    return this.viewModel.tooltipOptions;
  }
  set tooltipOptions(e14) {
    this.viewModel.tooltipOptions = e14;
  }
  get valueOptions() {
    return this.viewModel.valueOptions;
  }
  set valueOptions(e14) {
    this.viewModel.valueOptions = e14;
  }
  get view() {
    return this.viewModel.view;
  }
  set view(e14) {
    this.viewModel.view = e14;
  }
  startCreateFeaturesWorkflowAtFeatureTypeSelection() {
    return this.viewModel.startCreateFeaturesWorkflowAtFeatureTypeSelection();
  }
  startCreateFeaturesWorkflowAtFeatureCreation(e14) {
    return this.viewModel.startCreateFeaturesWorkflowAtFeatureCreation(e14);
  }
  startCreateFeaturesWorkflowAtFeatureEdit(e14) {
    return this.viewModel.startCreateFeaturesWorkflowAtFeatureEdit(e14);
  }
  startUpdateWorkflowAtFeatureSelection() {
    return this.viewModel.startUpdateWorkflowAtFeatureSelection();
  }
  startUpdateWorkflowAtMultipleFeatureSelection(e14) {
    return this.viewModel.startUpdateWorkflowAtMultipleFeatureSelection(e14);
  }
  startUpdateWorkflowAtFeatureEdit(e14) {
    return this.viewModel.startUpdateWorkflowAtFeatureEdit(e14);
  }
  deleteFeatureFromWorkflow() {
    return this.viewModel.deleteFeatureFromWorkflow();
  }
  cancelWorkflow(e14) {
    return this.viewModel.cancelWorkflow(e14);
  }
  render() {
    const { viewModel: e14 } = this, t5 = this.classes(t3.base, e6.widget, e6.panel);
    return e14 ? n2("div", { class: t5, key: "base" }, n2("calcite-flow", { key: "flow" }, e14.pageStack.map((e15) => this._renderPage(e15))), this._prompt ? n2(r13, { ...this._prompt, headingLevel: this.headingLevel }) : void 0) : n2("div", { class: t5, key: "empty" });
  }
  _renderPage(e14) {
    switch (e14) {
      case "disabled":
        break;
      case "ready":
        return this._renderReady();
      case "awaiting-feature-creation-info":
        return this._renderAwaitingFeatureCreationInfo();
      case "creating-features-upload-details":
        return this._renderUploadDetails();
      case "creating-features":
        return this._renderCreatingFeatures();
      case "editing-existing-feature":
      case "editing-attributes":
        return this._renderUpdateFeature();
      case "awaiting-update-feature-candidate":
        return this._renderFeatureList();
      case "adding-attachment":
        return this._renderAttachmentAdding();
      case "editing-attachment":
        return this._renderAttachmentEditing();
    }
    return n2("div", { key: "empty-page" });
  }
  _renderAwaitingFeatureCreationInfo() {
    const { EditorPanel: e14, messages: t5 } = this;
    return n2(e14, { heading: t5.selectTemplate, key: "templates-panel" }, n2(c6, { key: "feature-templates" }, n2(a9, null, this._featureTemplates.render())));
  }
  _renderUploadDetails() {
    const { EditorPanel: e14, activeWorkflow: t5, messages: s13 } = this;
    if ("create-features" !== (t5 == null ? void 0 : t5.type))
      return null;
    const o10 = t5.data.upload;
    return o10 ? n2(e14, { heading: s13.createFeatures, key: "upload-details-panel" }, n2(_5, { helpMessage: this._helpMessage, messages: s13, upload: o10 })) : null;
  }
  _renderCreatingFeatures() {
    var _a, _b;
    const { EditorPanel: e14, activeWorkflow: t5, messages: s13, messagesCommon: o10, headingLevel: i11, viewModel: r14 } = this;
    if (!t5)
      return null;
    const a12 = "create-features" === t5.type && t5.numPendingFeatures > 0 || "update" === t5.type && "create-features" === ((_a = t5 == null ? void 0 : t5.activeWorkflow) == null ? void 0 : _a.type) && ((_b = t5.activeWorkflow) == null ? void 0 : _b.numPendingFeatures) > 0;
    return n2(e14, { heading: s13.createFeatures, key: "create-features-panel" }, a12 ? n2(h8, { editorViewModel: r14, headingLevel: i11, messages: s13, messagesCommon: o10, renderAttachments: () => this._attachments.render(), renderFeatureForm: () => this._featureForm.render(), onDelete: this._onDelete, onSave: this._onSave }) : n2(s10, { helpMessage: this._helpMessage }));
  }
  _renderUpdateFeature() {
    const { EditorPanel: e14, messages: t5, messagesCommon: s13, headingLevel: o10, viewModel: i11 } = this;
    return n2(e14, { heading: t5.editFeature, key: "update-feature-panel" }, n2(h8, { editorViewModel: i11, headingLevel: o10, messages: t5, messagesCommon: s13, renderAttachments: () => this._attachments.render(), renderFeatureForm: () => this._featureForm.render(), onDelete: this._onDelete, onSave: this._onSave }));
  }
  _renderCustomTemplateGroupContent(e14) {
    const { messages: t5, viewModel: s13 } = this, i11 = f(e14.group.items, (e15) => s13.itemHasInvalidFormTemplate(e15) ? t5.formFieldCreateError : void 0);
    return i11 ? n2(c7, { icon: a8, message: i11 }) : null;
  }
  _renderAttachmentAdding() {
    const { EditorPanel: e14, _attachments: t5, messages: s13, messagesCommon: o10 } = this;
    return n2(e14, { heading: s13.addAttachment, key: "attachment-adding-panel" }, n2(c6, { key: "attachments" }, t5.render()), n2(r9, { buttons: [{ label: t5.submitting ? o10.cancel : o10.add, disabled: t5.submitting || !t5.selectedFile, onClick: this._onAttachmentAdd }] }));
  }
  _renderAttachmentEditing() {
    const { EditorPanel: e14, _attachments: t5, activeWorkflow: s13, messages: o10, messagesCommon: i11 } = this;
    return s13 ? n2(e14, { heading: o10.editAttachment, key: "attachment-editing-panel" }, n2(c6, { key: "attachments" }, t5.render()), s13.shouldAllowAttachmentEditing ? n2(r9, { buttons: [{ label: i11.update, disabled: t5.submitting || !t5.selectedFile, onClick: this._onAttachmentUpdate }, { ...this._deleteButtonCommonInfo, onClick: this._onAttachmentDelete, disabled: t5.submitting, label: i11.delete }] }) : void 0) : null;
  }
  _renderReady() {
    const { EditorPanel: e14, messages: t5, viewModel: s13, visibleElements: o10 } = this, i11 = this._helpMessage;
    return n2(e14, { heading: t5.widgetLabel, key: "landing-panel" }, n2(c6, { key: "landing-content" }, s13.editorItems.length ? [o10.editFeaturesSection ? n2(a9, { key: "edit-actions" }, this._renderUpdateActions()) : null, o10.createFeaturesSection && s13.canCreateVisible ? n2(a9, { key: "create-actions" }, this._renderCreateActions()) : null] : n2(r7, { key: "no-content" }, t5.noEditableLayers)), i11 ? n2("div", { class: t3.helpMessage, key: "footer-actions", slot: "footer" }, i11) : void 0);
  }
  get _helpMessage() {
    var _a;
    const { activeWorkflow: e14, messages: t5, view: s13 } = this, o10 = e14 == null ? void 0 : e14.helpMessage;
    return o10 ? (_a = t5["3d" === (s13 == null ? void 0 : s13.type) ? "helpMessages3d" : "helpMessages2d"]) == null ? void 0 : _a[o10] : void 0;
  }
  _renderUpdateActions() {
    var _a;
    const { messages: e14, messagesCommon: t5, viewModel: s13 } = this, o10 = { id: "select", label: t5.select };
    return n2("div", { class: t3.updateActions, key: "update-actions" }, n2(e7, { level: n4(this.headingLevel) }, e14.editFeatures), n2("calcite-list", { class: t3.updateActionsList, selectionAppearance: "border", selectionMode: "single" }, m4({ disabled: !s13.canUpdateVisible, grouped: false, item: o10, selectedItem: "awaiting-feature-to-update" === ((_a = s13.activeWorkflow) == null ? void 0 : _a.stepId) ? o10 : void 0, renderIcon: this._renderSelectIcon, onItemSelect: this._onToggleUpdateWorkflow })));
  }
  _renderCreateActions() {
    return n2("div", { key: "create-actions" }, n2(e7, { level: n4(this.headingLevel) }, this.messages.createFeatures), n2("div", { class: t3.featureTemplatesContainer, key: "templates" }, this._featureTemplates.render()));
  }
  _renderFeatureList() {
    const { EditorPanel: e14, viewModel: t5 } = this, { activeWorkflow: s13 } = t5;
    if ("update" !== (s13 == null ? void 0 : s13.type))
      return null;
    const o10 = s13.data.candidates, i11 = s3(this.messages.multipleFeaturesTemplate, { total: o10.length });
    return n2(e14, { heading: i11, key: "feature-list" }, n2(n11, { editorItems: t5.editorItems, filterText: this._filterText, id: this.id, messagesTemplates: this.messagesTemplates, workflow: s13, onFilterTextChange: (e15) => this._filterText = e15, onSelectFeature: (e15, s14) => t5.selectFeature(e15, s14) }));
  }
  _showPrompt({ title: e14, message: t5, yesLabel: s13, noLabel: o10 }) {
    const r14 = L(), { view: a12 } = this, n14 = a12 == null ? void 0 : a12.focused;
    return this._prompt = { title: e14, message: t5, context: "danger", actions: { primary: { label: s13, action: () => r14.resolve(true) }, secondary: { label: o10, action: () => r14.resolve(false) } } }, r14.promise.finally(() => {
      this._clearPrompt(), n14 && (a12 == null ? void 0 : a12.focus());
    });
  }
};
e([y()], X2.prototype, "_featureForm", void 0), e([y()], X2.prototype, "_attachments", void 0), e([y()], X2.prototype, "_featureTemplates", void 0), e([y()], X2.prototype, "_filterText", void 0), e([y()], X2.prototype, "_prompt", void 0), e([y()], X2.prototype, "_spinner", void 0), e([y()], X2.prototype, "_deleteButtonCommonInfo", null), e([y()], X2.prototype, "_loading", null), e([y({ readOnly: true })], X2.prototype, "activeWorkflow", null), e([y()], X2.prototype, "allowedWorkflows", null), e([y()], X2.prototype, "headingLevel", void 0), e([y()], X2.prototype, "hideTemplatesForInactiveLayers", null), e([y()], X2.prototype, "icon", null), e([y()], X2.prototype, "label", null), e([y()], X2.prototype, "labelOptions", null), e([y()], X2.prototype, "layerInfos", null), e([y(), e4("esri/widgets/Editor/t9n/Editor")], X2.prototype, "messages", void 0), e([y(), e4("esri/t9n/common")], X2.prototype, "messagesCommon", void 0), e([y(), e4("esri/widgets/FeatureTemplates/t9n/FeatureTemplates")], X2.prototype, "messagesTemplates", void 0), e([y()], X2.prototype, "snappingOptions", null), e([y()], X2.prototype, "tooltipOptions", null), e([y()], X2.prototype, "supportingWidgetDefaults", void 0), e([y({ type: a5, nonNullable: true })], X2.prototype, "valueOptions", null), e([y()], X2.prototype, "view", null), e([y(), e8(["sketch-create", "sketch-delete", "sketch-update", "workflow-cancel", "workflow-commit"])], X2.prototype, "viewModel", void 0), e([y({ type: l5, nonNullable: true })], X2.prototype, "visibleElements", void 0), e([y()], X2.prototype, "_helpMessage", null), X2 = e([a2("esri.widgets.Editor")], X2);
var Y2 = X2;
export {
  Y2 as default
};
//# sourceMappingURL=Editor-B2ZRHCAS.js.map
