{
  "version": 3,
  "sources": ["../../@arcgis/core/widgets/UtilityNetworkTrace/support/GeometryHandler.js", "../../@arcgis/core/widgets/UtilityNetworkTrace/support/GraphicHandler.js", "../../@arcgis/core/widgets/UtilityNetworkTrace/support/ResultAreaHandler.js", "../../@arcgis/core/widgets/UtilityNetworkTrace/support/UtilityHelper.js", "../../@arcgis/core/widgets/UtilityNetworkTrace/UtilityNetworkTraceViewModel.js", "../../@arcgis/core/widgets/UtilityNetworkTrace.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{geodesicBuffer as e,buffer as t,convexHull as r,geodesicArea as n,planarArea as o,cut as i,planarLength as s}from\"../../../geometry/geometryEngine.js\";import a from\"../../../geometry/Polyline.js\";import{project as c,load as l}from\"../../../geometry/projection.js\";import p from\"../../../geometry/SpatialReference.js\";function f(e){return\"polygon\"===e.type||\"polyline\"===e.type}function u(e){return e.hasOwnProperty(\"points\")}function y(e){return u(e)&&2===e.points.length}class g{createBuffer(r,n,o,i){if(Array.isArray(r)){if(r.length>0){const s=p.fromJSON(r[0].spatialReference);return s.isWGS84||s.isWebMercator?e(r,n,o):t(r,n,o,i)}return}const s=p.fromJSON(r.spatialReference);return s.isWGS84||s.isWebMercator?e(r,n[0],o):t(r,n[0],o)}createConvexHull(e){if(Array.isArray(e)){if(1===e.length&&y(e[0])){const t=r(e[0]);if(f(t))return t}return r(e,!0).filter(f)}const t=r(e);if(f(t))return t}calculateArea(e,t){const r=new p({wkid:e.spatialReference.wkid});return r.isWGS84||r.isWebMercator?parseFloat(n(e,t).toFixed(2)):parseFloat(o(e,t).toFixed(2))}mergeAggregatedToGeometries(e){const t=[],{line:r,multipoint:n,polygon:o}=e;return r&&t.push(r),n&&t.push(n),o&&t.push(o),t}getPercentageAlong(e,t,r){let n=e;const o=this._createPolyline(e.paths,r.wkid);if(\"point\"===t.type){const e=t.x-5,a=t.x+5,l=[[e,t.y-5],[a,t.y+5]];n=this._createPolyline(l,t.spatialReference.wkid);n=c(n,r);const p=i(o,n);if(p.length>0){const e=s(o,\"feet\");let t;t=p[0].paths[0][0][0]===o.paths[0][0][0]?s(p[0],\"feet\"):s(p[1],\"feet\");return[t/e]}return[.5]}n=c(t,r);const a=i(o,n);if(a.length>0){const e=s(o,\"feet\");return[s(a[0],\"feet\")/e]}return[.5]}async projectGeometry(e,t){return await l(),c(e,t)}_createPolyline(e,t){return new a({hasZ:!1,hasM:!0,paths:e,spatialReference:{wkid:t}})}}export{g as GeometryHandler};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport o from\"../../../Graphic.js\";const i=[227,27,21,.6],t=[21,244,21,.6],l=12,e=[{color:[255,0,0,.6],haloOpacity:.9,fillOpacity:.2,hex:\"#ff0000\"},{color:[255,0,255,.6],haloOpacity:.9,fillOpacity:.2,hex:\"#ff00ff\"},{color:[217,188,255,.6],haloOpacity:.9,fillOpacity:.2,hex:\"#D9BCFF\"},{color:[0,255,0,.6],haloOpacity:.9,fillOpacity:.2,hex:\"#00ff00\"},{color:[255,255,0,.6],haloOpacity:.9,fillOpacity:.2,hex:\"#ffff00\"},{color:[0,0,255,.6],haloOpacity:.9,fillOpacity:.2,hex:\"#0000ff\"},{color:[255,165,0,.5],haloOpacity:.9,fillOpacity:.2,hex:\"#ffa500\"},{color:[0,0,0,.5],haloOpacity:.9,fillOpacity:.2,hex:\"#000000\"}];class r{constructor(){this.highlightColor=[...e]}addCustomColor(o){this.highlightColor=[...e];this.highlightColor.some((i=>i.hex.toLowerCase()===o.hex.toLowerCase()))||this.highlightColor.push(o)}getFlagGraphic(o,l,e,r){const a=\"starting-point\"===l?t:i;if(\"polygon\"===o.type){const i=o;i.centroid&&(o=i.centroid)}if(r){return this.makeGraphic(o,a,e?.attributes,null,r)}return this.makeGraphic(o,a,e?.attributes)}makeGraphic(i,t,e,r,a){let c,h=i;switch(i.type){case\"multipoint\":c={type:\"simple-marker\",color:t,size:l,outline:{color:t,width:0}},r&&(h=i);break;case\"point\":c=a||{type:\"simple-marker\",color:t,size:l,outline:{color:t,width:0}},r&&(h=i);break;case\"polyline\":c={type:\"simple-line\",color:t,width:l},r&&(h=i);break;case\"polygon\":c={type:\"simple-fill\",color:t,outline:{color:t,width:l}},r&&(h=i)}return new o({geometry:h,symbol:c,attributes:e??null})}}export{r as GraphicHandler,e as defaultSwatchColors};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../Graphic.js\";import r from\"../../../layers/GraphicsLayer.js\";import t from\"../../../popup/FieldInfo.js\";import o from\"../../../symbols/SimpleFillSymbol.js\";import{GeometryHandler as a}from\"./GeometryHandler.js\";const i=`utility-network-trace-result-area-${Date.now()}`;function n(e){return\"graphics\"===e.type}class l{constructor(){this.traceInformation={},this._geometryHandler=new a}addResultAreaToMap(e,r){const t=this.createGraphicLayer(r);t&&n(t)&&t.add(e)}changeResultAreaColor(e,r,t){const a=new o({color:r.color,style:\"solid\",outline:{color:r.color,width:1}}),i=this._findGraphicsByTraceId(e,t);return i&&i.forEach((e=>{e.symbol=a})),a}createBuffer(e,r,t,o){return this._geometryHandler.createBuffer(e,r,t,o)}createConvexHull(e,r,t){const o=this._geometryHandler.createConvexHull(e);return r>0&&o?this.createBuffer(o,[r],t,!1):o}createResultAreaGraphic(r,a,i,n,l,s){const c=new o({color:s.color,style:\"solid\",outline:{color:s.color,width:1}}),u=[];for(const e in a)u.push(new t({fieldName:e,label:\"areaStatistic\"===e?n.attributeStrings[e]+\" (\"+l.units[i]?.abbr+\")\":n.attributeStrings[e]}));return new e({geometry:r,symbol:c,attributes:a,popupTemplate:{title:a.traceName,content:[{type:\"fields\",fieldInfos:u}]}})}removeResultArea(e,r){const t=r.findLayerById(i);if(t&&n(t)){const o=this._findGraphicsByTraceId(e,r);return o&&t.removeMany(o),o}return null}removeAllResultAreaGraphics(e){if(e){const r=e.findLayerById(i);r&&n(r)&&r.removeAll()}}createGraphicLayer(e,t){const o=e.findLayerById(i);if(o&&n(o))return o;const a=new r({title:t??i,listMode:\"hide\",id:i});return e.add(a),a}_findGraphicsByTraceId(e,r){const t=r.findLayerById(i);if(t&&n(t)){const r=t.graphics.filter((r=>r.attributes.traceId===e));return r.length>0?r.toArray():null}return null}}export{l as ResultAreaHandler,i as resultAreaGraphicLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{isFeatureLayer as r}from\"../../../layers/support/layerUtils.js\";function e(r){return\"feature\"===r.type}function t(r,e){return r.url.includes(e)}function a(r,e){return(r.dataElement?.domainNetworks||[]).some((r=>r.subnetworkLayerId===e.layerId))}class i{getValidUtilityNetworkLayers(i,l){const s=[];return i?.allLayers.forEach((i=>{\"group\"===i.type?s.push(...i.layers.filter(r).filter((r=>e(r)&&l.isUtilityLayer(r)&&!a(l,r))).filter((r=>t(r,l.featureServiceUrl))).toArray()):\"subtype-group\"===i.type?s.push(...i.sublayers.filter((r=>t(r,l.featureServiceUrl))).toArray()):r(i)&&e(i)&&l.isUtilityLayer(i)&&!a(l,i)&&t(i,l.featureServiceUrl)&&s.push(i)})),s}}export{i as UtilityHelper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{id as t}from\"../../kernel.js\";import r from\"../../core/Collection.js\";import s from\"../../core/Error.js\";import i from\"../../core/Evented.js\";import a from\"../../core/Logger.js\";import{when as l}from\"../../core/reactiveUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import c from\"../../geometry/Point.js\";import{isPoint as h,isMultipoint as u}from\"../../geometry/support/jsonUtils.js\";import{fetchMessageBundle as p}from\"../../intl/messages.js\";import d from\"../../layers/FeatureLayer.js\";import g from\"../../layers/GraphicsLayer.js\";import y from\"../../layers/support/CodedValueDomain.js\";import{isFeatureLayer as m}from\"../../layers/support/layerUtils.js\";import f from\"../../networks/UtilityNetwork.js\";import{getObjectIdsFromElements as w,getFeaturesFromLayers as _}from\"../../networks/support/utils.js\";import A from\"../../portal/Portal.js\";import{hasUserTypeExtension as b}from\"../../portal/support/utils.js\";import{trace as v}from\"../../rest/networks/trace.js\";import R from\"../../rest/networks/support/TraceLocation.js\";import I from\"../../rest/networks/support/TraceParameters.js\";import{GeometryHandler as k}from\"./support/GeometryHandler.js\";import{GraphicHandler as G}from\"./support/GraphicHandler.js\";import{ResultAreaHandler as F}from\"./support/ResultAreaHandler.js\";import{UtilityHelper as T}from\"./support/UtilityHelper.js\";const S=()=>p(\"esri/widgets/UtilityNetworkTrace/t9n/UtilityNetworkTrace\"),L=()=>p(\"esri/core/t9n/Units\"),H=`utility-network-trace-flags-${Date.now()}`,P=`utility-network-trace-results-${Date.now()}`;function N(e){return e instanceof y}function U(e){return\"feature\"===e.layer.type||\"subtype-group\"===e.layer.type}function C(e){return\"layer\"in e}function E(e){return void 0!==e.layerViews}function B(e){return\"graphics\"===e.type}async function j(e){const t=new d({url:e.networkSystemLayers.dirtyAreasLayerUrl});await t.load();const r=t.version;if(Number(r)<=11.1){const t=new A({url:new URL(e.layerUrl).origin+\"/portal\"});await t.load();const r=t?.user?.username;return!!r&&b(t,r,\"utilityNetwork\")}return!0}let D=class extends i.EventedAccessor{constructor(e){super(e),this._activeProgress=!1,this._clickHandler=null,this._flags=[],this._flagId=0,this._geometryHandler=null,this._highlightHandler=[],this._resultAreaHandler=null,this._utilityHelper=new T,this._watchHandler=null,this._validUNLayers=[],this._traceTimeout=6e5,this.traces=[],this.graphicHandler=null,this.defaultGraphicColor={color:[255,255,0,.6],haloOpacity:.9,fillOpacity:.2,hex:\"#FFFF00\"},this.enableResultArea=!1,this.flags=[],this.gdbVersion=\"sde.DEFAULT\",this.messages=null,this.messagesUnits=null,this.defaultResultAreaProperties={type:\"convexhull\",distance:10,unit:\"meters\",areaUnit:\"square-meters\",color:{color:[255,165,0,.5],haloOpacity:.9,fillOpacity:.2,hex:\"#ffa500\"},show:!1},this.selectedTraces=[],this.selectOnComplete=!0,this.showGraphicsOnComplete=!0,this.showSelectionAttributes=!0,this.traceResults=[],this.utilityNetwork=null}initialize(){this._geometryHandler=new k,this.graphicHandler=new G,this._resultAreaHandler=new F;(async()=>{const[e,t]=await Promise.all([S(),L()]);this.set({messages:e,messagesUnits:t})})()}destroy(){this.view=null}get resultAreaProperties(){return this.defaultResultAreaProperties}set resultAreaProperties(e){this._set(\"resultAreaProperties\",{...this.defaultResultAreaProperties,...e}),this.graphicHandler.addCustomColor(this.resultAreaProperties.color),this.traceResults.forEach((t=>{const r=t.resultArea?.show;t.resultArea={...this.defaultResultAreaProperties,...e},this.removeResultAreaFromMap(t),this.enableResultArea&&this.createResultAreaGraphic(t).then((s=>{if(s){t.resultAreaGraphic=s;const i=e?.show??r;t.resultArea&&(t.resultArea.show=i),i&&this.addResultAreaToMap(t,s)}}))}))}get state(){return this.view?.ready?\"ready\":\"loading\"}get view(){return this._get(\"view\")}set view(e){e&&\"2d\"!==e.type&&a.getLogger(this).error(new s(\"view:invalid-view\",\"SceneView is not supported\",{view:e})),this._set(\"view\",e),this.utilityNetwork&&this.reset(),this.utilityNetwork=null,this.loadUtilityNetwork().then((e=>{e&&this.selectTracesOnLoad()}))}addFlagByHit(e,t){const r=e=>{this.view?.popup&&(this.view.popupEnabled=e)};return new Promise(((s,i)=>{r(!1),this._clickHandler?.remove(),this.emit(\"add-flag\",{type:e}),this._clickHandler=this.view?.on(\"click\",(a=>{this.queryFlagByHitTest(a,e,t).then((i=>{r(!0),this._clickHandler?.remove(),this.emit(\"add-flag-complete\",{type:e,symbol:t}),s(i)})).catch((s=>{r(!0),this._clickHandler?.remove(),this.emit(\"add-flag-error\",{type:e,symbol:t}),i(s)}))}))}))}async addFlagsOnLoad(){return new Promise((e=>{const t=[];this._watchHandler=l((()=>null!=this.view&&!this.view.updating),(async()=>{if(this._flags.length>0)e(t);else{const r=this.flags.map((async e=>{if(e.mapPoint){const r=new c({x:e.mapPoint.x,y:e.mapPoint.y,spatialReference:e.mapPoint.spatialReference.wkid}),s={screenPoint:this.view.toScreen(r),mapPoint:r};await this.queryFlagByHitTest(s,e.type)||(\"barrier\"===e.type?t.push(\"barrier\"):t.push(\"starting-point\"))}}));await Promise.all(r),e(t)}}),{initial:!0})}))}async addResultAreaToMap(e,t){if(this.view)if(e.resultArea.show=!0,t)this._resultAreaHandler?.addResultAreaToMap(t,this.view.map),this.emit(\"add-result-area\",{graphic:t});else if(e.results){const t=await this.createResultAreaGraphic(e);t&&(e.resultAreaGraphic=t,this._resultAreaHandler?.addResultAreaToMap(t,this.view.map),this.emit(\"add-result-area\",{graphic:t}))}}async addResultGraphicToView(e,t){const{view:r}=this,{results:s}=e;if(r&&s&&this.utilityNetwork)for(const i in s.aggregatedGeometry)if(\"line,multipoint,polygon\".includes(i)){const a=i,l=s.aggregatedGeometry[a];if(null!=l){l.spatialReference=this.utilityNetwork.spatialReference,e.graphicEnabled=!0;const s=await this._geometryHandler.projectGeometry(l,r.spatialReference),i={globalid:e.trace.globalId};if(null!==s){const e=this.graphicHandler.makeGraphic(s,t.color,i,r.spatialReference);this._getGraphicLayer(P)?.add(e)}}}}addTerminal(e,t){const r=[...this._flags];r.forEach((r=>{r.globalId===t.globalId&&(t.selectedTerminals?.includes(parseInt(e,10))||r.selectedTerminals?.push(parseInt(e,10)))})),this._flags=r}async callTrace(){const e=this.traces.filter((e=>e.selected));return e.length>0&&(this.traceResults.length>0&&this.traceResults.forEach((e=>{this.removeResultGraphicFromView(e)})),this.traceResults=[],this.removeSelection(),await Promise.all(e.map((async(e,t)=>{const r=e,s=new I({gdbVersion:this.gdbVersion,moment:null,traceType:r.traceType,traceLocations:this._flags,namedTraceConfigurationGlobalId:r.globalId,traceConfiguration:null,outSpatialReference:null,resultTypes:null});await this.executeTrace(r,this.utilityNetwork?.networkServiceUrl,s).then((e=>{if(e.hasOwnProperty(\"results\")){const r={...e};if(null!==r.results){r.resultArea={...this.resultAreaProperties};const e=[...r.results.elements];r.results.elements.length=0;const s=new Map;for(const t of e)s.has(t.globalId)||(s.set(t.globalId,!0),r.results.elements.push(t));const i=[...this.traceResults];i.splice(t,0,r),this.traceResults=i,null!==r.results&&(this.selectOnComplete&&this.mergeSelection(!0,r.trace),this.showGraphicsOnComplete&&this.addResultGraphicToView(r,r.graphicColor),this.enableResultArea&&this.createResultAreaGraphic(r).then((e=>{e&&(r.resultAreaGraphic=e,r.resultArea?.show&&this.addResultAreaToMap(r,r.resultAreaGraphic))})))}else{const r=[...this.traceResults];r.splice(t,0,e),this.traceResults=r}this._activeProgress=!1}else{this._activeProgress=!1;const r=[...this.traceResults];r.splice(t,0,e),this.traceResults=r}})).catch((e=>{throw this._activeProgress=!1,e}))}))),!0)}changeResultAreaColor(e,t){if(!e.resultArea)return;e.resultArea.color=t;const r=this._resultAreaHandler?.changeResultAreaColor(e.trace.globalId,t,this.view.map);e.resultAreaGraphic&&(e.resultAreaGraphic.symbol=r)}changeResultGraphicColor(e,t){const r=[...this.traceResults];r.length>0&&r.forEach((r=>{r.trace.globalId===t.trace.globalId&&(r.graphicColor=e,r.graphicEnabled=!0)})),this.traceResults=r,this.removeResultGraphicFromView(t),this.addResultGraphicToView(t,e)}changeFlagSymbol(e,t){this._flags.length>0&&this._flags.forEach((r=>{r.type===e&&t&&r.mapGraphic&&(r.mapGraphic.symbol=t)}))}checkCanTrace(){const e={status:!0,issues:[]};let t=!1;const r=this._flags.some((e=>\"starting-point\"===e.type)),s=this._flags.filter((e=>null!==e.allTerminals));s.length>0&&(t=s.some((e=>e.selectedTerminals.length<=0)));let i=[];return r?(i=this.traces.filter((e=>e.selected)),i.length<=0?(e.status=!1,e.issues=[\"noTrace\"],t&&(e.status=!1,e.issues=[\"noTrace\",\"noTerminalSelected\"])):t&&(e.status=!1,e.issues=[\"noTerminalSelected\"])):(i=this.traces.filter((e=>!0===e.selected)),i.length>0?(e.status=!1,e.issues=[\"noStart\"],t&&(e.status=!1,e.issues=[\"noStart\",\"noTerminalSelected\"])):(e.status=!1,e.issues=[\"noStart\",\"noTrace\"],t&&(e.status=!1,e.issues=[\"noStart\",\"noTrace\",\"noTerminalSelected\"]))),e}checkSelectionExist(){return this._highlightHandler.some((e=>e))}clearResult(e){if(!this.view)return;let t=this.traceResults;if(t.length>0){const r=t.filter((t=>t.trace.globalId===e.globalId));r.length>0&&(this.removeResultGraphicFromView(r[0]),this.removeResultAreaFromMap(r[0])),t=t.filter((t=>t.trace.globalId!==e.globalId))}this.traceResults=t,0===t.length?(this.removeAllResultAreaGraphics(),this.removeSelection(),this.emit(\"clear-selection\",{resultSet:[]})):this.mergeSelection(!1,e)}createResultAreaGeometries(e,t,r){if(!this.view||!this.resultAreaProperties)return;let s;if(s=\"convexhull\"===this.resultAreaProperties?.type?1===t.length&&(h(t[0])||u(t[0])&&1===t[0].points.length)?this._resultAreaHandler?.createBuffer(t,r,e.resultArea?.unit,!0):this._resultAreaHandler?.createConvexHull(t,e.resultArea?.distance,e.resultArea?.unit):this._resultAreaHandler?.createBuffer(t,r,e.resultArea?.unit,!0),!s)return;if(Array.isArray(s)){for(const t of s){const r=this.getResultAreaAttributes(e,t),s=this._resultAreaHandler?.createResultAreaGraphic(t,r,e.resultArea?.areaUnit,this.messages,this.messagesUnits,e.resultArea?.color);if(s)return s}return}const i=this.getResultAreaAttributes(e,s);return this._resultAreaHandler?.createResultAreaGraphic(s,i,e.resultArea?.areaUnit,this.messages,this.messagesUnits,e.resultArea?.color)}async createResultAreaGraphic(e){if(e.results){const t=await this._createResultAreaInputGeometry(e.results);if(t.length>0){const r=Array(t.length).fill(e.resultArea?.distance),s=this.createResultAreaGeometries(e,t,r);return this.emit(\"create-result-area\",{graphic:s}),s}}}executeTrace(e,t,r){const s=this._processFlags(r.traceLocations);return r.traceLocations=s,v(t,r,{timeout:this._traceTimeout}).then((t=>({trace:e,results:t,selectionEnabled:!1,graphicEnabled:!1,graphicColor:this.defaultGraphicColor,status:\"success\",date:new Date}))).catch((t=>({trace:e,results:null,selectionEnabled:!1,graphicEnabled:!1,graphicColor:this.defaultGraphicColor,status:t.message,date:new Date})))}getResultAreaAttributes(e,r){const{messages:s}=this,i=[],a=[];this._flags.forEach((e=>{const t=e.displayValue?.field+\":\"+e.displayValue?.value+\";\"+s.attributeStrings.globalid+\":\"+e.globalId+\";\"+s.attributeStrings.terminalid+\":\"+e.terminalId+\";\"+s.attributeStrings.x+\":\"+e.mapPoint?.x+\";\"+s.attributeStrings.y+\":\"+e.mapPoint?.y;\"starting-point\"===e.type?i.push(t):a.push(t)}));return{traceId:e.trace.globalId,traceName:e.trace.title,traceDescription:e.trace.description??\"\",startingPoints:i.toString(),barriers:a.toString(),version:this.gdbVersion,username:t.credentials[0].userId,date:e.date,elementCount:e.results?.elements.length,functionResult:JSON.stringify(e.results?.globalFunctionResults),areaStatistic:r?this._geometryHandler.calculateArea(r,e.resultArea?.areaUnit):0}}getValidSources(){let e=[];const t=this.utilityNetwork?.dataElement?.domainNetworks??[];for(const r of t)e=e.concat(r.junctionSources),e=e.concat(r.edgeSources);return e}groupResultsByNetworkSource(e){return 0===e.length?[]:this._groupBy(e,\"networkSourceId\")}async loadUtilityNetwork(){const{view:e}=this;if(!e)return null;if(await e.when(),this.utilityNetwork){if(this.utilityNetwork.loaded||await this.utilityNetwork.load(),this.utilityNetwork instanceof f){try{const t=e.map;await t.loadAll(),this._loadUNSupportItems()}catch(i){this._loadUNSupportItems()}return this.utilityNetwork}return null}const t=e.map,r=t.utilityNetworks?.at(0);if(r){if(await r.load(),this.utilityNetwork=r,!await j(r))throw new s(\"utility-network:no-user-type-extension\",\"User type extension not found\");try{await t.loadAll(),this._loadUNSupportItems()}catch(i){}finally{this._loadUNSupportItems()}return r}return null}manageFilterBarrier(e,t){const r=[...this._flags];r.forEach((r=>{r.globalId===t.globalId&&\"barrier\"===t.type&&r.id===t.id&&(r.isFilterBarrier=e)})),this._flags=r}mergeSelection(e,t){let r=[];const s=[...this.traceResults],i=t.globalId;s.forEach((t=>{i===t.trace.globalId&&(t.selectionEnabled=e),t.selectionEnabled&&null!==t.results?.elements&&(r=[...r,...t.results?.elements??[]])})),this.selectResults([...new Set(r)])}async queryFeaturesById(e){const{view:t}=this;if(!t||!this.utilityNetwork)return null;const s=w(this.utilityNetwork,e),i={layerUrl:s[0].layerUrl,objectIds:s[0].objectIds,outFields:[\"*\"]},a=t.map?.allTables.toArray().filter((e=>e?.parsedUrl?.path===s[0].layerUrl)).filter(m)??[];this._getUniqueMapLayerViews(t).filter((({layer:e})=>e?.parsedUrl?.path===s[0].layerUrl)).forEach((({layer:e})=>{\"feature\"!==e.type&&\"subtype-group\"!==e.type||a.push(e)}));const l=(await Promise.all(a.map((async e=>{const s={layers:new r([e]),layerInfos:[i],returnGeometry:!0,outSpatialReference:t.spatialReference},[a]=await _(s,!1);return a})))).filter((({featureSet:e})=>e.features.length>0));return l.length>0?l:null}queryFlagByHitTest(e,t,r){return this._lookupFlagByHit(e).then((e=>{const{view:s}=this;if(!s)return!1;if(e.length>0){const s=[...this._flags],i=r;return e.forEach((e=>{const r=e.graphic,a=r.attributes.hasOwnProperty(\"GLOBALID\")?r.attributes.GLOBALID:r.attributes.globalid;if(s.filter((e=>e.globalId===a)).length<=0){const e=this.graphicHandler.getFlagGraphic(r.mapPoint,t,r,i);this._getGraphicLayer(H)?.add(e),s.push({...r,type:t,globalId:r.attributes.globalid||r.attributes.GLOBALID,details:r,mapGraphic:e,id:this._uniqueFlagId})}else if(null!==r.percentAlong){const e=this.graphicHandler.getFlagGraphic(r.mapPoint,t,r,i);this._getGraphicLayer(H)?.add(e),s.push({...r,type:t,globalId:r.attributes.globalid||r.attributes.GLOBALID,details:r,mapGraphic:e,id:this._uniqueFlagId})}})),this._flags=s,!0}return!1}))}removeResultGraphicFromView(e){const{view:t}=this;if(!t)return;const r=this._getGraphicLayer(P)?.graphics;e.graphicEnabled=!1;const s=r?.filter((t=>t.attributes[t.attributes.hasOwnProperty(\"GLOBALID\")?\"GLOBALID\":\"globalid\"]===e.trace.globalId));s?.forEach((e=>{this._getGraphicLayer(P)?.remove(e)}))}removeFlag(e){const t=this._flags.filter((t=>{if(t.id!==e.id)return t}));this._removeGraphic(e),this._flags=t}removeAllResultAreaGraphics(){this._resultAreaHandler?.removeAllResultAreaGraphics(this.view.map)}removeResultAreaFromMap(e){if(e.resultArea){e.resultArea.show=!1;const t=this._resultAreaHandler?.removeResultArea(e.trace.globalId,this.view?.map);t&&this.emit(\"remove-result-area\",{graphic:t})}}removeSelection(){this._highlightHandler.forEach((e=>{e&&e.remove()})),this._highlightHandler=[]}removeTerminal(e,t){const r=[...this._flags];r.forEach((r=>{if(r.globalId===t.globalId&&t.selectedTerminals?.includes(parseInt(e,10))){const s=t.selectedTerminals.indexOf(parseInt(e,10));r.selectedTerminals?.splice(s,1)}})),this._flags=r}removeFlagsOnLoadWatcher(){this._watchHandler&&null!==this._watchHandler&&this._watchHandler.remove()}reset(){this._flags=[],this.traceResults=[];const e=[...this.traces];e.forEach((e=>{e.selected=!1})),this.traces=e,this.view&&(this._getGraphicLayer(P)?.removeAll(),this._getGraphicLayer(H)?.removeAll(),this.removeAllResultAreaGraphics(),this.removeSelection(),this.emit(\"clear-selection\",{resultSet:[]}))}selectFeaturesById(e){const{view:t}=this;if(!t||!this.utilityNetwork)return;const r=w(this.utilityNetwork,e);this._getUniqueMapLayerViews(t).forEach((e=>{C(e)&&e.layer?.parsedUrl?.path===r[0].layerUrl&&U(e)&&this._highlightHandler.push(e.highlight(r[0].objectIds))}))}selectResults(e){if(e.length>0){this.removeSelection();const t=this.groupResultsByNetworkSource(e),r=[];for(const e in t)this.selectFeaturesById(t[e]),r.push(this.queryFeaturesById(t[e]));Promise.all(r).then((e=>{this.emit(\"select-features\",{resultSet:e})}))}else this.removeSelection(),this.emit(\"clear-selection\",{resultSet:[]})}selectTraces(e,t){const r=[...this.traces];r.forEach((r=>{t===r.globalId&&(r.selected=e)})),this.traces=r}selectTracesOnLoad(){this.utilityNetwork?.hasOwnProperty(\"sharedNamedTraceConfigurations\")&&(this.traces=[...this.utilityNetwork.sharedNamedTraceConfigurations],this.traces.forEach((e=>{e.selected=!1,this.selectedTraces.includes(e.globalId)&&(e.selected=!0)})))}zoomToAsset(e){this.view?.goTo(e).catch((e=>console.error(e)))}async _createResultAreaInputGeometry(e){if(null!=e.aggregatedGeometry)return this._geometryHandler.mergeAggregatedToGeometries(e.aggregatedGeometry);const t=this.groupResultsByNetworkSource(e.elements),r=[];for(const s in t)r.push(this.queryFeaturesById(t[s]));try{const e=await Promise.all(r),t=[];for(const r of e)if(r)for(const e of r)for(const r of e.featureSet.features)t.push(r.geometry);return t}catch{return[]}}_loadUNSupportItems(){if(!this.utilityNetwork)return;const{map:e}=this.view,{messages:t}=this;this._populateOutfields(),this._createGraphicLayer(H),this._createGraphicLayer(P),this._resultAreaHandler?.createGraphicLayer(e,t?.alertsStrings.genericResultHeader),this._validUNLayers=this._utilityHelper.getValidUtilityNetworkLayers(e,this.utilityNetwork)}_getUniqueMapLayerViews(e){const t=[];return e.layerViews.filter((({layer:{type:e}})=>\"feature\"===e||\"group\"===e||\"subtype-group\"===e)).toArray().forEach((e=>{switch(e.layer.type){case\"group\":if(E(e))for(const r of e.layerViews)t.push(r);break;case\"subtype-group\":t.push(e);break;default:t.some((t=>t.layer.id===e.layer.id))||t.push(e)}})),t}_processFlags(e){const t=[];return e.forEach((e=>{if(null!==e.selectedTerminals&&e.selectedTerminals.length>0)e.selectedTerminals.forEach((r=>{const s=new R({globalId:e.globalId,percentAlong:e.percentAlong,terminalId:r,type:e.type,isFilterBarrier:e.isFilterBarrier});t.push(s)}));else{const r=new R({globalId:e.globalId,percentAlong:e.percentAlong,terminalId:null,type:e.type,isFilterBarrier:e.isFilterBarrier});t.push(r)}})),t}_getDisplayField(e){return\"subtype-sublayer\"===e?.layer?.type?this._getDisplayFieldBySublayer(e):this._getDisplayFieldByFeatureLayer(e)}_getDisplayFieldBySublayer(e){let t=\"\",r=\"\";const s=e.layer;t=this._checkParentForData(s,\"displayField\");for(const i in e.attributes){const a=i.toLowerCase();a===t?.toLowerCase()?(r=e.attributes[i],\"assetgroup\"===a||\"assettype\"===a?r=this._checkSubtype(s,s.subtypeCode):(r=this._checkDomain(s.fields,i,r),\"string\"==typeof r&&(r=this._defaultDisplayField(r,s)))):(r=this._checkDomain(s.fields,i,r),\"string\"==typeof r&&(r=this._defaultDisplayField(r,s)))}return{field:t,value:r.toString()}}_getDisplayFieldByFeatureLayer(e){const t=e.layer;let r=t.displayField,s=\"\";for(const i in e.attributes){const a=i.toLowerCase();if(a===r?.toLowerCase())if(s=e.attributes[i],\"assetgroup\"===a||\"assettype\"===a){let a=e.attributes[t.typeIdField.toUpperCase()];a||(a=e.attributes[t.typeIdField.toLowerCase()]),r=t.typeIdField,s=this._checkSubtype(t,a),\"\"===r&&(t.templates&&t.templates.length>0?(r=t.templates[0]?.name,s=t.templates[0]?.name):(r=t.displayField,s=e.attributes[i]))}else s=this._checkDomain(t.fields,i,s),\"string\"==typeof s&&(s=this._defaultDisplayField(s,t));else s=this._checkDomain(t.fields,i,s),\"string\"==typeof s&&(s=this._defaultDisplayField(s,t))}return{field:r,value:s?s.toString():\"\"}}_checkSubtype(e,t){let r=t;if(\"subtype-sublayer\"===e.type){const s=this._checkParentForData(e,\"subtypes\");s?.length>0&&s.forEach((e=>{e.code===t&&(r=e.name)}))}else if(null!=e.types&&e.types.length>0){const s=e.types.filter((e=>e.id===t));s.length>0&&(r=s[0].name)}return r}_checkDomain(e,t,r){let s=r;const i=e.filter((e=>e.name.toLowerCase()===t.toLowerCase()));if(i.length>0&&N(i[0].domain)&&i[0].domain?.codedValues){const e=i[0].domain.codedValues.filter((({code:e})=>e===r));e.length>0&&(s=e[0].name)}return s}_checkParentForData(e,t){return e.parent?.[t]??null}_defaultDisplayField(e,t){return e.trim()?e:t.templates&&t.templates?.length>0?t.templates[0].name:t.title}get _uniqueFlagId(){return this._flagId++}_groupBy(e,t){return e.reduce(((e,r)=>((e[r[t]]=e[r[t]]||[]).push(r),e)),{})}async _lookupFlagByHit(e){if(null==e.mapPoint)return[];const t=await this.view.hitTest(e.screenPoint,{include:this._validUNLayers}),r=[];if(t.results.length>0){const s=t.results.find((e=>null!==e.layer));if(null!=s.graphic?.geometry)if(\"polyline\"===s.graphic.geometry.type){const t=this._geometryHandler.getPercentageAlong(s.graphic.geometry,e.mapPoint,s.graphic.geometry.spatialReference),i=this._getDisplayField(s.graphic);s.graphic.terminalId=null,s.graphic.isFilterBarrier=!1,s.graphic.allTerminals=null,s.graphic.selectedTerminals=null,s.graphic.percentAlong=t,s.graphic.displayValue=i,s.graphic.mapPoint=s.mapPoint,r.push(s)}else if((\"point\"===s.graphic.geometry.type||\"polygon\"===s.graphic.geometry.type)&&null!==this.utilityNetwork){const e=this.utilityNetwork?.getTerminalConfiguration(s.graphic),t=this._getDisplayField(s.graphic);s.graphic.terminalId=e?e.terminals[0].id||null:1,s.graphic.isFilterBarrier=!1,s.graphic.allTerminals=e??null,s.graphic.selectedTerminals=[e?e.terminals[0].id||null:1],s.graphic.percentAlong=null,s.graphic.displayValue=t,s.graphic.mapPoint=s.mapPoint,r.push(s)}}return r}async _populateOutfields(){const e=this.view?.map,t=this.getValidSources();e?.layers.forEach((e=>{\"group\"===e.type?e.layers.forEach((e=>{t.some((t=>t.layerId===e.layerId))&&e.fields.some((e=>\"assetgroup\"===e.name.toLowerCase()))&&(e.outFields=[\"assetgroup\",\"assettype\",\"globalid\",\"objectid\"])})):t.some((t=>t.layerId===e.layerId))&&e.fields.some((e=>\"assetgroup\"===e.name.toLowerCase()))&&(e.outFields=[\"assetgroup\",\"assettype\",\"globalid\",\"objectid\"])}))}_removeGraphic(e){this._getGraphicLayer(H)?.remove(e.mapGraphic)}_createGraphicLayer(e){const{map:t}=this.view;if(!t.findLayerById(e)){const r=new g({title:e,listMode:\"hide\",id:e});t.add(r)}}_getGraphicLayer(e){const{map:t}=this.view;if(t){const r=t.findLayerById(e);if(r&&B(r))return r}return null}};e([o()],D.prototype,\"_activeProgress\",void 0),e([o()],D.prototype,\"_flags\",void 0),e([o()],D.prototype,\"traces\",void 0),e([o()],D.prototype,\"defaultGraphicColor\",void 0),e([o()],D.prototype,\"enableResultArea\",void 0),e([o()],D.prototype,\"flags\",void 0),e([o()],D.prototype,\"gdbVersion\",void 0),e([o()],D.prototype,\"messages\",void 0),e([o()],D.prototype,\"messagesUnits\",void 0),e([o()],D.prototype,\"resultAreaProperties\",null),e([o()],D.prototype,\"selectedTraces\",void 0),e([o()],D.prototype,\"selectOnComplete\",void 0),e([o()],D.prototype,\"showGraphicsOnComplete\",void 0),e([o()],D.prototype,\"showSelectionAttributes\",void 0),e([o({readOnly:!0})],D.prototype,\"state\",null),e([o()],D.prototype,\"traceResults\",void 0),e([o()],D.prototype,\"utilityNetwork\",void 0),e([o({value:null})],D.prototype,\"view\",null),D=e([n(\"esri.widgets.UtilityNetworkTrace.UtilityNetworkTraceViewModel\")],D);const V=D;export{V as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{watch as t,when as s}from\"../core/reactiveUtils.js\";import{property as i}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import o from\"../layers/support/CodedValueDomain.js\";import l from\"./Widget.js\";import{loadCalciteComponents as a}from\"./support/componentsUtils.js\";import{globalCss as n}from\"./support/globalCss.js\";import{storeNode as c}from\"./support/widgetUtils.js\";import{messageBundle as d}from\"./support/decorators/messageBundle.js\";import{vmEvent as h}from\"./support/decorators/vmEvent.js\";import{tsx as u}from\"./support/jsxFactory.js\";import p from\"./UtilityNetworkTrace/UtilityNetworkTraceViewModel.js\";import{defaultSwatchColors as g}from\"./UtilityNetworkTrace/support/GraphicHandler.js\";const m=\"esri-utility-trace-network\",_={base:m,loaderContainer:`${m}__loader-container`,loader:`${m}__loader`,fadeIn:`${m}--fade-in`,addButtonContainer:`${m}__add-button-container`,noticeContainer:`${m}__notice-container`,listContainer:`${m}__list-container`,resultsContainer:`${m}__results-container`,flow:`${m}__flow`,numberInput:`${m}__number-input`,clearPrompt:`${m}__reset-prompt`,promptDivider:`${m}__divider`,paddingTop:`${m}__padTop`};function w(e){return{height:e+\"px\"}}function v(e){return{width:e+\"px\"}}function b(){return{width:\"75%\"}}function y(){return{textAlign:\"center\",padding:\"1rem\"}}function f(e){return{width:\"100%\",height:window.getComputedStyle(e).getPropertyValue(\"max-height\")}}function T(){return{height:\"100%\"}}function S(e){return{display:\"flex\",flexDirection:e}}function R(e){return e instanceof o}const C={noExtension:-2147208474};let A=class extends l{constructor(e,t){super(e,t),this._selectToolActive=!1,this._activeTrace=null,this._activeSwatch=\"\",this._traceHeaderForFlow=\"\",this._assetGroupHeader=\"\",this._assetTypeHeader=\"\",this._traceResultsFunctions=[],this._traceResultsAssetGroup=[],this._traceResultsAssetType=[],this._traceResultsIndividual=[],this._showTraceResultFunctions=!1,this._showTraceResultAssetGroup=!1,this._showTraceResultAssetType=!1,this._showIndividualRecords=!1,this._activeTab=\"input\",this._flagViewType=\"starting-point\",this._alertRemoveModal=!1,this._warningNoFlag=!1,this._warningNoTraceSelected=!1,this._warningNoStartAssetFound=!1,this._warningNoBarrierAssetFound=!1,this._warningNoTerminal=!1,this._confirmReset=!1,this._showResultOptions=!1,this._resultObjectIdField=\"objectid\",this._resultDisplayField=\"objectid\",this._resultSortField=\"objectid\",this._resultSortOrder=\"desc\",this._swatchNode=null,this._individualResultNode=null,this._symbolStartFlag=null,this._symbolBarrier=null,this._watchHandler=null,this._loadUNError=!0,this._errorMessage=\"\",this.disabled=!0,this.inputSettings=[],this.messages=null,this.messagesCommon=null,this.messagesUnits=null,this.viewModel=new p,this._afterComponentCreate=this._afterComponentCreate.bind(this)}initialize(){this._utilityNetworkTraceInitialized(),this.addHandles(t((()=>this.viewModel?.resultAreaProperties),(()=>this.scheduleRender())))}get defaultGraphicColor(){return this.viewModel.defaultGraphicColor}set defaultGraphicColor(e){this.viewModel.defaultGraphicColor=e}get flags(){return this.viewModel.flags}set flags(e){this.viewModel.flags=e}get gdbVersion(){return this.viewModel.gdbVersion}set gdbVersion(e){this.viewModel.gdbVersion=e}get icon(){return\"utility-network-trace\"}set icon(e){this._overrideIfSome(\"icon\",e)}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get resultAreaProperties(){return this.viewModel.resultAreaProperties}set resultAreaProperties(e){this.viewModel.resultAreaProperties=e}get selectedTraces(){return this.viewModel.selectedTraces}set selectedTraces(e){this.viewModel.selectedTraces=e}get selectOnComplete(){return this.viewModel.selectOnComplete}set selectOnComplete(e){this.viewModel.selectOnComplete=e}get showGraphicsOnComplete(){return this.viewModel.showGraphicsOnComplete}set showGraphicsOnComplete(e){this.viewModel.showGraphicsOnComplete=e}get enableResultArea(){return this.viewModel.enableResultArea}set enableResultArea(e){this.viewModel.enableResultArea=e}get showSelectionAttributes(){return this.viewModel.showSelectionAttributes}set showSelectionAttributes(e){this.viewModel.showSelectionAttributes=e}get utilityNetwork(){return this.viewModel.utilityNetwork}set utilityNetwork(e){this.viewModel.utilityNetwork=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}async checkCanTrace(){this._confirmReset=!1;const e=this.viewModel.checkCanTrace();e.status?(this._warningNoFlag=!1,this._warningNoTraceSelected=!1,this._warningNoTraceSelected=!1,this._warningNoTerminal=!1,this._showTraceResultFunctions=!1,this._showTraceResultAssetGroup=!1,this._showTraceResultAssetType=!1,this._showIndividualRecords=!1,this.switchTab(\"result\"),this.viewModel._activeProgress=!0,this.viewModel.removeAllResultAreaGraphics(),await this.viewModel.callTrace(),this.viewModel._activeProgress=!1):e.issues.forEach((e=>{switch(e){case\"noStart\":this._warningNoFlag=!0;break;case\"noTerminalSelected\":this._warningNoTerminal=!0;break;default:this._warningNoTraceSelected=!0}}))}confirmReset(){this._confirmReset=!0}render(){const{state:e}=this.viewModel;this._mixCustomStrings(),this._overrideFlagSymbol();const t=\"loading\"===e?this._renderWarningMessage(\"noTraceConfig\",!1):this._renderUtilityNetworkTrace();return u(\"div\",{class:this.classes(_.base,n.widget,n.panel,{[n.widgetDisabled]:this.disabled}),styles:T()},t)}loadDependencies(){return a({action:()=>import(\"@esri/calcite-components/dist/components/calcite-action.js\"),\"action-group\":()=>import(\"@esri/calcite-components/dist/components/calcite-action-group.js\"),\"action-pad\":()=>import(\"@esri/calcite-components/dist/components/calcite-action-pad.js\"),block:()=>import(\"@esri/calcite-components/dist/components/calcite-block.js\"),\"block-section\":()=>import(\"@esri/calcite-components/dist/components/calcite-block-section.js\"),button:()=>import(\"@esri/calcite-components/dist/components/calcite-button.js\"),checkbox:()=>import(\"@esri/calcite-components/dist/components/calcite-checkbox.js\"),\"color-picker-swatch\":()=>import(\"@esri/calcite-components/dist/components/calcite-color-picker-swatch.js\"),combobox:()=>import(\"@esri/calcite-components/dist/components/calcite-combobox.js\"),\"combobox-item\":()=>import(\"@esri/calcite-components/dist/components/calcite-combobox-item.js\"),flow:()=>import(\"@esri/calcite-components/dist/components/calcite-flow.js\"),\"flow-item\":()=>import(\"@esri/calcite-components/dist/components/calcite-flow-item.js\"),icon:()=>import(\"@esri/calcite-components/dist/components/calcite-icon.js\"),\"input-number\":()=>import(\"@esri/calcite-components/dist/components/calcite-input-number.js\"),label:()=>import(\"@esri/calcite-components/dist/components/calcite-label.js\"),list:()=>import(\"@esri/calcite-components/dist/components/calcite-list.js\"),\"list-item\":()=>import(\"@esri/calcite-components/dist/components/calcite-list-item.js\"),loader:()=>import(\"@esri/calcite-components/dist/components/calcite-loader.js\"),notice:()=>import(\"@esri/calcite-components/dist/components/calcite-notice.js\"),option:()=>import(\"@esri/calcite-components/dist/components/calcite-option.js\"),panel:()=>import(\"@esri/calcite-components/dist/components/calcite-panel.js\"),popover:()=>import(\"@esri/calcite-components/dist/components/calcite-popover.js\"),scrim:()=>import(\"@esri/calcite-components/dist/components/calcite-scrim.js\"),select:()=>import(\"@esri/calcite-components/dist/components/calcite-select.js\"),tab:()=>import(\"@esri/calcite-components/dist/components/calcite-tab.js\"),\"tab-nav\":()=>import(\"@esri/calcite-components/dist/components/calcite-tab-nav.js\"),\"tab-title\":()=>import(\"@esri/calcite-components/dist/components/calcite-tab-title.js\"),tabs:()=>import(\"@esri/calcite-components/dist/components/calcite-tabs.js\"),tooltip:()=>import(\"@esri/calcite-components/dist/components/calcite-tooltip.js\")})}switchTab(e){this._activeTab=e}switchToFunctions(e,t){this._traceResultsFunctions=e,this._showTraceResultFunctions=t}switchToAssetGroup(e,t,s){this._traceHeaderForFlow=t,this._traceResultsAssetGroup=e,this._showTraceResultAssetGroup=s}switchToAssetType(e,t,s){this._assetGroupHeader=t,this._traceResultsAssetType=e,this._showTraceResultAssetType=s}switchToIndividualRecords(e,t,s){this._assetTypeHeader=t,this._traceResultsIndividual=e,this._showIndividualRecords=s}_renderUtilityNetworkTrace(){const{messages:e,messagesCommon:t}=this;let s=u(\"calcite-tabs\",{layout:\"center\",position:\"top\",styles:f(this.container)},u(\"calcite-tab-nav\",{slot:\"title-group\"},u(\"calcite-tab-title\",{onclick:()=>{this.switchTab(\"input\")},selected:\"input\"===this._activeTab},e.inputsStrings.headerTabInputs),u(\"calcite-tab-title\",{onclick:()=>{this.switchTab(\"result\")},selected:\"result\"===this._activeTab},e.resultsStrings.headerTabResults)),u(\"calcite-tab\",{selected:\"input\"===this._activeTab},this._renderInputPanel()),u(\"calcite-tab\",{selected:\"result\"===this._activeTab},this.viewModel._activeProgress?u(\"calcite-loader\",{label:e.alertsStrings.traceExecuting,text:e.alertsStrings.traceExecuting,type:\"indeterminate\"}):this.viewModel.traceResults.length>0?this._renderResultPanel():this._renderWarningMessage(\"noTraceExecuted\",!1),this._confirmReset?u(\"calcite-scrim\",{key:\"prompt\"},u(\"div\",{class:_.clearPrompt},u(\"h3\",{slot:\"header\"},e.resultsStrings.startOverButton),u(\"div\",{slot:\"content\"},e.resultsStrings.startOverValidation),u(\"div\",{class:_.promptDivider}),u(\"div\",{styles:S(\"row\")},u(\"calcite-button\",{appearance:\"outline\",onclick:()=>{this._confirmReset=!1},slot:\"secondary\",width:\"full\"},t.cancel),u(\"calcite-button\",{onclick:()=>{this._confirmReset=!1,this.viewModel.reset(),this.switchTab(\"input\")},slot:\"primary\",width:\"full\"},t.form.ok)))):null));return 0===this.viewModel.traces.length&&(s=u(\"calcite-panel\",null,this._renderWarningMessage(\"noTraceConfig\",!1))),this._loadUNError||(s=u(\"calcite-panel\",null,this._renderWarningMessage(\"loadUNError\",!1,this._errorMessage))),s}_renderInputPanel(){const{messages:e}=this;return u(\"calcite-flow\",{class:_.flow},u(\"calcite-flow-item\",null,this._warningNoFlag?this._renderWarningMessage(\"flag\",!0):null,this._warningNoTerminal?this._renderWarningMessage(\"noTerminal\",!0):null,this._warningNoTraceSelected?this._renderWarningMessage(\"trace\",!0):null,this._renderTraceSelectorContainer(),this._renderStartFlagsContainer(),this._renderBarriersFlagsContainer(),this._warningNoFlag&&this._warningNoTraceSelected?u(\"div\",{styles:w(10)}):null,u(\"calcite-button\",{kind:\"brand\",onclick:()=>{this.checkCanTrace()},slot:\"footer\",width:\"full\"},e.tracingStrings.runTrace)),this._selectToolActive?this._renderActiveTool():null)}_renderResultPanel(){return u(\"calcite-flow\",{styles:T()},this._renderTraceResults(),this._showTraceResultFunctions?this._renderTraceResultFunctions():null,this._showTraceResultAssetGroup?this._renderTraceResultByAssetGroup():null,this._showTraceResultAssetType?this._renderTraceResultByAssetType():null,this._showIndividualRecords?this._renderTraceResultIndividual():null,this._showIndividualRecords?this._renderTraceResultIndividualPopover():null)}_renderStartFlagsContainer(){const{messages:e}=this,t=[];let s=[];s=this.viewModel._flags.filter((e=>\"starting-point\"===e.type)),s.forEach((e=>{e.displayValue&&t.push(this._renderFlagRow(e,\"start\"))}));let i=null;return this._symbolStartFlag&&(i=this._getSymbolIcon(this._symbolStartFlag)),u(\"calcite-block\",{collapsible:!0,heading:e.inputsStrings.headerStartingPoint+\" (\"+s.length+\")\",open:!0,overlayPositioning:\"fixed\"},u(\"div\",{slot:\"icon\"},i||u(\"calcite-icon\",{icon:\"pin\",scale:\"s\"})),u(\"div\",null,e.inputsStrings.startingPointHint),u(\"div\",{class:_.listContainer},t),this._warningNoStartAssetFound?this._renderWarningMessage(\"noStartAsset\",!0):null,u(\"div\",{class:_.addButtonContainer},u(\"calcite-button\",{alignment:\"center\",appearance:\"outline\",href:\"\",iconStart:\"plus\",label:e.inputsStrings.addPointOption,onclick:()=>{this._changeCursor(\"crosshair\"),this._flagViewType=\"starting-point\",this._selectToolActive=!0,this._warningNoStartAssetFound=!1,this.viewModel.addFlagByHit(\"starting-point\",this._symbolStartFlag).then((e=>{this._changeCursor(\"default\"),e?this._warningNoFlag=!1:this._warningNoStartAssetFound=!0,this._selectToolActive=!1}))},round:!0})))}_renderBarriersFlagsContainer(){const{messages:e}=this,t=[];let s=[];s=this.viewModel._flags.filter((e=>\"barrier\"===e.type)),s.forEach((e=>{e.displayValue&&t.push(this._renderFlagRow(e,\"barrier\"))}));let i=null;return this._symbolBarrier&&(i=this._getSymbolIcon(this._symbolBarrier)),u(\"calcite-block\",{collapsible:!0,heading:e.inputsStrings.headerBarrier+\" (\"+s.length+\")\",open:!1,overlayPositioning:\"fixed\"},u(\"div\",{slot:\"icon\"},i||u(\"calcite-icon\",{icon:\"x-circle-f\",scale:\"s\"})),u(\"div\",null,e.inputsStrings.barrierPointHint),u(\"div\",{class:_.listContainer},t),this._warningNoBarrierAssetFound?this._renderWarningMessage(\"noBarrierAsset\",!0):null,u(\"div\",{class:_.addButtonContainer},u(\"calcite-button\",{alignment:\"center\",appearance:\"outline\",href:\"\",iconStart:\"plus\",kind:\"brand\",label:e.inputsStrings.addPointOption,onclick:()=>{this._changeCursor(\"crosshair\"),this._flagViewType=\"barrier\",this._selectToolActive=!0,this._warningNoBarrierAssetFound=!1,this.viewModel.addFlagByHit(\"barrier\",this._symbolBarrier).then((e=>{this._changeCursor(\"default\"),e||(this._warningNoBarrierAssetFound=!0),this._selectToolActive=!1}))},round:!0})))}_renderFlagRow(e,t){const{messages:s,messagesCommon:i}=this,r=[];let o=!1;return null!=e.allTerminals&&e.allTerminals.terminals.length>0&&(o=!0,e.allTerminals.terminals.forEach((t=>{let s=!1;e?.selectedTerminals?.includes(t.id)&&(s=!0),r.push(u(\"calcite-combobox-item\",{key:t.name,selected:s,textLabel:t.name,value:t.id}))}))),u(\"calcite-block\",{collapsible:null!==e.allTerminals||\"barrier\"===e.type,heading:e.displayValue?.value??\"\",key:\"pop\"+e.globalId+e.type+e.id+t,overlayPositioning:\"fixed\"},u(\"calcite-action\",{icon:\"trash\",label:i.remove,onclick:()=>{this.viewModel.removeFlag(e)},scale:\"s\",slot:\"header-menu-actions\",text:i.remove,textEnabled:!0}),u(\"calcite-action\",{icon:\"zoom-to-object\",label:s.globalStrings.zoomToFeature,onclick:()=>{this.viewModel.zoomToAsset(e.details.geometry)},scale:\"s\",slot:\"header-menu-actions\",text:s.globalStrings.zoomToFeature,textEnabled:!0}),\"barrier\"===e.type?u(\"calcite-label\",{layout:\"inline\",scale:\"s\"},u(\"calcite-checkbox\",{checked:e.isFilterBarrier,onclick:()=>{this.viewModel.manageFilterBarrier(!e.isFilterBarrier,e)},scale:\"s\"}),s.inputsStrings.barrierFilter):null,o?u(\"calcite-combobox\",{label:s.globalStrings.selectTerminalPlaceholder,maxItems:0,placeholder:s.globalStrings.selectTerminalPlaceholder,scale:\"s\",selectionMode:\"multiple\",onCalciteComboboxChange:t=>{t.target.selectedItems.length>0?(e.selectedTerminals=[],t.target.selectedItems.forEach((t=>{this.viewModel.addTerminal(t.value,e)}))):e.selectedTerminals=[]},onCalciteComboboxChipClose:t=>{t.preventDefault(),this.viewModel.removeTerminal(t.target.value,e)}},r):null)}_renderActiveTool(){const{messages:e}=this;let t=null;return\"starting-point\"===this._flagViewType?this._symbolStartFlag&&(t=this._getSymbolIcon(this._symbolStartFlag)):this._symbolBarrier&&(t=this._getSymbolIcon(this._symbolBarrier)),u(\"calcite-flow-item\",{heading:e.inputsStrings.addPointOption,onCalciteFlowItemBack:()=>{this.viewModel._clickHandler&&(this.viewModel._clickHandler.remove(),this.view?.popup&&(this.view.popupEnabled=!0)),this._selectToolActive=!1}},u(\"calcite-block\",{collapsible:!1,heading:\"\",open:!0,overlayPositioning:\"fixed\"},u(\"div\",{styles:y()},t||u(\"calcite-icon\",{icon:\"starting-point\"===this._flagViewType?\"pin-plus\":\"x-circle-f\"})),u(\"div\",{styles:y()},e.inputsStrings.addPointHint)))}_renderTraceSelectorContainer(){const{messages:e}=this,t=[];let s=e.tracingStrings.traceOperation,i=0;return this.viewModel.traces.length>0&&this.viewModel.traces.forEach((e=>{t.push(u(\"calcite-combobox-item\",{key:e.globalId,selected:e.selected,textLabel:e.title,value:e.globalId,onCalciteComboboxItemChange:e=>{const t=e.target;this.viewModel.selectTraces(t.selected,t.value),this.viewModel.traces.length>0&&(this._warningNoTraceSelected=!1)}})),e.selected&&i++})),s+=` (${i})`,u(\"calcite-block\",{collapsible:!0,heading:s,open:!0,overlayPositioning:\"fixed\"},u(\"calcite-icon\",{icon:\"utility-network-trace\",scale:\"s\",slot:\"icon\"}),u(\"calcite-combobox\",{label:e.inputsStrings.selectTraces,maxItems:0,overlayPositioning:\"fixed\",placeholder:e.inputsStrings.selectTraces,scale:\"s\",selectionMode:\"multiple\"},t))}_renderStartOverContainer(){const{messages:e}=this;return u(\"calcite-button\",{kind:\"brand\",onclick:()=>{this.confirmReset()},slot:\"footer\",width:\"full\"},e.resultsStrings.startOverButton)}_renderWarningMessage(e,t,s){const{messages:i}=this;let r=i.alertsStrings.NoRunAlertHeader,o=i.alertsStrings.noResultsInfo;switch(e){case\"flag\":r=i.alertsStrings.startingPointAlertHeader,o=i.alertsStrings.startingPointAlert;break;case\"noTerminal\":r=i.alertsStrings.noTerminalDefinedHeader,o=i.alertsStrings.noTerminalDefined;break;case\"trace\":r=i.alertsStrings.selectTraceAlertHeader,o=i.alertsStrings.selectTraceAlert;break;case\"noTraceExecuted\":r=i.alertsStrings.NoRunAlertHeader,o=i.alertsStrings.noResultsInfo;break;case\"noBarrierAsset\":case\"noStartAsset\":r=i.alertsStrings.noAssetsFoundHeader,o=i.alertsStrings.noAssetFound;break;case\"noTraceConfig\":r=\"\",o=i.alertsStrings.noTraceSupported;break;default:r=i.alertsStrings.genericErrorHeader,o=s||\"\"}return u(\"div\",{class:_.noticeContainer,key:e},u(\"calcite-notice\",{closable:t,icon:!0,key:e,kind:\"danger\",open:!0,scale:\"s\",width:\"auto\",onCalciteNoticeClose:()=>{switch(e){case\"flag\":this._warningNoFlag=!1;break;case\"noTerminal\":this._warningNoTerminal=!1;break;case\"trace\":this._warningNoTraceSelected=!1;break;case\"noStartAsset\":this._warningNoStartAssetFound=!1;break;case\"noBarrierAsset\":this._warningNoBarrierAssetFound=!1}}},u(\"div\",{slot:\"title\"},r),u(\"div\",{slot:\"message\"},o)))}_renderRemoveTraceContainer(e){const{messages:t}=this;return u(\"calcite-action\",{icon:\"trash\",label:t.globalStrings.clearResults,onclick:()=>{this._alertRemoveModal=!0,this._activeTrace=e.trace},scale:\"s\",slot:\"header-menu-actions\",text:t.globalStrings.clearResults,textEnabled:!0})}_renderHighlightColorPicker(e,t,s){const{messages:i}=this,{graphicHandler:r}=this.viewModel,o=[],l=new RegExp(`^${e.hex}$`,\"i\"),a=r.highlightColor.length>g.length?5:4;for(const n of r.highlightColor)o.push(u(\"calcite-action\",{active:l.test(n.hex),key:n.hex,label:i.resultsStrings.graphicColor,onclick:()=>{\"aggregate\"===s?this.viewModel.changeResultGraphicColor(n,t):this.viewModel.changeResultAreaColor(t,n)},scale:\"s\",text:i.resultsStrings.graphicColor},u(\"calcite-color-picker-swatch\",{active:l.test(n.hex),color:n.hex,scale:\"s\"})));return u(\"calcite-action-pad\",{expandDisabled:!0,layout:\"grid\",position:\"start\"},u(\"calcite-action-group\",{columns:a,layout:\"grid\"},o))}_renderTraceResults(){const{messages:e,messagesCommon:t}=this,{selectFeatures:s}=e.resultsStrings,i=this.viewModel.traceResults,r=[];return i.forEach(((t,i)=>{let o=[],l=[],a=!1,n=!1,c=!1,d=\"\";null!==t.results&&t.results.hasOwnProperty(\"elements\")?(null!==t.results.aggregatedGeometry&&(n=!0),null!==t.results.globalFunctionResults&&t.results.globalFunctionResults.length>0&&(l=t.results.globalFunctionResults,l.length>0&&(c=!0)),t.results.elements&&t.results.elements.length>0&&(o=t.results.elements,o.length>0&&(a=!0)),(n||a)&&(d=this.messagesUnits.units[t.resultArea?.unit]?.abbr),r.push(u(\"calcite-block\",{collapsible:!0,description:t.trace.description??\"\",heading:t.trace.title,key:`${t.trace.title}${i}`,open:!0,overlayPositioning:\"fixed\"},this._renderRemoveTraceContainer(t),u(\"calcite-list\",null,c?u(\"calcite-list-item\",{label:e.resultsStrings.functionHeader+\" (\"+l.length+\")\",onCalciteListItemSelect:()=>{this.switchToFunctions(l,!0)}},u(\"calcite-icon\",{icon:\"chevron-right\",scale:\"s\",slot:\"content-end\"})):null,a&&this.viewModel.showSelectionAttributes?u(\"calcite-list-item\",{key:this.id,label:e.resultsStrings.viewFeatures+\" (\"+o.length+\")\",onCalciteListItemSelect:()=>{this.switchToAssetGroup(this._groupResultsByAssetGroup(t),t.trace.title+\" (\"+o.length+\")\",!0)}},u(\"calcite-icon\",{icon:\"chevron-right\",scale:\"s\",slot:\"content-end\"})):this.viewModel.showSelectionAttributes?u(\"calcite-label\",{layout:\"inline\",scale:\"s\"},e.resultsStrings.noSelectionResults):null),a?u(\"div\",{class:_.paddingTop},u(\"calcite-label\",{layout:\"inline\",onclick:e=>{e.preventDefault(),e.stopPropagation(),this.viewModel.mergeSelection(!t.selectionEnabled,t.trace)},scale:\"s\"},u(\"calcite-checkbox\",{checked:t.selectionEnabled,onclick:e=>{e.preventDefault(),e.stopPropagation(),this.viewModel.mergeSelection(!t.selectionEnabled,t.trace)}}),this.viewModel.showSelectionAttributes?s:`${s} (${o.length})`)):null,n?u(\"calcite-block-section\",{key:`aggregate-${t.trace.title}-${i}`,open:t.graphicEnabled,text:e.resultsStrings.highlightTrace,toggleDisplay:\"switch\",onCalciteBlockSectionToggle:e=>{e.target.open?this.viewModel.changeResultGraphicColor(t.graphicColor,t):this.viewModel.removeResultGraphicFromView(t)}},u(\"calcite-list\",{selectionMode:\"none\"},u(\"calcite-list-item\",{label:e.resultsStrings.graphicColor,onclick:e=>{const t=e.target;this._swatchNode=t,this._activeSwatch=\"aggGeom_\"+i}},u(\"calcite-color-picker-swatch\",{color:t.graphicColor.hex,scale:\"s\",slot:\"actions-end\"})))):null,this.enableResultArea&&(n||a)?u(\"calcite-block-section\",{key:`area-${t.trace.title}-${i}`,open:t.resultArea?.show,text:e.resultsStrings.resultAreaHeader,toggleDisplay:\"switch\",onCalciteBlockSectionToggle:e=>{e.target.open?t.resultAreaGraphic?this.viewModel.addResultAreaToMap(t,t.resultAreaGraphic):this.viewModel.addResultAreaToMap(t):this.viewModel.removeResultAreaFromMap(t)}},u(\"calcite-list\",{selectionMode:\"none\"},u(\"calcite-list-item\",{label:e.resultsStrings.graphicColor,onclick:e=>{const t=e.target;this._swatchNode=t,this._activeSwatch=\"resultArea_\"+i}},u(\"calcite-color-picker-swatch\",{color:t.resultArea?.color.hex,scale:\"s\",slot:\"actions-end\"}))),u(\"calcite-list\",{selectionMode:\"none\"},u(\"calcite-list-item\",{label:e.resultsStrings.resultAreaBuffer},u(\"calcite-input-number\",{afterCreate:this._afterComponentCreate,class:_.numberInput,max:999999,maxLength:999999,min:0,scale:\"s\",slot:\"actions-end\",suffixText:d,value:t.resultArea?.distance.toString(),onCalciteInputNumberChange:e=>{if(!this.view?.popup)return;this.view.popup.visible&&this.view.closePopup();const s=e.target;t.resultArea.distance>=0?(t.resultArea.distance=parseInt(s.value,10),this.viewModel.removeResultAreaFromMap(t),this.viewModel.addResultAreaToMap(t)):(t.resultArea.distance=0,this.viewModel.removeResultAreaFromMap(t),this.viewModel.addResultAreaToMap(t))}})))):null,u(\"calcite-popover\",{autoClose:!0,closable:!0,label:e.resultsStrings.graphicColor,offsetDistance:0,offsetSkidding:0,open:this._activeSwatch===\"aggGeom_\"+i||this._activeSwatch===\"resultArea_\"+i,placement:\"auto-start\",referenceElement:this._swatchNode,scale:\"s\",onCalcitePopoverClose:()=>{this._swatchNode=null,this._activeSwatch=null}},this._renderHighlightColorPicker(this._activeSwatch===\"resultArea_\"+i?t.resultArea?.color:t.graphicColor,t,this._activeSwatch===\"resultArea_\"+i?\"resultArea\":\"aggregate\"))))):r.push(u(\"calcite-block\",{collapsible:!1,heading:t.trace.title,key:\"error-\"+i,open:!0,overlayPositioning:\"fixed\"},this._renderRemoveTraceContainer(t),this._renderWarningMessage(\"noController\",!1,t.status)))})),u(\"calcite-flow-item\",{key:\"traceResults\",styles:T()},r,this._renderStartOverContainer(),this._alertRemoveModal?u(\"calcite-scrim\",{key:\"prompt\"},u(\"div\",{class:_.clearPrompt},u(\"h3\",{slot:\"header\"},e.globalStrings.clearResults),u(\"div\",{slot:\"content\"},e.alertsStrings.clearResultsAlert),u(\"div\",{class:_.promptDivider}),u(\"div\",{styles:S(\"row\")},u(\"calcite-button\",{appearance:\"outline\",onclick:()=>{this._alertRemoveModal=!1},slot:\"secondary\",width:\"full\"},t.cancel),u(\"calcite-button\",{onclick:()=>{this._activeTrace&&this.viewModel.clearResult(this._activeTrace),this._alertRemoveModal=!1,0===this.viewModel.traceResults.length?this.switchTab(\"input\"):(this._activeTrace=this.viewModel.traceResults[0].trace,this._showTraceResultFunctions=!1,this._showTraceResultAssetGroup=!1,this._showTraceResultAssetType=!1,this._showIndividualRecords=!1)},slot:\"primary\",width:\"full\"},t.form.ok)))):null)}_renderTraceResultFunctions(){const{messages:e}=this,t=this._traceResultsFunctions,s=[];return t.forEach((e=>{s.push(this._renderResultRowFunctions(e))})),u(\"calcite-flow-item\",{heading:e.resultsStrings.functionHeader,key:\"functionResultMultiple\",onCalciteFlowItemBack:()=>{this.switchToFunctions([],!1)}},s,this._renderStartOverContainer())}_renderTraceResultByAssetGroup(){const e=this._traceResultsAssetGroup,t=[];for(const s in e){const i=e[s];for(const e in i)t.push(this._renderResultRowAssetGroup(i[e]))}return u(\"calcite-flow-item\",{heading:this._traceHeaderForFlow,key:\"assetGroupResultMultiple\",onCalciteFlowItemBack:()=>{this.switchToAssetGroup([],\"\",!1)}},u(\"calcite-list\",null,t),this._renderStartOverContainer())}_renderTraceResultByAssetType(){const e=this._traceResultsAssetType,t=[];for(const s in e)e[s].length>0&&t.push(this._renderResultRowAssetType(e[s]));return u(\"calcite-flow-item\",{heading:this._assetGroupHeader,key:\"assetTypeResult\",onCalciteFlowItemBack:()=>{this.switchToAssetType([],\"\",!1)}},u(\"calcite-list\",{selectionMode:\"none\"},t),this._renderStartOverContainer())}_renderTraceResultIndividual(){const{messages:e}=this,t=this._traceResultsIndividual;t.sort(this._compare(this._resultSortField,this._resultSortOrder));const s=[];if(t.length>0){(t[0].details?.fields.some((({name:e})=>e.toLowerCase()===this._resultDisplayField.toLocaleLowerCase()))??!1)||(this._resultDisplayField=this._resultObjectIdField,this._resultSortField=this._resultObjectIdField),t.forEach((e=>{e?.details&&s.push(this._renderResultRowIndividual(e))})),0===s.length&&s.push(u(\"calcite-list-item\",{label:e.resultsStrings.noFeaturesInMap}))}return u(\"calcite-flow-item\",{heading:this._assetTypeHeader,key:\"individualResult\",onCalciteFlowItemBack:()=>{this._showResultOptions=!1,this.switchToIndividualRecords([],\"\",!1)}},u(\"calcite-action\",{afterCreate:c,bind:this,\"data-node-ref\":\"_individualResultNode\",icon:\"gear\",id:\"field_options\"+this.id,label:e.resultsStrings.displayAttribute,onclick:()=>{this._showResultOptions=!0},slot:\"header-actions-end\",text:e.resultsStrings.displayAttribute}),u(\"calcite-list\",{selectionMode:\"none\"},s),this._renderStartOverContainer())}_renderTraceResultIndividualPopover(){const{messages:e}=this,t=this._traceResultsIndividual,s=[],i=[];return t.length>0&&(t[0].details?t[0].details.fields.forEach((({name:e,alias:t})=>{s.push(u(\"calcite-option\",{key:`display-${e}`,label:t??e,selected:e===this._resultDisplayField,value:e})),i.push(u(\"calcite-option\",{key:`sort-${e}`,label:t??e,selected:e===this._resultSortField,value:e}))})):(s.push(u(\"calcite-option\",{key:`display-${this._resultDisplayField}`,label:this._resultDisplayField,value:this._resultDisplayField})),i.push(u(\"calcite-option\",{key:`sort-${this._resultDisplayField}`,label:this._resultDisplayField,value:this._resultDisplayField})))),u(\"calcite-popover\",{autoClose:!0,label:e.resultsStrings.displayAttribute,offsetDistance:0,offsetSkidding:0,open:this._showResultOptions,overlayPositioning:\"fixed\",placement:\"left-start\",referenceElement:this._individualResultNode,styles:null!==this.domNode?v(.75*this.domNode.clientWidth):b()},u(\"calcite-block\",{heading:\"\",open:!0,overlayPositioning:\"fixed\"},u(\"calcite-label\",{scale:\"s\"},e.resultsStrings.displayAttribute,u(\"calcite-select\",{label:e.resultsStrings.displayAttribute,scale:\"s\",onCalciteSelectChange:e=>{const t=e.target;this._resultDisplayField=t.selectedOption.value,this._showResultOptions=!1}},s)),u(\"calcite-label\",{scale:\"s\"},e.resultsStrings.sortBy,u(\"calcite-select\",{label:e.resultsStrings.sortBy,scale:\"s\",onCalciteSelectChange:e=>{const s=e.target;this._resultSortField=s.selectedOption.value,t.sort(this._compare(this._resultSortField,this._resultSortOrder)),this._traceResultsIndividual=t,this._showResultOptions=!1}},i))))}_renderResultRowFunctions(e){return u(\"calcite-block\",{collapsible:!1,heading:e.networkAttributeName+\" \"+e.functionType+\" = \"+e.result,overlayPositioning:\"fixed\"})}_renderResultRowAssetGroup(e){const t=this._getAssetGroupName(e[0]);return u(\"calcite-list-item\",{label:t+\" (\"+e.length+\")\",onCalciteListItemSelect:()=>{this.switchToAssetType(this._groupResultsByAssetType(e),t+\" (\"+e.length+\")\",!0)}},u(\"calcite-icon\",{icon:\"chevron-right\",scale:\"s\",slot:\"content-end\"}))}_renderResultRowAssetType(e){const t=this._getAssetTypeName(e[0]);return u(\"calcite-list-item\",{label:t+\" (\"+e.length+\")\",onCalciteListItemSelect:()=>{this.viewModel.queryFeaturesById(e).then((s=>{if(s?.length){this._resultObjectIdField=s[0].layer.objectIdField,\"objectid\"===this._resultDisplayField&&(this._resultDisplayField=s[0].layer.objectIdField),\"objectid\"===this._resultSortField&&(this._resultSortField=s[0].layer.objectIdField);const i=this._appendAttributes(e,s,\"objectId\");this.switchToIndividualRecords(i,t+\" (\"+e.length+\")\",!0)}else this.switchToIndividualRecords(e,t+\" (\"+e.length+\")\",!0)}))}},u(\"calcite-icon\",{icon:\"chevron-right\",scale:\"s\",slot:\"content-end\"}))}_renderResultRowIndividual(e){const{messages:t}=this,s=`display-${e.objectId}-nso`,{nonSpatialObject:i,zoomToFeature:r}=t.globalStrings;let o=\"\",l=null;if(l=e?.details?.fields.find((({name:e})=>e===this._resultDisplayField)),\"date\"===l?.type){o=new Date(e.details.attributes[this._resultDisplayField]).toDateString()}else if(\"assetgroup\"===this._resultDisplayField.toLowerCase())o=this._getAssetGroupName(e);else if(\"assettype\"===this._resultDisplayField.toLowerCase())o=this._getAssetTypeName(e);else if(l?.domain&&R(l.domain)){const t=l.domain.codedValues.find((({code:t})=>t===e.details.attributes[this._resultDisplayField]));o=t?.name}else o=e.details?.attributes[this._resultDisplayField]??e.objectId;return o&&\"\"!==o&&null!==o?\"string\"==typeof o&&(o.trim()||(o=t.resultsStrings.noValue)):o=t.resultsStrings.noValue,null!==e?.details?.geometry?u(\"calcite-list-item\",{label:o,onCalciteListItemSelect:()=>{this.viewModel.zoomToAsset(e.details.geometry)}},u(\"calcite-icon\",{icon:\"zoom-to-object\",scale:\"s\",slot:\"content-end\",textLabel:r})):u(\"calcite-list-item\",{label:o},u(\"calcite-icon\",{icon:\"table\",id:s,scale:\"s\",slot:\"content-end\",textLabel:i}),u(\"calcite-tooltip\",{label:i,referenceElement:s},u(\"span\",null,i)))}_afterComponentCreate(e){\"value\"in e&&null!=e.value&&\"setNumberValue\"in e&&e.setNumberValue({committing:!1,value:e.value,origin:\"direct\"})}_mixCustomStrings(){const{messages:e}=this;this.inputSettings.length>0&&this.inputSettings.forEach((t=>{\"starting-point\"===t.type&&(e.inputsStrings.headerStartingPoint=t.label,e.inputsStrings.startingPointHint=t.description),\"barrier\"===t.type&&(e.inputsStrings.headerBarrier=t.label,e.inputsStrings.barrierPointHint=t.description)}))}_overrideFlagSymbol(){this.inputSettings.length>0&&this.inputSettings.forEach((e=>{\"starting-point\"===e.type?this._symbolStartFlag=e.symbol:this._symbolBarrier=e.symbol,this.viewModel.changeFlagSymbol(e.type,e.symbol)}))}_utilityNetworkTraceInitialized(){return this.viewModel.loadUtilityNetwork().then((e=>{if(e)return this.viewModel.selectTracesOnLoad(),this._registerWatchers(),this.viewModel.flags.length>0&&this._processFlagOnLoad(),this.view?.when().then((()=>{this._watchViewState()}));this.disabled=!1})).catch((e=>{const{messages:t}=this;this._loadUNError=!1,\"utility-network:no-user-type-extension\"===e.name||e.details.raw.extendedCode===C.noExtension?this._errorMessage=t.alertsStrings.noUserExtension:this._errorMessage=e.message,this.disabled=!1}))}_processFlagOnLoad(){return this.view?.when().then((()=>{this._watchHandler=s((()=>!this.view?.updating),(async()=>{this._warningNoFlag=!1,this._warningNoBarrierAssetFound=!1,this._warningNoStartAssetFound=!1;const e=await this.viewModel.addFlagsOnLoad();this.viewModel.removeFlagsOnLoadWatcher(),e.includes(\"barrier\")&&(this._warningNoBarrierAssetFound=!0),e.includes(\"starting-point\")&&(this._warningNoStartAssetFound=!0),this.disabled=!1,null!==this._watchHandler&&this._watchHandler.remove()}))}))}_registerWatchers(){this.addHandles([t((()=>this.selectedTraces),(()=>{this.viewModel.selectTracesOnLoad(),this.scheduleRender()})),t((()=>this.defaultGraphicColor),(()=>{this.viewModel.traceResults.length>0&&this.viewModel.traceResults.forEach((e=>{this.viewModel.changeResultGraphicColor(this.viewModel.defaultGraphicColor,e)})),this.scheduleRender()}))])}_groupResultsByAssetGroup(e){const t=[],s=e.results?.elements,i=this._groupBy(s??[],\"networkSourceId\");for(const r in i)t.push(this._groupBy(i[r],\"assetGroupCode\"));return t}_groupResultsByAssetType(e){return this._groupBy(e,\"assetTypeCode\")}_appendAttributes(e,t,s){const i=[];return e.forEach((e=>{t.forEach((t=>{t.featureSet.features.forEach((r=>{e[s]===r.attributes[this._resultObjectIdField]&&(e.details=r,e.details.fields=t.featureSet.fields,i.push(e))}))}))})),i}_getAssetGroupName(e){let t=e.assetGroupCode.toString();const s=e.assetGroupCode,i=this.viewModel.getValidSources().find((t=>t.sourceId===e.networkSourceId));if(i){const e=i.assetGroups.find((e=>e.assetGroupCode===s));e&&(t=e.assetGroupName)}return t}_getAssetTypeName(e){let t=e.assetTypeCode.toString();const s=e.assetGroupCode,i=this.viewModel.getValidSources().find((t=>t.sourceId===e.networkSourceId));if(i){const r=i.assetGroups.find((e=>e.assetGroupCode===s));if(r){const s=r.assetTypes.find((t=>t.assetTypeCode===e.assetTypeCode));s&&(t=s.assetTypeName)}}return t}_compare(e,t){return(s,i)=>{let r=0,o=s.details?.attributes[e]??s.objectId,l=i.details?.attributes[e]??i.objectId;return isNaN(o)&&(o=o.toLowerCase()),isNaN(l)&&(l=l.toLowerCase()),\"desc\"===t?o>l?r=1:o<l&&(r=-1):o<l?r=1:o>l&&(r=-1),r}}_groupBy(e,t){return e.reduce(((e,s)=>((e[s[t]]=e[s[t]]||[]).push(s),e)),{})}_getSymbolIcon(e){return\"picture-marker\"===e.type?u(\"img\",{height:e.height,src:e.url??void 0,width:e.width}):null}_watchViewState(){this._watchHandler=s((()=>!this.view?.updating),(()=>{this.disabled=!1,null!==this._watchHandler&&this._watchHandler.remove()}),{initial:!0})}_changeCursor(e=\"default\"){const t=this.view?.container?.style;t&&(t.cursor=e)}};e([i()],A.prototype,\"_selectToolActive\",void 0),e([i()],A.prototype,\"_activeTrace\",void 0),e([i()],A.prototype,\"_activeSwatch\",void 0),e([i()],A.prototype,\"_traceHeaderForFlow\",void 0),e([i()],A.prototype,\"_assetGroupHeader\",void 0),e([i()],A.prototype,\"_assetTypeHeader\",void 0),e([i()],A.prototype,\"_traceResultsFunctions\",void 0),e([i()],A.prototype,\"_traceResultsAssetGroup\",void 0),e([i()],A.prototype,\"_traceResultsAssetType\",void 0),e([i()],A.prototype,\"_traceResultsIndividual\",void 0),e([i()],A.prototype,\"_showTraceResultFunctions\",void 0),e([i()],A.prototype,\"_showTraceResultAssetGroup\",void 0),e([i()],A.prototype,\"_showTraceResultAssetType\",void 0),e([i()],A.prototype,\"_showIndividualRecords\",void 0),e([i()],A.prototype,\"_activeTab\",void 0),e([i()],A.prototype,\"_alertRemoveModal\",void 0),e([i()],A.prototype,\"_warningNoFlag\",void 0),e([i()],A.prototype,\"_warningNoTraceSelected\",void 0),e([i()],A.prototype,\"_confirmReset\",void 0),e([i()],A.prototype,\"_swatchNode\",void 0),e([i()],A.prototype,\"_errorMessage\",void 0),e([i()],A.prototype,\"defaultGraphicColor\",null),e([i()],A.prototype,\"disabled\",void 0),e([i()],A.prototype,\"flags\",null),e([i()],A.prototype,\"gdbVersion\",null),e([i()],A.prototype,\"icon\",null),e([i()],A.prototype,\"inputSettings\",void 0),e([i()],A.prototype,\"label\",null),e([i(),d(\"esri/widgets/UtilityNetworkTrace/t9n/UtilityNetworkTrace\")],A.prototype,\"messages\",void 0),e([i(),d(\"esri/t9n/common\")],A.prototype,\"messagesCommon\",void 0),e([i(),d(\"esri/core/t9n/Units\")],A.prototype,\"messagesUnits\",void 0),e([i()],A.prototype,\"resultAreaProperties\",null),e([i()],A.prototype,\"selectedTraces\",null),e([i()],A.prototype,\"selectOnComplete\",null),e([i()],A.prototype,\"showGraphicsOnComplete\",null),e([i()],A.prototype,\"enableResultArea\",null),e([i()],A.prototype,\"showSelectionAttributes\",null),e([i()],A.prototype,\"utilityNetwork\",null),e([i()],A.prototype,\"view\",null),e([h([\"add-flag\",\"add-flag-complete\",\"add-flag-error\",\"select-features\",\"clear-selection\",\"add-result-area\",\"remove-result-area\",\"create-result-area\"]),i({type:p})],A.prototype,\"viewModel\",void 0),A=e([r(\"esri.widgets.UtilityNetworkTrace\")],A);const F=A;export{F as default};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIiW,SAASA,GAAEC,IAAE;AAAC,SAAM,cAAYA,GAAE,QAAM,eAAaA,GAAE;AAAI;AAAC,SAASC,GAAED,IAAE;AAAC,SAAOA,GAAE,eAAe,QAAQ;AAAC;AAAC,SAASE,GAAEF,IAAE;AAAC,SAAOC,GAAED,EAAC,KAAG,MAAIA,GAAE,OAAO;AAAM;AAAC,IAAM,IAAN,MAAO;AAAA,EAAC,aAAaG,IAAEC,IAAEC,IAAEC,IAAE;AAAC,QAAG,MAAM,QAAQH,EAAC,GAAE;AAAC,UAAGA,GAAE,SAAO,GAAE;AAAC,cAAMI,KAAE,EAAE,SAASJ,GAAE,CAAC,EAAE,gBAAgB;AAAE,eAAOI,GAAE,WAASA,GAAE,gBAAc,EAAEJ,IAAEC,IAAEC,EAAC,IAAE,EAAEF,IAAEC,IAAEC,IAAEC,EAAC;AAAA,MAAC;AAAC;AAAA,IAAM;AAAC,UAAMC,KAAE,EAAE,SAASJ,GAAE,gBAAgB;AAAE,WAAOI,GAAE,WAASA,GAAE,gBAAc,EAAEJ,IAAEC,GAAE,CAAC,GAAEC,EAAC,IAAE,EAAEF,IAAEC,GAAE,CAAC,GAAEC,EAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBL,IAAE;AAAC,QAAG,MAAM,QAAQA,EAAC,GAAE;AAAC,UAAG,MAAIA,GAAE,UAAQE,GAAEF,GAAE,CAAC,CAAC,GAAE;AAAC,cAAMQ,KAAE,EAAER,GAAE,CAAC,CAAC;AAAE,YAAGD,GAAES,EAAC;AAAE,iBAAOA;AAAA,MAAC;AAAC,aAAO,EAAER,IAAE,IAAE,EAAE,OAAOD,EAAC;AAAA,IAAC;AAAC,UAAMS,KAAE,EAAER,EAAC;AAAE,QAAGD,GAAES,EAAC;AAAE,aAAOA;AAAA,EAAC;AAAA,EAAC,cAAcR,IAAEQ,IAAE;AAAC,UAAML,KAAE,IAAI,EAAE,EAAC,MAAKH,GAAE,iBAAiB,KAAI,CAAC;AAAE,WAAOG,GAAE,WAASA,GAAE,gBAAc,WAAWM,GAAET,IAAEQ,EAAC,EAAE,QAAQ,CAAC,CAAC,IAAE,WAAW,EAAER,IAAEQ,EAAC,EAAE,QAAQ,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,4BAA4BR,IAAE;AAAC,UAAMQ,KAAE,CAAC,GAAE,EAAC,MAAKL,IAAE,YAAWC,IAAE,SAAQC,GAAC,IAAEL;AAAE,WAAOG,MAAGK,GAAE,KAAKL,EAAC,GAAEC,MAAGI,GAAE,KAAKJ,EAAC,GAAEC,MAAGG,GAAE,KAAKH,EAAC,GAAEG;AAAA,EAAC;AAAA,EAAC,mBAAmBR,IAAEQ,IAAEL,IAAE;AAAC,QAAIC,KAAEJ;AAAE,UAAMK,KAAE,KAAK,gBAAgBL,GAAE,OAAMG,GAAE,IAAI;AAAE,QAAG,YAAUK,GAAE,MAAK;AAAC,YAAMR,KAAEQ,GAAE,IAAE,GAAEE,KAAEF,GAAE,IAAE,GAAEG,KAAE,CAAC,CAACX,IAAEQ,GAAE,IAAE,CAAC,GAAE,CAACE,IAAEF,GAAE,IAAE,CAAC,CAAC;AAAE,MAAAJ,KAAE,KAAK,gBAAgBO,IAAEH,GAAE,iBAAiB,IAAI;AAAE,MAAAJ,KAAE,EAAEA,IAAED,EAAC;AAAE,YAAMS,KAAEN,GAAED,IAAED,EAAC;AAAE,UAAGQ,GAAE,SAAO,GAAE;AAAC,cAAMZ,KAAE,EAAEK,IAAE,MAAM;AAAE,YAAIG;AAAE,QAAAA,KAAEI,GAAE,CAAC,EAAE,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,MAAIP,GAAE,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,IAAE,EAAEO,GAAE,CAAC,GAAE,MAAM,IAAE,EAAEA,GAAE,CAAC,GAAE,MAAM;AAAE,eAAM,CAACJ,KAAER,EAAC;AAAA,MAAC;AAAC,aAAM,CAAC,GAAE;AAAA,IAAC;AAAC,IAAAI,KAAE,EAAEI,IAAEL,EAAC;AAAE,UAAMO,KAAEJ,GAAED,IAAED,EAAC;AAAE,QAAGM,GAAE,SAAO,GAAE;AAAC,YAAMV,KAAE,EAAEK,IAAE,MAAM;AAAE,aAAM,CAAC,EAAEK,GAAE,CAAC,GAAE,MAAM,IAAEV,EAAC;AAAA,IAAC;AAAC,WAAM,CAAC,GAAE;AAAA,EAAC;AAAA,EAAC,MAAM,gBAAgBA,IAAEQ,IAAE;AAAC,WAAO,MAAM,EAAE,GAAE,EAAER,IAAEQ,EAAC;AAAA,EAAC;AAAA,EAAC,gBAAgBR,IAAEQ,IAAE;AAAC,WAAO,IAAI,EAAE,EAAC,MAAK,OAAG,MAAK,MAAG,OAAMR,IAAE,kBAAiB,EAAC,MAAKQ,GAAC,EAAC,CAAC;AAAA,EAAC;AAAC;;;ACAruD,IAAMK,KAAE,CAAC,KAAI,IAAG,IAAG,GAAE;AAArB,IAAuBC,KAAE,CAAC,IAAG,KAAI,IAAG,GAAE;AAAtC,IAAwCC,KAAE;AAA1C,IAA6CC,KAAE,CAAC,EAAC,OAAM,CAAC,KAAI,GAAE,GAAE,GAAE,GAAE,aAAY,KAAG,aAAY,KAAG,KAAI,UAAS,GAAE,EAAC,OAAM,CAAC,KAAI,GAAE,KAAI,GAAE,GAAE,aAAY,KAAG,aAAY,KAAG,KAAI,UAAS,GAAE,EAAC,OAAM,CAAC,KAAI,KAAI,KAAI,GAAE,GAAE,aAAY,KAAG,aAAY,KAAG,KAAI,UAAS,GAAE,EAAC,OAAM,CAAC,GAAE,KAAI,GAAE,GAAE,GAAE,aAAY,KAAG,aAAY,KAAG,KAAI,UAAS,GAAE,EAAC,OAAM,CAAC,KAAI,KAAI,GAAE,GAAE,GAAE,aAAY,KAAG,aAAY,KAAG,KAAI,UAAS,GAAE,EAAC,OAAM,CAAC,GAAE,GAAE,KAAI,GAAE,GAAE,aAAY,KAAG,aAAY,KAAG,KAAI,UAAS,GAAE,EAAC,OAAM,CAAC,KAAI,KAAI,GAAE,GAAE,GAAE,aAAY,KAAG,aAAY,KAAG,KAAI,UAAS,GAAE,EAAC,OAAM,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,aAAY,KAAG,aAAY,KAAG,KAAI,UAAS,CAAC;AAAE,IAAMC,KAAN,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,iBAAe,CAAC,GAAGD,EAAC;AAAA,EAAC;AAAA,EAAC,eAAeE,IAAE;AAAC,SAAK,iBAAe,CAAC,GAAGF,EAAC;AAAE,SAAK,eAAe,KAAM,CAAAH,OAAGA,GAAE,IAAI,YAAY,MAAIK,GAAE,IAAI,YAAY,CAAE,KAAG,KAAK,eAAe,KAAKA,EAAC;AAAA,EAAC;AAAA,EAAC,eAAeA,IAAEH,IAAEC,IAAEC,IAAE;AAAC,UAAME,KAAE,qBAAmBJ,KAAED,KAAED;AAAE,QAAG,cAAYK,GAAE,MAAK;AAAC,YAAML,KAAEK;AAAE,MAAAL,GAAE,aAAWK,KAAEL,GAAE;AAAA,IAAS;AAAC,QAAGI,IAAE;AAAC,aAAO,KAAK,YAAYC,IAAEC,IAAEH,MAAA,gBAAAA,GAAG,YAAW,MAAKC,EAAC;AAAA,IAAC;AAAC,WAAO,KAAK,YAAYC,IAAEC,IAAEH,MAAA,gBAAAA,GAAG,UAAU;AAAA,EAAC;AAAA,EAAC,YAAYH,IAAEC,IAAEE,IAAEC,IAAEE,IAAE;AAAC,QAAI,GAAEC,KAAEP;AAAE,YAAOA,GAAE,MAAK;AAAA,MAAC,KAAI;AAAa,YAAE,EAAC,MAAK,iBAAgB,OAAMC,IAAE,MAAKC,IAAE,SAAQ,EAAC,OAAMD,IAAE,OAAM,EAAC,EAAC,GAAEG,OAAIG,KAAEP;AAAG;AAAA,MAAM,KAAI;AAAQ,YAAEM,MAAG,EAAC,MAAK,iBAAgB,OAAML,IAAE,MAAKC,IAAE,SAAQ,EAAC,OAAMD,IAAE,OAAM,EAAC,EAAC,GAAEG,OAAIG,KAAEP;AAAG;AAAA,MAAM,KAAI;AAAW,YAAE,EAAC,MAAK,eAAc,OAAMC,IAAE,OAAMC,GAAC,GAAEE,OAAIG,KAAEP;AAAG;AAAA,MAAM,KAAI;AAAU,YAAE,EAAC,MAAK,eAAc,OAAMC,IAAE,SAAQ,EAAC,OAAMA,IAAE,OAAMC,GAAC,EAAC,GAAEE,OAAIG,KAAEP;AAAA,IAAE;AAAC,WAAO,IAAIQ,GAAE,EAAC,UAASD,IAAE,QAAO,GAAE,YAAWJ,MAAG,KAAI,CAAC;AAAA,EAAC;AAAC;;;ACArtC,IAAMM,KAAE,qCAAqC,KAAK,IAAI,CAAC;AAAG,SAASC,GAAEC,IAAE;AAAC,SAAM,eAAaA,GAAE;AAAI;AAAC,IAAMC,KAAN,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,mBAAiB,CAAC,GAAE,KAAK,mBAAiB,IAAI;AAAA,EAAC;AAAA,EAAC,mBAAmBD,IAAEE,IAAE;AAAC,UAAMC,KAAE,KAAK,mBAAmBD,EAAC;AAAE,IAAAC,MAAGJ,GAAEI,EAAC,KAAGA,GAAE,IAAIH,EAAC;AAAA,EAAC;AAAA,EAAC,sBAAsBA,IAAEE,IAAEC,IAAE;AAAC,UAAMC,KAAE,IAAI,EAAE,EAAC,OAAMF,GAAE,OAAM,OAAM,SAAQ,SAAQ,EAAC,OAAMA,GAAE,OAAM,OAAM,EAAC,EAAC,CAAC,GAAEJ,KAAE,KAAK,uBAAuBE,IAAEG,EAAC;AAAE,WAAOL,MAAGA,GAAE,QAAS,CAAAE,OAAG;AAAC,MAAAA,GAAE,SAAOI;AAAA,IAAC,CAAE,GAAEA;AAAA,EAAC;AAAA,EAAC,aAAaJ,IAAEE,IAAEC,IAAEE,IAAE;AAAC,WAAO,KAAK,iBAAiB,aAAaL,IAAEE,IAAEC,IAAEE,EAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBL,IAAEE,IAAEC,IAAE;AAAC,UAAME,KAAE,KAAK,iBAAiB,iBAAiBL,EAAC;AAAE,WAAOE,KAAE,KAAGG,KAAE,KAAK,aAAaA,IAAE,CAACH,EAAC,GAAEC,IAAE,KAAE,IAAEE;AAAA,EAAC;AAAA,EAAC,wBAAwBH,IAAEE,IAAEN,IAAEC,IAAEE,IAAEK,IAAE;AAJ93B;AAI+3B,UAAM,IAAE,IAAI,EAAE,EAAC,OAAMA,GAAE,OAAM,OAAM,SAAQ,SAAQ,EAAC,OAAMA,GAAE,OAAM,OAAM,EAAC,EAAC,CAAC,GAAEC,KAAE,CAAC;AAAE,eAAUP,MAAKI;AAAE,MAAAG,GAAE,KAAK,IAAIC,GAAE,EAAC,WAAUR,IAAE,OAAM,oBAAkBA,KAAED,GAAE,iBAAiBC,EAAC,IAAE,SAAK,KAAAC,GAAE,MAAMH,EAAC,MAAT,mBAAY,QAAK,MAAIC,GAAE,iBAAiBC,EAAC,EAAC,CAAC,CAAC;AAAE,WAAO,IAAIS,GAAE,EAAC,UAASP,IAAE,QAAO,GAAE,YAAWE,IAAE,eAAc,EAAC,OAAMA,GAAE,WAAU,SAAQ,CAAC,EAAC,MAAK,UAAS,YAAWG,GAAC,CAAC,EAAC,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBP,IAAEE,IAAE;AAAC,UAAMC,KAAED,GAAE,cAAcJ,EAAC;AAAE,QAAGK,MAAGJ,GAAEI,EAAC,GAAE;AAAC,YAAME,KAAE,KAAK,uBAAuBL,IAAEE,EAAC;AAAE,aAAOG,MAAGF,GAAE,WAAWE,EAAC,GAAEA;AAAA,IAAC;AAAC,WAAO;AAAA,EAAI;AAAA,EAAC,4BAA4BL,IAAE;AAAC,QAAGA,IAAE;AAAC,YAAME,KAAEF,GAAE,cAAcF,EAAC;AAAE,MAAAI,MAAGH,GAAEG,EAAC,KAAGA,GAAE,UAAU;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBF,IAAEG,IAAE;AAAC,UAAME,KAAEL,GAAE,cAAcF,EAAC;AAAE,QAAGO,MAAGN,GAAEM,EAAC;AAAE,aAAOA;AAAE,UAAMD,KAAE,IAAIM,GAAE,EAAC,OAAMP,MAAGL,IAAE,UAAS,QAAO,IAAGA,GAAC,CAAC;AAAE,WAAOE,GAAE,IAAII,EAAC,GAAEA;AAAA,EAAC;AAAA,EAAC,uBAAuBJ,IAAEE,IAAE;AAAC,UAAMC,KAAED,GAAE,cAAcJ,EAAC;AAAE,QAAGK,MAAGJ,GAAEI,EAAC,GAAE;AAAC,YAAMD,KAAEC,GAAE,SAAS,OAAQ,CAAAD,OAAGA,GAAE,WAAW,YAAUF,EAAE;AAAE,aAAOE,GAAE,SAAO,IAAEA,GAAE,QAAQ,IAAE;AAAA,IAAI;AAAC,WAAO;AAAA,EAAI;AAAC;;;ACA7qD,SAASS,GAAEC,IAAE;AAAC,SAAM,cAAYA,GAAE;AAAI;AAAC,SAASC,GAAED,IAAED,IAAE;AAAC,SAAOC,GAAE,IAAI,SAASD,EAAC;AAAC;AAAC,SAASG,GAAEF,IAAED,IAAE;AAJtK;AAIuK,YAAO,KAAAC,GAAE,gBAAF,mBAAe,mBAAgB,CAAC,GAAG,KAAM,CAAAA,OAAGA,GAAE,sBAAoBD,GAAE,OAAQ;AAAC;AAAC,IAAMI,KAAN,MAAO;AAAA,EAAC,6BAA6BA,IAAEC,IAAE;AAAC,UAAMC,KAAE,CAAC;AAAE,WAAOF,MAAA,gBAAAA,GAAG,UAAU,QAAS,CAAAA,OAAG;AAAC,kBAAUA,GAAE,OAAKE,GAAE,KAAK,GAAGF,GAAE,OAAO,OAAOH,EAAC,EAAE,OAAQ,CAAAA,OAAGD,GAAEC,EAAC,KAAGI,GAAE,eAAeJ,EAAC,KAAG,CAACE,GAAEE,IAAEJ,EAAC,CAAE,EAAE,OAAQ,CAAAA,OAAGC,GAAED,IAAEI,GAAE,iBAAiB,CAAE,EAAE,QAAQ,CAAC,IAAE,oBAAkBD,GAAE,OAAKE,GAAE,KAAK,GAAGF,GAAE,UAAU,OAAQ,CAAAH,OAAGC,GAAED,IAAEI,GAAE,iBAAiB,CAAE,EAAE,QAAQ,CAAC,IAAEJ,GAAEG,EAAC,KAAGJ,GAAEI,EAAC,KAAGC,GAAE,eAAeD,EAAC,KAAG,CAACD,GAAEE,IAAED,EAAC,KAAGF,GAAEE,IAAEC,GAAE,iBAAiB,KAAGC,GAAE,KAAKF,EAAC;AAAA,IAAC,IAAIE;AAAA,EAAC;AAAC;;;ACA44B,IAAMC,KAAE,MAAI,EAAE,0DAA0D;AAAxE,IAA0EC,KAAE,MAAI,EAAE,qBAAqB;AAAvG,IAAyG,IAAE,+BAA+B,KAAK,IAAI,CAAC;AAApJ,IAAuJ,IAAE,iCAAiC,KAAK,IAAI,CAAC;AAAG,SAAS,EAAEC,IAAE;AAAC,SAAOA,cAAa;AAAC;AAAC,SAAS,EAAEA,IAAE;AAAC,SAAM,cAAYA,GAAE,MAAM,QAAM,oBAAkBA,GAAE,MAAM;AAAI;AAAC,SAAS,EAAEA,IAAE;AAAC,SAAM,WAAUA;AAAC;AAAC,SAASC,GAAED,IAAE;AAAC,SAAO,WAASA,GAAE;AAAU;AAAC,SAASE,GAAEF,IAAE;AAAC,SAAM,eAAaA,GAAE;AAAI;AAAC,eAAeG,GAAEH,IAAE;AAJ99D;AAI+9D,QAAMI,KAAE,IAAI,GAAE,EAAC,KAAIJ,GAAE,oBAAoB,mBAAkB,CAAC;AAAE,QAAMI,GAAE,KAAK;AAAE,QAAMC,KAAED,GAAE;AAAQ,MAAG,OAAOC,EAAC,KAAG,MAAK;AAAC,UAAMD,KAAE,IAAI,EAAE,EAAC,KAAI,IAAI,IAAIJ,GAAE,QAAQ,EAAE,SAAO,UAAS,CAAC;AAAE,UAAMI,GAAE,KAAK;AAAE,UAAMC,MAAE,KAAAD,MAAA,gBAAAA,GAAG,SAAH,mBAAS;AAAS,WAAM,CAAC,CAACC,MAAGD,GAAEA,IAAEC,IAAE,gBAAgB;AAAA,EAAC;AAAC,SAAM;AAAE;AAAC,IAAIC,KAAE,cAAc,EAAE,gBAAe;AAAA,EAAC,YAAYN,IAAE;AAAC,UAAMA,EAAC,GAAE,KAAK,kBAAgB,OAAG,KAAK,gBAAc,MAAK,KAAK,SAAO,CAAC,GAAE,KAAK,UAAQ,GAAE,KAAK,mBAAiB,MAAK,KAAK,oBAAkB,CAAC,GAAE,KAAK,qBAAmB,MAAK,KAAK,iBAAe,IAAIO,MAAE,KAAK,gBAAc,MAAK,KAAK,iBAAe,CAAC,GAAE,KAAK,gBAAc,KAAI,KAAK,SAAO,CAAC,GAAE,KAAK,iBAAe,MAAK,KAAK,sBAAoB,EAAC,OAAM,CAAC,KAAI,KAAI,GAAE,GAAE,GAAE,aAAY,KAAG,aAAY,KAAG,KAAI,UAAS,GAAE,KAAK,mBAAiB,OAAG,KAAK,QAAM,CAAC,GAAE,KAAK,aAAW,eAAc,KAAK,WAAS,MAAK,KAAK,gBAAc,MAAK,KAAK,8BAA4B,EAAC,MAAK,cAAa,UAAS,IAAG,MAAK,UAAS,UAAS,iBAAgB,OAAM,EAAC,OAAM,CAAC,KAAI,KAAI,GAAE,GAAE,GAAE,aAAY,KAAG,aAAY,KAAG,KAAI,UAAS,GAAE,MAAK,MAAE,GAAE,KAAK,iBAAe,CAAC,GAAE,KAAK,mBAAiB,MAAG,KAAK,yBAAuB,MAAG,KAAK,0BAAwB,MAAG,KAAK,eAAa,CAAC,GAAE,KAAK,iBAAe;AAAA,EAAI;AAAA,EAAC,aAAY;AAAC,SAAK,mBAAiB,IAAI,KAAE,KAAK,iBAAe,IAAIF,MAAE,KAAK,qBAAmB,IAAIG;AAAE,KAAC,YAAS;AAAC,YAAK,CAACR,IAAEI,EAAC,IAAE,MAAM,QAAQ,IAAI,CAACN,GAAE,GAAEC,GAAE,CAAC,CAAC;AAAE,WAAK,IAAI,EAAC,UAASC,IAAE,eAAcI,GAAC,CAAC;AAAA,IAAC,GAAG;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,OAAK;AAAA,EAAI;AAAA,EAAC,IAAI,uBAAsB;AAAC,WAAO,KAAK;AAAA,EAA2B;AAAA,EAAC,IAAI,qBAAqBJ,IAAE;AAAC,SAAK,KAAK,wBAAuB,EAAC,GAAG,KAAK,6BAA4B,GAAGA,GAAC,CAAC,GAAE,KAAK,eAAe,eAAe,KAAK,qBAAqB,KAAK,GAAE,KAAK,aAAa,QAAS,CAAAI,OAAG;AAJ/kH;AAIglH,YAAMC,MAAE,KAAAD,GAAE,eAAF,mBAAc;AAAK,MAAAA,GAAE,aAAW,EAAC,GAAG,KAAK,6BAA4B,GAAGJ,GAAC,GAAE,KAAK,wBAAwBI,EAAC,GAAE,KAAK,oBAAkB,KAAK,wBAAwBA,EAAC,EAAE,KAAM,CAAAK,OAAG;AAAC,YAAGA,IAAE;AAAC,UAAAL,GAAE,oBAAkBK;AAAE,gBAAMF,MAAEP,MAAA,gBAAAA,GAAG,SAAMK;AAAE,UAAAD,GAAE,eAAaA,GAAE,WAAW,OAAKG,KAAGA,MAAG,KAAK,mBAAmBH,IAAEK,EAAC;AAAA,QAAC;AAAA,MAAC,CAAE;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,IAAI,QAAO;AAJz4H;AAI04H,aAAO,UAAK,SAAL,mBAAW,SAAM,UAAQ;AAAA,EAAS;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK,KAAK,MAAM;AAAA,EAAC;AAAA,EAAC,IAAI,KAAKT,IAAE;AAAC,IAAAA,MAAG,SAAOA,GAAE,QAAM,EAAE,UAAU,IAAI,EAAE,MAAM,IAAI,EAAE,qBAAoB,8BAA6B,EAAC,MAAKA,GAAC,CAAC,CAAC,GAAE,KAAK,KAAK,QAAOA,EAAC,GAAE,KAAK,kBAAgB,KAAK,MAAM,GAAE,KAAK,iBAAe,MAAK,KAAK,mBAAmB,EAAE,KAAM,CAAAA,OAAG;AAAC,MAAAA,MAAG,KAAK,mBAAmB;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,aAAaA,IAAEI,IAAE;AAAC,UAAMC,KAAE,CAAAL,OAAG;AAJhwI;AAIiwI,kBAAK,SAAL,mBAAW,WAAQ,KAAK,KAAK,eAAaA;AAAA,IAAE;AAAE,WAAO,IAAI,QAAS,CAACS,IAAEF,OAAI;AAJ10I;AAI20I,MAAAF,GAAE,KAAE,IAAE,UAAK,kBAAL,mBAAoB,UAAS,KAAK,KAAK,YAAW,EAAC,MAAKL,GAAC,CAAC,GAAE,KAAK,iBAAc,UAAK,SAAL,mBAAW,GAAG,SAAS,CAAAU,OAAG;AAAC,aAAK,mBAAmBA,IAAEV,IAAEI,EAAC,EAAE,KAAM,CAAAG,OAAG;AAJn+I,cAAAI;AAIo+I,UAAAN,GAAE,IAAE,IAAEM,MAAA,KAAK,kBAAL,gBAAAA,IAAoB,UAAS,KAAK,KAAK,qBAAoB,EAAC,MAAKX,IAAE,QAAOI,GAAC,CAAC,GAAEK,GAAEF,EAAC;AAAA,QAAC,CAAE,EAAE,MAAO,CAAAE,OAAG;AAJ1kJ,cAAAE;AAI2kJ,UAAAN,GAAE,IAAE,IAAEM,MAAA,KAAK,kBAAL,gBAAAA,IAAoB,UAAS,KAAK,KAAK,kBAAiB,EAAC,MAAKX,IAAE,QAAOI,GAAC,CAAC,GAAEG,GAAEE,EAAC;AAAA,QAAC,CAAE;AAAA,MAAC;AAAA,IAAG,CAAE;AAAA,EAAC;AAAA,EAAC,MAAM,iBAAgB;AAAC,WAAO,IAAI,QAAS,CAAAT,OAAG;AAAC,YAAMI,KAAE,CAAC;AAAE,WAAK,gBAAc,EAAG,MAAI,QAAM,KAAK,QAAM,CAAC,KAAK,KAAK,UAAW,YAAS;AAAC,YAAG,KAAK,OAAO,SAAO;AAAE,UAAAJ,GAAEI,EAAC;AAAA,aAAM;AAAC,gBAAMC,KAAE,KAAK,MAAM,IAAK,OAAML,OAAG;AAAC,gBAAGA,GAAE,UAAS;AAAC,oBAAMK,KAAE,IAAI,EAAE,EAAC,GAAEL,GAAE,SAAS,GAAE,GAAEA,GAAE,SAAS,GAAE,kBAAiBA,GAAE,SAAS,iBAAiB,KAAI,CAAC,GAAES,KAAE,EAAC,aAAY,KAAK,KAAK,SAASJ,EAAC,GAAE,UAASA,GAAC;AAAE,oBAAM,KAAK,mBAAmBI,IAAET,GAAE,IAAI,MAAI,cAAYA,GAAE,OAAKI,GAAE,KAAK,SAAS,IAAEA,GAAE,KAAK,gBAAgB;AAAA,YAAE;AAAA,UAAC,CAAE;AAAE,gBAAM,QAAQ,IAAIC,EAAC,GAAEL,GAAEI,EAAC;AAAA,QAAC;AAAA,MAAC,GAAG,EAAC,SAAQ,KAAE,CAAC;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,MAAM,mBAAmBJ,IAAEI,IAAE;AAJ5sK;AAI6sK,QAAG,KAAK;AAAK,UAAGJ,GAAE,WAAW,OAAK,MAAGI;AAAE,mBAAK,uBAAL,mBAAyB,mBAAmBA,IAAE,KAAK,KAAK,MAAK,KAAK,KAAK,mBAAkB,EAAC,SAAQA,GAAC,CAAC;AAAA,eAAUJ,GAAE,SAAQ;AAAC,cAAMI,KAAE,MAAM,KAAK,wBAAwBJ,EAAC;AAAE,QAAAI,OAAIJ,GAAE,oBAAkBI,KAAE,UAAK,uBAAL,mBAAyB,mBAAmBA,IAAE,KAAK,KAAK,MAAK,KAAK,KAAK,mBAAkB,EAAC,SAAQA,GAAC,CAAC;AAAA,MAAE;AAAA;AAAA,EAAC;AAAA,EAAC,MAAM,uBAAuBJ,IAAEI,IAAE;AAJ9jL;AAI+jL,UAAK,EAAC,MAAKC,GAAC,IAAE,MAAK,EAAC,SAAQI,GAAC,IAAET;AAAE,QAAGK,MAAGI,MAAG,KAAK;AAAe,iBAAUF,MAAKE,GAAE;AAAmB,YAAG,0BAA0B,SAASF,EAAC,GAAE;AAAC,gBAAMG,KAAEH,IAAEC,KAAEC,GAAE,mBAAmBC,EAAC;AAAE,cAAG,QAAMF,IAAE;AAAC,YAAAA,GAAE,mBAAiB,KAAK,eAAe,kBAAiBR,GAAE,iBAAe;AAAG,kBAAMS,KAAE,MAAM,KAAK,iBAAiB,gBAAgBD,IAAEH,GAAE,gBAAgB,GAAEE,KAAE,EAAC,UAASP,GAAE,MAAM,SAAQ;AAAE,gBAAG,SAAOS,IAAE;AAAC,oBAAMT,KAAE,KAAK,eAAe,YAAYS,IAAEL,GAAE,OAAMG,IAAEF,GAAE,gBAAgB;AAAE,yBAAK,iBAAiB,CAAC,MAAvB,mBAA0B,IAAIL;AAAA,YAAE;AAAA,UAAC;AAAA,QAAC;AAAA;AAAA,EAAC;AAAA,EAAC,YAAYA,IAAEI,IAAE;AAAC,UAAMC,KAAE,CAAC,GAAG,KAAK,MAAM;AAAE,IAAAA,GAAE,QAAS,CAAAA,OAAG;AAJhmM;AAIimM,MAAAA,GAAE,aAAWD,GAAE,eAAW,KAAAA,GAAE,sBAAF,mBAAqB,SAAS,SAASJ,IAAE,EAAE,SAAI,KAAAK,GAAE,sBAAF,mBAAqB,KAAK,SAASL,IAAE,EAAE;AAAA,IAAG,CAAE,GAAE,KAAK,SAAOK;AAAA,EAAC;AAAA,EAAC,MAAM,YAAW;AAAC,UAAML,KAAE,KAAK,OAAO,OAAQ,CAAAA,OAAGA,GAAE,QAAS;AAAE,WAAOA,GAAE,SAAO,MAAI,KAAK,aAAa,SAAO,KAAG,KAAK,aAAa,QAAS,CAAAA,OAAG;AAAC,WAAK,4BAA4BA,EAAC;AAAA,IAAC,CAAE,GAAE,KAAK,eAAa,CAAC,GAAE,KAAK,gBAAgB,GAAE,MAAM,QAAQ,IAAIA,GAAE,IAAK,OAAMA,IAAEI,OAAI;AAJ3+M;AAI4+M,YAAMC,KAAEL,IAAES,KAAE,IAAIG,GAAE,EAAC,YAAW,KAAK,YAAW,QAAO,MAAK,WAAUP,GAAE,WAAU,gBAAe,KAAK,QAAO,iCAAgCA,GAAE,UAAS,oBAAmB,MAAK,qBAAoB,MAAK,aAAY,KAAI,CAAC;AAAE,YAAM,KAAK,aAAaA,KAAE,UAAK,mBAAL,mBAAqB,mBAAkBI,EAAC,EAAE,KAAM,CAAAT,OAAG;AAAC,YAAGA,GAAE,eAAe,SAAS,GAAE;AAAC,gBAAMK,KAAE,EAAC,GAAGL,GAAC;AAAE,cAAG,SAAOK,GAAE,SAAQ;AAAC,YAAAA,GAAE,aAAW,EAAC,GAAG,KAAK,qBAAoB;AAAE,kBAAML,MAAE,CAAC,GAAGK,GAAE,QAAQ,QAAQ;AAAE,YAAAA,GAAE,QAAQ,SAAS,SAAO;AAAE,kBAAMI,KAAE,oBAAI;AAAI,uBAAUL,MAAKJ;AAAE,cAAAS,GAAE,IAAIL,GAAE,QAAQ,MAAIK,GAAE,IAAIL,GAAE,UAAS,IAAE,GAAEC,GAAE,QAAQ,SAAS,KAAKD,EAAC;AAAG,kBAAMG,KAAE,CAAC,GAAG,KAAK,YAAY;AAAE,YAAAA,GAAE,OAAOH,IAAE,GAAEC,EAAC,GAAE,KAAK,eAAaE,IAAE,SAAOF,GAAE,YAAU,KAAK,oBAAkB,KAAK,eAAe,MAAGA,GAAE,KAAK,GAAE,KAAK,0BAAwB,KAAK,uBAAuBA,IAAEA,GAAE,YAAY,GAAE,KAAK,oBAAkB,KAAK,wBAAwBA,EAAC,EAAE,KAAM,CAAAL,QAAG;AAJ9zO,kBAAAW;AAI+zO,cAAAX,QAAIK,GAAE,oBAAkBL,OAAEW,MAAAN,GAAE,eAAF,gBAAAM,IAAc,SAAM,KAAK,mBAAmBN,IAAEA,GAAE,iBAAiB;AAAA,YAAE,CAAE;AAAA,UAAE,OAAK;AAAC,kBAAMA,KAAE,CAAC,GAAG,KAAK,YAAY;AAAE,YAAAA,GAAE,OAAOD,IAAE,GAAEJ,EAAC,GAAE,KAAK,eAAaK;AAAA,UAAC;AAAC,eAAK,kBAAgB;AAAA,QAAE,OAAK;AAAC,eAAK,kBAAgB;AAAG,gBAAMA,KAAE,CAAC,GAAG,KAAK,YAAY;AAAE,UAAAA,GAAE,OAAOD,IAAE,GAAEJ,EAAC,GAAE,KAAK,eAAaK;AAAA,QAAC;AAAA,MAAC,CAAE,EAAE,MAAO,CAAAL,OAAG;AAAC,cAAM,KAAK,kBAAgB,OAAGA;AAAA,MAAC,CAAE;AAAA,IAAC,CAAE,CAAC,GAAE;AAAA,EAAG;AAAA,EAAC,sBAAsBA,IAAEI,IAAE;AAJrrP;AAIsrP,QAAG,CAACJ,GAAE;AAAW;AAAO,IAAAA,GAAE,WAAW,QAAMI;AAAE,UAAMC,MAAE,UAAK,uBAAL,mBAAyB,sBAAsBL,GAAE,MAAM,UAASI,IAAE,KAAK,KAAK;AAAK,IAAAJ,GAAE,sBAAoBA,GAAE,kBAAkB,SAAOK;AAAA,EAAE;AAAA,EAAC,yBAAyBL,IAAEI,IAAE;AAAC,UAAMC,KAAE,CAAC,GAAG,KAAK,YAAY;AAAE,IAAAA,GAAE,SAAO,KAAGA,GAAE,QAAS,CAAAA,OAAG;AAAC,MAAAA,GAAE,MAAM,aAAWD,GAAE,MAAM,aAAWC,GAAE,eAAaL,IAAEK,GAAE,iBAAe;AAAA,IAAG,CAAE,GAAE,KAAK,eAAaA,IAAE,KAAK,4BAA4BD,EAAC,GAAE,KAAK,uBAAuBA,IAAEJ,EAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBA,IAAEI,IAAE;AAAC,SAAK,OAAO,SAAO,KAAG,KAAK,OAAO,QAAS,CAAAC,OAAG;AAAC,MAAAA,GAAE,SAAOL,MAAGI,MAAGC,GAAE,eAAaA,GAAE,WAAW,SAAOD;AAAA,IAAE,CAAE;AAAA,EAAC;AAAA,EAAC,gBAAe;AAAC,UAAMJ,KAAE,EAAC,QAAO,MAAG,QAAO,CAAC,EAAC;AAAE,QAAII,KAAE;AAAG,UAAMC,KAAE,KAAK,OAAO,KAAM,CAAAL,OAAG,qBAAmBA,GAAE,IAAK,GAAES,KAAE,KAAK,OAAO,OAAQ,CAAAT,OAAG,SAAOA,GAAE,YAAa;AAAE,IAAAS,GAAE,SAAO,MAAIL,KAAEK,GAAE,KAAM,CAAAT,OAAGA,GAAE,kBAAkB,UAAQ,CAAE;AAAG,QAAIO,KAAE,CAAC;AAAE,WAAOF,MAAGE,KAAE,KAAK,OAAO,OAAQ,CAAAP,OAAGA,GAAE,QAAS,GAAEO,GAAE,UAAQ,KAAGP,GAAE,SAAO,OAAGA,GAAE,SAAO,CAAC,SAAS,GAAEI,OAAIJ,GAAE,SAAO,OAAGA,GAAE,SAAO,CAAC,WAAU,oBAAoB,MAAII,OAAIJ,GAAE,SAAO,OAAGA,GAAE,SAAO,CAAC,oBAAoB,OAAKO,KAAE,KAAK,OAAO,OAAQ,CAAAP,OAAG,SAAKA,GAAE,QAAS,GAAEO,GAAE,SAAO,KAAGP,GAAE,SAAO,OAAGA,GAAE,SAAO,CAAC,SAAS,GAAEI,OAAIJ,GAAE,SAAO,OAAGA,GAAE,SAAO,CAAC,WAAU,oBAAoB,OAAKA,GAAE,SAAO,OAAGA,GAAE,SAAO,CAAC,WAAU,SAAS,GAAEI,OAAIJ,GAAE,SAAO,OAAGA,GAAE,SAAO,CAAC,WAAU,WAAU,oBAAoB,MAAKA;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAAC,WAAO,KAAK,kBAAkB,KAAM,CAAAA,OAAGA,EAAE;AAAA,EAAC;AAAA,EAAC,YAAYA,IAAE;AAAC,QAAG,CAAC,KAAK;AAAK;AAAO,QAAII,KAAE,KAAK;AAAa,QAAGA,GAAE,SAAO,GAAE;AAAC,YAAMC,KAAED,GAAE,OAAQ,CAAAA,OAAGA,GAAE,MAAM,aAAWJ,GAAE,QAAS;AAAE,MAAAK,GAAE,SAAO,MAAI,KAAK,4BAA4BA,GAAE,CAAC,CAAC,GAAE,KAAK,wBAAwBA,GAAE,CAAC,CAAC,IAAGD,KAAEA,GAAE,OAAQ,CAAAA,OAAGA,GAAE,MAAM,aAAWJ,GAAE,QAAS;AAAA,IAAC;AAAC,SAAK,eAAaI,IAAE,MAAIA,GAAE,UAAQ,KAAK,4BAA4B,GAAE,KAAK,gBAAgB,GAAE,KAAK,KAAK,mBAAkB,EAAC,WAAU,CAAC,EAAC,CAAC,KAAG,KAAK,eAAe,OAAGJ,EAAC;AAAA,EAAC;AAAA,EAAC,2BAA2BA,IAAEI,IAAEC,IAAE;AAJp7S;AAIq7S,QAAG,CAAC,KAAK,QAAM,CAAC,KAAK;AAAqB;AAAO,QAAII;AAAE,QAAGA,KAAE,mBAAe,UAAK,yBAAL,mBAA2B,QAAK,MAAIL,GAAE,WAAS,EAAEA,GAAE,CAAC,CAAC,KAAG,EAAEA,GAAE,CAAC,CAAC,KAAG,MAAIA,GAAE,CAAC,EAAE,OAAO,WAAQ,UAAK,uBAAL,mBAAyB,aAAaA,IAAEC,KAAE,KAAAL,GAAE,eAAF,mBAAc,MAAK,SAAI,UAAK,uBAAL,mBAAyB,iBAAiBI,KAAE,KAAAJ,GAAE,eAAF,mBAAc,WAAS,KAAAA,GAAE,eAAF,mBAAc,SAAM,UAAK,uBAAL,mBAAyB,aAAaI,IAAEC,KAAE,KAAAL,GAAE,eAAF,mBAAc,MAAK,OAAI,CAACS;AAAE;AAAO,QAAG,MAAM,QAAQA,EAAC,GAAE;AAAC,iBAAUL,MAAKK,IAAE;AAAC,cAAMJ,KAAE,KAAK,wBAAwBL,IAAEI,EAAC,GAAEK,MAAE,UAAK,uBAAL,mBAAyB,wBAAwBL,IAAEC,KAAE,KAAAL,GAAE,eAAF,mBAAc,UAAS,KAAK,UAAS,KAAK,gBAAc,KAAAA,GAAE,eAAF,mBAAc;AAAO,YAAGS;AAAE,iBAAOA;AAAA,MAAC;AAAC;AAAA,IAAM;AAAC,UAAMF,KAAE,KAAK,wBAAwBP,IAAES,EAAC;AAAE,YAAO,UAAK,uBAAL,mBAAyB,wBAAwBA,IAAEF,KAAE,KAAAP,GAAE,eAAF,mBAAc,UAAS,KAAK,UAAS,KAAK,gBAAc,KAAAA,GAAE,eAAF,mBAAc;AAAA,EAAM;AAAA,EAAC,MAAM,wBAAwBA,IAAE;AAJzvU;AAI0vU,QAAGA,GAAE,SAAQ;AAAC,YAAMI,KAAE,MAAM,KAAK,+BAA+BJ,GAAE,OAAO;AAAE,UAAGI,GAAE,SAAO,GAAE;AAAC,cAAMC,KAAE,MAAMD,GAAE,MAAM,EAAE,MAAK,KAAAJ,GAAE,eAAF,mBAAc,QAAQ,GAAES,KAAE,KAAK,2BAA2BT,IAAEI,IAAEC,EAAC;AAAE,eAAO,KAAK,KAAK,sBAAqB,EAAC,SAAQI,GAAC,CAAC,GAAEA;AAAA,MAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,aAAaT,IAAEI,IAAEC,IAAE;AAAC,UAAMI,KAAE,KAAK,cAAcJ,GAAE,cAAc;AAAE,WAAOA,GAAE,iBAAeI,IAAEA,GAAEL,IAAEC,IAAE,EAAC,SAAQ,KAAK,cAAa,CAAC,EAAE,KAAM,CAAAD,QAAI,EAAC,OAAMJ,IAAE,SAAQI,IAAE,kBAAiB,OAAG,gBAAe,OAAG,cAAa,KAAK,qBAAoB,QAAO,WAAU,MAAK,oBAAI,OAAI,EAAG,EAAE,MAAO,CAAAA,QAAI,EAAC,OAAMJ,IAAE,SAAQ,MAAK,kBAAiB,OAAG,gBAAe,OAAG,cAAa,KAAK,qBAAoB,QAAOI,GAAE,SAAQ,MAAK,oBAAI,OAAI,EAAG;AAAA,EAAC;AAAA,EAAC,wBAAwBJ,IAAEK,IAAE;AAJh6V;AAIi6V,UAAK,EAAC,UAASI,GAAC,IAAE,MAAKF,KAAE,CAAC,GAAEG,KAAE,CAAC;AAAE,SAAK,OAAO,QAAS,CAAAV,OAAG;AAJ19V,UAAAW,KAAAE,KAAAC,KAAA;AAI29V,YAAMV,OAAEO,MAAAX,GAAE,iBAAF,gBAAAW,IAAgB,SAAM,QAAIE,MAAAb,GAAE,iBAAF,gBAAAa,IAAgB,SAAM,MAAIJ,GAAE,iBAAiB,WAAS,MAAIT,GAAE,WAAS,MAAIS,GAAE,iBAAiB,aAAW,MAAIT,GAAE,aAAW,MAAIS,GAAE,iBAAiB,IAAE,QAAIK,MAAAd,GAAE,aAAF,gBAAAc,IAAY,KAAE,MAAIL,GAAE,iBAAiB,IAAE,QAAI,KAAAT,GAAE,aAAF,mBAAY;AAAE,2BAAmBA,GAAE,OAAKO,GAAE,KAAKH,EAAC,IAAEM,GAAE,KAAKN,EAAC;AAAA,IAAC,CAAE;AAAE,WAAM,EAAC,SAAQJ,GAAE,MAAM,UAAS,WAAUA,GAAE,MAAM,OAAM,kBAAiBA,GAAE,MAAM,eAAa,IAAG,gBAAeO,GAAE,SAAS,GAAE,UAASG,GAAE,SAAS,GAAE,SAAQ,KAAK,YAAW,UAAS,EAAE,YAAY,CAAC,EAAE,QAAO,MAAKV,GAAE,MAAK,eAAa,KAAAA,GAAE,YAAF,mBAAW,SAAS,QAAO,gBAAe,KAAK,WAAU,KAAAA,GAAE,YAAF,mBAAW,qBAAqB,GAAE,eAAcK,KAAE,KAAK,iBAAiB,cAAcA,KAAE,KAAAL,GAAE,eAAF,mBAAc,QAAQ,IAAE,EAAC;AAAA,EAAC;AAAA,EAAC,kBAAiB;AAJ9pX;AAI+pX,QAAIA,KAAE,CAAC;AAAE,UAAMI,OAAE,gBAAK,mBAAL,mBAAqB,gBAArB,mBAAkC,mBAAgB,CAAC;AAAE,eAAUC,MAAKD;AAAE,MAAAJ,KAAEA,GAAE,OAAOK,GAAE,eAAe,GAAEL,KAAEA,GAAE,OAAOK,GAAE,WAAW;AAAE,WAAOL;AAAA,EAAC;AAAA,EAAC,4BAA4BA,IAAE;AAAC,WAAO,MAAIA,GAAE,SAAO,CAAC,IAAE,KAAK,SAASA,IAAE,iBAAiB;AAAA,EAAC;AAAA,EAAC,MAAM,qBAAoB;AAJ16X;AAI26X,UAAK,EAAC,MAAKA,GAAC,IAAE;AAAK,QAAG,CAACA;AAAE,aAAO;AAAK,QAAG,MAAMA,GAAE,KAAK,GAAE,KAAK,gBAAe;AAAC,UAAG,KAAK,eAAe,UAAQ,MAAM,KAAK,eAAe,KAAK,GAAE,KAAK,0BAA0B,GAAE;AAAC,YAAG;AAAC,gBAAMI,KAAEJ,GAAE;AAAI,gBAAMI,GAAE,QAAQ,GAAE,KAAK,oBAAoB;AAAA,QAAC,SAAOG,IAAE;AAAC,eAAK,oBAAoB;AAAA,QAAC;AAAC,eAAO,KAAK;AAAA,MAAc;AAAC,aAAO;AAAA,IAAI;AAAC,UAAMH,KAAEJ,GAAE,KAAIK,MAAE,KAAAD,GAAE,oBAAF,mBAAmB,GAAG;AAAG,QAAGC,IAAE;AAAC,UAAG,MAAMA,GAAE,KAAK,GAAE,KAAK,iBAAeA,IAAE,CAAC,MAAMF,GAAEE,EAAC;AAAE,cAAM,IAAI,EAAE,0CAAyC,+BAA+B;AAAE,UAAG;AAAC,cAAMD,GAAE,QAAQ,GAAE,KAAK,oBAAoB;AAAA,MAAC,SAAOG,IAAE;AAAA,MAAC,UAAC;AAAQ,aAAK,oBAAoB;AAAA,MAAC;AAAC,aAAOF;AAAA,IAAC;AAAC,WAAO;AAAA,EAAI;AAAA,EAAC,oBAAoBL,IAAEI,IAAE;AAAC,UAAMC,KAAE,CAAC,GAAG,KAAK,MAAM;AAAE,IAAAA,GAAE,QAAS,CAAAA,OAAG;AAAC,MAAAA,GAAE,aAAWD,GAAE,YAAU,cAAYA,GAAE,QAAMC,GAAE,OAAKD,GAAE,OAAKC,GAAE,kBAAgBL;AAAA,IAAE,CAAE,GAAE,KAAK,SAAOK;AAAA,EAAC;AAAA,EAAC,eAAeL,IAAEI,IAAE;AAAC,QAAIC,KAAE,CAAC;AAAE,UAAMI,KAAE,CAAC,GAAG,KAAK,YAAY,GAAEF,KAAEH,GAAE;AAAS,IAAAK,GAAE,QAAS,CAAAL,OAAG;AAJxwZ;AAIywZ,MAAAG,OAAIH,GAAE,MAAM,aAAWA,GAAE,mBAAiBJ,KAAGI,GAAE,oBAAkB,WAAO,KAAAA,GAAE,YAAF,mBAAW,cAAWC,KAAE,CAAC,GAAGA,IAAE,KAAG,KAAAD,GAAE,YAAF,mBAAW,aAAU,CAAC,CAAC;AAAA,IAAE,CAAE,GAAE,KAAK,cAAc,CAAC,GAAG,IAAI,IAAIC,EAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,kBAAkBL,IAAE;AAJ78Z;AAI88Z,UAAK,EAAC,MAAKI,GAAC,IAAE;AAAK,QAAG,CAACA,MAAG,CAAC,KAAK;AAAe,aAAO;AAAK,UAAMK,KAAEM,GAAE,KAAK,gBAAef,EAAC,GAAEO,KAAE,EAAC,UAASE,GAAE,CAAC,EAAE,UAAS,WAAUA,GAAE,CAAC,EAAE,WAAU,WAAU,CAAC,GAAG,EAAC,GAAEC,OAAE,KAAAN,GAAE,QAAF,mBAAO,UAAU,UAAU,OAAQ,CAAAJ,OAAC;AAJppa,UAAAW;AAIspa,eAAAA,MAAAX,MAAA,gBAAAA,GAAG,cAAH,gBAAAW,IAAc,UAAOF,GAAE,CAAC,EAAE;AAAA,OAAW,OAAOJ,QAAI,CAAC;AAAE,SAAK,wBAAwBD,EAAC,EAAE,OAAQ,CAAC,EAAC,OAAMJ,GAAC,MAAE;AAJ5va,UAAAW;AAI8va,eAAAA,MAAAX,MAAA,gBAAAA,GAAG,cAAH,gBAAAW,IAAc,UAAOF,GAAE,CAAC,EAAE;AAAA,KAAS,EAAE,QAAS,CAAC,EAAC,OAAMT,GAAC,MAAI;AAAC,oBAAYA,GAAE,QAAM,oBAAkBA,GAAE,QAAMU,GAAE,KAAKV,EAAC;AAAA,IAAC,CAAE;AAAE,UAAMQ,MAAG,MAAM,QAAQ,IAAIE,GAAE,IAAK,OAAMV,OAAG;AAAC,YAAMS,KAAE,EAAC,QAAO,IAAI,EAAE,CAACT,EAAC,CAAC,GAAE,YAAW,CAACO,EAAC,GAAE,gBAAe,MAAG,qBAAoBH,GAAE,iBAAgB,GAAE,CAACM,EAAC,IAAE,MAAMD,GAAEA,IAAE,KAAE;AAAE,aAAOC;AAAA,IAAC,CAAE,CAAC,GAAG,OAAQ,CAAC,EAAC,YAAWV,GAAC,MAAIA,GAAE,SAAS,SAAO,CAAE;AAAE,WAAOQ,GAAE,SAAO,IAAEA,KAAE;AAAA,EAAI;AAAA,EAAC,mBAAmBR,IAAEI,IAAEC,IAAE;AAAC,WAAO,KAAK,iBAAiBL,EAAC,EAAE,KAAM,CAAAA,OAAG;AAAC,YAAK,EAAC,MAAKS,GAAC,IAAE;AAAK,UAAG,CAACA;AAAE,eAAM;AAAG,UAAGT,GAAE,SAAO,GAAE;AAAC,cAAMS,KAAE,CAAC,GAAG,KAAK,MAAM,GAAEF,KAAEF;AAAE,eAAOL,GAAE,QAAS,CAAAA,OAAG;AAJrxb;AAIsxb,gBAAMK,KAAEL,GAAE,SAAQU,KAAEL,GAAE,WAAW,eAAe,UAAU,IAAEA,GAAE,WAAW,WAASA,GAAE,WAAW;AAAS,cAAGI,GAAE,OAAQ,CAAAT,QAAGA,IAAE,aAAWU,EAAE,EAAE,UAAQ,GAAE;AAAC,kBAAMV,MAAE,KAAK,eAAe,eAAeK,GAAE,UAASD,IAAEC,IAAEE,EAAC;AAAE,uBAAK,iBAAiB,CAAC,MAAvB,mBAA0B,IAAIP,MAAGS,GAAE,KAAK,EAAC,GAAGJ,IAAE,MAAKD,IAAE,UAASC,GAAE,WAAW,YAAUA,GAAE,WAAW,UAAS,SAAQA,IAAE,YAAWL,KAAE,IAAG,KAAK,cAAa,CAAC;AAAA,UAAC,WAAS,SAAOK,GAAE,cAAa;AAAC,kBAAML,MAAE,KAAK,eAAe,eAAeK,GAAE,UAASD,IAAEC,IAAEE,EAAC;AAAE,uBAAK,iBAAiB,CAAC,MAAvB,mBAA0B,IAAIP,MAAGS,GAAE,KAAK,EAAC,GAAGJ,IAAE,MAAKD,IAAE,UAASC,GAAE,WAAW,YAAUA,GAAE,WAAW,UAAS,SAAQA,IAAE,YAAWL,KAAE,IAAG,KAAK,cAAa,CAAC;AAAA,UAAC;AAAA,QAAC,CAAE,GAAE,KAAK,SAAOS,IAAE;AAAA,MAAE;AAAC,aAAM;AAAA,IAAE,CAAE;AAAA,EAAC;AAAA,EAAC,4BAA4BT,IAAE;AAJt7c;AAIu7c,UAAK,EAAC,MAAKI,GAAC,IAAE;AAAK,QAAG,CAACA;AAAE;AAAO,UAAMC,MAAE,UAAK,iBAAiB,CAAC,MAAvB,mBAA0B;AAAS,IAAAL,GAAE,iBAAe;AAAG,UAAMS,KAAEJ,MAAA,gBAAAA,GAAG,OAAQ,CAAAD,OAAGA,GAAE,WAAWA,GAAE,WAAW,eAAe,UAAU,IAAE,aAAW,UAAU,MAAIJ,GAAE,MAAM;AAAW,IAAAS,MAAA,gBAAAA,GAAG,QAAS,CAAAT,OAAG;AAJ5pd,UAAAW;AAI6pd,OAAAA,MAAA,KAAK,iBAAiB,CAAC,MAAvB,gBAAAA,IAA0B,OAAOX;AAAA,IAAE;AAAA,EAAG;AAAA,EAAC,WAAWA,IAAE;AAAC,UAAMI,KAAE,KAAK,OAAO,OAAQ,CAAAA,OAAG;AAAC,UAAGA,GAAE,OAAKJ,GAAE;AAAG,eAAOI;AAAA,IAAC,CAAE;AAAE,SAAK,eAAeJ,EAAC,GAAE,KAAK,SAAOI;AAAA,EAAC;AAAA,EAAC,8BAA6B;AAJ/0d;AAIg1d,eAAK,uBAAL,mBAAyB,4BAA4B,KAAK,KAAK;AAAA,EAAI;AAAA,EAAC,wBAAwBJ,IAAE;AAJ96d;AAI+6d,QAAGA,GAAE,YAAW;AAAC,MAAAA,GAAE,WAAW,OAAK;AAAG,YAAMI,MAAE,UAAK,uBAAL,mBAAyB,iBAAiBJ,GAAE,MAAM,WAAS,UAAK,SAAL,mBAAW;AAAK,MAAAI,MAAG,KAAK,KAAK,sBAAqB,EAAC,SAAQA,GAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,kBAAiB;AAAC,SAAK,kBAAkB,QAAS,CAAAJ,OAAG;AAAC,MAAAA,MAAGA,GAAE,OAAO;AAAA,IAAC,CAAE,GAAE,KAAK,oBAAkB,CAAC;AAAA,EAAC;AAAA,EAAC,eAAeA,IAAEI,IAAE;AAAC,UAAMC,KAAE,CAAC,GAAG,KAAK,MAAM;AAAE,IAAAA,GAAE,QAAS,CAAAA,OAAG;AAJpve;AAIqve,UAAGA,GAAE,aAAWD,GAAE,cAAU,KAAAA,GAAE,sBAAF,mBAAqB,SAAS,SAASJ,IAAE,EAAE,KAAG;AAAC,cAAMS,KAAEL,GAAE,kBAAkB,QAAQ,SAASJ,IAAE,EAAE,CAAC;AAAE,cAAAK,GAAE,sBAAF,mBAAqB,OAAOI,IAAE;AAAA,MAAE;AAAA,IAAC,CAAE,GAAE,KAAK,SAAOJ;AAAA,EAAC;AAAA,EAAC,2BAA0B;AAAC,SAAK,iBAAe,SAAO,KAAK,iBAAe,KAAK,cAAc,OAAO;AAAA,EAAC;AAAA,EAAC,QAAO;AAJphf;AAIqhf,SAAK,SAAO,CAAC,GAAE,KAAK,eAAa,CAAC;AAAE,UAAML,KAAE,CAAC,GAAG,KAAK,MAAM;AAAE,IAAAA,GAAE,QAAS,CAAAA,OAAG;AAAC,MAAAA,GAAE,WAAS;AAAA,IAAE,CAAE,GAAE,KAAK,SAAOA,IAAE,KAAK,UAAO,UAAK,iBAAiB,CAAC,MAAvB,mBAA0B,cAAY,UAAK,iBAAiB,CAAC,MAAvB,mBAA0B,aAAY,KAAK,4BAA4B,GAAE,KAAK,gBAAgB,GAAE,KAAK,KAAK,mBAAkB,EAAC,WAAU,CAAC,EAAC,CAAC;AAAA,EAAE;AAAA,EAAC,mBAAmBA,IAAE;AAAC,UAAK,EAAC,MAAKI,GAAC,IAAE;AAAK,QAAG,CAACA,MAAG,CAAC,KAAK;AAAe;AAAO,UAAMC,KAAEU,GAAE,KAAK,gBAAef,EAAC;AAAE,SAAK,wBAAwBI,EAAC,EAAE,QAAS,CAAAJ,OAAG;AAJx9f;AAIy9f,QAAEA,EAAC,OAAG,WAAAA,GAAE,UAAF,mBAAS,cAAT,mBAAoB,UAAOK,GAAE,CAAC,EAAE,YAAU,EAAEL,EAAC,KAAG,KAAK,kBAAkB,KAAKA,GAAE,UAAUK,GAAE,CAAC,EAAE,SAAS,CAAC;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,cAAcL,IAAE;AAAC,QAAGA,GAAE,SAAO,GAAE;AAAC,WAAK,gBAAgB;AAAE,YAAMI,KAAE,KAAK,4BAA4BJ,EAAC,GAAEK,KAAE,CAAC;AAAE,iBAAUL,MAAKI;AAAE,aAAK,mBAAmBA,GAAEJ,EAAC,CAAC,GAAEK,GAAE,KAAK,KAAK,kBAAkBD,GAAEJ,EAAC,CAAC,CAAC;AAAE,cAAQ,IAAIK,EAAC,EAAE,KAAM,CAAAL,OAAG;AAAC,aAAK,KAAK,mBAAkB,EAAC,WAAUA,GAAC,CAAC;AAAA,MAAC,CAAE;AAAA,IAAC;AAAM,WAAK,gBAAgB,GAAE,KAAK,KAAK,mBAAkB,EAAC,WAAU,CAAC,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,aAAaA,IAAEI,IAAE;AAAC,UAAMC,KAAE,CAAC,GAAG,KAAK,MAAM;AAAE,IAAAA,GAAE,QAAS,CAAAA,OAAG;AAAC,MAAAD,OAAIC,GAAE,aAAWA,GAAE,WAASL;AAAA,IAAE,CAAE,GAAE,KAAK,SAAOK;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAJphhB;AAIqhhB,gBAAK,mBAAL,mBAAqB,eAAe,uCAAoC,KAAK,SAAO,CAAC,GAAG,KAAK,eAAe,8BAA8B,GAAE,KAAK,OAAO,QAAS,CAAAL,OAAG;AAAC,MAAAA,GAAE,WAAS,OAAG,KAAK,eAAe,SAASA,GAAE,QAAQ,MAAIA,GAAE,WAAS;AAAA,IAAG,CAAE;AAAA,EAAE;AAAA,EAAC,YAAYA,IAAE;AAJpxhB;AAIqxhB,eAAK,SAAL,mBAAW,KAAKA,IAAG,MAAO,CAAAA,OAAG,QAAQ,MAAMA,EAAC;AAAA,EAAG;AAAA,EAAC,MAAM,+BAA+BA,IAAE;AAAC,QAAG,QAAMA,GAAE;AAAmB,aAAO,KAAK,iBAAiB,4BAA4BA,GAAE,kBAAkB;AAAE,UAAMI,KAAE,KAAK,4BAA4BJ,GAAE,QAAQ,GAAEK,KAAE,CAAC;AAAE,eAAUI,MAAKL;AAAE,MAAAC,GAAE,KAAK,KAAK,kBAAkBD,GAAEK,EAAC,CAAC,CAAC;AAAE,QAAG;AAAC,YAAMT,KAAE,MAAM,QAAQ,IAAIK,EAAC,GAAED,KAAE,CAAC;AAAE,iBAAUC,MAAKL;AAAE,YAAGK;AAAE,qBAAUL,MAAKK;AAAE,uBAAUA,MAAKL,GAAE,WAAW;AAAS,cAAAI,GAAE,KAAKC,GAAE,QAAQ;AAAE,aAAOD;AAAA,IAAC,QAAM;AAAC,aAAM,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAJ7viB;AAI8viB,QAAG,CAAC,KAAK;AAAe;AAAO,UAAK,EAAC,KAAIJ,GAAC,IAAE,KAAK,MAAK,EAAC,UAASI,GAAC,IAAE;AAAK,SAAK,mBAAmB,GAAE,KAAK,oBAAoB,CAAC,GAAE,KAAK,oBAAoB,CAAC,IAAE,UAAK,uBAAL,mBAAyB,mBAAmBJ,IAAEI,MAAA,gBAAAA,GAAG,cAAc,sBAAqB,KAAK,iBAAe,KAAK,eAAe,6BAA6BJ,IAAE,KAAK,cAAc;AAAA,EAAC;AAAA,EAAC,wBAAwBA,IAAE;AAAC,UAAMI,KAAE,CAAC;AAAE,WAAOJ,GAAE,WAAW,OAAQ,CAAC,EAAC,OAAM,EAAC,MAAKA,GAAC,EAAC,MAAI,cAAYA,MAAG,YAAUA,MAAG,oBAAkBA,EAAE,EAAE,QAAQ,EAAE,QAAS,CAAAA,OAAG;AAAC,cAAOA,GAAE,MAAM,MAAK;AAAA,QAAC,KAAI;AAAQ,cAAGC,GAAED,EAAC;AAAE,uBAAUK,MAAKL,GAAE;AAAW,cAAAI,GAAE,KAAKC,EAAC;AAAE;AAAA,QAAM,KAAI;AAAgB,UAAAD,GAAE,KAAKJ,EAAC;AAAE;AAAA,QAAM;AAAQ,UAAAI,GAAE,KAAM,CAAAA,OAAGA,GAAE,MAAM,OAAKJ,GAAE,MAAM,EAAG,KAAGI,GAAE,KAAKJ,EAAC;AAAA,MAAC;AAAA,IAAC,CAAE,GAAEI;AAAA,EAAC;AAAA,EAAC,cAAcJ,IAAE;AAAC,UAAMI,KAAE,CAAC;AAAE,WAAOJ,GAAE,QAAS,CAAAA,OAAG;AAAC,UAAG,SAAOA,GAAE,qBAAmBA,GAAE,kBAAkB,SAAO;AAAE,QAAAA,GAAE,kBAAkB,QAAS,CAAAK,OAAG;AAAC,gBAAMI,KAAE,IAAIC,GAAE,EAAC,UAASV,GAAE,UAAS,cAAaA,GAAE,cAAa,YAAWK,IAAE,MAAKL,GAAE,MAAK,iBAAgBA,GAAE,gBAAe,CAAC;AAAE,UAAAI,GAAE,KAAKK,EAAC;AAAA,QAAC,CAAE;AAAA,WAAM;AAAC,cAAMJ,KAAE,IAAIK,GAAE,EAAC,UAASV,GAAE,UAAS,cAAaA,GAAE,cAAa,YAAW,MAAK,MAAKA,GAAE,MAAK,iBAAgBA,GAAE,gBAAe,CAAC;AAAE,QAAAI,GAAE,KAAKC,EAAC;AAAA,MAAC;AAAA,IAAC,CAAE,GAAED;AAAA,EAAC;AAAA,EAAC,iBAAiBJ,IAAE;AAJ71kB;AAI81kB,WAAM,yBAAqB,KAAAA,MAAA,gBAAAA,GAAG,UAAH,mBAAU,QAAK,KAAK,2BAA2BA,EAAC,IAAE,KAAK,+BAA+BA,EAAC;AAAA,EAAC;AAAA,EAAC,2BAA2BA,IAAE;AAAC,QAAII,KAAE,IAAGC,KAAE;AAAG,UAAMI,KAAET,GAAE;AAAM,IAAAI,KAAE,KAAK,oBAAoBK,IAAE,cAAc;AAAE,eAAUF,MAAKP,GAAE,YAAW;AAAC,YAAMU,KAAEH,GAAE,YAAY;AAAE,MAAAG,QAAIN,MAAA,gBAAAA,GAAG,kBAAeC,KAAEL,GAAE,WAAWO,EAAC,GAAE,iBAAeG,MAAG,gBAAcA,KAAEL,KAAE,KAAK,cAAcI,IAAEA,GAAE,WAAW,KAAGJ,KAAE,KAAK,aAAaI,GAAE,QAAOF,IAAEF,EAAC,GAAE,YAAU,OAAOA,OAAIA,KAAE,KAAK,qBAAqBA,IAAEI,EAAC,QAAMJ,KAAE,KAAK,aAAaI,GAAE,QAAOF,IAAEF,EAAC,GAAE,YAAU,OAAOA,OAAIA,KAAE,KAAK,qBAAqBA,IAAEI,EAAC;AAAA,IAAG;AAAC,WAAM,EAAC,OAAML,IAAE,OAAMC,GAAE,SAAS,EAAC;AAAA,EAAC;AAAA,EAAC,+BAA+BL,IAAE;AAJ39lB;AAI49lB,UAAMI,KAAEJ,GAAE;AAAM,QAAIK,KAAED,GAAE,cAAaK,KAAE;AAAG,eAAUF,MAAKP,GAAE,YAAW;AAAC,YAAMU,KAAEH,GAAE,YAAY;AAAE,UAAGG,QAAIL,MAAA,gBAAAA,GAAG;AAAc,YAAGI,KAAET,GAAE,WAAWO,EAAC,GAAE,iBAAeG,MAAG,gBAAcA,IAAE;AAAC,cAAIA,KAAEV,GAAE,WAAWI,GAAE,YAAY,YAAY,CAAC;AAAE,UAAAM,OAAIA,KAAEV,GAAE,WAAWI,GAAE,YAAY,YAAY,CAAC,IAAGC,KAAED,GAAE,aAAYK,KAAE,KAAK,cAAcL,IAAEM,EAAC,GAAE,OAAKL,OAAID,GAAE,aAAWA,GAAE,UAAU,SAAO,KAAGC,MAAE,KAAAD,GAAE,UAAU,CAAC,MAAb,mBAAgB,MAAKK,MAAE,KAAAL,GAAE,UAAU,CAAC,MAAb,mBAAgB,SAAOC,KAAED,GAAE,cAAaK,KAAET,GAAE,WAAWO,EAAC;AAAA,QAAG;AAAM,UAAAE,KAAE,KAAK,aAAaL,GAAE,QAAOG,IAAEE,EAAC,GAAE,YAAU,OAAOA,OAAIA,KAAE,KAAK,qBAAqBA,IAAEL,EAAC;AAAA;AAAQ,QAAAK,KAAE,KAAK,aAAaL,GAAE,QAAOG,IAAEE,EAAC,GAAE,YAAU,OAAOA,OAAIA,KAAE,KAAK,qBAAqBA,IAAEL,EAAC;AAAA,IAAE;AAAC,WAAM,EAAC,OAAMC,IAAE,OAAMI,KAAEA,GAAE,SAAS,IAAE,GAAE;AAAA,EAAC;AAAA,EAAC,cAAcT,IAAEI,IAAE;AAAC,QAAIC,KAAED;AAAE,QAAG,uBAAqBJ,GAAE,MAAK;AAAC,YAAMS,KAAE,KAAK,oBAAoBT,IAAE,UAAU;AAAE,OAAAS,MAAA,gBAAAA,GAAG,UAAO,KAAGA,GAAE,QAAS,CAAAT,OAAG;AAAC,QAAAA,GAAE,SAAOI,OAAIC,KAAEL,GAAE;AAAA,MAAK,CAAE;AAAA,IAAC,WAAS,QAAMA,GAAE,SAAOA,GAAE,MAAM,SAAO,GAAE;AAAC,YAAMS,KAAET,GAAE,MAAM,OAAQ,CAAAA,OAAGA,GAAE,OAAKI,EAAE;AAAE,MAAAK,GAAE,SAAO,MAAIJ,KAAEI,GAAE,CAAC,EAAE;AAAA,IAAK;AAAC,WAAOJ;AAAA,EAAC;AAAA,EAAC,aAAaL,IAAEI,IAAEC,IAAE;AAJh6nB;AAIi6nB,QAAII,KAAEJ;AAAE,UAAME,KAAEP,GAAE,OAAQ,CAAAA,OAAGA,GAAE,KAAK,YAAY,MAAII,GAAE,YAAY,CAAE;AAAE,QAAGG,GAAE,SAAO,KAAG,EAAEA,GAAE,CAAC,EAAE,MAAM,OAAG,KAAAA,GAAE,CAAC,EAAE,WAAL,mBAAa,cAAY;AAAC,YAAMP,KAAEO,GAAE,CAAC,EAAE,OAAO,YAAY,OAAQ,CAAC,EAAC,MAAKP,GAAC,MAAIA,OAAIK,EAAE;AAAE,MAAAL,GAAE,SAAO,MAAIS,KAAET,GAAE,CAAC,EAAE;AAAA,IAAK;AAAC,WAAOS;AAAA,EAAC;AAAA,EAAC,oBAAoBT,IAAEI,IAAE;AAJvpoB;AAIwpoB,aAAO,KAAAJ,GAAE,WAAF,mBAAWI,QAAI;AAAA,EAAI;AAAA,EAAC,qBAAqBJ,IAAEI,IAAE;AAJ5soB;AAI6soB,WAAOJ,GAAE,KAAK,IAAEA,KAAEI,GAAE,eAAW,KAAAA,GAAE,cAAF,mBAAa,UAAO,IAAEA,GAAE,UAAU,CAAC,EAAE,OAAKA,GAAE;AAAA,EAAK;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,KAAK;AAAA,EAAS;AAAA,EAAC,SAASJ,IAAEI,IAAE;AAAC,WAAOJ,GAAE,OAAQ,CAACA,IAAEK,SAAML,GAAEK,GAAED,EAAC,CAAC,IAAEJ,GAAEK,GAAED,EAAC,CAAC,KAAG,CAAC,GAAG,KAAKC,EAAC,GAAEL,KAAI,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,iBAAiBA,IAAE;AAJ96oB;AAI+6oB,QAAG,QAAMA,GAAE;AAAS,aAAM,CAAC;AAAE,UAAMI,KAAE,MAAM,KAAK,KAAK,QAAQJ,GAAE,aAAY,EAAC,SAAQ,KAAK,eAAc,CAAC,GAAEK,KAAE,CAAC;AAAE,QAAGD,GAAE,QAAQ,SAAO,GAAE;AAAC,YAAMK,KAAEL,GAAE,QAAQ,KAAM,CAAAJ,OAAG,SAAOA,GAAE,KAAM;AAAE,UAAG,UAAM,KAAAS,GAAE,YAAF,mBAAW;AAAS,YAAG,eAAaA,GAAE,QAAQ,SAAS,MAAK;AAAC,gBAAML,KAAE,KAAK,iBAAiB,mBAAmBK,GAAE,QAAQ,UAAST,GAAE,UAASS,GAAE,QAAQ,SAAS,gBAAgB,GAAEF,KAAE,KAAK,iBAAiBE,GAAE,OAAO;AAAE,UAAAA,GAAE,QAAQ,aAAW,MAAKA,GAAE,QAAQ,kBAAgB,OAAGA,GAAE,QAAQ,eAAa,MAAKA,GAAE,QAAQ,oBAAkB,MAAKA,GAAE,QAAQ,eAAaL,IAAEK,GAAE,QAAQ,eAAaF,IAAEE,GAAE,QAAQ,WAASA,GAAE,UAASJ,GAAE,KAAKI,EAAC;AAAA,QAAC,YAAU,YAAUA,GAAE,QAAQ,SAAS,QAAM,cAAYA,GAAE,QAAQ,SAAS,SAAO,SAAO,KAAK,gBAAe;AAAC,gBAAMT,MAAE,UAAK,mBAAL,mBAAqB,yBAAyBS,GAAE,UAASL,KAAE,KAAK,iBAAiBK,GAAE,OAAO;AAAE,UAAAA,GAAE,QAAQ,aAAWT,KAAEA,GAAE,UAAU,CAAC,EAAE,MAAI,OAAK,GAAES,GAAE,QAAQ,kBAAgB,OAAGA,GAAE,QAAQ,eAAaT,MAAG,MAAKS,GAAE,QAAQ,oBAAkB,CAACT,KAAEA,GAAE,UAAU,CAAC,EAAE,MAAI,OAAK,CAAC,GAAES,GAAE,QAAQ,eAAa,MAAKA,GAAE,QAAQ,eAAaL,IAAEK,GAAE,QAAQ,WAASA,GAAE,UAASJ,GAAE,KAAKI,EAAC;AAAA,QAAC;AAAA;AAAA,IAAC;AAAC,WAAOJ;AAAA,EAAC;AAAA,EAAC,MAAM,qBAAoB;AAJtgrB;AAIugrB,UAAML,MAAE,UAAK,SAAL,mBAAW,KAAII,KAAE,KAAK,gBAAgB;AAAE,IAAAJ,MAAA,gBAAAA,GAAG,OAAO,QAAS,CAAAA,OAAG;AAAC,kBAAUA,GAAE,OAAKA,GAAE,OAAO,QAAS,CAAAA,OAAG;AAAC,QAAAI,GAAE,KAAM,CAAAA,OAAGA,GAAE,YAAUJ,GAAE,OAAQ,KAAGA,GAAE,OAAO,KAAM,CAAAA,QAAG,iBAAeA,IAAE,KAAK,YAAY,CAAE,MAAIA,GAAE,YAAU,CAAC,cAAa,aAAY,YAAW,UAAU;AAAA,MAAE,CAAE,IAAEI,GAAE,KAAM,CAAAA,OAAGA,GAAE,YAAUJ,GAAE,OAAQ,KAAGA,GAAE,OAAO,KAAM,CAAAA,OAAG,iBAAeA,GAAE,KAAK,YAAY,CAAE,MAAIA,GAAE,YAAU,CAAC,cAAa,aAAY,YAAW,UAAU;AAAA,IAAE;AAAA,EAAG;AAAA,EAAC,eAAeA,IAAE;AAJp8rB;AAIq8rB,eAAK,iBAAiB,CAAC,MAAvB,mBAA0B,OAAOA,GAAE;AAAA,EAAW;AAAA,EAAC,oBAAoBA,IAAE;AAAC,UAAK,EAAC,KAAII,GAAC,IAAE,KAAK;AAAK,QAAG,CAACA,GAAE,cAAcJ,EAAC,GAAE;AAAC,YAAMK,KAAE,IAAIW,GAAE,EAAC,OAAMhB,IAAE,UAAS,QAAO,IAAGA,GAAC,CAAC;AAAE,MAAAI,GAAE,IAAIC,EAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBL,IAAE;AAAC,UAAK,EAAC,KAAII,GAAC,IAAE,KAAK;AAAK,QAAGA,IAAE;AAAC,YAAMC,KAAED,GAAE,cAAcJ,EAAC;AAAE,UAAGK,MAAGH,GAAEG,EAAC;AAAE,eAAOA;AAAA,IAAC;AAAC,WAAO;AAAA,EAAI;AAAC;AAAE,EAAE,CAAC,EAAE,CAAC,GAAEC,GAAE,WAAU,mBAAkB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,UAAS,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,UAAS,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,uBAAsB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,oBAAmB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,SAAQ,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,cAAa,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,YAAW,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,iBAAgB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,wBAAuB,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,kBAAiB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,oBAAmB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,0BAAyB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,2BAA0B,MAAM,GAAE,EAAE,CAAC,EAAE,EAAC,UAAS,KAAE,CAAC,CAAC,GAAEA,GAAE,WAAU,SAAQ,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,gBAAe,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,kBAAiB,MAAM,GAAE,EAAE,CAAC,EAAE,EAAC,OAAM,KAAI,CAAC,CAAC,GAAEA,GAAE,WAAU,QAAO,IAAI,GAAEA,KAAE,EAAE,CAAC,EAAE,+DAA+D,CAAC,GAAEA,EAAC;AAAE,IAAMW,KAAEX;;;ACA3ssB,IAAMY,KAAE;AAAR,IAAqC,IAAE,EAAC,MAAKA,IAAE,iBAAgB,GAAGA,EAAC,sBAAqB,QAAO,GAAGA,EAAC,YAAW,QAAO,GAAGA,EAAC,aAAY,oBAAmB,GAAGA,EAAC,0BAAyB,iBAAgB,GAAGA,EAAC,sBAAqB,eAAc,GAAGA,EAAC,oBAAmB,kBAAiB,GAAGA,EAAC,uBAAsB,MAAK,GAAGA,EAAC,UAAS,aAAY,GAAGA,EAAC,kBAAiB,aAAY,GAAGA,EAAC,kBAAiB,eAAc,GAAGA,EAAC,aAAY,YAAW,GAAGA,EAAC,WAAU;AAAE,SAAS,EAAEC,IAAE;AAAC,SAAM,EAAC,QAAOA,KAAE,KAAI;AAAC;AAAC,SAAS,EAAEA,IAAE;AAAC,SAAM,EAAC,OAAMA,KAAE,KAAI;AAAC;AAAC,SAASC,KAAG;AAAC,SAAM,EAAC,OAAM,MAAK;AAAC;AAAC,SAASC,KAAG;AAAC,SAAM,EAAC,WAAU,UAAS,SAAQ,OAAM;AAAC;AAAC,SAASC,GAAEH,IAAE;AAAC,SAAM,EAAC,OAAM,QAAO,QAAO,OAAO,iBAAiBA,EAAC,EAAE,iBAAiB,YAAY,EAAC;AAAC;AAAC,SAASI,KAAG;AAAC,SAAM,EAAC,QAAO,OAAM;AAAC;AAAC,SAASC,GAAEL,IAAE;AAAC,SAAM,EAAC,SAAQ,QAAO,eAAcA,GAAC;AAAC;AAAC,SAASM,GAAEN,IAAE;AAAC,SAAOA,cAAa;AAAC;AAAC,IAAMO,KAAE,EAAC,aAAY,YAAW;AAAE,IAAI,IAAE,cAAc,EAAC;AAAA,EAAC,YAAYP,IAAEQ,IAAE;AAAC,UAAMR,IAAEQ,EAAC,GAAE,KAAK,oBAAkB,OAAG,KAAK,eAAa,MAAK,KAAK,gBAAc,IAAG,KAAK,sBAAoB,IAAG,KAAK,oBAAkB,IAAG,KAAK,mBAAiB,IAAG,KAAK,yBAAuB,CAAC,GAAE,KAAK,0BAAwB,CAAC,GAAE,KAAK,yBAAuB,CAAC,GAAE,KAAK,0BAAwB,CAAC,GAAE,KAAK,4BAA0B,OAAG,KAAK,6BAA2B,OAAG,KAAK,4BAA0B,OAAG,KAAK,yBAAuB,OAAG,KAAK,aAAW,SAAQ,KAAK,gBAAc,kBAAiB,KAAK,oBAAkB,OAAG,KAAK,iBAAe,OAAG,KAAK,0BAAwB,OAAG,KAAK,4BAA0B,OAAG,KAAK,8BAA4B,OAAG,KAAK,qBAAmB,OAAG,KAAK,gBAAc,OAAG,KAAK,qBAAmB,OAAG,KAAK,uBAAqB,YAAW,KAAK,sBAAoB,YAAW,KAAK,mBAAiB,YAAW,KAAK,mBAAiB,QAAO,KAAK,cAAY,MAAK,KAAK,wBAAsB,MAAK,KAAK,mBAAiB,MAAK,KAAK,iBAAe,MAAK,KAAK,gBAAc,MAAK,KAAK,eAAa,MAAG,KAAK,gBAAc,IAAG,KAAK,WAAS,MAAG,KAAK,gBAAc,CAAC,GAAE,KAAK,WAAS,MAAK,KAAK,iBAAe,MAAK,KAAK,gBAAc,MAAK,KAAK,YAAU,IAAIC,MAAE,KAAK,wBAAsB,KAAK,sBAAsB,KAAK,IAAI;AAAA,EAAC;AAAA,EAAC,aAAY;AAAC,SAAK,gCAAgC,GAAE,KAAK,WAAW,EAAG,MAAE;AAJnhG;AAIqhG,wBAAK,cAAL,mBAAgB;AAAA,OAAuB,MAAI,KAAK,eAAe,CAAE,CAAC;AAAA,EAAC;AAAA,EAAC,IAAI,sBAAqB;AAAC,WAAO,KAAK,UAAU;AAAA,EAAmB;AAAA,EAAC,IAAI,oBAAoBT,IAAE;AAAC,SAAK,UAAU,sBAAoBA;AAAA,EAAC;AAAA,EAAC,IAAI,QAAO;AAAC,WAAO,KAAK,UAAU;AAAA,EAAK;AAAA,EAAC,IAAI,MAAMA,IAAE;AAAC,SAAK,UAAU,QAAMA;AAAA,EAAC;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,KAAK,UAAU;AAAA,EAAU;AAAA,EAAC,IAAI,WAAWA,IAAE;AAAC,SAAK,UAAU,aAAWA;AAAA,EAAC;AAAA,EAAC,IAAI,OAAM;AAAC,WAAM;AAAA,EAAuB;AAAA,EAAC,IAAI,KAAKA,IAAE;AAAC,SAAK,gBAAgB,QAAOA,EAAC;AAAA,EAAC;AAAA,EAAC,IAAI,QAAO;AAJx+G;AAIy+G,aAAO,UAAK,aAAL,mBAAe,gBAAa;AAAA,EAAE;AAAA,EAAC,IAAI,MAAMA,IAAE;AAAC,SAAK,gBAAgB,SAAQA,EAAC;AAAA,EAAC;AAAA,EAAC,IAAI,uBAAsB;AAAC,WAAO,KAAK,UAAU;AAAA,EAAoB;AAAA,EAAC,IAAI,qBAAqBA,IAAE;AAAC,SAAK,UAAU,uBAAqBA;AAAA,EAAC;AAAA,EAAC,IAAI,iBAAgB;AAAC,WAAO,KAAK,UAAU;AAAA,EAAc;AAAA,EAAC,IAAI,eAAeA,IAAE;AAAC,SAAK,UAAU,iBAAeA;AAAA,EAAC;AAAA,EAAC,IAAI,mBAAkB;AAAC,WAAO,KAAK,UAAU;AAAA,EAAgB;AAAA,EAAC,IAAI,iBAAiBA,IAAE;AAAC,SAAK,UAAU,mBAAiBA;AAAA,EAAC;AAAA,EAAC,IAAI,yBAAwB;AAAC,WAAO,KAAK,UAAU;AAAA,EAAsB;AAAA,EAAC,IAAI,uBAAuBA,IAAE;AAAC,SAAK,UAAU,yBAAuBA;AAAA,EAAC;AAAA,EAAC,IAAI,mBAAkB;AAAC,WAAO,KAAK,UAAU;AAAA,EAAgB;AAAA,EAAC,IAAI,iBAAiBA,IAAE;AAAC,SAAK,UAAU,mBAAiBA;AAAA,EAAC;AAAA,EAAC,IAAI,0BAAyB;AAAC,WAAO,KAAK,UAAU;AAAA,EAAuB;AAAA,EAAC,IAAI,wBAAwBA,IAAE;AAAC,SAAK,UAAU,0BAAwBA;AAAA,EAAC;AAAA,EAAC,IAAI,iBAAgB;AAAC,WAAO,KAAK,UAAU;AAAA,EAAc;AAAA,EAAC,IAAI,eAAeA,IAAE;AAAC,SAAK,UAAU,iBAAeA;AAAA,EAAC;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK,UAAU;AAAA,EAAI;AAAA,EAAC,IAAI,KAAKA,IAAE;AAAC,SAAK,UAAU,OAAKA;AAAA,EAAC;AAAA,EAAC,MAAM,gBAAe;AAAC,SAAK,gBAAc;AAAG,UAAMA,KAAE,KAAK,UAAU,cAAc;AAAE,IAAAA,GAAE,UAAQ,KAAK,iBAAe,OAAG,KAAK,0BAAwB,OAAG,KAAK,0BAAwB,OAAG,KAAK,qBAAmB,OAAG,KAAK,4BAA0B,OAAG,KAAK,6BAA2B,OAAG,KAAK,4BAA0B,OAAG,KAAK,yBAAuB,OAAG,KAAK,UAAU,QAAQ,GAAE,KAAK,UAAU,kBAAgB,MAAG,KAAK,UAAU,4BAA4B,GAAE,MAAM,KAAK,UAAU,UAAU,GAAE,KAAK,UAAU,kBAAgB,SAAIA,GAAE,OAAO,QAAS,CAAAA,OAAG;AAAC,cAAOA,IAAE;AAAA,QAAC,KAAI;AAAU,eAAK,iBAAe;AAAG;AAAA,QAAM,KAAI;AAAqB,eAAK,qBAAmB;AAAG;AAAA,QAAM;AAAQ,eAAK,0BAAwB;AAAA,MAAE;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,eAAc;AAAC,SAAK,gBAAc;AAAA,EAAE;AAAA,EAAC,SAAQ;AAAC,UAAK,EAAC,OAAMA,GAAC,IAAE,KAAK;AAAU,SAAK,kBAAkB,GAAE,KAAK,oBAAoB;AAAE,UAAMQ,KAAE,cAAYR,KAAE,KAAK,sBAAsB,iBAAgB,KAAE,IAAE,KAAK,2BAA2B;AAAE,WAAOU,GAAE,OAAM,EAAC,OAAM,KAAK,QAAQ,EAAE,MAAKV,GAAE,QAAOA,GAAE,OAAM,EAAC,CAACA,GAAE,cAAc,GAAE,KAAK,SAAQ,CAAC,GAAE,QAAOI,GAAE,EAAC,GAAEI,EAAC;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,WAAO,EAAE,EAAC,QAAO,MAAI,OAAO,8BAA4D,GAAE,gBAAe,MAAI,OAAO,oCAAkE,GAAE,cAAa,MAAI,OAAO,kCAAgE,GAAE,OAAM,MAAI,OAAO,6BAA2D,GAAE,iBAAgB,MAAI,OAAO,qCAAmE,GAAE,QAAO,MAAI,OAAO,8BAA4D,GAAE,UAAS,MAAI,OAAO,gCAA8D,GAAE,uBAAsB,MAAI,OAAO,2CAAyE,GAAE,UAAS,MAAI,OAAO,gCAA8D,GAAE,iBAAgB,MAAI,OAAO,qCAAmE,GAAE,MAAK,MAAI,OAAO,4BAA0D,GAAE,aAAY,MAAI,OAAO,iCAA+D,GAAE,MAAK,MAAI,OAAO,4BAA0D,GAAE,gBAAe,MAAI,OAAO,oCAAkE,GAAE,OAAM,MAAI,OAAO,6BAA2D,GAAE,MAAK,MAAI,OAAO,4BAA0D,GAAE,aAAY,MAAI,OAAO,iCAA+D,GAAE,QAAO,MAAI,OAAO,8BAA4D,GAAE,QAAO,MAAI,OAAO,8BAA4D,GAAE,QAAO,MAAI,OAAO,8BAA4D,GAAE,OAAM,MAAI,OAAO,6BAA2D,GAAE,SAAQ,MAAI,OAAO,+BAA6D,GAAE,OAAM,MAAI,OAAO,6BAA2D,GAAE,QAAO,MAAI,OAAO,8BAA4D,GAAE,KAAI,MAAI,OAAO,2BAAyD,GAAE,WAAU,MAAI,OAAO,+BAA6D,GAAE,aAAY,MAAI,OAAO,iCAA+D,GAAE,MAAK,MAAI,OAAO,4BAA0D,GAAE,SAAQ,MAAI,OAAO,+BAA6D,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,UAAUR,IAAE;AAAC,SAAK,aAAWA;AAAA,EAAC;AAAA,EAAC,kBAAkBA,IAAEQ,IAAE;AAAC,SAAK,yBAAuBR,IAAE,KAAK,4BAA0BQ;AAAA,EAAC;AAAA,EAAC,mBAAmBR,IAAEQ,IAAEG,IAAE;AAAC,SAAK,sBAAoBH,IAAE,KAAK,0BAAwBR,IAAE,KAAK,6BAA2BW;AAAA,EAAC;AAAA,EAAC,kBAAkBX,IAAEQ,IAAEG,IAAE;AAAC,SAAK,oBAAkBH,IAAE,KAAK,yBAAuBR,IAAE,KAAK,4BAA0BW;AAAA,EAAC;AAAA,EAAC,0BAA0BX,IAAEQ,IAAEG,IAAE;AAAC,SAAK,mBAAiBH,IAAE,KAAK,0BAAwBR,IAAE,KAAK,yBAAuBW;AAAA,EAAC;AAAA,EAAC,6BAA4B;AAAC,UAAK,EAAC,UAASX,IAAE,gBAAeQ,GAAC,IAAE;AAAK,QAAIG,KAAED,GAAE,gBAAe,EAAC,QAAO,UAAS,UAAS,OAAM,QAAOP,GAAE,KAAK,SAAS,EAAC,GAAEO,GAAE,mBAAkB,EAAC,MAAK,cAAa,GAAEA,GAAE,qBAAoB,EAAC,SAAQ,MAAI;AAAC,WAAK,UAAU,OAAO;AAAA,IAAC,GAAE,UAAS,YAAU,KAAK,WAAU,GAAEV,GAAE,cAAc,eAAe,GAAEU,GAAE,qBAAoB,EAAC,SAAQ,MAAI;AAAC,WAAK,UAAU,QAAQ;AAAA,IAAC,GAAE,UAAS,aAAW,KAAK,WAAU,GAAEV,GAAE,eAAe,gBAAgB,CAAC,GAAEU,GAAE,eAAc,EAAC,UAAS,YAAU,KAAK,WAAU,GAAE,KAAK,kBAAkB,CAAC,GAAEA,GAAE,eAAc,EAAC,UAAS,aAAW,KAAK,WAAU,GAAE,KAAK,UAAU,kBAAgBA,GAAE,kBAAiB,EAAC,OAAMV,GAAE,cAAc,gBAAe,MAAKA,GAAE,cAAc,gBAAe,MAAK,gBAAe,CAAC,IAAE,KAAK,UAAU,aAAa,SAAO,IAAE,KAAK,mBAAmB,IAAE,KAAK,sBAAsB,mBAAkB,KAAE,GAAE,KAAK,gBAAcU,GAAE,iBAAgB,EAAC,KAAI,SAAQ,GAAEA,GAAE,OAAM,EAAC,OAAM,EAAE,YAAW,GAAEA,GAAE,MAAK,EAAC,MAAK,SAAQ,GAAEV,GAAE,eAAe,eAAe,GAAEU,GAAE,OAAM,EAAC,MAAK,UAAS,GAAEV,GAAE,eAAe,mBAAmB,GAAEU,GAAE,OAAM,EAAC,OAAM,EAAE,cAAa,CAAC,GAAEA,GAAE,OAAM,EAAC,QAAOL,GAAE,KAAK,EAAC,GAAEK,GAAE,kBAAiB,EAAC,YAAW,WAAU,SAAQ,MAAI;AAAC,WAAK,gBAAc;AAAA,IAAE,GAAE,MAAK,aAAY,OAAM,OAAM,GAAEF,GAAE,MAAM,GAAEE,GAAE,kBAAiB,EAAC,SAAQ,MAAI;AAAC,WAAK,gBAAc,OAAG,KAAK,UAAU,MAAM,GAAE,KAAK,UAAU,OAAO;AAAA,IAAC,GAAE,MAAK,WAAU,OAAM,OAAM,GAAEF,GAAE,KAAK,EAAE,CAAC,CAAC,CAAC,IAAE,IAAI,CAAC;AAAE,WAAO,MAAI,KAAK,UAAU,OAAO,WAASG,KAAED,GAAE,iBAAgB,MAAK,KAAK,sBAAsB,iBAAgB,KAAE,CAAC,IAAG,KAAK,iBAAeC,KAAED,GAAE,iBAAgB,MAAK,KAAK,sBAAsB,eAAc,OAAG,KAAK,aAAa,CAAC,IAAGC;AAAA,EAAC;AAAA,EAAC,oBAAmB;AAAC,UAAK,EAAC,UAASX,GAAC,IAAE;AAAK,WAAOU,GAAE,gBAAe,EAAC,OAAM,EAAE,KAAI,GAAEA,GAAE,qBAAoB,MAAK,KAAK,iBAAe,KAAK,sBAAsB,QAAO,IAAE,IAAE,MAAK,KAAK,qBAAmB,KAAK,sBAAsB,cAAa,IAAE,IAAE,MAAK,KAAK,0BAAwB,KAAK,sBAAsB,SAAQ,IAAE,IAAE,MAAK,KAAK,8BAA8B,GAAE,KAAK,2BAA2B,GAAE,KAAK,8BAA8B,GAAE,KAAK,kBAAgB,KAAK,0BAAwBA,GAAE,OAAM,EAAC,QAAO,EAAE,EAAE,EAAC,CAAC,IAAE,MAAKA,GAAE,kBAAiB,EAAC,MAAK,SAAQ,SAAQ,MAAI;AAAC,WAAK,cAAc;AAAA,IAAC,GAAE,MAAK,UAAS,OAAM,OAAM,GAAEV,GAAE,eAAe,QAAQ,CAAC,GAAE,KAAK,oBAAkB,KAAK,kBAAkB,IAAE,IAAI;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,WAAOU,GAAE,gBAAe,EAAC,QAAON,GAAE,EAAC,GAAE,KAAK,oBAAoB,GAAE,KAAK,4BAA0B,KAAK,4BAA4B,IAAE,MAAK,KAAK,6BAA2B,KAAK,+BAA+B,IAAE,MAAK,KAAK,4BAA0B,KAAK,8BAA8B,IAAE,MAAK,KAAK,yBAAuB,KAAK,6BAA6B,IAAE,MAAK,KAAK,yBAAuB,KAAK,oCAAoC,IAAE,IAAI;AAAA,EAAC;AAAA,EAAC,6BAA4B;AAAC,UAAK,EAAC,UAASJ,GAAC,IAAE,MAAKQ,KAAE,CAAC;AAAE,QAAIG,KAAE,CAAC;AAAE,IAAAA,KAAE,KAAK,UAAU,OAAO,OAAQ,CAAAX,OAAG,qBAAmBA,GAAE,IAAK,GAAEW,GAAE,QAAS,CAAAX,OAAG;AAAC,MAAAA,GAAE,gBAAcQ,GAAE,KAAK,KAAK,eAAeR,IAAE,OAAO,CAAC;AAAA,IAAC,CAAE;AAAE,QAAIY,KAAE;AAAK,WAAO,KAAK,qBAAmBA,KAAE,KAAK,eAAe,KAAK,gBAAgB,IAAGF,GAAE,iBAAgB,EAAC,aAAY,MAAG,SAAQV,GAAE,cAAc,sBAAoB,OAAKW,GAAE,SAAO,KAAI,MAAK,MAAG,oBAAmB,QAAO,GAAED,GAAE,OAAM,EAAC,MAAK,OAAM,GAAEE,MAAGF,GAAE,gBAAe,EAAC,MAAK,OAAM,OAAM,IAAG,CAAC,CAAC,GAAEA,GAAE,OAAM,MAAKV,GAAE,cAAc,iBAAiB,GAAEU,GAAE,OAAM,EAAC,OAAM,EAAE,cAAa,GAAEF,EAAC,GAAE,KAAK,4BAA0B,KAAK,sBAAsB,gBAAe,IAAE,IAAE,MAAKE,GAAE,OAAM,EAAC,OAAM,EAAE,mBAAkB,GAAEA,GAAE,kBAAiB,EAAC,WAAU,UAAS,YAAW,WAAU,MAAK,IAAG,WAAU,QAAO,OAAMV,GAAE,cAAc,gBAAe,SAAQ,MAAI;AAAC,WAAK,cAAc,WAAW,GAAE,KAAK,gBAAc,kBAAiB,KAAK,oBAAkB,MAAG,KAAK,4BAA0B,OAAG,KAAK,UAAU,aAAa,kBAAiB,KAAK,gBAAgB,EAAE,KAAM,CAAAA,OAAG;AAAC,aAAK,cAAc,SAAS,GAAEA,KAAE,KAAK,iBAAe,QAAG,KAAK,4BAA0B,MAAG,KAAK,oBAAkB;AAAA,MAAE,CAAE;AAAA,IAAC,GAAE,OAAM,KAAE,CAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,gCAA+B;AAAC,UAAK,EAAC,UAASA,GAAC,IAAE,MAAKQ,KAAE,CAAC;AAAE,QAAIG,KAAE,CAAC;AAAE,IAAAA,KAAE,KAAK,UAAU,OAAO,OAAQ,CAAAX,OAAG,cAAYA,GAAE,IAAK,GAAEW,GAAE,QAAS,CAAAX,OAAG;AAAC,MAAAA,GAAE,gBAAcQ,GAAE,KAAK,KAAK,eAAeR,IAAE,SAAS,CAAC;AAAA,IAAC,CAAE;AAAE,QAAIY,KAAE;AAAK,WAAO,KAAK,mBAAiBA,KAAE,KAAK,eAAe,KAAK,cAAc,IAAGF,GAAE,iBAAgB,EAAC,aAAY,MAAG,SAAQV,GAAE,cAAc,gBAAc,OAAKW,GAAE,SAAO,KAAI,MAAK,OAAG,oBAAmB,QAAO,GAAED,GAAE,OAAM,EAAC,MAAK,OAAM,GAAEE,MAAGF,GAAE,gBAAe,EAAC,MAAK,cAAa,OAAM,IAAG,CAAC,CAAC,GAAEA,GAAE,OAAM,MAAKV,GAAE,cAAc,gBAAgB,GAAEU,GAAE,OAAM,EAAC,OAAM,EAAE,cAAa,GAAEF,EAAC,GAAE,KAAK,8BAA4B,KAAK,sBAAsB,kBAAiB,IAAE,IAAE,MAAKE,GAAE,OAAM,EAAC,OAAM,EAAE,mBAAkB,GAAEA,GAAE,kBAAiB,EAAC,WAAU,UAAS,YAAW,WAAU,MAAK,IAAG,WAAU,QAAO,MAAK,SAAQ,OAAMV,GAAE,cAAc,gBAAe,SAAQ,MAAI;AAAC,WAAK,cAAc,WAAW,GAAE,KAAK,gBAAc,WAAU,KAAK,oBAAkB,MAAG,KAAK,8BAA4B,OAAG,KAAK,UAAU,aAAa,WAAU,KAAK,cAAc,EAAE,KAAM,CAAAA,OAAG;AAAC,aAAK,cAAc,SAAS,GAAEA,OAAI,KAAK,8BAA4B,OAAI,KAAK,oBAAkB;AAAA,MAAE,CAAE;AAAA,IAAC,GAAE,OAAM,KAAE,CAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,eAAeA,IAAEQ,IAAE;AAJh0a;AAIi0a,UAAK,EAAC,UAASG,IAAE,gBAAeC,GAAC,IAAE,MAAKC,KAAE,CAAC;AAAE,QAAIC,KAAE;AAAG,WAAO,QAAMd,GAAE,gBAAcA,GAAE,aAAa,UAAU,SAAO,MAAIc,KAAE,MAAGd,GAAE,aAAa,UAAU,QAAS,CAAAQ,OAAG;AAJl+a,UAAAO;AAIm+a,UAAIJ,KAAE;AAAG,QAAAI,MAAAf,MAAA,gBAAAA,GAAG,sBAAH,gBAAAe,IAAsB,SAASP,GAAE,SAAMG,KAAE,OAAIE,GAAE,KAAKH,GAAE,yBAAwB,EAAC,KAAIF,GAAE,MAAK,UAASG,IAAE,WAAUH,GAAE,MAAK,OAAMA,GAAE,GAAE,CAAC,CAAC;AAAA,IAAC,CAAE,IAAGE,GAAE,iBAAgB,EAAC,aAAY,SAAOV,GAAE,gBAAc,cAAYA,GAAE,MAAK,WAAQ,KAAAA,GAAE,iBAAF,mBAAgB,UAAO,IAAG,KAAI,QAAMA,GAAE,WAASA,GAAE,OAAKA,GAAE,KAAGQ,IAAE,oBAAmB,QAAO,GAAEE,GAAE,kBAAiB,EAAC,MAAK,SAAQ,OAAME,GAAE,QAAO,SAAQ,MAAI;AAAC,WAAK,UAAU,WAAWZ,EAAC;AAAA,IAAC,GAAE,OAAM,KAAI,MAAK,uBAAsB,MAAKY,GAAE,QAAO,aAAY,KAAE,CAAC,GAAEF,GAAE,kBAAiB,EAAC,MAAK,kBAAiB,OAAMC,GAAE,cAAc,eAAc,SAAQ,MAAI;AAAC,WAAK,UAAU,YAAYX,GAAE,QAAQ,QAAQ;AAAA,IAAC,GAAE,OAAM,KAAI,MAAK,uBAAsB,MAAKW,GAAE,cAAc,eAAc,aAAY,KAAE,CAAC,GAAE,cAAYX,GAAE,OAAKU,GAAE,iBAAgB,EAAC,QAAO,UAAS,OAAM,IAAG,GAAEA,GAAE,oBAAmB,EAAC,SAAQV,GAAE,iBAAgB,SAAQ,MAAI;AAAC,WAAK,UAAU,oBAAoB,CAACA,GAAE,iBAAgBA,EAAC;AAAA,IAAC,GAAE,OAAM,IAAG,CAAC,GAAEW,GAAE,cAAc,aAAa,IAAE,MAAKG,KAAEJ,GAAE,oBAAmB,EAAC,OAAMC,GAAE,cAAc,2BAA0B,UAAS,GAAE,aAAYA,GAAE,cAAc,2BAA0B,OAAM,KAAI,eAAc,YAAW,yBAAwB,CAAAH,OAAG;AAAC,MAAAA,GAAE,OAAO,cAAc,SAAO,KAAGR,GAAE,oBAAkB,CAAC,GAAEQ,GAAE,OAAO,cAAc,QAAS,CAAAA,OAAG;AAAC,aAAK,UAAU,YAAYA,GAAE,OAAMR,EAAC;AAAA,MAAC,CAAE,KAAGA,GAAE,oBAAkB,CAAC;AAAA,IAAC,GAAE,4BAA2B,CAAAQ,OAAG;AAAC,MAAAA,GAAE,eAAe,GAAE,KAAK,UAAU,eAAeA,GAAE,OAAO,OAAMR,EAAC;AAAA,IAAC,EAAC,GAAEa,EAAC,IAAE,IAAI;AAAA,EAAC;AAAA,EAAC,oBAAmB;AAAC,UAAK,EAAC,UAASb,GAAC,IAAE;AAAK,QAAIQ,KAAE;AAAK,WAAM,qBAAmB,KAAK,gBAAc,KAAK,qBAAmBA,KAAE,KAAK,eAAe,KAAK,gBAAgB,KAAG,KAAK,mBAAiBA,KAAE,KAAK,eAAe,KAAK,cAAc,IAAGE,GAAE,qBAAoB,EAAC,SAAQV,GAAE,cAAc,gBAAe,uBAAsB,MAAI;AAJ9pe;AAI+pe,WAAK,UAAU,kBAAgB,KAAK,UAAU,cAAc,OAAO,KAAE,UAAK,SAAL,mBAAW,WAAQ,KAAK,KAAK,eAAa,QAAK,KAAK,oBAAkB;AAAA,IAAE,EAAC,GAAEU,GAAE,iBAAgB,EAAC,aAAY,OAAG,SAAQ,IAAG,MAAK,MAAG,oBAAmB,QAAO,GAAEA,GAAE,OAAM,EAAC,QAAOR,GAAE,EAAC,GAAEM,MAAGE,GAAE,gBAAe,EAAC,MAAK,qBAAmB,KAAK,gBAAc,aAAW,aAAY,CAAC,CAAC,GAAEA,GAAE,OAAM,EAAC,QAAOR,GAAE,EAAC,GAAEF,GAAE,cAAc,YAAY,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,gCAA+B;AAAC,UAAK,EAAC,UAASA,GAAC,IAAE,MAAKQ,KAAE,CAAC;AAAE,QAAIG,KAAEX,GAAE,eAAe,gBAAeY,KAAE;AAAE,WAAO,KAAK,UAAU,OAAO,SAAO,KAAG,KAAK,UAAU,OAAO,QAAS,CAAAZ,OAAG;AAAC,MAAAQ,GAAE,KAAKE,GAAE,yBAAwB,EAAC,KAAIV,GAAE,UAAS,UAASA,GAAE,UAAS,WAAUA,GAAE,OAAM,OAAMA,GAAE,UAAS,6BAA4B,CAAAA,OAAG;AAAC,cAAMQ,KAAER,GAAE;AAAO,aAAK,UAAU,aAAaQ,GAAE,UAASA,GAAE,KAAK,GAAE,KAAK,UAAU,OAAO,SAAO,MAAI,KAAK,0BAAwB;AAAA,MAAG,EAAC,CAAC,CAAC,GAAER,GAAE,YAAUY;AAAA,IAAG,CAAE,GAAED,MAAG,KAAKC,EAAC,KAAIF,GAAE,iBAAgB,EAAC,aAAY,MAAG,SAAQC,IAAE,MAAK,MAAG,oBAAmB,QAAO,GAAED,GAAE,gBAAe,EAAC,MAAK,yBAAwB,OAAM,KAAI,MAAK,OAAM,CAAC,GAAEA,GAAE,oBAAmB,EAAC,OAAMV,GAAE,cAAc,cAAa,UAAS,GAAE,oBAAmB,SAAQ,aAAYA,GAAE,cAAc,cAAa,OAAM,KAAI,eAAc,WAAU,GAAEQ,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,4BAA2B;AAAC,UAAK,EAAC,UAASR,GAAC,IAAE;AAAK,WAAOU,GAAE,kBAAiB,EAAC,MAAK,SAAQ,SAAQ,MAAI;AAAC,WAAK,aAAa;AAAA,IAAC,GAAE,MAAK,UAAS,OAAM,OAAM,GAAEV,GAAE,eAAe,eAAe;AAAA,EAAC;AAAA,EAAC,sBAAsBA,IAAEQ,IAAEG,IAAE;AAAC,UAAK,EAAC,UAASC,GAAC,IAAE;AAAK,QAAIC,KAAED,GAAE,cAAc,kBAAiBE,KAAEF,GAAE,cAAc;AAAc,YAAOZ,IAAE;AAAA,MAAC,KAAI;AAAO,QAAAa,KAAED,GAAE,cAAc,0BAAyBE,KAAEF,GAAE,cAAc;AAAmB;AAAA,MAAM,KAAI;AAAa,QAAAC,KAAED,GAAE,cAAc,yBAAwBE,KAAEF,GAAE,cAAc;AAAkB;AAAA,MAAM,KAAI;AAAQ,QAAAC,KAAED,GAAE,cAAc,wBAAuBE,KAAEF,GAAE,cAAc;AAAiB;AAAA,MAAM,KAAI;AAAkB,QAAAC,KAAED,GAAE,cAAc,kBAAiBE,KAAEF,GAAE,cAAc;AAAc;AAAA,MAAM,KAAI;AAAA,MAAiB,KAAI;AAAe,QAAAC,KAAED,GAAE,cAAc,qBAAoBE,KAAEF,GAAE,cAAc;AAAa;AAAA,MAAM,KAAI;AAAgB,QAAAC,KAAE,IAAGC,KAAEF,GAAE,cAAc;AAAiB;AAAA,MAAM;AAAQ,QAAAC,KAAED,GAAE,cAAc,oBAAmBE,KAAEH,MAAG;AAAA,IAAE;AAAC,WAAOD,GAAE,OAAM,EAAC,OAAM,EAAE,iBAAgB,KAAIV,GAAC,GAAEU,GAAE,kBAAiB,EAAC,UAASF,IAAE,MAAK,MAAG,KAAIR,IAAE,MAAK,UAAS,MAAK,MAAG,OAAM,KAAI,OAAM,QAAO,sBAAqB,MAAI;AAAC,cAAOA,IAAE;AAAA,QAAC,KAAI;AAAO,eAAK,iBAAe;AAAG;AAAA,QAAM,KAAI;AAAa,eAAK,qBAAmB;AAAG;AAAA,QAAM,KAAI;AAAQ,eAAK,0BAAwB;AAAG;AAAA,QAAM,KAAI;AAAe,eAAK,4BAA0B;AAAG;AAAA,QAAM,KAAI;AAAiB,eAAK,8BAA4B;AAAA,MAAE;AAAA,IAAC,EAAC,GAAEU,GAAE,OAAM,EAAC,MAAK,QAAO,GAAEG,EAAC,GAAEH,GAAE,OAAM,EAAC,MAAK,UAAS,GAAEI,EAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,4BAA4Bd,IAAE;AAAC,UAAK,EAAC,UAASQ,GAAC,IAAE;AAAK,WAAOE,GAAE,kBAAiB,EAAC,MAAK,SAAQ,OAAMF,GAAE,cAAc,cAAa,SAAQ,MAAI;AAAC,WAAK,oBAAkB,MAAG,KAAK,eAAaR,GAAE;AAAA,IAAK,GAAE,OAAM,KAAI,MAAK,uBAAsB,MAAKQ,GAAE,cAAc,cAAa,aAAY,KAAE,CAAC;AAAA,EAAC;AAAA,EAAC,4BAA4BR,IAAEQ,IAAEG,IAAE;AAAC,UAAK,EAAC,UAASC,GAAC,IAAE,MAAK,EAAC,gBAAeC,GAAC,IAAE,KAAK,WAAUC,KAAE,CAAC,GAAEE,KAAE,IAAI,OAAO,IAAIhB,GAAE,GAAG,KAAI,GAAG,GAAEiB,KAAEJ,GAAE,eAAe,SAAOb,GAAE,SAAO,IAAE;AAAE,eAAUU,MAAKG,GAAE;AAAe,MAAAC,GAAE,KAAKJ,GAAE,kBAAiB,EAAC,QAAOM,GAAE,KAAKN,GAAE,GAAG,GAAE,KAAIA,GAAE,KAAI,OAAME,GAAE,eAAe,cAAa,SAAQ,MAAI;AAAC,wBAAcD,KAAE,KAAK,UAAU,yBAAyBD,IAAEF,EAAC,IAAE,KAAK,UAAU,sBAAsBA,IAAEE,EAAC;AAAA,MAAC,GAAE,OAAM,KAAI,MAAKE,GAAE,eAAe,aAAY,GAAEF,GAAE,+BAA8B,EAAC,QAAOM,GAAE,KAAKN,GAAE,GAAG,GAAE,OAAMA,GAAE,KAAI,OAAM,IAAG,CAAC,CAAC,CAAC;AAAE,WAAOA,GAAE,sBAAqB,EAAC,gBAAe,MAAG,QAAO,QAAO,UAAS,QAAO,GAAEA,GAAE,wBAAuB,EAAC,SAAQO,IAAE,QAAO,OAAM,GAAEH,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAAC,UAAK,EAAC,UAASd,IAAE,gBAAeQ,GAAC,IAAE,MAAK,EAAC,gBAAeG,GAAC,IAAEX,GAAE,gBAAeY,KAAE,KAAK,UAAU,cAAaC,KAAE,CAAC;AAAE,WAAOD,GAAE,QAAS,CAACJ,IAAEI,OAAI;AAJzzlB;AAI0zlB,UAAIE,KAAE,CAAC,GAAEE,KAAE,CAAC,GAAEC,KAAE,OAAGP,KAAE,OAAG,IAAE,OAAGQ,KAAE;AAAG,eAAOV,GAAE,WAASA,GAAE,QAAQ,eAAe,UAAU,KAAG,SAAOA,GAAE,QAAQ,uBAAqBE,KAAE,OAAI,SAAOF,GAAE,QAAQ,yBAAuBA,GAAE,QAAQ,sBAAsB,SAAO,MAAIQ,KAAER,GAAE,QAAQ,uBAAsBQ,GAAE,SAAO,MAAI,IAAE,QAAKR,GAAE,QAAQ,YAAUA,GAAE,QAAQ,SAAS,SAAO,MAAIM,KAAEN,GAAE,QAAQ,UAASM,GAAE,SAAO,MAAIG,KAAE,SAAMP,MAAGO,QAAKC,MAAE,UAAK,cAAc,OAAM,KAAAV,GAAE,eAAF,mBAAc,IAAI,MAA3C,mBAA8C,OAAMK,GAAE,KAAKH,GAAE,iBAAgB,EAAC,aAAY,MAAG,aAAYF,GAAE,MAAM,eAAa,IAAG,SAAQA,GAAE,MAAM,OAAM,KAAI,GAAGA,GAAE,MAAM,KAAK,GAAGI,EAAC,IAAG,MAAK,MAAG,oBAAmB,QAAO,GAAE,KAAK,4BAA4BJ,EAAC,GAAEE,GAAE,gBAAe,MAAK,IAAEA,GAAE,qBAAoB,EAAC,OAAMV,GAAE,eAAe,iBAAe,OAAKgB,GAAE,SAAO,KAAI,yBAAwB,MAAI;AAAC,aAAK,kBAAkBA,IAAE,IAAE;AAAA,MAAC,EAAC,GAAEN,GAAE,gBAAe,EAAC,MAAK,iBAAgB,OAAM,KAAI,MAAK,cAAa,CAAC,CAAC,IAAE,MAAKO,MAAG,KAAK,UAAU,0BAAwBP,GAAE,qBAAoB,EAAC,KAAI,KAAK,IAAG,OAAMV,GAAE,eAAe,eAAa,OAAKc,GAAE,SAAO,KAAI,yBAAwB,MAAI;AAAC,aAAK,mBAAmB,KAAK,0BAA0BN,EAAC,GAAEA,GAAE,MAAM,QAAM,OAAKM,GAAE,SAAO,KAAI,IAAE;AAAA,MAAC,EAAC,GAAEJ,GAAE,gBAAe,EAAC,MAAK,iBAAgB,OAAM,KAAI,MAAK,cAAa,CAAC,CAAC,IAAE,KAAK,UAAU,0BAAwBA,GAAE,iBAAgB,EAAC,QAAO,UAAS,OAAM,IAAG,GAAEV,GAAE,eAAe,kBAAkB,IAAE,IAAI,GAAEiB,KAAEP,GAAE,OAAM,EAAC,OAAM,EAAE,WAAU,GAAEA,GAAE,iBAAgB,EAAC,QAAO,UAAS,SAAQ,CAAAV,OAAG;AAAC,QAAAA,GAAE,eAAe,GAAEA,GAAE,gBAAgB,GAAE,KAAK,UAAU,eAAe,CAACQ,GAAE,kBAAiBA,GAAE,KAAK;AAAA,MAAC,GAAE,OAAM,IAAG,GAAEE,GAAE,oBAAmB,EAAC,SAAQF,GAAE,kBAAiB,SAAQ,CAAAR,OAAG;AAAC,QAAAA,GAAE,eAAe,GAAEA,GAAE,gBAAgB,GAAE,KAAK,UAAU,eAAe,CAACQ,GAAE,kBAAiBA,GAAE,KAAK;AAAA,MAAC,EAAC,CAAC,GAAE,KAAK,UAAU,0BAAwBG,KAAE,GAAGA,EAAC,KAAKG,GAAE,MAAM,GAAG,CAAC,IAAE,MAAKJ,KAAEA,GAAE,yBAAwB,EAAC,KAAI,aAAaF,GAAE,MAAM,KAAK,IAAII,EAAC,IAAG,MAAKJ,GAAE,gBAAe,MAAKR,GAAE,eAAe,gBAAe,eAAc,UAAS,6BAA4B,CAAAA,OAAG;AAAC,QAAAA,GAAE,OAAO,OAAK,KAAK,UAAU,yBAAyBQ,GAAE,cAAaA,EAAC,IAAE,KAAK,UAAU,4BAA4BA,EAAC;AAAA,MAAC,EAAC,GAAEE,GAAE,gBAAe,EAAC,eAAc,OAAM,GAAEA,GAAE,qBAAoB,EAAC,OAAMV,GAAE,eAAe,cAAa,SAAQ,CAAAA,OAAG;AAAC,cAAMQ,KAAER,GAAE;AAAO,aAAK,cAAYQ,IAAE,KAAK,gBAAc,aAAWI;AAAA,MAAC,EAAC,GAAEF,GAAE,+BAA8B,EAAC,OAAMF,GAAE,aAAa,KAAI,OAAM,KAAI,MAAK,cAAa,CAAC,CAAC,CAAC,CAAC,IAAE,MAAK,KAAK,qBAAmBE,MAAGO,MAAGP,GAAE,yBAAwB,EAAC,KAAI,QAAQF,GAAE,MAAM,KAAK,IAAII,EAAC,IAAG,OAAK,KAAAJ,GAAE,eAAF,mBAAc,MAAK,MAAKR,GAAE,eAAe,kBAAiB,eAAc,UAAS,6BAA4B,CAAAA,OAAG;AAAC,QAAAA,GAAE,OAAO,OAAKQ,GAAE,oBAAkB,KAAK,UAAU,mBAAmBA,IAAEA,GAAE,iBAAiB,IAAE,KAAK,UAAU,mBAAmBA,EAAC,IAAE,KAAK,UAAU,wBAAwBA,EAAC;AAAA,MAAC,EAAC,GAAEE,GAAE,gBAAe,EAAC,eAAc,OAAM,GAAEA,GAAE,qBAAoB,EAAC,OAAMV,GAAE,eAAe,cAAa,SAAQ,CAAAA,OAAG;AAAC,cAAMQ,KAAER,GAAE;AAAO,aAAK,cAAYQ,IAAE,KAAK,gBAAc,gBAAcI;AAAA,MAAC,EAAC,GAAEF,GAAE,+BAA8B,EAAC,QAAM,KAAAF,GAAE,eAAF,mBAAc,MAAM,KAAI,OAAM,KAAI,MAAK,cAAa,CAAC,CAAC,CAAC,GAAEE,GAAE,gBAAe,EAAC,eAAc,OAAM,GAAEA,GAAE,qBAAoB,EAAC,OAAMV,GAAE,eAAe,iBAAgB,GAAEU,GAAE,wBAAuB,EAAC,aAAY,KAAK,uBAAsB,OAAM,EAAE,aAAY,KAAI,QAAO,WAAU,QAAO,KAAI,GAAE,OAAM,KAAI,MAAK,eAAc,YAAWQ,IAAE,QAAM,KAAAV,GAAE,eAAF,mBAAc,SAAS,YAAW,4BAA2B,CAAAR,OAAG;AAJxisB,YAAAe;AAIyisB,YAAG,GAACA,MAAA,KAAK,SAAL,gBAAAA,IAAW;AAAM;AAAO,aAAK,KAAK,MAAM,WAAS,KAAK,KAAK,WAAW;AAAE,cAAMJ,KAAEX,GAAE;AAAO,QAAAQ,GAAE,WAAW,YAAU,KAAGA,GAAE,WAAW,WAAS,SAASG,GAAE,OAAM,EAAE,GAAE,KAAK,UAAU,wBAAwBH,EAAC,GAAE,KAAK,UAAU,mBAAmBA,EAAC,MAAIA,GAAE,WAAW,WAAS,GAAE,KAAK,UAAU,wBAAwBA,EAAC,GAAE,KAAK,UAAU,mBAAmBA,EAAC;AAAA,MAAE,EAAC,CAAC,CAAC,CAAC,CAAC,IAAE,MAAKE,GAAE,mBAAkB,EAAC,WAAU,MAAG,UAAS,MAAG,OAAMV,GAAE,eAAe,cAAa,gBAAe,GAAE,gBAAe,GAAE,MAAK,KAAK,kBAAgB,aAAWY,MAAG,KAAK,kBAAgB,gBAAcA,IAAE,WAAU,cAAa,kBAAiB,KAAK,aAAY,OAAM,KAAI,uBAAsB,MAAI;AAAC,aAAK,cAAY,MAAK,KAAK,gBAAc;AAAA,MAAI,EAAC,GAAE,KAAK,4BAA4B,KAAK,kBAAgB,gBAAcA,MAAE,KAAAJ,GAAE,eAAF,mBAAc,QAAMA,GAAE,cAAaA,IAAE,KAAK,kBAAgB,gBAAcI,KAAE,eAAa,WAAW,CAAC,CAAC,CAAC,KAAGC,GAAE,KAAKH,GAAE,iBAAgB,EAAC,aAAY,OAAG,SAAQF,GAAE,MAAM,OAAM,KAAI,WAASI,IAAE,MAAK,MAAG,oBAAmB,QAAO,GAAE,KAAK,4BAA4BJ,EAAC,GAAE,KAAK,sBAAsB,gBAAe,OAAGA,GAAE,MAAM,CAAC,CAAC;AAAA,IAAC,CAAE,GAAEE,GAAE,qBAAoB,EAAC,KAAI,gBAAe,QAAON,GAAE,EAAC,GAAES,IAAE,KAAK,0BAA0B,GAAE,KAAK,oBAAkBH,GAAE,iBAAgB,EAAC,KAAI,SAAQ,GAAEA,GAAE,OAAM,EAAC,OAAM,EAAE,YAAW,GAAEA,GAAE,MAAK,EAAC,MAAK,SAAQ,GAAEV,GAAE,cAAc,YAAY,GAAEU,GAAE,OAAM,EAAC,MAAK,UAAS,GAAEV,GAAE,cAAc,iBAAiB,GAAEU,GAAE,OAAM,EAAC,OAAM,EAAE,cAAa,CAAC,GAAEA,GAAE,OAAM,EAAC,QAAOL,GAAE,KAAK,EAAC,GAAEK,GAAE,kBAAiB,EAAC,YAAW,WAAU,SAAQ,MAAI;AAAC,WAAK,oBAAkB;AAAA,IAAE,GAAE,MAAK,aAAY,OAAM,OAAM,GAAEF,GAAE,MAAM,GAAEE,GAAE,kBAAiB,EAAC,SAAQ,MAAI;AAAC,WAAK,gBAAc,KAAK,UAAU,YAAY,KAAK,YAAY,GAAE,KAAK,oBAAkB,OAAG,MAAI,KAAK,UAAU,aAAa,SAAO,KAAK,UAAU,OAAO,KAAG,KAAK,eAAa,KAAK,UAAU,aAAa,CAAC,EAAE,OAAM,KAAK,4BAA0B,OAAG,KAAK,6BAA2B,OAAG,KAAK,4BAA0B,OAAG,KAAK,yBAAuB;AAAA,IAAG,GAAE,MAAK,WAAU,OAAM,OAAM,GAAEF,GAAE,KAAK,EAAE,CAAC,CAAC,CAAC,IAAE,IAAI;AAAA,EAAC;AAAA,EAAC,8BAA6B;AAAC,UAAK,EAAC,UAASR,GAAC,IAAE,MAAKQ,KAAE,KAAK,wBAAuBG,KAAE,CAAC;AAAE,WAAOH,GAAE,QAAS,CAAAR,OAAG;AAAC,MAAAW,GAAE,KAAK,KAAK,0BAA0BX,EAAC,CAAC;AAAA,IAAC,CAAE,GAAEU,GAAE,qBAAoB,EAAC,SAAQV,GAAE,eAAe,gBAAe,KAAI,0BAAyB,uBAAsB,MAAI;AAAC,WAAK,kBAAkB,CAAC,GAAE,KAAE;AAAA,IAAC,EAAC,GAAEW,IAAE,KAAK,0BAA0B,CAAC;AAAA,EAAC;AAAA,EAAC,iCAAgC;AAAC,UAAMX,KAAE,KAAK,yBAAwBQ,KAAE,CAAC;AAAE,eAAUG,MAAKX,IAAE;AAAC,YAAMY,KAAEZ,GAAEW,EAAC;AAAE,iBAAUX,MAAKY;AAAE,QAAAJ,GAAE,KAAK,KAAK,2BAA2BI,GAAEZ,EAAC,CAAC,CAAC;AAAA,IAAC;AAAC,WAAOU,GAAE,qBAAoB,EAAC,SAAQ,KAAK,qBAAoB,KAAI,4BAA2B,uBAAsB,MAAI;AAAC,WAAK,mBAAmB,CAAC,GAAE,IAAG,KAAE;AAAA,IAAC,EAAC,GAAEA,GAAE,gBAAe,MAAKF,EAAC,GAAE,KAAK,0BAA0B,CAAC;AAAA,EAAC;AAAA,EAAC,gCAA+B;AAAC,UAAMR,KAAE,KAAK,wBAAuBQ,KAAE,CAAC;AAAE,eAAUG,MAAKX;AAAE,MAAAA,GAAEW,EAAC,EAAE,SAAO,KAAGH,GAAE,KAAK,KAAK,0BAA0BR,GAAEW,EAAC,CAAC,CAAC;AAAE,WAAOD,GAAE,qBAAoB,EAAC,SAAQ,KAAK,mBAAkB,KAAI,mBAAkB,uBAAsB,MAAI;AAAC,WAAK,kBAAkB,CAAC,GAAE,IAAG,KAAE;AAAA,IAAC,EAAC,GAAEA,GAAE,gBAAe,EAAC,eAAc,OAAM,GAAEF,EAAC,GAAE,KAAK,0BAA0B,CAAC;AAAA,EAAC;AAAA,EAAC,+BAA8B;AAJxkyB;AAIykyB,UAAK,EAAC,UAASR,GAAC,IAAE,MAAKQ,KAAE,KAAK;AAAwB,IAAAA,GAAE,KAAK,KAAK,SAAS,KAAK,kBAAiB,KAAK,gBAAgB,CAAC;AAAE,UAAMG,KAAE,CAAC;AAAE,QAAGH,GAAE,SAAO,GAAE;AAAC,SAAC,KAAAA,GAAE,CAAC,EAAE,YAAL,mBAAc,OAAO,KAAM,CAAC,EAAC,MAAKR,GAAC,MAAIA,GAAE,YAAY,MAAI,KAAK,oBAAoB,kBAAkB,OAAK,WAAM,KAAK,sBAAoB,KAAK,sBAAqB,KAAK,mBAAiB,KAAK,uBAAsBQ,GAAE,QAAS,CAAAR,OAAG;AAAC,SAAAA,MAAA,gBAAAA,GAAG,YAASW,GAAE,KAAK,KAAK,2BAA2BX,EAAC,CAAC;AAAA,MAAC,CAAE,GAAE,MAAIW,GAAE,UAAQA,GAAE,KAAKD,GAAE,qBAAoB,EAAC,OAAMV,GAAE,eAAe,gBAAe,CAAC,CAAC;AAAA,IAAC;AAAC,WAAOU,GAAE,qBAAoB,EAAC,SAAQ,KAAK,kBAAiB,KAAI,oBAAmB,uBAAsB,MAAI;AAAC,WAAK,qBAAmB,OAAG,KAAK,0BAA0B,CAAC,GAAE,IAAG,KAAE;AAAA,IAAC,EAAC,GAAEA,GAAE,kBAAiB,EAAC,aAAY,GAAE,MAAK,MAAK,iBAAgB,yBAAwB,MAAK,QAAO,IAAG,kBAAgB,KAAK,IAAG,OAAMV,GAAE,eAAe,kBAAiB,SAAQ,MAAI;AAAC,WAAK,qBAAmB;AAAA,IAAE,GAAE,MAAK,sBAAqB,MAAKA,GAAE,eAAe,iBAAgB,CAAC,GAAEU,GAAE,gBAAe,EAAC,eAAc,OAAM,GAAEC,EAAC,GAAE,KAAK,0BAA0B,CAAC;AAAA,EAAC;AAAA,EAAC,sCAAqC;AAAC,UAAK,EAAC,UAASX,GAAC,IAAE,MAAKQ,KAAE,KAAK,yBAAwBG,KAAE,CAAC,GAAEC,KAAE,CAAC;AAAE,WAAOJ,GAAE,SAAO,MAAIA,GAAE,CAAC,EAAE,UAAQA,GAAE,CAAC,EAAE,QAAQ,OAAO,QAAS,CAAC,EAAC,MAAKR,IAAE,OAAMQ,GAAC,MAAI;AAAC,MAAAG,GAAE,KAAKD,GAAE,kBAAiB,EAAC,KAAI,WAAWV,EAAC,IAAG,OAAMQ,MAAGR,IAAE,UAASA,OAAI,KAAK,qBAAoB,OAAMA,GAAC,CAAC,CAAC,GAAEY,GAAE,KAAKF,GAAE,kBAAiB,EAAC,KAAI,QAAQV,EAAC,IAAG,OAAMQ,MAAGR,IAAE,UAASA,OAAI,KAAK,kBAAiB,OAAMA,GAAC,CAAC,CAAC;AAAA,IAAC,CAAE,KAAGW,GAAE,KAAKD,GAAE,kBAAiB,EAAC,KAAI,WAAW,KAAK,mBAAmB,IAAG,OAAM,KAAK,qBAAoB,OAAM,KAAK,oBAAmB,CAAC,CAAC,GAAEE,GAAE,KAAKF,GAAE,kBAAiB,EAAC,KAAI,QAAQ,KAAK,mBAAmB,IAAG,OAAM,KAAK,qBAAoB,OAAM,KAAK,oBAAmB,CAAC,CAAC,KAAIA,GAAE,mBAAkB,EAAC,WAAU,MAAG,OAAMV,GAAE,eAAe,kBAAiB,gBAAe,GAAE,gBAAe,GAAE,MAAK,KAAK,oBAAmB,oBAAmB,SAAQ,WAAU,cAAa,kBAAiB,KAAK,uBAAsB,QAAO,SAAO,KAAK,UAAQ,EAAE,OAAI,KAAK,QAAQ,WAAW,IAAEC,GAAE,EAAC,GAAES,GAAE,iBAAgB,EAAC,SAAQ,IAAG,MAAK,MAAG,oBAAmB,QAAO,GAAEA,GAAE,iBAAgB,EAAC,OAAM,IAAG,GAAEV,GAAE,eAAe,kBAAiBU,GAAE,kBAAiB,EAAC,OAAMV,GAAE,eAAe,kBAAiB,OAAM,KAAI,uBAAsB,CAAAA,OAAG;AAAC,YAAMQ,KAAER,GAAE;AAAO,WAAK,sBAAoBQ,GAAE,eAAe,OAAM,KAAK,qBAAmB;AAAA,IAAE,EAAC,GAAEG,EAAC,CAAC,GAAED,GAAE,iBAAgB,EAAC,OAAM,IAAG,GAAEV,GAAE,eAAe,QAAOU,GAAE,kBAAiB,EAAC,OAAMV,GAAE,eAAe,QAAO,OAAM,KAAI,uBAAsB,CAAAA,OAAG;AAAC,YAAMW,KAAEX,GAAE;AAAO,WAAK,mBAAiBW,GAAE,eAAe,OAAMH,GAAE,KAAK,KAAK,SAAS,KAAK,kBAAiB,KAAK,gBAAgB,CAAC,GAAE,KAAK,0BAAwBA,IAAE,KAAK,qBAAmB;AAAA,IAAE,EAAC,GAAEI,EAAC,CAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BZ,IAAE;AAAC,WAAOU,GAAE,iBAAgB,EAAC,aAAY,OAAG,SAAQV,GAAE,uBAAqB,MAAIA,GAAE,eAAa,QAAMA,GAAE,QAAO,oBAAmB,QAAO,CAAC;AAAA,EAAC;AAAA,EAAC,2BAA2BA,IAAE;AAAC,UAAMQ,KAAE,KAAK,mBAAmBR,GAAE,CAAC,CAAC;AAAE,WAAOU,GAAE,qBAAoB,EAAC,OAAMF,KAAE,OAAKR,GAAE,SAAO,KAAI,yBAAwB,MAAI;AAAC,WAAK,kBAAkB,KAAK,yBAAyBA,EAAC,GAAEQ,KAAE,OAAKR,GAAE,SAAO,KAAI,IAAE;AAAA,IAAC,EAAC,GAAEU,GAAE,gBAAe,EAAC,MAAK,iBAAgB,OAAM,KAAI,MAAK,cAAa,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BV,IAAE;AAAC,UAAMQ,KAAE,KAAK,kBAAkBR,GAAE,CAAC,CAAC;AAAE,WAAOU,GAAE,qBAAoB,EAAC,OAAMF,KAAE,OAAKR,GAAE,SAAO,KAAI,yBAAwB,MAAI;AAAC,WAAK,UAAU,kBAAkBA,EAAC,EAAE,KAAM,CAAAW,OAAG;AAAC,YAAGA,MAAA,gBAAAA,GAAG,QAAO;AAAC,eAAK,uBAAqBA,GAAE,CAAC,EAAE,MAAM,eAAc,eAAa,KAAK,wBAAsB,KAAK,sBAAoBA,GAAE,CAAC,EAAE,MAAM,gBAAe,eAAa,KAAK,qBAAmB,KAAK,mBAAiBA,GAAE,CAAC,EAAE,MAAM;AAAe,gBAAMC,KAAE,KAAK,kBAAkBZ,IAAEW,IAAE,UAAU;AAAE,eAAK,0BAA0BC,IAAEJ,KAAE,OAAKR,GAAE,SAAO,KAAI,IAAE;AAAA,QAAC;AAAM,eAAK,0BAA0BA,IAAEQ,KAAE,OAAKR,GAAE,SAAO,KAAI,IAAE;AAAA,MAAC,CAAE;AAAA,IAAC,EAAC,GAAEU,GAAE,gBAAe,EAAC,MAAK,iBAAgB,OAAM,KAAI,MAAK,cAAa,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,2BAA2BV,IAAE;AAJ105B;AAI205B,UAAK,EAAC,UAASQ,GAAC,IAAE,MAAKG,KAAE,WAAWX,GAAE,QAAQ,QAAO,EAAC,kBAAiBY,IAAE,eAAcC,GAAC,IAAEL,GAAE;AAAc,QAAIM,KAAE,IAAGE,KAAE;AAAK,QAAGA,MAAE,KAAAhB,MAAA,gBAAAA,GAAG,YAAH,mBAAY,OAAO,KAAM,CAAC,EAAC,MAAKA,GAAC,MAAIA,OAAI,KAAK,sBAAsB,YAASgB,MAAA,gBAAAA,GAAG,OAAK;AAAC,MAAAF,KAAE,IAAI,KAAKd,GAAE,QAAQ,WAAW,KAAK,mBAAmB,CAAC,EAAE,aAAa;AAAA,IAAC,WAAS,iBAAe,KAAK,oBAAoB,YAAY;AAAE,MAAAc,KAAE,KAAK,mBAAmBd,EAAC;AAAA,aAAU,gBAAc,KAAK,oBAAoB,YAAY;AAAE,MAAAc,KAAE,KAAK,kBAAkBd,EAAC;AAAA,cAAUgB,MAAA,gBAAAA,GAAG,WAAQV,GAAEU,GAAE,MAAM,GAAE;AAAC,YAAMR,KAAEQ,GAAE,OAAO,YAAY,KAAM,CAAC,EAAC,MAAKR,GAAC,MAAIA,OAAIR,GAAE,QAAQ,WAAW,KAAK,mBAAmB,CAAE;AAAE,MAAAc,KAAEN,MAAA,gBAAAA,GAAG;AAAA,IAAI;AAAM,MAAAM,OAAE,KAAAd,GAAE,YAAF,mBAAW,WAAW,KAAK,yBAAsBA,GAAE;AAAS,WAAOc,MAAG,OAAKA,MAAG,SAAOA,KAAE,YAAU,OAAOA,OAAIA,GAAE,KAAK,MAAIA,KAAEN,GAAE,eAAe,YAAUM,KAAEN,GAAE,eAAe,SAAQ,WAAO,KAAAR,MAAA,gBAAAA,GAAG,YAAH,mBAAY,YAASU,GAAE,qBAAoB,EAAC,OAAMI,IAAE,yBAAwB,MAAI;AAAC,WAAK,UAAU,YAAYd,GAAE,QAAQ,QAAQ;AAAA,IAAC,EAAC,GAAEU,GAAE,gBAAe,EAAC,MAAK,kBAAiB,OAAM,KAAI,MAAK,eAAc,WAAUG,GAAC,CAAC,CAAC,IAAEH,GAAE,qBAAoB,EAAC,OAAMI,GAAC,GAAEJ,GAAE,gBAAe,EAAC,MAAK,SAAQ,IAAGC,IAAE,OAAM,KAAI,MAAK,eAAc,WAAUC,GAAC,CAAC,GAAEF,GAAE,mBAAkB,EAAC,OAAME,IAAE,kBAAiBD,GAAC,GAAED,GAAE,QAAO,MAAKE,EAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,sBAAsBZ,IAAE;AAAC,eAAUA,MAAG,QAAMA,GAAE,SAAO,oBAAmBA,MAAGA,GAAE,eAAe,EAAC,YAAW,OAAG,OAAMA,GAAE,OAAM,QAAO,SAAQ,CAAC;AAAA,EAAC;AAAA,EAAC,oBAAmB;AAAC,UAAK,EAAC,UAASA,GAAC,IAAE;AAAK,SAAK,cAAc,SAAO,KAAG,KAAK,cAAc,QAAS,CAAAQ,OAAG;AAAC,2BAAmBA,GAAE,SAAOR,GAAE,cAAc,sBAAoBQ,GAAE,OAAMR,GAAE,cAAc,oBAAkBQ,GAAE,cAAa,cAAYA,GAAE,SAAOR,GAAE,cAAc,gBAAcQ,GAAE,OAAMR,GAAE,cAAc,mBAAiBQ,GAAE;AAAA,IAAY,CAAE;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAAC,SAAK,cAAc,SAAO,KAAG,KAAK,cAAc,QAAS,CAAAR,OAAG;AAAC,2BAAmBA,GAAE,OAAK,KAAK,mBAAiBA,GAAE,SAAO,KAAK,iBAAeA,GAAE,QAAO,KAAK,UAAU,iBAAiBA,GAAE,MAAKA,GAAE,MAAM;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,kCAAiC;AAAC,WAAO,KAAK,UAAU,mBAAmB,EAAE,KAAM,CAAAA,OAAG;AAJ/v9B;AAIgw9B,UAAGA;AAAE,eAAO,KAAK,UAAU,mBAAmB,GAAE,KAAK,kBAAkB,GAAE,KAAK,UAAU,MAAM,SAAO,KAAG,KAAK,mBAAmB,IAAE,UAAK,SAAL,mBAAW,OAAO,KAAM,MAAI;AAAC,eAAK,gBAAgB;AAAA,QAAC;AAAI,WAAK,WAAS;AAAA,IAAE,CAAE,EAAE,MAAO,CAAAA,OAAG;AAAC,YAAK,EAAC,UAASQ,GAAC,IAAE;AAAK,WAAK,eAAa,OAAG,6CAA2CR,GAAE,QAAMA,GAAE,QAAQ,IAAI,iBAAeO,GAAE,cAAY,KAAK,gBAAcC,GAAE,cAAc,kBAAgB,KAAK,gBAAcR,GAAE,SAAQ,KAAK,WAAS;AAAA,IAAE,CAAE;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAJ1t+B;AAI2t+B,YAAO,UAAK,SAAL,mBAAW,OAAO,KAAM,MAAI;AAAC,WAAK,gBAAc,EAAG,MAAE;AAJvx+B,YAAAe;AAIyx+B,kBAACA,MAAA,KAAK,SAAL,gBAAAA,IAAW;AAAA,SAAW,YAAS;AAAC,aAAK,iBAAe,OAAG,KAAK,8BAA4B,OAAG,KAAK,4BAA0B;AAAG,cAAMf,KAAE,MAAM,KAAK,UAAU,eAAe;AAAE,aAAK,UAAU,yBAAyB,GAAEA,GAAE,SAAS,SAAS,MAAI,KAAK,8BAA4B,OAAIA,GAAE,SAAS,gBAAgB,MAAI,KAAK,4BAA0B,OAAI,KAAK,WAAS,OAAG,SAAO,KAAK,iBAAe,KAAK,cAAc,OAAO;AAAA,MAAC,CAAE;AAAA,IAAC;AAAA,EAAG;AAAA,EAAC,oBAAmB;AAAC,SAAK,WAAW,CAAC,EAAG,MAAI,KAAK,gBAAiB,MAAI;AAAC,WAAK,UAAU,mBAAmB,GAAE,KAAK,eAAe;AAAA,IAAC,CAAE,GAAE,EAAG,MAAI,KAAK,qBAAsB,MAAI;AAAC,WAAK,UAAU,aAAa,SAAO,KAAG,KAAK,UAAU,aAAa,QAAS,CAAAA,OAAG;AAAC,aAAK,UAAU,yBAAyB,KAAK,UAAU,qBAAoBA,EAAC;AAAA,MAAC,CAAE,GAAE,KAAK,eAAe;AAAA,IAAC,CAAE,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BA,IAAE;AAJ9jgC;AAI+jgC,UAAMQ,KAAE,CAAC,GAAEG,MAAE,KAAAX,GAAE,YAAF,mBAAW,UAASY,KAAE,KAAK,SAASD,MAAG,CAAC,GAAE,iBAAiB;AAAE,eAAUE,MAAKD;AAAE,MAAAJ,GAAE,KAAK,KAAK,SAASI,GAAEC,EAAC,GAAE,gBAAgB,CAAC;AAAE,WAAOL;AAAA,EAAC;AAAA,EAAC,yBAAyBR,IAAE;AAAC,WAAO,KAAK,SAASA,IAAE,eAAe;AAAA,EAAC;AAAA,EAAC,kBAAkBA,IAAEQ,IAAEG,IAAE;AAAC,UAAMC,KAAE,CAAC;AAAE,WAAOZ,GAAE,QAAS,CAAAA,OAAG;AAAC,MAAAQ,GAAE,QAAS,CAAAA,OAAG;AAAC,QAAAA,GAAE,WAAW,SAAS,QAAS,CAAAK,OAAG;AAAC,UAAAb,GAAEW,EAAC,MAAIE,GAAE,WAAW,KAAK,oBAAoB,MAAIb,GAAE,UAAQa,IAAEb,GAAE,QAAQ,SAAOQ,GAAE,WAAW,QAAOI,GAAE,KAAKZ,EAAC;AAAA,QAAE,CAAE;AAAA,MAAC,CAAE;AAAA,IAAC,CAAE,GAAEY;AAAA,EAAC;AAAA,EAAC,mBAAmBZ,IAAE;AAAC,QAAIQ,KAAER,GAAE,eAAe,SAAS;AAAE,UAAMW,KAAEX,GAAE,gBAAeY,KAAE,KAAK,UAAU,gBAAgB,EAAE,KAAM,CAAAJ,OAAGA,GAAE,aAAWR,GAAE,eAAgB;AAAE,QAAGY,IAAE;AAAC,YAAMZ,KAAEY,GAAE,YAAY,KAAM,CAAAZ,OAAGA,GAAE,mBAAiBW,EAAE;AAAE,MAAAX,OAAIQ,KAAER,GAAE;AAAA,IAAe;AAAC,WAAOQ;AAAA,EAAC;AAAA,EAAC,kBAAkBR,IAAE;AAAC,QAAIQ,KAAER,GAAE,cAAc,SAAS;AAAE,UAAMW,KAAEX,GAAE,gBAAeY,KAAE,KAAK,UAAU,gBAAgB,EAAE,KAAM,CAAAJ,OAAGA,GAAE,aAAWR,GAAE,eAAgB;AAAE,QAAGY,IAAE;AAAC,YAAMC,KAAED,GAAE,YAAY,KAAM,CAAAZ,OAAGA,GAAE,mBAAiBW,EAAE;AAAE,UAAGE,IAAE;AAAC,cAAMF,KAAEE,GAAE,WAAW,KAAM,CAAAL,OAAGA,GAAE,kBAAgBR,GAAE,aAAc;AAAE,QAAAW,OAAIH,KAAEG,GAAE;AAAA,MAAc;AAAA,IAAC;AAAC,WAAOH;AAAA,EAAC;AAAA,EAAC,SAASR,IAAEQ,IAAE;AAAC,WAAM,CAACG,IAAEC,OAAI;AAJ/kiC;AAIgliC,UAAIC,KAAE,GAAEC,OAAE,KAAAH,GAAE,YAAF,mBAAW,WAAWX,QAAIW,GAAE,UAASK,OAAE,KAAAJ,GAAE,YAAF,mBAAW,WAAWZ,QAAIY,GAAE;AAAS,aAAO,MAAME,EAAC,MAAIA,KAAEA,GAAE,YAAY,IAAG,MAAME,EAAC,MAAIA,KAAEA,GAAE,YAAY,IAAG,WAASR,KAAEM,KAAEE,KAAEH,KAAE,IAAEC,KAAEE,OAAIH,KAAE,MAAIC,KAAEE,KAAEH,KAAE,IAAEC,KAAEE,OAAIH,KAAE,KAAIA;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,SAASb,IAAEQ,IAAE;AAAC,WAAOR,GAAE,OAAQ,CAACA,IAAEW,SAAMX,GAAEW,GAAEH,EAAC,CAAC,IAAER,GAAEW,GAAEH,EAAC,CAAC,KAAG,CAAC,GAAG,KAAKG,EAAC,GAAEX,KAAI,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,eAAeA,IAAE;AAAC,WAAM,qBAAmBA,GAAE,OAAKU,GAAE,OAAM,EAAC,QAAOV,GAAE,QAAO,KAAIA,GAAE,OAAK,QAAO,OAAMA,GAAE,MAAK,CAAC,IAAE;AAAA,EAAI;AAAA,EAAC,kBAAiB;AAAC,SAAK,gBAAc,EAAG,MAAE;AAJxgjC;AAI0gjC,gBAAC,UAAK,SAAL,mBAAW;AAAA,OAAW,MAAI;AAAC,WAAK,WAAS,OAAG,SAAO,KAAK,iBAAe,KAAK,cAAc,OAAO;AAAA,IAAC,GAAG,EAAC,SAAQ,KAAE,CAAC;AAAA,EAAC;AAAA,EAAC,cAAcA,KAAE,WAAU;AAJxpjC;AAIypjC,UAAMQ,MAAE,gBAAK,SAAL,mBAAW,cAAX,mBAAsB;AAAM,IAAAA,OAAIA,GAAE,SAAOR;AAAA,EAAE;AAAC;AAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,qBAAoB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,gBAAe,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,iBAAgB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,uBAAsB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,qBAAoB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,oBAAmB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,0BAAyB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,2BAA0B,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,0BAAyB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,2BAA0B,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,6BAA4B,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,8BAA6B,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,6BAA4B,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,0BAAyB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,cAAa,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,qBAAoB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,kBAAiB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,2BAA0B,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,iBAAgB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,eAAc,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,iBAAgB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,uBAAsB,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,YAAW,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,SAAQ,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,cAAa,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,QAAO,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,iBAAgB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,SAAQ,IAAI,GAAE,EAAE,CAAC,EAAE,GAAEA,GAAE,0DAA0D,CAAC,GAAE,EAAE,WAAU,YAAW,MAAM,GAAE,EAAE,CAAC,EAAE,GAAEA,GAAE,iBAAiB,CAAC,GAAE,EAAE,WAAU,kBAAiB,MAAM,GAAE,EAAE,CAAC,EAAE,GAAEA,GAAE,qBAAqB,CAAC,GAAE,EAAE,WAAU,iBAAgB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,wBAAuB,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,kBAAiB,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,oBAAmB,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,0BAAyB,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,oBAAmB,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,2BAA0B,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,kBAAiB,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,QAAO,IAAI,GAAE,EAAE,CAACA,GAAE,CAAC,YAAW,qBAAoB,kBAAiB,mBAAkB,mBAAkB,mBAAkB,sBAAqB,oBAAoB,CAAC,GAAE,EAAE,EAAC,MAAKS,GAAC,CAAC,CAAC,GAAE,EAAE,WAAU,aAAY,MAAM,GAAE,IAAE,EAAE,CAAC,EAAE,kCAAkC,CAAC,GAAE,CAAC;AAAE,IAAM,IAAE;",
  "names": ["f", "e", "u", "y", "r", "n", "o", "i", "s", "t", "k", "a", "l", "p", "i", "t", "l", "e", "r", "o", "a", "h", "f", "i", "n", "e", "l", "r", "t", "a", "o", "s", "u", "m", "f", "h", "e", "r", "t", "a", "i", "l", "s", "S", "L", "e", "E", "B", "j", "t", "r", "D", "i", "l", "s", "a", "_a", "u", "_b", "_c", "n", "h", "V", "m", "e", "b", "y", "f", "T", "S", "R", "C", "t", "V", "n", "s", "i", "r", "o", "_a", "l", "a", "d"]
}
