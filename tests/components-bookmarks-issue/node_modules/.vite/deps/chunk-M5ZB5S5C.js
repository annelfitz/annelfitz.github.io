import {
  f as f2
} from "./chunk-MBGZKT2Z.js";
import {
  C,
  G,
  s2 as s3,
  w
} from "./chunk-UWQ3OYA5.js";
import {
  s as s2
} from "./chunk-ORO4D3FB.js";
import {
  o
} from "./chunk-YOPMY6TS.js";
import {
  r
} from "./chunk-VIN55KNF.js";
import {
  s
} from "./chunk-IOB3DJMR.js";
import {
  f
} from "./chunk-SBL4URUW.js";
import {
  y2 as y
} from "./chunk-NDIXNREV.js";
import {
  a as a2,
  a3
} from "./chunk-I2RC5KWA.js";
import {
  e
} from "./chunk-2F6FFF5T.js";
import {
  a,
  n2 as n
} from "./chunk-7RBRCL6S.js";

// node_modules/@arcgis/core/geometry/Geometry.js
var c = class extends f {
  constructor(...e2) {
    super(...e2), this.type = null, this.hasM = false, this.hasZ = false, this.spatialReference = f2.WGS84;
  }
  get cache() {
    return this.commitProperty("spatialReference"), {};
  }
  get extent() {
    return null;
  }
  readSpatialReference(e2, r2) {
    if (e2 instanceof f2)
      return e2;
    if (null != e2) {
      const t2 = new f2();
      return t2.read(e2, r2), t2;
    }
    return e2;
  }
  clone() {
    return console.warn(".clone() is not implemented for " + this.declaredClass), null;
  }
  clearCache() {
    this.notifyChange("cache");
  }
  getCacheValue(e2) {
    return this.cache[e2];
  }
  setCacheValue(e2, r2) {
    this.cache[e2] = r2;
  }
};
e([y()], c.prototype, "type", void 0), e([y({ readOnly: true })], c.prototype, "cache", null), e([y({ readOnly: true })], c.prototype, "extent", null), e([y({ type: Boolean, json: { write: { overridePolicy: (e2) => ({ enabled: e2 }) } } })], c.prototype, "hasM", void 0), e([y({ type: Boolean, json: { write: { overridePolicy: (e2) => ({ enabled: e2 }) } } })], c.prototype, "hasZ", void 0), e([y({ type: f2, json: { write: true }, value: f2.WGS84 })], c.prototype, "spatialReference", void 0), e([o("spatialReference")], c.prototype, "readSpatialReference", null), c = e([a3("esri.geometry.Geometry")], c);
var n2 = c;

// node_modules/@arcgis/core/geometry/support/webMercatorUtils.js
var a4 = 57.29577951308232;
var o2 = 0.017453292519943;
function u(n3) {
  return n3 * a4;
}
function l(n3) {
  return n3 * o2;
}
function p(n3) {
  return n3 / s2.radius;
}
function f3(n3) {
  return Math.PI / 2 - 2 * Math.atan(Math.exp(-n3 / s2.radius));
}
function c2(n3) {
  return null != n3.wkid || null != n3.wkt;
}
var h = [0, 0];
function m(n3, t2, e2, i, r2) {
  const s4 = n3, a5 = r2;
  if (a5.spatialReference = e2, "x" in s4 && "x" in a5)
    [a5.x, a5.y] = t2(s4.x, s4.y, h, i);
  else if ("xmin" in s4 && "xmin" in a5)
    [a5.xmin, a5.ymin] = t2(s4.xmin, s4.ymin, h, i), [a5.xmax, a5.ymax] = t2(s4.xmax, s4.ymax, h, i);
  else if ("paths" in s4 && "paths" in a5 || "rings" in s4 && "rings" in a5) {
    const n4 = "paths" in s4 ? s4.paths : s4.rings, e3 = [];
    let r3;
    for (let s5 = 0; s5 < n4.length; s5++) {
      const a6 = n4[s5];
      r3 = [], e3.push(r3);
      for (let n5 = 0; n5 < a6.length; n5++)
        r3.push(t2(a6[n5][0], a6[n5][1], [0, 0], i)), a6[n5].length > 2 && r3[n5].push(a6[n5][2]), a6[n5].length > 3 && r3[n5].push(a6[n5][3]);
    }
    "paths" in a5 ? a5.paths = e3 : a5.rings = e3;
  } else if ("points" in s4 && "points" in a5) {
    const n4 = s4.points, e3 = [];
    for (let r3 = 0; r3 < n4.length; r3++)
      e3[r3] = t2(n4[r3][0], n4[r3][1], [0, 0], i), n4[r3].length > 2 && e3[r3].push(n4[r3][2]), n4[r3].length > 3 && e3[r3].push(n4[r3][3]);
    a5.points = e3;
  }
  return r2;
}
function x(n3, t2) {
  const e2 = n3 && (c2(n3) ? n3 : n3.spatialReference), a5 = t2 && (c2(t2) ? t2 : t2.spatialReference);
  return !(n3 && "type" in n3 && "mesh" === n3.type || t2 && "type" in t2 && "mesh" === t2.type || !e2 || !a5) && (!!G(a5, e2) || (w(a5) && C(e2) || w(e2) && C(a5)));
}
function g(e2, a5) {
  if (null == e2)
    return null;
  const o3 = e2.spatialReference, u2 = a5 && (c2(a5) ? a5 : a5.spatialReference);
  return x(o3, u2) ? G(o3, u2) ? a(e2) : w(u2) ? m(e2, M, f2.WebMercator, false, a(e2)) : C(u2) ? m(e2, y2, f2.WGS84, false, a(e2)) : null : null;
}
function M(n3, t2, i = [0, 0]) {
  t2 > 89.99999 ? t2 = 89.99999 : t2 < -89.99999 && (t2 = -89.99999);
  const r2 = l(t2);
  return i[0] = l(n3) * s2.radius, i[1] = s2.halfSemiMajorAxis * Math.log((1 + Math.sin(r2)) / (1 - Math.sin(r2))), i;
}
function y2(n3, t2, i = [0, 0], r2 = false) {
  const s4 = u(n3 / s2.radius);
  return i[0] = r2 ? s4 : s4 - 360 * Math.floor((s4 + 180) / 360), i[1] = u(Math.PI / 2 - 2 * Math.atan(Math.exp(-t2 / s2.radius))), i;
}
function d(e2, i = false, r2 = a(e2)) {
  return m(e2, M, f2.WebMercator, i, r2);
}
function R(e2, i = false, r2 = a(e2)) {
  return m(e2, y2, f2.WGS84, i, r2);
}

// node_modules/@arcgis/core/geometry/support/pointUtils.js
function t(t2, n3) {
  const r2 = t2.x - n3.x, s4 = t2.y - n3.y, a5 = t2.hasZ && n3.hasZ ? t2.z - n3.z : 0;
  return Math.sqrt(r2 * r2 + s4 * s4 + a5 * a5);
}

// node_modules/@arcgis/core/geometry/Point.js
var y3;
var m2 = [0, 0];
function f4(e2) {
  return e2 && ("esri.geometry.SpatialReference" === e2.declaredClass || null != e2.wkid);
}
var g2 = y3 = class extends n2 {
  static copy(e2, t2) {
    t2._set("x", e2._get("x")), t2._set("y", e2._get("y")), t2._set("z", e2._get("z")), t2._set("m", e2._get("m"));
    const r2 = e2._get("spatialReference");
    t2._set("spatialReference", Object.isFrozen(r2) ? r2 : r2.clone());
  }
  constructor(...e2) {
    super(...e2), this.x = 0, this.y = 0, this.z = void 0, this.m = void 0, this.type = "point";
  }
  normalizeCtorArgs(e2, r2, i, s4, o3) {
    let a5;
    if (Array.isArray(e2))
      a5 = e2, o3 = r2, e2 = a5[0], r2 = a5[1], i = a5[2], s4 = a5[3];
    else if (e2 && "object" == typeof e2) {
      if (a5 = e2, e2 = null != a5.x ? a5.x : a5.longitude, r2 = null != a5.y ? a5.y : a5.latitude, i = a5.z, s4 = a5.m, (o3 = a5.spatialReference) && "esri.geometry.SpatialReference" !== o3.declaredClass && (o3 = new f2(o3)), null != a5.longitude || null != a5.latitude) {
        if (null == a5.longitude)
          n.getLogger(this).warn(".longitude=", "Latitude was defined without longitude");
        else if (null == a5.latitude)
          n.getLogger(this).warn(".latitude=", "Longitude was defined without latitude");
        else if (!a5.declaredClass && o3 && o3.isWebMercator) {
          const t2 = M(a5.longitude, a5.latitude, m2);
          e2 = t2[0], r2 = t2[1];
        }
      }
    } else
      f4(i) ? (o3 = i, i = null) : f4(s4) && (o3 = s4, s4 = null);
    const l2 = { x: e2, y: r2 };
    return null == l2.x && null != l2.y ? n.getLogger(this).warn(".y=", "Y coordinate was defined without an X coordinate") : null == l2.y && null != l2.x && n.getLogger(this).warn(".x=", "X coordinate was defined without a Y coordinate"), null != o3 && (l2.spatialReference = o3), null != i && (l2.z = i), null != s4 && (l2.m = s4), l2;
  }
  get cache() {
    return this.commitProperty("x"), this.commitProperty("y"), this.commitProperty("z"), this.commitProperty("m"), this.commitProperty("spatialReference"), {};
  }
  get hasM() {
    return void 0 !== this.m;
  }
  set hasM(e2) {
    e2 !== (void 0 !== this._get("m")) && (this._set("m", e2 ? 0 : void 0), this._set("hasM", e2));
  }
  get hasZ() {
    return void 0 !== this.z;
  }
  set hasZ(e2) {
    e2 !== (void 0 !== this._get("z")) && (this._set("z", e2 ? 0 : void 0), this._set("hasZ", e2));
  }
  get latitude() {
    const { spatialReference: e2, x: t2, y: r2 } = this;
    if (e2) {
      if (e2.isWebMercator)
        return y2(t2, r2, m2)[1];
      if (e2.isGeographic)
        return r2;
    }
    return null;
  }
  set latitude(e2) {
    const { spatialReference: t2, x: r2 } = this;
    null != e2 && t2 && (t2.isWebMercator ? this._set("y", M(r2, e2, m2)[1]) : t2.isGeographic && this._set("y", e2), this._set("latitude", e2));
  }
  get longitude() {
    const { x: e2, y: t2, spatialReference: r2 } = this;
    if (r2) {
      if (r2.isWebMercator)
        return y2(e2, t2, m2)[0];
      if (r2.isGeographic)
        return e2;
    }
    return null;
  }
  set longitude(e2) {
    const { y: t2, spatialReference: r2 } = this;
    null != e2 && r2 && (r2.isWebMercator ? this._set("x", M(e2, t2, m2)[0]) : r2.isGeographic && this._set("x", e2), this._set("longitude", e2));
  }
  writeX(e2, t2, r2) {
    t2[r2] = isNaN(e2) ? "NaN" : e2;
  }
  readX(e2) {
    return "string" == typeof e2 ? NaN : e2;
  }
  clone() {
    const e2 = new y3();
    return e2.x = this.x, e2.y = this.y, e2.z = this.z, e2.m = this.m, e2.spatialReference = this.spatialReference, e2;
  }
  copy(e2) {
    return y3.copy(e2, this), this;
  }
  equals(e2) {
    if (null == e2)
      return false;
    const { x: t2, y: r2, z: i, m: s4, spatialReference: o3 } = this, { z: a5, m: l2 } = e2;
    let { x: n3, y: u2, spatialReference: c3 } = e2;
    if (!o3.equals(c3))
      if (o3.isWebMercator && c3.isWGS84)
        [n3, u2] = M(n3, u2), c3 = o3;
      else {
        if (!o3.isWGS84 || !c3.isWebMercator)
          return false;
        [n3, u2] = y2(n3, u2), c3 = o3;
      }
    return t2 === n3 && r2 === u2 && i === a5 && s4 === l2 && o3.wkid === c3.wkid;
  }
  offset(e2, t2, r2) {
    return this.x += e2, this.y += t2, null != r2 && (this.z = (this.z ?? 0) + r2), this;
  }
  normalize() {
    if (!this.spatialReference)
      return this;
    const e2 = s3(this.spatialReference);
    if (!e2)
      return this;
    let t2 = this.x;
    const [r2, i] = e2.valid, s4 = 2 * i;
    let o3;
    return t2 > i ? (o3 = Math.ceil(Math.abs(t2 - i) / s4), t2 -= o3 * s4) : t2 < r2 && (o3 = Math.ceil(Math.abs(t2 - r2) / s4), t2 += o3 * s4), this._set("x", t2), this;
  }
  distance(e2) {
    return t(this, e2);
  }
  toArray() {
    const e2 = this.hasZ, t2 = this.hasM;
    return e2 && t2 ? [this.x, this.y, this.z, this.m] : e2 ? [this.x, this.y, this.z] : t2 ? [this.x, this.y, this.m] : [this.x, this.y];
  }
  toJSON(e2) {
    return this.write({}, e2);
  }
};
e([y({ readOnly: true })], g2.prototype, "cache", null), e([y({ type: Boolean, json: { read: false, write: { enabled: false, overridePolicy: null } } })], g2.prototype, "hasM", null), e([y({ type: Boolean, json: { read: false, write: { enabled: false, overridePolicy: null } } })], g2.prototype, "hasZ", null), e([y({ type: Number })], g2.prototype, "latitude", null), e([y({ type: Number })], g2.prototype, "longitude", null), e([y({ type: Number, json: { type: [Number, String], write: { isRequired: true, allowNull: true } } }), s((e2) => isNaN(e2) ? e2 : a2(e2))], g2.prototype, "x", void 0), e([r("x")], g2.prototype, "writeX", null), e([o("x")], g2.prototype, "readX", null), e([y({ type: Number, json: { write: true } })], g2.prototype, "y", void 0), e([y({ type: Number, json: { write: { overridePolicy() {
  return { enabled: this.hasZ };
} } } })], g2.prototype, "z", void 0), e([y({ type: Number, json: { write: { overridePolicy() {
  return { enabled: this.hasM };
} } } })], g2.prototype, "m", void 0), g2 = y3 = e([a3("esri.geometry.Point")], g2), g2.prototype.toJSON.isDefaultToJSON = true;
var x2 = g2;

export {
  n2 as n,
  p,
  f3 as f,
  x,
  g,
  M,
  y2 as y,
  d,
  R,
  x2
};
//# sourceMappingURL=chunk-M5ZB5S5C.js.map
