{
  "version": 3,
  "sources": ["../../@arcgis/map-components/dist/esm/arcgis-directions.entry.js"],
  "sourcesContent": ["/*!\n * All material copyright Esri, All Rights Reserved, unless otherwise specified.\n * See https://js.arcgis.com/4.30/esri/copyright.txt for details.\n * v4.30.0-next.13\n */\nimport { r as registerInstance, c as createEvent, h, g as getElement } from './index-2198b48c.js';\nimport { p as newLayersRouteLayer, q as newWidgetsDirections, i as importCoreReactiveUtils } from './index-08887307.js';\nimport { r as referenceElementHelper, i as isNullOrEmptyString, c as checkForView, a as addHandles } from './component-utils-97b1c3e3.js';\nimport { o as onDisconnectedHelper } from './disconnected-45c113cb.js';\n\nconst directionsCss = \"\";\n\nconst ArcgisDirections = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.arcgisDirectionsReady = createEvent(this, \"arcgisDirectionsReady\", 7);\n        this.arcgisPropertyChange = createEvent(this, \"arcgisPropertyChange\", 7);\n        this._watchHandles = [];\n        this.referenceElement = undefined;\n        this.apiKey = undefined;\n        this.icon = undefined;\n        this.routeLayerItemId = undefined;\n        this.lastRoute = undefined;\n        this.layer = undefined;\n        this.maxStops = 50;\n        this.searchProperties = undefined;\n        this.unit = undefined;\n        this.useDefaultRouteLayer = true;\n        this.visibleElementsLayerDetails = true;\n        this.visibleElementsSaveAsButton = true;\n        this.visibleElementsSaveButton = true;\n        this.position = \"bottom-left\";\n        this.view = undefined;\n        this.widget = undefined;\n    }\n    referenceElementWatcher(value) {\n        void referenceElementHelper(this, value);\n    }\n    apiKeyWatcher(value) {\n        if (value && this.widget) {\n            this.widget.apiKey = value;\n        }\n    }\n    iconWatcher(value) {\n        if (value && this.widget) {\n            this.widget.icon = value;\n        }\n    }\n    routeLayerItemIdWatcher(value) {\n        if (isNullOrEmptyString(value)) {\n            this.view?.map.remove(this.layer);\n            // maintain a default route layer\n            if (this.useDefaultRouteLayer) {\n                void newLayersRouteLayer({}).then((layer) => {\n                    this.layer = layer;\n                });\n            }\n        }\n        else if (value && this.widget) {\n            void newLayersRouteLayer({\n                portalItem: {\n                    id: value\n                }\n            }).then((layer) => {\n                this.layer = layer;\n            });\n        }\n    }\n    layerWatcher(value, old) {\n        if (old) {\n            this.view?.map.remove(old);\n        }\n        if (value && this.widget) {\n            this.widget.layer = value;\n            this.view?.map.add(this.layer);\n        }\n        else if (!value) {\n            this.widget.layer = null;\n        }\n    }\n    maxStopsWatcher(value) {\n        if (value !== undefined && this.widget) {\n            this.widget.maxStops = value;\n        }\n    }\n    searchPropertiesWatcher(value) {\n        if (this.widget) {\n            this.widget.searchProperties = value;\n        }\n    }\n    unitWatcher(value) {\n        if (this.widget) {\n            this.widget.unit = value;\n        }\n    }\n    visibleElementsLayerDetailsWatcher(value) {\n        if (this.widget) {\n            this.widget.visibleElements = {\n                ...this.widget.visibleElements,\n                layerDetails: value\n            };\n        }\n    }\n    visibleElementsSaveAsButtonWatcher(value) {\n        if (this.widget) {\n            this.widget.visibleElements = {\n                ...this.widget.visibleElements,\n                saveAsButton: value\n            };\n        }\n    }\n    visibleElementsSaveButtonWatcher(value) {\n        if (this.widget) {\n            this.widget.visibleElements = {\n                ...this.widget.visibleElements,\n                saveButton: value\n            };\n        }\n    }\n    positionWatcher(value) {\n        if (value !== undefined && this.widget) {\n            this.view.ui.move(this.childElem, value);\n        }\n    }\n    viewWatcher(value) {\n        if (value !== undefined && this.widget) {\n            this.widget.view = value;\n            if (this.layer) {\n                this.widget.view.map.add(this.layer);\n            }\n        }\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Methods\n    //\n    //--------------------------------------------------------------------------\n    async getDirections() {\n        return await this.widget?.getDirections();\n    }\n    async save() {\n        return await this.widget?.save();\n    }\n    async saveAs(portalItem, options) {\n        return await this.widget?.saveAs(portalItem, options);\n    }\n    async zoomToRoute() {\n        this.widget?.zoomToRoute();\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    //--------------------------------------------------------------------------\n    async componentDidLoad() {\n        const params = await this._createParams();\n        const widget = await newWidgetsDirections(params);\n        this.widget = widget;\n        await this._addWatchers();\n        this._addContainer();\n        this.arcgisDirectionsReady.emit();\n        checkForView(this);\n    }\n    disconnectedCallback() {\n        onDisconnectedHelper(this);\n    }\n    render() {\n        return h(\"div\", { ref: (el) => (this.childElem = el) });\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    //--------------------------------------------------------------------------\n    _addContainer() {\n        this.widget.container = this.childElem;\n    }\n    async _addWatchers() {\n        const { watch } = await importCoreReactiveUtils();\n        addHandles(this, watch(() => this.widget.lastRoute, (value) => {\n            this.lastRoute = value;\n            this.arcgisPropertyChange.emit({ name: \"lastRoute\" });\n        }, {\n            initial: true\n        }));\n    }\n    async _createParams() {\n        const params = {};\n        params.visibleElements = {\n            layerDetails: this.visibleElementsLayerDetails,\n            saveAsButton: this.visibleElementsSaveAsButton,\n            saveButton: this.visibleElementsSaveButton\n        };\n        if (this.view) {\n            params.view = this.view;\n        }\n        if (this.apiKey) {\n            params.apiKey = this.apiKey;\n        }\n        if (this.icon) {\n            params.icon = this.icon;\n        }\n        if (this.routeLayerItemId) {\n            params.layer = await newLayersRouteLayer({\n                portalItem: {\n                    id: this.routeLayerItemId\n                }\n            });\n            this.layer = params.layer;\n        }\n        else if (this.layer) {\n            params.layer = this.layer;\n            this.layer = params.layer;\n        }\n        else if (this.useDefaultRouteLayer) {\n            params.layer = await newLayersRouteLayer({});\n            this.layer = params.layer;\n        }\n        if (this.layer !== undefined) {\n            this.view?.map.add(this.layer);\n        }\n        if (this.maxStops !== undefined) {\n            params.maxStops = this.maxStops;\n        }\n        if (this.searchProperties) {\n            params.searchProperties = this.searchProperties;\n        }\n        if (this.unit) {\n            params.unit = this.unit;\n        }\n        return params;\n    }\n    get el() { return getElement(this); }\n    static get watchers() { return {\n        \"referenceElement\": [\"referenceElementWatcher\"],\n        \"apiKey\": [\"apiKeyWatcher\"],\n        \"icon\": [\"iconWatcher\"],\n        \"routeLayerItemId\": [\"routeLayerItemIdWatcher\"],\n        \"layer\": [\"layerWatcher\"],\n        \"maxStops\": [\"maxStopsWatcher\"],\n        \"searchProperties\": [\"searchPropertiesWatcher\"],\n        \"unit\": [\"unitWatcher\"],\n        \"visibleElementsLayerDetails\": [\"visibleElementsLayerDetailsWatcher\"],\n        \"visibleElementsSaveAsButton\": [\"visibleElementsSaveAsButtonWatcher\"],\n        \"visibleElementsSaveButton\": [\"visibleElementsSaveButtonWatcher\"],\n        \"position\": [\"positionWatcher\"],\n        \"view\": [\"viewWatcher\"]\n    }; }\n};\nArcgisDirections.style = directionsCss;\n\nexport { ArcgisDirections as arcgis_directions };\n"],
  "mappings": "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",
  "names": []
}
