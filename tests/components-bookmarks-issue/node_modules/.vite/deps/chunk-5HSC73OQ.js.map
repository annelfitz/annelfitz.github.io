{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/support/TileInfoTilemapCache.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport l from\"../../core/Error.js\";import{waitTick as t,isAbortError as i}from\"../../core/promiseUtils.js\";class e{constructor(l,t=0,i=l.lods[l.lods.length-1].level){this.tileInfo=l,this.minLOD=t,this.maxLOD=i,l.lodAt(t)||(this.minLOD=l.lods[0].level),l.lodAt(i)||(this.maxLOD=l.lods[l.lods.length-1].level)}get effectiveMinLOD(){return this.minLOD??this.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}getAvailability(l,t,i){const e=this.tileInfo?.lodAt(l);return!e||l<this.minLOD||l>this.maxLOD?\"unavailable\":e.cols&&e.rows?i>=e.cols[0]&&i<=e.cols[1]&&t>=e.rows[0]&&t<=e.rows[1]?\"unknown\":\"unavailable\":\"unknown\"}async fetchAvailability(i,e,o,s){await t(s);const a=this.getAvailability(i,e,o);if(\"unavailable\"===a)throw new l(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:i,row:e,col:o});return a}async fetchAvailabilityUpsample(l,e,o,s,a){await t(a),s.level=l,s.row=e,s.col=o;const n=this.tileInfo;return n.updateTileInfo(s),this.fetchAvailability(l,e,o,a).catch((l=>{if(i(l))throw l;if(n.upsampleTile(s))return this.fetchAvailabilityUpsample(s.level,s.row,s.col,s,a);throw l}))}}export{e as default};\n"],
  "mappings": ";;;;;;;;;AAI2G,IAAM,IAAN,MAAO;AAAA,EAAC,YAAY,GAAE,IAAE,GAAE,IAAE,EAAE,KAAK,EAAE,KAAK,SAAO,CAAC,EAAE,OAAM;AAAC,SAAK,WAAS,GAAE,KAAK,SAAO,GAAE,KAAK,SAAO,GAAE,EAAE,MAAM,CAAC,MAAI,KAAK,SAAO,EAAE,KAAK,CAAC,EAAE,QAAO,EAAE,MAAM,CAAC,MAAI,KAAK,SAAO,EAAE,KAAK,EAAE,KAAK,SAAO,CAAC,EAAE;AAAA,EAAM;AAAA,EAAC,IAAI,kBAAiB;AAAC,WAAO,KAAK,UAAQ,KAAK,SAAS,KAAK,CAAC,EAAE;AAAA,EAAK;AAAA,EAAC,IAAI,kBAAiB;AAAC,WAAO,KAAK,UAAQ,KAAK,SAAS,KAAK,KAAK,SAAS,KAAK,SAAO,CAAC,EAAE;AAAA,EAAK;AAAA,EAAC,gBAAgB,GAAE,GAAE,GAAE;AAJhf;AAIif,UAAMA,MAAE,UAAK,aAAL,mBAAe,MAAM;AAAG,WAAM,CAACA,MAAG,IAAE,KAAK,UAAQ,IAAE,KAAK,SAAO,gBAAcA,GAAE,QAAMA,GAAE,OAAK,KAAGA,GAAE,KAAK,CAAC,KAAG,KAAGA,GAAE,KAAK,CAAC,KAAG,KAAGA,GAAE,KAAK,CAAC,KAAG,KAAGA,GAAE,KAAK,CAAC,IAAE,YAAU,gBAAc;AAAA,EAAS;AAAA,EAAC,MAAM,kBAAkB,GAAEA,IAAE,GAAEC,IAAE;AAAC,UAAM,EAAEA,EAAC;AAAE,UAAM,IAAE,KAAK,gBAAgB,GAAED,IAAE,CAAC;AAAE,QAAG,kBAAgB;AAAE,YAAM,IAAI,EAAE,6BAA4B,yBAAwB,EAAC,OAAM,GAAE,KAAIA,IAAE,KAAI,EAAC,CAAC;AAAE,WAAO;AAAA,EAAC;AAAA,EAAC,MAAM,0BAA0B,GAAEA,IAAE,GAAEC,IAAE,GAAE;AAAC,UAAM,EAAE,CAAC,GAAEA,GAAE,QAAM,GAAEA,GAAE,MAAID,IAAEC,GAAE,MAAI;AAAE,UAAM,IAAE,KAAK;AAAS,WAAO,EAAE,eAAeA,EAAC,GAAE,KAAK,kBAAkB,GAAED,IAAE,GAAE,CAAC,EAAE,MAAO,CAAAE,OAAG;AAAC,UAAG,EAAEA,EAAC;AAAE,cAAMA;AAAE,UAAG,EAAE,aAAaD,EAAC;AAAE,eAAO,KAAK,0BAA0BA,GAAE,OAAMA,GAAE,KAAIA,GAAE,KAAIA,IAAE,CAAC;AAAE,YAAMC;AAAA,IAAC,CAAE;AAAA,EAAC;AAAC;",
  "names": ["e", "s", "l"]
}
