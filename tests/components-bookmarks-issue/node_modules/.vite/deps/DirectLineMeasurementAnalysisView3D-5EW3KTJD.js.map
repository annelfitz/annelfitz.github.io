{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/analysis/DirectLineMeasurement/DirectLineMeasurementController.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/MeasurementArrowTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/MeasurementArrowMaterial.js", "../../@arcgis/core/views/3d/interactive/visualElements/MeasurementArrowVisualElement.js", "../../@arcgis/core/views/3d/analysis/DirectLineMeasurement/DirectLineMeasurementVisualization.js", "../../@arcgis/core/views/3d/analysis/DirectLineMeasurementAnalysisView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Logger.js\";import{watch as o,syncAndInitial as r}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{MeasurementMode as a}from\"../interfaces.js\";import{applyProjectionAndElevationAlignment as l,logFailedGeometryProjectionError as c}from\"../support/projectionUtils.js\";import{euclideanDistanceBetweenPoints as p}from\"../../../support/euclideanLengthMeasurementUtils.js\";import{geodesicDistanceBetweenPoints as u}from\"../../../support/geodesicLengthMeasurementUtils.js\";import{geodesicDistanceThreshold as d}from\"../../../support/geodesicMeasurementUtils.js\";let m=class extends t{constructor(e){super(e)}initialize(){this.addHandles([o((()=>({viewData:this.viewData,startPoint:this.analysis.startPoint})),(({viewData:e,startPoint:t})=>{e.elevationAlignedStartPoint=this._applyProjectionAndElevationAlignment(t)}),r),o((()=>({viewData:this.viewData,endPoint:this.analysis.endPoint})),(({viewData:e,endPoint:t})=>{e.elevationAlignedEndPoint=this._applyProjectionAndElevationAlignment(t)}),r),o((()=>({result:this._computedResult,viewData:this.viewData})),(({result:e,viewData:t})=>{t.result=e}),r)])}_applyProjectionAndElevationAlignment(e){if(null==e)return e;const{spatialReference:t,elevationProvider:o}=this.view,r=l(e,t,o);return r??(c(this.analysis,e.spatialReference,i.getLogger(this)),null)}get _computedResult(){const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t,measurementMode:i}=this.viewData;if(null==e||null==t)return null;const o=p(e,t),r=u(e,t);if(null==o)return null;let s,n;switch(i){case a.Auto:n=null!=r?\"geodesic\":\"euclidean\",s=r??o.horizontal;break;case a.Geodesic:if(null==r)return null;n=\"geodesic\",s=r;break;case a.Euclidean:n=\"euclidean\",s=o.horizontal}return{mode:n,directDistance:o.direct,horizontalDistance:s,verticalDistance:o.vertical,distance:i===a.Euclidean||o.horizontal.value<=d?o.direct:r??o.horizontal}}};e([s()],m.prototype,\"view\",void 0),e([s()],m.prototype,\"analysis\",void 0),e([s()],m.prototype,\"viewData\",void 0),e([s()],m.prototype,\"_computedResult\",null),m=e([n(\"esri.views.3d.analysis.DirectLineMeasurement.DirectLineMeasurementController\")],m);export{m as DirectLineMeasurementController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as n}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{blendingDefault as o,oitBlending as s}from\"../lib/OrderIndependentTransparency.js\";import{Program as i}from\"../lib/Program.js\";import{TransparencyPassType as a}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as p}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as l}from\"../materials/DefaultTechniqueConfiguration.js\";import{M as u}from\"../../../../chunks/MeasurementArrow.glsl.js\";import{CompareFunction as c,PrimitiveType as m}from\"../../../webgl/enums.js\";import{makePipelineState as f,defaultDepthWriteParams as d,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";class g extends t{constructor(e,r,t){super(e,r,t)}initializeProgram(e){return new i(e.rctx,g.shader.get().build(this.configuration),y)}_setPipelineState(e){const r=e===a.NONE,t=this.configuration;return f({blending:t.transparent?r?o:s(e):null,polygonOffset:this.configuration.polygonOffsetEnabled?{factor:0,units:-4}:null,depthTest:{func:c.LESS},depthWrite:d,colorWrite:h})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}get primitiveType(){return m.TRIANGLE_STRIP}}g.shader=new r(u,(()=>import(\"./MeasurementArrow.glsl.js\")));class T extends l{constructor(){super(...arguments),this.polygonOffsetEnabled=!1,this.transparent=!1,this.transparencyPassType=a.NONE}}e([n()],T.prototype,\"polygonOffsetEnabled\",void 0),e([n()],T.prototype,\"transparent\",void 0),e([n({count:a.COUNT})],T.prototype,\"transparencyPassType\",void 0);const y=new Map([[p.POSITION,0],[p.NORMAL,1],[p.UV0,2],[p.LENGTH,3]]);export{y as MeasurementArrowAttributeLocations,g as MeasurementArrowTechnique,T as MeasurementArrowTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{s as t,n as e,f as r,b as s,q as o,e as i}from\"../../../../chunks/vec32.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as a}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{newLayout as c}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as l}from\"../core/shaderLibrary/ShaderOutput.js\";import u from\"../lib/GLMaterial.js\";import{Material as p,MaterialParameters as f}from\"../lib/Material.js\";import{RenderSlot as h}from\"../lib/RenderSlot.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{MeasurementArrowAttributeLocations as g,MeasurementArrowTechniqueConfiguration as d,MeasurementArrowTechnique as b}from\"../shaders/MeasurementArrowTechnique.js\";class A extends p{constructor(t){super(t,new _),this._vertexAttributeLocations=g,this.produces=new Map([[h.OPAQUE_MATERIAL,t=>!this._transparent&&(t===l.Color||t===l.Alpha)],[h.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,t=>this._transparent&&(t===l.Color||t===l.Alpha)]]),this._configuration=new d}getConfiguration(t,e){return this._configuration.polygonOffsetEnabled=this.parameters.polygonOffset,this._configuration.transparent=this._transparent,this._configuration.transparencyPassType=e.transparencyPassType,this._configuration}intersect(){}createGLMaterial(t){return new O(t)}createBufferWriter(){return new j}get _transparent(){const{parameters:t}=this;return t.outlineColor[3]<1||t.stripeEvenColor[3]<1||t.stripeOddColor[3]<1}}class O extends u{beginSlot(t){return this.ensureTechnique(b,t)}}class _ extends f{constructor(){super(...arguments),this.width=32,this.outlineSize=.2,this.outlineColor=a(1,.5,0,1),this.stripeEvenColor=a(1,1,1,1),this.stripeOddColor=a(1,.5,0,1),this.stripeLength=1,this.polygonOffset=!1}}const T=c().vec3f(m.POSITION).vec3f(m.NORMAL).vec2f(m.UV0).f32(m.LENGTH),L=n(),v=n(),E=n(),I=n(),M=n();class j{constructor(){this.vertexBufferLayout=T}elementCount(t){return 2*(t.attributes.get(m.POSITION).indices.length/2+1)}write(n,a,c,l,u){const{data:p,indices:f}=c.attributes.get(m.POSITION),h=c.attributes.get(m.NORMAL).data,g=p.length/3;f&&f.length!==2*(g-1)&&console.warn(\"MeasurementArrowMaterial does not support indices\");const d=L,b=v,A=E,O=I,_=M,T=l.position,j=l.normal,w=l.uv0;let y=0;for(let m=0;m<g;++m){const c=3*m;if(t(d,p[c],p[c+1],p[c+2]),m<g-1){const o=3*(m+1);t(b,p[o],p[o+1],p[o+2]),t(_,h[o],h[o+1],h[o+2]),e(_,_),r(A,b,d),e(A,A),s(O,_,A),e(O,O)}const l=o(d,b);n&&a&&(i(d,d,n),i(b,b,n),i(O,O,a));const f=u+2*m,L=f+1;T.setVec(f,d),T.setVec(L,d),j.setVec(f,O),j.setVec(L,O),w.set(f,0,y),w.set(f,1,-1),w.set(L,0,y),w.set(L,1,1),m<g-1&&(y+=l)}const C=l.length;for(let t=0;t<2*g;++t)C.set(u+t,y)}}export{A as MeasurementArrowMaterial,_ as Parameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{colorVectorEquals as e}from\"../../../../core/colorUtils.js\";import t from\"../../../../core/Handles.js\";import{destroyMaybe as r}from\"../../../../core/maybe.js\";import{watch as s}from\"../../../../core/reactiveUtils.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{f as i}from\"../../../../chunks/vec32.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{c as n}from\"../../../../chunks/vec42.js\";import{create as h}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{sv3d as l}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as c}from\"./Object3DVisualElement.js\";import{createPolylineGeometry as d}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as _}from\"../../webgl-engine/lib/Material.js\";import{MeasurementArrowMaterial as m}from\"../../webgl-engine/materials/MeasurementArrowMaterial.js\";class p extends c{constructor(e){super(e),this._arrowWidth=16,this._arrowSubdivisions=128,this._origin=a(),this._originTransform=o(),this._arrowCenter=a(),this._renderOccluded=_.OccludeAndTransparent,this._geometry=null,this._stripeLength=1,this._stripesEnabled=!0,this._color=h(),this._contrastColor=h(),this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._arrowMaterial&&this._arrowMaterial.setParameters({renderOccluded:e}))}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this._geometryChanged()}get stripeLength(){return this._stripeLength}set stripeLength(e){this._stripeLength=e,this.attached&&this._arrowMaterial.setParameters({stripeLength:this._stripeLength})}get stripesEnabled(){return this._stripesEnabled}set stripesEnabled(e){if(this._stripesEnabled=e,this.attached){const e=this._stripesEnabled?this._contrastColor:this._color;this._arrowMaterial.setParameters({stripeEvenColor:e})}}get color(){return this._color}set color(t){e(t,this._color)||(n(this._color,t),this._updateArrowColor())}get contrastColor(){return this._contrastColor}set contrastColor(t){e(t,this._color)||(n(this._contrastColor,t),this._updateArrowColor())}createExternalResources(){const e=this._color,r=this._contrastColor,o=this._stripesEnabled?r:e;this._arrowMaterial=new m({outlineColor:e,stripeEvenColor:o,stripeOddColor:e,renderOccluded:this.renderOccluded,polygonOffset:!0,isDecoration:this.isDecoration}),this._handles=new t,this._handles.add(s((()=>this.view.state.camera),(()=>{this._viewChanged()})))}destroyExternalResources(){this._arrowMaterial=null,this._handles=r(this._handles)}forEachExternalMaterial(e){e(this._arrowMaterial)}createGeometries(e){if(null==this._geometry?.startRenderSpace||null==this._geometry.endRenderSpace)return;const t=this._createArrowGeometry(this._geometry.startRenderSpace,this._geometry.endRenderSpace,this._origin,this._geometry);t.transformation=this._originTransform,e.addGeometry(t),this._viewChanged()}_createArrowGeometry(e,t,r,s){const o=this.view.renderCoordsHelper,a=[],n=[],h=(e,t)=>{const s=l.get();i(s,e,r),a.push(s),n.push(t)};if(\"euclidean\"===s.type){s.eval(.5,this._arrowCenter);const r=l.get();o.worldUpAtPosition(this._arrowCenter,r),h(e,r),h(t,r)}else{s.eval(.5,this._arrowCenter);const e=this._arrowSubdivisions+1&-2;for(let t=0;t<e;++t){const r=t/(e-1),i=l.get(),a=l.get();s.eval(r,i),o.worldUpAtPosition(i,a),h(i,a)}}return d(this._arrowMaterial,a,n)}_geometryChanged(){this.recreateGeometry()}_viewChanged(){if(this.view.ready&&this.attached&&null!=this._geometry){const e=this.view.state.camera.computeScreenPixelSizeAt(this._arrowCenter);this._arrowMaterial.setParameters({width:this._arrowWidth*e})}}_updateArrowColor(){if(!this.attached)return;const e=this._color,t=this._contrastColor,r=this._stripesEnabled?t:e,s=e,o=e;this._arrowMaterial.setParameters({stripeEvenColor:r,outlineColor:s,stripeOddColor:o})}}export{p as MeasurementArrowVisualElement};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../intl.js\";import t from\"../../../../core/Accessor.js\";import{unitRGBAFromColor as i,multiplyOpacityToUnitRGBA as s,getContrast as n,BrightnessThreshold as o,multiplyOpacity as r}from\"../../../../core/colorUtils.js\";import{nextHighestPowerOfTen as l,deg2rad as a}from\"../../../../core/mathUtils.js\";import{destroyMaybe as c}from\"../../../../core/maybe.js\";import{formatDecimal as h,formatImperialLength as d,formatImperialVerticalLength as u,formatMetricLength as m,formatMetricVerticalLength as g}from\"../../../../core/quantityFormatUtils.js\";import{toUnit as p}from\"../../../../core/quantityUtils.js\";import{watch as _,syncAndInitial as v,initial as b}from\"../../../../core/reactiveUtils.js\";import{createRenderScreenPointArray3 as L,createRenderScreenPointArray as w}from\"../../../../core/screenUtils.js\";import{adaptiveImperialLengthUnit as S,convertUnit as f}from\"../../../../core/unitUtils.js\";import{property as y}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as A}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{dot as E}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{h as V,g as P}from\"../../../../chunks/vec32.js\";import{create as z}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{MeasurementMode as j}from\"../interfaces.js\";import{ViewMode as M,VisualElementOrientation as C}from\"./interfaces.js\";import{LabelVisualElement as O,mirrorPosition as D}from\"../../interactive/visualElements/LabelVisualElement.js\";import{LineVisualElement as x}from\"../../interactive/visualElements/LineVisualElement.js\";import{MeasurementArrowVisualElement as G}from\"../../interactive/visualElements/MeasurementArrowVisualElement.js\";import{RightAngleQuadVisualElement as H}from\"../../interactive/visualElements/RightAngleQuadVisualElement.js\";import{GeodesicSegment as T,EuclideanSegment as k}from\"../../interactive/visualElements/support/Segment.js\";import{RenderOccludedFlag as U}from\"../../webgl-engine/lib/Material.js\";import{createStipplePatternSimple as R}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{renderScreenSpaceTangent as F}from\"../../../interactive/support/viewUtils.js\";import{geodesicDistanceThreshold as Q}from\"../../../support/geodesicMeasurementUtils.js\";import{onLocaleChange as q}from\"../../../../intl/locale.js\";import{fetchMessageBundle as B}from\"../../../../intl/messages.js\";let W=class extends t{get _parameters(){const e=this.view.effectiveTheme,{accentColor:t,textColor:l}=e,a=i(t),c=s(t,.75),h=i(n(t)),d=n(l,o.Low);return{accentColor:a,contrastColor:h,translucentAccentColor:c,triangleLineWidth:3,geodesicProjectionLineWidth:2,guideLineWidth:2,guideStippleLengthPixels:3,directLabelFontSize:16,horizontalLabelFontSize:12,verticalLabelFontSize:12,textColor:l,textBackgroundColor:r(d,.6),textCalloutColor:r(d,.5)}}get visible(){return this.analysisView.visible}get viewMode(){const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t}=this.analysisView;if(null==e||null==t||e.equals(t))return M.None;const i=this.analysisView.result;if(null==i)return M.Direct;if(\"geodesic\"===this.actualVisualizedMeasurement)return this._requiresGeodesicGuideAt(this._startPosition)||this._requiresGeodesicGuideAt(this._endPosition)?M.ProjectedGeodesic:M.Direct;const{verticalDistance:s,horizontalDistance:n}=i,o=s.value,r=n.value;return Math.min(o/r,r/o)<this.triangleCollapseRatioThreshold?M.Direct:M.Triangle}get actualVisualizedMeasurement(){const{measurementMode:e,result:t}=this.analysisView;switch(e){case j.Auto:return null!=t&&t.horizontalDistance.value>Q?\"geodesic\":\"euclidean\";case j.Euclidean:return\"euclidean\";case j.Geodesic:return\"geodesic\"}}get allowVisualElementsOrientationChange(){return null==this._triangleOrientationOverride}set allowVisualElementsOrientationChange(e){null==this._triangleOrientationOverride!==e&&(null==this._triangleOrientationOverride?this._triangleOrientationOverride=this._actualVisualElementsOrientation:this._triangleOrientationOverride=null)}get labels(){return\"geodesic\"===this.actualVisualizedMeasurement?{direct:null,horizontal:this._segmentLabel,vertical:this._verticalLabel}:{direct:this._segmentLabel,horizontal:this._horizontalLabel,vertical:this._verticalLabel}}constructor(e){super(e),this._segmentVisualElement=null,this._triangleVisualElement=null,this._rightAngleQuad=null,this._projectedGeodesicLine=null,this._geodesicStartHint=null,this._geodesicEndHint=null,this._segmentLabel=null,this._verticalLabel=null,this._horizontalLabel=null,this._startPosition=z(),this._endPosition=z(),this._cornerPosition=z(),this._startPositionAtSeaLevel=z(),this._endPositionAtSeaLevel=z(),this._triangleOrientationOverride=null,this.messages=null,this.loadingMessages=!0,this.visualElementOrientation=C.Auto,this.triangleCollapseRatioThreshold=.03}initialize(){const e=this._parameters,t={attached:!0,view:this.view,isDecoration:!0},{guideLineWidth:i,guideStippleLengthPixels:s,triangleLineWidth:n,geodesicProjectionLineWidth:o,directLabelFontSize:r,verticalLabelFontSize:l,horizontalLabelFontSize:a}=e;this._segmentVisualElement=new G({...t,geometry:null,renderOccluded:U.OccludeAndTransparent}),this._triangleVisualElement=new x({...t,width:n,renderOccluded:U.OccludeAndTransparent}),this._rightAngleQuad=new H({...t,renderOccluded:U.OccludeAndTransparent});const c={...t,polygonOffset:!0,renderOccluded:U.OccludeAndTransparent};this._projectedGeodesicLine=new x({...c,width:o,stipplePattern:R(s)}),this._geodesicStartHint=new x({...c,width:i,stipplePattern:R(s)}),this._geodesicEndHint=new x({...c,width:i,stipplePattern:R(s)}),this._segmentLabel=new O({...t,fontSize:r}),this._verticalLabel=new O({...t,fontSize:l}),this._horizontalLabel=new O({...t,fontSize:a}),this.addHandles([_((()=>{const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t}=this.analysisView,i=this.view;return{view:i,camera:i.state.camera,viewMode:this.viewMode,elevationAlignedStartPoint:e,elevationAlignedEndPoint:t,orientation:this._actualVisualElementsOrientation,visualizedMeasurement:this.actualVisualizedMeasurement,stripeLength:this._measurementArrowStripeLength}}),(e=>this._updateGeometryAndViewMode(e)),v),_((()=>({visible:this.visible,viewMode:this.viewMode})),(e=>this._updateVisualElementVisibility(e)),v),_((()=>({text:this._labelsText,visualizedMeasurement:this.actualVisualizedMeasurement})),(e=>this._updateLabelText(e)),v),_((()=>({visible:this.visible,viewMode:this.viewMode})),(e=>this._updateLabelVisibility(e)),v),_((()=>this._measurementArrowStripeLength),(e=>this._updateSegmentStripeLength(e)),v),q((async()=>this._updateMessageBundle())),_((()=>this._parameters),(({textBackgroundColor:e,textCalloutColor:t,textColor:i,translucentAccentColor:s,accentColor:n,contrastColor:o})=>{const{_segmentLabel:r,_verticalLabel:l,_horizontalLabel:a,_triangleVisualElement:c,_rightAngleQuad:h,_projectedGeodesicLine:d,_geodesicStartHint:u,_geodesicEndHint:m,_segmentVisualElement:g}=this;r.backgroundColor=e,r.calloutColor=t,r.textColor=i,l.backgroundColor=e,l.calloutColor=t,l.textColor=i,a.backgroundColor=e,a.calloutColor=t,a.textColor=i,c.color=s,h.color=s,d.color=s,u.color=s,m.color=s,g.color=n,g.contrastColor=o}),b)]),this._updateMessageBundle()}destroy(){this._segmentVisualElement=c(this._segmentVisualElement),this._triangleVisualElement=c(this._triangleVisualElement),this._rightAngleQuad=c(this._rightAngleQuad),this._projectedGeodesicLine=c(this._projectedGeodesicLine),this._geodesicStartHint=c(this._geodesicStartHint),this._geodesicEndHint=c(this._geodesicEndHint),this._segmentLabel=c(this._segmentLabel),this._verticalLabel=c(this._verticalLabel),this._horizontalLabel=c(this._horizontalLabel),this.set(\"view\",null)}_updateVisualElementVisibility({visible:e,viewMode:t}){if(this._segmentVisualElement.visible=!1,this._triangleVisualElement.visible=!1,this._rightAngleQuad.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1,e)switch(t){case M.None:break;case M.Direct:this._segmentVisualElement.visible=!0;break;case M.Triangle:this._segmentVisualElement.visible=!0,this._triangleVisualElement.visible=!0,this._rightAngleQuad.visible=!0;break;case M.ProjectedGeodesic:this._segmentVisualElement.visible=!0,this._projectedGeodesicLine.visible=!0,this._geodesicStartHint.visible=!0,this._geodesicEndHint.visible=!0}}_updateGeometryAndViewMode({view:e,camera:t,viewMode:i,elevationAlignedStartPoint:s,elevationAlignedEndPoint:n,orientation:o,visualizedMeasurement:r,stripeLength:l}){const a=e.renderCoordsHelper;if(null==a||null==s||null==n||s.equals(n))return;let c=this._startPosition,h=this._endPosition;a.toRenderCoords(s,c),a.toRenderCoords(n,h);const d=o===C.AboveSegment?1:-1,u=d*(a.getAltitude(h)-a.getAltitude(c));u<0&&(c=this._endPosition,h=this._startPosition);const m=\"geodesic\"===r?new T(this._startPosition,this._endPosition,a.spatialReference):new k(this._startPosition,this._endPosition);switch(this._segmentVisualElement.geometry=m,this._updateSegmentStripeLength(l),i){case M.Direct:this._updateSegment(m,o);break;case M.Triangle:this._updateSegmentAndTriangle({view:e,camera:t,segment:m,orientation:o,startPosition:c,endPosition:h,deltaSign:d,altitudeDelta:u});break;case M.ProjectedGeodesic:this._updateSegmentAndProjection({view:e,orientation:o,startPosition:c,endPosition:h})}}_updateSegment(e,t){this._segmentLabel.anchor=t===C.AboveSegment?\"top\":\"bottom\",this._segmentLabel.geometry={type:\"segment\",segment:e,sampleLocation:\"center\"}}_updateSegmentAndTriangle({view:{renderCoordsHelper:e},camera:t,segment:i,orientation:s,startPosition:n,endPosition:o,deltaSign:r,altitudeDelta:l}){const a=this._cornerPosition;e.worldUpAtPosition(n,a),V(a,a,r*Math.abs(l)),P(a,a,n),this._triangleVisualElement.geometry=[[[n[0],n[1],n[2]],[a[0],a[1],a[2]],[o[0],o[1],o[2]]]],this._rightAngleQuad.geometry={previous:n,center:a,next:o};const c=new k(n,a),h=new k(a,o),d=N(n,o,a,s,t);this._segmentLabel.anchor=d.segment,this._segmentLabel.geometry={type:\"segment\",segment:i,sampleLocation:\"center\"},this._verticalLabel.geometry={type:\"segment\",segment:c,sampleLocation:\"center\"},this._verticalLabel.anchor=d.vertical,this._horizontalLabel.geometry={type:\"segment\",segment:h,sampleLocation:\"center\"},this._horizontalLabel.anchor=d.horizontal}_updateSegmentAndProjection({view:{renderCoordsHelper:e},orientation:t,startPosition:i,endPosition:s}){e.setAltitude(this._startPositionAtSeaLevel,0,i),e.setAltitude(this._endPositionAtSeaLevel,0,s);const n=new T(this._startPositionAtSeaLevel,this._endPositionAtSeaLevel,e.spatialReference);this._projectedGeodesicLine.setGeometryFromSegment(n),this._geodesicStartHint.setGeometryFromSegment(new k(this._startPositionAtSeaLevel,i)),this._geodesicEndHint.setGeometryFromSegment(new k(this._endPositionAtSeaLevel,s)),this._segmentLabel.geometry={type:\"segment\",segment:n,sampleLocation:\"center\"},this._segmentLabel.anchor=t===C.AboveSegment?\"top\":\"bottom\"}_updateLabelText({text:e,visualizedMeasurement:t}){null!=e?(this._segmentLabel.text=\"euclidean\"===t?e.directDistance:e.horizontalDistance,this._horizontalLabel.text=e.horizontalDistance,this._verticalLabel.text=e.verticalDistance):(this._segmentLabel.text=null,this._horizontalLabel.text=null,this._verticalLabel.text=null),this.notifyChange(\"labels\")}_updateLabelVisibility({visible:e,viewMode:t}){const i=this._segmentLabel,s=this._horizontalLabel,n=this._verticalLabel;if(i.visible=!1,s.visible=!1,n.visible=!1,e)switch(t){case M.Direct:i.visible=!0;break;case M.Triangle:i.visible=!0,s.visible=!0,n.visible=!0;break;case M.ProjectedGeodesic:i.visible=!0;case M.None:}}get _labelsText(){if(this.destroyed)return null;const e=this.messages,t=this.analysisView.result;if(null==t||null==e)return null;const{directDistance:i,horizontalDistance:s,verticalDistance:n}=t,o=this.analysisView.unit,r=e=>({directDistance:\"\",horizontalDistance:\"\",verticalDistance:\"\",...e});switch(o){case\"metric\":return r({directDistance:i&&m(e,i),horizontalDistance:s&&m(e,s),verticalDistance:n&&g(e,n)});case\"imperial\":return r({directDistance:i&&d(e,i),horizontalDistance:s&&d(e,s),verticalDistance:n&&u(e,n)});default:return r({directDistance:i&&h(e,i,o),horizontalDistance:s&&h(e,s,o),verticalDistance:n&&h(e,n,o)})}}_updateSegmentStripeLength(e){const t=this._segmentVisualElement;null!=e?(t.stripeLength=e,t.stripesEnabled=!0):t.stripesEnabled=!1}get _actualVisualElementsOrientation(){if(null!=this._triangleOrientationOverride)return this._triangleOrientationOverride;const e=this.visualElementOrientation;return e===C.Auto?this.view.state.camera.aboveGround?C.AboveSegment:C.BelowSegment:e}_requiresGeodesicGuideAt(e){const t=this.view;if(!t?.state)return!1;const i=t.state.camera,s=t.renderCoordsHelper;if(!s)return!1;const n=i.computeScreenPixelSizeAt(e);return s.getAltitude(e)/n>=10}get _measurementArrowStripeLength(){const{result:e,unit:t}=this.analysisView;if(null==e)return null;let i=null;const s=e.directDistance;switch(t){case\"metric\":i=s&&p(s,\"meters\");break;case\"imperial\":i=s&&p(s,S(s.value,s.unit));break;default:i=s&&p(s,t)}if(null==i)return null;return l(i.value/30)*f(1,i.unit,\"meters\")}_updateMessageBundle(){this.loadingMessages=!0,B(\"esri/core/t9n/Units\").then((e=>{this.messages=e})).finally((()=>{this.loadingMessages=!1}))}get testData(){return{labels:this.labels,stripeLength:this._segmentVisualElement?.stripeLength}}};function N(e,t,i,s,n){const o=J,r=K;n.projectToRenderScreen(i,o),n.projectToRenderScreen(t,r);const l={segment:\"bottom\",horizontal:\"top\",vertical:o[0]<r[0]?\"left\":\"right\"};{const s=X,o=Y;if(F(e,i,n,s),F(e,t,n,o),E(s,o)>=I){const e=Math.sign(s[1])===Math.sign(o[1]);l.segment=e?D(l.vertical):l.vertical}else{const e=Z;F(i,t,n,e),E(e,o)>=I&&(l.segment=Math.sign(e[0])===Math.sign(o[0])?D(l.horizontal):l.horizontal)}}if(s===C.BelowSegment){const e=e=>\"top\"===e?\"bottom\":\"top\";l.segment=e(l.segment),l.horizontal=e(l.horizontal),l.vertical=e(l.vertical)}return l}e([y()],W.prototype,\"_parameters\",null),e([y()],W.prototype,\"_triangleOrientationOverride\",void 0),e([y()],W.prototype,\"messages\",void 0),e([y()],W.prototype,\"view\",void 0),e([y()],W.prototype,\"analysis\",void 0),e([y()],W.prototype,\"analysisView\",void 0),e([y()],W.prototype,\"loadingMessages\",void 0),e([y()],W.prototype,\"visible\",null),e([y()],W.prototype,\"viewMode\",null),e([y()],W.prototype,\"actualVisualizedMeasurement\",null),e([y()],W.prototype,\"visualElementOrientation\",void 0),e([y()],W.prototype,\"triangleCollapseRatioThreshold\",void 0),e([y()],W.prototype,\"allowVisualElementsOrientationChange\",null),e([y()],W.prototype,\"labels\",null),e([y()],W.prototype,\"_labelsText\",null),e([y()],W.prototype,\"_actualVisualElementsOrientation\",null),e([y()],W.prototype,\"_measurementArrowStripeLength\",null),W=e([A(\"esri.views.3d.analysis.DirectLineMeasurement.DirectLineMeasurementVisualization\")],W);const I=Math.cos(a(12)),J=L(),K=L(),X=w(),Y=w(),Z=w();export{W as DirectLineMeasurementVisualization};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import{destroyMaybe as e}from\"../../../core/maybe.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{defaultUnitPropertyMetadata as l}from\"../../../properties/defaultUnit.js\";import{AnalysisView3D as n}from\"./AnalysisView3D.js\";import{MeasurementMode as o}from\"./interfaces.js\";import{DirectLineMeasurementController as r}from\"./DirectLineMeasurement/DirectLineMeasurementController.js\";import{DirectLineMeasurementVisualization as u}from\"./DirectLineMeasurement/DirectLineMeasurementVisualization.js\";let p=class extends(n(i)){constructor(t){super(t),this.type=\"direct-line-measurement-view-3d\",this.analysis=null,this.result=null,this.measurementMode=o.Auto,this.elevationAlignedStartPoint=null,this.elevationAlignedEndPoint=null}initialize(){const t=this.view,i=this.analysis;this._analysisVisualization=new u({view:t,analysis:i,analysisView:this}),this._analysisController=new r({view:t,analysis:i,viewData:this})}destroy(){this._analysisController=e(this._analysisController),this._analysisVisualization=e(this._analysisVisualization)}get updating(){return!!this._analysisVisualization?.loadingMessages}get viewMode(){return this._analysisVisualization.viewMode}get actualVisualizedMeasurement(){return this._analysisVisualization.actualVisualizedMeasurement}get visualElementOrientation(){return this._analysisVisualization.visualElementOrientation}set visualElementOrientation(t){this._analysisVisualization.visualElementOrientation=t}get allowVisualElementsOrientationChange(){return this._analysisVisualization.allowVisualElementsOrientationChange}set allowVisualElementsOrientationChange(t){this._analysisVisualization.allowVisualElementsOrientationChange=t}get triangleCollapseRatioThreshold(){return this._analysisVisualization.triangleCollapseRatioThreshold}set triangleCollapseRatioThreshold(t){this._analysisVisualization.triangleCollapseRatioThreshold=t}get directLabelText(){return this._analysisVisualization.labels.direct?.text??\"\"}get horizontalLabelText(){return this._analysisVisualization.labels.horizontal?.text??\"\"}get verticalLabelText(){return this._analysisVisualization.labels.vertical?.text??\"\"}get unit(){return this.analysis.unit??this._defaultUnit}get testData(){return this.destroyed?{labels:null,stripeLength:null,visualization:null,controller:null}:{...this._analysisVisualization?.testData,visualization:this._analysisVisualization,controller:this._analysisController}}};t([a()],p.prototype,\"updating\",null),t([a({readOnly:!0})],p.prototype,\"type\",void 0),t([a({constructOnly:!0,nonNullable:!0})],p.prototype,\"analysis\",void 0),t([a()],p.prototype,\"result\",void 0),t([a()],p.prototype,\"measurementMode\",void 0),t([a()],p.prototype,\"elevationAlignedStartPoint\",void 0),t([a()],p.prototype,\"elevationAlignedEndPoint\",void 0),t([a({readOnly:!0})],p.prototype,\"viewMode\",null),t([a({readOnly:!0})],p.prototype,\"actualVisualizedMeasurement\",null),t([a()],p.prototype,\"visualElementOrientation\",null),t([a()],p.prototype,\"allowVisualElementsOrientationChange\",null),t([a()],p.prototype,\"triangleCollapseRatioThreshold\",null),t([a({readOnly:!0})],p.prototype,\"directLabelText\",null),t([a({readOnly:!0})],p.prototype,\"horizontalLabelText\",null),t([a({readOnly:!0})],p.prototype,\"verticalLabelText\",null),t([a()],p.prototype,\"_analysisVisualization\",void 0),t([a()],p.prototype,\"_analysisController\",void 0),t([a()],p.prototype,\"unit\",null),t([a(l)],p.prototype,\"_defaultUnit\",void 0),p=t([s(\"esri.views.3d.analysis.DirectLineMeasurementAnalysisView3D\")],p);const y=p;export{y as default};\n"],
  "mappings": "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",
  "names": ["m", "e", "t", "o", "r", "i", "h", "f", "s", "n", "g", "r", "e", "t", "y", "o", "S", "c", "A", "O", "_", "E", "s", "A", "c", "t", "_", "y", "o", "e", "O", "j", "g", "u", "r", "T", "L", "n", "v", "E", "a", "p", "f", "h", "d", "m", "l", "p", "a", "e", "n", "h", "t", "P", "r", "o", "A", "s", "c", "i", "e", "t", "a", "c", "h", "d", "i", "s", "n", "o", "r", "p", "f", "l", "u", "m", "g", "_", "R", "y", "J", "j", "I", "x", "p", "s", "t", "e", "i", "m", "y"]
}
