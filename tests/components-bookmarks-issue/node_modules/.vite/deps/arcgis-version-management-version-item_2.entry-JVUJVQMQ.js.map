{
  "version": 3,
  "sources": ["../../@arcgis/map-components/dist/esm/arcgis-version-management-version-item_2.entry.js"],
  "sourcesContent": ["/*!\n * All material copyright Esri, All Rights Reserved, unless otherwise specified.\n * See https://js.arcgis.com/4.30/esri/copyright.txt for details.\n * v4.30.0-next.13\n */\nimport { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-2198b48c.js';\nimport { i as importCoreReactiveUtils } from './index-08887307.js';\n\nconst ArcgisVersionManagementVersionItem = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.versionItemActionClickedEvent = createEvent(this, \"versionItemActionClickedEvent\", 7);\n        this.strings = undefined;\n        this.hasAdvEditingUte = undefined;\n        this.isVersioningApiAvailable = undefined;\n        this.versionInfo = undefined;\n    }\n    render() {\n        const { strings: { actions }, versionInfo } = this;\n        const fullVersionName = versionInfo.versionIdentifier.name;\n        const guid = versionInfo.versionIdentifier.guid;\n        const actionElementId = `actionSwitchToVersion_${guid}`;\n        return (h(Host, null, h(\"calcite-list-item\", { description: fullVersionName.split(\".\")[0], label: fullVersionName.split(\".\")[1], value: guid }, h(\"calcite-action\", { id: actionElementId, icon: \"switch\", text: \"\", onClick: () => {\n                this.versionItemActionClickedEvent.emit({ actionType: \"changeVersion\", versionInfo });\n            }, slot: \"actions-start\" }), h(\"calcite-tooltip\", { \"overlay-positioning\": \"fixed\", referenceElement: actionElementId }, h(\"span\", null, actions.switchToVersion)), h(\"calcite-action-menu\", { \"overlay-positioning\": \"fixed\", slot: \"actions-end\", label: \"\" }, h(\"calcite-action\", { icon: \"switch\", onClick: () => {\n                this.versionItemActionClickedEvent.emit({ actionType: \"changeVersion\", versionInfo });\n            }, scale: \"s\", text: actions.switchToVersion, textEnabled: true }), h(\"calcite-action\", { disabled: fullVersionName.toUpperCase() === \"SDE.DEFAULT\" ||\n                !this.hasAdvEditingUte ||\n                !this.isVersioningApiAvailable, icon: \"edit-attributes\", onClick: () => {\n                this.versionItemActionClickedEvent.emit({ actionType: \"editVersion\", versionInfo });\n            }, scale: \"s\", text: actions.editVersion, textEnabled: true })))));\n    }\n    get _hostElement() { return getElement(this); }\n};\n\nconst ArcgisVersionManagementVersionList = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.versionItemActionClickedEventWithServiceUrl = createEvent(this, \"versionItemActionClickedEventWithServiceUrl\", 7);\n        this.versionListActionClickedEvent = createEvent(this, \"versionListActionClickedEvent\", 7);\n        this._watchHandles = [];\n        this.heading = undefined;\n        this.serviceName = undefined;\n        this.serviceUrl = undefined;\n        this.strings = undefined;\n        this.userHasAdvancedEditingUserTypeExtension = undefined;\n        this.versionInfos = undefined;\n        this.viewModel = undefined;\n        this.state = undefined;\n    }\n    async componentDidLoad() {\n        const { watch } = await importCoreReactiveUtils();\n        this._watchHandles.push(watch(() => this.versionInfos, (versionInfos) => {\n            this.versionInfos = versionInfos;\n        }), watch(() => this.viewModel.state, (state) => {\n            this.state = state;\n        }));\n    }\n    async componentWillLoad() {\n        this.state = this.viewModel.state;\n    }\n    disconnectedCallback() {\n        this._watchHandles.forEach((handle) => {\n            handle.remove();\n        });\n        this._watchHandles = [];\n    }\n    render() {\n        const { heading, serviceName, serviceUrl, state, strings, versionInfos, viewModel } = this;\n        // @ts-ignore\n        const currentVersionIdentifier = viewModel.versionIdentifierLookup.get(serviceUrl);\n        return (h(Host, null, h(\"calcite-flow-item\", { heading: heading, description: serviceName }, currentVersionIdentifier ? (h(\"calcite-panel\", { disabled: state === \"executing\", class: \"panel-versions\", heading: \"Current version\", description: currentVersionIdentifier.name })) : undefined, h(\"calcite-panel\", { loading: state === \"executing\", class: \"panel-versions\", heading: versionInfos.length\n                ? `${strings.headers.manageVersions} (${versionInfos.length})`\n                : strings.headers.manageVersions }, h(\"calcite-action\", { id: \"actionRefreshVersions\", icon: \"refresh\", text: \"\", onClick: () => {\n                this.versionListActionClickedEvent.emit({\n                    actionType: \"refreshVersions\",\n                    serviceUrl\n                });\n            }, slot: \"header-actions-end\" }), h(\"calcite-tooltip\", { \"overlay-positioning\": \"fixed\", referenceElement: \"actionRefreshVersions\" }, h(\"span\", null, strings.actions.refreshVersions)), h(\"calcite-list\", { class: \"version-list\", filterEnabled: true }, versionInfos.map((versionInfo) => (h(\"arcgis-version-management-version-item\", { strings: strings, hasAdvEditingUte: viewModel.advancedEditingUserTypeExtensionLookup.get(serviceUrl), isVersioningApiAvailable: (viewModel.serverVersionLookup.get(serviceUrl) ?? 0) >= 11.2, versionInfo: versionInfo, onVersionItemActionClickedEvent: (e) => {\n                this.versionItemActionClickedEventWithServiceUrl.emit({ ...e.detail, serviceUrl });\n            } })))), h(\"calcite-fab\", { appearance: \"outline-fill\", slot: \"fab\", textEnabled: true, text: strings.actions.newVersion, onClick: () => {\n                this.versionListActionClickedEvent.emit({\n                    actionType: \"newVersion\",\n                    serviceUrl\n                });\n            } })))));\n    }\n    get _hostElement() { return getElement(this); }\n};\n\nexport { ArcgisVersionManagementVersionItem as arcgis_version_management_version_item, ArcgisVersionManagementVersionList as arcgis_version_management_version_list };\n"],
  "mappings": "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",
  "names": []
}
