{
  "version": 3,
  "sources": ["../../@arcgis/core/views/2d/layers/CatalogDynamicGroupLayerView2D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Collection.js\";import t from\"../../../core/Logger.js\";import{debounce as i}from\"../../../core/promiseUtils.js\";import{when as s,watch as a}from\"../../../core/reactiveUtils.js\";import{sqlAnd as o}from\"../../../core/sql.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import\"../../../core/Error.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerView2DMixin as n}from\"./LayerView2D.js\";import l from\"../../layers/LayerView.js\";const c=Symbol();let m=class extends(n(l)){constructor(){super(...arguments),this.layerViews=new r,this._debouncedUpdate=i((async()=>{const{layer:e,parent:{footprintLayerView:r}}=this;let t=[];if(r){const i=this._createQuery(),{features:s}=await r.queryFeatures(i);this.suspended||(t=s.map((r=>e.acquireLayer(r))))}this.removeHandles(c),this.addHandles(t,c)}))}attach(){this.addAttachHandles([this._updatingHandles.addOnCollectionChange((()=>this.layerViews),(()=>this._updateStageChildren()),{initial:!0}),s((()=>!1===this.parent.footprintLayerView?.dataUpdating),(()=>this._updateLayers())),a((()=>[this.layer.maximumVisibleSublayers,this.suspended,this.parent.footprintLayerView?.filter]),(()=>this._updateLayers()))])}detach(){this.container.removeAllChildren(),this.removeHandles(c)}update(e){}viewChange(){}moveEnd(){}isUpdating(){return this.layerViews.some((e=>e.updating))}_updateStageChildren(){this.container.removeAllChildren(),this.layerViews.forEach(((e,r)=>this.container.addChildAt(e.container,r)))}_updateLayers(){this.suspended?this.removeHandles(c):this._updatingHandles.addPromise(this._debouncedUpdate().catch((e=>{t.getLogger(this).error(e)})))}_createQuery(){const{parent:{footprintLayerView:e},layer:{maximumVisibleSublayers:r,parent:{itemTypeField:t,itemSourceField:i,itemNameField:s,minScaleField:a,maxScaleField:d,objectIdField:n,orderBy:l}}}=this,c=`${t} <> 'Scene Service'`,m=e.createQuery();m.returnGeometry=!1,m.num=r,m.outFields=[n,i,s,a,d],m.where=o(m.where,c);const p=l?.find((e=>e.field&&!e.valueExpression));return p?.field&&(m.orderByFields=[`${p.field} ${\"descending\"===p.order?\"DESC\":\"ASC\"}`]),m}};m=e([d(\"esri.views.2d.layers.CatalogDynamicGroupLayerView2D\")],m);const p=m;export{p as default};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIujB,IAAM,IAAE,OAAO;AAAE,IAAIA,KAAE,cAAc,EAAE,CAAC,EAAE;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,aAAW,IAAI,KAAE,KAAK,mBAAiB,EAAG,YAAS;AAAC,YAAK,EAAC,OAAMC,IAAE,QAAO,EAAC,oBAAmB,EAAC,EAAC,IAAE;AAAK,UAAI,IAAE,CAAC;AAAE,UAAG,GAAE;AAAC,cAAM,IAAE,KAAK,aAAa,GAAE,EAAC,UAAS,EAAC,IAAE,MAAM,EAAE,cAAc,CAAC;AAAE,aAAK,cAAY,IAAE,EAAE,IAAK,CAAAC,OAAGD,GAAE,aAAaC,EAAC,CAAE;AAAA,MAAE;AAAC,WAAK,cAAc,CAAC,GAAE,KAAK,WAAW,GAAE,CAAC;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,SAAQ;AAAC,SAAK,iBAAiB,CAAC,KAAK,iBAAiB,sBAAuB,MAAI,KAAK,YAAa,MAAI,KAAK,qBAAqB,GAAG,EAAC,SAAQ,KAAE,CAAC,GAAE,EAAG,MAAE;AAJvjC;AAIyjC,yBAAK,UAAK,OAAO,uBAAZ,mBAAgC;AAAA,OAAe,MAAI,KAAK,cAAc,CAAE,GAAE,EAAG,MAAE;AAJ7oC;AAI+oC,cAAC,KAAK,MAAM,yBAAwB,KAAK,YAAU,UAAK,OAAO,uBAAZ,mBAAgC,MAAM;AAAA,OAAI,MAAI,KAAK,cAAc,CAAE,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,SAAQ;AAAC,SAAK,UAAU,kBAAkB,GAAE,KAAK,cAAc,CAAC;AAAA,EAAC;AAAA,EAAC,OAAOD,IAAE;AAAA,EAAC;AAAA,EAAC,aAAY;AAAA,EAAC;AAAA,EAAC,UAAS;AAAA,EAAC;AAAA,EAAC,aAAY;AAAC,WAAO,KAAK,WAAW,KAAM,CAAAA,OAAGA,GAAE,QAAS;AAAA,EAAC;AAAA,EAAC,uBAAsB;AAAC,SAAK,UAAU,kBAAkB,GAAE,KAAK,WAAW,QAAS,CAACA,IAAE,MAAI,KAAK,UAAU,WAAWA,GAAE,WAAU,CAAC,CAAE;AAAA,EAAC;AAAA,EAAC,gBAAe;AAAC,SAAK,YAAU,KAAK,cAAc,CAAC,IAAE,KAAK,iBAAiB,WAAW,KAAK,iBAAiB,EAAE,MAAO,CAAAA,OAAG;AAAC,QAAE,UAAU,IAAI,EAAE,MAAMA,EAAC;AAAA,IAAC,CAAE,CAAC;AAAA,EAAC;AAAA,EAAC,eAAc;AAAC,UAAK,EAAC,QAAO,EAAC,oBAAmBA,GAAC,GAAE,OAAM,EAAC,yBAAwB,GAAE,QAAO,EAAC,eAAc,GAAE,iBAAgB,GAAE,eAAc,GAAE,eAAcE,IAAE,eAAcC,IAAE,eAAcC,IAAE,SAAQ,EAAC,EAAC,EAAC,IAAE,MAAKC,KAAE,GAAG,CAAC,uBAAsBN,KAAEC,GAAE,YAAY;AAAE,IAAAD,GAAE,iBAAe,OAAGA,GAAE,MAAI,GAAEA,GAAE,YAAU,CAACK,IAAE,GAAE,GAAEF,IAAEC,EAAC,GAAEJ,GAAE,QAAMK,GAAEL,GAAE,OAAMM,EAAC;AAAE,UAAMC,KAAE,uBAAG,KAAM,CAAAN,OAAGA,GAAE,SAAO,CAACA,GAAE;AAAkB,YAAOM,MAAA,gBAAAA,GAAG,WAAQP,GAAE,gBAAc,CAAC,GAAGO,GAAE,KAAK,IAAI,iBAAeA,GAAE,QAAM,SAAO,KAAK,EAAE,IAAGP;AAAA,EAAC;AAAC;AAAEA,KAAE,EAAE,CAAC,EAAE,qDAAqD,CAAC,GAAEA,EAAC;AAAE,IAAMO,KAAEP;",
  "names": ["m", "e", "r", "a", "d", "n", "c", "p"]
}
