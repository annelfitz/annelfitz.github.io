{
  "version": 3,
  "sources": ["../../@arcgis/core/symbols/support/webStyleSymbolUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{isSymbol3D as t}from\"../../symbols.js\";import{isDevEnvironment as e,adjustStaticAGOUrl as r}from\"../../core/devEnvironmentUtils.js\";import l from\"../../core/Error.js\";import{urlToObject as o,removeFile as n}from\"../../core/urlUtils.js\";import s from\"../../portal/Portal.js\";import{f as m}from\"../../chunks/persistableUrlUtils.js\";import{fromJSON as i}from\"./jsonUtils.js\";import a from\"./StyleOrigin.js\";import{fetchStyle as u,requestJSON as p,makeCIMSymbolRef as f,Style2DUrlTemplate as y,symbolUrlFromStyleItem as c}from\"./styleUtils.js\";import{Thumbnail as b}from\"./Thumbnail.js\";function g(t,e,r,o){const n=t.name;return null==n?Promise.reject(new l(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\")):t.styleName&&\"Esri2DPointSymbolsStyle\"===t.styleName?d(n,e,o):u(t,e,o).then((t=>h(t,n,e,r,c,o)))}function j(t,e){return e.items.find((e=>e.name===t))}function h(u,y,c,g,h,d){const U=null!=c?.portal?c.portal:s.getDefault(),N={portal:U,url:o(u.baseUrl),origin:\"portal-item\"},w=j(y,u.data);if(!w){const t=`The symbol name '${y}' could not be found`;return Promise.reject(new l(\"symbolstyleutils:symbol-name-not-found\",t,{symbolName:y}))}let S=m(h(w,g),N),D=w.thumbnail?.href??null;const O=w.thumbnail?.imageData;e()&&(S=r(S)??\"\",D=r(D));const P={portal:U,url:o(n(S)),origin:\"portal-item\"};return p(S,d).then((e=>{const r=\"cimRef\"===g?f(e.data):e.data,l=i(r,P);if(l&&t(l)){if(D){const t=m(D,N);l.thumbnail=new b({url:t})}else O&&(l.thumbnail=new b({url:`data:image/png;base64,${O}`}));u.styleUrl?l.styleOrigin=new a({portal:c.portal,styleUrl:u.styleUrl,name:y}):u.styleName&&(l.styleOrigin=new a({portal:c.portal,styleName:u.styleName,name:y}))}return l}))}function d(t,e,r){const l=y.replaceAll(/\\{SymbolName\\}/gi,t),m=null!=e.portal?e.portal:s.getDefault();return p(l,r).then((t=>{const e=f(t.data);return i(e,{portal:m,url:o(n(l)),origin:\"portal-item\"})}))}export{h as fetchSymbolFromStyle,j as getStyleItemFromStyle,g as resolveWebStyleSymbol};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAI8kB,SAAS,EAAE,GAAE,GAAE,GAAE,GAAE;AAAC,QAAM,IAAE,EAAE;AAAK,SAAO,QAAM,IAAE,QAAQ,OAAO,IAAI,EAAE,wDAAuD,wCAAwC,CAAC,IAAE,EAAE,aAAW,8BAA4B,EAAE,YAAUA,GAAE,GAAE,GAAE,CAAC,IAAEC,GAAE,GAAE,GAAE,CAAC,EAAE,KAAM,CAAAC,OAAG,EAAEA,IAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAE;AAAC;AAAC,SAAS,EAAE,GAAE,GAAE;AAAC,SAAO,EAAE,MAAM,KAAM,CAAAC,OAAGA,GAAE,SAAO,CAAE;AAAC;AAAC,SAAS,EAAEC,IAAE,GAAEH,IAAEI,IAAEC,IAAEN,IAAE;AAJp6B;AAIq6B,QAAM,IAAE,SAAMC,MAAA,gBAAAA,GAAG,UAAOA,GAAE,SAAO,EAAE,WAAW,GAAE,IAAE,EAAC,QAAO,GAAE,KAAI,EAAEG,GAAE,OAAO,GAAE,QAAO,cAAa,GAAEG,KAAE,EAAE,GAAEH,GAAE,IAAI;AAAE,MAAG,CAACG,IAAE;AAAC,UAAM,IAAE,oBAAoB,CAAC;AAAuB,WAAO,QAAQ,OAAO,IAAI,EAAE,0CAAyC,GAAE,EAAC,YAAW,EAAC,CAAC,CAAC;AAAA,EAAC;AAAC,MAAI,IAAE,EAAED,GAAEC,IAAEF,EAAC,GAAE,CAAC,GAAE,MAAE,KAAAE,GAAE,cAAF,mBAAa,SAAM;AAAK,QAAM,KAAE,KAAAA,GAAE,cAAF,mBAAa;AAAU,EAAAN,GAAE,MAAI,IAAE,EAAE,CAAC,KAAG,IAAG,IAAE,EAAE,CAAC;AAAG,QAAM,IAAE,EAAC,QAAO,GAAE,KAAI,EAAE,GAAE,CAAC,CAAC,GAAE,QAAO,cAAa;AAAE,SAAOO,GAAE,GAAER,EAAC,EAAE,KAAM,OAAG;AAAC,UAAM,IAAE,aAAWK,KAAE,EAAE,EAAE,IAAI,IAAE,EAAE,MAAK,IAAE,EAAE,GAAE,CAAC;AAAE,QAAG,KAAG,EAAE,CAAC,GAAE;AAAC,UAAG,GAAE;AAAC,cAAM,IAAE,EAAE,GAAE,CAAC;AAAE,UAAE,YAAU,IAAI,EAAE,EAAC,KAAI,EAAC,CAAC;AAAA,MAAC;AAAM,cAAI,EAAE,YAAU,IAAI,EAAE,EAAC,KAAI,yBAAyB,CAAC,GAAE,CAAC;AAAG,MAAAD,GAAE,WAAS,EAAE,cAAY,IAAI,EAAE,EAAC,QAAOH,GAAE,QAAO,UAASG,GAAE,UAAS,MAAK,EAAC,CAAC,IAAEA,GAAE,cAAY,EAAE,cAAY,IAAI,EAAE,EAAC,QAAOH,GAAE,QAAO,WAAUG,GAAE,WAAU,MAAK,EAAC,CAAC;AAAA,IAAE;AAAC,WAAO;AAAA,EAAC,CAAE;AAAC;AAAC,SAASJ,GAAE,GAAE,GAAE,GAAE;AAAC,QAAM,IAAE,EAAE,WAAW,oBAAmB,CAAC,GAAE,IAAE,QAAM,EAAE,SAAO,EAAE,SAAO,EAAE,WAAW;AAAE,SAAOQ,GAAE,GAAE,CAAC,EAAE,KAAM,CAAAN,OAAG;AAAC,UAAMC,KAAE,EAAED,GAAE,IAAI;AAAE,WAAO,EAAEC,IAAE,EAAC,QAAO,GAAE,KAAI,EAAE,GAAE,CAAC,CAAC,GAAE,QAAO,cAAa,CAAC;AAAA,EAAC,CAAE;AAAC;",
  "names": ["d", "c", "t", "e", "u", "g", "h", "w", "b"]
}
