{
  "version": 3,
  "sources": ["../../@arcgis/core/core/accessorSupport/diffUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"../Accessor.js\";import e from\"../Collection.js\";import{getProperties as n}from\"./utils.js\";const o=new Set([\"esri.Color\",\"esri.portal.Portal\",\"esri.symbols.support.Symbol3DAnchorPosition2D\",\"esri.symbols.support.Symbol3DAnchorPosition3D\"]);function r(e){return e instanceof t}function f(t){return t instanceof e?Object.keys(t.items):r(t)?n(t).keys():t?Object.keys(t):[]}function i(t,n){return t instanceof e?t.items[n]:t[n]}function l(t,e){return!(!Array.isArray(t)||!Array.isArray(e))&&t.length!==e.length}function u(t){return t?t.declaredClass:null}function c(t,e){const n=t.diff;if(n&&\"function\"==typeof n)return n(t,e);const s=f(t),p=f(e);if(0===s.length&&0===p.length)return;if(!s.length||!p.length||l(t,e))return{type:\"complete\",oldValue:t,newValue:e};const a=p.filter((t=>!s.includes(t))),y=s.filter((t=>!p.includes(t))),d=s.filter((n=>p.includes(n)&&i(t,n)!==i(e,n))).concat(a,y).sort(),m=u(t);if(m&&o.has(m)&&d.length)return{type:\"complete\",oldValue:t,newValue:e};let h;const b=r(t)&&r(e);for(const o of d){const r=i(t,o),f=i(e,o);let l;if((b||\"function\"!=typeof r&&\"function\"!=typeof f)&&(r!==f&&(null!=r||null!=f))){if(n&&n[o]&&\"function\"==typeof n[o])l=n[o]?.(r,f);else if(r instanceof Date&&f instanceof Date){if(r.getTime()===f.getTime())continue;l={type:\"complete\",oldValue:r,newValue:f}}else l=\"object\"==typeof r&&\"object\"==typeof f&&u(r)===u(f)?c(r,f):{type:\"complete\",oldValue:r,newValue:f};null!=l&&(null!=h?h.diff[o]=l:h={type:\"partial\",diff:{[o]:l}})}}return h}function s(t,e){return p(t,e)}function p(t,e){if(null==t)return!1;const n=e.split(\".\");let o=t;for(const r of n){if(\"complete\"===o.type)return!0;if(\"partial\"!==o.type)return!1;{const t=o.diff[r];if(!t)return!1;o=t}}return!0}function a(t,e){for(const n of e)if(p(t,n))return!0;return!1}function y(t,e){if(!t)return!1;if(\"partial\"===t.type){const n=Object.keys(t.diff);return 1===n.length&&n[0]===e}return!1}function d(t,e){if(\"function\"!=typeof t&&\"function\"!=typeof e&&(null!=t||null!=e))return null==t||null==e||\"object\"==typeof t&&\"object\"==typeof e&&u(t)!==u(e)?{type:\"complete\",oldValue:t,newValue:e}:c(t,e)}function m(t){if(null==t)return!0;switch(t.type){case\"complete\":return!1;case\"collection\":{const e=t;for(const t of e.added)if(!m(t))return!1;for(const t of e.removed)if(!m(t))return!1;for(const t of e.changed)if(!m(t))return!1;return!0}case\"partial\":for(const e in t.diff){if(!m(t.diff[e]))return!1}return!0}}export{d as diff,p as hasDiff,a as hasDiffAny,s as hasRootDiff,y as hasRootDiffOnly,m as isEmpty};\n"],
  "mappings": "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",
  "names": ["t", "s", "p", "y", "d", "n", "m", "o", "r", "f", "l", "t"]
}
