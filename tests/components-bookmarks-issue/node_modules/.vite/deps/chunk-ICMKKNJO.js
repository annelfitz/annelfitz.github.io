import {
  U,
  t3 as t
} from "./chunk-SAYWXQVM.js";

// node_modules/@arcgis/core/portal/support/utils.js
async function n(n2, t3, s) {
  var _a, _b;
  const u = (_a = t) == null ? void 0 : _a.findCredential(n2.restUrl);
  if (!u)
    return null;
  if ("loaded" === n2.loadStatus && "" === t3 && ((_b = n2.user) == null ? void 0 : _b.sourceJSON) && false === s)
    return n2.user.sourceJSON;
  const o = { responseType: "json", query: { f: "json" } };
  if (s && (o.query.returnUserLicenseTypeExtensions = true), "" === t3) {
    const e = await U(n2.restUrl + "/community/self", o);
    if (e.data) {
      const r = e.data;
      if (r == null ? void 0 : r.username)
        return r;
    }
    return null;
  }
  const i = await U(n2.restUrl + "/community/users/" + t3, o);
  if (i.data) {
    const e = i.data;
    return e.error ? null : e;
  }
  return null;
}
async function t2(e, r, t3) {
  var _a;
  const s = await n(e, r, true);
  return ((_a = s == null ? void 0 : s.userLicenseTypeExtensions) == null ? void 0 : _a.includes(t3)) ?? false;
}

export {
  n,
  t2 as t
};
//# sourceMappingURL=chunk-ICMKKNJO.js.map
