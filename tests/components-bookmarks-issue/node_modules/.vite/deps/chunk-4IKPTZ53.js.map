{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/support/labelingInfo.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{clone as r}from\"../../core/lang.js\";import o from\"../../core/Logger.js\";import t from\"./LabelClass.js\";const n=()=>o.getLogger(\"esri.layers.support.labelingInfo\"),l=/\\[([^\\[\\]]+)\\]/gi;function i(e,r,o){return e?e.map((e=>{const n=new t;if(n.read(e,o),n.labelExpression){const e=r.fields||r.layerDefinition?.fields||this.fields;n.labelExpression=n.labelExpression.replaceAll(l,((r,o)=>`[${s(o,e)}]`))}return n})):null}function s(e,r){if(!r)return e;const o=e.toLowerCase();for(let t=0;t<r.length;t++){const e=r[t].name;if(e.toLowerCase()===o)return e}return e}const a={esriGeometryPoint:[\"above-right\",\"above-center\",\"above-left\",\"center-center\",\"center-left\",\"center-right\",\"below-center\",\"below-left\",\"below-right\"],esriGeometryPolygon:[\"always-horizontal\"],esriGeometryPolyline:[\"center-along\"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};function c(e,o){const t=r(e);return t.some((e=>f(e,o)))?[]:t}function f(r,o){const t=r.labelPlacement,l=a[o];if(!r.symbol)return n().warn(\"No ILabelClass symbol specified.\"),!0;if(!l)return n().error(new e(\"labeling:unsupported-geometry-type\",`Unable to create labels for layer, geometry type '${o}' is not supported`)),!0;if(!l.includes(t)){const e=l[0];t&&n().warn(`Found invalid label placement type ${t} for ${o}. Defaulting to ${e}`),r.labelPlacement=e}return!1}export{i as reader,c as validateLabelingInfo};\n"],
  "mappings": ";;;;;;;;;;AAIiJ,IAAMA,KAAE,MAAI,EAAE,UAAU,kCAAkC;AAA1D,IAA4D,IAAE;AAAmB,SAAS,EAAE,GAAE,GAAE,GAAE;AAAC,SAAO,IAAE,EAAE,IAAK,CAAAC,OAAG;AAJvQ;AAIwQ,UAAMD,KAAE,IAAI;AAAE,QAAGA,GAAE,KAAKC,IAAE,CAAC,GAAED,GAAE,iBAAgB;AAAC,YAAMC,KAAE,EAAE,YAAQ,OAAE,oBAAF,mBAAmB,WAAQ,KAAK;AAAO,MAAAD,GAAE,kBAAgBA,GAAE,gBAAgB,WAAW,GAAG,CAACE,IAAEC,OAAI,IAAIC,GAAED,IAAEF,EAAC,CAAC,GAAI;AAAA,IAAC;AAAC,WAAOD;AAAA,EAAC,CAAE,IAAE;AAAI;AAAC,SAASI,GAAE,GAAE,GAAE;AAAC,MAAG,CAAC;AAAE,WAAO;AAAE,QAAM,IAAE,EAAE,YAAY;AAAE,WAAQ,IAAE,GAAE,IAAE,EAAE,QAAO,KAAI;AAAC,UAAMH,KAAE,EAAE,CAAC,EAAE;AAAK,QAAGA,GAAE,YAAY,MAAI;AAAE,aAAOA;AAAA,EAAC;AAAC,SAAO;AAAC;AAAC,IAAMI,KAAE,EAAC,mBAAkB,CAAC,eAAc,gBAAe,cAAa,iBAAgB,eAAc,gBAAe,gBAAe,cAAa,aAAa,GAAE,qBAAoB,CAAC,mBAAmB,GAAE,sBAAqB,CAAC,cAAc,GAAE,wBAAuB,MAAK,sBAAqB,KAAI;AAAE,SAAS,EAAE,GAAE,GAAE;AAAC,QAAM,IAAE,EAAE,CAAC;AAAE,SAAO,EAAE,KAAM,CAAAJ,OAAG,EAAEA,IAAE,CAAC,CAAE,IAAE,CAAC,IAAE;AAAC;AAAC,SAAS,EAAE,GAAE,GAAE;AAAC,QAAM,IAAE,EAAE,gBAAeK,KAAED,GAAE,CAAC;AAAE,MAAG,CAAC,EAAE;AAAO,WAAOL,GAAE,EAAE,KAAK,kCAAkC,GAAE;AAAG,MAAG,CAACM;AAAE,WAAON,GAAE,EAAE,MAAM,IAAI,EAAE,sCAAqC,qDAAqD,CAAC,oBAAoB,CAAC,GAAE;AAAG,MAAG,CAACM,GAAE,SAAS,CAAC,GAAE;AAAC,UAAM,IAAEA,GAAE,CAAC;AAAE,SAAGN,GAAE,EAAE,KAAK,sCAAsC,CAAC,QAAQ,CAAC,mBAAmB,CAAC,EAAE,GAAE,EAAE,iBAAe;AAAA,EAAC;AAAC,SAAM;AAAE;",
  "names": ["n", "e", "r", "o", "s", "a", "l"]
}
