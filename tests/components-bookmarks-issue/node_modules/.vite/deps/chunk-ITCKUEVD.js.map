{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientLighting.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{s as i}from\"../../../../../../chunks/vec32.js\";import{create as n}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as t}from\"../../../../../../chunks/vec42.js\";import{create as g}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{PBRMode as h}from\"./PhysicallyBasedRenderingParameters.glsl.js\";import{Float3PassUniform as e}from\"../../shaderModules/Float3PassUniform.js\";import{Float4PassUniform as l}from\"../../shaderModules/Float4PassUniform.js\";import{glsl as s}from\"../../shaderModules/interfaces.js\";function r(n,g){const r=n.fragment,o=void 0!==g.lightingSphericalHarmonicsOrder?g.lightingSphericalHarmonicsOrder:2;0===o?(r.uniforms.add(new e(\"lightingAmbientSH0\",((n,t)=>i(a,t.lighting.sh.r[0],t.lighting.sh.g[0],t.lighting.sh.b[0])))),r.code.add(s`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)):1===o?(r.uniforms.add(new l(\"lightingAmbientSH_R\",((i,n)=>t(m,n.lighting.sh.r[0],n.lighting.sh.r[1],n.lighting.sh.r[2],n.lighting.sh.r[3]))),new l(\"lightingAmbientSH_G\",((i,n)=>t(m,n.lighting.sh.g[0],n.lighting.sh.g[1],n.lighting.sh.g[2],n.lighting.sh.g[3]))),new l(\"lightingAmbientSH_B\",((i,n)=>t(m,n.lighting.sh.b[0],n.lighting.sh.b[1],n.lighting.sh.b[2],n.lighting.sh.b[3])))),r.code.add(s`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec4 sh0 = vec4(\n0.282095,\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y\n);\nvec3 ambientLight = vec3(\ndot(lightingAmbientSH_R, sh0),\ndot(lightingAmbientSH_G, sh0),\ndot(lightingAmbientSH_B, sh0)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)):2===o&&(r.uniforms.add(new e(\"lightingAmbientSH0\",((n,t)=>i(a,t.lighting.sh.r[0],t.lighting.sh.g[0],t.lighting.sh.b[0]))),new l(\"lightingAmbientSH_R1\",((i,n)=>t(m,n.lighting.sh.r[1],n.lighting.sh.r[2],n.lighting.sh.r[3],n.lighting.sh.r[4]))),new l(\"lightingAmbientSH_G1\",((i,n)=>t(m,n.lighting.sh.g[1],n.lighting.sh.g[2],n.lighting.sh.g[3],n.lighting.sh.g[4]))),new l(\"lightingAmbientSH_B1\",((i,n)=>t(m,n.lighting.sh.b[1],n.lighting.sh.b[2],n.lighting.sh.b[3],n.lighting.sh.b[4]))),new l(\"lightingAmbientSH_R2\",((i,n)=>t(m,n.lighting.sh.r[5],n.lighting.sh.r[6],n.lighting.sh.r[7],n.lighting.sh.r[8]))),new l(\"lightingAmbientSH_G2\",((i,n)=>t(m,n.lighting.sh.g[5],n.lighting.sh.g[6],n.lighting.sh.g[7],n.lighting.sh.g[8]))),new l(\"lightingAmbientSH_B2\",((i,n)=>t(m,n.lighting.sh.b[5],n.lighting.sh.b[6],n.lighting.sh.b[7],n.lighting.sh.b[8])))),r.code.add(s`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nvec4 sh1 = vec4(\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y,\n1.092548 * normal.x * normal.y\n);\nvec4 sh2 = vec4(\n1.092548 * normal.y * normal.z,\n0.315392 * (3.0 * normal.z * normal.z - 1.0),\n1.092548 * normal.x * normal.z,\n0.546274 * (normal.x * normal.x - normal.y * normal.y)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R1, sh1),\ndot(lightingAmbientSH_G1, sh1),\ndot(lightingAmbientSH_B1, sh1)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R2, sh2),\ndot(lightingAmbientSH_G2, sh2),\ndot(lightingAmbientSH_B2, sh2)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`),g.pbrMode!==h.Normal&&g.pbrMode!==h.Schematic||r.code.add(s`const vec3 skyTransmittance = vec3(0.9, 0.9, 1.0);\nvec3 calculateAmbientRadiance(float ambientOcclusion)\n{\nvec3 ambientLight = 1.2 * (0.282095 * lightingAmbientSH0) - 0.2;\nreturn ambientLight *= (1.0 - ambientOcclusion) * skyTransmittance;\n}`))}const a=n(),m=g();export{r as EvaluateAmbientLighting};\n"],
  "mappings": "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",
  "names": ["n", "r", "o", "e"]
}
