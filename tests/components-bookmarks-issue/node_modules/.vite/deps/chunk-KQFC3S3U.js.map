{
  "version": 3,
  "sources": ["../../@arcgis/core/geohash/geohashUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../core/has.js\";import{rad2deg as t}from\"../core/mathUtils.js\";import o from\"../geometry/Extent.js\";import r from\"../geometry/Polygon.js\";import n from\"../geometry/SpatialReference.js\";import{earth as e}from\"../geometry/support/Ellipsoid.js\";import{convertFromPolygon as s}from\"../layers/graphics/featureConversionUtils.js\";import i from\"../layers/graphics/OptimizedGeometry.js\";import{project as c}from\"../layers/graphics/data/projectionSupport.js\";const f=16,l=8,a=4,u=2,h=1,m=new Float64Array(2),p=new Float64Array(2),g=-90,y=90,d=-180,x=180,M=\"0123456789bcdefghjkmnpqrstuvwxyz\",j=64;function S(t,e,f,l){const a=[t.xmin,t.ymin,t.xmax,t.ymax],u=r.fromExtent(o.fromBounds(a,l)),h=c(u,l,n.WGS84,{densificationStep:e*j});if(!h)return null;const m=s(new i,h,!1,!1),p=m.coords.filter(((t,o)=>!(o%2))),g=m.coords.filter(((t,o)=>o%2)),y=Math.min(...p),d=Math.min(...g),x=Math.max(...p),M=Math.max(...g),S=A(y,d,f,n.WGS84),G=A(x,M,f,n.WGS84);return S&&G?{bounds:a,geohashBounds:{xLL:S[0],yLL:S[1],xTR:G[0],yTR:G[1]},level:f}:null}function A(o,r,s,i){if(i.isWebMercator){const n=t(o/e.radius),i=n-360*Math.floor((n+180)/360),c=[0,0];return Y(c,0,t(Math.PI/2-2*Math.atan(Math.exp(-r/e.radius))),i,s),c}const f=c({x:o,y:r},i,n.WGS84);if(!f)return null;const l=[0,0];return Y(l,0,f.y,f.x,s),l}function G(t){return t<=57?t-48:t<=104?t-88:t<=107?t-89:t<=110?t-90:t-91}function W(t){return M[t]}function b(t){return(t[0]+t[1])/2}function w(t,o,r){return t[0]=o,t[1]=r,t}function C(t,o){const r=b(t),n=o,e=!o;t[0]=e*t[0]+n*r,t[1]=e*r+n*t[1]}function L(t,o){const r=o>b(t);return C(t,r),r}function v(t,o){const r=w(m,g,y),n=w(p,d,x);for(let e=0;e<o.length;e++){const t=G(o.charCodeAt(e));e%2==0?(C(n,!!(f&t)),C(n,!!(a&t)),C(n,!!(h&t)),C(r,!!(l&t)),C(r,!!(u&t))):(C(r,!!(f&t)),C(r,!!(a&t)),C(r,!!(h&t)),C(n,!!(l&t)),C(n,!!(u&t)))}return t[0]=b(r),t[1]=b(n),t}function E(t,o){let r=0,n=0,e=30,s=30;for(let i=0;i<o.length;i++){const t=G(o.charCodeAt(i)),c=i%2==0;e-=c?3:2,s-=c?2:3,r|=F(t,c)<<e,n|=P(t,c)<<s}return{geohashX:r,geohashY:n}}function R(t,o){let r=-90,n=90,e=-180,s=180;for(let i=0;i<o;i++){const o=Math.ceil((i+1)/2),c=Math.floor((i+1)/2),f=1-i%2,l=30-(3*o+2*c),a=30-(2*o+3*c),u=3*f+2*(1-f),h=2*f+3*(1-f),m=3*f+7*(1-f)<<a,p=(7*f+3*(1-f)<<l&t.geohashX)>>l,g=(m&t.geohashY)>>a;for(let t=u-1;t>=0;t--){const o=(e+s)/2,r=p&1<<t?1:0;e=(1-r)*e+r*o,s=(1-r)*o+r*s}for(let t=h-1;t>=0;t--){const o=(r+n)/2,e=g&1<<t?1:0;r=(1-e)*r+e*o,n=(1-e)*o+e*n}}return[e,r,s,n]}function X(t,o,r,n){n%2&&(n+=1);let e=0,s=0,i=-90,c=90,f=-180,l=180;for(let a=0;a<n/2;a++){for(let t=0;t<5;t++){const o=(f+l)/2,n=r>o?1:0;e|=n<<29-(t+5*a),f=(1-n)*f+n*o,l=(1-n)*o+n*l}for(let t=0;t<5;t++){const r=(i+c)/2,n=o>r?1:0;s|=n<<29-(t+5*a),i=(1-n)*i+n*r,c=(1-n)*r+n*c}}t.geohashX=e,t.geohashY=s}function Y(t,o,r,n,e){e%2&&(e+=1);let s=0,i=0,c=-90,f=90,l=-180,a=180;for(let u=0;u<e/2;u++){for(let t=0;t<5;t++){const o=(l+a)/2,r=n>o?1:0;s|=r<<29-(t+5*u),l=(1-r)*l+r*o,a=(1-r)*o+r*a}for(let t=0;t<5;t++){const o=(c+f)/2,n=r>o?1:0;i|=n<<29-(t+5*u),c=(1-n)*c+n*o,f=(1-n)*o+n*f}}t[2*o]=s,t[2*o+1]=i}function z(t,o,r){let n=\"\";const e=w(m,-90,90),s=w(p,-180,180);for(let i=0;i<r;i++){let r=0;!(i%2)?(r|=L(s,o)<<4,r|=L(e,t)<<3,r|=L(s,o)<<2,r|=L(e,t)<<1,r|=L(s,o)|0):(r|=L(e,t)<<4,r|=L(s,o)<<3,r|=L(e,t)<<2,r|=L(s,o)<<1,r|=L(e,t)|0),n+=W(r)}return n}function B(t,o,r){return r?t&h|(o&h)<<1|(t&u)<<1|(o&u)<<2|(t&a)<<2:o&h|(t&h)<<1|(o&u)<<1|(t&u)<<2|(o&a)<<2}function F(t,o){return o?h&t|(a&t)>>1|(f&t)>>2:(u&t)>>1|(l&t)>>2}function P(t,o){return o?(u&t)>>1|(l&t)>>2:h&t|(a&t)>>1|(f&t)>>2}function T(t,o,r){const n=!((t.length-1)%2),e=t.substring(0,t.length-1),s=G(t.charCodeAt(t.length-1));let i=0,c=0,m=0,p=0;n?(i=8,c=4,m=h&s|(a&s)>>1|(f&s)>>2,p=(u&s)>>1|(l&s)>>2):(i=4,c=8,p=h&s|(a&s)>>1|(f&s)>>2,m=(u&s)>>1|(l&s)>>2);const g=m+o,y=p+r,d=Math.floor(g/i),x=Math.floor(y/c),M=W(B(g-d*i,y-x*c,n));return t.length>1&&(d||x)?T(e,d,x)+M:e+M}export{E as convertGeohash32ToXY,G as decodeBase32Char,v as decodeGeohash,R as decodeGeohashXY,W as encodeBase32Char,z as encodeGeohash,A as getGeohash,S as getGeohashBounds,T as getRelativeGeohash,Y as setGeohashBuf,X as setGeohashXY,F as unpackXBits,P as unpackYBits};\n"],
  "mappings": "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",
  "names": ["M", "j", "e", "f", "m", "p", "t", "S", "s", "i", "M", "w", "e", "e", "s", "o", "f", "m", "p", "t", "r", "e", "s", "f", "t", "o", "r", "n", "w"]
}
