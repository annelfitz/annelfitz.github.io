{
  "version": 3,
  "sources": ["../../@arcgis/core/chunks/sphere.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../core/has.js\";import t from\"../core/Logger.js\";import{acosClamped as r,cartesianToSpherical as n}from\"../core/mathUtils.js\";import{fromRotation as e}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{g as o,h as s,q as i,l as a,b as c,e as u,f,p as m,n as l,s as g,a as p,m as h,r as d}from\"./vec32.js\";import{create as j}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{e as y,c as b}from\"./vec42.js\";import{create as M,fromValues as x}from\"../core/libs/gl-matrix-2/factories/vec4f64.js\";import{getEpsilon as v}from\"../core/libs/gl-matrix-2/math/common.js\";import{Axis as S}from\"../geometry/support/Axis.js\";import{fromPoints as A,closestPoint as q}from\"../geometry/support/ray.js\";import{angle as P}from\"../geometry/support/vector.js\";import{sv3d as R,sm4d as C}from\"../geometry/support/vectorStacks.js\";const _=w();function w(){return M()}const E=y,L=y;function O(t,r){return b(r,t)}function T(t,r){return x(t[0],t[1],t[2],r)}function k(t){return t}function z(t){t[0]=t[1]=t[2]=t[3]=0}function N(t,r){return t[0]=t[1]=t[2]=0,t[3]=r,t}function V(t){return t[3]}function Z(t){return t}function B(t,r,n,e){return x(t,r,n,e)}function U(t,r,n){return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=t[3]+r,n}function X(r,n,e){return t.getLogger(\"esri.geometry.support.sphere\").error(\"sphere.setExtent is not yet supported\"),r!==e&&O(r,e),e}function Y(t,r,n){if(null==r)return!1;if(!G(t,r,F))return!1;let{t0:e,t1:o}=F;if((e<0||o<e&&o>0)&&(e=o),e<0)return!1;if(n){const{origin:t,direction:o}=r;n[0]=t[0]+o[0]*e,n[1]=t[1]+o[1]*e,n[2]=t[2]+o[2]*e}return!0}function D(t,r,n){const e=A(r,n);if(!G(t,e,F))return[];const{origin:o,direction:s}=e,{t0:i,t1:a}=F,c=r=>{const n=j();return d(n,o,s,r),W(t,n,n)};return Math.abs(i-a)<v()?[c(i)]:[c(i),c(a)]}const F={t0:0,t1:0};function G(t,r,n){const{origin:e,direction:o}=r,s=H;s[0]=e[0]-t[0],s[1]=e[1]-t[1],s[2]=e[2]-t[2];const i=o[0]*o[0]+o[1]*o[1]+o[2]*o[2];if(0===i)return!1;const a=2*(o[0]*s[0]+o[1]*s[1]+o[2]*s[2]),c=a*a-4*i*(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]-t[3]*t[3]);if(c<0)return!1;const u=Math.sqrt(c);return n.t0=(-a-u)/(2*i),n.t1=(-a+u)/(2*i),!0}const H=j();function I(t,r){return Y(t,r,null)}function J(t,r,n){if(Y(t,r,n))return n;const e=K(t,r,R.get());return o(n,r.origin,s(R.get(),r.direction,i(r.origin,e)/a(r.direction))),n}function K(t,r,n){const o=R.get(),i=C.get();c(o,r.origin,r.direction);const f=V(t);c(n,o,r.origin),s(n,n,1/a(n)*f);const m=tt(t,r.origin),l=P(r.origin,n);return e(i,l+m,o),u(n,n,i),n}function Q(t,r,n){return Y(t,r,n)?n:(q(r,Z(t),n),W(t,n,n))}function W(t,r,n){const e=f(R.get(),r,Z(t)),i=s(R.get(),e,t[3]/a(e));return o(n,i,Z(t))}function $(t,r){const n=f(R.get(),r,Z(t)),e=m(n),o=t[3]*t[3];return Math.sqrt(Math.abs(e-o))}function tt(t,n){const e=f(R.get(),n,Z(t)),o=a(e),s=V(t),i=s+Math.abs(s-o);return r(s/i)}const rt=j();function nt(t,r,e,o){const s=f(rt,r,Z(t));switch(e){case S.X:{const t=n(s,rt)[2];return g(o,-Math.sin(t),Math.cos(t),0)}case S.Y:{const t=n(s,rt),r=t[1],e=t[2],i=Math.sin(r);return g(o,-i*Math.cos(e),-i*Math.sin(e),Math.cos(r))}case S.Z:return l(o,s);default:return}}function et(t,r){const n=f(at,r,Z(t));return a(n)-t[3]}function ot(t,r,n,e){const i=et(t,r),a=nt(t,r,S.Z,at),c=s(at,a,n-i);return o(e,r,c)}function st(t,r){const n=p(Z(t),r),e=V(t);return n<=e*e}function it(t,r,n=M()){const e=i(Z(t),Z(r)),o=t[3],s=r[3];return e+s<o?(b(n,t),n):e+o<s?(b(n,r),n):(h(n,Z(t),Z(r),(e+s-o)/(2*e)),n[3]=(e+o+s)/2,n)}const at=j(),ct=w(),ut=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:_,altitudeAt:et,angleToSilhouette:tt,axisAt:nt,clear:z,closestPoint:Q,closestPointOnSilhouette:K,containsPoint:st,copy:O,create:w,distanceToSilhouette:$,elevate:U,equals:L,exactEquals:E,fromCenterAndRadius:T,fromRadius:N,fromValues:B,getCenter:Z,getRadius:V,intersectLine:D,intersectRay:Y,intersectRayClosestSilhouette:J,intersectsRay:I,projectPoint:W,setAltitudeAt:ot,setExtent:X,tmpSphere:ct,union:it,wrap:k},Symbol.toStringTag,{value:\"Module\"}));export{nt as A,et as B,ot as C,_ as N,O as a,V as b,w as c,$ as d,K as e,B as f,Z as g,N as h,Y as i,I as j,T as k,E as l,D as m,st as n,L as o,W as p,z as q,U as r,ut as s,ct as t,it as u,X as v,k as w,J as x,Q as y,tt as z};\n"],
  "mappings": "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",
  "names": ["_", "n", "L", "O", "r", "z", "e", "o", "t", "s", "a", "c", "u", "f", "m", "l", "p"]
}
