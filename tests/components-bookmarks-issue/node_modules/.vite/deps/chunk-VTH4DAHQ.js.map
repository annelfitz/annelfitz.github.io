{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/support/arcgisLayerUrl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{urlToObject as e,removeTrailingSlash as r,removeQueryParameters as t,join as s,Url as n,makeAbsolute as l}from\"../../core/urlUtils.js\";import{w as u}from\"../../chunks/persistableUrlUtils.js\";const i={mapserver:\"MapServer\",imageserver:\"ImageServer\",featureserver:\"FeatureServer\",sceneserver:\"SceneServer\",streamserver:\"StreamServer\",vectortileserver:\"VectorTileServer\",\"3dtilesserver\":\"3DTilesServer\"},o=Object.values(i),c=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/rest\\\\/services\\\\/(.+?)\\\\/(${o.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),a=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/([^\\\\/\\\\n]+)\\\\/(${o.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),f=/(.*?)\\/(?:layers\\/)?(\\d+)\\/?$/i;function v(e){return!!c.test(e)}function p(r){if(null==r)return null;const t=e(r),s=t?.path.match(c)||t?.path.match(a);if(!s)return null;const[,n,l,u,o]=s,f=l.indexOf(\"/\");return{title:m(-1!==f?l.slice(f+1):l),serverType:i[u.toLowerCase()],sublayer:null!=o&&\"\"!==o?parseInt(o,10):null,url:{path:n}}}function d(r){const t=e(r).path.match(f);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function m(e){return(e=e.replaceAll(/\\s*[/_]+\\s*/g,\" \"))[0].toUpperCase()+e.slice(1)}function h(e,r){const t=[];if(e){const r=p(e);null!=r&&r.title&&t.push(r.title)}if(r){const e=m(r);t.push(e)}if(2===t.length){if(t[0].toLowerCase().includes(t[1].toLowerCase()))return t[0];if(t[1].toLowerCase().includes(t[0].toLowerCase()))return t[1]}return t.join(\" - \")}function w(e){if(!e)return!1;const r=\".arcgis.com/\",t=\"//services\",s=\"//tiles\",n=\"//features\",l=(e=e.toLowerCase()).includes(r),u=e.includes(t)||e.includes(s)||e.includes(n);return l&&u}function y(e,s){return e?r(t(e,s)):e}function g(s){let{url:n}=s;if(!n)return{url:n};n=t(n,s.logger);const l=e(n),u=p(l.path);let i;if(null!=u)null!=u.sublayer&&null==s.layer.layerId&&(i=u.sublayer),n=u.url.path;else if(s.nonStandardUrlAllowed){const e=d(l.path);null!=e&&(n=e.serviceUrl,i=e.sublayerId)}return{url:r(n),layerId:i}}function S(e,r,t,n,l){u(r,n,\"url\",l),n.url&&null!=e.layerId&&(n.url=s(n.url,t,e.layerId.toString()))}function C(e){if(!e)return!1;const r=e.toLowerCase(),t=r.includes(\"/services/\"),s=r.includes(\"/mapserver/wmsserver\"),n=r.includes(\"/imageserver/wmsserver\"),l=r.includes(\"/wmsserver\");return t&&(s||n||l)}function b(e){if(!e)return!1;const r=new n(l(e)),t=r.authority?.toLowerCase();return\"server.arcgisonline.com\"===t||\"services.arcgisonline.com\"===t}export{m as cleanTitle,v as isArcGISUrl,w as isHostedAgolService,b as isServerOrServicesAGOLUrl,C as isWmsServer,p as parse,d as parseNonStandardSublayerUrl,y as sanitizeUrl,g as sanitizeUrlWithLayerId,o as serverTypes,h as titleFromUrlAndName,S as writeUrlWithLayerId};\n"],
  "mappings": "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",
  "names": ["f", "o", "r", "e", "i"]
}
