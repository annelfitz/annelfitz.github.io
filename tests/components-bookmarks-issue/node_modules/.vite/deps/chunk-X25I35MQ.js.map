{
  "version": 3,
  "sources": ["../../@arcgis/core/chunks/HighlightApply.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{s as e}from\"./vec42.js\";import{create as o}from\"../core/libs/gl-matrix-2/factories/vec4f64.js\";import{Float2PassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float4PassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as l}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as a}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{o as s,b as c}from\"./HighlightDownsample.glsl.js\";function g(){const o=new l,{vertex:g,fragment:d}=o,f=g.code,h=d.code;return o.attributes.add(a.POSITION,\"vec2\"),o.varyings.add(\"uv\",\"vec2\"),o.attributes.add(a.UV0,\"vec2\"),g.uniforms.add(new n(\"coverageTex\",(e=>e.coverageTexture)),new i(\"coverageRounding\",(e=>e.coverageRounding))),f.add(r`void main() {\nvec4 cov = texture(coverageTex, uv0 * coverageRounding);\nif (cov.r == 0.0) {\ngl_Position = vec4(0.0);\nreturn;\n}\ngl_Position = vec4(position, 0.0, 1.0);\nuv = position.xy * 0.5 + vec2(0.5);\n}`),d.uniforms.add(new n(\"tex\",(e=>e.blurTexture)),new n(\"highlightTexture\",(e=>e.highlightTexture)),new t(\"uColor\",(e=>e.color)),new t(\"haloColor\",(e=>e.haloColor)),new t(\"opacities\",(o=>e(u,o.haloOpacity,o.haloOpacityOccluded,o.fillOpacity,o.fillOpacityOccluded)))),d.constants.add(\"inner\",\"float\",1-(s-c)/s),h.add(r`void main() {\nvec4 blurredHighlightValue = texture(tex, uv);\nfloat highlightIntensity = blurredHighlightValue.a;\nif (highlightIntensity == 0.0) {\ndiscard;\n}\nvec4 origin_color = texture(highlightTexture, uv);\nfloat outlineIntensity;\nfloat fillIntensity;\nif (blurredHighlightValue.g > blurredHighlightValue.b) {\noutlineIntensity = haloColor.w * opacities[1];\nfillIntensity = uColor.w * opacities[3];\n}\nelse {\noutlineIntensity = haloColor.w * opacities[0];\nfillIntensity = uColor.w * opacities[2];\n}\nfloat outlineFactor = smoothstep(0.0, inner, highlightIntensity);\nfloat fillFactor = any(notEqual(origin_color, vec4(0.0, 0.0, 0.0, 0.0))) ? 1.0 : 0.0;\nfloat intensity = outlineIntensity * outlineFactor * (1.0 - fillFactor) + fillIntensity * fillFactor;\nfragColor = vec4(mix(haloColor.rgb, uColor.rgb, fillFactor), intensity);\n}`),o}const u=o(),d=Object.freeze(Object.defineProperty({__proto__:null,build:g},Symbol.toStringTag,{value:\"Module\"}));export{d as H,g as b};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIotB,SAAS,IAAG;AAAC,QAAMA,KAAE,IAAIA,MAAE,EAAC,QAAOC,IAAE,UAASC,GAAC,IAAEF,IAAE,IAAEC,GAAE,MAAK,IAAEC,GAAE;AAAK,SAAOF,GAAE,WAAW,IAAI,EAAE,UAAS,MAAM,GAAEA,GAAE,SAAS,IAAI,MAAK,MAAM,GAAEA,GAAE,WAAW,IAAI,EAAE,KAAI,MAAM,GAAEC,GAAE,SAAS,IAAI,IAAIE,GAAE,eAAe,CAAAC,OAAGA,GAAE,eAAgB,GAAE,IAAIA,GAAE,oBAAoB,CAAAA,OAAGA,GAAE,gBAAiB,CAAC,GAAE,EAAE,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQj/B,GAAEF,GAAE,SAAS,IAAI,IAAIC,GAAE,OAAO,CAAAC,OAAGA,GAAE,WAAY,GAAE,IAAID,GAAE,oBAAoB,CAAAC,OAAGA,GAAE,gBAAiB,GAAE,IAAIA,GAAE,UAAU,CAAAA,OAAGA,GAAE,KAAM,GAAE,IAAIA,GAAE,aAAa,CAAAA,OAAGA,GAAE,SAAU,GAAE,IAAIA,GAAE,aAAa,CAAAJ,OAAG,EAAE,GAAEA,GAAE,aAAYA,GAAE,qBAAoBA,GAAE,aAAYA,GAAE,mBAAmB,CAAE,CAAC,GAAEE,GAAE,UAAU,IAAI,SAAQ,SAAQ,KAAGC,KAAE,KAAGA,EAAC,GAAE,EAAE,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAqB3T,GAAEH;AAAC;AAAC,IAAM,IAAE,EAAE;AAAV,IAAYE,KAAE,OAAO,OAAO,OAAO,eAAe,EAAC,WAAU,MAAK,OAAM,EAAC,GAAE,OAAO,aAAY,EAAC,OAAM,SAAQ,CAAC,CAAC;",
  "names": ["o", "g", "d", "s", "e"]
}
