{
  "version": 3,
  "sources": ["../../@arcgis/map-components/dist/esm/component-utils-97b1c3e3.js"],
  "sourcesContent": ["/*!\n * All material copyright Esri, All Rights Reserved, unless otherwise specified.\n * See https://js.arcgis.com/4.30/esri/copyright.txt for details.\n * v4.30.0-next.13\n */\nfunction checkForExpand(element) {\n    const expandRef = element.el.closest(\"arcgis-expand\") || element.expandElem;\n    if (expandRef?.widget) {\n        element.view = expandRef.view;\n        expandRef.widget.content = element.childElem;\n        // TODO: Update to be expandIcon = widget.icon, not ready yet in 4.27next\n        if (!expandRef.expandIcon) {\n            expandRef.widget.expandIcon = element.widget.icon;\n        }\n        return true;\n    }\n    if (expandRef) {\n        const widgetHandler = () => {\n            expandRef.removeEventListener(\"arcgisExpandReady\", widgetHandler, false);\n            element.view = expandRef.view;\n            expandRef.widget.content = element.childElem;\n            if (!expandRef.expandIcon) {\n                expandRef.widget.expandIcon = element.widget.icon;\n            }\n        };\n        expandRef.addEventListener(\"arcgisExpandReady\", widgetHandler, false);\n        return true;\n    }\n    return false;\n}\n\n//--------------------------------------------------------------------------\n//\n//  Public Methods\n//\n//--------------------------------------------------------------------------\nfunction addHandles(element, handle) {\n    if (Array.isArray(handle)) {\n        element._watchHandles = [...element._watchHandles, ...handle];\n    }\n    else {\n        element._watchHandles.push(handle);\n    }\n}\nfunction checkForView(element) {\n    let isUsingRefernceElement = false;\n    if (!checkForExpand(element)) {\n        let viewRef = element.el.closest(\"arcgis-map\") ?? element.el.closest(\"arcgis-scene\");\n        if (!viewRef && typeof element.referenceElement === \"string\") {\n            viewRef = document.querySelector(element.referenceElement);\n            isUsingRefernceElement = true;\n        }\n        if (viewRef?.view) {\n            element.view = viewRef.view;\n            const el = element.childElem ?? element.el;\n            if (!isUsingRefernceElement) {\n                element.view.ui.add(el, element.position);\n            }\n        }\n        else if (viewRef) {\n            waitForViewHandler(viewRef, element, isUsingRefernceElement);\n        }\n    }\n    else {\n        const viewRef = element.el.closest(\"arcgis-map\") ?? element.el.closest(\"arcgis-scene\");\n        if (viewRef?.view) {\n            element.view = viewRef.view;\n        }\n        else if (viewRef) {\n            const handler = () => {\n                viewRef.removeEventListener(\"arcgisViewReadyChange\", handler, false);\n                element.view = viewRef.view;\n            };\n            viewRef.addEventListener(\"arcgisViewReadyChange\", handler, false);\n        }\n    }\n}\nfunction isNullOrEmptyString(value) {\n    return value === undefined || value === null || value === \"\";\n}\nfunction isValidInteger(value) {\n    return value != null && value % 1 === 0;\n}\nfunction isNotSameCamera(camera, camera2) {\n    return (camera2 === undefined ||\n        camera.position !== camera2.position ||\n        camera.heading !== camera2.heading ||\n        camera.tilt !== camera2.tilt);\n}\nfunction isNotSameEnvironment(environment, environment2) {\n    return (environment2 === undefined ||\n        environment2.atmosphereEnabled !== environment.atmosphereEnabled ||\n        environment2.lighting.date !== environment.lighting.date ||\n        environment2.lighting.directShadowsEnabled !==\n            environment.lighting.directShadowsEnabled ||\n        environment2.lighting.cameraTrackingEnabled !==\n            environment.lighting.cameraTrackingEnabled ||\n        environment2.lighting.date !== environment.lighting.date ||\n        environment2.lighting.displayUTCOffset !==\n            environment.lighting.displayUTCOffset);\n}\nfunction isNotSameViewpoint(viewpoint, viewpoint2) {\n    return (viewpoint2 === undefined ||\n        viewpoint.targetGeometry !== viewpoint2.targetGeometry ||\n        viewpoint.rotation !== viewpoint2.rotation ||\n        viewpoint.scale !== viewpoint2.scale);\n}\nasync function updateForView(viewStr) {\n    const viewRef = document.querySelector(viewStr);\n    return await new Promise((resolve) => {\n        if (viewRef?.view !== undefined) {\n            resolve(viewRef.view);\n        }\n        else if (viewRef) {\n            const handler = () => {\n                viewRef.removeEventListener(\"arcgisViewReadyChange\", handler, false);\n                resolve(viewRef.view);\n            };\n            viewRef.addEventListener(\"arcgisViewReadyChange\", handler, false);\n        }\n    });\n}\nasync function referenceElementHelper(element, refElement) {\n    if (typeof refElement === \"string\") {\n        element.view = await updateForView(refElement);\n    }\n    else if (element.widget) {\n        element.view = refElement.view;\n    }\n}\n//--------------------------------------------------------------------------\n//\n//  Private Methods\n//\n//--------------------------------------------------------------------------\nfunction waitForViewHandler(viewRef, element, isUsingRefernceElement) {\n    const handler = () => {\n        viewRef.removeEventListener(\"arcgisViewReadyChange\", handler, false);\n        element.view = viewRef.view;\n        if (!isUsingRefernceElement) {\n            if (element.childElem) {\n                element.view.ui.add(element.childElem, element.position);\n            }\n            else {\n                element.view.ui.add(element.el, element.position);\n            }\n        }\n    };\n    viewRef.addEventListener(\"arcgisViewReadyChange\", handler, false);\n}\n\nexport { addHandles as a, isNotSameViewpoint as b, checkForView as c, checkForExpand as d, isNotSameCamera as e, isNotSameEnvironment as f, isValidInteger as g, isNullOrEmptyString as i, referenceElementHelper as r };\n"],
  "mappings": "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",
  "names": []
}
