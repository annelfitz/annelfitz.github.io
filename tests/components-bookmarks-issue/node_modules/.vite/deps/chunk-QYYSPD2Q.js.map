{
  "version": 3,
  "sources": ["../../@arcgis/core/views/navigation/FilteredFiniteDifference.js", "../../@arcgis/core/views/navigation/Momentum.js", "../../@arcgis/core/views/navigation/PanPlanarMomentumEstimator.js", "../../@arcgis/core/views/navigation/MomentumEstimator.js", "../../@arcgis/core/views/navigation/RotationMomentumEstimator.js", "../../@arcgis/core/views/navigation/ZoomMomentumEstimator.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this._gain=t,this.lastValue=void 0,this.filteredDelta=void 0}update(t){if(this.hasLastValue()){const e=this.computeDelta(t);this._updateDelta(e)}this.lastValue=t}reset(){this.lastValue=void 0,this.filteredDelta=void 0}hasLastValue(){return void 0!==this.lastValue}hasFilteredDelta(){return void 0!==this.filteredDelta}computeDelta(t){return void 0===this.lastValue?NaN:t-this.lastValue}_updateDelta(t){void 0!==this.filteredDelta?this.filteredDelta=(1-this._gain)*this.filteredDelta+this._gain*t:this.filteredDelta=t}}export{t as FilteredFiniteDifference};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t{constructor(t,i,o){this._initialVelocity=t,this._stopVelocity=i,this._friction=o,this._duration=Math.abs(Math.log(Math.abs(this._initialVelocity)/this._stopVelocity)/Math.log(1-this._friction))}get duration(){return this._duration}isFinished(t){return t>this.duration}get friction(){return this._friction}value(t){return this.valueFromInitialVelocity(this._initialVelocity,t)}valueDelta(t,i){const o=this.value(t);return this.value(t+i)-o}valueFromInitialVelocity(t,i){i=Math.min(i,this.duration);const o=1-this.friction;return t*(o**i-1)/Math.log(o)}}export{t as Momentum};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{s as e,l as t,h as i}from\"../../chunks/vec32.js\";import{create as s}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{FilteredFiniteDifference as n}from\"./FilteredFiniteDifference.js\";import{Momentum as r}from\"./Momentum.js\";class l extends r{constructor(e,t,i,s,n){super(e,t,i),this._sceneVelocity=s,this.direction=n}value(e){return super.valueFromInitialVelocity(this._sceneVelocity,e)}}class c{constructor(e=300,t=12,i=.84){this._minimumInitialVelocity=e,this._stopVelocity=t,this._friction=i,this.enabled=!0,this._time=new n(.6),this._screen=[new n(.4),new n(.4)],this._scene=[new n(.6),new n(.6),new n(.6)],this._tmpDirection=s()}add(e,t,i){if(this.enabled){if(this._time.hasLastValue()){if(this._time.computeDelta(i)<.015)return}this._screen[0].update(e[0]),this._screen[1].update(e[1]),this._scene[0].update(t[0]),this._scene[1].update(t[1]),this._scene[2].update(t[2]),this._time.update(i)}}reset(){this._screen[0].reset(),this._screen[1].reset(),this._scene[0].reset(),this._scene[1].reset(),this._scene[2].reset(),this._time.reset()}evaluateMomentum(){if(!this.enabled||!this._screen[0].hasFilteredDelta()||!this._time.hasFilteredDelta())return null;const e=this._screen[0].filteredDelta,t=this._screen[1].filteredDelta,i=null==e||null==t?0:Math.sqrt(e*e+t*t),s=this._time.filteredDelta,n=null==s||null==i?0:i/s;return Math.abs(n)<this._minimumInitialVelocity?null:this.createMomentum(n,this._stopVelocity,this._friction)}createMomentum(s,n,r){e(this._tmpDirection,this._scene[0].filteredDelta??0,this._scene[1].filteredDelta??0,this._scene[2].filteredDelta??0);const c=t(this._tmpDirection);c>0&&i(this._tmpDirection,this._tmpDirection,1/c);const h=this._time.filteredDelta;return new l(s,n,r,null==h?0:c/h,this._tmpDirection)}}export{l as PanPlanarMomentum,c as PanPlanarMomentumEstimator};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../core/mathUtils.js\";import{FilteredFiniteDifference as e}from\"./FilteredFiniteDifference.js\";import{Momentum as i}from\"./Momentum.js\";class s{constructor(t=2.5,i=.01,s=.95,l=12){this._minimumInitialVelocity=t,this._stopVelocity=i,this._friction=s,this._maxVelocity=l,this.enabled=!0,this.value=new e(.8),this.time=new e(.3)}add(t,e){if(this.enabled&&null!=e){if(this.time.hasLastValue()){if(this.time.computeDelta(e)<.01)return;if(this.value.hasFilteredDelta()){const e=this.value.computeDelta(t);this.value.filteredDelta*e<0&&this.value.reset()}}this.time.update(e),this.value.update(t)}}reset(){this.value.reset(),this.time.reset()}evaluateMomentum(){if(!this.enabled||!this.value.hasFilteredDelta()||!this.time.hasFilteredDelta())return null;let e=this.value.filteredDelta/this.time.filteredDelta;return e=t(e,-this._maxVelocity,this._maxVelocity),Math.abs(e)<this._minimumInitialVelocity?null:this.createMomentum(e,this._stopVelocity,this._friction)}createMomentum(t,e,s){return new i(t,e,s)}}export{s as MomentumEstimator};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{MomentumEstimator as t}from\"./MomentumEstimator.js\";class a extends t{constructor(t=3,a=.01,s=.95,o=12){super(t,a,s,o)}add(t,a){const s=this.value.lastValue;if(null!=s){let a=t-s;for(;a>Math.PI;)a-=2*Math.PI;for(;a<-Math.PI;)a+=2*Math.PI;t=s+a}super.add(t,a)}}export{a as RotationMomentumEstimator};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{Momentum as e}from\"./Momentum.js\";import{MomentumEstimator as t}from\"./MomentumEstimator.js\";class r extends e{constructor(e,t,r){super(e,t,r)}value(e){const t=super.value(e);return Math.exp(t)}valueDelta(e,t){const r=super.value(e),s=super.value(e+t)-r;return Math.exp(s)}}class s extends t{constructor(e=2.5,t=.01,r=.95,s=12){super(e,t,r,s)}add(e,t){super.add(Math.log(e),t)}createMomentum(e,t,s){return new r(e,t,s)}}export{r as ZoomMomentum,s as ZoomMomentumEstimator};\n"],
  "mappings": "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",
  "names": ["t", "e", "t", "o", "t", "e", "s", "n", "r", "c", "s", "t", "l", "e", "s", "t", "a", "o", "t", "e", "r", "s"]
}
