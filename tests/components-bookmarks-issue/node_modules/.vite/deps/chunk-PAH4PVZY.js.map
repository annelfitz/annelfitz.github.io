{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ZEROS as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ShaderOutput as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import{blendingDefault as l,oitBlending as o,oitDepthTest as n,getOITPolygonOffset as a}from\"../lib/OrderIndependentTransparency.js\";import{Program as c}from\"../lib/Program.js\";import{stencilWriteMaskOn as p,stencilToolMaskBaseParams as u,stencilBaseAllZerosParams as m}from\"../lib/StencilUtils.js\";import{TransparencyPassType as d}from\"../lib/TransparencyPassType.js\";import{VisualVariablePassParameters as f}from\"../materials/VisualVariablePassParameters.js\";import{C as h}from\"../../../../chunks/ColorMaterial.glsl.js\";import{makePipelineState as g,cullingParams as P,defaultDepthWriteParams as b,defaultColorWriteParams as j}from\"../../../webgl/renderState.js\";class y extends f{constructor(){super(...arguments),this.color=e}}class T extends i{initializeProgram(e){return new c(e.rctx,T.shader.get().build(this.configuration),s)}_createPipeline(e,t){const i=this.configuration,s=e===d.NONE,c=e===d.FrontFace;return g({blending:i.output!==r.Color&&i.output!==r.Alpha||!i.transparent?null:s?l:o(e),culling:P(i.cullFace),depthTest:i.draped?null:{func:n(e)},depthWrite:i.draped?null:(s||c)&&i.writeDepth?b:null,colorWrite:j,stencilWrite:i.hasOccludees?p:null,stencilTest:i.hasOccludees?t?u:m:null,polygonOffset:s||c?i.polygonOffset?O:null:a(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._createPipeline(this.configuration.transparencyPassType,!0),this._createPipeline(this.configuration.transparencyPassType,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}T.shader=new t(h,(()=>import(\"./ColorMaterial.glsl.js\")));const O={factor:1,units:1};export{y as ColorMaterialPassParameters,T as ColorMaterialTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{parameter as e}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as s}from\"../lib/basicInterfaces.js\";import{TransparencyPassType as r}from\"../lib/TransparencyPassType.js\";import{DefaultTechniqueConfiguration as p}from\"../materials/DefaultTechniqueConfiguration.js\";class i extends p{constructor(){super(...arguments),this.output=t.Color,this.cullFace=s.None,this.transparencyPassType=r.NONE,this.hasSlicePlane=!1,this.hasVertexColors=!1,this.transparent=!1,this.polygonOffset=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.multipassEnabled=!1,this.cullAboveGround=!1,this.objectAndLayerIdColorInstanced=!1,this.vvColor=!1,this.draped=!1}}o([e({count:t.COUNT})],i.prototype,\"output\",void 0),o([e({count:s.COUNT})],i.prototype,\"cullFace\",void 0),o([e({count:r.COUNT})],i.prototype,\"transparencyPassType\",void 0),o([e()],i.prototype,\"hasSlicePlane\",void 0),o([e()],i.prototype,\"hasVertexColors\",void 0),o([e()],i.prototype,\"transparent\",void 0),o([e()],i.prototype,\"polygonOffset\",void 0),o([e()],i.prototype,\"enableOffset\",void 0),o([e()],i.prototype,\"writeDepth\",void 0),o([e()],i.prototype,\"hasOccludees\",void 0),o([e()],i.prototype,\"multipassEnabled\",void 0),o([e()],i.prototype,\"cullAboveGround\",void 0),o([e()],i.prototype,\"objectAndLayerIdColorInstanced\",void 0),o([e()],i.prototype,\"vvColor\",void 0),o([e()],i.prototype,\"draped\",void 0),o([e({constValue:!1})],i.prototype,\"occlusionPass\",void 0),o([e({constValue:!0})],i.prototype,\"hasVvInstancing\",void 0),o([e({constValue:!1})],i.prototype,\"vvSize\",void 0),o([e({constValue:!1})],i.prototype,\"vvOpacity\",void 0);export{i as ColorMaterialTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{ZEROS as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{newLayout as t}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as r,isColorAlphaOrOID as s,is2DGeometryOutput as a}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import o from\"../lib/GLMaterial.js\";import{OITPolygonOffsetLimit as n}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as h}from\"../lib/RenderSlot.js\";import{VertexAttribute as p}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as c}from\"./DefaultBufferWriter.js\";import{TriangleMaterial as l}from\"./TriangleMaterial.js\";import{VisualVariablePassParameters as u}from\"./VisualVariablePassParameters.js\";import{ColorMaterialTechnique as m}from\"../shaders/ColorMaterialTechnique.js\";import{ColorMaterialTechniqueConfiguration as f}from\"../shaders/ColorMaterialTechniqueConfiguration.js\";class _ extends l{constructor(e){super(e,new T),this.supportsEdges=!0,this.produces=new Map([[h.OPAQUE_MATERIAL,e=>e===r.Highlight||s(e)&&!this._isTransparent],[h.OPAQUE_NO_SSAO_DEPTH,e=>e===r.LinearDepth&&this.parameters.writeLinearDepth&&!this._isTransparent],[h.TRANSPARENT_MATERIAL,e=>s(e)&&this._isTransparent&&this.parameters.writeDepth],[h.TRANSPARENT_NO_SSAO_DEPTH,e=>e===r.LinearDepth&&this.parameters.writeLinearDepth&&this._isTransparent&&this.parameters.writeDepth],[h.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,e=>(s(e)||e===r.LinearDepth&&this.parameters.writeLinearDepth)&&this._isTransparent&&!this.parameters.writeDepth],[h.DRAPED_MATERIAL,e=>a(e)]]),this._configuration=new f}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._isTransparent,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<n,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.draped=this.parameters.draped,this._configuration}createGLMaterial(e){return new d(e)}createBufferWriter(){const e=t().vec3f(p.POSITION);return has(\"enable-feature:objectAndLayerId-rendering\")&&e.vec4u8(p.OBJECTANDLAYERIDCOLOR),this.parameters.vvColor?e.f32(p.COLORFEATUREATTRIBUTE):e.vec4u8(p.COLOR),new c(e)}get _isTransparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}}class d extends o{_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&this._material.setParameters({hasOccludees:e.hasOccludees})}beginSlot(e){return this._output!==r.Color&&this._output!==r.Alpha||this._updateOccludeeState(e),this.ensureTechnique(m,e)}}class T extends u{constructor(){super(...arguments),this.color=e,this.forceTransparentMode=!1,this.writeDepth=!0,this.writeLinearDepth=!1,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=i.None,this.hasOccludees=!1,this.draped=!1}}export{_ as ColorMaterial,T as Parameters};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAI6lC,IAAM,IAAN,MAAM,WAAUA,GAAC;AAAA,EAAC,kBAAkBC,IAAE;AAAC,WAAO,IAAID,GAAEC,GAAE,MAAK,GAAE,OAAO,IAAI,EAAE,MAAM,KAAK,aAAa,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,gBAAgBA,IAAEC,IAAE;AAAC,UAAMC,KAAE,KAAK,eAAc,IAAEF,OAAIG,GAAE,MAAKC,KAAEJ,OAAIG,GAAE;AAAU,WAAO,EAAE,EAAC,UAASD,GAAE,WAAS,EAAE,SAAOA,GAAE,WAAS,EAAE,SAAO,CAACA,GAAE,cAAY,OAAK,IAAE,IAAE,EAAEF,EAAC,GAAE,SAAQK,GAAEH,GAAE,QAAQ,GAAE,WAAUA,GAAE,SAAO,OAAK,EAAC,MAAKI,GAAEN,EAAC,EAAC,GAAE,YAAWE,GAAE,SAAO,QAAM,KAAGE,OAAIF,GAAE,aAAWC,KAAE,MAAK,YAAWI,IAAE,cAAaL,GAAE,eAAaF,KAAE,MAAK,aAAYE,GAAE,eAAaD,KAAEE,KAAE,IAAE,MAAK,eAAc,KAAGC,KAAEF,GAAE,gBAAcM,KAAE,OAAK,EAAEN,GAAE,YAAY,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,WAAO,KAAK,yBAAuB,KAAK,gBAAgB,KAAK,cAAc,sBAAqB,IAAE,GAAE,KAAK,gBAAgB,KAAK,cAAc,sBAAqB,KAAE;AAAA,EAAC;AAAA,EAAC,YAAYF,IAAE;AAAC,WAAOA,KAAE,KAAK,yBAAuB,MAAM,YAAY;AAAA,EAAC;AAAC;AAAC,EAAE,SAAO,IAAIC,GAAE,GAAG,MAAI,OAAO,kCAAyB,CAAE;AAAE,IAAMO,KAAE,EAAC,QAAO,GAAE,OAAM,EAAC;;;ACAvhD,IAAM,IAAN,cAAgBC,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,SAAO,EAAE,OAAM,KAAK,WAASC,GAAE,MAAK,KAAK,uBAAqBC,GAAE,MAAK,KAAK,gBAAc,OAAG,KAAK,kBAAgB,OAAG,KAAK,cAAY,OAAG,KAAK,gBAAc,OAAG,KAAK,eAAa,MAAG,KAAK,aAAW,MAAG,KAAK,eAAa,OAAG,KAAK,mBAAiB,OAAG,KAAK,kBAAgB,OAAG,KAAK,iCAA+B,OAAG,KAAK,UAAQ,OAAG,KAAK,SAAO;AAAA,EAAE;AAAC;AAAC,EAAE,CAACC,GAAE,EAAC,OAAM,EAAE,MAAK,CAAC,CAAC,GAAE,EAAE,WAAU,UAAS,MAAM,GAAE,EAAE,CAACA,GAAE,EAAC,OAAMF,GAAE,MAAK,CAAC,CAAC,GAAE,EAAE,WAAU,YAAW,MAAM,GAAE,EAAE,CAACE,GAAE,EAAC,OAAMD,GAAE,MAAK,CAAC,CAAC,GAAE,EAAE,WAAU,wBAAuB,MAAM,GAAE,EAAE,CAACC,GAAE,CAAC,GAAE,EAAE,WAAU,iBAAgB,MAAM,GAAE,EAAE,CAACA,GAAE,CAAC,GAAE,EAAE,WAAU,mBAAkB,MAAM,GAAE,EAAE,CAACA,GAAE,CAAC,GAAE,EAAE,WAAU,eAAc,MAAM,GAAE,EAAE,CAACA,GAAE,CAAC,GAAE,EAAE,WAAU,iBAAgB,MAAM,GAAE,EAAE,CAACA,GAAE,CAAC,GAAE,EAAE,WAAU,gBAAe,MAAM,GAAE,EAAE,CAACA,GAAE,CAAC,GAAE,EAAE,WAAU,cAAa,MAAM,GAAE,EAAE,CAACA,GAAE,CAAC,GAAE,EAAE,WAAU,gBAAe,MAAM,GAAE,EAAE,CAACA,GAAE,CAAC,GAAE,EAAE,WAAU,oBAAmB,MAAM,GAAE,EAAE,CAACA,GAAE,CAAC,GAAE,EAAE,WAAU,mBAAkB,MAAM,GAAE,EAAE,CAACA,GAAE,CAAC,GAAE,EAAE,WAAU,kCAAiC,MAAM,GAAE,EAAE,CAACA,GAAE,CAAC,GAAE,EAAE,WAAU,WAAU,MAAM,GAAE,EAAE,CAACA,GAAE,CAAC,GAAE,EAAE,WAAU,UAAS,MAAM,GAAE,EAAE,CAACA,GAAE,EAAC,YAAW,MAAE,CAAC,CAAC,GAAE,EAAE,WAAU,iBAAgB,MAAM,GAAE,EAAE,CAACA,GAAE,EAAC,YAAW,KAAE,CAAC,CAAC,GAAE,EAAE,WAAU,mBAAkB,MAAM,GAAE,EAAE,CAACA,GAAE,EAAC,YAAW,MAAE,CAAC,CAAC,GAAE,EAAE,WAAU,UAAS,MAAM,GAAE,EAAE,CAACA,GAAE,EAAC,YAAW,MAAE,CAAC,CAAC,GAAE,EAAE,WAAU,aAAY,MAAM;;;ACA3wB,IAAMC,KAAN,cAAgBC,GAAC;AAAA,EAAC,YAAYA,IAAE;AAAC,UAAMA,IAAE,IAAIC,IAAC,GAAE,KAAK,gBAAc,MAAG,KAAK,WAAS,oBAAI,IAAI,CAAC,CAACC,GAAE,iBAAgB,CAAAF,OAAGA,OAAI,EAAE,aAAW,EAAEA,EAAC,KAAG,CAAC,KAAK,cAAc,GAAE,CAACE,GAAE,sBAAqB,CAAAF,OAAGA,OAAI,EAAE,eAAa,KAAK,WAAW,oBAAkB,CAAC,KAAK,cAAc,GAAE,CAACE,GAAE,sBAAqB,CAAAF,OAAG,EAAEA,EAAC,KAAG,KAAK,kBAAgB,KAAK,WAAW,UAAU,GAAE,CAACE,GAAE,2BAA0B,CAAAF,OAAGA,OAAI,EAAE,eAAa,KAAK,WAAW,oBAAkB,KAAK,kBAAgB,KAAK,WAAW,UAAU,GAAE,CAACE,GAAE,2CAA0C,CAAAF,QAAI,EAAEA,EAAC,KAAGA,OAAI,EAAE,eAAa,KAAK,WAAW,qBAAmB,KAAK,kBAAgB,CAAC,KAAK,WAAW,UAAU,GAAE,CAACE,GAAE,iBAAgB,CAAAF,OAAG,EAAEA,EAAC,CAAC,CAAC,CAAC,GAAE,KAAK,iBAAe,IAAI;AAAA,EAAC;AAAA,EAAC,iBAAiBA,IAAEG,IAAE;AAAC,WAAO,KAAK,eAAe,SAAOH,IAAE,KAAK,eAAe,WAAS,KAAK,WAAW,UAAS,KAAK,eAAe,kBAAgB,KAAK,WAAW,mBAAiB,CAAC,KAAK,WAAW,SAAQ,KAAK,eAAe,gBAAc,KAAK,WAAW,eAAc,KAAK,eAAe,cAAY,KAAK,gBAAe,KAAK,eAAe,gBAAc,KAAK,WAAW,eAAc,KAAK,eAAe,aAAW,KAAK,WAAW,YAAW,KAAK,eAAe,eAAa,KAAK,WAAW,cAAa,KAAK,eAAe,uBAAqBG,GAAE,sBAAqB,KAAK,eAAe,eAAaA,GAAE,OAAO,oBAAkBC,IAAE,KAAK,eAAe,mBAAiBD,GAAE,kBAAiB,KAAK,eAAe,kBAAgBA,GAAE,iBAAiB,iBAAgB,KAAK,eAAe,UAAQ,CAAC,CAAC,KAAK,WAAW,SAAQ,KAAK,eAAe,SAAO,KAAK,WAAW,QAAO,KAAK;AAAA,EAAc;AAAA,EAAC,iBAAiBH,IAAE;AAAC,WAAO,IAAI,EAAEA,EAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,UAAMA,KAAE,EAAE,EAAE,MAAMA,GAAE,QAAQ;AAAE,WAAO,IAAI,2CAA2C,KAAGA,GAAE,OAAOA,GAAE,qBAAqB,GAAE,KAAK,WAAW,UAAQA,GAAE,IAAIA,GAAE,qBAAqB,IAAEA,GAAE,OAAOA,GAAE,KAAK,GAAE,IAAI,EAAEA,EAAC;AAAA,EAAC;AAAA,EAAC,IAAI,iBAAgB;AAAC,WAAO,KAAK,WAAW,MAAM,CAAC,IAAE,KAAG,KAAK,WAAW;AAAA,EAAoB;AAAC;AAAC,IAAM,IAAN,cAAgB,EAAC;AAAA,EAAC,qBAAqBA,IAAE;AAAC,IAAAA,GAAE,iBAAe,KAAK,UAAU,WAAW,gBAAc,KAAK,UAAU,cAAc,EAAC,cAAaA,GAAE,aAAY,CAAC;AAAA,EAAC;AAAA,EAAC,UAAUA,IAAE;AAAC,WAAO,KAAK,YAAU,EAAE,SAAO,KAAK,YAAU,EAAE,SAAO,KAAK,qBAAqBA,EAAC,GAAE,KAAK,gBAAgB,GAAEA,EAAC;AAAA,EAAC;AAAC;AAAC,IAAMC,KAAN,cAAgBE,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,QAAM,GAAE,KAAK,uBAAqB,OAAG,KAAK,aAAW,MAAG,KAAK,mBAAiB,OAAG,KAAK,kBAAgB,OAAG,KAAK,gBAAc,OAAG,KAAK,gBAAc,OAAG,KAAK,WAASH,GAAE,MAAK,KAAK,eAAa,OAAG,KAAK,SAAO;AAAA,EAAE;AAAC;",
  "names": ["r", "e", "t", "i", "o", "c", "h", "l", "_", "O", "t", "e", "o", "r", "_", "e", "T", "A", "t", "S"]
}
