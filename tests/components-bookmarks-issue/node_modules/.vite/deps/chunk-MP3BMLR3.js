import {
  t
} from "./chunk-OOISODT4.js";
import {
  t as t2
} from "./chunk-KCZGCTYM.js";
import {
  H,
  _s
} from "./chunk-RYF27IO3.js";
import {
  n as n4
} from "./chunk-D56W4LPT.js";
import {
  l
} from "./chunk-WZJNHZ6H.js";
import {
  B,
  ut
} from "./chunk-XMYPMIYH.js";
import {
  c
} from "./chunk-LQBHIBXV.js";
import {
  S,
  c as c2,
  u
} from "./chunk-Z2F5OKVA.js";
import {
  a
} from "./chunk-O76UVYOO.js";
import {
  n as n3,
  r as r2
} from "./chunk-HWHMO3CO.js";
import {
  n as n2
} from "./chunk-ZPYA32PH.js";
import {
  M
} from "./chunk-OCF7OAES.js";
import {
  P,
  _,
  o,
  r,
  z as z2
} from "./chunk-JZBR4X6W.js";
import {
  n
} from "./chunk-OIJCMME5.js";
import {
  f
} from "./chunk-MBGZKT2Z.js";
import {
  W2 as W,
  s3 as s,
  z
} from "./chunk-UWQ3OYA5.js";

// node_modules/@arcgis/core/geometry/support/coordinateSystem.js
function h(t3) {
  const { value: e, operations: n5 } = t3;
  return { operations: n5, value: n5.create(e) };
}
function j(t3, e, n5) {
  return t3.operations.setExtent(t3.value, e, n5.value), n5;
}
function d(t3) {
  return { operations: t3, value: t3.create() };
}
function x(t3, e, n5 = d(t3)) {
  return n5.operations = t3, t3.copy(e, n5.value), n5;
}
function A(t3) {
  return x(ut, B(0, 0, 0, s(t3).radius));
}
var b = 2 ** 50;
function k() {
  return x(_s, H([0, 0, 0], [b, 0, 0], [0, b, 0]));
}
function P2(t3, e, n5) {
  return t3.operations.axisAt(t3.value, e, n2.Z, n5);
}
function R(t3, e, n5, o2) {
  return t3.operations.axisAt(t3.value, e, n5, o2);
}
function S2(t3, e, n5) {
  return t3.operations.intersectRay(t3.value, e, n5);
}
function y(t3, e, n5) {
  return t3.operations.intersectRayClosestSilhouette(t3.value, e, n5);
}
function U(t3, e) {
  return t3.operations.altitudeAt(t3.value, e);
}
function G(t3, e, n5, o2) {
  return t3.operations.setAltitudeAt(t3.value, e, n5, o2);
}
function O(n5, o2, r3, i) {
  return o2 !== i && n3(i, o2), o(Z, i[12], i[13], i[14]), G(n5, Z, r3, Z), i[12] = Z[0], i[13] = Z[1], i[14] = Z[2], i;
}
function T(t3, e, n5) {
  return t3.operations.elevate(t3.value, e, n5.value);
}
var Z = n();
function q(t3, e, o2, r3, i) {
  return i[0] = P(t3, e), i[1] = P(t3, o2), i[2] = P(t3, r3), i;
}
function w(t3, e, n5, s2, a2) {
  r(n5, t3), r(B2, e), z2(B2, B2), _(s2, B2, n5), _(a2, s2, n5);
}
function z3(t3, e) {
  return t3 ? a(e) : e.isGeographic ? f.PlateCarree : e;
}
var B2 = n();

// node_modules/@arcgis/core/views/3d/support/RenderCoordsHelper.js
var v = class _v {
  constructor(t3, e, o2, r3) {
    this.viewingMode = t3, this.spatialReference = e, this.unitInMeters = o2, this._coordinateSystem = r3, this._tmpCoordinateSystem = h(r3), this.referenceEllipsoid = s(e), this.sphericalPCPF = a(e);
  }
  set extent(t3) {
    t3 && j(this._coordinateSystem, t3, this._coordinateSystem);
  }
  getAltitude(t3) {
    return U(this._coordinateSystem, t3);
  }
  setAltitude(t3, e, o2 = t3) {
    return G(this._coordinateSystem, o2, e, t3);
  }
  setAltitudeOfTransformation(t3, e) {
    O(this._coordinateSystem, e, t3, e);
  }
  worldUpAtPosition(t3, e) {
    return P2(this._coordinateSystem, t3, e);
  }
  worldBasisAtPosition(t3, e, o2) {
    return R(this._coordinateSystem, t3, e, o2);
  }
  basisMatrixAtPosition(t3, e) {
    const o2 = this.worldBasisAtPosition(t3, n2.X, c2.get()), i = this.worldBasisAtPosition(t3, n2.Y, c2.get()), s2 = this.worldBasisAtPosition(t3, n2.Z, c2.get());
    return r2(e, o2[0], o2[1], o2[2], 0, i[0], i[1], i[2], 0, s2[0], s2[1], s2[2], 0, 0, 0, 0, 1), e;
  }
  headingAtPosition(e, o2) {
    const r3 = this.worldUpAtPosition(e, c2.get()), i = this.worldBasisAtPosition(e, n2.Y, c2.get()), s2 = u(o2, i, r3);
    return M(s2);
  }
  intersectManifoldClosestSilhouette(t3, e, o2) {
    return T(this._coordinateSystem, e, this._tmpCoordinateSystem), y(this._tmpCoordinateSystem, t3, o2), o2;
  }
  intersectManifold(t3, e, o2) {
    T(this._coordinateSystem, e, this._tmpCoordinateSystem);
    const r3 = c2.get();
    return S2(this._tmpCoordinateSystem, t3, r3) ? r(o2, r3) : null;
  }
  intersectInfiniteManifold(t3, e, o2) {
    if (this.viewingMode === l.Global)
      return this.intersectManifold(t3, e, o2);
    T(this._coordinateSystem, e, this._tmpCoordinateSystem);
    const r3 = this._tmpCoordinateSystem.value, s2 = c2.get();
    return S(r3.plane, t3, s2) ? r(o2, s2) : null;
  }
  toRenderCoords(t3, e, o2) {
    return t2(t3) ? c(t3, e, this.spatialReference) : n4(t3, e, o2, this.spatialReference);
  }
  fromRenderCoords(t3, e, o2 = null) {
    return t2(e) ? (null != o2 && (e.spatialReference = o2), t(t3, this.spatialReference, e) ? e : null) : n4(t3, this.spatialReference, e, o2) ? e : null;
  }
  static create(t3, o2) {
    switch (t3) {
      case l.Local:
        return new _v(l.Local, o2, W(o2), k());
      case l.Global:
        return new _v(l.Global, o2, 1, A(o2));
    }
  }
  static renderUnitScaleFactor(t3, e) {
    return z(t3) / z(e);
  }
};

export {
  q,
  w,
  z3 as z,
  v
};
//# sourceMappingURL=chunk-MP3BMLR3.js.map
