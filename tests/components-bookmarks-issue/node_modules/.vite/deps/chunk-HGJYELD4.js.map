{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/state/Frustum.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{c as t,E as i}from\"../../../chunks/vec32.js\";import{create as s}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{PointIndex as e,create as r,createPoints as n,fromMatrix as o,computePlanes as u,intersectsSphere as h,intersectsRay as _,intersectsLineSegment as l,intersectsPoint as p,planePointIndices as a}from\"../../../geometry/support/frustum.js\";class c{get planes(){return this.frustum}get points(){return this._points}get mutablePoints(){return this._points}get direction(){return this._direction}get origin(){return this._origin}constructor(t){this.renderCoordsHelper=t,this.frustum=r(),this._points=n(),this.lines=new Array(12),this._origin=s(),this._direction=s(),this._altitude=null;for(let i=0;i<12;i++)this.lines[i]={origin:null,direction:s(),endpoint:null}}update(i){o(i.viewMatrix,i.projectionMatrix,this.frustum,this._points),t(this._origin,i.eye),t(this._direction,i.viewForward),this._altitude=this.renderCoordsHelper.getAltitude(this._origin),this._updateLines()}updatePoints(i){for(let s=0;s<this._points.length;s++)t(this._points[s],i[s]);u(this.frustum,this._points),this._updateLines()}get altitude(){return this._altitude}intersectsSphere(t){return h(this.frustum,t)}intersectsRay(t){return _(this.frustum,t)}intersectsLineSegment(t,i){return l(this.frustum,t,i)}intersectsPoint(t){return p(this.frustum,t)}_updateLines(){const t=this._points;for(let i=0;i<4;i++){const s=i+4;d(this.lines[i],t[i],t[s]),d(this.lines[i+4],t[i],3===i?t[0]:t[i+1]),d(this.lines[i+8],t[s],3===i?t[4]:t[s+1])}}}function d(t,s,e){t.origin=s,t.endpoint=e,i(t.direction,s,e)}c.planePointIndices=a,c.nearFarLineIndices=[[e.NEAR_BOTTOM_LEFT,e.FAR_BOTTOM_LEFT],[e.NEAR_BOTTOM_RIGHT,e.FAR_BOTTOM_RIGHT],[e.NEAR_TOP_RIGHT,e.FAR_TOP_RIGHT],[e.NEAR_TOP_LEFT,e.FAR_TOP_LEFT]];export{c as Frustum};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;AAIoX,IAAM,IAAN,MAAO;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,IAAI,YAAW;AAAC,WAAO,KAAK;AAAA,EAAU;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,YAAY,GAAE;AAAC,SAAK,qBAAmB,GAAE,KAAK,UAAQ,EAAE,GAAE,KAAK,UAAQ,EAAE,GAAE,KAAK,QAAM,IAAI,MAAM,EAAE,GAAE,KAAK,UAAQ,EAAE,GAAE,KAAK,aAAW,EAAE,GAAE,KAAK,YAAU;AAAK,aAAQ,IAAE,GAAE,IAAE,IAAG;AAAI,WAAK,MAAM,CAAC,IAAE,EAAC,QAAO,MAAK,WAAU,EAAE,GAAE,UAAS,KAAI;AAAA,EAAC;AAAA,EAAC,OAAO,GAAE;AAAC,MAAE,EAAE,YAAW,EAAE,kBAAiB,KAAK,SAAQ,KAAK,OAAO,GAAE,EAAE,KAAK,SAAQ,EAAE,GAAG,GAAE,EAAE,KAAK,YAAW,EAAE,WAAW,GAAE,KAAK,YAAU,KAAK,mBAAmB,YAAY,KAAK,OAAO,GAAE,KAAK,aAAa;AAAA,EAAC;AAAA,EAAC,aAAa,GAAE;AAAC,aAAQA,KAAE,GAAEA,KAAE,KAAK,QAAQ,QAAOA;AAAI,QAAE,KAAK,QAAQA,EAAC,GAAE,EAAEA,EAAC,CAAC;AAAE,MAAE,KAAK,SAAQ,KAAK,OAAO,GAAE,KAAK,aAAa;AAAA,EAAC;AAAA,EAAC,IAAI,WAAU;AAAC,WAAO,KAAK;AAAA,EAAS;AAAA,EAAC,iBAAiB,GAAE;AAAC,WAAO,EAAE,KAAK,SAAQ,CAAC;AAAA,EAAC;AAAA,EAAC,cAAc,GAAE;AAAC,WAAO,EAAE,KAAK,SAAQ,CAAC;AAAA,EAAC;AAAA,EAAC,sBAAsB,GAAE,GAAE;AAAC,WAAO,EAAE,KAAK,SAAQ,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,gBAAgB,GAAE;AAAC,WAAO,EAAE,KAAK,SAAQ,CAAC;AAAA,EAAC;AAAA,EAAC,eAAc;AAAC,UAAM,IAAE,KAAK;AAAQ,aAAQ,IAAE,GAAE,IAAE,GAAE,KAAI;AAAC,YAAMA,KAAE,IAAE;AAAE,QAAE,KAAK,MAAM,CAAC,GAAE,EAAE,CAAC,GAAE,EAAEA,EAAC,CAAC,GAAE,EAAE,KAAK,MAAM,IAAE,CAAC,GAAE,EAAE,CAAC,GAAE,MAAI,IAAE,EAAE,CAAC,IAAE,EAAE,IAAE,CAAC,CAAC,GAAE,EAAE,KAAK,MAAM,IAAE,CAAC,GAAE,EAAEA,EAAC,GAAE,MAAI,IAAE,EAAE,CAAC,IAAE,EAAEA,KAAE,CAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAC;AAAC,SAAS,EAAE,GAAEA,IAAE,GAAE;AAAC,IAAE,SAAOA,IAAE,EAAE,WAAS,GAAE,EAAE,EAAE,WAAUA,IAAE,CAAC;AAAC;AAAC,EAAE,oBAAkB,GAAE,EAAE,qBAAmB,CAAC,CAAC,EAAE,kBAAiB,EAAE,eAAe,GAAE,CAAC,EAAE,mBAAkB,EAAE,gBAAgB,GAAE,CAAC,EAAE,gBAAe,EAAE,aAAa,GAAE,CAAC,EAAE,eAAc,EAAE,YAAY,CAAC;",
  "names": ["s"]
}
