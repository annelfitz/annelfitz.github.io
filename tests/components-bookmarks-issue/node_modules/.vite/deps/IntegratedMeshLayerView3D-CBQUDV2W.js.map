{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/layers/IntegratedMeshLayerView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import has from\"../../../core/has.js\";import{initial as t}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{I3SMeshView3D as i}from\"./I3SMeshView3D.js\";import{DrapeTargetType as a}from\"./interfaces.js\";import{LayerView3D as n}from\"./LayerView3D.js\";import{updatingProgress as l}from\"../support/updatingProperties.js\";import p from\"../../layers/LayerView.js\";const d=.2;let c=class extends(i(n(p))){constructor(){super(...arguments),this.type=\"integrated-mesh-3d\",this._elevationContext=\"im\",this._isIntegratedMesh=!0,this._supportsLabeling=!1,this._needsNormals=has(\"enable-feature:im-shading\"),this.drapeTargetType=a.WithoutRasterImage}get i3slayer(){return this.layer}get updatingProgressValue(){return this._controller?.updatingProgress??0}get lodFactor(){return this.view?.qualitySettings?.sceneService?.integratedMesh?.lodFactor??1}get progressiveLoadFactor(){return this.lodFactor>=1?d:1}get layerPopupEnabledAndHasTemplate(){return!1}initialize(){this._updatingHandles.add((()=>this.layer.modifications),(()=>this._loadModifications()),t),this.view.basemapTerrain.overlayManager.registerDrapeTarget(this)}destroy(){this.view.basemapTerrain.overlayManager.unregisterDrapeTarget(this)}_createLayerGraphic(){return new r({layer:this.layer,sourceLayer:this.layer})}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}_loadModifications(){if(this.removeHandles(\"modifications\"),null==this.layer.modifications)return void(this._modifications=[]);const e=this.layer.modifications;this.addHandles(this._updatingHandles.addOnCollectionChange((()=>e),(()=>this._modifications=e.toArray()),t),\"modifications\")}};e([o()],c.prototype,\"layer\",void 0),e([o()],c.prototype,\"i3slayer\",null),e([o(l)],c.prototype,\"updatingProgress\",void 0),e([o()],c.prototype,\"updatingProgressValue\",null),e([o()],c.prototype,\"lodFactor\",null),e([o({readOnly:!0})],c.prototype,\"progressiveLoadFactor\",null),c=e([s(\"esri.views.3d.layers.IntegratedMeshLayerView3D\")],c);const m=c;export{m as default};\n"],
  "mappings": "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",
  "names": ["t", "e"]
}
