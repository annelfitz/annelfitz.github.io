{
  "version": 3,
  "sources": ["../../@arcgis/core/views/webgl/WebGLDriverTestModule.js", "../../@arcgis/core/views/webgl/testSVGPremultipliedAlpha.js", "../../@arcgis/core/views/webgl/capabilities/DisjointTimerQuery.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as s}from\"../../core/maybe.js\";class t{constructor(){this._result=!1}dispose(){this._program=s(this._program)}get result(){return null!=this._program&&(this._result=this._test(this._program),this.dispose()),this._result}}export{t as WebGLDriverTestModule};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{Pos2us as e}from\"../2d/engine/webgl/DefaultVertexAttributeLayouts.js\";import{BufferObject as r}from\"./BufferObject.js\";import{TextureWrapMode as t,TextureSamplingMode as o,Usage as n,ClearBufferBit as s,PrimitiveType as i,PixelFormat as a,PixelType as p}from\"./enums.js\";import{FramebufferObject as m}from\"./FramebufferObject.js\";import{Texture as u}from\"./Texture.js\";import{TextureDescriptor as c}from\"./TextureDescriptor.js\";import{VertexArrayObject as d}from\"./VertexArrayObject.js\";import{WebGLDriverTestModule as g}from\"./WebGLDriverTestModule.js\";class f extends g{constructor(e){super(),this._rctx=e;const r=\"\\n    precision highp float;\\n\\n    attribute vec2 a_pos;\\n    varying vec2 v_uv;\\n\\n    void main() {\\n      v_uv = a_pos;\\n      gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\\n    }\\n    \",t=\"\\n    precision highp float;\\n\\n    varying vec2 v_uv;\\n\\n    uniform sampler2D u_texture;\\n\\n    void main() {\\n      gl_FragColor = texture2D(u_texture, v_uv);\\n    }\\n    \";this._program=e.programCache.acquire(r,t,new Map([[\"a_pos\",0]]))}dispose(){super.dispose()}_test(g){const f=this._rctx;if(!f.gl)return g.dispose(),!0;const l=new c(1);l.wrapMode=t.CLAMP_TO_EDGE,l.samplingMode=o.NEAREST;const w=new m(f,l),v=r.createVertex(f,n.STATIC_DRAW,new Uint16Array([0,0,1,0,0,1,1,1])),x=new d(f,new Map([[\"a_pos\",0]]),e,{geometry:v}),h=new c;h.samplingMode=o.LINEAR,h.wrapMode=t.CLAMP_TO_EDGE;const b=new u(f,h,_);f.useProgram(g),f.bindTexture(b,0),g.setUniform1i(\"u_texture\",0);const A=f.getBoundFramebufferObject(),{x:E,y:T,width:j,height:C}=f.getViewport();f.bindFramebuffer(w),f.setViewport(0,0,1,1),f.setClearColor(0,0,0,0),f.setBlendingEnabled(!1),f.clear(s.COLOR_BUFFER_BIT),f.bindVAO(x),f.drawArrays(i.TRIANGLE_STRIP,0,4);const y=new Uint8Array(4);return w.readPixels(0,0,1,1,a.RGBA,p.UNSIGNED_BYTE,y),x.dispose(),w.dispose(),b.dispose(),f.setViewport(E,T,j,C),f.bindFramebuffer(A),255!==y[0]}}const _=new Image;_.src=\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='5' height='5' version='1.1' viewBox='0 0 5 5' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='5' height='5' fill='%23f00' fill-opacity='.5'/%3E%3C/svg%3E%0A\",_.width=5,_.height=5,_.decode();export{f as SVGPremultipliedAlpha};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass e{constructor(e,E,t,T,r,_,i,u,n){this.createQuery=e,this.deleteQuery=E,this.resultAvailable=t,this.getResult=T,this.disjoint=r,this.beginTimeElapsed=_,this.endTimeElapsed=i,this.createTimestamp=u,this.timestampBits=n}}let E=!1;function t(t,T){if(T.disjointTimerQuery)return null;let r=t.getExtension(\"EXT_disjoint_timer_query_webgl2\");return r?new e((()=>t.createQuery()),(e=>{t.deleteQuery(e),E=!1}),(e=>t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE)),(e=>t.getQueryParameter(e,t.QUERY_RESULT)),(()=>t.getParameter(r.GPU_DISJOINT_EXT)),(e=>{E||(E=!0,t.beginQuery(r.TIME_ELAPSED_EXT,e))}),(()=>{t.endQuery(r.TIME_ELAPSED_EXT),E=!1}),(e=>r.queryCounterEXT(e,r.TIMESTAMP_EXT)),(()=>t.getQuery(r.TIMESTAMP_EXT,r.QUERY_COUNTER_BITS_EXT))):(r=t.getExtension(\"EXT_disjoint_timer_query\"),r?new e((()=>r.createQueryEXT()),(e=>{r.deleteQueryEXT(e),E=!1}),(e=>r.getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT)),(e=>r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)),(()=>t.getParameter(r.GPU_DISJOINT_EXT)),(e=>{E||(E=!0,r.beginQueryEXT(r.TIME_ELAPSED_EXT,e))}),(()=>{r.endQueryEXT(r.TIME_ELAPSED_EXT),E=!1}),(e=>r.queryCounterEXT(e,r.TIMESTAMP_EXT)),(()=>r.getQueryEXT(r.TIMESTAMP_EXT,r.QUERY_COUNTER_BITS_EXT))):null)}export{e as DisjointTimerQuery,t as createDisjointTimerQuery,E as hasRunningElapsedTimer};\n"],
  "mappings": "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",
  "names": ["e", "r", "t", "f", "x", "m", "h", "_", "E", "e", "E", "t", "r", "_"]
}
