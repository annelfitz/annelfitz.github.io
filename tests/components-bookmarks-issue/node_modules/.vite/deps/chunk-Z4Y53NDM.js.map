{
  "version": 3,
  "sources": ["../../@arcgis/core/core/reactiveUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{createTask as n}from\"./asyncUtils.js\";import e from\"./Collection.js\";import{isEventedOrEventTarget as t,on as o}from\"./events.js\";import{handlesGroup as r,destroyHandle as s,makeHandle as i}from\"./handleUtils.js\";import{removeMaybe as c}from\"./maybe.js\";import{isAborted as u,createAbortError as l,onAbort as a,ignoreAbortErrors as f}from\"./promiseUtils.js\";import{watchTracked as m}from\"./accessorSupport/watch.js\";export{autorun}from\"./accessorSupport/trackingUtils.js\";function d(n,e,t={}){return y(n,e,t,L)}function p(n,e,t={}){return y(n,e,t,M)}function y(n,e,t={},o){let r=null;const s=t.once?(n,t)=>{o(n)&&(c(r),e(n,t))}:(n,t)=>{o(n)&&e(n,t)};if(r=m(n,s,t.sync,t.equals),t.initial){const e=n();s(e,e)}return r}function v(n,e,r,s={}){let u=null,l=null,a=null;function f(){u&&l&&(l.remove(),s.onListenerRemove?.(u),u=null,l=null)}function m(n){s.once&&s.once&&c(a),r(n)}const p=d(n,((n,r)=>{f(),t(n)&&(u=n,l=o(n,e,m),s.onListenerAdd?.(n))}),{sync:s.sync,initial:!0});return a=i((()=>{p.remove(),f()})),a}function j(n,e){return h(n,null,e)}function w(n,e){return h(n,M,e)}function h(n,e,t){if(u(t))return Promise.reject(l());const o=n();if(e?.(o))return Promise.resolve(o);let s=null;function i(){s=c(s)}return new Promise(((o,c)=>{s=r([a(t,(()=>{i(),c(l())})),y(n,(n=>{i(),o(n)}),{sync:!1,once:!0},e??L)])}))}function L(n){return!0}function M(n){return!!n}function U(n,e,t={}){let o=!1;const r=d(n,((n,t)=>{o||e(n,t)}),t);return{remove(){r.remove()},pause(){o=!0},resume(){o=!1}}}function g(n,t){const o=new e,r=v(n,\"after-splice\",(({added:n,start:e,deleteCount:r})=>{const s=o.splice(e,r);for(const t of s)t.remove();if(n?.length){const r=n.map(t);o.addMany(r,e)}}),{sync:!0,onListenerRemove:()=>o.drain((n=>n.remove())),onListenerAdd:n=>o.addMany(n.items.map(t))});return o.addHandles(r),o}function x(t,o){const r=new e,i=g(t,(e=>n((async n=>{const t=await o(e,n);if(u(n))throw t.remove(),l();return t})))),c=()=>null,a=async n=>{const e=await n.promise,t=i.indexOf(n);t<0||r.splice(t,1,e)};r.addMany(i.items.map(c));for(const n of i)f(a(n));const m=i.on(\"after-splice\",(({added:n,start:e,deleteCount:t})=>{const o=r.splice(e,t);for(const r of o)r?.remove();if(n?.length){r.addMany(n.map(c),e);for(const e of n)f(a(e))}}));return r.addHandles([s(i),m]),r}const C={sync:!0},P={initial:!0},A={sync:!0,initial:!0};export{P as initial,g as mapCollection,x as mapCollectionAsync,v as on,j as once,U as pausable,C as sync,A as syncAndInitial,d as watch,p as when,w as whenOnce};\n"],
  "mappings": "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",
  "names": ["d", "n", "e", "o", "t", "u", "l", "m", "p", "r", "w", "i", "c"]
}
