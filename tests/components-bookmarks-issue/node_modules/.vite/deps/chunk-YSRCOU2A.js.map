{
  "version": 3,
  "sources": ["../../@arcgis/core/views/interactive/snapping/FeatureSnappingLayerSource.js", "../../@arcgis/core/views/interactive/snapping/SnappingOptions.js", "../../@arcgis/core/views/interactive/snapping/FeatureSnappingSourceInfo.js", "../../@arcgis/core/views/interactive/snapping/candidates/RightAngleSnappingCandidate.js", "../../@arcgis/core/views/interactive/snapping/FeatureSnappingEngine.js", "../../@arcgis/core/views/interactive/snapping/SnappingAlgorithm.js", "../../@arcgis/core/views/interactive/snapping/candidates/LineSnappingCandidate.js", "../../@arcgis/core/views/interactive/snapping/LineSnapper.js", "../../@arcgis/core/views/interactive/snapping/candidates/ParallelLineSnappingCandidate.js", "../../@arcgis/core/views/interactive/snapping/ParallelLineSnapper.js", "../../@arcgis/core/views/interactive/snapping/RightAngleSnapper.js", "../../@arcgis/core/views/interactive/snapping/candidates/RightAngleTriangleSnappingCandidate.js", "../../@arcgis/core/views/interactive/snapping/RightAngleTriangleSnapper.js", "../../@arcgis/core/views/interactive/snapping/SelfSnappingEngine.js", "../../@arcgis/core/views/interactive/snapping/snappingFactory.js", "../../@arcgis/core/views/interactive/snapping/candidates/IntersectionSnappingCandidate.js", "../../@arcgis/core/views/interactive/snapping/SnappingManager.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import e from\"../../../core/Collection.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let i=class extends r{constructor(o){super(o),this.layer=null,this.enabled=!0,this.updating=!1,this.availability=1,this.sublayerSources=new e}};o([t({constructOnly:!0})],i.prototype,\"layer\",void 0),o([t()],i.prototype,\"enabled\",void 0),o([t()],i.prototype,\"updating\",void 0),o([t()],i.prototype,\"availability\",void 0),o([t()],i.prototype,\"sublayerSources\",void 0),i=o([s(\"esri.views.interactive.snapping.FeatureSnappingLayerSource\")],i);const p=i;export{p as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{difference as r}from\"../../../core/arrayUtils.js\";import o from\"../../../core/Collection.js\";import s from\"../../../core/Logger.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"./FeatureSnappingLayerSource.js\";import{defaults as l}from\"./Settings.js\";let c=class extends t{constructor(e){super(e),this.enabled=!1,this.enabledToggled=!1,this.forceDisabled=!1,this.selfEnabled=!0,this.featureEnabled=!0,this.featureSources=new o,this.distance=l.distance,this.touchSensitivityMultiplier=l.touchSensitivityMultiplier}get effectiveEnabled(){return!this.forceDisabled&&(this.enabledToggled?!this.enabled:this.enabled)}get effectiveSelfEnabled(){return this.effectiveEnabled&&this.selfEnabled}get effectiveFeatureEnabled(){return this.effectiveEnabled&&this.featureEnabled}get _effectiveFeatureSources(){const e=this.featureSources;e.some(p)&&s.getLogger(this).warnOnce(\"Do not configure SubtypeGroupLayer sources in SnappingOptions.featureSources directly. Create a FeatureSnappingLayerSource for each SubtypeSublayer.\");const t=e.filter(d),i=this._get(\"_effectiveFeatureSources\")?.filter(p)??new o;for(const r of t){const e=i.find((e=>e.layer===r.layer.parent));if(e)e.sublayerSources.includes(r)||e.sublayerSources.add(r);else if(r.layer.parent){const e=new n({layer:r.layer.parent});e.sublayerSources.add(r),i.add(e)}}for(const r of i){const e=r.sublayerSources.filter((e=>!t.includes(e)));r.sublayerSources.removeMany(e)}i.removeMany(i.filter((e=>0===e.sublayerSources.length)));const a=e.filter(f),l=this._get(\"_effectiveFeatureSources\")??new o,{added:c,removed:u}=r(l.toArray(),[...a,...i]);return l.removeMany(u),l.addMany(c),l}};e([i()],c.prototype,\"enabled\",void 0),e([i()],c.prototype,\"enabledToggled\",void 0),e([i()],c.prototype,\"forceDisabled\",void 0),e([i()],c.prototype,\"selfEnabled\",void 0),e([i()],c.prototype,\"featureEnabled\",void 0),e([i({type:o.ofType(n)})],c.prototype,\"featureSources\",void 0),e([i()],c.prototype,\"distance\",void 0),e([i()],c.prototype,\"touchSensitivityMultiplier\",void 0),e([i({readOnly:!0})],c.prototype,\"effectiveEnabled\",null),e([i({readOnly:!0})],c.prototype,\"effectiveSelfEnabled\",null),e([i({readOnly:!0})],c.prototype,\"effectiveFeatureEnabled\",null),e([i({readOnly:!0})],c.prototype,\"_effectiveFeatureSources\",null),c=e([a(\"esri.views.interactive.snapping.SnappingOptions\")],c);const u=c;function p(e){return\"subtype-group\"===e.layer.type}function f(e){return\"subtype-group\"!==e.layer.type}function d(e){return\"subtype-sublayer\"===e.layer.type}export{u as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import t from\"../../../core/Logger.js\";import{watch as i,syncAndInitial as l}from\"../../../core/reactiveUtils.js\";import{sqlAnd as o}from\"../../../core/sql.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../layers/support/FeatureFilter.js\";import{getFloorFilterClause as u}from\"../../../layers/support/floorFilterUtils.js\";import{isSubtypeGroupLayer as p,isFeatureLayer as c}from\"../../../layers/support/layerUtils.js\";import{isUtilityNetworkWebMap as d}from\"./snappingUtils.js\";import{scaleBoundsPredicate as y}from\"../../support/layerViewUtils.js\";let f=class extends r{get layerView(){return this.view?.allLayerViews?.find((e=>e.layer===this.layer))}get valid(){return this._valid}get subtypeFilter(){const{layer:e,snappingSource:r}=this;if(!p(e)||!e.subtypes?.length)return{mode:\"not-in-use\",filter:null};const t=r.layerSource.sublayerSources.filter((e=>e.enabled&&e.layer.visible&&y(this.view?.scale,e.layer.effectiveScaleRange.minScale,e.layer.effectiveScaleRange.maxScale))).map((e=>e.layer.subtypeCode));if(!t.length)return{mode:\"none-visible\",filter:null};if(t.length===e.subtypes.length)return{mode:\"all-visible\",filter:null};const i=e.fieldsIndex.get(e.subtypeField)?.name??e.subtypeField;return 1===t.length?{mode:\"in-use\",filter:`${i} = ${t.getItemAt(0)}`}:{mode:\"in-use\",filter:`${i} IN (${t.join(\", \")})`}}get floorFilter(){const{view:e,layer:r}=this;return e&&r?u({view:e,layer:r}):null}constructor(e){super(e),this.rulesTable=null,this._valid=!1}initialize(){if(!this.snappingSource||!this.layer)return;const{layer:e,snappingSource:r}=this;if(\"refresh\"in e){const t=e;this.addHandles(t.on(\"refresh\",(()=>r.refresh())))}this.loadRules(),this.addHandles([i((()=>r.updating),(e=>r.layerSource.updating=e),l),i((()=>r.availability),(e=>r.layerSource.availability=e),l)])}getFetchCandidatesParameters(e,r,t){if(!this.valid)return[];const{layer:i,layerView:l,floorFilter:s,rulesTable:a,subtypeFilter:u}=this,y={distance:t,mode:this.view?.type??\"2d\",point:e,coordinateHelper:r.coordinateHelper,...m(),filter:l&&\"filter\"in l?l.filter:null};if(s&&(y.filter=h(y.filter,s)),\"not-in-use\"!==u.mode&&\"all-visible\"!==u.mode){if(\"none-visible\"===u.mode)return[];y.filter?y.filter.where=o(y.filter.where,u.mode):y.filter=new n({where:u.filter})}const f=r.feature,v=\"subtype-sublayer\"===f?.sourceLayer?.type?f.sourceLayer.parent:f?.sourceLayer;if(a&&f&&d(this.view?.map)&&(c(i)||p(i))&&i.layerId&&(c(v)||p(v))&&this.view.map.utilityNetworks?.find((e=>e.isUtilityLayer(v)))){if(\"loaded\"!==a.loadStatus)return[];const e=[],r=i.layerId,t=a.getFeatureSQL(v,f)?.[r];if(!t)return[];const l=t.anyVertex;let o=t.endVertex;return o&&l&&o===l&&(o=\"\"),o&&e.push({...y,returnEdge:!1,vertexMode:\"ends\",filter:h(y.filter,o)}),l&&e.push({...y,returnEdge:!1,vertexMode:\"all\",filter:h(y.filter,l)}),e}return[y]}async loadRules(){const{layer:e,view:r}=this;if(e&&r&&d(r?.map)&&(c(e)||p(e))){const l=r.map.utilityNetworks?.find((r=>r.isUtilityLayer(e)));if(l)try{this.rulesTable=await l.getRulesTable(),await(this.rulesTable?.load())}catch(i){return void t.getLogger(\"esri.views.interactive.snapping.FeatureSnappingSourceInfo\").error(\"Failed to load rules table for snapping source\",e.title)}}this._valid=!0}remove(){this.destroy()}destroy(){this.snappingSource?.destroy()}};function m(){return{returnEdge:!0,vertexMode:\"all\"}}function h(e,r){return null==e?new n({where:r}):e.where?new n({where:o(e.where,r)}):new n({where:r})}e([s({constructOnly:!0})],f.prototype,\"layer\",void 0),e([s({constructOnly:!0})],f.prototype,\"snappingSource\",void 0),e([s({constructOnly:!0})],f.prototype,\"view\",void 0),e([s()],f.prototype,\"layerView\",null),e([s()],f.prototype,\"rulesTable\",void 0),e([s()],f.prototype,\"valid\",null),e([s()],f.prototype,\"subtypeFilter\",null),e([s()],f.prototype,\"floorFilter\",null),e([s()],f.prototype,\"_valid\",void 0),f=e([a(\"esri.views.interactive.snapping.FeatureSnappingSourceInfo\")],f);export{f as FeatureSnappingSourceInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{SnappingDomain as t}from\"../SnappingDomain.js\";import{LineSegmentHintType as e}from\"../snappingUtils.js\";import{SnappingCandidate as i}from\"./SnappingCandidate.js\";import{LineSnappingHint as r}from\"../hints/LineSnappingHint.js\";import{RightAngleSnappingHint as s}from\"../hints/RightAngleSnappingHint.js\";class n extends i{constructor({targetPoint:e,constraint:i,previousVertex:r,otherVertex:s,otherVertexType:n,isDraped:o,selfSnappingType:h,objectId:a}){super(e,i,o,t.SELF),this.previousVertex=r,this.otherVertex=s,this.otherVertexType=n,this.selfSnappingType=h??p.None,this.objectId=a??null}get hints(){const t=this.previousVertex,i=this.otherVertexType===o.CENTER?this.otherVertex:this.targetPoint,n=this.otherVertexType===o.CENTER?this.targetPoint:this.otherVertex;return[new r(e.TARGET,i,n,this.isDraped,this.domain),new r(e.REFERENCE,t,i,this.isDraped,this.domain),new s(this.previousVertex,i,n,this.isDraped,this.domain)]}}var o,p;!function(t){t[t.NEXT=0]=\"NEXT\",t[t.CENTER=1]=\"CENTER\"}(o||(o={})),function(t){t[t.None=0]=\"None\",t[t.LastVertex=1]=\"LastVertex\",t[t.FirstVertex=2]=\"FirstVertex\",t[t.ExistingEdge=3]=\"ExistingEdge\"}(p||(p={}));export{o as OtherVertexType,n as RightAngleSnappingCandidate,p as SelfSnappingRightAngleType};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{destroyHandle as r}from\"../../../core/handleUtils.js\";import{allSettledValues as n,throwIfAborted as a}from\"../../../core/promiseUtils.js\";import{mapCollectionAsync as s}from\"../../../core/reactiveUtils.js\";import{getMetersPerUnitForSR as i,getMetersPerVerticalUnitForSR as o}from\"../../../core/unitUtils.js\";import{property as c}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{squaredDistance as p}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{a as l,c as d}from\"../../../chunks/vec32.js\";import{create as m}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getEpsilon as g}from\"../../../core/libs/gl-matrix-2/math/common.js\";import{UpdatingHandles as S}from\"../../../core/support/UpdatingHandles.js\";import{absoluteHeightElevationInfo as h}from\"../../../support/elevationInfoUtils.js\";import{VerticalHalfPlaneConstraint as f}from\"../sketch/constraints.js\";import{fromAnyMapPoint as y,asVec2 as _}from\"../sketch/normalizedPoint.js\";import{FeatureSnappingSourceInfo as v}from\"./FeatureSnappingSourceInfo.js\";import{SnappingDomain as w}from\"./SnappingDomain.js\";import{sortCandidatesInPlace as j,screenDistance as F}from\"./snappingUtils.js\";import{DrapedEdgeSnappingCandidate as x}from\"./candidates/DrapedEdgeSnappingCandidate.js\";import{EdgeSnappingCandidate as C}from\"./candidates/EdgeSnappingCandidate.js\";import{FeatureSnappingCandidate as b}from\"./candidates/FeatureSnappingCandidate.js\";import{RightAngleSnappingCandidate as R,OtherVertexType as L}from\"./candidates/RightAngleSnappingCandidate.js\";import{vectorToScreenPoint as M}from\"../support/viewUtils.js\";let I=class extends t{get updating(){return this._snappingSources.some((e=>null==e||e.valid&&e.snappingSource.updating))||this._updatingHandles.updating}constructor(e){super(e),this.options=null,this._domain=w.FEATURE,this._updatingHandles=new S,this._sourceModules={featureService:{module:null,loader:null},featureCollection:{module:null,loader:null},graphics:{module:null,loader:null},notes:{module:null,loader:null},scene:{module:null,loader:null}}}initialize(){const e=s((()=>this.options?._effectiveFeatureSources),((e,t)=>this._createSourceInfo(e,t)));this._snappingSources=e,this.addHandles(r(e))}destroy(){this._set(\"options\",null),this._updatingHandles.destroy()}async fetchCandidates(e,t,r,s){if(!(t&this._domain&&null!=this.options&&this.options.effectiveFeatureEnabled))return[];const i=[],o=this._computeScreenSizeDistanceParameters(e,r);for(const n of this._snappingSources){if(null==n||!n.valid||!n.snappingSource.layerSource.enabled||n.layerView?.suspended)continue;const t=n.getFetchCandidatesParameters(e,r,o);for(const e of t)i.push(n.snappingSource.fetchCandidates(e,s).then((e=>e.filter((e=>!this._candidateIsExcluded(n.snappingSource,e,r.excludeFeature))))))}const c=(await n(i)).flat();return this._addRightAngleCandidates(c,e,o,r),a(s),j(e,c),c}_addRightAngleCandidates(e,t,r,n){const a=null!=n.vertexHandle?n.vertexHandle.rightEdge?.rightVertex?.pos:null!=n.editGeometryOperations&&\"polygon\"===n.editGeometryOperations.data.type?n.editGeometryOperations.data.components[0]?.getFirstVertex()?.pos:null,s=null!=n.vertexHandle?n.vertexHandle.leftEdge?.leftVertex?.pos:null!=n.editGeometryOperations?n.editGeometryOperations.data.components[0]?.getLastVertex()?.pos:null,{view:i}=this,o=y(a,i,n),c=y(s,i,n),u=e.length;for(let p=0;p<u;p++)this._addRightAngleCandidate(e[p],c,t,r,e),this._addRightAngleCandidate(e[p],o,t,r,e)}_addRightAngleCandidate(e,t,r,n,a){if(null==t||!G(e))return;const s=e.constraint.closestTo(t),i=(s[0]-r[0])/n.x,o=(s[1]-r[1])/n.y,{start:c,end:u}=e.constraint;if(i*i+o*o<=1){const r=new R({targetPoint:s,otherVertex:t,otherVertexType:L.NEXT,previousVertex:p(_(s),_(c))>p(_(s),_(u))?c:u,constraint:new f(t,s),objectId:e.objectId,isDraped:e.isDraped});a.push(r)}}_computeScreenSizeDistanceParameters(e,t){let r=null!=this.options?this.options.distance*(\"touch\"===t.pointer?this.options.touchSensitivityMultiplier:1):0;return null==this.view?{x:r,y:r,z:r,distance:r}:\"2d\"===this.view.type?(r*=this.view.resolution,{x:r,y:r,z:r,distance:r}):this._computeScreenSizeDistanceParameters3D(e,r,this.view,t)}_computeScreenSizeDistanceParameters3D(e,t,r,n){const{spatialReference:a}=n;r.renderCoordsHelper.toRenderCoords(e,a,E);const s=r.state.camera.computeScreenPixelSizeAt(E),c=s*r.renderCoordsHelper.unitInMeters,u=c/i(a),p=c/o(a),l=t*u,d=t*p,m=M(e,a,h,r),g=m?P(m,e,u,0,0,r,n):0,S=m?P(m,e,0,u,0,r,n):0,f=m?P(m,e,0,0,p,r,n):0;return{x:0===g?0:l/g,y:0===S?0:l/S,z:0===f?0:d/f,distance:s*t}}_candidateIsExcluded(e,t,r){if(null==r)return!1;const n=this._getCandidateObjectId(t);if(null==n)return!1;const a=e.layerSource.layer;return\"graphics\"===a.type?r.uid===n:r.sourceLayer===a&&(!(!r.attributes||!(\"objectIdField\"in a))&&r.attributes[a.objectIdField]===n)}_getCandidateObjectId(e){return e instanceof b?e.objectId:null}async _createSourceInfo(e,t){const r=e.layer;r.loaded||(await r.load(),a(t));const{view:n}=this,s=await this._createFeatureSnappingSourceType(e);return a(t),new v(null==s?{}:{snappingSource:s,view:n,layer:r})}async _createFeatureSnappingSourceType(e){switch(e.layer.type){case\"feature\":case\"geojson\":case\"csv\":case\"oriented-imagery\":case\"subtype-group\":case\"wfs\":return this._createFeatureSnappingSourceFeatureLayer(e);case\"graphics\":return this._createFeatureSnappingSourceGraphicsLayer(e);case\"map-notes\":return this._createFeatureSnappingSourceMapNotesLayer(e);case\"scene\":case\"building-scene\":return this._createFeatureSnappingSourceSceneLayer(e)}return null}async _createFeatureSnappingSourceSceneLayer(e){const{view:t}=this;if(null==t||\"3d\"!==t.type)return null;return new((await this._getSourceModule(\"scene\")).SceneLayerSnappingSource)({layerSource:e,view:t})}async _createFeatureSnappingSourceFeatureLayer(e){switch(e.layer.source?.type){case\"feature-layer\":case\"oriented-imagery\":return new((await this._getSourceModule(\"featureService\")).FeatureServiceSnappingSource)({spatialReference:this.spatialReference,view:this.view,layerSource:e});case\"memory\":case\"csv\":case\"geojson\":case\"wfs\":if(\"mesh\"===e.layer.geometryType)return null;return new((await this._getSourceModule(\"featureCollection\")).FeatureCollectionSnappingSource)({layerSource:e,view:this.view})}return null}async _createFeatureSnappingSourceGraphicsLayer(e){return new((await this._getSourceModule(\"graphics\")).GraphicsSnappingSource)({getGraphicsLayers:()=>[e.layer],spatialReference:this.spatialReference,view:this.view,layerSource:e})}async _createFeatureSnappingSourceMapNotesLayer(e){return new((await this._getSourceModule(\"notes\")).GraphicsSnappingSource)({getGraphicsLayers:()=>e.layer.sublayers?.toArray()??[],spatialReference:this.spatialReference,view:this.view,layerSource:e})}async _getSourceModule(e){const t=this._sourceModules[e];if(null==t.loader){const t=this._loadSourceModule(e),r={module:null,loader:t};this._sourceModules[e]=r;const n=await t,a={module:n,loader:t};return this._sourceModules[e]=a,n}return null==t.module?t.loader:t.module}_loadSourceModule(e){const t=this._updatingHandles;switch(e){case\"featureService\":return t.addPromise(import(\"./featureSources/FeatureServiceSnappingSource.js\"));case\"featureCollection\":return t.addPromise(import(\"./featureSources/FeatureCollectionSnappingSource.js\"));case\"graphics\":case\"notes\":return t.addPromise(import(\"./featureSources/GraphicsSnappingSource.js\"));case\"scene\":return t.addPromise(import(\"./featureSources/SceneLayerSnappingSource.js\"))}}get test(){return{snappingSources:this._snappingSources}}};function G(e){return(e instanceof C||e instanceof x)&&!H(e)}function H({constraint:{start:e,end:t}}){const r=l(e,t),n=p(_(e),_(t));return r<g()||n/r<A}function P(e,t,r,n,a,s,{spatialReference:i}){const o=d(z,t);o[0]+=r,o[1]+=n,o[2]+=a;const c=M(o,i,h,s);return c?F(c,e):1/0}e([c({constructOnly:!0})],I.prototype,\"spatialReference\",void 0),e([c({constructOnly:!0})],I.prototype,\"view\",void 0),e([c()],I.prototype,\"options\",void 0),e([c({readOnly:!0})],I.prototype,\"updating\",null),e([c()],I.prototype,\"_snappingSources\",void 0),I=e([u(\"esri.views.interactive.snapping.FeatureSnappingEngine\")],I);const E=m(),z=m(),A=1e-4;export{I as FeatureSnappingEngine};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as e}from\"../../../core/unitUtils.js\";import{distance as t}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as s,asVec2 as i}from\"../sketch/normalizedPoint.js\";import{defaults as o}from\"./Settings.js\";import{squaredScreenDistance as h}from\"./snappingUtils.js\";import{vectorToScreenPoint as n}from\"../support/viewUtils.js\";class l{constructor(e,t){this.view=e,this.options=t,this.squaredShortLineThreshold=o.shortLineThreshold*o.shortLineThreshold}snap(e,t){return null!=t.vertexHandle?\"vertex\"!==t.vertexHandle.type?[]:this.snapExistingVertex(e,t):this.snapNewVertex(e,t)}edgeExceedsShortLineThreshold(e,t){return this.exceedsShortLineThreshold(s(e.leftVertex.pos,this.view,t),s(e.rightVertex.pos,this.view,t),t)}exceedsShortLineThreshold(e,t,{spatialReference:s}){return 0===this.squaredShortLineThreshold||h(n(t,s,r,this.view),n(e,s,r,this.view))>this.squaredShortLineThreshold}isVertical(r,s,{spatialReference:h}){const n=e(h);return t(i(r),i(s))*n<o.verticalLineThresholdMeters}squaredProximityThreshold(e){return\"touch\"===e?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:e,touchSensitivityMultiplier:t}=this.options,r=e*t;return r*r}}export{l as SnappingAlgorithm};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{VerticalPlaneConstraint as t}from\"../../sketch/constraints.js\";import{SnappingDomain as n}from\"../SnappingDomain.js\";import{LineSegmentHintType as i}from\"../snappingUtils.js\";import{SnappingCandidate as e}from\"./SnappingCandidate.js\";import{LineSnappingHint as s}from\"../hints/LineSnappingHint.js\";class r extends e{constructor({lineStart:e,lineEnd:r,targetPoint:o,isDraped:a}){super(o,new t(e,r),a,n.SELF),this._referenceLineHint=new s(i.REFERENCE_EXTENSION,e,r,a,this.domain)}get hints(){return[this._referenceLineHint,new s(i.TARGET,this._lineEndClosestToTarget(),this.targetPoint,this.isDraped,this.domain)]}_lineEndClosestToTarget(){return this.constraint.closestEndTo(this.targetPoint)}}export{r as LineSnappingCandidate};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{cyclicalPI as e,cyclical2PI as t}from\"../../../core/Cyclical.js\";import{valueInUnit as r,createAngle as s}from\"../../../core/quantityUtils.js\";import{create as o}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{absoluteHeightElevationInfo as i}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as n,fromVec3 as a}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as p}from\"./SnappingAlgorithm.js\";import{editEdgeToSnappingEdge as d,squaredScreenDistance as l}from\"./snappingUtils.js\";import{LineSnappingCandidate as h}from\"./candidates/LineSnappingCandidate.js\";import{vectorToScreenPoint as c}from\"../support/viewUtils.js\";import{radiansGeographicBetweenVec as f,pointFromDistanceAlongAzimuth as g}from\"../../support/angularMeasurementUtils.js\";import{geodesicDistance as m}from\"../../support/geodesicLengthMeasurementUtils.js\";import{projectPointToLineLike as u}from\"../../support/geometry3dUtils.js\";import{LineType as x}from\"../../support/geometry2dUtils.js\";class j extends p{snapNewVertex(e,t){const r=t.editGeometryOperations.data.components[0],s=r.edges.length,o=[];if(s<1)return o;const{spatialReference:n}=t,a=c(e,n,i,this.view),{view:p}=this,l=r.edges[s-1];let h=l;do{if(this.edgeExceedsShortLineThreshold(h,t)){const r=d(h,p,t);this._processCandidateProposal(r.left,r.right,e,a,t,o)}h=h.leftVertex.leftEdge}while(h&&h!==l);return o}snapExistingVertex(e,t){const r=[],s=t.vertexHandle,o=s.component;if(o.edges.length<2)return r;const{view:a}=this,{spatialReference:p}=t,l=c(e,p,i,a),h=s.leftEdge,f=s.rightEdge;h&&f&&this.edgeExceedsShortLineThreshold(h,t)&&this.edgeExceedsShortLineThreshold(f,t)&&this._processCandidateProposal(n(h.leftVertex.pos,a,t),n(f.rightVertex.pos,a,t),e,l,t,r);const g=o.edges[0];let m=g;do{if(m!==s.leftEdge&&m!==s.rightEdge&&this.edgeExceedsShortLineThreshold(m,t)){const s=d(m,a,t);this._processCandidateProposal(s.left,s.right,e,l,t,r)}m=m.rightVertex.rightEdge}while(m&&m!==g);return r}_processCandidateProposal(e,t,r,s,n,p){const{spatialReference:d,pointer:f}=n,g=o();E(g,e,t,r,n);const m=a(g);l(s,c(m,d,i,this.view))<this.squaredProximityThreshold(f)&&p.push(new h({lineStart:e,lineEnd:t,targetPoint:m,isDraped:\"on-the-ground\"===n.elevationInfo?.mode}))}}function E(e,t,r,s,o){v(e,t,r,s,o)||w(e,s,t,r)}function v(o,i,n,a,{spatialReference:p}){const d=f(i,n,p,p);if(null==d)return!1;const l=f(n,a,p,p);if(null==l)return!1;const h=m(n,a,p);if(null==h)return!1;const c=Math.abs(e.shortestSignedDiff(d,l))>Math.PI/2?t.normalize(d+Math.PI):d;return g(o,n,p,r(h,\"meters\"),s(c,\"radians\",\"geographic\"),\"geodesic\"),o[2]=a[2],!0}function w(e,t,r,s){u(t,{start:r,end:s,type:x.LINE},e),e[2]=t[2]}export{j as LineSnapper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{f as e,g as t,j as i}from\"../../../../chunks/vec32.js\";import{clone as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{VerticalPlaneConstraint as s}from\"../../sketch/constraints.js\";import{fromVec3 as n}from\"../../sketch/normalizedPoint.js\";import{SnappingDomain as a}from\"../SnappingDomain.js\";import{LineSegmentHintType as f}from\"../snappingUtils.js\";import{SnappingCandidate as o}from\"./SnappingCandidate.js\";import{LineSnappingHint as d}from\"../hints/LineSnappingHint.js\";import{ParallelSnappingHint as h}from\"../hints/ParallelSnappingHint.js\";class g extends o{constructor({referenceLine:i,lineStart:f,targetPoint:o,isDraped:d}){const h=r(f),{left:g,right:p}=i;e(h,t(h,h,p),g),super(o,new s(f,n(h)),d,a.SELF),this._referenceLines=[{edge:i,fadeLeft:!0,fadeRight:!0}]}get hints(){return[new d(f.TARGET,this.constraint.start,this.targetPoint,this.isDraped,this.domain),new h(this.constraint.start,this.targetPoint,this.isDraped,this.domain),...this._referenceLines.map((e=>new d(f.REFERENCE,e.edge.left,e.edge.right,this.isDraped,this.domain,e.fadeLeft,e.fadeRight)))]}addReferenceLine(e){const t={edge:e,fadeLeft:!0,fadeRight:!0};this._referenceLines.forEach((r=>{i(e.right,r.edge.left)&&(r.fadeLeft=!1,t.fadeRight=!1),i(e.right,r.edge.right)&&(r.fadeRight=!1,t.fadeRight=!1),i(e.left,r.edge.right)&&(r.fadeRight=!1,t.fadeLeft=!1),i(e.left,r.edge.left)&&(r.fadeLeft=!1,t.fadeLeft=!1)})),this._referenceLines.push(t)}}export{g as ParallelLineSnappingCandidate};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{squaredDistance as e}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as t}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as i,asVec2 as s,fromValues as o}from\"../sketch/normalizedPoint.js\";import{defaults as n}from\"./Settings.js\";import{SnappingAlgorithm as l}from\"./SnappingAlgorithm.js\";import{editEdgeToSnappingEdge as a,squaredScreenDistance as c}from\"./snappingUtils.js\";import{ParallelLineSnappingCandidate as h}from\"./candidates/ParallelLineSnappingCandidate.js\";import{vectorToScreenPoint as d}from\"../support/viewUtils.js\";import{projectPointToLine as p}from\"../../support/geometry2dUtils.js\";class g extends l{snapNewVertex(e,t){const s=t.editGeometryOperations.data.components[0],o=s.edges.length,n=s.vertices.length,l=[];if(o<2)return l;const{view:c}=this,h=d(e,t.spatialReference,r,c),p=i(s.vertices[n-1].pos,c,t),g=i(s.vertices[0].pos,c,t),f=s.edges[o-1];let m=f;do{if(this.edgeExceedsShortLineThreshold(m,t)){const r=a(m,c,t);this._checkEdgeForParallelLines(r,p,e,h,t,l),this._checkEdgeForParallelLines(r,g,e,h,t,l)}m=m.leftVertex.leftEdge}while(m&&m!==f);return l}snapExistingVertex(e,t){const s=[],o=t.vertexHandle,n=o.component;if(n.edges.length<3)return s;const{view:l}=this,c=d(e,t.spatialReference,r,l),h=o.leftEdge,p=o.rightEdge,g=n.vertices[0],f=i(g.pos,l,t),m=n.vertices.length,u=n.vertices[m-1],v=i(u.pos,l,t),x=n.edges[0];let E=x;do{if(E!==h&&E!==p&&this.edgeExceedsShortLineThreshold(E,t)){const r=a(E,l,t);h&&this._checkEdgeForParallelLines(r,i(h.leftVertex.pos,l,t),e,c,t,s),p&&this._checkEdgeForParallelLines(r,i(p.rightVertex.pos,l,t),e,c,t,s),o===g?this._checkEdgeForParallelLines(r,v,e,c,t,s):o===u&&this._checkEdgeForParallelLines(r,f,e,c,t,s)}E=E.rightVertex.rightEdge}while(E&&E!==x);return s}_checkEdgeForParallelLines(t,i,l,a,g,u){const v=t.left,x=t.right;if(p(m,s(i),s(v),s(x)),e(m,s(i))<n.parallelLineThreshold)return;p(m,s(l),s(v),s(x),s(i));const{spatialReference:E,pointer:L}=g,P=o(m[0],m[1],l[2]);if(c(a,d(P,E,r,this.view))<this.squaredProximityThreshold(L)){if(this.isVertical(P,i,g)||this.isVertical(v,x,g))return;if(f(t,u))return;u.push(new h({referenceLine:t,lineStart:i,targetPoint:P,isDraped:\"on-the-ground\"===g.elevationInfo?.mode}))}}}function f(t,r){const i=t.left,o=t.right;for(const l of r)if(p(m,s(o),s(l.constraint.start),s(l.constraint.end),s(i)),e(m,s(o))<n.parallelLineThreshold)return l.addReferenceLine(t),!0;return!1}const m=t();export{g as ParallelLineSnapper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{cyclical2PI as e}from\"../../../core/Cyclical.js\";import{createAngle as t,valueInUnit as r}from\"../../../core/quantityUtils.js\";import{subtract as i,dot as s,squaredLength as n,scaleAndAdd as o}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{r as c,f as p,s as g}from\"../../../chunks/vec32.js\";import{create as h}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{absoluteHeightElevationInfo as l}from\"../../../support/elevationInfoUtils.js\";import{VerticalHalfPlaneConstraint as f}from\"../sketch/constraints.js\";import{fromAnyMapPoint as d,asVec2 as m,fromValues as u,fromVec3 as x}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as V}from\"./SnappingAlgorithm.js\";import{squaredScreenDistance as E}from\"./snappingUtils.js\";import{SelfSnappingRightAngleType as j,RightAngleSnappingCandidate as v,OtherVertexType as S}from\"./candidates/RightAngleSnappingCandidate.js\";import{vectorToScreenPoint as k}from\"../support/viewUtils.js\";import{radiansGeographicBetweenVec as C,pointFromDistanceAlongAzimuth as w}from\"../../support/angularMeasurementUtils.js\";import{geodesicDistance as y}from\"../../support/geodesicLengthMeasurementUtils.js\";class F extends V{snapNewVertex(e,t){const r=t.editGeometryOperations.data.components[0],i=[];if(r.vertices.length<2)return i;const{view:s}=this,n=k(e,t.spatialReference,l,s),o=r.vertices.at(-1);this._checkForSnappingCandidate(j.LastVertex,i,o.leftEdge,o,o.leftEdge.leftVertex,e,n,t);const a=r.vertices[0];return this._checkForSnappingCandidate(j.FirstVertex,i,a.rightEdge,a,a.rightEdge.rightVertex,e,n,t),i}snapExistingVertex(e,t){const r=[],i=t.vertexHandle;if(i.component.vertices.length<3)return r;const{view:s}=this,n=k(e,t.spatialReference,l,s),o=i.leftEdge,a=i.rightEdge;if(o?.leftVertex.leftEdge){const i=o.leftVertex.leftEdge;this._checkForSnappingCandidate(j.ExistingEdge,r,i,i.rightVertex,i.leftVertex,e,n,t)}if(a?.rightVertex.rightEdge){const i=a.rightVertex.rightEdge;this._checkForSnappingCandidate(j.ExistingEdge,r,i,i.leftVertex,i.rightVertex,e,n,t)}return r}_checkForSnappingCandidate(e,t,r,i,s,n,o,a){if(!this.edgeExceedsShortLineThreshold(r,a))return;const c=this.view,p=d(i.pos,c,a),g=d(s.pos,c,a);R(M,g,p,n,a),this._checkForSnappingCandidateAlongProjectedRay(e,t,g,p,M,n,o,a)}_checkForSnappingCandidateAlongProjectedRay(e,t,r,a,p,g,d,V){const{spatialReference:j,pointer:C}=V,w=i(U,m(g),m(a)),y=s(p,w)/n(p),F=o(U,m(a),p,y),R=u(F[0],F[1],g[2]);if(E(d,k(R,j,l,this.view))>this.squaredProximityThreshold(C)||this.isVertical(R,a,V)||this.isVertical(a,r,V))return;const _=c(h(),a,p,Math.sign(y));t.push(new v({targetPoint:R,constraint:new f(a,x(_)),previousVertex:r,otherVertex:a,otherVertexType:S.CENTER,selfSnappingType:e,isDraped:\"on-the-ground\"===V.elevationInfo?.mode}))}}function R(e,t,r,i,s){_(e,t,r,i,s)||P(e,t,r)}function _(i,s,n,o,{spatialReference:a}){const c=C(s,n,a,a);if(null==c)return!1;const g=C(n,o,a,a);if(null==g)return!1;const l=Math.sign(e.shortestSignedDiff(c,g))*Math.PI*.5,f=t(c+l,\"radians\",\"geographic\"),d=h(),m=y(n,o,a);return null!=m&&(w(d,n,a,r(m,\"meters\"),f,\"geodesic\"),p(i,d,n),!0)}function P(e,t,r){const s=i(U,m(r),m(t));g(e,s[1],-s[0],0)}const U=a(),M=h();export{F as RightAngleSnapper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{distance as t}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{m as i}from\"../../../../chunks/vec32.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{VerticalCylinderConstraint as r}from\"../../sketch/constraints.js\";import{fromVec3 as n,asVec2 as o}from\"../../sketch/normalizedPoint.js\";import{SnappingDomain as p}from\"../SnappingDomain.js\";import{LineSegmentHintType as e}from\"../snappingUtils.js\";import{SnappingCandidate as m}from\"./SnappingCandidate.js\";import{LineSnappingHint as a}from\"../hints/LineSnappingHint.js\";import{RightAngleSnappingHint as h}from\"../hints/RightAngleSnappingHint.js\";class g extends m{constructor({targetPoint:e,point1:m,point2:a,isDraped:h}){super(e,new r(n(i(s(),m,a,.5)),.5*t(o(m),o(a))),h,p.SELF),this._p1=m,this._p2=a}get hints(){return[new a(e.REFERENCE,this.targetPoint,this._p1,this.isDraped,this.domain),new a(e.REFERENCE,this.targetPoint,this._p2,this.isDraped,this.domain),new h(this._p1,this.targetPoint,this._p2,this.isDraped,this.domain)]}}export{g as RightAngleTriangleSnappingCandidate};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{lerp as e,distance as t}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as i}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as o,asVec2 as s,fromValues as n}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as p}from\"./SnappingAlgorithm.js\";import{squaredScreenDistance as a}from\"./snappingUtils.js\";import{RightAngleTriangleSnappingCandidate as d}from\"./candidates/RightAngleTriangleSnappingCandidate.js\";import{vectorToScreenPoint as l}from\"../support/viewUtils.js\";import{projectPointToCircle as m}from\"../../support/geometry2dUtils.js\";class c extends p{snapNewVertex(e,t){const i=t.editGeometryOperations.data.components[0],r=[],s=i.vertices.length;if(\"polygon\"!==t.editGeometryOperations.data.type||s<2)return r;const{view:n}=this,p=i.vertices[0],a=i.vertices[s-1],d=o(p.pos,n,t),l=o(a.pos,n,t);return this._processCandidateProposal(d,l,e,t,r),r}snapExistingVertex(e,t){const i=[],r=t.vertexHandle,s=r.component;if(s.edges.length<2)return i;if(\"polyline\"===t.editGeometryOperations.data.type&&(0===r.index||r.index===s.vertices.length-1))return i;const{view:n}=this,p=o(r.leftEdge.leftVertex.pos,n,t),a=o(r.rightEdge.rightVertex.pos,n,t);return this._processCandidateProposal(p,a,e,t,i),i}_processCandidateProposal(i,o,p,c,f){if(!this.exceedsShortLineThreshold(i,o,c))return;const g=e(h,s(i),s(o),.5),v=.5*t(s(i),s(o)),x=m(h,s(p),g,v),u=n(x[0],x[1],p[2]),{spatialReference:j,pointer:y}=c,w=l(p,j,r,this.view);if(a(w,l(u,j,r,this.view))<this.squaredProximityThreshold(y)){if(this.isVertical(i,u,c)||this.isVertical(u,o,c))return;f.push(new d({targetPoint:u,point1:i,point2:o,isDraped:\"on-the-ground\"===c.elevationInfo?.mode}))}}}const h=i();export{c as RightAngleTriangleSnapper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import t from\"../../../core/Collection.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LineSnapper as e}from\"./LineSnapper.js\";import{ParallelLineSnapper as p}from\"./ParallelLineSnapper.js\";import{RightAngleSnapper as n}from\"./RightAngleSnapper.js\";import{RightAngleTriangleSnapper as a}from\"./RightAngleTriangleSnapper.js\";import{SnappingDomain as c}from\"./SnappingDomain.js\";import{sortCandidatesInPlace as m}from\"./snappingUtils.js\";let h=class extends s{constructor(o){super(o),this.updating=!1,this._snappers=new t,this._domain=c.SELF}initialize(){this._snappers.push(new p(this.view,this.options),new e(this.view,this.options),new n(this.view,this.options),new a(this.view,this.options))}set options(o){this._set(\"options\",o);for(const s of this._snappers)s.options=o}async fetchCandidates(o,s,t){if(!(s&this._domain&&this.options.effectiveSelfEnabled))return[];const i=[];for(const r of this._snappers.items)for(const s of r.snap(o,t))i.push(s);return m(o,i),i}};o([i({readOnly:!0})],h.prototype,\"updating\",void 0),o([i({constructOnly:!0})],h.prototype,\"view\",void 0),o([i()],h.prototype,\"options\",null),h=o([r(\"esri.views.interactive.snapping.SelfSnappingEngine\")],h);export{h as SelfSnappingEngine};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{FeatureSnappingEngine as e}from\"./FeatureSnappingEngine.js\";import{SelfSnappingEngine as n}from\"./SelfSnappingEngine.js\";function i(i,p){return[new n({view:i,options:p}),new e({view:i,options:p,spatialReference:i.spatialReference})]}export{i as defaultSnappingEnginesFactory};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{PointConstraint as t}from\"../../sketch/constraints.js\";import{SnappingDomain as i}from\"../SnappingDomain.js\";import{SnappingCandidate as s}from\"./SnappingCandidate.js\";import{IntersectionSnappingHint as n}from\"../hints/IntersectionSnappingHint.js\";class r extends s{constructor(s,n,r,o){super(s,new t(s),o,i.ALL),this.first=n,this.second=r}get hints(){return this.first.targetPoint=this.targetPoint,this.second.targetPoint=this.targetPoint,[...this.first.hints,...this.second.hints,new n(this.targetPoint,this.isDraped,this.domain)]}}export{r as IntersectionSnappingCandidate};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import n from\"../../../core/Evented.js\";import{isAborted as i}from\"../../../core/promiseUtils.js\";import{watch as s,sync as r,syncAndInitial as a}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import{project as c,initializeProjection as d}from\"../../../geometry/projection.js\";import{absoluteHeightElevationInfo as h}from\"../../../support/elevationInfoUtils.js\";import{fromPoint as l,toElevationAlignedDehydratedPoint as u}from\"../sketch/normalizedPoint.js\";import{defaults as f}from\"./Settings.js\";import{SnappingDomain as g}from\"./SnappingDomain.js\";import{defaultSnappingEnginesFactory as _}from\"./snappingFactory.js\";import m from\"./SnappingOptions.js\";import{sortCandidatesInPlace as S,squaredScreenDistance as v}from\"./snappingUtils.js\";import{DrapedEdgeSnappingCandidate as y}from\"./candidates/DrapedEdgeSnappingCandidate.js\";import{EdgeSnappingCandidate as C}from\"./candidates/EdgeSnappingCandidate.js\";import{IntersectionSnappingCandidate as P}from\"./candidates/IntersectionSnappingCandidate.js\";import{LineSnappingCandidate as E}from\"./candidates/LineSnappingCandidate.js\";import{ParallelLineSnappingCandidate as w}from\"./candidates/ParallelLineSnappingCandidate.js\";import{RightAngleSnappingCandidate as j,SelfSnappingRightAngleType as T}from\"./candidates/RightAngleSnappingCandidate.js\";import{RightAngleTriangleSnappingCandidate as M}from\"./candidates/RightAngleTriangleSnappingCandidate.js\";import{vectorToScreenPoint as R}from\"../support/viewUtils.js\";let q=class extends(n.EventedMixin(e)){constructor(t){super(t),this.options=new m,this.snappingEnginesFactory=_,this._engines=[],this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=A.MAIN}initialize(){this.addHandles([s((()=>{const{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:n,distance:i}=this.options;return{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:n,distance:i}}),(()=>{this.doneSnapping(),this.emit(\"changed\")}),r),s((()=>this.options),(t=>{for(const e of this._engines)e.options=t}),r),s((()=>({viewReady:this.view.ready,viewSpatialReference:this.view.spatialReference,snappingEnginesFactory:this.snappingEnginesFactory})),(({viewReady:t,snappingEnginesFactory:e})=>this._recreateEngines(t,e)),a)])}destroy(){this._destroyEngines()}get updating(){return this._engines.some((t=>t.updating))}_recreateEngines(t,e){if(this._destroyEngines(),!t)return;const{view:n,options:i}=this;this._engines=e(n,i)}_destroyEngines(){for(const t of this._engines)t.destroy();this._engines=[]}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:t,touchSensitivityMultiplier:e}=this.options,n=t*e;return n*n}snap(t){return H(t)?this._snapMultiPoint(t):this._snapSinglePoint(t)}update(t){const{point:e,context:n}=t;this._removeVisualization();const i=this._currentMainCandidate;if(null==i)return e;const s=this._selectUpdateInput(t);if(null==s)return e;const{spatialReference:r}=n,a=c(s,r);if(null==a)return e;const{view:o}=this,{elevationInfo:p,visualizer:d}=n,h=[],f=l(a,o,p),g=i.constraint.closestTo(f);if(!this._arePointsWithinScreenThreshold(f,g,n)||!z(i,n.drawConstraints))return this._resetSnappingState(),e;i.targetPoint=g,h.push(...i.hints);for(const c of this._currentOtherActiveCandidates)z(c,n.drawConstraints)&&(c.targetPoint=g,h.push(...c.hints));return null!=d&&this.addHandles(d.draw(h,{spatialReference:r,elevationInfo:O(n),view:o,selfSnappingZ:n.selfSnappingZ}),I),u(g,o,e,n)}doneSnapping(){this._removeVisualization(),this._resetSnappingState()}_selectUpdateInput({point:t,scenePoint:e}){switch(this._currentSnappedType){case A.MAIN:return t;case A.SCENE:return e}}_resetSnappingState(){this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=A.MAIN}_removeVisualization(){this.removeHandles(I)}async _snapSinglePoint({point:t,context:e,signal:n}){const{view:i}=this,{elevationInfo:s}=e,r=l(t,i,s),a=await this._fetchCandidates(r,g.ALL,e,n);return this._createSnapResult(r,A.MAIN,a,i,t,e,n)}async _snapMultiPoint({point:t,scenePoint:e,context:n,signal:i}){const{view:s}=this,{coordinateHelper:r,elevationInfo:a,spatialReference:o}=n;await d(e.spatialReference,o);const p=c(e,o),h=l(p,s,a),u=await this._fetchCandidates(h,g.FEATURE,n,i);if(u.length>0){const t=await this._fetchCandidates(h,g.SELF,n,i);return this._createSnapResult(h,A.SCENE,[...u,...t],s,p,n,i)}const f=l(t,s,a),_=await this._fetchCandidates(f,g.SELF,n,i);return this._createSnapResult(f,A.MAIN,_,s,{z:r.hasZ()&&t.hasZ?t.z??0:void 0,m:r.hasM()&&t.hasM?t.m??0:void 0},n,i)}async _fetchCandidates(t,e,n,i){return(await Promise.all(this._engines.map((s=>s.fetchCandidates(t,e,n,i))))).flat()}_createSnapResult(t,e,n,s,r,a,o){return{get valid(){return!i(o)},apply:()=>{const{spatialReference:i}=a,{snappedPoint:o,hints:p}=this._processCandidates(t,e,n,a);return this._removeVisualization(),null!=a.visualizer&&this.addHandles(a.visualizer.draw(p,{spatialReference:i,elevationInfo:h,view:s,selfSnappingZ:a.selfSnappingZ}),I),u(o,s,r,a)}}}_processCandidates(t,e,n,i){if(n.length<1)return this.doneSnapping(),{snappedPoint:t,hints:[]};this._currentSnappedType!==e&&this._resetSnappingState(),S(t,n);const s=this._currentMainCandidate;if(null!=s){const r=F(s,n);if(r>=0){if(!(n[r]instanceof P))return this._intersectWithOtherCandidates(r,n,t,e,i);if(this._arePointsWithinScreenThreshold(t,s.targetPoint,i))return this._updateSnappingCandidate(s,e,n,i)}}return this._intersectWithOtherCandidates(0,n,t,e,i)}_intersectWithOtherCandidates(t,e,n,i,s){const{coordinateHelper:r}=s,a=e[t],o=[];for(let p=0;p<e.length;++p){if(p===t)continue;const i=e[p],s=a.constraint.intersect(i.constraint);if(s)for(const t of s.closestPoints(a.targetPoint))o.push([new P(t,a,i,i.isDraped),this._squaredScreenDistance(n,t,r)])}return o.length>0&&(o.sort(((t,e)=>t[1]-e[1])),o[0][1]<this._squaredPointProximityThreshold(s.pointer))?this._updateSnappingCandidate(o[0][0],i,e,s):z(a,s.drawConstraints)?this._updateSnappingCandidate(a,i,e,s):{snappedPoint:n,hints:[]}}_updateSnappingCandidate(t,e,n,i){this.doneSnapping(),this._currentMainCandidate=t,this._currentSnappedType=e;const s=this._currentMainCandidate.targetPoint,r=[];r.push(...t.hints);for(const a of n){if(t instanceof P){if(a.constraint.equals(t.first.constraint)||a.constraint.equals(t.second.constraint))continue}else if(a.constraint.equals(t.constraint))continue;const e=a.constraint.closestTo(s);this._squaredScreenDistance(e,s,i.coordinateHelper)<x()&&(a.targetPoint=s,this._currentOtherActiveCandidates.push(a),r.push(...a.hints))}return{snappedPoint:s,hints:r}}_squaredPointProximityThreshold(t){return\"touch\"===t?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}_arePointsWithinScreenThreshold(t,e,n){return this._squaredScreenDistance(t,e,n.coordinateHelper)<this._squaredPointProximityThreshold(n.pointer)}_squaredScreenDistance(t,e,n){return v(this._toScreen(t,n),this._toScreen(e,n))}_toScreen(t,e){return R(t,e.spatialReference,h,this.view)}get test(){return{visualizationsActive:this.hasHandles(I),engines:this._engines}}};var A;t([o({constructOnly:!0})],q.prototype,\"view\",void 0),t([o()],q.prototype,\"options\",void 0),t([o({readOnly:!0})],q.prototype,\"updating\",null),t([o()],q.prototype,\"snappingEnginesFactory\",void 0),t([o()],q.prototype,\"_engines\",void 0),t([o()],q.prototype,\"_squaredMouseProximityThreshold\",null),t([o()],q.prototype,\"_squaredTouchProximityThreshold\",null),q=t([p(\"esri.views.interactive.snapping.SnappingManager\")],q),function(t){t[t.MAIN=0]=\"MAIN\",t[t.SCENE=1]=\"SCENE\"}(A||(A={}));const I=\"visualization-handle\";function x(){return f.satisfiesConstraintScreenThreshold*f.satisfiesConstraintScreenThreshold}function z(t,e){return!e||null==e.direction&&null==e.distance||!(t instanceof y||t instanceof C||t instanceof E||t instanceof w||t instanceof M)&&(!(t instanceof j)||null==e.direction&&t.selfSnappingType===T.LastVertex)}function F(t,e){return t instanceof P?N(e,t.first)>=0&&N(e,t.second)>=0?0:-1:N(e,t)}function N(t,e){let n=-1;for(let i=0;i<t.length;++i)if(e.constraint.equals(t[i].constraint)){n=i;break}return n}function H(t){return null!=t.scenePoint}function O({coordinateHelper:t,elevationInfo:e}){return t.hasZ()?h:e}export{q as SnappingManager};\n"],
  "mappings": "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",
  "names": ["o", "p", "c", "e", "p", "t", "d", "i", "r", "a", "f", "l", "u", "f", "e", "r", "c", "t", "_a", "i", "o", "l", "s", "a", "u", "y", "m", "h", "n", "d", "v", "n", "t", "e", "i", "r", "s", "o", "h", "a", "p", "E", "I", "e", "t", "r", "s", "i", "o", "n", "c", "g", "f", "a", "p", "u", "G", "E", "l", "d", "m", "S", "H", "A", "l", "e", "t", "p", "s", "d", "r", "h", "n", "f", "r", "t", "e", "o", "a", "n", "E", "j", "l", "e", "t", "r", "s", "o", "n", "a", "d", "p", "h", "f", "g", "m", "E", "v", "w", "i", "y", "u", "c", "A", "g", "t", "i", "f", "o", "d", "h", "p", "e", "l", "n", "E", "r", "g", "l", "e", "t", "s", "o", "n", "c", "h", "d", "p", "f", "m", "r", "u", "v", "x", "E", "i", "a", "L", "P", "l", "e", "t", "r", "i", "s", "n", "d", "o", "p", "a", "c", "g", "V", "j", "C", "w", "f", "y", "F", "R", "_", "P", "m", "u", "A", "g", "t", "e", "m", "a", "h", "l", "A", "n", "f", "E", "s", "c", "l", "e", "t", "i", "r", "s", "n", "p", "a", "d", "o", "f", "g", "h", "v", "x", "u", "j", "y", "w", "h", "o", "g", "j", "c", "s", "t", "i", "r", "f", "i", "p", "h", "I", "r", "t", "s", "n", "o", "q", "t", "u", "i", "A", "e", "n", "H", "s", "r", "a", "o", "p", "d", "h", "f", "g", "z", "c", "I", "y", "_", "F", "x", "N"]
}
