import {
  a as a2,
  d as d3,
  f as f2,
  i as i2,
  i2 as i3,
  u as u5,
  w
} from "./chunk-NUJDDQFT.js";
import {
  i
} from "./chunk-2G4FVFG2.js";
import {
  P as P2,
  d as d2,
  h,
  o as o3
} from "./chunk-5D55A3YR.js";
import {
  t2,
  u2 as u4
} from "./chunk-FU2UQ2HG.js";
import {
  At,
  n as n4,
  u as u3
} from "./chunk-UZQHEI2J.js";
import "./chunk-ZJXOOEWD.js";
import {
  G
} from "./chunk-J3NVEAU3.js";
import "./chunk-O7GHSWFW.js";
import "./chunk-XPABJ7YF.js";
import "./chunk-Q2ACSSMW.js";
import "./chunk-J6WYS6OG.js";
import "./chunk-52QXS2S5.js";
import "./chunk-BZ24WJCW.js";
import "./chunk-ARNGZTAW.js";
import "./chunk-BY6CCMKY.js";
import "./chunk-7WLETYGH.js";
import "./chunk-UACJ4BQN.js";
import "./chunk-ZZWM6CET.js";
import "./chunk-CEFCTXUM.js";
import "./chunk-5N67JZXF.js";
import "./chunk-UC6QLXCR.js";
import "./chunk-PLT24NZO.js";
import "./chunk-WS5XOTML.js";
import "./chunk-ID25T22U.js";
import "./chunk-5SYJEI74.js";
import "./chunk-OOISODT4.js";
import "./chunk-YWPIIZFL.js";
import "./chunk-LARO5FBS.js";
import "./chunk-QFYJUFUK.js";
import "./chunk-V7IF2KNH.js";
import "./chunk-AZYURM7A.js";
import "./chunk-HBBLDSW6.js";
import "./chunk-YYI7TRI3.js";
import "./chunk-RQW2N53A.js";
import "./chunk-LHVWC4RW.js";
import "./chunk-GN2OLKIL.js";
import "./chunk-LMCIQOBX.js";
import "./chunk-4VVENLLF.js";
import "./chunk-VUHMQQ6M.js";
import "./chunk-6GQQIJM7.js";
import "./chunk-PAH4PVZY.js";
import "./chunk-5T7MASZO.js";
import "./chunk-5WKN6K5Z.js";
import "./chunk-WCBHO6BH.js";
import "./chunk-V7NVRGBC.js";
import "./chunk-KCZGCTYM.js";
import "./chunk-3YZBQBZ5.js";
import "./chunk-RFBA77K3.js";
import "./chunk-46T3D2EU.js";
import "./chunk-RYF27IO3.js";
import "./chunk-G3J4F5JD.js";
import "./chunk-OFEQM7IB.js";
import "./chunk-2GT6KC2O.js";
import "./chunk-R3RV65RE.js";
import "./chunk-5XOEX7AO.js";
import "./chunk-5MKTGTC4.js";
import "./chunk-7UDCRD5C.js";
import "./chunk-B3GKRGWX.js";
import "./chunk-FN7LLNVA.js";
import "./chunk-BR3PF5YD.js";
import "./chunk-NMKWX7AG.js";
import "./chunk-6OG4R2CR.js";
import "./chunk-XCK6RPVT.js";
import "./chunk-REXEABYB.js";
import "./chunk-VIRGWB3Z.js";
import "./chunk-QCUK7T7Y.js";
import "./chunk-2NDIVJST.js";
import "./chunk-SPYHZ6ZW.js";
import "./chunk-637XZX4A.js";
import "./chunk-PMFQ2A2V.js";
import "./chunk-MBLWM4C2.js";
import "./chunk-HHAESKQ6.js";
import "./chunk-5INQRMFY.js";
import "./chunk-XP3ABGGF.js";
import "./chunk-TACIE3AK.js";
import "./chunk-6LT23NJG.js";
import "./chunk-4FXZDEEP.js";
import "./chunk-KYKKN5I4.js";
import "./chunk-PWQTGVPO.js";
import "./chunk-4MJOJUFR.js";
import "./chunk-GDBENMUU.js";
import "./chunk-F7X3QPMY.js";
import {
  t
} from "./chunk-BMTOVJNA.js";
import "./chunk-CMLG62TA.js";
import {
  n as n3
} from "./chunk-SPU25K6A.js";
import "./chunk-P257AUOX.js";
import "./chunk-X5WDIDKE.js";
import "./chunk-SWNHB34O.js";
import "./chunk-NGAYW4TW.js";
import {
  s
} from "./chunk-2LPPSWTR.js";
import "./chunk-7E37N35O.js";
import "./chunk-BEXFYHUM.js";
import "./chunk-MDGE56IH.js";
import "./chunk-I6RS7YIS.js";
import "./chunk-M5UX4IRZ.js";
import "./chunk-BHOYA5LV.js";
import "./chunk-5T2QNVDA.js";
import "./chunk-SI6AVZBW.js";
import {
  o as o2
} from "./chunk-I7LDU4W6.js";
import "./chunk-SCRCLNT5.js";
import "./chunk-QJ6L2QIQ.js";
import "./chunk-VXM3PR7E.js";
import "./chunk-VE57JPH4.js";
import "./chunk-NT7TKMWH.js";
import "./chunk-BQGPMKNK.js";
import "./chunk-KWLN46JY.js";
import "./chunk-7KNPDPFB.js";
import "./chunk-M6P775BS.js";
import "./chunk-J5F4VILS.js";
import "./chunk-KSBIR2KG.js";
import "./chunk-XVQGALI7.js";
import "./chunk-XFQIXBHG.js";
import "./chunk-MVSN2HAN.js";
import "./chunk-7A5N7G2Z.js";
import "./chunk-B4ZPBUH4.js";
import "./chunk-HHTLQ7O6.js";
import "./chunk-FIHLU3LF.js";
import "./chunk-PZEIVZJB.js";
import "./chunk-DXK65EP4.js";
import "./chunk-H6MCGW3O.js";
import "./chunk-OM7WUMCL.js";
import "./chunk-J54I3TB7.js";
import "./chunk-MDXZIVBP.js";
import "./chunk-7W5MWPC6.js";
import "./chunk-OE52KVBM.js";
import "./chunk-L577YNYZ.js";
import "./chunk-GL5TSVQL.js";
import "./chunk-FD7NY4JS.js";
import "./chunk-ZQTY6DQZ.js";
import "./chunk-ITCKUEVD.js";
import "./chunk-TYYN3C37.js";
import "./chunk-OBABKQ6S.js";
import "./chunk-4GGEQMYI.js";
import "./chunk-A47N2JLN.js";
import "./chunk-GQP7H7SM.js";
import "./chunk-ZPC74XHC.js";
import "./chunk-IVGJRGD2.js";
import "./chunk-JA2AO4PC.js";
import "./chunk-MTLWPXQD.js";
import "./chunk-ZEMG7GKC.js";
import "./chunk-ECIXBYOQ.js";
import "./chunk-5MQ4HAUX.js";
import "./chunk-XIWETS2Q.js";
import "./chunk-FOCTPJDR.js";
import "./chunk-2DATALUO.js";
import "./chunk-QFKFOAJ6.js";
import "./chunk-LOPMLCHC.js";
import "./chunk-JIR2YP6A.js";
import "./chunk-LANUNBDP.js";
import "./chunk-JBF6CULO.js";
import "./chunk-DRCNNCTI.js";
import "./chunk-MKOOEINB.js";
import "./chunk-JKOHBDRD.js";
import "./chunk-MDSRD3WV.js";
import "./chunk-3DFMDDMO.js";
import "./chunk-4BCSYJOQ.js";
import "./chunk-GMUCR2DJ.js";
import "./chunk-HBRJJENW.js";
import "./chunk-VHY5K2VE.js";
import "./chunk-6ENXMQPD.js";
import "./chunk-FV43HSGW.js";
import "./chunk-ZR7OV2EH.js";
import "./chunk-U76EZJUZ.js";
import "./chunk-MEEG7XMI.js";
import "./chunk-LJULTBAY.js";
import "./chunk-FD4DXBZA.js";
import "./chunk-54XXLVAD.js";
import "./chunk-KO7QNSNZ.js";
import "./chunk-MUMDKJ7Y.js";
import "./chunk-ZFR4QMZ5.js";
import "./chunk-R2MAAYED.js";
import "./chunk-B7M5G3J5.js";
import "./chunk-7QHIE4SQ.js";
import "./chunk-6MGK5WBT.js";
import "./chunk-HSOVRETF.js";
import "./chunk-CPZW2LMK.js";
import "./chunk-QR7J3YDY.js";
import "./chunk-GO2OGJDG.js";
import "./chunk-UYMREM3D.js";
import "./chunk-4OVQYUQW.js";
import {
  o
} from "./chunk-BYRUCUF7.js";
import "./chunk-CXP4BHPO.js";
import "./chunk-YQQSFFN3.js";
import "./chunk-IJD65EMQ.js";
import "./chunk-4YGBWYMD.js";
import "./chunk-ZPU7GNG4.js";
import "./chunk-TNR6E67I.js";
import "./chunk-7O3VD45U.js";
import "./chunk-QREUCRQ4.js";
import "./chunk-YK3UMVCY.js";
import "./chunk-GB4RVOXH.js";
import "./chunk-JTUYA5FE.js";
import "./chunk-UNTQATE2.js";
import "./chunk-5YY6NZNY.js";
import "./chunk-5IT6RVBX.js";
import "./chunk-MTQHYT7Y.js";
import "./chunk-JCP47SOM.js";
import "./chunk-CXCB57TE.js";
import "./chunk-IWO6JXL2.js";
import "./chunk-AVR3LWTZ.js";
import "./chunk-YUWVLORR.js";
import "./chunk-7MYYCSEB.js";
import "./chunk-ESK2YRQM.js";
import "./chunk-3GY64OYE.js";
import "./chunk-QIEXJLRX.js";
import "./chunk-UNTPHF5R.js";
import "./chunk-YJFPDMSR.js";
import "./chunk-FFG7BDAP.js";
import "./chunk-ECTYMEUP.js";
import "./chunk-I4SHZ6P5.js";
import "./chunk-PGOAFABD.js";
import "./chunk-63NZBHDP.js";
import "./chunk-BNDDKY53.js";
import "./chunk-BECEVYQR.js";
import "./chunk-S243OWEZ.js";
import {
  I
} from "./chunk-QYDOVVH7.js";
import "./chunk-YSXT2SWC.js";
import "./chunk-DGRFM5OL.js";
import "./chunk-AOAT6HYL.js";
import "./chunk-YH3SFFF7.js";
import "./chunk-JBU54P54.js";
import "./chunk-UQEUYEWU.js";
import "./chunk-5LIYYE75.js";
import "./chunk-IWZSAF74.js";
import "./chunk-FMS3CZY7.js";
import "./chunk-F2EHRKUX.js";
import "./chunk-UWZ4CRJK.js";
import "./chunk-2636VFVY.js";
import "./chunk-252ISA6Z.js";
import "./chunk-TLTAGTBA.js";
import "./chunk-2QPP5AGU.js";
import "./chunk-2C26DRKK.js";
import "./chunk-M4RFJU4F.js";
import "./chunk-WVKWBQ7C.js";
import "./chunk-RK2U53CD.js";
import "./chunk-YPY24RRU.js";
import "./chunk-O7RKI2QW.js";
import "./chunk-BMB27ANS.js";
import "./chunk-3FOBZIUS.js";
import "./chunk-VVAVEXL2.js";
import "./chunk-BKBB7AOV.js";
import "./chunk-H7T5AB2S.js";
import "./chunk-HXYRQKMI.js";
import "./chunk-WKVHVZW2.js";
import "./chunk-7KK6L4F6.js";
import "./chunk-N7746YEI.js";
import "./chunk-DH7BG2VH.js";
import "./chunk-KSZESDGM.js";
import "./chunk-CHJMCUAV.js";
import "./chunk-5P74D2TG.js";
import "./chunk-33LWZO2E.js";
import "./chunk-YT66FIGM.js";
import "./chunk-VIKID44H.js";
import "./chunk-3IDXRFXE.js";
import "./chunk-TLU6YG3S.js";
import "./chunk-RLZYC2LS.js";
import "./chunk-WTKF56EK.js";
import "./chunk-3RIV3ECV.js";
import "./chunk-WEER6QME.js";
import "./chunk-IYU3Q2BA.js";
import "./chunk-L52HB3KV.js";
import "./chunk-TXLJQAAN.js";
import "./chunk-XJICXW6N.js";
import "./chunk-YF5E2R37.js";
import "./chunk-R4SGP2EA.js";
import "./chunk-IRL6OOVK.js";
import "./chunk-3AIILHI5.js";
import "./chunk-QJRGTKPN.js";
import "./chunk-VIH3KDZO.js";
import "./chunk-LA365FE7.js";
import "./chunk-ONKWNPIN.js";
import "./chunk-JKLFCJPR.js";
import {
  u as u2
} from "./chunk-J6T3FJLS.js";
import "./chunk-SA77Z3WI.js";
import {
  W,
  Y,
  Z
} from "./chunk-676ANOCK.js";
import "./chunk-6K2UNRXT.js";
import "./chunk-WTKV7W5Z.js";
import "./chunk-D4Y7YHG7.js";
import "./chunk-AL5NKCU5.js";
import "./chunk-6MBDB46F.js";
import "./chunk-D56W4LPT.js";
import "./chunk-BKOYOJBG.js";
import "./chunk-7JR6S3WL.js";
import "./chunk-CSSLIU64.js";
import "./chunk-CJNDQ2LH.js";
import "./chunk-B4E4X2TN.js";
import "./chunk-HS6YI5DU.js";
import "./chunk-CDBOQCLE.js";
import "./chunk-RSRUEM5U.js";
import "./chunk-HFJMEXIX.js";
import "./chunk-VYSGSKHB.js";
import "./chunk-DGJJJ2DD.js";
import "./chunk-UAFQMHYI.js";
import "./chunk-IDPLBNJX.js";
import "./chunk-ZHAZR5C3.js";
import "./chunk-P4MNTMCZ.js";
import "./chunk-FLBJ53KN.js";
import "./chunk-YH2IYJYF.js";
import "./chunk-BSPKLAHD.js";
import "./chunk-GGHKH3LP.js";
import "./chunk-VS6AHHIY.js";
import "./chunk-5DH2QVPW.js";
import "./chunk-GPWQGIYV.js";
import "./chunk-WZJNHZ6H.js";
import "./chunk-XMYPMIYH.js";
import "./chunk-FQLGRQKL.js";
import "./chunk-YBPOKK6D.js";
import "./chunk-IZ3VJLQ6.js";
import {
  d
} from "./chunk-DRC4XSYG.js";
import "./chunk-TUVEYM7U.js";
import "./chunk-5S637BGW.js";
import "./chunk-BFOJPIF7.js";
import "./chunk-Y7RXGLGH.js";
import "./chunk-3JC3OUNW.js";
import "./chunk-RO3CTAP7.js";
import "./chunk-GKMVTGGM.js";
import "./chunk-XGTCDM4C.js";
import "./chunk-QNG4TY7L.js";
import "./chunk-RW5QMWE6.js";
import "./chunk-LGMX4E7L.js";
import "./chunk-U34ZXOJT.js";
import "./chunk-OKRW5W44.js";
import "./chunk-Q6RZBEZ6.js";
import "./chunk-PC66NY33.js";
import "./chunk-YY2VB3AE.js";
import "./chunk-VEYMN5N3.js";
import "./chunk-H6NTWZSO.js";
import "./chunk-BMT3OVAP.js";
import {
  b
} from "./chunk-W5ALAOW2.js";
import "./chunk-FHDHOWK5.js";
import "./chunk-Y546C2O5.js";
import "./chunk-IYKBAIQE.js";
import "./chunk-BDRVHR2K.js";
import "./chunk-DVIGFJWY.js";
import "./chunk-LQBHIBXV.js";
import "./chunk-42DUJ2CX.js";
import "./chunk-B35SNV2V.js";
import "./chunk-Z2F5OKVA.js";
import "./chunk-UQA6M3KF.js";
import "./chunk-GLF3KRAL.js";
import "./chunk-ZLQTPFTL.js";
import "./chunk-WIVZ7SMV.js";
import "./chunk-O76UVYOO.js";
import "./chunk-QCMUK3QA.js";
import "./chunk-HZSGATFT.js";
import "./chunk-KNMQQRV7.js";
import "./chunk-N5GQOIDP.js";
import "./chunk-NFB6O77E.js";
import "./chunk-AKEHDP75.js";
import "./chunk-5MMGIT64.js";
import "./chunk-ERD6I7QP.js";
import "./chunk-EZL4LTMD.js";
import "./chunk-F3BQGS35.js";
import "./chunk-Z3NX5DTX.js";
import "./chunk-J4RP32NG.js";
import "./chunk-6NLHKXEW.js";
import "./chunk-LMO6NZJA.js";
import "./chunk-A5QTLE4Y.js";
import "./chunk-SCHTG6ZQ.js";
import "./chunk-YUUTEPX2.js";
import "./chunk-G7YFDDME.js";
import "./chunk-PCKG3UTS.js";
import "./chunk-3VMVD66K.js";
import {
  f
} from "./chunk-QYC3GV65.js";
import "./chunk-ETHGDNE6.js";
import "./chunk-X2GCSX3A.js";
import "./chunk-I2X6UR6L.js";
import "./chunk-CQFVWMFK.js";
import "./chunk-HV2SFSJW.js";
import "./chunk-SBARCIDP.js";
import "./chunk-2SYXH2R7.js";
import "./chunk-7JNXJYRU.js";
import "./chunk-3KPZ3BQR.js";
import "./chunk-5JYVZQZR.js";
import "./chunk-RKVEKQ5O.js";
import "./chunk-P7J4JFEH.js";
import "./chunk-G7FOE26O.js";
import "./chunk-USOPZ2Q6.js";
import "./chunk-S5I4QKJD.js";
import "./chunk-LSM34QAB.js";
import "./chunk-HWHMO3CO.js";
import "./chunk-NCRCDVOW.js";
import "./chunk-QX66UTIR.js";
import "./chunk-TCRKKQAL.js";
import "./chunk-77YSHEUQ.js";
import {
  n as n2
} from "./chunk-JW7VBMHD.js";
import "./chunk-GLLRUDMY.js";
import "./chunk-ZIJHDTB7.js";
import "./chunk-ZU6I4R6T.js";
import "./chunk-JI3AZJ7K.js";
import "./chunk-A5Q7MMP6.js";
import "./chunk-326OSIM5.js";
import "./chunk-R4CJB3GP.js";
import "./chunk-HTKSTTSR.js";
import "./chunk-6IED7TER.js";
import "./chunk-X7VSXJWW.js";
import "./chunk-VEODBKUJ.js";
import "./chunk-AG6JXA4M.js";
import "./chunk-B647DRFJ.js";
import "./chunk-PJNK3TLV.js";
import "./chunk-J7AMTUNG.js";
import "./chunk-G5EVVNIJ.js";
import "./chunk-HU5IGOTI.js";
import "./chunk-C24MEKSO.js";
import "./chunk-WDPG5BMO.js";
import "./chunk-TGXFDJCS.js";
import "./chunk-BOAEEYBE.js";
import "./chunk-VBUVOOM6.js";
import "./chunk-AKLOTDO2.js";
import "./chunk-6AQIVLDN.js";
import "./chunk-I5RCKVDX.js";
import "./chunk-6CWL7BCV.js";
import "./chunk-VTH4DAHQ.js";
import "./chunk-HLDUDRTD.js";
import "./chunk-SLQA5YBV.js";
import "./chunk-UMXV3EBO.js";
import "./chunk-ONK5AE7R.js";
import "./chunk-CZSTCON2.js";
import "./chunk-2ICUS4HL.js";
import "./chunk-ZXJ6I4RF.js";
import "./chunk-GBF2OQAY.js";
import "./chunk-WNNYD62G.js";
import "./chunk-HV6S3GY2.js";
import "./chunk-IGR2BTWR.js";
import "./chunk-C7NPPGFR.js";
import "./chunk-ZPYA32PH.js";
import "./chunk-OCF7OAES.js";
import "./chunk-JZBR4X6W.js";
import "./chunk-OIJCMME5.js";
import "./chunk-4KLYOMH2.js";
import "./chunk-TPLOIZC7.js";
import "./chunk-C62RZQQX.js";
import "./chunk-6Z6C6JVV.js";
import "./chunk-QLL2YG25.js";
import "./chunk-Z2PDA67N.js";
import {
  x
} from "./chunk-PWPXYWXV.js";
import "./chunk-545NO6M2.js";
import "./chunk-5LSHHVQ5.js";
import "./chunk-IZKCZQUY.js";
import "./chunk-M5ZB5S5C.js";
import "./chunk-MBGZKT2Z.js";
import "./chunk-UWQ3OYA5.js";
import "./chunk-ORO4D3FB.js";
import "./chunk-YOPMY6TS.js";
import "./chunk-VIN55KNF.js";
import "./chunk-NIDZ6R4E.js";
import "./chunk-IOB3DJMR.js";
import "./chunk-BPRXWDBO.js";
import "./chunk-7MT4ACA4.js";
import "./chunk-RUN6MNXL.js";
import "./chunk-BIAXSBMP.js";
import "./chunk-SAYWXQVM.js";
import "./chunk-SBL4URUW.js";
import {
  P
} from "./chunk-Z4Y53NDM.js";
import "./chunk-PVUNFEWX.js";
import "./chunk-TXBMNSNF.js";
import "./chunk-BVQWKK2V.js";
import "./chunk-D25BO7X7.js";
import {
  y2 as y
} from "./chunk-NDIXNREV.js";
import {
  a3 as a
} from "./chunk-I2RC5KWA.js";
import "./chunk-SSFWZSUM.js";
import {
  e
} from "./chunk-2F6FFF5T.js";
import "./chunk-C26KUZ46.js";
import "./chunk-JGDJR5EV.js";
import {
  u
} from "./chunk-QHK5ZYFW.js";
import "./chunk-L65HKN25.js";
import {
  n2 as n
} from "./chunk-7RBRCL6S.js";
import "./chunk-J2EGIWT6.js";
import "./chunk-Z4ZPL3B3.js";

// node_modules/@arcgis/core/views/3d/layers/SceneLayerView3D.js
var U = i3();
var P3 = class extends At(u4(t2(i(n3(w))))) {
  constructor() {
    super(...arguments), this.type = "scene-layer-3d", this._setVisibilityHiddenObjectIds = new s(), this.progressiveLoadFactor = 1, this._elevationContext = "scene", this._isIntegratedMesh = false, this._supportsLabeling = true, this._pendingEditsQueue = Promise.resolve(), this._interactiveEditingSessions = /* @__PURE__ */ new Map(), this._queryEngine = null;
  }
  get i3slayer() {
    return this.layer;
  }
  tryRecycleWith(e2, t3) {
    return e2.url === this.layer.url && this.i3sOverrides.isEmpty ? e2.load(t3).then(() => {
      var _a;
      Y(this.layer, e2, this.i3sOverrides), this.layer = e2, this.i3sOverrides.destroy();
      const t4 = (_a = this.view.resourceController) == null ? void 0 : _a.memoryController;
      this.i3sOverrides = new G({ view: this.view, layer: e2, memoryController: t4 }), this.resetHighlights();
    }) : null;
  }
  get layerPopupEnabledAndHasTemplate() {
    var _a;
    return this.layer.popupEnabled && u2(this.layer, (_a = this.view.popup) == null ? void 0 : _a.defaultPopupTemplateEnabled);
  }
  get filter() {
    return this._get("filter");
  }
  set filter(e2) {
    this._set("filter", P2.checkSupport(e2) ? e2 : null);
  }
  get viewFilter() {
    const e2 = this.mergedFilter, t3 = this.layerFilter;
    if (null == e2 && null == t3)
      return null;
    const i4 = this._get("viewFilter");
    return null == i4 ? new P2({ layerFilter: t3, viewFilter: e2, layerFieldsIndex: this.layer.fieldsIndex, loadAsyncModule: (e3) => this._loadAsyncModule(e3), addSqlFilter: (e3, t4) => this.addSqlFilter(e3, t4, this.logError), addTimeFilter: (e3, t4) => this.addTimeFilter(e3, t4) }) : (i4.viewFilter = e2, i4.layerFilter = t3, i4);
  }
  get requiredFields() {
    var _a;
    return ((_a = this._fieldsHelper) == null ? void 0 : _a.requiredFields) ?? [];
  }
  get _floorFilterClause() {
    const e2 = o2(this);
    return null != e2 ? x.create(e2, this.layer.fieldsIndex) : null;
  }
  get _excludeObjectIdsSorted() {
    const e2 = this.layer.excludeObjectIds.toArray();
    return e2.length ? e2.sort((e3, t3) => e3 - t3) : null;
  }
  get _setVisibilityHiddenObjectIdsSorted() {
    return this._setVisibilityHiddenObjectIds.size ? Array.from(this._setVisibilityHiddenObjectIds).sort((e2, t3) => e2 - t3) : null;
  }
  get lodFactor() {
    var _a, _b, _c, _d;
    return ((_d = (_c = (_b = (_a = this.view) == null ? void 0 : _a.qualitySettings) == null ? void 0 : _b.sceneService) == null ? void 0 : _c.object) == null ? void 0 : _d.lodFactor) ?? 1;
  }
  get lodCrossfadeUncoveredDuration() {
    var _a, _b;
    return ((_b = (_a = this.view) == null ? void 0 : _a.qualitySettings) == null ? void 0 : _b.fadeDuration) ?? 0;
  }
  get updatingProgressValue() {
    var _a;
    return ((_a = this._controller) == null ? void 0 : _a.updatingProgress) ?? 0;
  }
  initialize() {
    this._fieldsHelper = new a2({ layerView: this }), this._updatingHandles.add(() => this.layer.rangeInfos, (e3) => this._rangeInfosChanged(e3), P), this._updatingHandles.add(() => this.layer.renderer, (e3) => this._updatingHandles.addPromise(this._rendererChange(e3)), P);
    const e2 = () => this._filterChange();
    this._updatingHandles.add(() => this.parsedDefinitionExpression, e2), this._updatingHandles.add(() => this.mergedFilter, e2), this._updatingHandles.add(() => this._floorFilterClause, e2), this._updatingHandles.add(() => this._excludeObjectIdsSorted, e2), this._updatingHandles.add(() => this._setVisibilityHiddenObjectIdsSorted, e2), this._updatingHandles.add(() => {
      var _a;
      return (_a = this.viewFilter) == null ? void 0 : _a.sortedObjectIds;
    }, e2), this._updatingHandles.add(() => {
      var _a;
      return (_a = this.viewFilter) == null ? void 0 : _a.parsedWhereClause;
    }, e2), this._updatingHandles.add(() => this.getTimeFilterDependencies(), e2), this._updatingHandles.add(() => {
      var _a, _b, _c;
      return [(_a = this.viewFilter) == null ? void 0 : _a.parsedGeometry, (_b = this.mergedFilter) == null ? void 0 : _b.spatialRelationship, (_c = this.layer.filter) == null ? void 0 : _c.spatialRelationship];
    }, () => this._geometryFilterChange()), n2() && this.i3sOverrides.is3DOFL && this._updatingHandles.add(() => this.i3sOverrides.sortedGeometryChangedObjectIds, e2), this.addHandles(this.layer.on("apply-edits", (e3) => this._updatingHandles.addPromise(e3.result))), this.addHandles(this.layer.on("edits", (e3) => {
      const t3 = this._pendingEditsQueue.then(() => this._handleEdits(e3)).then();
      this._pendingEditsQueue = t3, this._updatingHandles.addPromise(t3);
    }));
  }
  destroy() {
    this._fieldsHelper = u(this._fieldsHelper);
  }
  _rangeInfosChanged(e2) {
    null != e2 && e2.length > 0 && n.getLogger(this).warn("Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.");
  }
  createQuery() {
    var _a;
    const e2 = { outFields: ["*"], returnGeometry: false, outSpatialReference: this.view.spatialReference };
    return ((_a = this.mergedFilter) == null ? void 0 : _a.createQuery(e2)) ?? new b(e2);
  }
  queryExtent(e2, t3) {
    return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e2), t3 == null ? void 0 : t3.signal);
  }
  queryFeatureCount(e2, t3) {
    return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e2), t3 == null ? void 0 : t3.signal);
  }
  queryFeatures(e2, t3) {
    return this._ensureQueryEngine().executeQuery(this._ensureQuery(e2), t3 == null ? void 0 : t3.signal).then((e3) => {
      if (!(e3 == null ? void 0 : e3.features))
        return e3;
      const t4 = this.layer;
      for (const i4 of e3.features)
        i4.layer = t4, i4.sourceLayer = t4;
      return e3;
    });
  }
  queryObjectIds(e2, t3) {
    return this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e2), t3 == null ? void 0 : t3.signal);
  }
  _ensureQueryEngine() {
    return this._queryEngine || (this._queryEngine = this._createQueryEngine()), this._queryEngine;
  }
  _createQueryEngine() {
    const e2 = u3(this.view.spatialReference, this.view.renderSpatialReference, this._collection);
    return new d2({ layerView: this, priority: I.FEATURE_QUERY_ENGINE, spatialIndex: new h({ featureAdapter: new o3({ objectIdField: this.layer.objectIdField, attributeStorageInfo: this.layer.attributeStorageInfo ?? [], getFeatureExtent: e2 }), forAllFeatures: (e3, t3) => this._forAllFeatures((t4, i4, r) => e3({ id: t4, index: i4, meta: r }), t3, n4.QUERYABLE), getFeatureExtent: e2, sourceSpatialReference: Z(this.layer), viewSpatialReference: this.view.spatialReference }) });
  }
  highlight(e2) {
    const t3 = this._highlights;
    if (e2 instanceof b) {
      const { set: i4, handle: r } = t3.acquireSet();
      return this.queryObjectIds(e2).then((e3) => t3.setFeatureIds(i4, e3)), r;
    }
    return super.highlight(e2);
  }
  createInteractiveEditSession(e2) {
    return i2(this._attributeEditingContext, e2);
  }
  _createLayerGraphic(e2) {
    return new f({ attributes: e2, layer: this.layer, sourceLayer: this.layer });
  }
  getFilters() {
    const e2 = super.getFilters();
    n2() && this.i3sOverrides.is3DOFL && this.i3sOverrides.sortedGeometryChangedObjectIds.length > 0 && e2.push((e3, t4) => {
      t4.node.index >= 0 && W(this.i3sOverrides.sortedGeometryChangedObjectIds, false, e3);
    });
    const t3 = this._setVisibilityHiddenObjectIdsSorted;
    null != t3 && e2.push((e3) => W(t3, false, e3));
    const i4 = this._excludeObjectIdsSorted;
    return null != i4 && e2.push((e3) => W(i4, false, e3)), this._floorFilterClause && this.addSqlFilter(e2, this._floorFilterClause, this.logError), this.addSqlFilter(e2, this.parsedDefinitionExpression, this.logError), null != this.viewFilter && this.viewFilter.addFilters(e2, this.view, this._controller.crsIndex, this._collection), e2;
  }
  setVisibility(e2, t3) {
    t3 ? this._setVisibilityHiddenObjectIds.delete(e2) : this._setVisibilityHiddenObjectIds.add(e2);
  }
  isUpdating() {
    return super.isUpdating() || this.layerFilterUpdating || null != this.viewFilter && this.viewFilter.updating || null != this.i3sOverrides && this.i3sOverrides.updating;
  }
  _ensureQuery(e2) {
    return this._addDefinitionExpressionToQuery(null == e2 ? this.createQuery() : b.from(e2));
  }
  get _attributeEditingContext() {
    return { sessions: this._interactiveEditingSessions, fieldsIndex: this.layer.fieldsIndex, objectIdField: this._getObjectIdField(), globalIdField: this._getGlobalIdField(), forEachNode: (e2) => this._forAllNodes((t3) => null != t3 ? e2(t3.node, t3.featureIds) : null), attributeStorageInfo: this.i3slayer.attributeStorageInfo ?? [], i3sOverrides: this.i3sOverrides, getAttributeData: (e2) => this.getAttributeData(e2), setAttributeData: (e2, t3) => this.setAttributeData(e2, t3), clearMemCache: () => this.clearMemCache() };
  }
  async _handleEdits(e2) {
    const t3 = n2(), i4 = this._attributeEditingContext, r = await u5(i4, e2);
    t3 && d3(i4, r), f2(i4, r);
  }
  get hasGeometryFilter() {
    const e2 = this.viewFilter;
    return null != (e2 == null ? void 0 : e2.parsedGeometry);
  }
  computeNodeFiltering(e2) {
    const t3 = this.viewFilter;
    return null == t3 || !this.view.spatialReference || t3.isMBSGeometryVisible(e2, this.view.spatialReference, this._controller.crsIndex) ? o.Unmodified : o.Culled;
  }
};
e([y()], P3.prototype, "i3slayer", null), e([y(t)], P3.prototype, "updatingProgress", void 0), e([y({ type: d })], P3.prototype, "filter", null), e([y({ readOnly: true })], P3.prototype, "viewFilter", null), e([y(U.requiredFields)], P3.prototype, "requiredFields", null), e([y(U.availableFields)], P3.prototype, "availableFields", void 0), e([y()], P3.prototype, "_fieldsHelper", void 0), e([y()], P3.prototype, "_floorFilterClause", null), e([y()], P3.prototype, "_excludeObjectIdsSorted", null), e([y()], P3.prototype, "_setVisibilityHiddenObjectIds", void 0), e([y()], P3.prototype, "_setVisibilityHiddenObjectIdsSorted", null), e([y()], P3.prototype, "lodFactor", null), e([y()], P3.prototype, "updatingProgressValue", null), P3 = e([a("esri.views.3d.layers.SceneLayerView3D")], P3);
var M = P3;
export {
  M as default
};
//# sourceMappingURL=SceneLayerView3D-QHHJT6I4.js.map
