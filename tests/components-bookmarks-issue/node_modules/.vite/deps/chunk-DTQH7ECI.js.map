{
  "version": 3,
  "sources": ["../../@arcgis/core/renderers/support/numberUtils.js", "../../@arcgis/core/widgets/Legend/support/utils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../intl.js\";import{formatNumber as t}from\"../../intl/number.js\";const n=/^-?(\\d+)(\\.(\\d+))?$/i;function e(t,n){return t-n}function r(t,n){let e,r;return e=Number(t.toFixed(n)),e<t?r=e+1/10**n:(r=e,e-=1/10**n),e=Number(e.toFixed(n)),r=Number(r.toFixed(n)),[e,r]}function o(t,n,e,r,o){const i=l(t,n,e,r),u=null==i.previous||i.previous<=o,s=null==i.next||i.next<=o;return u&&s||i.previous+i.next<=2*o}function i(t){const e=String(t),r=e.match(n);if(r&&r[1])return{integer:r[1].split(\"\").length,fractional:r[3]?r[3].split(\"\").length:0};if(e.toLowerCase().includes(\"e\")){const t=e.split(\"e\"),n=t[0],r=t[1];if(n&&r){const t=Number(n);let e=Number(r);const o=e>0;o||(e=Math.abs(e));const l=i(t);return o?(l.integer+=e,e>l.fractional?l.fractional=0:l.fractional-=e):(l.fractional+=e,e>l.integer?l.integer=1:l.integer-=e),l}}return{integer:0,fractional:0}}function l(t,n,e,r){const o={previous:null,next:null};if(null!=e){const r=t-e,i=n-e-r;o.previous=Math.floor(Math.abs(100*i/r))}if(null!=r){const e=r-t,i=r-n-e;o.next=Math.floor(Math.abs(100*i/e))}return o}function u(t,n={}){const l=t.slice(0),{tolerance:u=2,strictBounds:s=!1,indexes:c=l.map(((t,n)=>n))}=n;c.sort(e);for(let e=0;e<c.length;e++){const t=c[e],n=l[t],a=0===t?null:l[t-1],f=t===l.length-1?null:l[t+1],m=i(n).fractional;if(m){let i,c=0,g=!1;for(;c<=m&&!g;){const t=r(n,c);i=s&&0===e?t[1]:t[0],g=o(n,i,a,f,u),c++}g&&(l[t]=i)}}return l}const s={maximumFractionDigits:20};function c(n){return t(n,s)}export{c as format,i as numDigits,l as percentChange,u as round};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../symbols.js\";import{millisecondsPerTimeUnit as e}from\"../../../core/timeUtils.js\";import{isTimeOnlyField as A}from\"../../../layers/support/fieldUtils.js\";import{format as t}from\"../../../renderers/support/numberUtils.js\";import{formatAnyDate as n,isAnyDateField as i}from\"../../../smartMapping/support/utils.js\";import o from\"../../../symbols/SimpleLineSymbol.js\";const a=\"<\",l=\">\";function r(e,A,i,o){let r=\"\";0===A?r=`${a} `:A===i&&(r=`${l} `);return r+(o?n(e,o):t(e))}const s=[\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII=\"];async function u(e){if(!(\"visualVariables\"in e)||!e.visualVariables)return null;const A=e.visualVariables.find((e=>\"color\"===e.type));if(!A)return null;let t=null,n=null;if(A.stops){if(1===A.stops.length)return A.stops[0].color;t=A.stops[0].value,n=A.stops[A.stops.length-1].value}const i=null!=t&&null!=n?t+(n-t)/2:0,{getColor:o}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return o(A,i)??null}async function p(e,A){const t=e.trailCap,n=e.trailWidth||1,i=A||await u(e)||e.color;return new o({cap:t,color:i,width:n})}function f(e){return null!=e&&\"object\"==typeof e&&\"min\"in e&&\"max\"in e}function m(e,A){if(!A.field)return null;if(\"featureReduction\"in e)switch(e.featureReduction?.type){case\"cluster\":case\"binning\":{const t=e.featureReduction.fields.find((({name:e})=>e.toLowerCase()===A.field.toLowerCase()));return t&&\"getField\"in e?e.getField(t.onStatisticField):null}}return\"getField\"in e?e.getField?.(A.field):null}function d(e,A){const t=\"popupTemplate\"in e?e.popupTemplate?.fieldInfos:null;if(t?.length&&A)return t.find((e=>e.fieldName?.toLowerCase()===A.toLowerCase()))?.format?.dateFormat}function c(t,n,o){const a=m(t,n);if(!a||!i(a)&&!A(a))return null;let l=d(t,a.name);if(!l&&\"date\"===a.type){let A=0,t=0;n.stops?(A=n.stops?.at(0)?.value??A,t=n.stops?.at(-1)?.value??t):\"minDataValue\"in n&&\"maxDataValue\"in n&&(A=n.minDataValue??A,t=n.maxDataValue??t),l=t-A>2*e.days?\"short-date\":\"short-date-short-time\"}return{fieldType:a.type,format:l,timeZoneOptions:{layerTimeZone:\"preferredTimeZone\"in t?t.preferredTimeZone:null,viewTimeZone:o,datesInUnknownTimezone:\"datesInUnknownTimezone\"in t&&t.datesInUnknownTimezone}}}function w(e){if(\"authoringInfo\"in e)return e.authoringInfo?.visualVariables?.find((({sizeInfoType:e})=>\"reference-size\"===e))}export{r as createStopLabel,c as getDateFormatOptions,u as getMedianColor,w as getReferenceSizeAuthoringInfoVisualVariable,p as getSymbolForFlowRenderer,f as isRasterBandStatistics,s as rgbImgSource,l as specialCharsGreaterThan,a as specialCharsLessThan};\n"],
  "mappings": "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",
  "names": ["n", "r", "e", "o", "i", "u", "s", "t", "l", "c", "a", "f", "m", "l", "r", "e", "i", "o", "s", "u", "n", "d", "_a", "c", "a", "t"]
}
