{
  "version": 3,
  "sources": ["../../@arcgis/core/core/accessorSupport/overrideDefaultsFrom.js", "../../@arcgis/core/views/support/GroundViewElevationSampler.js", "../../@arcgis/core/views/GroundView.js", "../../@arcgis/core/views/3d/layerViewModuleImportUtils.js", "../../@arcgis/core/views/3d/analysis/AnalysisViewManager3D.js", "../../@arcgis/core/views/3d/state/Constraints.js", "../../@arcgis/core/views/3d/constraints/AltitudeConstraint.js", "../../@arcgis/core/views/3d/constraints/ClipDistanceConstraint.js", "../../@arcgis/core/views/3d/constraints/TiltConstraint.js", "../../@arcgis/core/views/3d/constraints/Constraints.js", "../../@arcgis/core/views/3d/environment/SunLighting.js", "../../@arcgis/core/views/3d/environment/VirtualLighting.js", "../../@arcgis/core/views/3d/environment/lightingUtils.js", "../../@arcgis/core/views/3d/environment/SceneViewAtmosphere.js", "../../@arcgis/core/views/3d/environment/SceneViewEnvironment.js", "../../@arcgis/core/views/3d/environment/AtmosphereType.js", "../../@arcgis/core/views/3d/environment/ChapmanAtmosphereTechnique.js", "../../@arcgis/core/views/3d/environment/ChapmanAtmosphereTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/AtmosphereCompositingTechnique.js", "../../@arcgis/core/views/3d/environment/ChapmanAtmosphere.js", "../../@arcgis/core/views/3d/environment/CloudsCompositionTechnique.js", "../../@arcgis/core/views/3d/environment/CloudsComposition.js", "../../@arcgis/core/views/3d/environment/CloudsTechnique.js", "../../@arcgis/core/views/3d/environment/NoiseTextureAtlasTechnique.js", "../../@arcgis/core/views/3d/environment/NoiseTextureAtlas.js", "../../@arcgis/core/views/3d/environment/CloudsGenerator.js", "../../@arcgis/core/views/3d/environment/FogTechnique.js", "../../@arcgis/core/views/3d/environment/Fog.js", "../../@arcgis/core/views/3d/environment/SimpleAtmosphereTechnique.js", "../../@arcgis/core/views/3d/environment/resources/SimpleAtmosphereTexture.js", "../../@arcgis/core/views/3d/environment/LocalAtmosphere.js", "../../@arcgis/core/views/3d/environment/resources/MarsAtmosphereTexture.js", "../../@arcgis/core/views/3d/environment/MarsAtmosphere.js", "../../@arcgis/core/views/3d/environment/PrecipitationTechnique.js", "../../@arcgis/core/views/3d/environment/Precipitation.js", "../../@arcgis/core/views/3d/environment/StarsTechnique.js", "../../@arcgis/core/views/3d/environment/Stars.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Update.js", "../../@arcgis/core/views/3d/environment/EnvironmentRenderer.js", "../../@arcgis/core/views/3d/environment/SceneViewEnvironmentManager.js", "../../@arcgis/core/views/3d/camera/constraintUtils/ConstraintTypes.js", "../../@arcgis/core/views/3d/camera/constraintUtils/InteractionType.js", "../../@arcgis/core/views/3d/camera/constraintUtils/TiltMode.js", "../../@arcgis/core/views/3d/camera/constraintUtils/ConstraintOptions.js", "../../@arcgis/core/views/3d/camera/constraintUtils/common.js", "../../@arcgis/core/views/3d/camera/constraintUtils/altitude.js", "../../@arcgis/core/views/3d/camera/constraintUtils/distance.js", "../../@arcgis/core/views/3d/camera/constraintUtils/surfaceCollision.js", "../../@arcgis/core/views/3d/state/utils/viewUtils.js", "../../@arcgis/core/views/3d/camera/constraintUtils/tilt.js", "../../@arcgis/core/views/animation/easing.js", "../../@arcgis/core/views/3d/camera/constraintUtils.js", "../../@arcgis/core/views/3d/animation/pointToPoint/Camera.js", "../../@arcgis/core/views/animation/pointToPoint/Settings.js", "../../@arcgis/core/views/animation/pointToPoint/Definition.js", "../../@arcgis/core/views/animation/pointToPoint/Path.js", "../../@arcgis/core/views/animation/pointToPoint/Segment.js", "../../@arcgis/core/views/animation/pointToPoint/apex/functions.js", "../../@arcgis/core/views/animation/pointToPoint/apex/planning.js", "../../@arcgis/core/views/animation/pointToPoint/apex/Path.js", "../../@arcgis/core/views/animation/pointToPoint/Animation.js", "../../@arcgis/core/views/3d/animation/pointToPoint/Animation.js", "../../@arcgis/core/views/3d/state/controllers/CameraController.js", "../../@arcgis/core/views/3d/state/controllers/AnimationController.js", "../../@arcgis/core/views/3d/state/controllers/PointToPointAnimationController.js", "../../@arcgis/core/geometry/support/axisAngle.js", "../../@arcgis/core/views/3d/support/geometryUtils/sphere.js", "../../@arcgis/core/views/3d/state/utils/navigationUtils.js", "../../@arcgis/core/views/3d/state/controllers/ZoomStepControllerGlobal.js", "../../@arcgis/core/views/3d/state/controllers/ZoomStepControllerLocal.js", "../../@arcgis/core/views/3d/input/handlers/DoubleClickZoom.js", "../../@arcgis/core/views/3d/state/NearFarHeuristic.js", "../../@arcgis/core/views/3d/state/SurfaceCollisionConstraint.js", "../../@arcgis/core/views/3d/state/ConstraintsManager.js", "../../@arcgis/core/views/3d/state/controllers/SurfaceCollisionCorrectionController.js", "../../@arcgis/core/views/3d/state/GoToOperation.js", "../../@arcgis/core/views/3d/state/ViewStateManager.js", "../../@arcgis/core/views/3d/state/controllers/InteractiveController.js", "../../@arcgis/core/views/3d/state/controllers/RotateController.js", "../../@arcgis/core/views/3d/input/handlers/DragRotate.js", "../../@arcgis/core/views/3d/state/controllers/ZoomControllerGlobal.js", "../../@arcgis/core/views/3d/state/controllers/ZoomControllerLocal.js", "../../@arcgis/core/views/3d/input/handlers/DragZoom.js", "../../@arcgis/core/views/3d/state/controllers/GamepadKeyboardController.js", "../../@arcgis/core/views/3d/input/handlers/GamepadNavigation.js", "../../@arcgis/core/views/3d/input/handlers/KeyboardNavigation.js", "../../@arcgis/core/views/3d/input/handlers/MouseWheelZoom.js", "../../@arcgis/core/views/3d/input/util.js", "../../@arcgis/core/views/3d/state/controllers/momentum/MomentumController.js", "../../@arcgis/core/views/3d/state/controllers/momentum/PanPlanarMomentumController.js", "../../@arcgis/core/views/3d/state/controllers/momentum/PanSphericalMomentumController.js", "../../@arcgis/core/views/3d/state/controllers/momentum/RotationMomentumController.js", "../../@arcgis/core/views/3d/state/controllers/momentum/ZoomPlanarMomentumController.js", "../../@arcgis/core/views/3d/state/controllers/momentum/ZoomSphericalMomentumController.js", "../../@arcgis/core/views/navigation/FilteredValue.js", "../../@arcgis/core/views/navigation/PanSphericalMomentumEstimator.js", "../../@arcgis/core/views/3d/state/controllers/PinchAndPanControllerGlobal.js", "../../@arcgis/core/views/3d/state/controllers/PinchAndPanControllerLocal.js", "../../@arcgis/core/views/3d/input/handlers/PinchAndPanNavigation.js", "../../@arcgis/core/views/3d/input/handlers/PointerDownCancelAnimation.js", "../../@arcgis/core/views/3d/input/handlers/SingleKey.js", "../../@arcgis/core/views/3d/input/handlers/SingleKeyResetHeading.js", "../../@arcgis/core/views/3d/input/handlers/SingleKeyResetTilt.js", "../../@arcgis/core/views/3d/input/handlers/TwoFingerTilt.js", "../../@arcgis/core/views/input/recognizers/VerticalTwoFingerDrag.js", "../../@arcgis/core/views/3d/input/SceneInputManager.js", "../../@arcgis/core/views/3d/layers/graphics/deconflictorDebug.js", "../../@arcgis/core/views/3d/layers/graphics/Deconflictor.js", "../../@arcgis/core/views/3d/layers/graphics/LabelDeconflictor.js", "../../@arcgis/core/views/3d/layers/graphics/GraphicsDeconflictor.js", "../../@arcgis/core/geometry/projection/projectVec3Array.js", "../../@arcgis/core/views/3d/layers/support/FeatureTileVisibility3D.js", "../../@arcgis/core/views/3d/layers/support/FeatureTileMeasurements3D.js", "../../@arcgis/core/views/3d/layers/support/FeatureTileTree3D.js", "../../@arcgis/core/views/3d/state/ViewState.js", "../../@arcgis/core/views/3d/state/helpers/SceneIntersectionHelper.js", "../../@arcgis/core/views/3d/support/CombinedElevationProvider.js", "../../@arcgis/core/views/3d/support/DisplayQualityProfile.js", "../../@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightDefaults.js", "../../@arcgis/core/views/3d/support/HighlightOptions.js", "../../@arcgis/core/views/3d/support/MapCoordsHelper.js", "../../@arcgis/core/views/3d/terrain/LayerClass.js", "../../@arcgis/core/views/3d/support/popupHitTest.js", "../../@arcgis/core/views/3d/support/QualitySettings.js", "../../@arcgis/core/views/3d/support/ResourceController.js", "../../@arcgis/core/views/3d/support/LayerPerformanceInfo.js", "../../@arcgis/core/views/3d/support/SceneViewPerformanceInfo.js", "../../@arcgis/core/views/3d/layers/graphics/ObjectResourceCache.js", "../../@arcgis/core/views/3d/support/TextureCollection.js", "../../@arcgis/core/views/3d/support/StreamTextureCollection.js", "../../@arcgis/core/views/3d/support/SharedSymbolResources.js", "../../@arcgis/core/views/3d/support/debugUtils.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/PointOfInterest.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/CameraOnSurface.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/CenterOnSurface.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/ContentGeometryUpdates.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/Focus.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/StableSurfaceCenter.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/SurfaceGeometryUpdates.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/PointsOfInterest.js", "../../@arcgis/core/views/3d/terrain/ElevationBounds.js", "../../@arcgis/core/views/3d/terrain/ElevationData.js", "../../@arcgis/core/views/3d/terrain/ExtentHelper.js", "../../@arcgis/core/views/3d/webgl-engine/parts/requireUtils.js", "../../@arcgis/core/views/3d/terrain/OverlayManager.js", "../../@arcgis/core/views/3d/terrain/PatchGeometry.js", "../../@arcgis/core/views/3d/terrain/PatchGeometryLUT.js", "../../@arcgis/core/views/3d/terrain/GeometryState.js", "../../@arcgis/core/views/3d/terrain/TextureFader.js", "../../@arcgis/core/views/3d/terrain/TileAgent.js", "../../@arcgis/core/views/3d/terrain/ElevationTileAgent.js", "../../@arcgis/core/views/3d/terrain/MapTileAgent.js", "../../@arcgis/core/views/3d/terrain/TilePerLayerInfo.js", "../../@arcgis/core/views/3d/terrain/TileTexture.js", "../../@arcgis/core/views/3d/terrain/TileUpdate.js", "../../@arcgis/core/views/3d/terrain/Tile.js", "../../@arcgis/core/views/3d/terrain/TileOverlayData.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/TerrainTechnique.js", "../../@arcgis/core/views/3d/terrain/PatchRenderData.js", "../../@arcgis/core/views/3d/terrain/PatchGeometryFactory.js", "../../@arcgis/core/views/3d/terrain/PlanarPatch.js", "../../@arcgis/core/views/3d/terrain/ScaleRangeQueries.js", "../../@arcgis/core/geometry/projection/lonLatToSphericalPCPF.js", "../../@arcgis/core/views/3d/terrain/SphericalPatch.js", "../../@arcgis/core/views/3d/terrain/SplitLimits.js", "../../@arcgis/core/views/3d/terrain/TerrainAttributes.js", "../../@arcgis/core/views/3d/terrain/TerrainAttributesCache.js", "../../@arcgis/core/views/3d/terrain/BlendModeTechniqueConfiguration.js", "../../@arcgis/core/views/3d/terrain/TileBlendTechniqueConfiguration.js", "../../@arcgis/core/views/3d/terrain/BlendLayersTechnique.js", "../../@arcgis/core/views/3d/terrain/TextureReference.js", "../../@arcgis/core/views/2d/engine/vectorTiles/VectorTileRendererHelper3D.js", "../../@arcgis/core/views/3d/terrain/RasterColorizerTechnique.js", "../../@arcgis/core/views/3d/terrain/support/MultiSizeFramebuffer.js", "../../@arcgis/core/views/3d/terrain/TileCompositor.js", "../../@arcgis/core/views/3d/terrain/TileRenderInfo.js", "../../@arcgis/core/views/3d/terrain/TileRenderer.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/ComponentIntersectionData.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/TerrainTechniqueConfiguration.js", "../../@arcgis/core/views/3d/terrain/TerrainRenderer.js", "../../@arcgis/core/views/3d/terrain/TerrainSurfacePerformanceInfo.js", "../../@arcgis/core/views/3d/terrain/TilingSchemeLogic.js", "../../@arcgis/core/views/3d/terrain/UpsampleInfo.js", "../../@arcgis/core/views/3d/terrain/TerrainSurface.js", "../../@arcgis/core/views/3d/webgl-engine/lib/ModelDirtySet.js", "../../@arcgis/core/views/3d/webgl-engine/parts/Model.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/IndexRange/ComponentRangeRunLengthEncoded.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/ComponentData.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/ComponentObject.js", "../../@arcgis/core/views/3d/webgl-engine/lib/ComponentUtils.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/IntersectionGeometry.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/Renderable.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/RenderGeometry.js", "../../@arcgis/core/views/3d/webgl-engine/lib/depthRange.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/DepthRange.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/RenderSubmitSystem.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/UniformComponentParameters.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/ComponentObjectCollection.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/CompositingTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/CompositingTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/HUDCompositingTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/OITCompositingTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/lib/CompositingHelper.js", "../../@arcgis/core/views/3d/webgl-engine/lib/depthRangeUtils.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/Magnifier.glsl.js", "../../@arcgis/core/views/3d/webgl-engine/lib/MagnifierHelper.js", "../../@arcgis/core/views/3d/webgl-engine/lib/ObjectAndLayerIdRenderHelper.js", "../../@arcgis/core/views/3d/webgl/ManagedFBObject.js", "../../@arcgis/core/views/3d/webgl/ManagedFBOAttachment.js", "../../@arcgis/core/views/3d/webgl/ManagedColorAttachment.js", "../../@arcgis/core/views/3d/webgl/ManagedDepthAttachment.js", "../../@arcgis/core/views/3d/webgl/ManagedFBO.js", "../../@arcgis/core/views/3d/webgl-engine/core/FBOPool.js", "../../@arcgis/core/views/3d/webgl-engine/core/FBOCache.js", "../../@arcgis/core/views/3d/webgl-engine/core/renderPasses/RenderPass.js", "../../@arcgis/core/views/3d/webgl-engine/core/renderPasses/RenderPassManager.js", "../../@arcgis/core/views/3d/webgl-engine/effects/RenderNodes.js", "../../@arcgis/core/views/3d/webgl-engine/effects/RenderPluginManager.js", "../../@arcgis/core/views/3d/webgl-engine/effects/blit/Blit.js", "../../@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightApplyTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightBlurTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightDownsampleTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightPassParameters.js", "../../@arcgis/core/views/3d/webgl-engine/effects/highlight/Highlight.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/ShadowConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/effects/highlight/ShadowHighlightTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/effects/highlight/ShadowHighlight.js", "../../@arcgis/core/views/3d/webgl-engine/effects/smaa/SMAABlendWeightsTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/effects/smaa/SMAABlurTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/effects/smaa/SMAAEdgeDetectTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/effects/smaa/SMAAPassParameters.js", "../../@arcgis/core/views/3d/webgl-engine/effects/smaa/SMAA.js", "../../@arcgis/core/views/3d/webgl-engine/lib/AnimationTimeStep.js", "../../@arcgis/core/views/3d/webgl-engine/lib/OffscreenRendering.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/ShadowCastVisualizeTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/lib/ShadowCastRenderer.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/ShadowCastAccumulateTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/lib/ShadowAccumulator.js", "../../@arcgis/core/views/3d/webgl-engine/lib/SliceHelper.js", "../../@arcgis/core/views/webgl/TimerPool.js", "../../@arcgis/core/views/3d/webgl-engine/statistics/RendererPerformanceInfo.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Renderer.js", "../../@arcgis/core/views/3d/webgl-engine/effects/ScreenSpaceGeometry.js", "../../@arcgis/core/views/3d/webgl-engine/lib/RenderingContext.js", "../../@arcgis/core/views/3d/webgl-engine/lib/ITexture.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextureRepository.js", "../../@arcgis/core/views/3d/webgl-engine/materials/markerTextureRepository.js", "../../@arcgis/core/views/3d/webgl-engine/materials/internal/WaterTextureRepository.js", "../../@arcgis/core/views/3d/webgl-engine/parts/contextCache.js", "../../@arcgis/core/views/3d/webgl-engine/parts/ScreenshotManager.js", "../../@arcgis/core/views/3d/webgl-engine/parts/testUtils.js", "../../@arcgis/core/views/3d/webgl-engine/parts/RenderView.js", "../../@arcgis/core/views/3d/webgl-engine/Stage.js", "../../@arcgis/core/views/ui/3d/DefaultUI3D.js", "../../@arcgis/core/views/SceneView.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport o from\"../Accessor.js\";import{OriginId as t}from\"./PropertyOrigin.js\";import{getProperties as r}from\"./utils.js\";function n(s,i){const e=r(s),c=r(i),f=e.store,a=c.store,m=c.metadata;for(const r in m){const i=m[r],e=f.originOf(r),c=a.originOf(r);if(!i.readOnly&&c!==t.DEFAULTS)if(e===t.DEFAULTS)s.set(r,a.get(r));else{const t=f.get(r),s=a.get(r);t&&s&&s instanceof o&&t instanceof o&&t instanceof s.constructor&&n(t,s)}}}export{n as overrideDefaultsFrom};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import o from\"../../core/Logger.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"../../geometry/SpatialReference.js\";import{toExtent as s}from\"../../geometry/support/aaBoundingRect.js\";import{extentContainsXYZ as a}from\"../../geometry/support/contains.js\";import{updateGeometryElevation as l}from\"../../layers/support/ElevationSampler.js\";import{elevationNodataValue as p}from\"../3d/terrain/TerrainConst.js\";let m=class extends t.EventedAccessor{constructor(e){super(e),this.demResolution={min:-1,max:-1},this.noDataValue=p}initialize(){this.view.basemapTerrain.on(\"elevation-change\",(()=>this.emit(\"changed\",{})))}get extent(){const e=this.view.basemapTerrain;if(null==e?.extent||null==e.spatialReference)return null;const t=s(e.extent,e.spatialReference);return t.zmin=e.visibleElevationBounds.min,t.zmax=e.visibleElevationBounds.max,t}get spatialReference(){return this.view.basemapTerrain?.spatialReference??i.WGS84}elevationAt(e,t){if(null==this.extent||!a(this.extent,e,t)){const r=null!=this.extent?`${this.extent.xmin}, ${this.extent.ymin}, ${this.extent.xmax}, ${this.extent.ymax}`:null;return o.getLogger(this).warn(\"#elevationAt()\",`Point used to sample elevation (${e}, ${t}) is outside of the sampler extent (${r})`),this.noDataValue}return this.view.elevationProvider?.getElevation(e,t,0,this.spatialReference,\"ground\")??this.noDataValue}queryElevation(e){return l(e.clone(),this)}};e([r({readOnly:!0})],m.prototype,\"demResolution\",void 0),e([r({readOnly:!0})],m.prototype,\"extent\",null),e([r({readOnly:!0})],m.prototype,\"noDataValue\",void 0),e([r()],m.prototype,\"spatialReference\",null),e([r({constructOnly:!0})],m.prototype,\"view\",void 0),m=e([n(\"esri.views.support.GroundViewElevationSampler\")],m);const u=m;export{u as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/Accessor.js\";import r from\"../core/Collection.js\";import{when as s,watch as i,sync as o}from\"../core/reactiveUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import{toExtent as p}from\"./3d/support/cameraUtils.js\";import l from\"./support/GroundViewElevationSampler.js\";let d=class extends t{constructor(e){super(e),this.view=null,this.layerViews=new r}initialize(){this.addHandles(s((()=>this.view?.map?.ground),(e=>e.load()))),this.addHandles(this.layerViews.on(\"after-changes\",(()=>this._layerViewsAfterChangesHandler())))}destroy(){this._set(\"view\",null);for(const e of this.layerViews)e.destroy();this.layerViews.length=0}get elevationSampler(){return this.view?\"2d\"===this.view.type?null:this.view.ready&&this.view.basemapTerrain&&this.view.basemapTerrain.ready?new l({view:this.view}):null:null}get extent(){const e=this.view;return e&&\"2d\"!==e.type&&e.ready?p(e,e.state.camera,e.pointsOfInterest.centerOnSurfaceFrequent.renderLocation):null}get updating(){return!this.suspended&&this.layerViews.some((e=>e.updating))}get suspended(){return!this.view||this.view.suspended}_layerViewsAfterChangesHandler(){this.removeHandles(\"updating\"),this.addHandles(this.layerViews.map((e=>i((()=>e.updating),(()=>this._updateUpdating()),o))).toArray(),\"updating\"),this._updateUpdating()}_updateUpdating(){this.notifyChange(\"updating\")}};e([a({readOnly:!0})],d.prototype,\"elevationSampler\",null),e([a({readOnly:!0})],d.prototype,\"extent\",null),e([a({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([a({constructOnly:!0})],d.prototype,\"view\",void 0),e([a({type:r,readOnly:!0})],d.prototype,\"layerViews\",void 0),e([a({readOnly:!0})],d.prototype,\"suspended\",null),d=e([n(\"esri.views.GroundView\")],d);const u=d;export{u as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";const r=()=>import(\"./layers/TileLayerView3D.js\"),a=()=>import(\"./layers/ElevationLayerView3D.js\"),i={\"base-dynamic\":()=>import(\"./layers/BaseDynamicLayerView3D.js\"),\"base-elevation\":a,\"base-tile\":r,\"bing-maps\":r,\"building-scene\":()=>import(\"./layers/BuildingSceneLayerView3D.js\"),csv:()=>import(\"./layers/CSVLayerView3D.js\"),dimension:()=>import(\"./layers/DimensionLayerView3D.js\"),elevation:a,feature:()=>import(\"./layers/FeatureLayerView3D.js\"),geojson:()=>import(\"./layers/GeoJSONLayerView3D.js\"),graphics:()=>import(\"./layers/GraphicsLayerView3D.js\"),group:()=>import(\"../layers/GroupLayerView.js\"),imagery:()=>import(\"./layers/ImageryLayerView3D.js\"),\"integrated-mesh\":()=>import(\"./layers/IntegratedMeshLayerView3D.js\"),\"integrated-mesh-3dtiles\":()=>import(\"./layers/IntegratedMesh3DTilesLayerView3D.js\"),\"line-of-sight\":()=>import(\"./layers/LineOfSightLayerView3D.js\"),\"map-image\":()=>import(\"./layers/MapImageLayerView3D.js\"),media:()=>import(\"./layers/MediaLayerView3D.js\"),\"ogc-feature\":()=>import(\"./layers/OGCFeatureLayerView3D.js\"),\"open-street-map\":r,\"oriented-imagery\":()=>import(\"./layers/FeatureLayerView3D.js\"),\"point-cloud\":()=>import(\"./layers/PointCloudLayerView3D.js\"),voxel:()=>import(\"./layers/VoxelLayerView3D.js\"),route:()=>import(\"./layers/RouteLayerView3D.js\"),scene:e=>null==e.profile||\"mesh-pyramids\"===e.profile?import(\"./layers/SceneLayerView3D.js\"):import(\"./layers/SceneLayerGraphicsView3D.js\"),stream:()=>import(\"./layers/StreamLayerView3D.js\"),tile:r,\"imagery-tile\":()=>import(\"./layers/ImageryTileLayerView3D.js\"),\"vector-tile\":()=>import(\"./layers/VectorTileLayerView3D.js\"),wcs:()=>import(\"./layers/ImageryTileLayerView3D.js\"),\"web-tile\":r,wfs:()=>import(\"./layers/WFSLayerView3D.js\"),wms:()=>import(\"./layers/WMSLayerView3D.js\"),wmts:()=>import(\"./layers/WMTSLayerView3D.js\"),catalog:null,\"catalog-dynamic-group\":null,\"catalog-footprint\":null,\"geo-rss\":null,kml:null,\"knowledge-graph\":null,\"link-chart\":null,\"knowledge-graph-sublayer\":null,\"map-notes\":null,\"subtype-group\":null,unknown:null,unsupported:null,video:null};function s(r){const a=r.declaredClass?r.declaredClass.slice(r.declaredClass.lastIndexOf(\".\")+1):\"Unknown\",i=a.replaceAll(/([a-z])([A-Z])/g,\"$1-$2\").toLowerCase();return new e(`${i}:view-not-supported`,`${a} is not supported in 3D`)}const l={hasLayerViewModule:e=>null!=i[e.type],importLayerView:e=>{const r=i[e.type];if(null==r)throw s(e);return r(e)}};export{l as layerView3DImporter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import{createTask as t}from\"../../../core/asyncUtils.js\";import i from\"../../../core/Collection.js\";import a from\"../../../core/Error.js\";import{makeHandle as n}from\"../../../core/handleUtils.js\";import o from\"../../../core/Logger.js\";import{removeMaybe as r,destroyMaybe as l,abortMaybe as c}from\"../../../core/maybe.js\";import{createAbortError as d,isAborted as h,createResolver as w}from\"../../../core/promiseUtils.js\";import{schedule as u}from\"../../../core/scheduling.js\";import{property as m}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as y}from\"../../../core/accessorSupport/decorators/subclass.js\";const _=\"analyses-owner-handles\";var p,V;!function(e){e[e.PENDING=0]=\"PENDING\",e[e.CREATED=1]=\"CREATED\"}(p||(p={})),function(e){e[e.ADDED=0]=\"ADDED\",e[e.REMOVED=1]=\"REMOVED\"}(V||(V={}));let A=class extends s{constructor(e){super(e),this._allAnalysisViews=new i,this._creatingViewCount=0,this._items=new Map,this._scheduledUpdateHandle=null,this._attachedToViewResolver=v(),this._analysisModules={\"area-measurement\":{module:null},dimension:{module:null},\"direct-line-measurement\":{module:null},\"line-of-sight\":{module:null},slice:{module:null}}}destroy(){this._disconnectOwners(),this._attachedToViewResolver.reject(d(\"AnalysisViewManager was destroyed\"))}attach(){this._connectOwners(),this._attachedToViewResolver.resolve()}detach(){this._disconnectOwners(),this._attachedToViewResolver.reject(d()),this._attachedToViewResolver=v()}get updating(){return!this.view.ready||0!==this._creatingViewCount||this._allAnalysisViews.some((e=>e.updating))}get testInfo(){return{allAnalysisViews:this._allAnalysisViews}}async whenAnalysisView(e){await this._attachedToViewResolver.promise;const s=this._items.get(e);if(null==s||s.state.list===V.REMOVED){throw new a(\"AnalysisViewManager:no-analysisview-for-analysis\",\"The analysis has not been added to view.analyses\",{analysis:e})}return s.createAnalysisViewTask.promise}_connectOwners(){this.addHandles(this._connectAnalysesCollection(this.view.analyses),_)}_disconnectOwners(){this.removeHandles(_),this._update(),this._creatingViewCount=0}_connectAnalysesCollection(e){for(const i of e)this._addAnalysis(i);const s=e.on(\"after-add\",(e=>this._addAnalysis(e.item))),t=e.on(\"after-remove\",(e=>this._removeAnalysis(e.item)));return n((()=>{s.remove(),t.remove();for(const s of e)this._removeAnalysis(s)}))}_addAnalysis(e){const s=this._items.get(e);if(null==s){const s={state:{view:p.PENDING,list:V.ADDED},analysis:e,view:null,createAnalysisViewTask:null};this._items.set(e,s),s.createAnalysisViewTask=t((e=>this._createAnalysisViewPromise(s,e)))}else s.state.list=V.ADDED}_removeAnalysis(e){const s=this._items.get(e);null!=s?(s.state.list=V.REMOVED,this._scheduleUpdate()):o.getLogger(this).error(\"Trying to remove analysis which was not added\")}_scheduleUpdate(){null==this._scheduledUpdateHandle&&(this._scheduledUpdateHandle=u((()=>this._update())))}_update(){this._scheduledUpdateHandle=r(this._scheduledUpdateHandle),this._items.forEach((e=>{if(e.state.list===V.REMOVED)switch(this._items.delete(e.analysis),e.state.view){case p.PENDING:e.createAnalysisViewTask=c(e.createAnalysisViewTask);break;case p.CREATED:null!=e.view&&(this._allAnalysisViews.remove(e.view),e.view=l(e.view),e.createAnalysisViewTask=null)}}))}async _createAnalysisViewPromise(e,s){const t=e.analysis,i=t.type,a=this._analysisModules[i];if(this._creatingViewCount+=1,null==a.module)try{a.module=await this._loadAnalysisModule(i)}catch(o){throw this._creatingViewCount-=1,o}if(h(s))throw this._creatingViewCount-=1,d(\"AnalysisView creation aborted\");const n=new a.module.default({analysis:t,view:this.view});try{await n.when()}catch(o){throw this._creatingViewCount-=1,o}if(h(s))throw this._creatingViewCount-=1,n.destroy(),d(\"AnalysisView creation aborted\");return e.view=n,e.state.view=p.CREATED,this._allAnalysisViews.add(n),this._creatingViewCount-=1,n}_loadAnalysisModule(e){switch(e){case\"area-measurement\":return import(\"./AreaMeasurementAnalysisView3D.js\");case\"dimension\":return import(\"./DimensionAnalysisView3D.js\");case\"direct-line-measurement\":return import(\"./DirectLineMeasurementAnalysisView3D.js\");case\"line-of-sight\":return import(\"./LineOfSightAnalysisView3D.js\");case\"slice\":return import(\"./SliceAnalysisView3D.js\")}}};function v(){const e=w();return e.promise.catch((()=>{})),e}e([m()],A.prototype,\"updating\",null),e([m({constructOnly:!0})],A.prototype,\"view\",void 0),e([m()],A.prototype,\"_allAnalysisViews\",void 0),e([m()],A.prototype,\"_creatingViewCount\",void 0),A=e([y(\"esri.views.3d.analysis.AnalysisViewManager3D\")],A);const f=A;export{f as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import i from\"../../../core/Logger.js\";import{clamp as o,deg2rad as r}from\"../../../core/mathUtils.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{earth as n}from\"../../../geometry/support/Ellipsoid.js\";import{ViewingMode as l}from\"../../ViewingMode.js\";import{makePiecewiseLinearFunction as m}from\"../support/mathUtils.js\";let c=class extends e{constructor(t){super(t),this.collision=new f,this.distance=1/0,this.minimumPoiDistance=4,this.tilt=null}get altitude(){return this.mode===l.Local?null:this._get(\"altitude\")||null}set altitude(t){this.mode!==l.Local?this._set(\"altitude\",t):i.getLogger(this).warn(\"Altitude constraint is ignored in local scenes\")}clampAltitude(t){return this.altitude?o(t,this.altitude.min,this.altitude.max):t}clampTilt(t,e){if(!this.tilt)return e;const i=this.tilt(t);return o(e,i.min,i.max)}clampDistance(t){return Math.min(t,this.distance)}createDefaultTilt(){return this.mode===l.Local?this._createDefaultTiltLocal():this._createDefaultTiltGlobal()}createConstantMaxTilt(t){return(e,i=h)=>(i.min=d.min,i.max=t,i)}_createDefaultTiltLocal(){const t=this.collision.enabled?m([[4e3,d.max],[1e4,r(88)],[6e6,r(88)]]):()=>d.max;return(e,i=h)=>(i.min=d.min,i.max=t(e),i)}_createDefaultTiltGlobal(){const t=this.collision.enabled?m([[4e3,d.max],[5e4,r(88)],[6e6,r(88)],[2e7,d.min]]):m([[3e5,d.max],[3e6,r(88)],[6e6,r(88)],[2e7,d.min]]);return(e,i=h)=>(i.min=d.min,i.max=t(e),i)}};function p(t){return{min:-2e5,max:4*t.radius}}t([s()],c.prototype,\"altitude\",null),t([s({readOnly:!0})],c.prototype,\"collision\",void 0),t([s()],c.prototype,\"distance\",void 0),t([s({readOnly:!0})],c.prototype,\"minimumPoiDistance\",void 0),t([s()],c.prototype,\"tilt\",void 0),t([s({constructOnly:!0})],c.prototype,\"mode\",void 0),c=t([a(\"esri.views.3d.state.Constraints\")],c);const u=p(n),d={min:r(.5),max:r(179.5)},h={min:0,max:0};let f=class extends e{constructor(){super(...arguments),this.enabled=!0,this.elevationMargin=5}};t([s({type:Boolean})],f.prototype,\"enabled\",void 0),t([s({type:Number})],f.prototype,\"elevationMargin\",void 0),f=t([a(\"esri.views.3d.state.Constraints.CollisionConstraint\")],f);export{c as Constraints,d as TiltRange,u as earthAltitudeConstraint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{Clonable as r}from\"../../../core/Clonable.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import{earthAltitudeConstraint as e}from\"../state/Constraints.js\";let i=class extends r{constructor(){super(...arguments),this.min=e.min,this.max=e.max}};o([s({type:Number})],i.prototype,\"min\",void 0),o([s({type:Number})],i.prototype,\"max\",void 0),i=o([t(\"esri.views.3d.constraints.AltitudeConstraint\")],i);export{i as AltitudeConstraint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{Clonable as r}from\"../../../core/Clonable.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../../core/accessorSupport/decorators/cast.js\";import\"../../../core/RandomLCG.js\";import\"../../../core/has.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";let o=class extends r{constructor(){super(...arguments),this.mode=\"auto\"}get near(){return this._get(\"near\")}set near(t){this._set(\"near\",t),t>=this._get(\"far\")&&(this.far=t+1e-9),this.mode=\"manual\"}castNear(t){return Math.max(1e-8,t)}get far(){return this._get(\"far\")}set far(t){this._set(\"far\",t),t<=this._get(\"near\")&&(this.near=t-1e-9),this.mode=\"manual\"}castFar(t){return Math.max(1e-8,t)}autoUpdate(t,r){\"auto\"===this.mode&&(this._get(\"near\")!==t&&this._set(\"near\",t),this._get(\"far\")!==r&&this._set(\"far\",r))}};t([e({type:Number,value:1e-8})],o.prototype,\"near\",null),t([s(\"near\")],o.prototype,\"castNear\",null),t([e({type:Number,value:1e-8})],o.prototype,\"far\",null),t([s(\"far\")],o.prototype,\"castFar\",null),t([e({type:[\"auto\",\"manual\"]})],o.prototype,\"mode\",void 0),o=t([a(\"esri.views.3d.constraints.ClipDistanceConstraint\")],o);export{o as ClipDistanceConstraint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{Clonable as o}from\"../../../core/Clonable.js\";import{rad2deg as s,clamp as r}from\"../../../core/mathUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import{cast as e}from\"../../../core/accessorSupport/decorators/cast.js\";import\"../../../core/RandomLCG.js\";import\"../../../core/has.js\";import{subclass as m}from\"../../../core/accessorSupport/decorators/subclass.js\";import{TiltRange as i}from\"../state/Constraints.js\";const p={min:s(i.min),max:s(i.max)};let c=class extends o{constructor(t){super(t),this.mode=\"auto\"}get max(){return this._get(\"max\")}set max(t){this._set(\"max\",t),this.mode=\"manual\"}castMax(t){return r(t,p.min,p.max)}autoUpdate(t){\"auto\"===this.mode&&this._get(\"max\")!==t&&this._set(\"max\",t)}};t([a({type:[\"auto\",\"manual\"]})],c.prototype,\"mode\",void 0),t([a({type:Number,value:p.max})],c.prototype,\"max\",null),t([e(\"max\")],c.prototype,\"castMax\",null),c=t([m(\"esri.views.3d.constraints.TiltConstraint\")],c);export{c as TiltConstraint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{Clonable as o}from\"../../../core/Clonable.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AltitudeConstraint as e}from\"./AltitudeConstraint.js\";import{ClipDistanceConstraint as i}from\"./ClipDistanceConstraint.js\";import{TiltConstraint as p}from\"./TiltConstraint.js\";let c=class extends o{constructor(){super(...arguments),this.tilt=new p,this.altitude=new e,this.clipDistance=new i}};t([r({type:p})],c.prototype,\"tilt\",void 0),t([r({type:e})],c.prototype,\"altitude\",void 0),t([r({type:i})],c.prototype,\"clipDistance\",void 0),c=t([s(\"esri.views.3d.constraints.Constraints\")],c);export{c as Constraints};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Evented.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../webscene/SunLighting.js\";var s;let a=s=class extends(t.EventedMixin(n)){constructor(e){super(e),this.cameraTrackingEnabled=!0,this.positionTimezoneInfo={hours:0,minutes:0,seconds:0,autoUpdated:!0};const t=(new Date).getFullYear(),o=new Date(\"March 15, \"+t+\" 12:00:00 UTC\");this._set(\"defaultDate\",o),this._set(\"date\",o)}get defaultDate(){return new Date(this._get(\"defaultDate\").getTime())}static fromWebsceneLighting(e){return new s(e.cloneConstructProperties())}set defaultDate(e){const t=this._get(\"date\")===this._get(\"defaultDate\");e=new Date(e.getTime()),this._set(\"defaultDate\",e),t&&this._set(\"date\",e)}set date(e){null!=e&&(this.positionTimezoneInfo.autoUpdated=!1,this._set(\"date\",new Date(e.getTime())))}autoUpdate(e,t){const o=s.calculateTimezoneOffset(this.positionTimezoneInfo);this.positionTimezoneInfo.hours=t.hours,this.positionTimezoneInfo.minutes=t.minutes,this.positionTimezoneInfo.seconds=t.seconds;let i=null;null!=e&&(this.positionTimezoneInfo.autoUpdated=!0,isNaN(e.getTime())?(i=this.defaultDate.getTime(),this._set(\"date\",this.defaultDate)):(i=this.date&&this.date.getTime(),this._set(\"date\",new Date(e.getTime()))));const n=s.calculateTimezoneOffset(this.positionTimezoneInfo);if(o!==n&&(r.target=this,r.timezoneOffset=n,this.emit(\"timezone-will-change\",r),r.target=null),null!=e)return isNaN(e.getTime())||i!==e.getTime()}clone(){const e=this._get(\"date\")===this._get(\"defaultDate\"),t=new s({...this.cloneConstructProperties(),defaultDate:this.defaultDate,cameraTrackingEnabled:this.cameraTrackingEnabled});return e&&t._set(\"date\",t._get(\"defaultDate\")),t.positionTimezoneInfo.autoUpdated=this.positionTimezoneInfo.autoUpdated,t.positionTimezoneInfo.hours=this.positionTimezoneInfo.hours,t.positionTimezoneInfo.minutes=this.positionTimezoneInfo.minutes,t.positionTimezoneInfo.seconds=this.positionTimezoneInfo.seconds,t}cloneWithWebsceneLighting(e){const t=this.clone();return null!=e.date&&(t.date=e.date),t.directShadowsEnabled=e.directShadowsEnabled,t.displayUTCOffset=e.displayUTCOffset,t}cloneNonPersistentConstructProperties(){return{cameraTrackingEnabled:this.cameraTrackingEnabled}}};e([o({type:Boolean})],a.prototype,\"cameraTrackingEnabled\",void 0),e([o({type:Date})],a.prototype,\"defaultDate\",null),e([o({type:Date})],a.prototype,\"date\",null),a=s=e([i(\"esri.views.3d.environment.SunLighting\")],a),function(e){function t({hours:e,minutes:t,seconds:o}){return Math.round(e+t/60+o/3600)}e.calculateTimezoneOffset=t}(a||(a={}));const r={target:null,timezoneOffset:0},d=a;export{d as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Evented.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../webscene/VirtualLighting.js\";var s;let c=s=class extends(r.EventedMixin(n)){constructor(e){super(e),this.cameraTrackingEnabled=!0}clone(){return new s({...this.cloneConstructProperties(),cameraTrackingEnabled:this.cameraTrackingEnabled})}static fromWebsceneLighting(e){return new s(e.cloneConstructProperties())}cloneWithWebsceneLighting(e){const r=this.clone();return r.directShadowsEnabled=e.directShadowsEnabled,r}cloneNonPersistentConstructProperties(){return{cameraTrackingEnabled:this.cameraTrackingEnabled}}};e([t({type:Boolean})],c.prototype,\"cameraTrackingEnabled\",void 0),c=s=e([o(\"esri.views.3d.environment.VirtualLighting\")],c);const a=c;export{a as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"./SunLighting.js\";import e from\"./VirtualLighting.js\";const i={key:\"type\",defaultKeyValue:\"sun\",base:null,typeMap:{sun:t,virtual:e}};export{i as lightingTypes};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var t;let i=t=class extends r{set quality(o){[\"low\",\"high\"].includes(o)&&this._set(\"quality\",o)}clone(){return new t({quality:this.quality})}};o([e({type:[\"low\",\"high\"],value:\"low\"})],i.prototype,\"quality\",null),i=t=o([s(\"esri.views.3d.environment.SceneViewAtmosphere\")],i);export{i as SceneViewAtmosphere};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{neverReached as i}from\"../../../core/compilerUtils.js\";import{destroyHandle as e}from\"../../../core/handleUtils.js\";import{clone as n}from\"../../../core/lang.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../../core/accessorSupport/decorators/cast.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{ensureOneOfType as g}from\"../../../core/accessorSupport/ensureType.js\";import{lightingTypes as h}from\"./lightingUtils.js\";import{SceneViewAtmosphere as l}from\"./SceneViewAtmosphere.js\";import c from\"./SunLighting.js\";import a from\"./VirtualLighting.js\";import p from\"../../../webscene/Environment.js\";import m from\"../../../webscene/SunLighting.js\";import u from\"../../../webscene/VirtualLighting.js\";var b;let d=b=class extends p{constructor(t){super(t),this.atmosphere=new l,this.lighting=this.castLighting(),this.cachedCameraTrackingEnabled=null}destroy(){this.atmosphere.destroy()}static fromWebsceneEnvironment(t){const i=t.cloneConstructProperties();return new b({...i,lighting:i.lighting?\"virtual\"===i.lighting.type?a.fromWebsceneLighting(i.lighting):c.fromWebsceneLighting(i.lighting):void 0})}castLighting(t){return this._convertLightingWithDestroy(t)}applyLighting(t){this.lighting=this._convertLightingWithDestroy(t)}_convertLightingWithDestroy(t){const i=this._convertLighting(t);return i!==t&&this.addHandles(e(i)),i}_convertLighting(t){return t?t instanceof c||t instanceof a?t:t instanceof m?this.lighting&&\"virtual\"!==this.lighting.type?this.lighting.cloneWithWebsceneLighting(t):new c({...t.cloneConstructProperties(),...this.lighting?.cloneNonPersistentConstructProperties()}):t instanceof u?this.lighting&&\"virtual\"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(t):new a({...t.cloneConstructProperties(),...this.lighting?.cloneNonPersistentConstructProperties()}):g(h,t):new c}clone(){return new b({lighting:this.lighting.clone(),atmosphere:this.atmosphere.clone(),weather:this.weather.clone(),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled,background:n(this.background)})}cloneWithWebsceneEnvironment(t){return new b({atmosphere:this.atmosphere.clone(),weather:this.weather.clone(),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled,background:n(this.background),...t.cloneConstructProperties(),lighting:this._getLighting(t)})}_getLighting(t){switch(t.lighting.type){case\"sun\":return this.lighting&&\"sun\"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(t.lighting):c.fromWebsceneLighting(t.lighting);case\"virtual\":return this.lighting&&\"virtual\"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(t.lighting):a.fromWebsceneLighting(t.lighting);default:return i(t.lighting),c.fromWebsceneLighting(t.lighting)}}};t([r({type:l,json:{read:!1},nonNullable:!0})],d.prototype,\"atmosphere\",void 0),t([r({nonNullable:!0})],d.prototype,\"lighting\",void 0),t([s(\"lighting\")],d.prototype,\"castLighting\",null),d=b=t([o(\"esri.views.3d.environment.SceneViewEnvironment\")],d);const f=d;export{f as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar a;!function(a){a[a.Realistic=0]=\"Realistic\",a[a.Local=1]=\"Local\",a[a.Mars=2]=\"Mars\",a[a.None=3]=\"None\"}(a||(a={}));export{a as AtmosphereType};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{create as r}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as i}from\"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{C as t}from\"../../../chunks/ChapmanAtmosphere.glsl.js\";import{NoParameters as o}from\"../webgl-engine/core/shaderModules/interfaces.js\";import{ReloadableShaderModule as s}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as n}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{Default3D as a}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as l}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as c,CompareFunction as m}from\"../../webgl/enums.js\";import{makePipelineState as h,simpleBlendingParams as g,defaultColorWriteParams as d,separateBlendingParams as f}from\"../../webgl/renderState.js\";class u extends o{constructor(){super(...arguments),this.heightParameters=i(),this.radii=e(),this.innerFadeDistance=0,this.altitudeFade=0,this.hazeStrength=1,this.renderScale=e(),this.backgroundColor=r()}}class p extends n{initializeProgram(e){return new l(e.rctx,p.shader.get().build(this.configuration),a)}initializePipeline(){return this.configuration.reduced?h({blending:g(c.ONE,c.ZERO),depthTest:{func:m.ALWAYS},colorWrite:d}):this.configuration.haze?h({blending:f(c.ONE,c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ONE),colorWrite:d}):h({blending:g(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA),depthTest:{func:m.LEQUAL},colorWrite:d})}}p.shader=new s(t,(()=>import(\"./ChapmanAtmosphere.glsl.js\")));export{u as ChapmanAtmospherePassParameters,p as ChapmanAtmosphereTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{ShaderTechniqueConfiguration as o,parameter as r}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";class s extends o{constructor(){super(...arguments),this.haze=!1,this.reduced=!1}}e([r()],s.prototype,\"haze\",void 0),e([r()],s.prototype,\"reduced\",void 0);export{s as ChapmanAtmosphereTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../lib/Program.js\";import{a as t}from\"../../../../chunks/AtmosphereCompositing.glsl.js\";import{BlendFactor as s,CompareFunction as n}from\"../../../webgl/enums.js\";import{makePipelineState as m,separateBlendingParams as a,defaultColorWriteParams as l,simpleBlendingParams as h}from\"../../../webgl/renderState.js\";class p extends r{initializeProgram(e){return new o(e.rctx,p.shader.get().build(this.configuration),i)}initializePipeline(){return this.configuration.haze?m({blending:a(s.ONE,s.ZERO,s.ONE_MINUS_SRC_COLOR,s.ONE),depthTest:{func:n.ALWAYS},colorWrite:l}):m({blending:h(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA),depthTest:{func:n.ALWAYS},colorWrite:l})}}p.shader=new e(t,(()=>import(\"./AtmosphereCompositing.glsl.js\")));export{p as AtmosphereCompositingTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{unitRGBAFromColor as e}from\"../../../core/colorUtils.js\";import t from\"../../../core/Handles.js\";import{clamp as s,lerp as i,smoothstep as r}from\"../../../core/mathUtils.js\";import{watch as a,syncAndInitial as o}from\"../../../core/reactiveUtils.js\";import{set as n}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{s as h,l as m,p as d}from\"../../../chunks/vec32.js\";import{s as u}from\"../../../chunks/vec42.js\";import{ZEROS as c}from\"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{earth as p}from\"../../../geometry/support/Ellipsoid.js\";import{AtmosphereType as l}from\"./AtmosphereType.js\";import{atmosphereHeight as _,innerAtmosphereDepth as f,computeInnerAltitudeFade as T}from\"./atmosphereUtils.js\";import{ChapmanAtmospherePassParameters as b,ChapmanAtmosphereTechnique as g}from\"./ChapmanAtmosphereTechnique.js\";import{ChapmanAtmosphereTechniqueConfiguration as v}from\"./ChapmanAtmosphereTechniqueConfiguration.js\";import{ColorFormat as w}from\"../webgl/formats.js\";import{Pos2Tex as x}from\"../webgl-engine/lib/DefaultVertexBufferLayouts.js\";import{createQuadVAO as P}from\"../webgl-engine/lib/glUtil3D.js\";import{applyTextureResizeModulo as q}from\"../webgl-engine/lib/textureUtils.js\";import{A as R}from\"../../../chunks/AtmosphereCompositing.glsl.js\";import{AtmosphereCompositingTechnique as j}from\"../webgl-engine/shaders/AtmosphereCompositingTechnique.js\";import{PrimitiveType as E}from\"../../webgl/enums.js\";import B from\"../../../webscene/background/ColorBackground.js\";class C{constructor(s,i){this._view=s,this._context=i,this.type=l.Realistic,this._handles=new t,this._compositingPassParameters=new R,this._atmosphereConfiguration=new v,this._passParameters=new b,this._rootTileElevationMin=NaN,this._lowerBoundEarthRadius=p.radius,this._fadeHaze=0,this._updateRadius(p.radius);const r=this._context.renderContext.rctx;this._updateRootTileElevationBounds(),this._handles.add([a((()=>this._view?.basemapTerrain?.rootTileElevationBounds),(()=>this._view?.basemapTerrain?this._updateRootTileElevationBounds():null)),a((()=>this._view?.basemapTerrain?.visibleElevationBounds),(()=>this._view?.basemapTerrain?this._updateVisibleElevationBounds():null)),a((()=>this._view?.environment.background),(t=>{const s=t instanceof B?e(t.color):c;h(this._passParameters.backgroundColor,s[0]*s[3],s[1]*s[3],s[2]*s[3])}),o)]);const n=new v;n.haze=!1,this._atmosphereTechnique=this._context.techniqueRepository.acquire(g,n),n.haze=!0,this._atmosphereHazeTechnique=this._context.techniqueRepository.acquire(g,n),n.reduced=!0,n.haze=!1,this._atmosphereReducedTechnique=this._context.techniqueRepository.acquire(g,n),n.haze=!0,this._atmosphereHazeReducedTechnique=this._context.techniqueRepository.acquire(g,n),this._vao=P(r,x)}destroy(){this._handles.destroy(),this._atmosphereTechnique.release(),this._atmosphereHazeTechnique.release(),this._atmosphereReducedTechnique.release(),this._atmosphereHazeReducedTechnique.release(),this._vao.dispose()}render(e,t){this._render(e,t?this._atmosphereTechnique:this._atmosphereReducedTechnique,e.offscreenRenderingHelper.depthTexture,t,!1)}renderHaze(e,t,s){this._fadeHaze=t,this._render(e,s?this._atmosphereHazeTechnique:this._atmosphereHazeReducedTechnique,e.bindParameters.linearDepth?.getTexture(),s,!0)}_render(e,t,s,r,a){if(null==s)return;const o=e.offscreenRenderingHelper;this._update(e.bindParameters.camera),this._passParameters.depthTexture=s;const n=e.rctx.bindTechnique(t,e.bindParameters,this._passParameters);if(r)o.renderDepthDetached((()=>this._renderCommon(n,e)));else{const t=e.rctx.getViewport(),r=m(e.bindParameters.camera.eye)-p.radius;let h;if(r<_){const e=Math.min(1,Math.max(0,r/_));h=a?i(.4,.5,e):i(.2,.3,e)}else{const e=Math.min(1,Math.max(0,(r-_)/(15*_)));h=a?i(.5,1,e):i(.3,.6,e)}const d=q(Math.round(h*e.bindParameters.camera.fullViewport[2])),u=q(Math.round(h*e.bindParameters.camera.fullViewport[3]));e.rctx.setViewport(0,0,d,u);const c=o.renderToCachedFBO(null,\"chapman\",(()=>this._renderCommon(n,e)),[0,0,0,1],w.RGBA,null,d,u);e.rctx.setViewport(t.x,t.y,t.width,t.height),this._compositingPassParameters.color=c.getTexture(),this._compositingPassParameters.depth=s,this._atmosphereConfiguration.haze=a;const l=this._context.techniqueRepository.acquire(j,this._atmosphereConfiguration);e.rctx.bindTechnique(l,e.bindParameters,this._compositingPassParameters),o.renderDepthDetached((()=>e.rctx.screen.draw())),l.release(),c.release()}}_renderCommon(e,t){null!=this._vao&&(t.rctx.bindVAO(this._vao),e.assertCompatibleVertexAttributeLocations(this._vao),t.rctx.drawArrays(E.TRIANGLE_STRIP,0,4))}_updateRootTileElevationBounds(){const e=this._view.basemapTerrain.rootTileElevationBounds.min;e!==this._rootTileElevationMin&&(this._rootTileElevationMin=e,this._lowerBoundEarthRadius=p.radius,this._updateVisibleElevationBounds())}_updateVisibleElevationBounds(){const e=z(p.radius+this._view.basemapTerrain.visibleElevationBounds.min);e<this._lowerBoundEarthRadius&&this._updateRadius(e)}_updateRadius(e){this._lowerBoundEarthRadius=e,n(this._passParameters.radii,e,e+_),this._passParameters.innerFadeDistance=2*Math.sqrt((2*e-f)*f)}_update(e){if(!e)return;const t=d(e.eye),a=Math.sqrt(t),o=t-this._passParameters.radii[1]*this._passParameters.radii[1],n=s((a-this._passParameters.radii[0])/_,0,1);u(this._passParameters.heightParameters,a,t,o,n),this._passParameters.altitudeFade=T(a-this._lowerBoundEarthRadius),this._passParameters.hazeStrength=i(i(.6,1,r(9500,10500,a-p.radius)),1,this._fadeHaze)}static isSupported(e){return e.renderContext.rctx.capabilities.depthTexture}}function z(e){return e*Math.cos(Math.PI/16/16)}export{C as ChapmanAtmosphere};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{C as e}from\"../../../chunks/CloudsComposition.glsl.js\";import{ReloadableShaderModule as r}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as n}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as t}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as s,CompareFunction as l}from\"../../webgl/enums.js\";import{makePipelineState as m,separateBlendingParams as a,defaultColorWriteParams as g}from\"../../webgl/renderState.js\";class u extends i{constructor(e){super(e,new o,(()=>this.destroy()))}initializeProgram(e){return new t(e.rctx,u.shader.get().build(),n)}initializePipeline(){return m({blending:a(s.ONE,s.ZERO,s.SRC_ALPHA,s.ONE),depthTest:{func:l.LEQUAL},colorWrite:g})}}u.shader=new r(e,(()=>import(\"./CloudsComposition.glsl.js\")));export{u as CloudsCompositionTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{releaseMaybe as t,disposeMaybe as r}from\"../../../core/maybe.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{CloudsCompositionTechnique as n}from\"./CloudsCompositionTechnique.js\";import{NoParameters as c}from\"../webgl-engine/core/shaderModules/interfaces.js\";import{createQuadVAO as p}from\"../webgl-engine/lib/glUtil3D.js\";import{PrimitiveType as a}from\"../../webgl/enums.js\";let m=class extends e{constructor(o){super(o),this._technique=new n(o),this._vao=p(o.rctx)}destroy(){this._technique=t(this._technique),this._vao=r(this._vao)}render(o){if(!this._technique.compiled)return void this.requestRender();const e=o.bindParameters.cloudsFade;if(null==this._vao||null==e.data)return;const t=o.rctx.bindTechnique(this._technique,o.bindParameters,u);o.rctx.bindVAO(this._vao),t.assertCompatibleVertexAttributeLocations(this._vao),o.rctx.drawArrays(a.TRIANGLE_STRIP,0,4)}};o([s({constructOnly:!0})],m.prototype,\"rctx\",void 0),o([s({constructOnly:!0})],m.prototype,\"viewingMode\",void 0),o([s({constructOnly:!0})],m.prototype,\"planetRadius\",void 0),o([s({constructOnly:!0})],m.prototype,\"requestRender\",void 0),m=o([i(\"esri.views.3d.environment.CloudsComposition\")],m);const u=new c;export{m as CloudsComposition};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../chunks/Clouds.glsl.js\";import{CloudsTextureChannels as r}from\"./CloudsData.js\";import{ReloadableShaderModule as i}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{Default3D as o}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as n}from\"../webgl-engine/lib/Program.js\";import{BlendOperation as s,BlendFactor as l,CompareFunction as a}from\"../../webgl/enums.js\";import{makePipelineState as m,simpleBlendingParams as u,defaultColorWriteParams as g}from\"../../webgl/renderState.js\";class d extends t{constructor(e,r){super(e,r,(()=>this.destroy()))}initializeProgram(e){return new n(e.rctx,d.shader.get().build(this.configuration),o)}initializePipeline(){return m({blending:u(l.CONSTANT_COLOR,l.ONE_MINUS_CONSTANT_COLOR,s.ADD,this.configuration.writeTextureChannels===r.RG?[1,1,0,0]:[0,0,1,1]),depthTest:{func:a.LEQUAL},colorWrite:g})}}d.shader=new i(e,(()=>import(\"./Clouds.glsl.js\")));export{d as CloudsTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../chunks/NoiseTextureAtlas.glsl.js\";import{NoiseTextureRenderMode as r}from\"./NoiseTextureAtlasConfiguration.js\";import{ReloadableShaderModule as i}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{Default3D as o}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as n}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as s,CompareFunction as l}from\"../../webgl/enums.js\";import{makePipelineState as a,simpleBlendingParams as m,separateBlendingParams as g,defaultColorWriteParams as u}from\"../../webgl/renderState.js\";class d extends t{initializeProgram(e){return new n(e.rctx,d.shader.get().build(this.configuration),o)}initializePipeline(){return a({blending:this.configuration.mode===r.Full?m(s.ONE,s.ZERO):g(s.ZERO,s.ONE,s.ONE,s.ZERO),depthTest:{func:l.ALWAYS},colorWrite:u})}}d.shader=new i(e,(()=>import(\"./NoiseTextureAtlas.glsl.js\")));export{d as NoiseTextureAtlasTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{releaseMaybe as r,disposeMaybe as s}from\"../../../core/maybe.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{copy as h}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{N as n}from\"../../../chunks/NoiseTextureAtlas.glsl.js\";import{NoiseTextureRenderMode as a,NoiseTextureAtlasTechniqueConfiguration as c}from\"./NoiseTextureAtlasConfiguration.js\";import{atlasSize as u}from\"./NoiseTextureAtlasDimensions.js\";import{NoiseTextureAtlasTechnique as l}from\"./NoiseTextureAtlasTechnique.js\";import{createQuadVAO as p}from\"../webgl-engine/lib/glUtil3D.js\";import{FramebufferObject as _}from\"../../webgl/FramebufferObject.js\";import{TextureDescriptor as m}from\"../../webgl/TextureDescriptor.js\";let d=class extends t{constructor(e){super(e),this._needsRender=!0,this._passParameters=new n,this._fbo=new _(e.context.renderContext.rctx,new m(u)),this._vao=p(e.context.renderContext.rctx)}get _techniqueRepository(){return this.context.techniqueRepository}get textureAtlas(){return null!=this._texture?null!=this._weatherMapTechnique&&this._weatherMapTechnique.compiled&&this._needsRender&&(this._texture=this._render(a.WeatherMap)):null!=this._fullTechnique&&this._fullTechnique.compiled&&(this._texture=this._render(a.Full)),this._texture}_setDirty(){this._needsRender=!0}updateWeatherMap(e){this._passParameters.weatherTile[0]===e[0]&&this._passParameters.weatherTile[1]===e[1]||(h(this._passParameters.weatherTile,e),this._setDirty())}destroy(){this._fullTechniqueCached=r(this._fullTechniqueCached),this._weatherMapTechniqueCached=r(this._weatherMapTechniqueCached),this._fbo=s(this._fbo),this._vao=s(this._vao)}get _fullTechnique(){if(null==this._fullTechniqueCached){const e=new c;e.mode=a.Full,this._fullTechniqueCached=this._techniqueRepository.acquire(l,e)}return this._fullTechniqueCached}get _weatherMapTechnique(){if(null==this._weatherMapTechniqueCached){const e=new c;e.mode=a.WeatherMap,this._weatherMapTechniqueCached=this._techniqueRepository.acquire(l,e)}return this._weatherMapTechniqueCached}_render(e){if(null==this._vao||null==this._fbo)return null;const t=e===a.Full?this._fullTechnique:this._weatherMapTechnique,r=this.context.renderContext.rctx,s=r.getViewport();r.setViewport(0,0,u,u),r.bindFramebuffer(this._fbo);const i=r.bindTechnique(t,null,this._passParameters);return r.bindVAO(this._vao),i.assertCompatibleVertexAttributeLocations(this._vao),r.gl.drawArrays(r.gl.TRIANGLE_STRIP,0,4),r.setViewport(s.x,s.y,s.width,s.height),this._needsRender=!1,this._fbo.colorTexture}};e([i({constructOnly:!0})],d.prototype,\"context\",void 0),e([i({readOnly:!0})],d.prototype,\"_techniqueRepository\",null),d=e([o(\"esri.views.3d.environment.NoiseTextureAtlas\")],d);export{d as NoiseTextureAtlas};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{lerp as s}from\"../../../core/mathUtils.js\";import{releaseMaybe as i,disposeMaybe as r,destroyMaybe as o}from\"../../../core/maybe.js\";import{watch as a,initial as n}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{fromMat4 as l}from\"../../../core/libs/gl-matrix-2/math/mat3.js\";import{targetTo as d}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as c}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as m,equals as p,copy as f}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as _}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{fromValues as g,zeros as x}from\"../../../core/libs/gl-matrix-2/factories/vec3f32.js\";import{getReferenceEllipsoid as T}from\"../../../geometry/ellipsoidUtils.js\";import{C as w}from\"../../../chunks/Clouds.glsl.js\";import{CloudsTextureChannels as C,CloudsRenderingStages as v}from\"./CloudsData.js\";import{FadeMode as y}from\"./CloudsParameters.js\";import{cloudPresets as b}from\"./CloudsPresets.js\";import{CloudsTechnique as P}from\"./CloudsTechnique.js\";import{CloudsTechniqueConfiguration as S,RayMarchingSteps as j}from\"./CloudsTechniqueConfiguration.js\";import{NoiseTextureAtlas as I}from\"./NoiseTextureAtlas.js\";import{BindParameters as M}from\"../webgl-engine/lib/BindParameters.js\";import{createQuadVAO as z}from\"../webgl-engine/lib/glUtil3D.js\";import{TaskPriority as E}from\"../../support/Scheduler.js\";import{Yield as q}from\"../../support/Yield.js\";import{TextureType as D,TextureWrapMode as U}from\"../../webgl/enums.js\";import{FramebufferObject as R}from\"../../webgl/FramebufferObject.js\";import{TextureDescriptor as F}from\"../../webgl/TextureDescriptor.js\";let A=class extends t{constructor(e){super(e),this._techniques=new Array,this._techniqueConfiguration=new S,this._bindParameters=new M(null,null),this._passParameters=new w,this._weatherTile=_(),this._weatherTileCount=128,this._faceIndex=0,this._tileIndex=0,this.coverage=s(b.default.coverage[0],b.default.coverage[1],.5),this.density=s(b.default.density[0],b.default.density[1],.5),this.absorption=s(b.default.absorption[0],b.default.absorption[1],.5),this.cloudSize=s(b.default.cloudSize[0],b.default.cloudSize[1],.5),this.detailSize=s(b.default.detailSize[0],b.default.detailSize[1],.5),this.smoothness=s(b.default.smoothness[0],b.default.smoothness[1],.5),this.cloudHeight=s(b.default.cloudHeight[0],b.default.cloudHeight[1],.5),this.raymarchingSteps=b.default.raymarchingSteps,this._viewMatrix=c(),this._dirty=!1,this.running=!1,this._vao=z(e.context.renderContext.rctx)}_getTechnique(e){const t=1-this.context.renderContext.bindParameters.cloudsFade.readChannels,s=t===C.RG?2*e:2*e+1,i=this._techniques[s];return i||(this._techniqueConfiguration.writeTextureChannels=t,this._techniqueConfiguration.steps=e,this._techniques[s]=new P({rctx:this.context.renderContext.rctx,viewingMode:this.view.state.viewingMode},this._techniqueConfiguration),this._techniques[s])}updateWeatherTile(){const e=this.view.camera.position.latitude,t=this.view.camera.position.longitude;if(null==e||null==t)return;m(this._weatherTile,(e+90)/180,(t+180)/360);const s=Math.floor(this._weatherTileCount*Math.abs(2*this._weatherTile[0]-1));this._weatherTile[0]=Math.floor(2*this._weatherTileCount*this._weatherTile[0]),this._weatherTile[1]=Math.floor(4*(this._weatherTileCount-s)*this._weatherTile[1]);let i=0,r=0;if(null!=this.view.environment&&\"virtual\"!==this.view.environment.lighting.type&&null!=this.view.environment.lighting.date){const e=new Date(this.view.environment.lighting.date);e.setUTCHours(this.view.environment.lighting.date.getUTCHours()+(this.view.environment.lighting.displayUTCOffset??0)),i=31*e.getUTCMonth()+e.getUTCDate(),r=e.getUTCFullYear()}this._weatherTile[0]=(this._weatherTile[0]+i)%(2*this._weatherTileCount),this._weatherTile[1]=(this._weatherTile[1]+r%100)%(4*this._weatherTileCount),p(this._passParameters.weatherTile,this._weatherTile)||this.setDirty()}initialize(){const e=T(this.view.spatialReference);this._passParameters.cloudRadius=.5*e.radius,this.setDirty(),this.updateWeatherTile(),this.addHandles([this.view.resourceController.scheduler.registerTask(E.CLOUDS_GENERATOR,this),a((()=>[this.coverage,this.density,this.absorption,this.cloudSize,this.detailSize,this.smoothness,this.cloudHeight,this.raymarchingSteps]),(()=>this.setDirty()),n)])}destroy(){this._techniques.forEach((e=>i(e))),this._frameBufferCube=r(this._frameBufferCube),this._techniques.length=0,this._vao.dispose(),this._passParameters.noiseTexture=o(this._passParameters.noiseTexture)}get _tilesPerFace(){switch(this._techniqueConfiguration.steps){case j.SIXTEEN:return 1;case j.HUNDRED:return 4;case j.COUNT:case j.TWOHUNDRED:return 8}}get usedMemory(){return(this._frameBufferCube?.usedMemory??0)+(this._passParameters.noiseTexture?.textureAtlas?.usedMemory??0)}_ensureNoiseTexture(){if(null!=this._passParameters.noiseTexture)this._passParameters.noiseTexture.updateWeatherMap(this._passParameters.weatherTile);else{const e=this.context;this._passParameters.noiseTexture=new I({context:e}),this._passParameters.noiseTexture.updateWeatherMap(this._passParameters.weatherTile)}return null!=this._passParameters.noiseTexture.textureAtlas}_ensureFrameBufferCube(e){if(null==this._frameBufferCube){const t=new F(e);t.target=D.TEXTURE_CUBE_MAP,t.wrapMode=U.CLAMP_TO_EDGE,this._frameBufferCube=new R(this.context.renderContext.rctx,t)}return this._frameBufferCube}get cubeMap(){return this._frameBufferCube}destroyFrameBufferCube(){this._frameBufferCube=r(this._frameBufferCube)}applyPreset(e,t){const i=e.median,r=e=>{const r=s(e[0],e[1],i);return t<.5?s(e[0],r,2*t):s(r,e[1],2*(t-.5))};this.coverage=r(e.coverage),this.density=r(e.density),this.absorption=r(e.absorption),this.cloudSize=r(e.cloudSize),this.detailSize=r(e.detailSize),this.smoothness=r(e.smoothness),this.cloudHeight=r(e.cloudHeight),this.raymarchingSteps=e.raymarchingSteps}setDirty(){this._dirty=this.running=!0}runTask(e){0===this._faceIndex&&0===this._tileIndex&&(this._passParameters.raymarchingSteps=this.raymarchingSteps,this.updateWeatherTile(),f(this._passParameters.weatherTile,this._weatherTile));const t=this._getTechnique(this._passParameters.raymarchingSteps);if(!t.compiled)return q;if(this.context.renderContext.bindParameters.cloudsFade.fadeMode===y.CROSS_FADE||!this._ensureNoiseTexture())return q;0===this._faceIndex&&0===this._tileIndex&&(this.context.renderContext.bindParameters.cloudsFade.renderingStage=v.RENDERING,this._passParameters.absorption=this.absorption,this._passParameters.density=this.density,this._passParameters.cloudSize=this.cloudSize,this._passParameters.detailSize=this.detailSize,this._passParameters.smoothness=this.smoothness,this._passParameters.cloudHeight=this.cloudHeight,this._passParameters.coverage=this.coverage,this._dirty=!1);const s=B[this._faceIndex],i=H[this._faceIndex];d(this._viewMatrix,O,s,i),l(this._passParameters.viewMatrix,this._viewMatrix);const r=this.context.renderContext.rctx,o=r.bindTechnique(t,this._bindParameters,this._passParameters);r.bindVAO(this._vao),o.assertCompatibleVertexAttributeLocations(this._vao);const a=r.getViewport(),n=t.configuration.cubeMapSize,h=n/this._tilesPerFace,u=this._tileIndex*h;r.setViewport(0,u,n,h);const c=this._ensureFrameBufferCube(n);r.bindFramebuffer(c);const m=D.TEXTURE_CUBE_MAP_POSITIVE_X+this._faceIndex;return c.setColorTextureTarget(m),r.gl.drawArrays(r.gl.TRIANGLE_STRIP,0,4),r.gl.flush(),r.setViewport(a.x,a.y,a.width,a.height),this.requestRender(),++this._tileIndex,4===this._faceIndex&&this._tileIndex===this._tilesPerFace?(this.running=this._dirty,this._faceIndex=0,this._tileIndex=0,this.running||(this.context.renderContext.bindParameters.cloudsFade.renderingStage=v.FADING)):this._tileIndex===this._tilesPerFace&&(++this._faceIndex,this._tileIndex=0),e.madeProgress(),q}};e([h({constructOnly:!0})],A.prototype,\"context\",void 0),e([h({constructOnly:!0})],A.prototype,\"view\",void 0),e([h({constructOnly:!0})],A.prototype,\"requestRender\",void 0),e([h()],A.prototype,\"coverage\",void 0),e([h()],A.prototype,\"density\",void 0),e([h()],A.prototype,\"absorption\",void 0),e([h()],A.prototype,\"cloudSize\",void 0),e([h()],A.prototype,\"detailSize\",void 0),e([h()],A.prototype,\"smoothness\",void 0),e([h()],A.prototype,\"cloudHeight\",void 0),e([h()],A.prototype,\"raymarchingSteps\",void 0),e([h()],A.prototype,\"running\",void 0),A=e([u(\"esri.views.3d.environment.CloudsGenerator\")],A);const B=[g(1,0,0),g(-1,0,0),g(0,1,0),g(0,-1,0),g(0,0,1)],H=[g(0,1,0),g(0,1,0),g(0,0,-1),g(0,0,1),g(0,1,0)],O=x();export{A as CloudsGenerator};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../chunks/Fog.glsl.js\";import{ReloadableShaderModule as r}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as n}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as t}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as s}from\"../../webgl/enums.js\";import{makePipelineState as l,separateBlendingParams as a,defaultColorWriteParams as g}from\"../../webgl/renderState.js\";class m extends i{constructor(e){super(e,new o,(()=>this.destroy()))}initializeProgram(e){return new t(e.rctx,m.shader.get().build(),n)}initializePipeline(){return l({blending:a(s.SRC_ALPHA,s.ZERO,s.ONE_MINUS_SRC_ALPHA,s.ONE),colorWrite:g})}}m.shader=new r(e,(()=>import(\"./Fog.glsl.js\")));export{m as FogTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{smoothstep as s}from\"../../../core/mathUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{n as i,k as a,h as n,m as c,l as m}from\"../../../chunks/vec32.js\";import{create as p}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as h}from\"../../../geometry/ellipsoidUtils.js\";import{atmosphereHeight as u}from\"./atmosphereUtils.js\";import{F as d}from\"../../../chunks/Fog.glsl.js\";import{FogTechnique as l}from\"./FogTechnique.js\";import{weatherHeightLimit as g}from\"./weather.js\";import{Pos2Tex as f}from\"../webgl-engine/lib/DefaultVertexBufferLayouts.js\";import{createQuadVAO as _}from\"../webgl-engine/lib/glUtil3D.js\";import{PrimitiveType as j}from\"../../webgl/enums.js\";const b=.95,x=1;let v=class extends e{constructor(t){super(t),this._passParameters=new d;const e=t.context.renderContext.rctx;this._vao=_(e,f),this._technique=new l(t);const s=h(t.view.spatialReference);this._planetRadius=s.radius,this._atmosphereRadius=s.radius+u}destroy(){this._technique.release(),this._vao.dispose()}set strength(t){this._passParameters.fogStrength=t}get strength(){return this._passParameters.fogStrength}render(t,e){if(this._update(t,e),this._passParameters.fogAmount<=0)return;const s=this._technique;if(!s.compiled)return void this.context.requestRender();const r=t.offscreenRenderingHelper;r.renderDepthDetached((()=>{this._passParameters.depthTexture=r.depthTexture;const e=t.rctx.bindTechnique(s,t.bindParameters,this._passParameters);this._renderFog(e,t)}))}_renderFog(t,e){const s=e.rctx;s.bindVAO(this._vao),t.assertCompatibleVertexAttributeLocations(this._vao),s.drawArrays(j.TRIANGLE_STRIP,0,4)}_update(t,e){const r=t.bindParameters.camera;i(P,r.eye);const o=Math.max(0,a(P,t.bindParameters.lighting.mainLight.direction)),p=e.color;n(w,p,.1),c(this._passParameters.fogColor,w,p,o);const h=m(r.eye),u=h*h;this._passParameters.atmosphereC=u-this._atmosphereRadius*this._atmosphereRadius,this._passParameters.fogAmount=(1-s(b*g,x*g,Math.abs(h-this._planetRadius)))*e.amount,this._passParameters.fogStrength=e.strength}static isSupported(t){return t.capabilities.depthTexture}};t([r({constructOnly:!0})],v.prototype,\"context\",void 0),t([r({constructOnly:!0})],v.prototype,\"view\",void 0),t([r({constructOnly:!0})],v.prototype,\"rctx\",void 0),t([r({constructOnly:!0})],v.prototype,\"viewingMode\",void 0),v=t([o(\"esri.views.3d.environment.Fog\")],v);class y{constructor(){this.color=p(),this.strength=0,this.amount=0}}const P=p(),w=p();export{v as Fog,y as FogParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../chunks/SimpleAtmosphere.glsl.js\";import{SimpleAtmosphereGeometry as r}from\"./SimpleAtmosphereTechniqueConfiguration.js\";import{ReloadableShaderModule as i}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{Default3D as t}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as n}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as l,CompareFunction as s}from\"../../webgl/enums.js\";import{makePipelineState as m,separateBlendingParams as g,backFaceCullingParams as a,defaultColorWriteParams as p}from\"../../webgl/renderState.js\";class h extends o{initializeProgram(e){return new n(e.rctx,h.shader.get().build(this.configuration),t)}initializePipeline(){return this.configuration.geometry===r.Cylinder?m({blending:g(l.SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),culling:a,depthTest:{func:s.LEQUAL},colorWrite:p}):m({blending:g(l.SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),depthTest:{func:s.LEQUAL},colorWrite:p})}}h.shader=new i(e,(()=>import(\"./SimpleAtmosphere.glsl.js\")));export{h as SimpleAtmosphereTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst e=new Uint8ClampedArray([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,6,0,0,0,6,0,0,0,6,0,0,0,6,0,0,0,6,0,0,0,7,0,0,0,7,0,0,0,7,0,0,0,7,0,0,0,7,0,0,0,8,0,0,0,8,0,0,0,8,0,0,0,8,0,0,0,8,0,0,0,9,0,0,0,9,0,0,0,9,0,0,0,9,0,0,0,9,0,0,0,10,0,0,0,10,0,0,0,10,0,0,0,10,0,0,0,11,0,0,0,11,0,0,0,11,0,0,0,11,0,0,0,11,0,0,0,12,0,0,0,12,0,0,0,12,0,0,0,12,0,0,0,13,0,0,0,13,0,0,0,13,0,0,0,13,0,0,0,14,0,0,0,14,0,0,0,14,0,0,0,14,0,0,0,15,0,0,0,15,0,0,0,15,0,0,0,15,0,0,0,15,16,0,0,16,16,0,0,16,16,0,0,16,16,0,0,16,15,0,0,17,15,0,0,17,15,0,0,17,15,0,0,17,14,0,0,18,14,0,0,18,14,0,0,18,13,0,0,19,13,0,0,19,13,0,0,19,13,0,0,19,13,0,0,20,13,0,0,20,13,0,0,20,13,0,0,20,12,0,0,21,12,0,0,21,12,0,0,21,12,0,0,21,12,0,0,22,12,0,0,22,12,0,0,22,12,0,0,22,11,0,0,23,11,0,0,23,11,0,0,23,11,0,0,24,11,0,0,24,11,0,0,24,11,0,0,24,10,0,0,25,10,0,0,25,10,0,0,25,10,0,0,26,10,0,0,26,10,0,0,26,10,0,0,26,9,0,0,27,9,0,0,27,9,0,0,27,18,0,0,28,18,0,0,28,18,0,0,28,18,0,0,28,18,0,0,29,18,0,0,29,18,0,0,29,17,0,0,30,17,0,0,30,17,0,0,30,17,0,0,30,16,0,0,31,16,0,0,31,16,0,0,31,16,0,0,32,16,0,0,32,16,0,0,32,15,0,0,33,15,0,0,33,15,0,0,33,15,0,0,34,15,8,0,34,15,8,0,34,15,8,0,34,15,7,0,35,15,7,0,35,15,7,0,35,21,7,0,36,21,7,0,36,21,7,0,36,21,7,0,37,21,7,0,37,21,7,0,37,20,7,0,38,20,7,0,38,20,7,0,38,20,7,0,39,20,7,0,39,20,7,0,39,20,7,0,39,19,6,0,40,19,6,0,40,19,6,0,40,19,6,0,41,19,6,0,41,19,6,0,41,18,6,0,42,18,6,0,42,18,6,0,42,24,6,0,43,24,6,0,43,24,6,0,43,23,6,0,44,23,6,0,44,23,6,0,44,23,6,0,45,23,6,0,45,23,6,0,45,22,6,0,46,22,6,0,46,22,6,0,46,22,5,0,47,22,5,0,47,22,5,0,47,21,5,0,48,21,5,0,48,21,5,0,48,21,5,0,49,21,5,0,49,26,5,0,49,25,5,0,50,25,5,0,50,25,5,0,50,25,5,0,51,25,5,0,51,25,5,0,51,25,5,0,52,25,5,0,52,25,5,0,52,24,5,0,53,24,5,0,53,24,5,0,53,24,9,0,54,28,9,0,54,28,9,0,54,28,9,0,55,28,9,0,55,27,9,0,56,27,9,0,56,27,9,0,56,27,9,4,57,27,9,4,57,27,9,4,57,26,9,4,58,26,9,4,58,26,9,4,58,26,9,4,59,26,9,4,59,26,9,4,59,26,8,4,60,30,8,4,60,30,8,4,60,29,8,4,61,29,8,4,61,29,8,4,62,29,8,4,62,29,8,4,62,28,8,4,63,28,8,4,63,28,8,4,63,28,12,4,64,28,12,4,64,28,12,4,64,27,12,4,65,27,12,8,65,27,12,8,65,31,12,8,66,31,12,8,66,30,11,8,67,30,11,8,67,30,11,8,67,30,11,8,68,30,11,8,68,30,11,8,68,30,15,7,69,30,15,7,69,30,15,7,69,33,15,11,70,33,15,11,70,32,14,11,71,32,14,11,71,32,14,11,71,32,18,14,72,32,18,14,72,32,18,14,72,31,17,14,73,35,17,14,73,34,17,17,74,34,21,17,74,34,21,17,74,34,20,17,75,34,20,20,75,34,20,20,75,34,23,20,76,34,23,20,76,36,23,23,77,36,23,23,77,36,23,23,77,36,23,23,78,36,26,26,78,36,26,26,78,36,26,26,79,36,26,29,79,38,26,29,80,38,29,29,80,38,29,29,80,38,28,31,81,38,28,31,81,38,31,31,81,37,31,34,82,37,31,34,82,37,31,37,83,40,34,37,83,40,34,37,83,39,33,39,84,39,33,39,84,39,36,42,84,39,36,42,85,39,36,42,85,39,36,42,85,39,39,44,86,39,39,44,86,41,38,47,87,41,41,47,87,41,41,50,87,41,41,49,88,41,41,52,88,40,43,52,89,43,43,52,89,43,43,54,89,42,45,54,90,42,45,57,90,42,45,57,90,42,45,59,91,42,48,59,91,44,47,61,92,44,47,61,92,44,50,61,92,44,49,63,93,44,49,63,93,44,52,66,93,43,52,65,94,46,54,68,94,46,54,70,95,46,54,70,95,46,54,70,95,45,56,72,96,45,56,72,96,45,58,74,97,47,58,76,97,47,58,76,97,47,60,78,98,47,60,78,98,47,60,81,98,49,62,80,99,49,62,82,99,48,61,84,100,48,64,84,100,48,64,84,100,50,63,86,101,50,66,86,101,50,66,88,101,50,65,90,102,52,67,89,103,51,69,91,104,51,68,92,105,52,69,93,107,52,71,94,108,54,70,96,109,53,71,96,111,52,73,98,112,54,72,98,114,53,73,100,115,54,72,100,117,54,73,102,118,55,74,104,120,55,76,105,121,56,77,106,123,56,76,107,124,57,79,107,126,58,78,110,128,57,79,111,129,56,80,113,131,58,79,112,132,57,82,114,134,58,81,116,136,60,82,117,137,59,83,117,139,60,83,119,141,59,84,120,142,60,85,122,144,59,86,122,146,60,86,126,148,62,87,127,149,61,88,127,151,62,88,128,153,63,89,130,155,62,90,131,156,63,90,132,158,64,91,134,160,65,91,135,162,64,92,136,163,63,93,138,165,66,95,139,167,65,95,140,169,66,95,142,171,67,96,142,172,66,97,144,174,67,99,145,176,67,97,148,178,67,99,147,180,68,100,149,181,68,100,150,183,69,101,152,185,70,102,153,187,71,103,155,188,70,103,156,190,70,104,157,192,71,105,158,194,71,106,160,195,72,106,161,197,72,108,161,199,73,108,163,200,73,109,164,202,74,109,165,204,74,110,167,206,75,111,168,207,74,112,170,209,75,112,170,210,76,113,171,212,76,114,173,214,77,115,174,215,78,115,175,217,78,116,175,218,78,117,177,220,78,118,178,221,79,118,180,223,80,120,180,224,81,120,181,226,81,120,182,227,82,121,184,229,82,122,185,230,84,123,186,232,83,123,187,233,84,124,189,234,84,125,188,235,85,126,189,237,86,126,190,238,86,127,191,239,87,127,192,240,87,129,193,242,88,129,194,243,89,130,195,244,90,131,196,245,90,132,197,246,91,132,197,247,92,133,198,248,92,134,199,249,93,135,200,250,94,136,201,251,95,137,202,252,96,138,203,253,97,140,204,254,98,141,205,254,99,142,206,255,101,143,207,255,102,144,208,255,103,146,209,255,104,147,209,255,106,148,210,255,107,149,211,255,108,151,212,255,110,152,213,255,111,153,213,255,112,154,214,255,114,156,215,255,115,157,215,255,117,158,216,255,118,160,217,255,120,161,217,255,121,162,218,255,123,164,218,255,124,165,219,255,125,166,219,255,127,167,220,255,129,169,220,255,130,170,221,255,132,171,221,255,133,173,222,255,134,174,222,255,136,175,223,255,139,178,224,255,142,180,224,255,144,182,225,255,147,185,226,255,150,187,226,255,153,189,227,255,155,191,228,255,158,194,228,255,160,196,229,255,163,198,229,255,165,200,230,255,168,202,231,255,170,203,231,255,172,205,232,255,174,207,232,255,176,209,233,255,178,210,234,255,180,212,234,255,182,214,235,255,184,215,236,255,186,217,237,255,188,219,238,255,190,220,238,255,192,221,239,255,193,222,240,255,194,224,240,255,196,225,241,255,197,226,241,255,198,226,242,255,199,227,242,255,200,228,242,255,201,228,243,255,202,229,243,255,203,230,243,255,204,230,244,255,205,231,244,255,207,232,244,255,208,233,245,255,209,233,245,255,211,234,246,255,213,235,246,255,217,238,247,255,222,240,248,255,226,242,249,255,231,245,250,255,236,247,251,255,241,249,252,255,245,251,253,255,249,252,254,255,255,255,255,255]);export{e as earthAtmosphereTextureSimple};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e}from\"../../../core/maybe.js\";import{copy as t}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as r}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{AtmosphereType as i}from\"./AtmosphereType.js\";import{S as o}from\"../../../chunks/SimpleAtmosphere.glsl.js\";import{SimpleAtmosphereTechnique as s}from\"./SimpleAtmosphereTechnique.js\";import{SimpleAtmosphereTechniqueConfiguration as m,SimpleAtmosphereGeometry as a}from\"./SimpleAtmosphereTechniqueConfiguration.js\";import{earthAtmosphereTextureSimple as n}from\"./resources/SimpleAtmosphereTexture.js\";import{glLayout as p}from\"../support/buffer/glUtil.js\";import{newLayout as f}from\"../support/buffer/InterleavedLayout.js\";import{Default3D as c}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{createPolySphereData as u}from\"../webgl-engine/lib/GeometryUtil.js\";import{VertexArrayObject as h}from\"../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as l}from\"../webgl-engine/lib/VertexAttribute.js\";import{BufferObject as b}from\"../../webgl/BufferObject.js\";import{TextureWrapMode as g,PrimitiveType as j,Usage as _}from\"../../webgl/enums.js\";import{Texture as x}from\"../../webgl/Texture.js\";import{TextureDescriptor as w}from\"../../webgl/TextureDescriptor.js\";import{vertexCount as d}from\"../../webgl/Util.js\";class A{constructor(e,t){this.type=i.Local,this._configuration=new m,this._passParameters=new o,this._configuration.geometry=a.Cylinder,this._technique=t.techniqueRepository.acquire(s,this._configuration);const r=t.renderContext.rctx;this._vao=y(r),this._vaoCount=d(this._vao,\"geometry\");const p=new w;p.wrapMode=g.CLAMP_TO_EDGE,p.flipped=!0,p.width=1,p.height=512,this._passParameters.texture=new x(r,p,n)}destroy(){this._passParameters.texture=e(this._passParameters.texture),this._vao.dispose(),this._technique.release()}render(e){const t=e.rctx,r=t.bindTechnique(this._technique,e.bindParameters,this._passParameters);T(v,e.bindParameters.camera.viewMatrix),r.setUniformMatrix4fv(\"view\",v),t.bindVAO(this._vao),r.assertCompatibleVertexAttributeLocations(this._vao),t.drawArrays(j.TRIANGLES,0,this._vaoCount)}renderHaze(){return!1}}function y(e){const t=u(1,2,!1),{data:r,indices:i}=t[0][1],o=P.createBuffer(i.length),s=o.position;for(let m=0;m<i.length;++m){const e=3*i[m%3==0?m+2:m%3==2?m-2:m];s.set(m,0,r[e]),s.set(m,1,r[e+1]),s.set(m,2,r[e+2])}return new h(e,c,{geometry:p(P)},{geometry:b.createVertex(e,_.STATIC_DRAW,o.buffer)})}function T(e,r){t(e,r),e[12]=0,e[13]=0,e[14]=0,e[15]=1}const v=r(),P=f().vec3f(l.POSITION);export{A as LocalAtmosphere};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst e=new Uint8ClampedArray([0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,6,0,0,0,6,0,0,0,7,0,0,0,7,0,0,0,7,0,0,0,8,0,0,0,8,0,0,0,8,0,0,0,9,0,0,0,9,0,0,0,9,0,0,0,10,0,0,0,10,0,0,0,11,0,0,0,11,0,0,0,11,0,0,0,12,0,0,0,12,0,0,0,12,0,0,0,13,0,0,0,13,0,0,0,14,0,0,0,14,0,0,0,14,0,0,0,14,0,0,0,14,0,0,0,15,0,0,0,15,0,0,0,16,0,0,0,16,0,0,0,16,0,0,0,17,0,0,0,17,0,0,0,18,0,0,0,18,0,0,0,19,0,0,0,19,0,0,0,19,0,0,0,20,0,0,0,20,0,0,0,21,0,0,0,21,0,0,0,22,0,0,0,22,11,0,0,23,11,0,0,23,11,0,0,23,11,0,0,23,11,0,0,24,11,0,0,24,11,0,0,24,10,0,0,25,10,0,0,25,10,0,0,26,10,0,0,26,9,0,0,27,9,0,0,27,9,0,0,28,9,0,0,28,9,0,0,29,9,0,0,29,8,0,0,30,8,0,0,30,8,0,0,31,8,0,0,31,8,0,0,32,8,0,0,32,8,0,0,32,8,0,0,32,8,0,0,33,8,0,0,33,8,0,0,34,7,0,0,35,7,0,0,35,7,0,0,36,7,0,0,36,7,7,0,37,7,7,0,37,7,7,0,38,7,7,0,38,13,7,0,39,13,7,0,39,13,6,0,40,13,6,0,40,12,6,0,41,12,6,0,41,12,6,0,41,12,6,0,42,12,6,0,42,12,6,0,43,12,6,0,43,12,6,0,44,12,6,0,44,11,6,0,45,11,6,6,45,11,6,6,46,11,5,5,47,11,5,5,47,11,5,5,48,11,5,5,48,10,5,5,49,10,5,5,49,10,5,5,50,15,5,5,51,15,5,5,51,15,5,5,51,15,5,5,51,15,5,5,52,15,5,5,52,14,5,5,53,14,5,5,54,14,5,5,54,14,5,5,55,14,5,5,55,14,5,5,56,13,4,4,57,13,4,4,57,13,4,4,58,13,4,4,58,13,4,4,59,13,4,4,59,17,4,4,60,17,4,4,60,17,4,4,60,17,4,4,61,17,4,4,61,16,4,4,62,16,4,4,63,16,4,4,63,16,8,4,64,16,8,4,64,16,8,4,65,15,8,4,66,15,8,4,66,15,8,4,67,19,8,4,68,19,8,4,68,18,7,4,69,18,7,4,69,18,7,4,69,18,7,4,70,18,7,4,70,18,7,4,71,18,7,4,71,18,7,4,72,17,7,3,73,17,7,3,73,21,7,3,74,21,7,3,74,20,7,3,75,20,7,3,76,20,7,3,76,20,7,3,77,20,7,3,77,20,7,3,78,20,7,3,78,20,7,7,78,19,6,6,79,19,10,6,80,19,10,6,80,22,9,6,81,22,9,6,81,22,9,6,82,22,9,6,83,22,9,6,83,21,9,6,84,21,9,6,84,21,9,6,85,21,9,6,86,21,9,6,86,23,9,6,87,23,9,6,87,23,9,6,87,23,9,6,88,23,9,6,88,23,9,6,89,23,8,6,90,23,8,6,90,22,8,6,91,22,8,6,91,25,8,6,92,25,8,5,93,25,8,5,93,24,8,5,94,24,8,5,94,24,11,5,95,24,11,5,96,24,11,5,96,26,11,5,97,26,11,5,97,26,11,5,97,26,10,5,98,26,10,5,98,26,10,5,99,25,10,5,100,25,10,5,100,25,10,5,101,25,10,5,101,25,10,5,102,27,10,5,103,27,10,5,103,27,10,5,104,27,10,5,104,27,12,5,105,26,12,5,106,26,12,5,106,29,12,5,106,29,12,5,106,29,12,7,107,28,12,7,108,28,12,7,108,28,12,7,109,28,12,7,109,30,12,7,110,30,11,7,111,30,11,7,111,30,11,7,112,30,11,7,112,29,11,7,113,29,11,7,114,29,11,7,114,31,11,7,115,31,11,7,115,31,11,7,115,31,11,7,116,31,11,7,116,33,13,7,117,33,13,9,117,32,13,9,118,32,13,9,118,32,13,9,119,34,15,8,120,34,15,8,120,34,15,8,121,36,15,8,121,36,15,8,122,36,15,8,122,35,15,8,123,37,14,8,124,37,14,8,124,37,14,8,124,37,14,8,124,39,14,8,125,39,16,8,125,38,16,8,126,38,16,8,127,38,16,8,127,40,16,10,128,40,16,10,128,40,16,10,129,42,18,10,129,41,18,10,130,41,18,10,130,43,18,10,131,43,18,10,131,42,17,10,132,42,17,12,132,42,17,12,133,44,17,12,133,44,17,12,133,46,17,11,134,46,17,11,134,45,19,11,135,45,19,11,135,47,19,11,136,47,19,11,136,47,19,11,137,47,19,11,137,48,20,11,138,48,20,11,138,50,20,13,139,50,20,13,139,49,20,13,140,49,22,13,140,51,22,13,141,51,22,13,141,50,22,13,142,52,22,13,142,52,21,12,143,53,21,12,143,53,21,12,143,53,21,12,143,53,21,14,144,53,23,14,144,55,23,14,145,55,23,14,145,56,23,14,146,56,23,14,146,57,24,14,147,57,24,14,147,59,24,16,148,59,24,16,148,58,24,15,149,58,26,15,149,58,26,15,149,60,26,15,150,60,26,15,150,61,25,15,151,61,25,15,151,62,25,17,152,62,25,17,152,64,25,17,152,64,27,17,152,63,27,17,153,63,27,17,153,65,27,17,153,66,28,17,154,66,28,17,154,67,28,16,155,67,28,16,155,67,30,16,155,69,29,18,156,69,29,18,156,68,29,18,157,70,29,18,157,70,29,18,157,71,31,18,158,71,31,18,158,72,30,19,159,72,30,19,159,74,30,19,159,73,30,19,160,73,32,19,160,74,32,19,161,74,32,21,161,76,32,21,161,78,33,21,161,78,33,21,161,79,35,20,162,78,34,20,163,79,34,22,164,81,36,22,164,82,36,22,165,81,35,22,166,82,37,21,167,84,37,21,167,85,36,21,168,86,38,23,169,88,38,23,169,88,38,23,170,88,39,23,170,89,39,24,171,91,40,24,171,92,40,24,172,93,40,24,173,94,41,25,173,95,41,25,174,96,42,25,175,98,42,25,175,99,43,26,176,99,43,26,177,101,45,26,177,102,44,26,178,103,46,27,179,104,46,27,179,105,46,27,179,106,45,28,180,108,47,28,180,108,46,28,181,109,48,28,182,111,48,29,182,111,49,29,183,114,49,29,184,114,50,30,184,114,50,30,185,116,51,30,185,117,51,30,186,119,52,31,187,119,53,31,187,121,53,31,188,122,54,33,188,123,54,32,189,124,55,32,189,125,55,32,189,126,56,34,190,128,56,34,190,128,57,33,191,130,57,33,191,131,58,35,192,131,58,35,192,133,59,34,193,134,60,35,194,135,60,35,194,136,61,37,195,139,61,37,195,139,62,36,196,141,62,36,196,141,63,38,197,142,63,38,197,143,64,39,198,144,64,39,198,146,66,39,198,146,67,39,198,147,67,38,199,147,68,40,199,149,68,40,200,150,69,40,200,152,70,41,201,154,71,41,201,154,71,42,202,155,72,42,202,156,73,41,203,157,73,43,203,158,74,42,204,160,75,44,204,161,76,44,204,162,77,44,205,164,77,45,205,165,78,45,206,166,79,45,206,168,80,46,207,169,81,46,207,170,83,47,207,171,83,47,207,172,83,47,207,174,85,48,208,175,85,48,208,177,85,48,209,178,87,49,209,180,87,49,210,181,87,49,210,182,89,50,210,182,89,50,211,185,91,50,211,186,91,51,212,186,93,51,212,189,94,52,212,190,95,51,213,192,96,51,213,193,96,53,213,194,97,52,214,195,98,54,214,197,98,55,215,198,100,55,215,199,101,55,215,200,102,55,216,202,103,55,216,203,104,55,216,204,105,57,216,205,106,57,216,207,107,58,216,208,108,58,217,209,109,59,217,210,110,60,217,211,111,60,218,212,112,61,218,213,113,61,218,214,114,62,219,217,115,63,219,217,116,64,219,218,118,64,220,219,119,65,220,220,121,66,220,222,121,67,221,222,122,67,221,222,123,68,221,223,124,69,222,224,125,70,222,225,127,71,222,226,128,72,223,228,129,73,223,228,130,74,223,229,132,75,223,230,135,79,224,231,138,81,224,233,141,84,224,233,144,87,225,235,147,91,225,236,150,94,225,237,154,97,225,238,158,102,225,239,161,107,225,239,165,110,225,240,168,114,226,241,172,118,226,241,176,122,226,241,181,126,226,242,183,130,227,243,186,135,227,243,190,139,227,244,194,143,227,244,197,147,228,244,200,150,228,245,204,154,228,245,207,157,228,245,210,161,229,246,212,164,229,246,215,167,229,246,217,169,229,246,220,172,230,247,221,174,230]);export{e as marsAtmosphereTextureSimple};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{lerp as e,clamp as t}from\"../../../core/mathUtils.js\";import{disposeMaybe as s}from\"../../../core/maybe.js\";import{watch as r,syncAndInitial as i}from\"../../../core/reactiveUtils.js\";import{lookAt as o}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as a}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as h}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{l as n,h as m,g as p,q as c,b as u,p as l}from\"../../../chunks/vec32.js\";import{create as _}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as d}from\"../../../geometry/ellipsoidUtils.js\";import{newFloatArray as f}from\"../../../geometry/support/FloatArray.js\";import{AtmosphereType as g}from\"./AtmosphereType.js\";import{computeInnerAltitudeFade as b,innerAtmosphereDepth as x}from\"./atmosphereUtils.js\";import{S as R}from\"../../../chunks/SimpleAtmosphere.glsl.js\";import{SimpleAtmosphereTechnique as j}from\"./SimpleAtmosphereTechnique.js\";import{SimpleAtmosphereTechniqueConfiguration as V,SimpleAtmosphereGeometry as y}from\"./SimpleAtmosphereTechniqueConfiguration.js\";import{marsAtmosphereTextureSimple as w}from\"./resources/MarsAtmosphereTexture.js\";import{makePiecewiseLinearFunction as A}from\"../support/mathUtils.js\";import{glLayout as P}from\"../support/buffer/glUtil.js\";import{newLayout as q}from\"../support/buffer/InterleavedLayout.js\";import{Default3D as T}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{createQuadVAO as v}from\"../webgl-engine/lib/glUtil3D.js\";import{project as S}from\"../webgl-engine/lib/Util.js\";import{VertexArrayObject as F}from\"../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as C}from\"../webgl-engine/lib/VertexAttribute.js\";import{BufferObject as M}from\"../../webgl/BufferObject.js\";import{TextureWrapMode as U,PrimitiveType as W,Usage as I}from\"../../webgl/enums.js\";import{Texture as O}from\"../../webgl/Texture.js\";import{TextureDescriptor as D}from\"../../webgl/TextureDescriptor.js\";import{vertexCount as L}from\"../../webgl/Util.js\";const E=128,G=-x,H=0,N=50,k=()=>1-511/512,B=A([[50,.1015625],[500,.21875],[5e3,1-250/512],[5e4,.4140625]]);class z{constructor(e,t){this.view=e,this.type=g.Mars,this._passParameters=new R,this._vaoCount=0,this._texV1=1;const s=d(e.spatialReference);this._planetRadius=s.radius,this._outerRimWidth=s.outerAtmosphereRimWidth,this._innerRimFactor=(this._planetRadius+G)/this._planetRadius,this._middleRimFactor=(this._planetRadius+H)/this._planetRadius,this._outerRimFactor=(this._planetRadius+this._outerRimWidth)/this._planetRadius,this._texV0=H/this._outerRimWidth,this._texVScale=this._texV1-this._texV0,this._techniqueRepository=t.techniqueRepository;const o=t.renderContext.rctx;this._cameraChangeHandle=r((()=>this.view.state?.camera),(()=>t.requestRender()),i),this._vao=this._createRibbon(o),this._vaoCount=L(this._vao,\"geometry\"),this._fadeVao=v(o),this._fadeVaoCount=L(this._fadeVao,\"geometry\");const a=new D;a.wrapMode=U.CLAMP_TO_EDGE,a.flipped=!0,a.width=1,a.height=512,this._passParameters.texture=new O(o,a,w);const h=new V;h.geometry=y.Cone,this._coneTechnique=this._techniqueRepository.acquire(j,h),h.geometry=y.Underground,this._undergroundTechnique=this._techniqueRepository.acquire(j,h)}destroy(){this._coneTechnique.release(),this._undergroundTechnique.release(),this._cameraChangeHandle.remove(),this._passParameters.texture=s(this._passParameters.texture),this._fadeVao.dispose(),this._vao.dispose()}render(e){const t=e.bindParameters.camera;this._update(t);const s=e.rctx;this._passParameters.undergroundFadeAlpha<1&&(s.bindTechnique(this._coneTechnique,e.bindParameters,this._passParameters),s.bindVAO(this._vao),s.drawArrays(W.TRIANGLES,0,this._vaoCount)),this._passParameters.undergroundFadeAlpha>0&&(s.bindTechnique(this._undergroundTechnique,e.bindParameters,this._passParameters),s.bindVAO(this._fadeVao),s.drawArrays(W.TRIANGLE_STRIP,0,this._fadeVaoCount))}renderHaze(){}_update(s){const r=_(),i=this._planetRadius,o=n(s.eye),a=o-i;if(a<0){const e=Math.min(-a/5e3,1);this._passParameters.undergroundFadeAlpha=e}else this._passParameters.undergroundFadeAlpha=0;const p=Math.max(N,a),c=i+G;this._passParameters.innerScale=Y(i+p,i,c)-1,this._passParameters.altitudeFade=b(a),m(r,s.eye,(i+N)/o),J(r,s.center,s.up,i,this._passParameters.silhouette);const u=this._computeScreenRimWidth(s,r,s.up,this._passParameters.silhouette),l=k(),d=B(a);let f=this._texV0+l*this._texVScale,g=this._texV0+u*d*this._texVScale;if(a>N){J(s.eye,s.center,s.up,i,this._passParameters.silhouette);const r=this._computeScreenRimWidth(s,s.eye,s.up,this._passParameters.silhouette),o=t((r-1.5)/(u-1.5),0,1);f=this._texV0+o*l*this._texVScale,g=this._texV0+e(this._texV1,u*d,o)*this._texVScale}h(this._passParameters.texV,f,g)}_createRibbon(e){const t=f(3+3*E*3),s=new Uint32Array(3*E*5);t[0]=0,t[1]=0,t[2]=-1;for(let o=0;o<E;o++){const e=9*o+3;t[e]=o,t[e+1]=this._innerRimFactor,t[e+2]=-1,t[e+3]=o,t[e+4]=this._middleRimFactor,t[e+5]=0,t[e+6]=o,t[e+7]=this._outerRimFactor,t[e+8]=1;const r=3*o+1,i=o===E-1?1:r+3,a=15*o;s[a]=r,s[a+1]=r+1,s[a+2]=i+1,s[a+3]=i+1,s[a+4]=i,s[a+5]=r,s[a+6]=r+1,s[a+7]=r+2,s[a+8]=i+2,s[a+9]=i+2,s[a+10]=i+1,s[a+11]=r+1,s[a+12]=r,s[a+13]=i,s[a+14]=0}const r=Z.createBuffer(s.length),i=r.position;for(let o=0;o<s.length;++o){const e=3*s[o];i.set(o,0,t[e]),i.set(o,1,t[e+1]),i.set(o,2,t[e+2])}return new F(e,T,{geometry:P(Z)},{geometry:M.createVertex(e,I.STATIC_DRAW,r.buffer)})}_computeScreenRimWidth(e,t,s,r){return p(Q,r.center,r.v2),m(X,Q,this._outerRimFactor),o(K,t,Q,s),S(Q,K,e.projectionMatrix,e.viewport,Q),S(X,K,e.projectionMatrix,e.viewport,X),c(Q,X)/e.height}}function J(e,t,s,r,i){const o=n(e),a=r*Math.sqrt(o*o-r*r)/o,h=Math.sqrt(r*r-a*a),p=i.v1,c=i.v2;return m(i.center,e,h/o),u(p,e,t),l(p)<1&&u(p,e,s),m(p,p,a/n(p)),u(c,p,e),m(c,c,a/n(c)),a}const K=a(),Q=_(),X=_();function Y(e,t,s){return e*e/(Math.sqrt(e*e-t*t)*Math.sqrt(e*e-s*s)+t*s)}const Z=q().vec3f(C.POSITION);export{z as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{P as e}from\"../../../chunks/Precipitation.glsl.js\";import{NoParameters as i}from\"../webgl-engine/core/shaderModules/interfaces.js\";import{ReloadableShaderModule as r}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{Program as s}from\"../webgl-engine/lib/Program.js\";import{VertexAttribute as n}from\"../webgl-engine/lib/VertexAttribute.js\";import{BlendFactor as o,CompareFunction as l}from\"../../webgl/enums.js\";import{makePipelineState as a,separateBlendingParams as m,defaultColorWriteParams as c}from\"../../webgl/renderState.js\";class g extends i{constructor(){super(...arguments),this.time=0,this.radius=1,this.width=500,this.opacity=1}}class d extends t{initializeProgram(e){return new s(e.rctx,d.shader.get().build(this.configuration),h)}initializePipeline(){return a({blending:m(o.ONE,o.ONE,o.ONE_MINUS_SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA),depthTest:{func:l.LEQUAL},colorWrite:c})}}d.shader=new r(e,(()=>import(\"./Precipitation.glsl.js\")));const h=new Map([[n.POSITION,0],[n.INSTANCEFEATUREATTRIBUTE,1]]);export{g as PrecipitationPassParameters,d as PrecipitationTechnique,h as attributeLocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{lerp as i}from\"../../../core/mathUtils.js\";import{releaseMaybe as r,disposeMaybe as s}from\"../../../core/maybe.js\";import{secondsFromMilliseconds as n}from\"../../../core/time.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{getReferenceEllipsoid as c}from\"../../../geometry/ellipsoidUtils.js\";import{PrecipitationPassParameters as h,PrecipitationTechnique as u,attributeLocations as m}from\"./PrecipitationTechnique.js\";import{PrecipitationTechniqueConfiguration as p,PrecipitationType as _}from\"./PrecipitationTechniqueConfiguration.js\";import{glLayout as d}from\"../support/buffer/glUtil.js\";import{newLayout as l}from\"../support/buffer/InterleavedLayout.js\";import{AnimationTimer as f}from\"../webgl-engine/lib/AnimationTimer.js\";import{VertexArrayObject as T}from\"../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as w}from\"../webgl-engine/lib/VertexAttribute.js\";import{BufferObject as y}from\"../../webgl/BufferObject.js\";import{PrimitiveType as b,Usage as q}from\"../../webgl/enums.js\";import{bindVertexBufferLayout as j,unbindVertexBufferLayout as I}from\"../../webgl/Util.js\";let g=class extends t{constructor(e){super(e),this._numParticles=25e4,this._rainSpeed=.1,this._snowSpeed=.01,this._passParameters=new h,this._animation=new f,this._passParameters.time=0,this._passParameters.radius=c(e.view.spatialReference).radius,this._techniqueRepository=e.context.techniqueRepository}destroy(){this._numParticles=0,this._snowTechniqueCached=r(this._snowTechniqueCached),this._rainTechniqueCached=r(this._rainTechniqueCached),this._vao=s(this._vao),this._instanceIdBuffer=s(this._instanceIdBuffer)}get _rainTechnique(){if(null==this._rainTechniqueCached){const e=new p;e.type=_.Rain,this._rainTechniqueCached=this._techniqueRepository.acquire(u,e)}return this._rainTechniqueCached}get _snowTechnique(){if(null==this._snowTechniqueCached){const e=new p;e.type=_.Snow,this._snowTechniqueCached=this._techniqueRepository.acquire(u,e)}return this._snowTechniqueCached}update(e){return this._animation.advance(e)}render(e,t,r){const s=\"rainy\"===r?this._rainTechnique:this._snowTechnique;if(!s.compiled)return void this.context.requestRender();const o=e.rctx;if(this._ensureResources(o),null==s||null==this._vao||null==this._instanceIdBuffer)return;if(null!=e.bindParameters.cloudsFade.data&&(this._passParameters.opacity=e.bindParameters.cloudsFade.opacity),this._passParameters.opacity<=0)return;const a=.35;t=t<.5?i(0,a,2*t):i(a,1,2*(t-.5)),this._passParameters.time=(\"rainy\"===r?this._rainSpeed:this._snowSpeed)*n(this._animation.time)%1e5;const c=o.bindTechnique(s,e.bindParameters,this._passParameters);o.bindVAO(this._vao),c.assertCompatibleVertexAttributeLocations(this._vao),j(o,m,this._instanceIdBuffer,A,0),o.drawArraysInstanced(b.TRIANGLES,0,3,this._numParticles*t),I(o,m,this._instanceIdBuffer,A)}_ensureResources(e){null==this._vao&&(this._vao=P(e)),null==this._instanceIdBuffer&&(this._instanceIdBuffer=this._createInstanceIndices(e))}_createInstanceIndices(e){const t=[];for(let i=0;i<this._numParticles;i++)t.push(i);return y.createVertex(e,q.STATIC_DRAW,new Float32Array(t))}};function P(e){const t=new Float32Array([-1,0,1,1,0,-1,1,0,1]);return new T(e,m,{geometry:d(v)},{geometry:y.createVertex(e,q.STATIC_DRAW,t)})}e([o({constructOnly:!0})],g.prototype,\"context\",void 0),e([o({constructOnly:!0})],g.prototype,\"view\",void 0),g=e([a(\"esri.views.3d.environment.Precipitation\")],g);const v=l().vec3f(w.POSITION),A=d(l().f32(w.INSTANCEFEATUREATTRIBUTE),1);export{g as Precipitation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{S as r}from\"../../../chunks/Stars.glsl.js\";import{NoParameters as i}from\"../webgl-engine/core/shaderModules/interfaces.js\";import{ReloadableShaderModule as t}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as s}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as n}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as l}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as a,CompareFunction as m}from\"../../webgl/enums.js\";import{makePipelineState as c,separateBlendingParams as g,defaultColorWriteParams as d}from\"../../webgl/renderState.js\";class u extends i{constructor(){super(...arguments),this.modelMatrix=e()}}class h extends o{constructor(e){super(e,new s,(()=>this.destroy()))}initializeProgram(e){return new l(e.rctx,h.shader.get().build(),n)}initializePipeline(){return c({blending:g(a.SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA),depthTest:{func:m.LEQUAL},colorWrite:d})}}h.shader=new t(r,(()=>import(\"./Stars.glsl.js\")));export{u as StarPassParameters,h as StarsTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{fetchAsset as e}from\"../../../assets.js\";import s from\"../../../core/Accessor.js\";import{createTask as r}from\"../../../core/asyncUtils.js\";import i from\"../../../core/Error.js\";import o from\"../../../core/Logger.js\";import{abortMaybe as a,releaseMaybe as n,disposeMaybe as f}from\"../../../core/maybe.js\";import{isAbortError as c}from\"../../../core/promiseUtils.js\";import{initial as u}from\"../../../core/reactiveUtils.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import{copy as m,rotateZ as h,multiply as p}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{fromValues as g}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{UpdatingHandles as b}from\"../../../core/support/UpdatingHandles.js\";import{StarPassParameters as _,StarsTechnique as v}from\"./StarsTechnique.js\";import{glLayout as w}from\"../support/buffer/glUtil.js\";import{newLayout as y}from\"../support/buffer/InterleavedLayout.js\";import{Default3D as j}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{VertexArrayObject as T}from\"../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as P}from\"../webgl-engine/lib/VertexAttribute.js\";import{BufferObject as k}from\"../../webgl/BufferObject.js\";import{PrimitiveType as q,Usage as D}from\"../../webgl/enums.js\";let x=class extends s{get updating(){return this._updatingTracking.updating||this.loading}get loading(){return null!=this._loadDataTask&&!this._loadDataTask.finished}constructor(t){super(t),this._loadDataTask=null,this._numPoints=0,this._passParameters=new _,this._updatingTracking=new b}initialize(){this._loadDataTask=this._createLoadDataTask()}destroy(){this._loadDataTask=a(this._loadDataTask),this._updatingTracking.destroy(),this._numPoints=0,this._technique=n(this._technique),this._vao=f(this._vao),F=null}render(t){const{rctx:e}=t;if(this._ensureResources(e),null==this._technique||null==this._vao)return;if(!this._technique.compiled)return void this.requestRender();const s=e.bindTechnique(this._technique,t.bindParameters,this._passParameters);e.bindVAO(this._vao),s.assertCompatibleVertexAttributeLocations(this._vao),e.drawArrays(q.POINTS,0,this._numPoints)}_ensureResources(t){if(null!=this._technique||null==F)return;this._technique=new v({rctx:t,viewingMode:this.view.state.viewingMode}),this._numPoints=F.byteLength/V;const e=new Float32Array(F,0,2*this._numPoints),s=new Uint8Array(F,2*this._numPoints*4,this._numPoints);this._vao=A(t,e,s,this._numPoints),this._updatingTracking.add((()=>\"virtual\"!==this.view.environment.lighting.type?this.view.environment.lighting.date:null),(t=>this._update(t)),u)}_update(t){if(!t)return;const e=(t.getHours()/12+t.getMinutes()/60*(2/24)+t.getSeconds()/60*(2/1440)-.9972222)%2,s=2*I(t),r=m(this._passParameters.modelMatrix,U);h(r,r,-s*Math.PI),p(r,S,r),h(r,r,-e*Math.PI),this.requestRender()}_createLoadDataTask(){if(null!=F)return null;const t=r((async t=>{const{data:s}=await e(\"esri/views/3d/environment/resources/stars.wsv\",{responseType:\"array-buffer\",signal:t});L(s),F=s}));return t.promise.catch((t=>{c(t)||o.getLogger(this).error(t)})).then((()=>{this.destroyed||(this.requestRender(),this.notifyChange(\"updating\"))})),t}};function A(t,e,s,r){const i=C.createBuffer(r),o=i.position,a=i.color,n=i.size;for(let f=0;f<r;f++){const t=e[2*f],r=e[2*f+1];o.set(f,0,-Math.cos(t)*Math.sin(r)),o.set(f,1,-Math.sin(t)*Math.sin(r)),o.set(f,2,-Math.cos(r));const i=O(s[f]),c=M(R[i[1]]);a.set(f,0,255*c[0]),a.set(f,1,255*c[1]),a.set(f,2,255*c[2]),a.set(f,3,255),n.set(f,i[0])}return new T(t,j,{geometry:w(C)},{geometry:k.createVertex(t,D.STATIC_DRAW,i.buffer)})}function I(t){const e=t,s=new Date(t.getFullYear(),0,1,11,58,56);return(+e-+s)/(+new Date(t.getFullYear()+1,0,1,11,58,55)-+s)}function L(t){if(!t)throw new i(\"stars:no-data-received\",\"Failed to create stars because star catalogue is missing\");const e=t.byteLength/V;if(e%1!=0||e>5e4||e<5e3)throw new i(\"stars:invalid-data\",\"Failed to create stars because star catalogue data is invalid\")}function M(t){return[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)]}function O(t){return t>=192?[2.9,t-192]:t>=160?[2.5,t-160]:t>=128?[2,t-128]:t>=96?[1.5,t-96]:t>=64?[1,t-64]:t>=32?[.7,t-32]:[.4,t]}t([l({constructOnly:!0})],x.prototype,\"view\",void 0),t([l({constructOnly:!0})],x.prototype,\"requestRender\",void 0),t([l({readOnly:!0})],x.prototype,\"updating\",null),t([l()],x.prototype,\"_loadDataTask\",void 0),t([l()],x.prototype,\"_updatingTracking\",void 0),x=t([d(\"esri.views.3d.environment.Stars\")],x);const R=[\"9bb2ff\",\"9eb5ff\",\"aabfff\",\"bbccff\",\"ccd8ff \",\"dae2ff\",\"e4e9ff\",\"eeefff\",\"f8f6ff\",\"fff9fb\",\"fff5ef\",\"fff1e5\",\"ffeddb\",\"ffe9d2\",\"ffe6ca\",\"ffe3c3\",\"ffe0bb\",\"ffddb4\",\"ffdaad\",\"ffd6a5\",\"ffd29c\",\"ffcc8f\",\"ffc178\",\"ffa94b\",\"ff7b00\"],S=g(1,0,0,0,0,.9174771405229186,.39778850739794974,0,0,-.39778850739794974,.9174771405229186,0,0,0,0,1),U=g(1,0,0,0,0,.9174771405229186,-.39778850739794974,0,0,.39778850739794974,.9174771405229186,0,0,0,0,1),V=9,C=y().vec3f(P.POSITION).vec4u8(P.COLOR).f32(P.SIZE);let F=null;export{x as Stars};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar e;!function(e){e[e.Immediate=0]=\"Immediate\",e[e.Faded=1]=\"Faded\"}(e||(e={}));export{e as Update};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{lerp as t}from\"../../../core/mathUtils.js\";import{destroyMaybe as s}from\"../../../core/maybe.js\";import{watch as r,syncAndInitial as i,initial as a,sync as o}from\"../../../core/reactiveUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import{l,c as d,m as p}from\"../../../chunks/vec32.js\";import{fromValues as u}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as m}from\"../../../geometry/ellipsoidUtils.js\";import{isMoon as c,isEarth as _,isMars as g}from\"../../../geometry/support/spatialReferenceUtils.js\";import{ViewingMode as w}from\"../../ViewingMode.js\";import{AtmosphereType as f}from\"./AtmosphereType.js\";import{ChapmanAtmosphere as y}from\"./ChapmanAtmosphere.js\";import{CloudsComposition as v}from\"./CloudsComposition.js\";import{isReadyCloudsData as P,CloudsRenderingStages as b}from\"./CloudsData.js\";import{CloudsGenerator as R}from\"./CloudsGenerator.js\";import{FadeMode as A}from\"./CloudsParameters.js\";import{cloudPresets as x}from\"./CloudsPresets.js\";import{Fog as F,FogParameters as N}from\"./Fog.js\";import{LocalAtmosphere as W}from\"./LocalAtmosphere.js\";import j from\"./MarsAtmosphere.js\";import{Precipitation as C}from\"./Precipitation.js\";import{Stars as E}from\"./Stars.js\";import{weatherHeightLimit as M}from\"./weather.js\";import{SyncRenderPlugin as O,ConsumesDepth as z,ConsumesNone as T}from\"../webgl-engine/effects/RenderPlugin.js\";import{RenderSlot as S}from\"../webgl-engine/lib/RenderSlot.js\";import{Update as L}from\"../webgl-engine/lib/Update.js\";var U;let I=U=class extends O{constructor(e){super(e),this.produces=new Map([[S.ENVIRONMENT_OPAQUE,()=>!(null===this._atmosphere&&null===this._stars)],[S.ENVIRONMENT_TRANSPARENT,()=>!(null===this._atmosphere)]]),this._context=null,this._atmosphere=null,this._oldWeatherParameters=new V,this._newWeatherParameters=new V,this._fadedWeatherParameters=new V,this._weatherParameters=this._newWeatherParameters}initialize(){this.view._stage.addRenderPlugin(this)}destroy(){this.removeHandles(),this.uninitializeRenderContext(),null!=this.view?._stage&&this.view._stage.removeRenderPlugin(this),this._set(\"view\",null)}get atmosphere(){return this._atmosphere}get _atmosphereType(){return null!=this.atmosphere?this.atmosphere.type:f.None}consumes(){return this._atmosphereType===f.Realistic?z:T}updateAnimation(e){return null!=this._precipitation&&this._precipitation.update(e)}get updating(){return null!=this._stars&&this._stars.updating||null!=this._clouds&&this._clouds.running}get weatherVisible(){return l(this.view.state.camera.eye)-m(this.view.spatialReference).radius<=M}get usedMemory(){return this._clouds?.usedMemory??0}get _stars(){const e=this.view,t=e.environment?.starsEnabled??!1,r=this._get(\"_stars\");return t&&null!=this._context?null!=r?r:new E({view:e,requestRender:()=>this._setNeedsRender()}):(s(r),null)}get _precipitation(){const e=this._get(\"_precipitation\");if(!this._precipitationEnabled||null==this._context)return s(e),null;const t=this.view,r=this._context;return null!=e&&e.context===r?e:(s(e),new C({context:r,view:t}))}get _clouds(){const e=this._get(\"_clouds\");if(!this.weatherEnabled||null==this._context)return s(e),null;if(null!=e)return e;const t=this.view,r=this._context;return s(e),new R({context:r,view:t,requestRender:()=>this._setNeedsRender()})}get _cloudsComposition(){const e=this._get(\"_cloudsComposition\");if(!this.weatherEnabled||null==this._context)return s(e),null;const t=this.view.state.viewingMode,r=this._context.renderContext.rctx,i=m(this.view.spatialReference).radius;return null!=e&&e.viewingMode===t&&e.planetRadius===i?e:(s(e),new v({rctx:r,viewingMode:t,planetRadius:i,requestRender:()=>this._setNeedsRender()}))}get _fog(){const e=this._get(\"_fog\");if(!this.weatherEnabled||null==this._context)return s(e),null;if(null!=e)return e;const t=this.view,r=this._context,i=this._context.renderContext.rctx,a=this.view.state.viewingMode;return new F({context:r,view:t,rctx:i,viewingMode:a})}get weatherEnabled(){return!!this.view?.environmentManager?.weatherEnabled}get _precipitationEnabled(){return this.weatherEnabled&&(\"rainy\"===this.view.environment.weather.type||\"snowy\"===this.view.environment.weather.type)}initializeRenderContext(e=null){this._context=e;const t=()=>this._setNeedsRender();this.addHandles([r((()=>({viewingMode:this.view.state.viewingMode,enabled:this.view.environment.atmosphereEnabled})),(e=>this._updateAtmosphere(e)),i),r((()=>this._stars),t),r((()=>this._precipitation),t),r((()=>this._clouds),(()=>this._updateWeather()),a),r((()=>this._fog),(()=>this._updateFogHaze()),a),r((()=>this.view.state.mode),(()=>{this._setNeedsRender()}),o),r((()=>this._weatherUpdateParameters),(()=>{this._updateWeather(),this._updateFogHaze()}),i)])}uninitializeRenderContext(){this._context=null,this._atmosphere=s(this._atmosphere),this._set(\"_stars\",s(this._stars)),this._set(\"_precipitation\",s(this._precipitation)),this._set(\"_clouds\",s(this._clouds)),this._set(\"_cloudsComposition\",s(this._cloudsComposition)),this._set(\"_fog\",s(this._fog))}prepareRender(e){e.bindParameters.cloudsFade.data=P(this._clouds)?this._clouds:null,\"local\"!==this.view.viewingMode&&null!=e.bindParameters.cloudsFade.data?.cubeMap&&(this._updateWeatherFading(e.bindParameters,e.time),e.bindParameters.cloudsFade.renderingStage===b.FINISHED&&null!=this._clouds&&0===this._clouds.coverage&&!1===this._clouds.running&&(this._clouds.destroyFrameBufferCube(),e.bindParameters.cloudsFade.data=null))}renderNode(e){switch(e.bindParameters.slot){case S.ENVIRONMENT_OPAQUE:null!=this._stars&&this._stars.render(e),null!=this.atmosphere&&(this.atmosphere.render(e,this.view?._stage?.renderer?.fullResolutionAtmosphere),null!=this._cloudsComposition&&null!=e.bindParameters.cloudsFade.data&&(this.weatherVisible&&null!=this._clouds&&this._clouds.updateWeatherTile(),this._cloudsComposition.render(e)),e.bindParameters.cloudsFade.isFading&&null!=this._context&&null!=e.bindParameters.cloudsFade.data?.cubeMap&&this._context.requestRender());break;case S.ENVIRONMENT_TRANSPARENT:if(null!=this.atmosphere&&(this.atmosphere.renderHaze(e,this._weatherParameters.hazeAmount,this.view?._stage?.renderer?.fullResolutionAtmosphere),this._weatherParameters.fog.amount>0&&null!=this._fog&&this._fog.render(e,this._weatherParameters.fog),this._precipitation)){const t=this.view.environment.weather;\"rainy\"!==t.type&&\"snowy\"!==t.type||this._precipitation.render(e,t.precipitation,t.type)}}}updateLightSources(e,t,s,r){if(null!=this._context){const i=this._context.renderContext;i.bindParameters.oldLighting.copyFrom(i.bindParameters.lighting),i.bindParameters.newLighting.noonFactor=t,i.bindParameters.newLighting.globalFactor=s,i.bindParameters.newLighting.set(e);r===L.Faded||i.bindParameters.weatherFading?i.bindParameters.fadeLighting(0):i.bindParameters.fadeLighting(1),this._context.requestRender()}}get _weatherUpdateParameters(){const e=this.weatherEnabled?this.view.environment.weather:null;return null==e?null:\"rainy\"===e.type||\"snowy\"===e.type?{type:e.type,weatherAdjustment:e.cloudCover,effect:e.precipitation}:{type:e.type,weatherAdjustment:\"foggy\"===e.type?e.fogStrength:e.cloudCover}}_updateWeatherFading(e,t){e.cloudsFade.updateFading(e.camera,this.view.state.mode,t,this.view.qualitySettings.fadeDuration),e.cloudsFade.updateParallax(e.camera),e.weatherFading&&(q(e),this._updateFogAtmoshpere(e))}_updateFogAtmoshpere(e){e.cloudsFade.fadeMode!==A.CROSS_FADE&&e.cloudsFade.fadeMode!==A.FADE_IN?this._fadeWeather(0):this._fadeWeather(e.cloudsFade.fadeFactor)}_fadeWeather(e){const{_newWeatherParameters:t,_oldWeatherParameters:s}=this;e>=1?this._weatherParameters=t:(this._fadedWeatherParameters.lerp(s,t,e),this._weatherParameters=this._fadedWeatherParameters)}_updateWeather(){const e=this._weatherUpdateParameters;null!=e&&null!=this._clouds&&(this._clouds.applyPreset(x[e.type],e.weatherAdjustment),this._setNeedsRender())}_setNeedsRender(){null!=this._context&&this._context.requestRender()}_updateFogHaze(){const e=this._weatherUpdateParameters;if(null==this._fog||null==e||null==this._context)return;const s=this._context.renderContext.bindParameters;switch(this._oldWeatherParameters.copyFrom(this._weatherParameters),e.type){case\"foggy\":this._newWeatherParameters.fog.strength=t(3e-5,.005,e.weatherAdjustment**3),d(this._newWeatherParameters.fog.color,H),this._newWeatherParameters.fog.amount=1,this._newWeatherParameters.hazeAmount=1,this._setNeedsRender();break;case\"rainy\":this._newWeatherParameters.fog.strength=t(4e-6,2e-4,(e.effect??0)**3),d(this._newWeatherParameters.fog.color,D),this._newWeatherParameters.fog.amount=1,this._newWeatherParameters.hazeAmount=0,this._setNeedsRender();break;case\"snowy\":this._newWeatherParameters.fog.strength=t(4e-6,2e-4,(e.effect??0)**3),d(this._newWeatherParameters.fog.color,H),this._newWeatherParameters.fog.amount=1,this._newWeatherParameters.hazeAmount=1,this._setNeedsRender();break;default:this._newWeatherParameters.fog.strength=0,this._newWeatherParameters.fog.amount=0,this._newWeatherParameters.hazeAmount=1,this._setNeedsRender()}s.weatherFading?this._fadeWeather(0):this._fadeWeather(1)}_updateAtmosphere(e){const t=this._selectAtmosphereType(e);if(t!==f.None&&this._context){if(!this._atmosphere||this._atmosphere.type!==t){this._atmosphere=s(this._atmosphere);const e=this._getAtmosphereClass(t);e&&(this._atmosphere=new e(this.view,this._context))}}else this._atmosphere=s(this._atmosphere);this._setNeedsRender()}_getAtmosphereClass(e){switch(e){case f.Realistic:return y;case f.Local:return W;case f.Mars:return j;default:case f.None:return null}}_selectAtmosphereType(e){const{enabled:t,viewingMode:s}=e;return!t||c(this.view.spatialReference)?f.None:s===w.Local?f.Local:null!=this._context&&y.isSupported(this._context)&&_(this.view.spatialReference)?f.Realistic:g(this.view.spatialReference)?f.Mars:f.None}get test(){return{atmosphere:this._atmosphere,clouds:this._clouds,selectAtmosphereType:()=>this._selectAtmosphereType({viewingMode:this.view.state.viewingMode,enabled:this.view.environment.atmosphereEnabled}),stubGetAtmosphereClass:e=>{k=U.prototype._getAtmosphereClass,U.prototype._getAtmosphereClass=e},restoreGetAtmosphereClass:()=>{U.prototype._getAtmosphereClass=k}}}};e([n({constructOnly:!0})],I.prototype,\"view\",void 0),e([n({readOnly:!0})],I.prototype,\"atmosphere\",null),e([n({readOnly:!0})],I.prototype,\"_atmosphereType\",null),e([n({type:Boolean,readOnly:!0})],I.prototype,\"updating\",null),e([n({readOnly:!0})],I.prototype,\"weatherVisible\",null),e([n()],I.prototype,\"_context\",void 0),e([n()],I.prototype,\"_atmosphere\",void 0),e([n({readOnly:!0})],I.prototype,\"_stars\",null),e([n({readOnly:!0})],I.prototype,\"_precipitation\",null),e([n({readOnly:!0})],I.prototype,\"_clouds\",null),e([n({readOnly:!0})],I.prototype,\"_cloudsComposition\",null),e([n({readOnly:!0})],I.prototype,\"_fog\",null),e([n({readOnly:!0})],I.prototype,\"weatherEnabled\",null),e([n({readOnly:!0})],I.prototype,\"_precipitationEnabled\",null),e([n({readOnly:!0})],I.prototype,\"_weatherUpdateParameters\",null),I=U=e([h(\"esri.views.3d.environment.EnvironmentRenderer\")],I);class V{constructor(){this.fog=new N,this.hazeAmount=1}copyFrom(e){this.fog.amount=e.fog.amount,this.hazeAmount=e.hazeAmount,this.fog.strength=e.fog.strength,d(this.fog.color,e.fog.color)}lerp(e,s,r){this.fog.amount=t(e.fog.amount,s.fog.amount,r),this.hazeAmount=t(e.hazeAmount,s.hazeAmount,r),this.fog.strength=t(e.fog.strength,s.fog.strength,r),p(this.fog.color,e.fog.color,s.fog.color,r)}}function q(e){e.cloudsFade.fadeMode!==A.CROSS_FADE&&e.cloudsFade.fadeMode!==A.FADE_IN?e.fadeLighting(0):e.fadeLighting(e.cloudsFade.fadeFactor)}const D=u(.5,.5,.5),H=u(1.5,1.5,1.5);let k;export{I as EnvironmentRenderer,V as WeatherParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../core/Evented.js\";import{destroyMaybe as i}from\"../../../core/maybe.js\";import{after as r}from\"../../../core/promiseUtils.js\";import{toUnit as n}from\"../../../core/quantityUtils.js\";import{watch as s,sync as o,syncAndInitial as a}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{s as d,h as l,c as p,m as u}from\"../../../chunks/vec32.js\";import{create as _,fromValues as g}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{canProjectWithoutEngine as m}from\"../../../geometry/projection.js\";import{projectPointToVector as f}from\"../../../geometry/projection/projectPointToVector.js\";import{isEarth as P}from\"../../../geometry/support/spatialReferenceUtils.js\";import{ViewingMode as v}from\"../../ViewingMode.js\";import{EnvironmentRenderer as y}from\"./EnvironmentRenderer.js\";import{positionToTimezoneInfo as w}from\"../support/earthUtils.js\";import{computeColorAndIntensity as U,computeVirtualLightDirection as b,computeShadowsEnabled as T,ColorAndIntensity as R}from\"../support/sunUtils.js\";import{Update as C}from\"../webgl-engine/lib/Update.js\";import{MainLight as M,AmbientLight as S,FillLight as G}from\"../webgl-engine/lighting/Lightsources.js\";import{euclideanDirectDistanceBetweenPoints as H}from\"../../support/euclideanLengthMeasurementUtils.js\";import j from\"../../../geometry/SpatialReference.js\";let L=class extends t.EventedAccessor{constructor(){super(),this._referencePointUpdateDelay=200,this._referencePointUpdateInterval=3e3,this._referencePointUpdateDistThreshold=1e6,this._referencePosUpdateQuery=null,this._referencePosMapCoordsRequested=null,this._viewHandlesKey=\"viewHandles\",this._preserveAbsoluteDateTime=!1,this._trackingEnabled=!1,this._referencePosResetPreserveAbsoluteTime=!1,this._referencePosUpdateTimer=null,this._referencePosMapCoords=null,this._mainLight=new M,this._ambientLight=new S,this._moonLight=new G,this.disableQueries=!1,this._disableWeather=!1,this._renderer=null,this._referencePositionGeographic=null,this._resetReferencePosition()}destroy(){this.disconnectView()}get _view(){return this._renderer?.view}get updating(){return!((this.disableQueries||!this._referencePosUpdateQuery&&!this._referencePosMapCoordsRequested)&&!this._renderer?.updating)}get weatherEnabled(){return this._view?.environment.atmosphereEnabled&&!this._disableWeather&&this._view?.state?.viewingMode===v.Global&&P(this._view.spatialReference)}get weatherVisible(){return this.weatherEnabled&&this._renderer?.weatherVisible}get referencePositionGeographic(){return this._referencePositionGeographic}connectView(e){if(this._renderer)return;this._renderer=new y({view:e});const t=()=>this._updateRenderParameters(),i=()=>this._cameraHandler();this.addHandles([s((()=>e.environment.lighting),(e=>this._updateLightingHandler(e)),o),s((()=>\"virtual\"!==e.environment.lighting.type?e.environment.lighting.date:null),(e=>this._lightingDateHandler(e)),o),s((()=>e.stationary),(()=>this._interactingStationaryHandler())),s((()=>e.environment.lighting.directShadowsEnabled),t,o),s((()=>e.qualitySettings.ambientOcclusion),t,o),s((()=>e.qualitySettings.reflections),t,o),s((()=>e.spatialReference),(()=>this._resetReferencePosition(!0)),o),s((()=>e.environment.weather.type),(()=>this._updateLighting(null,C.Faded)),o),s((()=>this.weatherEnabled),(()=>this._updateLighting(null,C.Faded)),o),s((()=>e.viewingMode),(()=>this._resetReferencePosition(!0)),a),s((()=>\"virtual\"!==e.environment.lighting.type&&e.environment.lighting.cameraTrackingEnabled),(e=>this._updateCameraTracking(e)),a),s((()=>e.state.camera),i,a),s((()=>this.disableQueries),i)],this._viewHandlesKey),this._updateRenderParameters(),this._updateLighting(),this._cameraHandler(),this.notifyChange(\"updating\")}disconnectView(){this.removeHandles(this._viewHandlesKey),this._resetReferencePosition(),this._renderer=i(this._renderer)}_updateLightingHandler(e){this._updateCameraTracking(\"virtual\"!==e.type&&e.cameraTrackingEnabled),this._lightingDateHandler(\"virtual\"!==e.type?e.date:null),this._updateRenderParameters()}_updateCameraTracking(e){if(this._trackingEnabled=e,e)this._cameraHandler();else{const e=this._view.environment.lighting;\"virtual\"!==e?.type&&(e.positionTimezoneInfo.autoUpdated=!1)}}_lightingDateHandler(e){const t=this._view.environment.lighting;if(\"virtual\"!==t?.type){if(e){if(!t.positionTimezoneInfo.autoUpdated){this._preserveAbsoluteDateTime=!0;const i=this._view.spatialReference;if(!m(i,j.WGS84)){const e=this._view.camera.position;if(!this._referencePosMapCoords||!this._referencePosMapCoords.equals(e))return void this._requestReferencePositionUpdate(e)}if(this._preupdateTracking(e),null!=this._referencePositionGeographic){const e=w(this._referencePositionGeographic,D);null!=e&&(t.autoUpdate(null,e),this._trackingEnabled&&(t.positionTimezoneInfo.autoUpdated=!0))}}this._updateLighting(e)}}else this._updateLighting()}_preupdateTracking(e){!this._trackingEnabled&&\"virtual\"!==this._view.environment.lighting.type&&this._view.environment.lighting.cameraTrackingEnabled&&this._cameraHandler(e)}_cameraHandler(e=null){const t=this._view;if(!t.ready)return;const i=t.stateManager.camera;i&&(this._cameraHandlerClientSide(i,e)||this._cameraHandlerServerSide(i))}_cameraHandlerClientSide(e,t){const i=P(this._view.spatialReference);if(i&&!m(this._view.spatialReference,j.WGS84))return\"virtual\"===this._view.environment.lighting.type&&this._updateLighting(),!1;const r=e.position;return this._referencePositionGeographic??=_(),i?f(r,this._referencePositionGeographic,j.WGS84):d(this._referencePositionGeographic,r.longitude??0,r.latitude??0,r.z??0),this.notifyChange(\"referencePositionGeographic\"),this._autoUpdateTimezone(this._referencePositionGeographic,t)||this._updateLighting(t),!0}_cameraHandlerServerSide(e){const t=e.position;(!this._referencePosMapCoords||this._referencePosMapCoordsRequested||this._exceedsReferencePosDistThreshold(t))&&this._requestReferencePositionUpdate(t,!0),this._view.mapCoordsHelper&&this._referencePositionGeographic&&(this._referencePositionGeographic[2]=(t.z??0)*this._view.mapCoordsHelper.unitInMeters,this._referencePosChanged())}_interactingStationaryHandler(){this._view.stationary&&this._executePendingReferencePositionUpdate()}_updateLighting(e,t=C.Immediate){const i=this._view;e=e||(\"virtual\"===i.environment.lighting.type?null:i.environment.lighting.date);const r=this._referencePositionGeographic,n=r?q:E,s=this.weatherVisible?i.environment.weather.type:\"disabled\";null!=r?U(e,r,i.state.viewingMode,s,i.state.camera,n):\"virtual\"===i.environment.lighting.type&&b(i.state.camera,i.state.viewingMode,n.direct.directionToLightSource);const o=this._mainLight,a=n.direct;l(o.intensity,a.color,a.intensity*Math.PI),p(o.direction,a.directionToLightSource),o.specularStrength=n.specularStrength,o.environmentStrength=n.environmentStrength;const h=this._ambientLight;l(h.intensity,n.ambient.color,n.ambient.intensity);const c=this._moonLight;u(c.intensity,k,I,n.globalFactor);const d=(1-.5*n.globalFactor)*(1-.4*n.noonFactor*(1-n.globalFactor));l(c.intensity,c.intensity,d),p(c.direction,a.directionToLightSource),this._renderer.updateLightSources([o,h,c],n.noonFactor,n.globalFactor,t),this._updateRenderParameters()}_autoUpdateTimezone(e,t=null){if(\"virtual\"===this._view.environment.lighting.type||!this._view.environment.lighting.cameraTrackingEnabled||null==e)return!1;const i=Q;i.setTime((t||this._view.environment.lighting.date).getTime());const r=w(e,D);if(null==r)return!1;let n=this._view.environment.lighting.positionTimezoneInfo;if(n.autoUpdated){if(n.hours===r.hours&&n.minutes===r.minutes&&n.seconds===r.seconds)return!1}else n=r;const s=i.getUTCHours()-(r.hours-n.hours),o=i.getUTCMinutes()-(r.minutes-n.minutes),a=i.getUTCSeconds()-(r.seconds-n.seconds);return i.setUTCHours(s),i.setUTCMinutes(o),i.setUTCSeconds(a),!t&&this._view.environment.lighting.autoUpdate(i,r)}_updateRenderParameters(){const e=this._view._stage;if(!e)return;const t=null==this._referencePositionGeographic||T(this._referencePositionGeographic[2],this._view.state.viewingMode);e.renderer.setParameters({shadowMap:this._view.environment.lighting.directShadowsEnabled&&t,environment:this._view.environment,weatherVisible:this._view.environmentManager.weatherVisible,qualitySettings:this._view.qualitySettings})}_resetReferencePosition(e=!1){this._cancelReferencePosUpdates(),this._referencePosMapCoords=null,this._referencePosMapCoordsRequested=null,this._referencePosResetPreserveAbsoluteTime=null,this._referencePositionGeographic=null,this.notifyChange(\"updating\"),e&&this._cameraHandler()}_requestReferencePositionUpdate(e,t=!1){if(!this.disableQueries&&(this._referencePosMapCoordsRequested?this._referencePosMapCoordsRequested.copy(e):this._referencePosMapCoordsRequested=e.clone(),this._referencePosResetPreserveAbsoluteTime=!!t,!this._referencePosUpdateQuery&&!this._referencePosUpdateTimer&&this._view.stationary)){const e=this._referencePosUpdateQuery=r(this._referencePointUpdateDelay).then((()=>{if(this._referencePosUpdateQuery===e){const t=()=>this._referencePosUpdateQuery!==e;return this._doReferencePositionUpdateQuery(t)}})).catch((e=>{\"mapcoordshelper:missing-geometry-service\"===e.name&&(this.disableQueries=!0)})).then((()=>{this._referencePosUpdateQuery===e&&(this._referencePosUpdateQuery=null,this._referencePosUpdateTimer||this._executePendingReferencePositionUpdate(),this.notifyChange(\"updating\"))})),t=this._referencePosUpdateTimer=r(this._referencePointUpdateInterval).then((()=>{this._referencePosUpdateTimer===t&&(this._referencePosUpdateTimer=null,this._referencePosUpdateQuery||this._executePendingReferencePositionUpdate())}));this.notifyChange(\"updating\")}}async _doReferencePositionUpdateQuery(e){this._referencePosResetPreserveAbsoluteTime&&(this._preserveAbsoluteDateTime=!1),this._referencePosMapCoords?this._referencePosMapCoords.copy(this._referencePosMapCoordsRequested):this._referencePosMapCoords=this._referencePosMapCoordsRequested.clone(),this._referencePosResetPreserveAbsoluteTime=null,this._referencePosMapCoordsRequested=null;const t=await this._view.mapCoordsHelper.toGeographic(this._referencePosMapCoords);if(!e()&&!isNaN(t[0])&&!isNaN(t[1])){const e=(this._referencePosMapCoords.z??0)*this._view.mapCoordsHelper.unitInMeters;this._referencePositionGeographic?d(this._referencePositionGeographic,t[0],t[1],e):this._referencePositionGeographic=g(t[0],t[1],e),this._referencePosChanged()}}_executePendingReferencePositionUpdate(){const e=this._referencePosMapCoordsRequested;e&&this._requestReferencePositionUpdate(e,this._referencePosResetPreserveAbsoluteTime)}_referencePosChanged(){this._preserveAbsoluteDateTime?this._updateLighting():this._autoUpdateTimezone(this._referencePositionGeographic)||this._updateLighting(),this.notifyChange(\"referencePositionGeographic\")}_exceedsReferencePosDistThreshold(e){const t=this._referencePosMapCoords;if(null==t)return!0;const i=H(t,e);if(null==i)return!0;return n(i,\"meters\").value>this._referencePointUpdateDistThreshold}_cancelReferencePosUpdates(){const e=!!this._referencePosUpdateQuery;return this._referencePosUpdateQuery=null,this._referencePosUpdateTimer=null,e}get test(){const e=this;return{get renderer(){return e._renderer},set referencePointUpdateInterval(t){e._referencePointUpdateInterval=t},set referencePointUpdateDistThreshold(t){e._referencePointUpdateDistThreshold=t},set referencePosUpdateTimer(t){e._referencePosUpdateTimer=t},set referencePointUpdateDelay(t){e._referencePointUpdateDelay=t},set disableWeather(t){e._disableWeather=t}}}};e([h({type:Boolean,readOnly:!0})],L.prototype,\"updating\",null),e([h()],L.prototype,\"disableQueries\",void 0),e([h()],L.prototype,\"_disableWeather\",void 0),e([h()],L.prototype,\"weatherEnabled\",null),e([h()],L.prototype,\"weatherVisible\",null),e([h()],L.prototype,\"referencePositionGeographic\",null),e([h()],L.prototype,\"_renderer\",void 0),e([h()],L.prototype,\"_referencePositionGeographic\",void 0),L=e([c(\"esri.views.3d.environment.SceneViewEnvironmentManager\")],L);const q=new R,E=new R,Q=new Date,D={hours:0,minutes:0,seconds:0},k=g(.22,.22,.33),I=g(.22,.22,.22);export{L as SceneViewEnvironmentManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar L;!function(L){L[L.NONE=0]=\"NONE\",L[L.TILT=1]=\"TILT\",L[L.ALTITUDE=2]=\"ALTITUDE\",L[L.DISTANCE=4]=\"DISTANCE\",L[L.COLLISION=8]=\"COLLISION\",L[L.ALL=15]=\"ALL\",L[L.ALL_EXCEPT_COLLISION=7]=\"ALL_EXCEPT_COLLISION\"}(L||(L={}));export{L as ConstraintTypes};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar O;!function(O){O[O.NONE=0]=\"NONE\",O[O.ZOOM=1]=\"ZOOM\",O[O.TUMBLE=2]=\"TUMBLE\",O[O.LOOK_AROUND=3]=\"LOOK_AROUND\",O[O.PAN=4]=\"PAN\",O[O.ASCEND=5]=\"ASCEND\"}(O||(O={}));export{O as InteractionType};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar O;!function(O){O[O.TUMBLE=0]=\"TUMBLE\",O[O.LOOK_AROUND=1]=\"LOOK_AROUND\"}(O||(O={}));export{O as TiltMode};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ConstraintTypes as t}from\"./ConstraintTypes.js\";import{InteractionType as i}from\"./InteractionType.js\";import{TiltMode as o}from\"./TiltMode.js\";class r{constructor(r=t.ALL,n=i.NONE,e=0,s=null,a=null,c=o.TUMBLE){this.selection=r,this.interactionType=n,this.interactionFactor=e,this.interactionStartCamera=s,this.interactionDirection=a,this.tiltMode=c}}export{r as ConstraintOptions};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{c as n,h as a,k as m}from\"../../../../chunks/vec32.js\";import{ConstraintOptions as t}from\"./ConstraintOptions.js\";import{ConstraintTypes as i}from\"./ConstraintTypes.js\";function o(n,a){return!!(n&a)}function r(n,a,m,t,i,o){0!==n&&(m?(o.min=Math.min(o.min,a),o.max=Math.max(o.max,a)):null!=t?(o.min-=Math.max(0,(a-o.min)*(1-t)),o.max+=Math.max(0,(a-o.max)*(1-t))):i&&(o.min-=Math.max(0,a-o.min-i),o.max+=Math.max(0,a-o.max-i)))}const s=new t(i.NONE);function x(t,i,o,r){return i=i||t.viewForward,n(r,i),a(r,r,Math.sign(m(i,o))),r}export{r as adjustRangeForInteraction,s as defaultConstraintOptions,o as hasConstraintType,x as interactionDirectionTowardsConstraintMinimization};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{c as e,h as r}from\"../../../../chunks/vec32.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{wrap as o}from\"../../../../geometry/support/ray.js\";import{interactionDirectionTowardsConstraintMinimization as i,defaultConstraintOptions as s,hasConstraintType as a,adjustRangeForInteraction as c}from\"./common.js\";import{ConstraintTypes as m}from\"./ConstraintTypes.js\";import{InteractionType as u}from\"./InteractionType.js\";import{closestPointOnRay as f}from\"../../support/intersectionUtils.js\";function l(t,r,n=s){const a=p(t,r,n);if(0===a)return!1;const c=t.renderCoordsHelper,m=c.getAltitude(r.eye)+a,u=i(r,n.interactionDirection,j(t,r,Math.sign(a),C),g),l=e(M,r.viewForward),d=c.intersectInfiniteManifold(o(r.eye,u),m,h);return r.eye=null!=d?d:c.setAltitude(h,m,r.eye),r.center=f(h,r.eye,l,r.center),!0}function p(e,r,n=s){if(!d(e,n)||!e.state.constraints.altitude)return 0;const o=x(e.state.constraints.altitude,T);y(e,n,o);const i=e.renderCoordsHelper.getAltitude(r.eye),a=t(i,o.min,o.max)-i;return Math.abs(a)<=1e-6?0:a}function d(t,e){const r=t.state.constraints.altitude;return!(!t.state.isGlobal||!r)&&(e.interactionType!==u.TUMBLE||!a(e.selection,m.TILT))}function y(t,e,r){const n=e.interactionType;if(n===u.NONE)return;const{min:o,max:i}=r,{interactionStartCamera:s,interactionFactor:a}=e;if(!s)return;const m=n===u.TUMBLE||n===u.ZOOM,f=p(t,s),l=0===f?0:t.renderCoordsHelper.getAltitude(s.eye);r.min=o,r.max=i;c(f,l,m,a,.05*l,r)}function j(t,e,n,o){return t.renderCoordsHelper.worldUpAtPosition(e.eye,o),r(o,o,n),o}function x(t,e){return e.min=t.min,e.max=t.max,e}const T={min:0,max:0},g=n(),C=n(),M=n(),h=n();export{l as applyAltitudeConstraint,p as getAltitudeConstraintError};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{c as e,f as r,g as n,q as t,E as o}from\"../../../../chunks/vec32.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{wrap as c}from\"../../../../geometry/support/ray.js\";import{i as s,k as a}from\"../../../../chunks/sphere.js\";import{defaultConstraintOptions as f,interactionDirectionTowardsConstraintMinimization as m,adjustRangeForInteraction as u}from\"./common.js\";import{InteractionType as p}from\"./InteractionType.js\";function d(e,r,n=f){if(!e.state.isLocal)return 0;const t=e.state.constraints.distance;if(!e.pointsOfInterest.surfaceOrigin.renderLocation||t===1/0)return 0;x.min=0,x.max=t,l(e,n,x);const o=O(e,r),i=x.max-o;return i>=-1e-6?0:i}function y(t,o,i=f){const u=d(t,o,i);if(0===u)return!1;const p=t.pointsOfInterest.surfaceOrigin;if(!p.renderLocation)return!1;const y=O(t,o)+u,l=e(L,o.eye),x=m(o,i.interactionDirection,g(o,p.renderLocation,h),I);if(!s(a(p.renderLocation,y),c(o.eye,x),k))return!1;o.eye=k;const C=r(j,o.eye,l);o.center=n(k,o.center,C);const N=t.renderCoordsHelper.getAltitude(o.center),v=t.renderCoordsHelper.intersectInfiniteManifold(o.ray,N,k);return null!=v&&(o.center=v),!0}function l(e,r,n){const t=r.interactionType;if(t===p.NONE)return;const{min:o,max:i}=n,{interactionStartCamera:c,interactionFactor:s}=r;if(!c)return;const a=t===p.ZOOM||t===p.PAN,f=d(e,c),m=0===f?0:O(e,c);n.min=o,n.max=i;u(f,m,a,s,.05*m,n)}function O(e,r){const n=e.pointsOfInterest.surfaceOrigin;return n.renderLocation?t(r.eye,n.renderLocation):0}function g(e,r,n){return o(n,e.eye,r)}const x={min:0,max:0},L=i(),j=i(),I=i(),h=i(),k=i();export{y as applyDistanceConstraint,d as getDistanceConstraintError};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{l as e,f as t,g as E,h as r}from\"../../../../chunks/vec32.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{surfaceElevationBelowRenderLocation as o}from\"../intersectionUtils.js\";function s(n,s,_=i.EYE){const a=n.state.constraints;if(!a.collision.enabled)return!1;const f=o(n,s.eye),N=n.renderCoordsHelper.getAltitude(s.eye),A=f+a.collision.elevationMargin;if(N>=A)return!1;const C=e(s.eye);if(t(c,s.center,s.eye),s.eye=n.renderCoordsHelper.setAltitude(l,A,s.eye),_===i.EYE_AND_CENTER)s.center=E(c,s.eye,c);else if(_===i.EYE_AND_CENTER_SCALE){const e=(C-N+A)/C;s.center=r(c,s.center,e)}return!0}var i;!function(e){e[e.EYE=0]=\"EYE\",e[e.EYE_AND_CENTER=1]=\"EYE_AND_CENTER\",e[e.EYE_AND_CENTER_SCALE=2]=\"EYE_AND_CENTER_SCALE\"}(i||(i={}));const c=n(),l=n();export{i as Mode,s as applySurfaceCollisionConstraint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{acosClamped as o}from\"../../../../core/mathUtils.js\";import{f as r,l as t,k as s}from\"../../../../chunks/vec32.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";function c(i,c,f){i.worldUpAtPosition(c,m),r(e,f,c);const n=t(e);return 0===n?0:o(s(e,m)/n)}const m=i(),e=i();export{c as viewAngle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";import{clamp as t,acosClamped as r,asinClamped as n,deg2rad as i}from\"../../../../core/mathUtils.js\";import{fromRotation as s}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{f as o,e as c,h as u,g as l,q as m,k as f,n as d,l as p,p as y}from\"../../../../chunks/vec32.js\";import{create as h}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as M}from\"../../../../geometry/ellipsoidUtils.js\";import{e as C,h as T,t as I}from\"../../../../chunks/sphere.js\";import{hasConstraintType as O,defaultConstraintOptions as A,adjustRangeForInteraction as D}from\"./common.js\";import{ConstraintTypes as S}from\"./ConstraintTypes.js\";import{InteractionType as x}from\"./InteractionType.js\";import{TiltMode as R}from\"./TiltMode.js\";import{viewAngle as w}from\"../../state/utils/viewUtils.js\";function j(t,r,n,i=!0){V.eyeCenterDistance=0,V.requiresTwoSteps=!1;const a=U(t,r,n,A,V);if(0===a)return!1;switch(s(_,-a,r.viewRight),n.tiltMode){case R.LOOK_AROUND:c(K,r.viewForward,_),u(K,K,V.eyeCenterDistance),r.center=l(z,r.eye,K);break;case R.TUMBLE:o(K,r.center,r.eye),c(K,K,_),r.eye=o(z,r.center,K);break;default:e(n.tiltMode)}return r.up=c(z,r.up,_),!V.requiresTwoSteps||!i||j(t,r,n,!1)}function U(e,t,r,n=A,i){if(!e.state.constraints.tilt)return 0;const s=t.distance,a=e.state.constraints.tilt(s,J);return N(e,r,a),n.interactionType===x.TUMBLE&&O(n.selection,S.ALTITUDE)&&B(e,n.interactionStartCamera,a),r.tiltMode===R.LOOK_AROUND||n.tiltMode===R.LOOK_AROUND?L(e,t,a,i):P(e,t,a)}function P(e,r,n){const i=w(e.renderCoordsHelper,r.center,r.eye),s=i-t(i,n.min,n.max);return v(s)?s:0}function L(e,t,r,n){switch(n&&(n.requiresTwoSteps=!1),e.viewingMode){case\"global\":return q(e,t,r,n);case\"local\":return g(e,t,r,n)}}function g(e,r,n,i){const s=w(e.renderCoordsHelper,r.center,r.eye),a=t(s,n.min,n.max),o=s-a;if(!v(o))return 0;if(i){const t=e.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,n=e.renderCoordsHelper.getAltitude(r.eye)-t,s=Math.cos(a);Math.abs(s)>1e-4?i.eyeCenterDistance=n/s:i.eyeCenterDistance=r.distance}return o}function q(e,r,n,i){const s=b(e,r,Q),a=t(s.tiltAtCenter,n.min,n.max);if(!v(s.tiltAtCenter-a))return 0;let o,c;return s.centerIsOnSurface?(o=H(s),c=k(s,o)):(o=s.constraints.clampTilt(s.eyeCenterDistance,s.tiltAtCenter),i&&o<Math.PI/2&&(i.requiresTwoSteps=!0,o=Math.PI/2-1e-5),c=F(s,o)),i&&(i.eyeCenterDistance=E(s,o)),c}function b(e,t,n){const i=e.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,s=i+M(e.spatialReference).radius,a=e.renderCoordsHelper.intersectManifold(t.ray,i,z);return n.eyeCenterDistance=t.distance,n.centerIsOnSurface=!1,null!=a?(n.eyeCenterDistance=m(t.eye,a),n.tiltAtCenter=w(e.renderCoordsHelper,a,t.eye),n.centerIsOnSurface=!0):e.state.isLocal?n.tiltAtCenter=w(e.renderCoordsHelper,t.center,t.eye):(C(T(I,s),t.ray,z),n.eyeCenterDistance=m(t.eye,z),n.tiltAtCenter=r(-f(t.viewForward,d(z,z)))),n.radius=s,n.eyeRadius=p(t.eye),n.constraints=e.state.constraints,n}function v(e){return Math.abs(e)>1e-9}function H(e){const{constraints:t,eyeCenterDistance:r,tiltAtCenter:n}=e;let i=n,s=t.clampTilt(r,n);const a=E(e,s);if(t.clampTilt(a,n)===s)return s;let o=0;for(;o<10&&v(s-i);){const r=(i+s)/2,n=E(e,r);v(t.clampTilt(n,r)-r)?i=r:s=r,o++}return s}function E(e,r){if(!e.centerIsOnSurface)return e.eyeCenterDistance;const i=Math.PI-t(r,0,Math.PI),s=n(e.radius/e.eyeRadius*Math.sin(i)),a=Math.PI-i-s,o=Math.sin(a)/Math.sin(i);if(e.eyeRadius<e.radius&&o>1){const t=Math.PI-s,r=Math.PI-i-t;return Math.sin(r)/Math.sin(i)*e.eyeRadius}return o*e.eyeRadius}function k(e,t){const r=n(e.radius/e.eyeRadius*Math.sin(e.tiltAtCenter)),i=n(e.radius/e.eyeRadius*Math.sin(t));return e.eyeRadius>e.radius?r-i:i-r}function F(e,t){return e.tiltAtCenter-Math.PI/2-(t-Math.PI/2)}function N(e,t,r){if(t.interactionType===x.NONE)return;const{interactionStartCamera:n,interactionFactor:i}=t;if(!n)return;const{min:s,max:a}=r,o=U(e,n,A,t),c=0===o?0:w(e.renderCoordsHelper,n.center,n.eye);r.min=s,r.max=a,t.interactionType===x.TUMBLE?(O(t.selection,S.ALTITUDE)&&B(e,n,r),D(o,c,!0,i,G,r)):D(o,c,!1,i,G,r)}function B(e,t,n){const i=e.state.constraints;if(e.state.isLocal||!i.altitude||!t)return;const s=y(t.center),a=Math.sqrt(s),o=t.distance,c=M(e.spatialReference).radius,u=i.altitude.min+c,l=i.altitude.max+c,m=(u*u-o*o-s)/(-2*a*o),f=(l*l-o*o-s)/(-2*a*o);n.min=Math.max(n.min,Math.min(Math.PI-r(f),n.max)),n.max=Math.min(n.max,Math.PI-r(m))}const K=h(),_=a(),z=h(),G=i(5),J={min:0,max:0},Q={constraints:null,radius:0,eyeRadius:0,centerIsOnSurface:!0,eyeCenterDistance:0,tiltAtCenter:0},V={eyeCenterDistance:0,requiresTwoSteps:!1};export{j as applyTiltConstraint,U as getTiltConstraintError};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst t=t=>t,u=t=>t*t,o=t=>1-u(1-t),i=t=>t<.5?u(2*t)/2:(o(2*(t-.5))+1)/2,n=t=>t*t*t,c=t=>1-n(1-t),a=t=>t<.5?n(2*t)/2:(c(2*(t-.5))+1)/2,s=t=>t*t*t*t,q=t=>1-s(1-t),r=t=>t<.5?s(2*t)/2:(q(2*(t-.5))+1)/2,e=t=>t*t*t*t*t,b=t=>1-e(1-t),d=t=>t<.5?e(2*t)/2:(b(2*(t-.5))+1)/2,h=t=>1-Math.cos(t*Math.PI/2),p=t=>1-h(1-t),x=t=>t<.5?h(2*t)/2:(p(2*(t-.5))+1)/2,M=t=>2**(10*(t-1)),f=t=>1-M(1-t),l=t=>t<.5?M(2*t)/2:(f(2*(t-.5))+1)/2,I=t=>-(Math.sqrt(1-t*t)-1),P=t=>1-I(1-t),g=t=>t<.5?I(2*t)/2:(P(2*(t-.5))+1)/2;function j(t){const u=2*(t-Math.sqrt((t-1)*t)),o=u/2/t;return i=>i<o?t*i*i:u*i-u+1}function k(t,u){return(o,i)=>o<u?u*t(o/u,i):1-t((1-o)/(1-u),i)*(1-u)}const m=k(j(1),1),v=k(j(1),0),w=k(j(1),.5),y=k(j(2),1),z=k(j(2),0),A=k(j(2),.5),B=k(j(3),1),C=k(j(3),0),D=k(j(3),.5),E=k(j(4),1),F=k(j(4),0),G=k(j(4),.5),H={linear:t,\"in-quad\":u,\"out-quad\":o,\"in-out-quad\":i,\"in-coast-quad\":m,\"out-coast-quad\":v,\"in-out-coast-quad\":w,\"in-cubic\":n,\"out-cubic\":c,\"in-out-cubic\":a,\"in-coast-cubic\":y,\"out-coast-cubic\":z,\"in-out-coast-cubic\":A,\"in-quart\":s,\"out-quart\":q,\"in-out-quart\":r,\"in-coast-quart\":B,\"out-coast-quart\":C,\"in-out-coast-quart\":D,\"in-quint\":e,\"out-quint\":b,\"in-out-quint\":d,\"in-coast-quint\":E,\"out-coast-quint\":F,\"in-out-coast-quint\":G,\"in-sine\":h,\"out-sine\":p,\"in-out-sine\":x,\"in-expo\":M,\"out-expo\":f,\"in-out-expo\":l,\"in-circ\":I,\"out-circ\":P,\"in-out-circ\":g};export{H as EasingFunctions,I as inCirc,y as inCoastCubic,m as inCoastQuad,B as inCoastQuart,E as inCoastQuint,n as inCubic,M as inExpo,g as inOutCirc,A as inOutCoastCubic,w as inOutCoastQuad,D as inOutCoastQuart,G as inOutCoastQuint,a as inOutCubic,l as inOutExpo,i as inOutQuad,r as inOutQuart,d as inOutQuint,x as inOutSine,u as inQuad,s as inQuart,e as inQuint,h as inSine,t as linear,P as outCirc,z as outCoastCubic,v as outCoastQuad,C as outCoastQuart,F as outCoastQuint,c as outCubic,f as outExpo,o as outQuad,q as outQuart,b as outQuint,p as outSine};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getAltitudeConstraintError as t,applyAltitudeConstraint as o}from\"./constraintUtils/altitude.js\";import{hasConstraintType as r}from\"./constraintUtils/common.js\";import{ConstraintOptions as n}from\"./constraintUtils/ConstraintOptions.js\";import{ConstraintTypes as i}from\"./constraintUtils/ConstraintTypes.js\";import{getDistanceConstraintError as s,applyDistanceConstraint as e}from\"./constraintUtils/distance.js\";import{InteractionType as a}from\"./constraintUtils/InteractionType.js\";import{applySurfaceCollisionConstraint as c,Mode as p}from\"./constraintUtils/surfaceCollision.js\";import{applyTiltConstraint as m,getTiltConstraintError as l}from\"./constraintUtils/tilt.js\";import{inOutCubic as f}from\"../../animation/easing.js\";function E(t,o,n=C,s=o){s!==o&&s.copyFrom(o),s.computeUp(t.state.viewingMode);let e=!1;for(let i=0;i<N;i++){let o=0;for(const i of U)if(r(n.selection,i.type)){const r=Math.abs(i.error(t,s,n));i.apply(t,s,n)&&(e=!0,o+=r)}if(0===o)break}const a=r(n.selection,i.COLLISION),p=u(n.interactionType,t);return a&&c(t,s,p)&&(e=!0),e&&s.computeUp(t.state.viewingMode),e}function u(t,o){switch(t){case a.PAN:return p.EYE_AND_CENTER;case a.ASCEND:return o.state.isGlobal?p.EYE_AND_CENTER_SCALE:p.EYE_AND_CENTER;default:return p.EYE}}function y(t){const o=Math.min(1,t/150);return f(o)}function T(t,o,r){return l(t,o,r)*o.distance}const U=[{type:i.TILT,error:T,apply:m},{type:i.ALTITUDE,error:t,apply:o},{type:i.DISTANCE,error:s,apply:e}],C=new n,N=5;export{E as applyAll,y as pixelDistanceToInteractionFactor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{lerp as t}from\"../../../../core/mathUtils.js\";import{transpose as i}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as e}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{l as s,q as o,m as a,c as h,f as n,t as c,h as r,b as m,k as p,g as l,n as d}from\"../../../../chunks/vec32.js\";import{create as M,clone as y,UNIT_Z as g,UNIT_Y as w,UNIT_X as u}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ViewingMode as f}from\"../../../ViewingMode.js\";import{angle as P,slerp as A}from\"../../support/mathUtils.js\";class _{constructor(t){this.viewingMode=t,this.center=M(),this.pitch=0,this.yaw=0,this.distance=0,this.direction=y(F),this.fov=55,this.size=1}pixelsPerPanAtZoom(t){return this.size/2/(this._zoomToPanScale*t)}zoomAtPixelsPerPan(t){return this.size/2/(this._zoomToPanScale*t)}pixelsPerRotateAtZoom(){const t=Math.max(Math.cos(Math.abs(this.pitch)),.5);return this.size/2/t}compareTo(t,i){if(i||(i={pan:0,rotate:0,sourceZoom:0,targetZoom:0}),this.viewingMode===f.Global){const e=(s(this.center)+s(t.center))/2;i.pan=P(this.center,t.center)*e}else i.pan=o(this.center,t.center);let e=Math.abs(t.yaw-this.yaw);e>=Math.PI&&(e=2*Math.PI-e);const a=Math.abs(t.pitch-this.pitch);return i.rotate=Math.max(e,a),i.sourceZoom=this.distance,i.targetZoom=t.distance,i}interpolate(i,e,s){this.viewingMode===f.Global?A(i.center,e.center,s.pan,this.center):a(this.center,i.center,e.center,s.pan),this.distance=isFinite(e.distance)?t(i.distance,e.distance,s.zoom):i.distance,this.pitch=t(i.pitch,e.pitch,s.rotate);let o=i.yaw;const h=e.yaw;Math.abs(h-o)>=Math.PI&&(o+=2*(o<h?1:-1)*Math.PI),this.yaw=t(o,h,s.rotate)}copyFrom(t){h(this.center,t.center),this.pitch=t.pitch,this.yaw=t.yaw,this.distance=t.distance,h(this.direction,t.direction),this.size=t.size,this.copyFromCommon(t),this.viewingMode=t.viewingMode}copyFromRenderCamera(t){const i=this._lookAtOrientation(t.center,Z);h(this.center,t.center),n(j,t.center,t.eye),c(j,j,i),c(k,t.up,i),this.distance=s(j),0!==this.distance&&(j[0]/=this.distance,j[1]/=this.distance,j[2]/=this.distance),this.pitch=this._eyeUpToPitch(j),this.yaw=x(j,k),this.size=Math.sqrt(t.width*t.width+t.height*t.height),this.copyFromCommon(t)}copyFromCommon(t){this.fov=t.fov,this._zoomToPanScale=Math.atan(.5*this.fov)}copyToRenderCamera(t){const e=this._lookAtOrientation(this.center,Z);i(e,e),this._axisAngleVec3(V,this.pitch-Math.PI/2,F,j),this._axisAngleVec3(T,this.yaw,j,j),this._axisAngleVec3(V,this.pitch-Math.PI/2,T,k),this._axisAngleVec3(T,this.yaw,k,k),r(j,j,this.distance),c(j,j,e),c(k,k,e),t.center=this.center,t.eye=n(j,this.center,j),t.up=k}_axisAngleVec3(t,i,e,s){const o=Math.cos(i),a=Math.sin(i);return r(v,e,o),m(z,t,e),r(z,z,a),r(b,t,(1-o)*p(t,e)),l(s,l(s,v,z),b)}_lookAtOrientation(t,i=e()){return this._upAtLookAt(t,b),m(v,this.direction,b),d(v,v),0===v[0]&&0===v[1]&&0===v[2]&&h(v,V),m(z,b,v),d(z,z),i[0]=v[0],i[1]=z[0],i[2]=b[0],i[3]=v[1],i[4]=z[1],i[5]=b[1],i[6]=v[2],i[7]=z[2],i[8]=b[2],i}_upAtLookAt(t,i){return this.viewingMode===f.Local?h(i,T):d(i,t)}_eyeUpToPitch(t){return Math.PI-P(T,t)}}function x(t,i){const e=I;return Math.abs(i[2])<.5?(h(e,i),t[2]>0&&r(e,e,-1)):h(e,t),m(z,e,T),d(z,z),P(V,z,T)}const v=M(),z=M(),b=M(),j=M(),k=M(),I=M(),T=g,F=w,V=u,Z=e();export{_ as Camera};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{Milliseconds as e}from\"../../../core/time.js\";const o={desiredScreenFlow:2,minDuration:e(500),maxDuration:e(8e3)};export{o as defaultSettings};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{defaultSettings as e}from\"./Settings.js\";class t{constructor(t){this._createCamera=t,this.compared={sourceZoom:0,targetZoom:0,pan:0,rotate:0},this.settings={desiredScreenFlow:e.desiredScreenFlow},this.source=t(),this.target=t()}clone(){const e=new t(this._createCamera);return e.copyFrom(this),e}copyFrom(e){this.update(e.source,e.target,e.settings)}update(t,r,s){this.source!==t&&this.source.copyFrom(t),this.target!==r&&this.target.copyFrom(r),this.compared=this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=null!=s.desiredScreenFlow?s.desiredScreenFlow:e.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(e){const t=this.target.pixelsPerPanAtZoom(e);return this.halfWindowSize/t}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>1e-9}get hasRotate(){return this.compared.rotate>1e-9}}export{t as Definition};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{Seconds as t}from\"../../../core/time.js\";let e=class{constructor(){this.segments=[]}get time(){return this.segments.reduce(((e,o)=>t(e+o.time)),t(0))}interpolateComponentsAt(t,e){t=Math.min(Math.max(t,0),1),t*=this.time;let o=0,s=0;const n=this.definition;for(let a=0;a<this.segments.length;a++){const m=this.segments[a],i=m.definition;if(t<=m.time||a===this.segments.length-1){if(e=this.segmentInterpolateComponentsAt(m,0===m.time?0:t/m.time,e),n.hasPan&&!isNaN(e.pan)&&isFinite(n.compared.pan)?e.pan=(o+i.compared.pan*e.pan)/n.compared.pan:e.pan=1,n.hasRotate&&!isNaN(e.rotate)&&isFinite(n.compared.rotate)?e.rotate=(s+i.compared.rotate*e.rotate)/n.compared.rotate:e.rotate=1,n.hasZoom&&!isNaN(e.zoom)&&isFinite(i.compared.targetZoom)){const t=e.zoom*(i.compared.targetZoom-i.compared.sourceZoom)+i.compared.sourceZoom,o=this.segments[0].definition.compared.sourceZoom,s=this.segments[this.segments.length-1].definition.compared.targetZoom;e.zoom=(t-o)/(s-o)}else e.zoom=1;return e}t-=m.time,o+=i.compared.pan,s+=i.compared.rotate}}segmentInterpolateComponentsAt(t,e,o){return t.interpolateComponentsAt(e,o)}};export{e as Path};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{Seconds as t}from\"../../../core/time.js\";class i{get time(){return this._time}constructor(t){t&&this.update(t)}update(t){t&&(this.definition?this.definition.copyFrom(t):this.definition=t.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const t=this.definition,i=t.compared,o=i.sourceZoom,e=i.targetZoom;this._zoomSign=o>e?1:-1,this._panPixelsAtSource=i.pan*t.source.pixelsPerPanAtZoom(o);const n=(t.source.pixelsPerRotateAtZoom(o)+t.target.pixelsPerRotateAtZoom(e))/2;this._rotatePixels=i.rotate*n}_updatePixelFlow(){const i=this.definition.compared.sourceZoom,o=this.definition.compared.targetZoom,{hasZoom:e,hasPan:n,hasRotate:s}=this.definition;let a=0,h=0;e&&(n&&(a=(o/i-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),s&&(h=this._zoomSign*(Math.log(i/o)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const l=this.definition.desiredPixelFlow;if(e&&n&&s){const t=a+h+a*h;this._zoomPixelFlow=a*h/t*l,this._panPixelFlow=h/t*l,this._rotatePixelFlow=a/t*l}else if(e&&n){const t=1+a;this._zoomPixelFlow=a/t*l,this._panPixelFlow=1/t*l}else if(e&&s){const t=1+h;this._zoomPixelFlow=h/t*l,this._rotatePixelFlow=1/t*l}else if(n&&s){const t=this._panPixelsAtSource/this._rotatePixels,i=1+t;this._panPixelFlow=t/i*l,this._rotatePixelFlow=1/i*l}else n?this._panPixelFlow=l:e?this._zoomPixelFlow=l:s&&(this._rotatePixelFlow=l);this._time=s?this.rotateTime:e?this.zoomTime:n?this.panTime:t(0)}get rotateTime(){return this.definition.hasRotate?t(this._rotatePixels/this._rotatePixelFlow):t(0)}get zoomTime(){return this.definition.hasZoom?t(this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow):t(0)}get panTime(){if(this.definition.hasPan){if(this.definition.hasZoom){const i=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,o=i*this._panPixelsAtSource;return t(Math.log(o*(this._zoomPixelFlow/this._panPixelFlow)+1)/(i*this._zoomPixelFlow))}return t(this._panPixelsAtSource/this._panPixelFlow)}return t(0)}_interpolateComponentsZoom(t){if(0===t||1===t)return t;if(this.definition.hasZoom){const i=this.definition.compared.sourceZoom,o=this.definition.compared.targetZoom;return(i*(i/o)**-t-i)/(o-i)}return t}_interpolateComponentsPan(t){if(0===t||1===t)return t;if(this.definition.hasPan&&this.definition.hasZoom){const i=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(i*t*this._time)-1))/(i*Math.LN2)}return t}_interpolateComponentsRotate(t){return t}interpolateComponentsAt(t,i){t=Math.min(Math.max(t,0),1);const o=this._interpolateComponentsZoom(t),e=this._interpolateComponentsPan(t),n=this._interpolateComponentsRotate(t);return i?(i.zoom=o,i.pan=e,i.rotate=n):i={zoom:o,pan:e,rotate:n},i}}export{i as Segment};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction o(o,a,e){const n=a-o.compared.sourceZoom,t=o.halfWindowPanAtZoom(n);return-o.halfWindowSize*(e.ascensionFactor*Math.LN2*o.compared.pan+t)*Math.log(o.compared.sourceZoom/a)/(o.desiredPixelFlow*Math.LN2*t)}function a(o,a,e){const n=1/a,t=Math.log(o.compared.sourceZoom*n),i=1/o.desiredPixelFlow,r=1/Math.LN2,d=a-o.compared.sourceZoom,c=1/d,l=(e.ascensionFactor*Math.LN2*o.compared.pan+o.halfWindowPanAtZoom(d))/o.halfWindowPanAtZoom(1);return o.halfWindowSize*n*i*r*c*l-o.halfWindowSize*t*i*r*c+o.halfWindowSize*t*i*r*l/(d*d)}function e(o,a,e){const n=a-o.compared.sourceZoom,t=1/n,i=1/a,r=Math.log(o.compared.sourceZoom*i),d=(e.ascensionFactor*Math.LN2*o.compared.pan+o.halfWindowPanAtZoom(n))/o.halfWindowPanAtZoom(1);return o.halfWindowSize*t*(-2*t*i*d+2*t*r+2*i-2*r*d/(n*n)-d/(a*a))/(o.desiredPixelFlow*Math.LN2)}function n(o,a){return-o.halfWindowSize*Math.log(o.compared.sourceZoom/a)/(o.desiredPixelFlow*Math.LN2)}function t(o,a){return o.halfWindowSize/(a*o.desiredPixelFlow*Math.LN2)}function i(o,a){return-o.halfWindowSize/(a*a*o.desiredPixelFlow*Math.LN2)}function r(o,a,e){return-o.compared.pan*o.halfWindowSize*(e.ascensionFactor+e.descensionFactor-1)/(o.desiredPixelFlow*o.halfWindowPanAtZoom(a))}function d(o,a,e){return o.compared.pan*o.halfWindowSize*(e.ascensionFactor+e.descensionFactor-1)/(o.desiredPixelFlow*o.halfWindowPanAtZoom(a*a))}function c(o,a,e){return-2*o.compared.pan*o.halfWindowSize*(e.ascensionFactor+e.descensionFactor-1)/(o.desiredPixelFlow*o.halfWindowPanAtZoom(a*a*a))}function l(o,a,e){return o.halfWindowSize*(-o.halfWindowPanAtZoom(a)-e.descensionFactor*Math.LN2*o.compared.pan+o.halfWindowPanAtZoom(o.compared.targetZoom))*Math.log(a/o.compared.targetZoom)/(o.desiredPixelFlow*Math.LN2*o.halfWindowPanAtZoom(-a+o.compared.targetZoom))}function m(o,a,e){const n=Math.log(a/o.compared.targetZoom),t=1/o.desiredPixelFlow,i=1/Math.LN2,r=-a+o.compared.targetZoom,d=1/r,c=(-o.halfWindowPanAtZoom(a)-e.descensionFactor*Math.LN2*o.compared.pan+o.halfWindowPanAtZoom(o.compared.targetZoom))/o.halfWindowPanAtZoom(1);return-o.halfWindowSize*n*t*i*d+o.halfWindowSize*n*t*i*c/(r*r)+o.halfWindowSize*t*i*d*c/a}function h(o,a,e){const n=a-o.compared.targetZoom,t=1/n,i=1/a,r=Math.log(a/o.compared.targetZoom),d=(o.halfWindowPanAtZoom(a)+e.descensionFactor*Math.LN2*o.compared.pan-o.halfWindowPanAtZoom(o.compared.targetZoom))/o.halfWindowPanAtZoom(1);return o.halfWindowSize*t*(-2*t*i*d-2*t*r+2*i+2*r*d/(n*n)-d/(a*a))/(o.desiredPixelFlow*Math.LN2)}function s(o,a){return o.halfWindowSize*Math.log(a/o.compared.targetZoom)/(o.desiredPixelFlow*Math.LN2)}function f(o,a){return o.halfWindowSize/(a*o.desiredPixelFlow*Math.LN2)}function w(o,a){return-o.halfWindowSize/(a*a*o.desiredPixelFlow*Math.LN2)}function p(o){const a=Math.LN2*o.compared.pan,e=o.compared.sourceZoom-o.compared.targetZoom,n=o.halfWindowPanAtZoom(e),t=o.halfWindowSize*Math.log(o.compared.sourceZoom/o.compared.targetZoom)/(o.desiredPixelFlow*Math.LN2*n);return o.compared.sourceZoom<=o.compared.targetZoom?t*(a-n):t*(a+n)}export{i as ddtAscensionZoomOnly,e as ddtAscensionZoomPan,w as ddtDescensionZoomOnly,h as ddtDescensionZoomPan,c as ddtPanion,t as dtAscensionZoomOnly,a as dtAscensionZoomPan,f as dtDescensionZoomOnly,m as dtDescensionZoomPan,d as dtPanion,n as tAscensionZoomOnly,o as tAscensionZoomPan,p as tBaseLine,s as tDescensionZoomOnly,l as tDescensionZoomPan,r as tPanion};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{tBaseLine as o,tPanion as e,dtPanion as n,ddtPanion as a,tAscensionZoomOnly as t,tAscensionZoomPan as c,dtAscensionZoomOnly as s,dtAscensionZoomPan as m,ddtAscensionZoomOnly as r,ddtAscensionZoomPan as i,tDescensionZoomOnly as u,tDescensionZoomPan as l,dtDescensionZoomOnly as d,dtDescensionZoomPan as x,ddtDescensionZoomOnly as p,ddtDescensionZoomPan as F}from\"./functions.js\";function f(f,Z){let P=D(f,Z);const b={ascensionFactor:null!=Z.ascensionFactor?Z.ascensionFactor:.5,descensionFactor:null!=Z.descensionFactor?Z.descensionFactor:.5},g=0===b.ascensionFactor,h=0===b.descensionFactor,M=g?t:c,k=g?s:m,N=g?r:i,j=h?u:l,w=h?d:x,z=h?p:F,A=o=>M(f,o,b)+e(f,o,b)+j(f,o,b),I=o=>k(f,o,b)+n(f,o,b)+w(f,o,b),q=o=>N(f,o,b)+a(f,o,b)+z(f,o,b);let v=A(P);const y=o(f);let B;const C=Z.maximumIterations||20,E=null!=Z.maximumDistance?Z.maximumDistance:1/0;for(B=0;B<C;B++){const o=1e-6,e=(I(P)+o)/q(P);if(isNaN(e)||P>=E&&e<0){if(!isFinite(E))return null;P=E,v=A(P);break}if(P-=e,P<f.compared.sourceZoom||P<f.compared.targetZoom)return null;const n=A(P);if(Math.abs(n-v)/v<=.005)break;v=n}return v>y*(1-.3)||P<f.compared.sourceZoom||P<f.compared.targetZoom?null:P}function D(o,e){const n=Math.max(o.compared.sourceZoom,o.compared.targetZoom),a=o.source.zoomAtPixelsPerPan(o.desiredPixelFlow/o.compared.pan)/2;return a<n?null!=e.maximumDistance?n+(e.maximumDistance-n)/2:1.5*n:e.maximumDistance?Math.min(e.maximumDistance,a):a}export{f as optimalDistance};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{outQuad as i,inQuad as e}from\"../../easing.js\";import{Path as n}from\"../Path.js\";import{Segment as t}from\"../Segment.js\";import{optimalDistance as o}from\"./planning.js\";class s extends n{constructor(i,e){super(),this._preallocSegments=[new t,new t,new t],this._ascensionSegment=null,this._descensionSegment=null,this.update(i,e)}update(i,e){if(!i)return;this.definition?this.definition.copyFrom(i):this.definition=i.clone();let n=null;e?.apex&&(n=o(i,e.apex)),this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,null==n?this._updateWithoutApex():this._updateWithApex(n,e?.apex)}segmentInterpolateComponentsAt(n,t,o){return o=n.interpolateComponentsAt(t,o),n===this._ascensionSegment?o.zoom=i(o.zoom):n===this._descensionSegment&&(o.zoom=e(o.zoom)),o}_updateWithApex(i,e){const[n,t,o]=this._preallocSegments,s=e?.ascensionFactor??.5,d=Math.min(1-s,null!=e?.ascensionFactor&&null!=e.descensionFactor?e.descensionFactor:.5),a=1-s-d;n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.compared.targetZoom=i,n.definition.compared.pan=this.definition.compared.pan*s,n.definition.compared.rotate=this.definition.compared.rotate*s,n.update(),this._ascensionSegment=n,this.segments.push(n),a>0&&(t.definition?t.definition.copyFrom(this.definition):t.definition=this.definition.clone(),t.definition.copyFrom(this.definition),t.definition.compared.sourceZoom=i,t.definition.compared.targetZoom=i,t.definition.compared.pan=this.definition.compared.pan*a,t.definition.compared.rotate=this.definition.compared.rotate*a,t.update(),this.segments.push(t)),o.definition?o.definition.copyFrom(this.definition):o.definition=this.definition.clone(),o.definition.compared.sourceZoom=i,o.definition.compared.pan=this.definition.compared.pan*d,o.definition.compared.rotate=this.definition.compared.rotate*d,o.update(),this._descensionSegment=o,this.segments.push(o)}_updateWithoutApex(){const[i]=this._preallocSegments;i.update(this.definition),this.segments.push(i)}}export{s as Path};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{Milliseconds as t,millisecondsFromSeconds as i,Seconds as e}from\"../../../core/time.js\";import{inOutCoastQuad as n,outExpo as a}from\"../easing.js\";import{Definition as s}from\"./Definition.js\";import{defaultSettings as o}from\"./Settings.js\";import{Path as r}from\"./apex/Path.js\";const m={zoom:0,pan:0,rotate:0};let h=class{get time(){return this._time}constructor(i){this._createCamera=i,this._time=t(0),this.definition=new s(i),this.path=new r}update(t,s,o){this.definition.update(t,s,o),this.path.update(this.definition,o),this._time=this._applyTimeSettings(i(isFinite(this.path.time)?this.path.time:e(0)),o),this._easing=o.easing??(this._time>=1e3?n:a)}cameraAt(t,i){i=i||this._createCamera(),t=Math.min(Math.max(0,t),1),t=this._normalizedEasing(t);const e=this.path.interpolateComponentsAt(t,m);return i.interpolate(this.definition.source,this.definition.target,e),i}_normalizedEasing(t){const i=this._easing(0,this._time),e=this._easing(1,this._time);return(this._easing(t,this._time)-i)/(e-i)}_applyTimeSettings(i,e){const n=null!=e.speedFactor?e.speedFactor:1;null!=e.duration?i=e.duration:null!=e.speedFactor&&(i=t(i/n));const a=null!=e.minDuration?e.minDuration:o.minDuration/n,s=null!=e.maxDuration?e.maxDuration:o.maxDuration/n;return t(Math.min(Math.max(a,i),s))}};export{h as Animation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{Milliseconds as t,millisecondsFromSeconds as i}from\"../../../../core/time.js\";import{f as e,l as r,c as n}from\"../../../../chunks/vec32.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Camera as s}from\"./Camera.js\";import a from\"../../webgl/RenderCamera.js\";import{Animation as o}from\"../../../animation/pointToPoint/Animation.js\";class c{get finished(){return this.currentTime>=this._animation.time}get time(){return this._animation.time}constructor(i){this.currentTime=t(0),this._animation=new o((()=>new s(i))),this._current=new s(i)}update(i,m,s){const{source:a,target:o}=this._animation.definition,c=e(h,m.center,i.center),u=r(c);u>=1e-5?(c[0]/=u,c[1]/=u,c[2]/=u):(c[0]=0,c[1]=1,c[0]=0),n(a.direction,c),n(o.direction,c),a.copyFromRenderCamera(i),o.copyFromRenderCamera(m),this._current.copyFrom(a),this._animation.update(a,o,s),this.currentTime=t(0),i.almostEquals(m)&&(this.currentTime=this._animation.time)}cameraAt(t,i){return this._animation.cameraAt(t,this._current),i=i||new a,this._current.copyToRenderCamera(i),i}step(e,r){return this.finished||(this.currentTime=t(this.currentTime+i(e)),this.currentTime>=this.time&&(this.currentTime=this.time)),this.cameraAt(this.currentTime/this.time,r)}}const h=m();export{c as Animation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";var s;!function(t){t[t.Ready=0]=\"Ready\",t[t.Rejected=1]=\"Rejected\",t[t.Running=2]=\"Running\",t[t.Stopped=3]=\"Stopped\",t[t.Finished=4]=\"Finished\"}(s||(s={}));let n=class extends e{constructor(t){super(t),this.state=s.Ready}get active(){return this.state===s.Running}get isInteractive(){return!1}get canStop(){return!1}stopController(){return!!this.canStop&&(this.state=s.Stopped,!0)}finishController(){this.state=s.Finished}get steppingFinished(){return!1}};t([r({constructOnly:!0})],n.prototype,\"view\",void 0),t([r({readOnly:!0})],n.prototype,\"active\",null),t([r()],n.prototype,\"state\",void 0),t([r({readOnly:!0})],n.prototype,\"isInteractive\",null),n=t([o(\"esri.views.3d.state.controllers.CameraController\")],n);export{n as CameraController,s as State};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{assertIsSome as s}from\"../../../../core/maybe.js\";import{createAbortError as i}from\"../../../../core/promiseUtils.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/Error.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../ViewAnimation.js\";import{CameraController as o,State as r}from\"./CameraController.js\";let a=class extends o{constructor(){super(...arguments),this._asyncResult=null}get canStop(){return!0}set asyncResult(t){this._asyncResult&&(this._asyncResult.reject(i()),this._asyncResult=null),this.state===r.Finished||this.state===r.Stopped?(s(t),this.state===r.Finished?t.resolve():t.reject(i())):this._asyncResult=t}get asyncResult(){return this._asyncResult}onControllerStart(){this.state=r.Running,null!=this.viewAnimation&&this.viewAnimation.when((()=>this.updateStateFromViewAnimation()),(()=>this.updateStateFromViewAnimation()))}updateStateFromViewAnimation(){null==this.viewAnimation||this.state!==r.Ready&&this.state!==r.Running||(this.viewAnimation.state===n.State.FINISHED?this.finish():this.viewAnimation.state===n.State.STOPPED&&(this.state=r.Stopped))}onControllerEnd(){null==this.viewAnimation||this.viewAnimation.done||(this.state===r.Finished?this.viewAnimation.finish():this.state===r.Stopped&&this.viewAnimation.stop()),this._asyncResult&&(this.state===r.Finished?this._asyncResult.resolve():this._asyncResult.reject(i()))}finish(){this.finishController()}};a=t([e(\"esri.views.3d.state.controllers.AnimationController\")],a);export{a as AnimationController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import o from\"../../../ViewAnimation.js\";import{Animation as s}from\"../../animation/pointToPoint/Animation.js\";import{AnimationController as r}from\"./AnimationController.js\";import a from\"../../webgl/RenderCamera.js\";import{newIntersector as m}from\"../../webgl-engine/lib/Intersector.js\";import{EasingFunctions as c}from\"../../../animation/easing.js\";let h=class extends r{get intersectionHelper(){return this.view.sceneIntersectionHelper}constructor(i){super(i),this.mode=\"interaction\",this._hasTarget=!1}initialize(){this.animation=new s(this.view.state.viewingMode),this.viewAnimation=\"interaction\"===this.mode?null:new o}get isInteractive(){return\"interaction\"===this.mode}begin(i,t){this._hasTarget=!0;const e=this.animationSettings(t);p.copyFrom(this.view.state.camera);const n=m(this.view.state.viewingMode);this.intersectionHelper.intersectRay(p.ray,n,l)&&(p.center=l),this.animation.update(p,i,e),this.animation.finished&&this.finish()}finish(){this.animation.currentTime=this.animation.time,super.finish()}get steppingFinished(){return this._hasTarget&&this.animation.finished}stepController(i,t){this._hasTarget&&this.animation.step(i,t)}onControllerEnd(i){this._hasTarget&&(this.animation.cameraAt(this.animation.currentTime/this.animation.time,i),this.animation.currentTime=this.animation.time),super.onControllerEnd(i)}animationSettings(i={}){return{apex:{maximumDistance:this.view.state.constraints.clampAltitude(1/0)/6,ascensionFactor:void 0,descensionFactor:void 0},...i,easing:\"string\"==typeof i.easing?c[i.easing]:i.easing}}};i([t({constructOnly:!0})],h.prototype,\"mode\",void 0),i([t({readOnly:!0})],h.prototype,\"isInteractive\",null),h=i([e(\"esri.views.3d.state.controllers.PointToPointAnimationController\")],h);const p=new a,l=n();export{h as PointToPointAnimationController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{setAxisAngle as t,multiply as r,getAxisAngle as n}from\"../../core/libs/gl-matrix-2/math/quat.js\";import{create as o}from\"../../core/libs/gl-matrix-2/factories/quatf64.js\";import{c as u,b as c,n as e}from\"../../chunks/vec32.js\";import{angle as i}from\"./vector.js\";import{sv4d as f}from\"./vectorStacks.js\";function s(t=k){return[t[0],t[1],t[2],t[3]]}function a(t,r,n,o){return g(t,r,n,o,f.get())}function m(t,r){return g(t[0],t[1],t[2],r,f.get())}function p(t,r=s()){return g(t[0],t[1],t[2],t[3],r)}function g(t,r,n,o,u=s()){return u[0]=t,u[1]=r,u[2]=n,u[3]=o,u}function j(t,r){const n=s();return u(v(n),t),n[3]=r,n}function l(t,r,n){return c(v(n),t,r),e(v(n),v(n)),n[3]=i(t,r),n}function b(o,u,c){return t(q,v(o),x(o)),t(S,v(u),x(u)),r(q,S,q),h(c,n(v(c),q))}function v(t){return t}function x(t){return t[3]}function h(t,r){return t[3]=r,t}const k=[0,0,1,0],q=o(),S=o();export{x as angle,v as axis,b as compose,p as copy,s as create,j as fromAxisAndAngle,l as fromPoints,g as fromValues,h as setAngle,k as up,a as wrap,m as wrapAxisAngle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{create as r}from\"../../../../geometry/support/ray.js\";import{i as o}from\"../../../../chunks/sphere.js\";import{fromScreenAtEye as t}from\"./ray.js\";function s(r,s,p,e){const n=t(s,p,m);return o(r,n,e)}const m=r();export{s as intersectScreen};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{cyclicalPI as t}from\"../../../../core/Cyclical.js\";import{deg2rad as e,clamp as n,acosClamped as o,asinClamped as r}from\"../../../../core/mathUtils.js\";import{createScreenPointArray as a}from\"../../../../core/screenUtils.js\";import{fromRotation as i,exactEquals as s,multiply as c,rotate as l}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as m,create as u}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as f}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as p}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{f as h,e as M,g,l as y,h as b,m as d,s as x,k as v,n as j,a as z,c as P,b as w}from\"../../../../chunks/vec32.js\";import{create as I}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as S,axis as k,fromPoints as A,wrapAxisAngle as E}from\"../../../../geometry/support/axisAngle.js\";import{coordinateSystemFromOneAxisAndNormalVector as U,vectorCoordinates as H}from\"../../../../geometry/support/coordinateSystem.js\";import{create as G,intersectRay as R,fromNormalAndOffset as q}from\"../../../../geometry/support/plane.js\";import{e as C,i as F,g as V,c as T}from\"../../../../chunks/sphere.js\";import{sm4d as O,sv3d as W}from\"../../../../geometry/support/vectorStacks.js\";import{fromScreen as B,fromScreenAtEye as D}from\"../../support/geometryUtils/ray.js\";import{intersectScreen as J}from\"../../support/geometryUtils/sphere.js\";import K from\"../../webgl/RenderCamera.js\";import{terrainId as L}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";var N;!function(t){t[t.Ellipsoid=0]=\"Ellipsoid\",t[t.Silhouette=1]=\"Silhouette\"}(N||(N={}));const Q=30,X=[1,3e8],Y=80,Z=8,$=200,_=1508e5,tt=5,et=50,nt=5,ot=10,rt=90,at={exclude:new Set([L])};function it(t,e,n){return n[0]=e[0]/(t.fullWidth/t.pixelRatio),n[1]=e[1]/(t.fullHeight/t.pixelRatio),n}function st(t){for(;t>Math.PI;)t-=2*Math.PI;for(;t<-Math.PI;)t+=2*Math.PI;return t}function ct(t,e,n){const o=i(O.get(),n[3],k(n));null==o||s(o,m)||(h(oe,t.eye,e),M(oe,oe,o),t.eye=g(oe,oe,e),h(oe,t.center,e),M(oe,oe,o),t.center=g(oe,oe,e),t.up=M(oe,t.up,o))}function lt(t,e,n,o){return R(t,B(e,n,ce),o)}function mt(t,e,n,o){return R(t,D(e,n,ce),o)}function ut(t,e,n,o){const r=W.get();let a=1-n;h(r,e,t.eye);const i=y(r);let s=i*(1-a);a>=0&&s<o&&(s=o,a=-(s-i)/i),Math.abs(i-s)<1e-6||(b(r,r,a),t.eye=g(oe,t.eye,r),t.center=d(oe,t.center,e,a))}function ft(t,e,n){e.getScreenCenter(pt),J(t,e,pt,oe)&&(e.center=oe);const o=e.distance,r=o*n;if(Math.abs(o-r)<1e-6)return;const a=b(W.get(),e.viewForward,r);e.eye=h(oe,e.center,a)}const pt=a();function ht(t,e){x(e,0,0,0);for(const n of t)g(e,e,n);b(e,e,1/t.length)}function Mt(t,e,n,o){return Math.sin(t/y(e))*(n+o.radius)}function gt(t,e,n,o){return Mt(Math.PI/2,e,n,o)+(t-Math.PI/2)}var yt;!function(t){t[t.Vertical=0]=\"Vertical\",t[t.Horizontal=1]=\"Horizontal\"}(yt||(yt={}));const bt={Elevation:3e4,Angle:e(16)},dt={Pole:.95,Angle:e(18),Tilt:45},xt=e(80);function vt(t,e,n,o,r,a){const i=I(),s=T();let c=!0,l=!0;return t.intersectScreen(n,i,a)?s[3]=y(i):(l=!1,e.aboveGround&&r!==N.Ellipsoid?s[3]=Math.max(y(e.center),.9*o.radius):s[3]=y(e.eye)-e.relativeElevation,r===N.Silhouette?wt(s,e,n,i):c=J(s,e,n,i)),{sphere:s,scenePickPoint:c?i:null,hasGeometryIntersection:l}}function jt(t,e,n,o){const r=t.relativeElevation;if(r>bt.Elevation&&\"global\"===o)return yt.Horizontal;D(t,e,le);const a=Math.sign(r),i=n.worldUpAtPosition(t.eye,oe);return-a*v(i,le.direction)<Math.sin(bt.Angle)*y(le.direction)?yt.Vertical:yt.Horizontal}function zt(t,e,n){h(Pt,n,e),t.eye=h(oe,t.eye,Pt),t.center=h(oe,t.center,Pt)}const Pt=I();function wt(t,e,n,o){const r=D(e,n,ce);return null!=r&&(C(t,r,It),F(t,r,o)?!(z(It,r.origin)<z(o,r.origin))||(P(o,It),!1):(h(St,e.eye,e.center),j(St,St),q(St,-v(j(St,St),It),kt),R(kt,r,o),!1))}const It=I(),St=I(),kt=G();function At(a,i,s,c,l,m){let u=0;if(w(ie,a,i),h(re,a,i),y(a)<=l||!c.aboveGround){w(s,re,c.eye);const f=v(a,i)/(y(a)*y(i));if(f<.9999)u=o(f);else{const t=y(w(I(),a,i))/(y(a)*y(i));u=r(t)}const p=Math.cos(n(t.normalize(e(m)),0,xt));u=-u-Math.max(0,y(i)-l)/(p*l)}else h(Et,c.eye,c.center),w(s,re,Et),u=-y(re)/l;return j(s,s),b(s,s,y(ie)),u}const Et=I();function Ut(r,a,i,s){let c,l;const m=Math.cos(n(t.normalize(e(s)),0,xt));return c=a>i?-(a-i)/(m*i):a<-i?Math.PI-(a+i)/(m*i):o(a/i),l=r>i?-(r-i)/(m*i):r<-i?Math.PI-(r+i)/(m*i):o(r/i),(l-c)*i}function Ht(t,e,n,o,r,a,i,s,c,l){const m=Ut(t[2],e[2],a[3],s),u=c?Ut(t[0],e[0],a[3],180):e[0]-t[0],p=Math.sin(i)*u-Math.cos(i)*m,h=Math.cos(i)*u+Math.sin(i)*m;j(oe,r);const M=c?p/Math.sqrt(Math.abs(a[3]**2-v(n,oe)**2)):p/a[3],g=h/Math.sqrt(Math.abs(a[3]**2-v(n,o)**2));f(l,M,g)}function Gt(t,e,n,o,r,a,i,s,c,l){w(ie,t,e),U(a.up,a.eye,Lt,Nt,Qt),U([0,0,1],a.eye,Dt,Jt,Kt),P(n,Jt),P(o,Dt),j(n,n),b(n,n,y(ie)),H(t,j(Nt,Nt),j(Qt,Qt),j(Lt,Lt),Xt),H(e,Nt,Qt,Lt,Yt),Ht(Xt,Yt,t,Dt,Jt,i,s,c,l,r)}function Rt(t,e,n,o,r,a,s){i(_t,r,o),i(te,s,a),c(ee,_t,te),h(e,t,n),M(e,e,ee),g(e,e,n)}function qt(t,e,n,o,r,a){i(_t,o,n),i(te,a,r),c(ee,_t,te),h(oe,t.eye,e),M(oe,oe,ee),t.eye=g(oe,oe,e),h(oe,t.center,e),M(oe,oe,ee),t.center=g(oe,oe,e),h(oe,t.up,e),M(oe,oe,ee),t.up=g(oe,oe,e)}function Ct(t,e,n,o,r,a){return(Math.abs(o)>Math.PI-dt.Angle||Math.abs(o)<dt.Angle)&&(Math.abs(t[2])<n*dt.Pole||Math.abs(e)>n)&&a.aboveGround&&r<dt.Tilt}function Ft(t,e,n,o,r,a){if(a)A(n,o,$t),ct(e,V(t),$t);else{const a=At(n,o,se,e,t[3],r);ct(e,V(t),E(se,a))}}function Vt(t,e,n,o,r,a,i){const s=i?20:1,c=1e-12;let l,m;P(ne,o),ae.copyFrom(e);for(let u=0;u<s&&z(n,ne)>c&&(l=z(n,ne),Gt(n,ne,Jt,Dt,Zt,ae,t,r,a,i),qt(ae,V(t),Dt,Zt[1],Jt,Zt[0]),Rt(ne,ne,V(t),Dt,Zt[1],Jt,Zt[0]),m=z(n,ne),m<l||0===u);u++)e.copyFrom(ae)}function Tt(n,o,r,a,i,s,c){Ct(r,v(o.up,r),n[3],-t.normalize(e(i)),s,o)?Vt(n,o,r,a,-t.normalize(e(i)),s,c):Ft(n,o,r,a,s,c)}function Ot(t,e,n,o,r,a){const{eye:i}=t;U([0,0,1],i,Dt,Jt,Kt);const s=e.translation[0]*n.pan,c=\"zoom\"===r.mode?0:e.translation[1]*n.pan,m=Math.max(Math.sqrt(Math.abs(1-v(t.center,Dt)**2/y(t.center)**2)),.5),u=(Math.sin(a)*c+Math.cos(a)*s)/m,f=-Math.cos(a)*c+Math.sin(a)*s;switch(l(o.pan.matrix,o.pan.matrix,u,Dt),o.pan.enabled=!0,r.mode){case\"pan\":l(o.pan.matrix,o.pan.matrix,f,Jt),o.pan.enabled=!0;break;case\"zoom\":o.zoom=-e.translation[1]*n.zoom}}function Wt(t,e,n,o,r){const{eye:a,viewRight:i}=t,s=w(W.get(),i,a),c=e.translation[0]*n.pan;switch(0!==c&&(l(o.pan.matrix,o.pan.matrix,-c,s),o.pan.enabled=!0),r.mode){case\"pan\":{const t=e.translation[1]*n.pan;0!==t&&(l(o.pan.matrix,o.pan.matrix,t,i),o.pan.enabled=!0);break}case\"zoom\":o.zoom=-e.translation[1]*n.zoom}}function Bt(n,o,r,a,i,s,c,l,m){Ct(n.center,v(n.up,n.center),y(n.center),-t.normalize(e(s)),c,o)?Ot(o,r,a,l,m,-t.normalize(e(i))):Wt(o,r,a,l,m)}const Dt=I(),Jt=I(),Kt=I(),Lt=I(),Nt=I(),Qt=I(),Xt=I(),Yt=I(),Zt=p(),$t=S(),_t=u(),te=u(),ee=u(),ne=I(),oe=I(),re=I(),ae=new K,ie=I(),se=I(),ce={origin:I(),direction:I()},le={origin:I(),direction:I()};export{yt as NavigationMode,dt as PreservingHeadingThreshold,N as SpherePickPointFallback,xt as TiltThresholdPanningSpeed,bt as VerticalPanTresholds,zt as applyPanPlanar,Ft as applyPanSphericalDirectRotation,Vt as applyPanSphericalPreserveHeading,ct as applyRotation,qt as applyRotationWithTwoAxes,ft as applyZoomOnSphere,ut as applyZoomToPoint,ht as centroid,at as contentIntersectorOptions,X as distanceClampValues,lt as intersectPlaneFromScreenPoint,mt as intersectPlaneFromScreenPointAtEye,Ut as lengthFromPoints,et as minHeightLimit,jt as navigationMode,it as normalizeCoordinate,st as normalizeRotationDelta,gt as offSurfaceTiltToEyeTiltGlobal,Mt as onSurfaceTiltToEyeTiltGlobal,tt as panDistanceModifier,Bt as panMotionToRotationMatrix,Tt as panToPosition,vt as pickPointAndInitSphere,Q as pivotDistanceModifier,Ct as preserveHeadingThreshold,nt as rotatePivotDistanceModifier,ot as rotatePivotMinDistanceModifier,Rt as rotatePointAroundTwoAxes,rt as rotateScreenPixelArea,At as rotationAngleAndAxisDirectRotation,Gt as rotationAnglesAndAxesHeadingPreserving,Ht as rotationAnglesHeadingPreserving,Y as screenPixelArea,wt as sphereOrPlanePointFromScreenPoint,Z as zoomDistanceModifier,_ as zoomMaxDistanceModifier,$ as zoomMinDistanceModifier};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{clamp as i}from\"../../../../core/mathUtils.js\";import{Milliseconds as e}from\"../../../../core/time.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/Error.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as s,n as o,h as a,k as n,l as m,f as h,g as c,a as p}from\"../../../../chunks/vec32.js\";import{create as _}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{c as l}from\"../../../../chunks/sphere.js\";import{applyAll as y}from\"../../camera/constraintUtils.js\";import{ConstraintOptions as f}from\"../../camera/constraintUtils/ConstraintOptions.js\";import{ConstraintTypes as g}from\"../../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as w}from\"../../camera/constraintUtils/InteractionType.js\";import{applySurfaceCollisionConstraint as C}from\"../../camera/constraintUtils/surfaceCollision.js\";import{PointToPointAnimationController as d}from\"./PointToPointAnimationController.js\";import{contentIntersectorOptions as j,navigationMode as u,zoomMaxDistanceModifier as D,zoomMinDistanceModifier as v,zoomDistanceModifier as b,NavigationMode as R,panToPosition as M}from\"../utils/navigationUtils.js\";import{fromScreenAtEye as L}from\"../../support/geometryUtils/ray.js\";import{intersectScreen as z}from\"../../support/geometryUtils/sphere.js\";import O from\"../../webgl/RenderCamera.js\";import{newIntersector as S}from\"../../webgl-engine/lib/Intersector.js\";import{outExpo as U}from\"../../../animation/easing.js\";const V=.6,H=4,k=60;let x=class extends d{constructor(){super(...arguments),this._zoomLocation=_(),this._tmpCamera=new O,this._tmpViewDir=_(),this._tmpRayDir={origin:_(),direction:_()},this._targetOnSphere=_(),this._tmpCenter=_(),this._beginCamera=new O,this._constraintOptions=new f(g.ALL_EXCEPT_COLLISION,w.ZOOM,null,this._beginCamera),this._sphere=l()}initialize(){this._intersector=S(this.view.state.viewingMode)}zoomStep(t,i){if(!this.active)return;const e=this.view.state;this.animation.finished?this._beginCamera.copyFrom(e.camera):this.animation.cameraAt(1,this._beginCamera);let r=!1,o=!1;this.intersectionHelper.intersectScreen(i,this._zoomLocation,0===this.view.map.ground.opacity?j:{})&&(r=t>0,o=!0),this._tmpCamera.copyFrom(e.camera),r?this.intersectionHelper.intersectRay(this._tmpCamera.ray,this._intersector,this._tmpCenter)&&(this._tmpCamera.center=this._tmpCenter):this.intersectionHelper.intersectRay(this._tmpCamera.ray,this._intersector,this._zoomLocation)?this._tmpCamera.center=this._zoomLocation:s(this._zoomLocation,this._tmpCamera.center),this._updateCamera(this._tmpCamera,t,this._zoomLocation,i,o),this.begin(this._tmpCamera)}animationSettings(){return{duration:e(600),easing:U}}_updateCamera(t,e,r,s,_){const l=u(t,s,this.view.renderCoordsHelper,this.view.viewingMode),f=Math.abs(this.view.camera.position.z);o(F,t.eye),a(F,F,-1),L(t,s,this._tmpRayDir),o(this._tmpRayDir.direction,this._tmpRayDir.direction);const g=i(Math.min(b,1/Math.abs(n(F,this._tmpRayDir.direction)))*f,v,D);if(l===R.Horizontal){let i=V**e;this._sphere[3]=m(r),h(this._tmpViewDir,t.center,t.eye);const o=Math.min(m(this._tmpViewDir),g);let n=o*i;if(i<=1&&n<H&&(n=H,i=n/o),Math.abs(o-n)<1e-6)return;const _=m(t.center);if(this._sphere[3]!==_){const e=this._sphere[3]+i*(_-this._sphere[3]);t.center=a(A,t.center,e/_)}a(this._tmpViewDir,this._tmpViewDir,-i),t.eye=c(A,t.center,this._tmpViewDir),y(this.view,t,this._constraintOptions),p(r,t.center)>1e-12&&z(this._sphere,t,s,this._targetOnSphere)&&M(this._sphere,t,r,this._targetOnSphere,this.view.camera.heading,this.view.camera.tilt,!0)}else{let i=V**Math.abs(e);const o=e>0?1:-1;h(this._tmpViewDir,r,t.eye);const n=m(this._tmpViewDir),p=this.view._stage.renderView.getMinimalDepthForArea(null,s[0],s[1],this.view.state.camera,k);let l=null!=p?p:g;l=_&&e>0?Math.min(l,n):l,a(this._tmpRayDir.direction,this._tmpRayDir.direction,l),c(r,this._tmpRayDir.origin,this._tmpRayDir.direction);let y=l*i;const f=Math.max(H,1.01*t.nearFar[0]);if(e>0&&y<f&&(y=f,i=y/l),Math.abs(l-y)<1e-6)return;a(this._tmpRayDir.direction,this._tmpRayDir.direction,o*(1-i)),t.eye=c(A,t.eye,this._tmpRayDir.direction),t.center=c(A,t.center,this._tmpRayDir.direction)}C(this.view,t)}};x=t([r(\"esri.views.3d.state.controllers.ZoomStepControllerGlobal\")],x);const A=_(),F=_();export{x as ZoomStepControllerGlobal};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{clamp as i}from\"../../../../core/mathUtils.js\";import{Milliseconds as e}from\"../../../../core/time.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/Error.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as o,f as r,n as a,k as m,l as n,g as c,h,m as p}from\"../../../../chunks/vec32.js\";import{create as _,fromValues as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{applyAll as C}from\"../../camera/constraintUtils.js\";import{ConstraintOptions as f}from\"../../camera/constraintUtils/ConstraintOptions.js\";import{ConstraintTypes as y}from\"../../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as g}from\"../../camera/constraintUtils/InteractionType.js\";import{getVoxelWasm as j}from\"../../layers/VoxelWasm.js\";import{PointToPointAnimationController as w}from\"./PointToPointAnimationController.js\";import{contentIntersectorOptions as b,zoomMaxDistanceModifier as u,zoomMinDistanceModifier as v,zoomDistanceModifier as L}from\"../utils/navigationUtils.js\";import d from\"../../webgl/RenderCamera.js\";import{newIntersector as z}from\"../../webgl-engine/lib/Intersector.js\";import{outExpo as R}from\"../../../animation/easing.js\";const M=.6,D=4,F=60;let U=class extends w{constructor(){super(...arguments),this._zoomLocation=_(),this._tmpCamera=new d,this._tmpRayDir=_(),this._tmpCenter=_(),this._beginCamera=new d,this._constraintOptions=new f(y.ALL,g.ZOOM,null,this._beginCamera)}zoomStep(t,e){if(!this.active)return;const s=this.view.state;this.animation.finished?this._beginCamera.copyFrom(s.camera):this.animation.cameraAt(1,this._beginCamera),this._tmpCamera.copyFrom(s.camera);const p=z(this.view.state.viewingMode);let l=!1;t>0?(l=this.intersectionHelper.intersectScreenFreePointFallback(e,this._zoomLocation,0===this.view.map.ground.opacity?b:{}),this.intersectionHelper.intersectRay(this._tmpCamera.ray,p,this._tmpCenter)&&(this._tmpCamera.center=this._tmpCenter)):this.intersectionHelper.intersectRay(this._tmpCamera.ray,p,this._zoomLocation)?this._tmpCamera.center=this._zoomLocation:o(this._zoomLocation,this._tmpCamera.center);const C=M**t;let f=this.view._stage.renderView.getMinimalDepthForArea(j(this.view),e[0],e[1],this.view.state.camera,F);r(S,this._tmpCamera.eye,this._zoomLocation),a(S,S);const y=i(Math.min(L,1/Math.abs(m(O,S)))*Math.abs(this.view.camera.position.z),v,u);if(f=null!=f?f:y,f){const t=_();r(t,this._zoomLocation,this._tmpCamera.eye),(f<n(t)||!l)&&(a(t,t),c(this._zoomLocation,this._tmpCamera.eye,h(t,t,f)))}this._updateCamera(this._tmpCamera,C,this._zoomLocation),this.begin(this._tmpCamera)}animationSettings(){return{duration:e(600),easing:R}}_updateCamera(t,i,e){r(this._tmpRayDir,e,t.eye);const s=n(this._tmpRayDir);let o=s*i;const a=i<=1,m=Math.max(D,1.01*t.nearFar[0]);0!==o&&(a&&o<m&&(o=m,i=o/s),Math.abs(s-o)<1e-6||(h(this._tmpRayDir,this._tmpRayDir,i),t.eye=r(x,e,this._tmpRayDir),t.center=p(x,t.center,e,1-i),C(this.view,t,this._constraintOptions)))}};U=t([s(\"esri.views.3d.state.controllers.ZoomStepControllerLocal\")],U);const x=_(),O=l(0,0,1),S=_();export{U as ZoomStepControllerLocal};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as o}from\"../../../../core/screenUtils.js\";import{ZoomStepControllerGlobal as t}from\"../../state/controllers/ZoomStepControllerGlobal.js\";import{ZoomStepControllerLocal as e}from\"../../state/controllers/ZoomStepControllerLocal.js\";import{InputHandler as i}from\"../../../input/InputHandler.js\";import{eventMatchesPointerAction as r}from\"../../../input/handlers/support.js\";class s extends i{constructor(o,t){super(!0),this._view=o,this.registerIncoming(\"double-click\",t,(o=>this._handleDoubleClick(o)))}_handleDoubleClick(i){const s=i.data;if(r(s,\"primary\")){const r=this._view.state.isGlobal?new t({view:this._view,mode:\"animation\"}):new e({view:this._view,mode:\"animation\"});this._view.state.switchCameraController(r),r.zoomStep(Math.log(.5)/Math.log(.6),o(s.x,s.y)),i.stopPropagation()}}}export{s as DoubleClickZoom};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{lerp as e,clamp as t}from\"../../../core/mathUtils.js\";import{getMetersPerUnitForSR as i}from\"../../../core/unitUtils.js\";import{f as r,n as s,k as n,l as a}from\"../../../chunks/vec32.js\";import{create as m}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as o}from\"../../../geometry/ellipsoidUtils.js\";import h from\"../../../geometry/Extent.js\";import{ViewingMode as l}from\"../../ViewingMode.js\";import{computeInnerAltitudeFade as x}from\"../environment/atmosphereUtils.js\";function c(e,t,i){return e===l.Global?new M(i):new u(t,i)}class u{constructor(e,t){this._elevationProvider=e,this._referenceEllipsoid=o(t),this._unitInMeters=i(t,this._referenceEllipsoid.metersPerDegree)}compute(i,a,m,o,l){l||(l={near:0,far:0});let x=i[2]*this._unitInMeters;const c=x,u=x-o,M=this._elevationProvider?.visibleElevationBounds;M&&(x=u>=0?c-this._unitInMeters*M.min:this._unitInMeters*M.max-c);const _={x:(m=null!=m?m:new h({xmin:0,ymin:0,zmin:0,xmax:0,ymax:0,zmax:0})).xmax-m.xmin,y:m.ymax-m.ymin,z:4*Math.max(m.xmax-m.xmin,m.ymax-m.ymin)},I=Math.max(_.x,_.y,_.z);r(E,a,i),v[0]=E[0]>0?m.xmax:m.xmin,v[1]=E[1]>0?m.ymax:m.ymin,v[2]=E[2]>0?I/2:-I/2,r(v,v,i),s(E,E);const j=1.1*n(v,E)*this._unitInMeters,g=Math.sqrt(x*(x+2*this._referenceEllipsoid.radius)),b=Math.max(m.xmax-m.xmin,m.ymax-m.ymin),w=b*d*this._unitInMeters,z=b*y*this._unitInMeters,U=t((x-z)/(w-z),0,1)**3,P=Math.min(e(g,j,U),g)*Math.max(Math.log(Math.abs(u)),1);return f(Math.min(P,Math.max(34064e4,I))/this._unitInMeters,p,this._unitInMeters,l)}}class M{constructor(e){this._referenceEllipsoid=o(e)}compute(i,r,s,n,m){m||(m={near:0,far:0});const o=a(i),h=o-this._referenceEllipsoid.radius,l=this._referenceEllipsoid.radius+Math.min(0,n),c=Math.abs(h-n),u=Math.max(c,Math.abs(h)),M=Math.sqrt(u*(u+2*l)),p=o+this._referenceEllipsoid.radius;return f(1.2*e(M,p,x(u)),t(2e4-(Math.log(u)-7.983)/9.011*19e3,1e3,2e4),1,m)}}function f(e,t,i,r){const s=_/i;return e/t>s?(r.far=e,r.near=r.far/t):(r.near=s,r.far=r.near*t),r}const p=2e4,_=2,d=.001,y=1e-4,v=m(),E=m();export{c as createNearFarHeuristic};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{eyeWithinExtent as o}from\"../camera/intersectionUtils.js\";import{applySurfaceCollisionConstraint as a,Mode as i}from\"../camera/constraintUtils/surfaceCollision.js\";let n=class extends t{constructor(e){super(e)}initialize(){this.addHandles(this.view.basemapTerrain.on(\"elevation-change\",(e=>this._handleElevationChangeEvent(e))))}_handleElevationChangeEvent(e){if(this.view.state.cameraController)return;const t=this.view.state.camera;null!=e.spatialReference&&o(this.view,t,e.extent,e.spatialReference)&&this._applyToCurrentCamera()}_applyToCurrentCamera(){this.view.state.updateCamera((e=>a(this.view,e,i.EYE_AND_CENTER)))}};e([r({constructOnly:!0})],n.prototype,\"view\",void 0),n=e([s(\"esri.views.3d.state.SurfaceCollisionConstraint\")],n);export{n as SurfaceCollisionConstraint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import{deg2rad as a,rad2deg as s}from\"../../../core/mathUtils.js\";import{watch as e,sync as n,initial as r}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{ViewingMode as l}from\"../../ViewingMode.js\";import{applyAll as u}from\"../camera/constraintUtils.js\";import{surfaceElevationBelowRenderLocation as p}from\"../camera/intersectionUtils.js\";import{ConstraintOptions as h}from\"../camera/constraintUtils/ConstraintOptions.js\";import{ConstraintTypes as d}from\"../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as m}from\"../camera/constraintUtils/InteractionType.js\";import{createNearFarHeuristic as v}from\"./NearFarHeuristic.js\";import{SurfaceCollisionConstraint as w}from\"./SurfaceCollisionConstraint.js\";let _=class extends i{constructor(t){super(t),this.nearFarHeuristic=v(t.view.state.viewingMode,t.view.basemapTerrain,t.view.renderCoordsHelper.spatialReference)}initialize(){this.addHandles([e((()=>[this.view.constraints?.clipDistance?.near,this.view.constraints?.clipDistance?.far]),(()=>this._clipDistanceNearFarChanged())),e((()=>this.view.constraints?.clipDistance?.mode),(()=>this._updateNearFar())),this.view.state.events.on(\"before-camera-change\",(t=>this._updateCameraNearFar(t))),e((()=>this.view.renderDataExtent),(()=>this._updateNearFar()),n),e((()=>[this.view.constraints?.altitude?.min,this.view.constraints?.altitude?.max]),(()=>this._updateAltitude()),n),e((()=>this.view.constraints?.tilt?.max),(()=>this._updateTiltMax()),n),e((()=>this.view.constraints?.tilt?.mode),(()=>this._updateTilt()),n),e((()=>this.view.state?.camera),(()=>this._updateTiltAutoMax()),n),e((()=>[this.view.map?.ground?.navigationConstraint?.type,this.view.state?.constraints?.collision?.enabled]),(()=>this._updateCollision()),n)]),this.view.state.isLocal&&this.addHandles(e((()=>this.view.renderDataExtent),(t=>this._updateLocalSurfaceDistance(t)),r)),this._updateNearFar(),this.view.state.viewingMode!==l.Local&&this._updateAltitude(),this._updateTilt(),this._updateCollision(),this._set(\"surfaceCollisionConstraint\",new w({view:this.view}))}destroy(){this.surfaceCollisionConstraint&&(this.surfaceCollisionConstraint.destroy(),this._set(\"surfaceCollisionConstraint\",null))}_clipDistanceNearFarChanged(){const t=this.view.constraints?.clipDistance;t&&\"auto\"!==t.mode&&this.view.state.updateCamera((i=>C(i,t)))}_updateNearFar(){this.view.state.updateCamera((t=>this._updateCameraNearFar(t)))}_updateCameraNearFar(t){const i=this.view.constraints&&this.view.constraints.clipDistance;\"manual\"===(i?i.mode:\"auto\")?C(t,i):this._updateCameraNearFarAuto(t,i)}_updateCameraNearFarAuto(t,i){this.nearFarHeuristic.compute(t.eye,t.center,this.view.renderDataExtent,p(this.view,t.eye),t),i&&i.autoUpdate(t.near,t.far)}_updateCollision(){const t=this.view.map?.ground?.navigationConstraint?.type,i=!t||\"stay-above\"===t,a=this.view.state.constraints.collision;if(i!==a.enabled){a.enabled=i,i&&this._reapplyConstraints(d.COLLISION);const t=this.view.constraints&&this.view.constraints.tilt;t&&\"auto\"!==t.mode||this._updateTiltAuto()}}_updateAltitude(){const t=this.view.constraints&&this.view.constraints.altitude;t&&this.view.state.viewingMode!==l.Local?this.view.state.constraints.altitude={min:t.min,max:t.max}:this.view.state.constraints.altitude=null,this._reapplyConstraints()}_updateTiltMax(){const t=this.view.constraints&&this.view.constraints.tilt;t&&\"auto\"!==t.mode&&(this._updateTiltManual(t),this._reapplyConstraints())}_updateTilt(){const t=this.view.constraints&&this.view.constraints.tilt;\"manual\"===(t?t.mode:\"auto\")?this._updateTiltManual(t):this._updateTiltAuto(),this._reapplyConstraints()}_updateTiltManual(t){const i=this.view.state.constraints;i.tilt=i.createConstantMaxTilt(a(t.max))}_updateTiltAuto(){const t=this.view.state.constraints;t.tilt=t.createDefaultTilt(),this._updateTiltAutoMax()}_updateTiltAutoMax(){const t=this.view.constraints&&this.view.constraints.tilt;if(!t||\"auto\"!==t.mode)return;const i=this.view.state.constraints;if(i.tilt){const a=i.tilt(this.view.state.camera.distance).max;t.autoUpdate(s(a))}}_updateLocalSurfaceDistance(t){if(null==t)return;let i=Math.max(t.width,t.height);if(i<=0)return;null!=t.zmax&&null!=t.zmin&&(i=Math.max(i,t.zmax-t.zmin));const a=this.view.state,s=3*i/Math.atan(a.camera.fov/2);s!==a.constraints.distance&&(a.constraints.distance=s)}_reapplyConstraints(t=d.ALL){this.view.state.updateCamera((i=>u(this.view,i,new h(t,m.NONE,null))))}};function C(t,i){i&&(t.near=i.near,t.far=i.far)}t([o({constructOnly:!0})],_.prototype,\"view\",void 0),t([o({readOnly:!0})],_.prototype,\"surfaceCollisionConstraint\",void 0),_=t([c(\"esri.views.3d.state.ConstraintsManager\")],_);export{_ as ConstraintsManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{eyeWithinExtent as o}from\"../../camera/intersectionUtils.js\";import{applySurfaceCollisionConstraint as s,Mode as a}from\"../../camera/constraintUtils/surfaceCollision.js\";import{CameraController as i,State as n}from\"./CameraController.js\";let l=class extends i{set desiredCamera(e){this._set(\"desiredCamera\",e.clone())}constructor(e){super(e)}get canStop(){return!0}get constraintEnabled(){return this.view.state.constraints.collision.enabled}onControllerStart(){this.state=n.Running,this.addHandles(this.view.basemapTerrain.on(\"elevation-change\",(e=>this._handleElevationChangeEvent(e)))),this._applyCorrection()}onControllerEnd(){this.removeAllHandles()}stepController(){}_handleElevationChangeEvent(e){(null==e.spatialReference||o(this.view,this.desiredCamera,e.extent,e.spatialReference))&&this._applyCorrection()}_applyCorrection(){this.view.state.updateCamera((e=>{e.copyViewFrom(this.desiredCamera),s(this.view,e,a.EYE_AND_CENTER)||this.constraintEnabled||(this.state=n.Stopped)}))}};e([t({constructOnly:!0})],l.prototype,\"desiredCamera\",null),l=e([r(\"esri.views.3d.state.controllers.SurfaceCollisionCorrectionController\")],l);export{l as SurfaceCollisionCorrectionController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"../../../Camera.js\";import i from\"../../../Viewpoint.js\";import e from\"../../../core/Error.js\";import{onAbort as a,createAbortError as n}from\"../../../core/promiseUtils.js\";import{whenOnce as o}from\"../../../core/reactiveUtils.js\";import{applyAll as r}from\"../camera/constraintUtils.js\";import{applySurfaceCollisionConstraint as s,Mode as l}from\"../camera/constraintUtils/surfaceCollision.js\";import{State as c}from\"./controllers/CameraController.js\";import{PointToPointAnimationController as h}from\"./controllers/PointToPointAnimationController.js\";import{SurfaceCollisionCorrectionController as m}from\"./controllers/SurfaceCollisionCorrectionController.js\";import{externalToInternal as w}from\"../support/cameraUtils.js\";import{create as p}from\"../support/viewpointUtils.js\";class f{constructor(t,i,e){this.target=t,this.options=i,this.view=e,this.state=\"pending\",this._animationController=null,this.promise=new Promise(((t,i)=>{this._resolveCallback=t,this._rejectCallback=i;const e=new AbortController;null!=this.options.signal&&a(this.options.signal,(()=>{this.abort()})),this._abortController=e,this.waitForReady()}))}resolve(t){if(\"finished\"!==this.state)return this.state=\"finished\",this._resolveCallback(t)}reject(t){if(\"finished\"!==this.state)return this.state=\"finished\",this._rejectCallback(t)}abort(t=!1){if(this._abortController.abort(),\"wait-for-animation-finish\"===this.state)!t&&null!=this._animationController&&this.view.state.cameraController===this._animationController&&this._animationController.active&&this._animationController.stopController();this.reject(n())}async waitForReady(){if(this.state=\"wait-for-ready\",!this.view.ready)try{await o((()=>this.view.ready),this._abortController.signal)}catch(t){return this.reject(t)}this.createViewPoint()}async createViewPoint(){if(\"finished\"!==this.state){this.state=\"wait-for-viewpoint\",this._animationController=this.options.animate?this._getAnimationController():null;try{const t=await p(this.view,this.target,this._abortController.signal);if(\"finished\"===this.state)return;const i=t?this._getCameraFromViewpoint(t):null;if(null==i)return;if(this.options.animate){if(null==this._animationController)return;this.startAnimation(i,this._animationController)}else this.view.stateManager.setStateCamera(i.camera,{applyConstraints:!i.isFullySpecified,positionAndOrientationOnly:!0,doNotCancelGoToOperation:!0}),this.resolve()}catch(t){this.reject(t)}}}_getCameraFromViewpoint(a){const n=!!(this.target instanceof i&&this.target.camera||this.target instanceof t),o=a.camera;if(null==o)return null;if(!this.view.stateManager.isCompatible(o)){const t=o.position,i=t&&t.spatialReference,a=i?i.wkid:\"none\",n=this.view.spatialReference?.wkid;return this.reject(new e(\"GotoAnimation:incompatible-spatialreference\",`Resulting camera has an incompatible spatial reference (camera: ${a}, view: ${n})`,{camera:o})),null}const r=w(this.view,o);return null==r?(this.reject(new e(\"GotoAnimation:invalid-camera\",\"Resulting camera is invalid\")),null):{viewpoint:a,camera:r,isFullySpecified:n}}startAnimation(t,i){this.state=\"wait-for-animation-finish\";const a=i.viewAnimation;if(null==a)return void this.reject(new e(\"GotoAnimation:missing-animation\",\"Unreachable code in view.stateManager\"));if(a.update(t.viewpoint,\"running\"),!i.active||null==i.viewAnimation||i.viewAnimation.target!==t.viewpoint||this.view.state.cameraController!==i)return this.abort();let n;t.isFullySpecified?(n=new m({view:this.view,desiredCamera:t.camera}),s(this.view,t.camera,l.EYE_AND_CENTER)):r(this.view,t.camera),i.begin(t.camera,this.options);const o=()=>{const e=this.view.state.cameraController;n&&(e&&e.active?e instanceof h&&null!=e.viewAnimation&&e.viewAnimation.target===t.viewpoint&&(this.view.state.cameraController=n):null!=i.viewAnimation&&i.viewAnimation.target===t.viewpoint&&i.state===c.Finished&&(this.view.state.cameraController=n))},w=t=>{if(null!=this.view.state)switch(i.state){case c.Finished:switch(this.state){case\"pending\":case\"wait-for-ready\":case\"wait-for-viewpoint\":case\"wait-for-animation-finish\":this.resolve()}break;case c.Ready:case c.Rejected:case c.Running:case c.Stopped:switch(this.state){case\"pending\":case\"wait-for-ready\":case\"wait-for-viewpoint\":case\"wait-for-animation-finish\":this.reject(t)}}};a.when(o,(t=>w(t))),i.asyncResult={resolve:()=>w(),reject:t=>w(t)}}_getAnimationController(){let t=null,i=null;const a=this.view.state.cameraController;return a instanceof h&&(a.updateStateFromViewAnimation(),a.active&&(t=a,i=t.viewAnimation)),null!=t||(t=new h({view:this.view,mode:\"animation\"}),i=t.viewAnimation,this.view.state.switchCameraController(t))?t:(null!=i&&i.stop(),this.reject(new e(\"GotoAnimation:goto-cannot-interrupt\",\"Cannot start an animation while interacting\")),null)}}export{f as GoToOperation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Camera.js\";import i from\"../../../Viewpoint.js\";import r from\"../../../core/Accessor.js\";import a from\"../../../core/Logger.js\";import{destroyMaybe as s}from\"../../../core/maybe.js\";import{on as n,watch as o,sync as h,when as l}from\"../../../core/reactiveUtils.js\";import{addFrameTask as p}from\"../../../core/scheduling.js\";import{createScreenPoint as c}from\"../../../core/screenUtils.js\";import{property as m}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import{a as v}from\"../../../chunks/vec32.js\";import{fromArray as u}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as w}from\"../../../chunks/vec42.js\";import{create as g}from\"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import _ from\"../../../geometry/Extent.js\";import y from\"../../../geometry/Point.js\";import{isLoadedOrLoadFor as C,requiresLoad as f}from\"../../../geometry/projection.js\";import{ViewingMode as R}from\"../../ViewingMode.js\";import{applyAll as x}from\"../camera/constraintUtils.js\";import{cameraOnContentAlongViewDirection as P,surfaceElevationBelowRenderLocation as S}from\"../camera/intersectionUtils.js\";import{ConstraintsManager as O}from\"./ConstraintsManager.js\";import{Frustum as T}from\"./Frustum.js\";import{GoToOperation as b}from\"./GoToOperation.js\";import{SurfaceCollisionCorrectionController as j}from\"./controllers/SurfaceCollisionCorrectionController.js\";import{internalToExternal as I,externalToInternal as M,toExtent as z,distanceToScale as E,scaleToZoom as A,fromExtentSync as H,OrientationMode as N,getObserverForPointAtDistanceSync as L,scaleToDistance as V,zoomToScale as B}from\"../support/cameraUtils.js\";import{PropertiesPool as D}from\"../support/PropertiesPool.js\";import{fromCamera as G,toCameraSync as U}from\"../support/viewpointUtils.js\";import F from\"../webgl/RenderCamera.js\";import{PaddingSide as k}from\"../webgl-engine/lib/rendererUtils.js\";import{RenderFeature as q}from\"../webgl-engine/lib/RenderFeature.js\";import{RenderState as W}from\"../../support/RenderState.js\";import{ensureAttachmentMaxSize as J}from\"../../webgl/FramebufferObject.js\";let K=class extends r{constructor(e){super(e),this.ready=!1,this._windowDevicePixelRatio=1,this._devicePixelRatioOverride=null,this._idleTimeout=ae,this.test={viewStateManager:this,contentCameraResetState:new Map,setDevicePixelRatio:e=>this._devicePixelRatioOverride=e,renderState:null,get maximumPixelRatio(){return this.viewStateManager.view.qualitySettings.maximumPixelRatio},get updatingIgnoreRenderState(){return null!=this.renderState},get idleTimeoutEnabled(){return this.viewStateManager._idleTimeout>0},set idleTimeoutEnabled(e){this.viewStateManager._idleTimeout=e?ae:0}},this._propertiesPool=new D({frustum:T},this),this._cameraSetByUser=!1,this._gotoOperation=null,this._cameraChangeTime=0,this._tmpCanvasSize=new Q}initialize(){this._cameraChangeTime=performance.now(),this.addHandles([n((()=>this.view.state.events),\"before-camera-change\",(e=>e&&this._updateElevation(e))),o((()=>this.view.state?.camera),((e,t)=>this._cameraChangedHandler(e,t)),h)]),l((()=>this.view.state?.camera),(e=>this._updateElevation(e)),{once:!0,sync:!0}),this.addHandles([p({prepare:()=>this._prepareFrame()}),o((()=>this.view.state.cameraController),(()=>{this._cameraSetByUser=!0,this.removeHandles(ie)})),n((()=>this.view.state.events),\"camera-projection-changed\",(()=>this.notifyChange(\"scale\")))])}destroy(){this.exit(),this._propertiesPool=s(this._propertiesPool)}get camera(){const e=this._get(\"camera\");if(!this.ready)return e;const t=I(this.view,this.view.state.camera,$);return t&&e&&t.equals(e)?e:t.clone()}set camera(e){this._updatePropertyBeforeReady(\"camera\",e)||(this.view.elevationProvider?.enableCache(!0),this.setStateCamera(M(this.view,e),{applyConstraints:!1})||a.getLogger(this).error(\"#camera=\",\"Invalid camera\",e),this.view.elevationProvider?.enableCache(!1))}get contentCamera(){const e=this._get(\"contentCamera\");if(!this.ready)return e;const t=I(this.view,this.view.state.contentCamera,$);return t&&e&&t.equals(e)?e:t.clone()}set contentCamera(e){if(this._updatePropertyBeforeReady(\"contentCamera\",e))return;const t=M(this.view,e);null!=t?(this._updateElevation(t),this.view.state.contentCamera=t):this.view.state.contentCamera=null}installContentCameraReset(e){if(this.removeHandles(re),this.test.contentCameraResetState.clear(),!this.view.state.fixedContentCamera)return!1;const t=this.zoom,i=this.view.state.camera.distance**2,r=u(this.view.state.camera.center),a=e.sticky?this.contentCamera.clone():null;return this.addHandles([o((()=>this.contentCamera),(()=>{e.sticky||(this.removeHandles(re),this.test.contentCameraResetState.clear())})),o((()=>this.zoom),(e=>{void 0!==e&&void 0!==t&&(this.test.contentCameraResetState.set(\"view.zoom\",Math.abs(e-t)/2),Math.abs(e-t)>2?this.contentCamera=null:this.view.state.fixedContentCamera||(this.contentCamera=a))})),o((()=>this.view.state.camera),(e=>{const t=v(r,e.center);this.test.contentCameraResetState.set(\"camera.center\",t/i),t>i?this.contentCamera=null:this.view.state.fixedContentCamera||(this.contentCamera=a)}))],re),!0}get center(){return this.ready?this.view.pointsOfInterest.centerOnContent.location:this._get(\"center\")}set center(e){this._updatePropertyBeforeReady(\"center\",e)||(e?this.isCompatible(e)?this.setStateCamera(this._centerToCamera(e),{applyConstraints:!0})?this.view.pointsOfInterest.centerOnContent.runTask():a.getLogger(this).error(\"#center=\",\"Invalid center\",e):a.getLogger(this).error(\"#center=\",\"Center has an incompatible spatial reference (center: \"+(e.spatialReference?e.spatialReference.wkid:\"none\")+\", view: \"+this.view.spatialReference?.wkid+\")\",e):a.getLogger(this).error(\"#center=\",\"Center may not be null or undefined\"))}get extent(){if(!this.ready)return this._get(\"extent\");const e=this.view,t=z(e,e.state.camera,e.pointsOfInterest.centerOnContent.renderLocation);return null!=t?t:this._get(\"extent\")}set extent(e){this._updatePropertyBeforeReady(\"extent\",e)||(e?this.isCompatible(e)?this.setStateCamera(this._extentToCamera(e),{applyConstraints:!0})||a.getLogger(this).error(\"#extent=\",\"Invalid extent\",e):a.getLogger(this).error(\"#extent=\",\"Extent has an incompatible spatial reference (extent: \"+(e.spatialReference?e.spatialReference.wkid:\"none\")+\", view: \"+this.view.spatialReference?.wkid+\")\",e):a.getLogger(this).error(\"#extent=\",\"Extent may not be null or undefined\"))}get frustum(){const e=this._propertiesPool.get(\"frustum\");return e.renderCoordsHelper=this.view.renderCoordsHelper,e.update(this.view.state.camera),e}get constraintsManager(){return this._constraintsManager}get _initialViewpoint(){const e=this.view.map;return e&&\"initialViewProperties\"in e?e.initialViewProperties?.viewpoint:void 0}get hasInitialView(){return!!this._initialViewpoint}get scale(){if(this.ready){const e=this.view.pointsOfInterest.centerOnContent;return E(this.view,e.distance,e.location.latitude)}return this._get(\"scale\")}set scale(e){this._updatePropertyBeforeReady(\"scale\",e)||this.setStateCamera(this._scaleToCamera(e),{applyConstraints:!0})||a.getLogger(this).error(\"#scale=\",\"Invalid scale\",e)}get padding(){if(!this.ready)return this._get(\"padding\");const e=this.view.state.camera,t=e.padding,i=e.pixelRatio,r=this._get(\"padding\"),a=Math.round(t[k.TOP]/i),s=Math.round(t[k.RIGHT]/i),n=Math.round(t[k.BOTTOM]/i),o=Math.round(t[k.LEFT]/i);return null!=r&&r.top===a&&r.right===s&&r.bottom===n&&r.left===o?r:{top:a,right:s,bottom:n,left:o}}set padding(e){this._updatePropertyBeforeReady(\"padding\",e)||(this._paddingToArray(e,this.view.state.camera.pixelRatio,te),this.view.state.updateCamera((e=>e.padding=te)))}_paddingToArray(e,t,i){e?w(i,e.top||0,e.right||0,e.bottom||0,e.left||0):w(i,0,0,0,0);for(let r=0;r<4;r++)i[r]=Math.round(i[r]*t)}get screenCenter(){const e=this.padding;return c((this.view.width-(e.left+e.right))/2+e.left,(this.view.height-(e.top+e.bottom))/2+e.top)}get viewpoint(){return this.ready?G(this.view,this.camera):this._get(\"viewpoint\")}set viewpoint(e){if(!this._updatePropertyBeforeReady(\"viewpoint\",e))if(e)if(this.isCompatible(e))this.setStateCamera(this._viewpointToCamera(e),{applyConstraints:!e.camera})||a.getLogger(this).error(\"#viewpoint=\",\"Invalid viewpoint\",e);else{const t=null!=e.camera?e.camera.position:e.targetGeometry,i=null!=t&&t.spatialReference;a.getLogger(this).error(\"#viewpoint=\",\"Viewpoint has an incompatible spatial reference (viewpoint: \"+(i?i.wkid:\"none\")+\", view: \"+this.view.spatialReference?.wkid+\")\",e)}else a.getLogger(this).error(\"#viewpoint=\",\"Viewpoint may not be null or undefined\")}get zoom(){return this.ready?A(this.view,this.scale):this._get(\"zoom\")}set zoom(e){this._updatePropertyBeforeReady(\"zoom\",e)||void 0===e||this.setStateCamera(this._zoomToCamera(e),{applyConstraints:!0})||a.getLogger(this).error(\"#zoom=\",\"Invalid zoom\",e)}_computeCanvasSize(){if(this._devicePixelRatioOverride)return this.view.state.contentPixelRatio=this._devicePixelRatioOverride,this._tmpCanvasSize.width=Math.round(this.view.surface.clientWidth*this._devicePixelRatioOverride),this._tmpCanvasSize.height=Math.round(this.view.surface.clientHeight*this._devicePixelRatioOverride),this._tmpCanvasSize.pixelRatio=this._devicePixelRatioOverride,this._tmpCanvasSize;const e=Math.min(this._windowDevicePixelRatio,this.view.qualitySettings.maximumPixelRatio),t=(this._usePhysicalPixelRendering?this._windowDevicePixelRatio:e)*this.view.resolutionScale;this._tmpCanvasSize.width=Math.round(this.view.surface.clientWidth*t),this._tmpCanvasSize.height=Math.round(this.view.surface.clientHeight*t);const i=this.view._stage.renderView.renderingContext?.parameters.maxTextureSize;return i&&J(this._tmpCanvasSize,i),this._tmpCanvasSize.pixelRatio=this._tmpCanvasSize.width>0?this._tmpCanvasSize.width/this.view.surface.clientWidth*.5+this._tmpCanvasSize.height/this.view.surface.clientHeight*.5:t,this.view.state&&(this.view.state.contentPixelRatio=Math.min(this._windowDevicePixelRatio,this.view.qualitySettings.maximumPixelRatio)),this._tmpCanvasSize}get _rasterPixelRatio(){return null!=this._devicePixelRatioOverride?this._devicePixelRatioOverride:this._usePhysicalPixelRenderingAny?this._windowDevicePixelRatio:Math.min(this._windowDevicePixelRatio,this.view.qualitySettings.maximumPixelRatio)}get _usePhysicalPixelRendering(){return this.view?._stage?.renderer.isFeatureEnabled(q.PhysicalPixelRendering)??!1}get _usePhysicalPixelRenderingAny(){const e=this.view?._stage?.renderer;return e&&(e.isFeatureEnabled(q.PhysicalPixelRendering,W.IDLE)||e.isFeatureEnabled(q.PhysicalPixelRendering,W.INTERACTING)||e.isFeatureEnabled(q.PhysicalPixelRendering,W.ANIMATING))}preinit(e){return!(this._isOverridden(\"center\")&&!C(this.center.spatialReference,e))&&(!(this._isOverridden(\"camera\")&&!C(this.camera.position.spatialReference,e))&&(!(this._isOverridden(\"extent\")&&!C(this.extent.spatialReference,e))&&!!(!this._isOverridden(\"viewpoint\")||C(this.viewpoint.targetGeometry?.spatialReference,e)&&C(this.viewpoint.camera?.position?.spatialReference,e))))}init(){this._constraintsManager=new O({view:this.view}),this._prepareFrame();const e=this._getInitialProperties();this._cameraSetByUser=!1,this._set(\"ready\",!0);for(const t of e)this.set(t.name,t.value);if(!this._cameraSetByUser){const e=this._initialViewpoint||this.view.initialExtent;e&&this.isCompatible(e)?this._setInitialView(e):this.view.state.viewingMode===R.Local&&this.addHandles(l((()=>this.view.basemapTerrain.ready),(()=>{this.removeHandles(ie),this._setInitialView(this.view.dataExtent)}),{once:!0,initial:!0}),ie)}}exit(){this._cancelGoToOperation(),this.ready&&(this._override(\"padding\",this.padding),this._set(\"ready\",!1),this._clearOverride(\"hasInitialView\"),this._cameraSetByUser=!1,this.removeHandles(ie),this._constraintsManager=s(this._constraintsManager))}async goTo(e,t){const i={animate:!0,...t};return null!=this._gotoOperation&&this._gotoOperation.abort(i.animate),this._gotoOperation=new b(e,i,this.view),this.view.resourceController.scheduler.stopFrame(),this._gotoOperation.promise}debugSetCameraOnContent(){this.setStateCamera(P(this.view),{applyConstraints:!1})}step(e){const t=this.view.state,i=t?.cameraController;i&&(t.updateCamera((t=>i.stepController(e,t))),i.steppingFinished&&i.finishController())}_cancelGoToOperation(){null!=this._gotoOperation&&(this._gotoOperation.abort(),this._gotoOperation=null)}_getInitialProperties(){const e=new Set,t=[];for(const{propertyName:i,overrides:r}of Y){const a=e.has(i),s=this._isOverridden(i);!a&&s&&t.push({name:i,value:this._get(i)}),this._clearOverride(i),(a||s)&&r.forEach((t=>e.add(t)))}return t}_setInitialView(e){if(null==e||this._cameraSetByUser)return;if(e instanceof t)return void this.setStateCamera(M(this.view,e),{applyConstraints:!1});if(e instanceof i){if(e.targetGeometry instanceof _){const t=H(this.view,e.targetGeometry,0,.5,N.LOCKED);return void(null!=t&&this.setStateCamera(M(this.view,t),{applyConstraints:!0}))}const t={applyConstraints:!e.camera},i=this._viewpointToCamera(e);return void this.setStateCamera(i,t)}const r=H(this.view,e,0,.5,N.LOCKED);null!=r&&this.setStateCamera(M(this.view,r),{applyConstraints:!0})}_updatePropertyBeforeReady(e,t){return!this.ready&&(this._override(e,t),t&&X.has(e)&&this._override(\"hasInitialView\",!0),!0)}isCompatible(e){return null!=e&&(e instanceof i?e.camera?this.isCompatible(e.camera):this.isCompatible(e.targetGeometry):e instanceof t?this.isCompatible(e.position):e.spatialReference&&!f(e.spatialReference,this.view.spatialReference))}_getPreservingHeadingTilt(e=Z){return this._cameraSetByUser?(e.heading=this.camera.heading,e.tilt=this.camera.tilt):(e.heading=0,e.tilt=.5),e}_centerPointAtDistanceToCamera(e,t,i=ee){const{heading:r,tilt:a}=this._getPreservingHeadingTilt(),s=L(this.view,r,a,e,t,N.ADJUST);return null==s?null:(i.copyFrom(this.view.state.camera),i.eye=s.eye,i.center=s.center,i.up=s.up,i)}_centerToCamera(e){const t=this.view.pointsOfInterest.centerOnContent;t.runTask();const i=t.distance;return this._centerPointAtDistanceToCamera(e,i)}_extentToCamera(e){const{heading:t,tilt:i}=this._getPreservingHeadingTilt(),r=H(this.view,e,t,i,N.ADJUST,$);return r?M(this.view,r):null}_scaleToCamera(e){if(null==e)return null;const t=this.view.pointsOfInterest.centerOnContent;t.runTask();const i=t.renderLocation,r=t.location.latitude,a=V(this.view,e,r);return this._centerPointAtDistanceToCamera(i,a)}_zoomToCamera(e){return this._scaleToCamera(B(this.view,e))}_viewpointToCamera(e){return M(this.view,U(this.view,e))}setStateCamera(e,t){return!(null==e||!this.view.state.stopActiveCameraController())&&(this._cameraSetByUser=!0,t.doNotCancelGoToOperation||this._cancelGoToOperation(),this.view.state.updateCamera((i=>{t.positionAndOrientationOnly?(i.eye=e.eye,i.center=e.center,i.up=e.up):i.copyFrom(e),t.applyConstraints&&x(this.view,i)})),t.applyConstraints||(this.view.state.cameraController=new j({view:this.view,desiredCamera:e})),!0)}_prepareFrame(){const{surface:e,canvas:t}=this.view;if(!e||!t)return;this._windowDevicePixelRatio=window.devicePixelRatio;const i=this._computeCanvasSize();if(0!==i.width&&0!==i.height&&(t.width===i.width&&t.height===i.height||(t.width=i.width,t.height=i.height),this.view.state)){const e=this.view.state.camera;e.fullWidth===i.width&&e.fullHeight===i.height&&e.pixelRatio===i.pixelRatio||(ee.copyFrom(e),ee.pixelRatio!==i.pixelRatio&&(this._paddingToArray(this.padding,i.pixelRatio,te),ee.padding=te),ee.fullWidth=i.width,ee.fullHeight=i.height,ee.pixelRatio=i.pixelRatio,this.view.state.camera=ee),this._updateViewState()}}_updateElevation(e){const t=this.view.basemapTerrain?.spatialReference,i=this.view.renderCoordsHelper?.getAltitude(e.eye)??0,r=t?S(this.view,e.eye):0;e.relativeElevation=i-r}_updateViewState(){null!=this.test.renderState?this.view.state.mode=this.test.renderState:this.view.animation?this.view.state.mode=W.ANIMATING:this.view.interacting?this.view.state.mode=W.INTERACTING:(this.view.state.mode===W.ANIMATING&&(this._cameraChangeTime=0),performance.now()-this._cameraChangeTime<this._idleTimeout?this.view.state.mode=W.INTERACTING:this.view.state.mode=W.IDLE),this.view.state.rasterPixelRatio=this._rasterPixelRatio}_cameraChangedHandler(e,t){e&&t&&e.almostEquals(t)||(this._cameraChangeTime=performance.now(),this._updateViewState())}};e([m({type:t,dependsOn:[\"view.state.camera\",\"ready\"]})],K.prototype,\"camera\",null),e([m({type:t,dependsOn:[\"view.state.contentCamera\",\"ready\"]})],K.prototype,\"contentCamera\",null),e([m({type:y})],K.prototype,\"center\",null),e([m({type:_})],K.prototype,\"extent\",null),e([m({readOnly:!0})],K.prototype,\"frustum\",null),e([m()],K.prototype,\"_constraintsManager\",void 0),e([m({readOnly:!0})],K.prototype,\"constraintsManager\",null),e([m()],K.prototype,\"_initialViewpoint\",null),e([m({readOnly:!0})],K.prototype,\"hasInitialView\",null),e([m({readOnly:!0,type:Boolean})],K.prototype,\"ready\",void 0),e([m({type:Number})],K.prototype,\"scale\",null),e([m()],K.prototype,\"padding\",null),e([m({readOnly:!0})],K.prototype,\"screenCenter\",null),e([m({constructOnly:!0})],K.prototype,\"view\",void 0),e([m({type:i})],K.prototype,\"viewpoint\",null),e([m({type:Number})],K.prototype,\"zoom\",null),e([m({readOnly:!0})],K.prototype,\"_rasterPixelRatio\",null),e([m({readOnly:!0})],K.prototype,\"_usePhysicalPixelRendering\",null),e([m({readOnly:!0})],K.prototype,\"_usePhysicalPixelRenderingAny\",null),e([m()],K.prototype,\"_windowDevicePixelRatio\",void 0),e([m()],K.prototype,\"_devicePixelRatioOverride\",void 0),K=e([d(\"esri.views.3d.state.ViewStateManager\")],K);class Q{constructor(){this.width=0,this.height=0,this.pixelRatio=1}}const X=new Set([\"camera\",\"viewpoint\",\"extent\",\"scale\",\"center\",\"zoom\"]),Y=[{propertyName:\"camera\",overrides:[\"viewpoint\"]},{propertyName:\"viewpoint\",overrides:[\"extent\"]},{propertyName:\"extent\",overrides:[\"center\",\"scale\"]},{propertyName:\"center\",overrides:[]},{propertyName:\"scale\",overrides:[\"zoom\"]},{propertyName:\"zoom\",overrides:[]},{propertyName:\"padding\",overrides:[]}],Z={heading:0,tilt:0},$=new t,ee=new F,te=g(),ie=\"pending-initial-view\",re=\"content-camera-reset\",ae=300,se=100;export{K as ViewStateManager,se as interactingTimeout};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{interactingTimeout as o}from\"../ViewStateManager.js\";import{CameraController as s,State as a}from\"./CameraController.js\";import i from\"../../webgl/RenderCamera.js\";let n=class extends s{constructor(){super(...arguments),this.startCamera=new i,this.currentCamera=new i,this._lastInteraction=0}get isInteractive(){return performance.now()-this._lastInteraction<o}stepController(r,t){t.copyViewFrom(this.currentCamera),this.currentCamera.copyFrom(t)}onControllerStart(r){this.state=a.Running,this.startCamera.copyFrom(r),this.currentCamera.copyFrom(r)}onControllerEnd(r){r.copyViewFrom(this.currentCamera)}commitCamera(){this._lastInteraction=performance.now(),setTimeout((()=>this.notifyChange(\"isInteractive\")),o),this.view.state.updateCamera((r=>this.stepController(0,r))),this.steppingFinished&&this.finishController()}};r([t({readOnly:!0})],n.prototype,\"isInteractive\",null),r([t()],n.prototype,\"_lastInteraction\",void 0),n=r([e(\"esri.views.3d.state.controllers.InteractiveController\")],n);export{n as InteractiveController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{acosClamped as i,clamp as s}from\"../../../../core/mathUtils.js\";import{createScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromRotation as a,rotate as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as h}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{copy as p}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{c,f as l,l as _,k as v,n as f,g as C,h as P,b as u,e as w}from\"../../../../chunks/vec32.js\";import{create as d}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{applyAll as E}from\"../../camera/constraintUtils.js\";import{ConstraintOptions as R}from\"../../camera/constraintUtils/ConstraintOptions.js\";import{ConstraintTypes as j}from\"../../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as T}from\"../../camera/constraintUtils/InteractionType.js\";import{TiltMode as y}from\"../../camera/constraintUtils/TiltMode.js\";import{getVoxelWasm as g}from\"../../layers/VoxelWasm.js\";import{TiltRange as M}from\"../Constraints.js\";import{InteractiveController as U}from\"./InteractiveController.js\";import{contentIntersectorOptions as x,normalizeCoordinate as O,rotatePivotDistanceModifier as b,rotatePivotMinDistanceModifier as D,navigationMode as A,rotateScreenPixelArea as N,NavigationMode as L}from\"../utils/navigationUtils.js\";var V;!function(t){t[t.CENTER=0]=\"CENTER\",t[t.EYE=1]=\"EYE\"}(V||(V={}));let H=class extends U{get _intersectionHelper(){return this.view.sceneIntersectionHelper}constructor(t){super(t),this.pivot=V.CENTER,this._rotScale=0,this._lastPoint=m(),this._tmpWorldUp=d(),this._tmpViewDir=d(),this._tmpRotCurPoint=m(),this._tmpTransf=h(),this._tmpAxis=d(),this._tmpPivotPoint=d(),this._pivotPos=d(),this._constraintOptions=new R(j.ALL,T.TUMBLE,0,this.startCamera)}initialize(){this._rotScale=this.pivot===V.CENTER?3:1.5}begin(t){if(this.active){switch(this.pivot){case V.EYE:c(this._pivotPos,this.startCamera.eye),this._constraintOptions.interactionType=T.LOOK_AROUND,this._constraintOptions.tiltMode=y.LOOK_AROUND,this._constraintOptions.selection=j.NONE;break;case V.CENTER:{const i=this._intersectionHelper.intersectRayFreePointFallback(this.startCamera.ray,this._pivotPos,0===this.view.map.ground.opacity?x:{});i||c(this._pivotPos,this.startCamera.center),this._constrainPivotPoint(t,i),this.startCamera.center=this._pivotPos,this._constraintOptions.interactionType=T.TUMBLE,this._constraintOptions.tiltMode=y.TUMBLE,this._constraintOptions.selection=j.ALL&~j.DISTANCE;break}}O(this.startCamera,t,this._lastPoint)}}_constrainPivotPoint(t,i){const s=this.startCamera,o=d();l(o,this._pivotPos,s.eye);const e=_(o),a=Math.abs(this.view.camera.position.z);this.view.renderCoordsHelper.worldUpAtPosition(s.eye,S);let n=Math.max(Math.min(b,1/Math.abs(v(S,s.viewForward)))*a,D);i&&(n=Math.min(e,n));const h=r(s.width/s.pixelRatio*.5,s.height/s.pixelRatio*.5),p=A(this.startCamera,h,this.view.renderCoordsHelper,this.view.viewingMode);let m=this.view._stage.renderView.getMinimalDepthForArea(g(this.view),s.fullWidth/s.pixelRatio*.5,s.fullHeight/s.pixelRatio*.5,s,2.5*N,N),u=this.view._stage.renderView.getMinimalDepthForArea(g(this.view),t[0],t[1],s,N);null==m&&null==u||(m=m??u??0,u=null==u||p===L.Horizontal?m:u,n=m>u?u:m,n=i?Math.min(n,e):n),f(o,o),c(this._pivotPos,C(this._tmpPivotPoint,s.eye,P(this._tmpPivotPoint,o,n)))}update(t){if(this.active){switch(this.pivot){case V.EYE:this.currentCamera.center=this._applyRotation(this.currentCamera,t,this.currentCamera.center,this._pivotPos);break;case V.CENTER:this.currentCamera.center=this._pivotPos,this.currentCamera.eye=this._applyRotation(this.currentCamera,t,this.currentCamera.eye,this._pivotPos)}E(this.view,this.currentCamera,this._constraintOptions),this.commitCamera()}}end(){this.active&&this.finishController()}_applyRotation(t,r,o,e){this.view.renderCoordsHelper.worldUpAtPosition(e,this._tmpWorldUp),O(t,r,this._tmpRotCurPoint);let h=(this._lastPoint[1]-this._tmpRotCurPoint[1])*this._rotScale,m=(this._tmpRotCurPoint[0]-this._lastPoint[0])*this._rotScale;l(this._tmpViewDir,o,e);const c=_(this._tmpViewDir),f=i(v(this._tmpViewDir,this._tmpWorldUp)/c);if(this.pivot===V.EYE){h*=-.5;const t=.5*Math.PI-f,i=.5*Math.PI*.99;h=t-Math.max(-i,Math.min(i,t+h))}return h=s(h+f,M.min,M.max)-f,u(this._tmpAxis,t.up,this._tmpViewDir),this.pivot===V.CENTER&&(m=-m),a(this._tmpTransf,m,this._tmpWorldUp),n(this._tmpTransf,this._tmpTransf,h,this._tmpAxis),w(this._tmpViewDir,this._tmpViewDir,this._tmpTransf),t.up=w(k,t.up,this._tmpTransf),C(k,e,this._tmpViewDir),p(this._lastPoint,this._tmpRotCurPoint),k}};t([o()],H.prototype,\"pivot\",void 0),H=t([e(\"esri.views.3d.state.controllers.RotateController\")],H);const k=d(),S=d();export{V as PivotPoint,H as RotateController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as t}from\"../../../../core/screenUtils.js\";import{RotateController as r}from\"../../state/controllers/RotateController.js\";export{PivotPoint}from\"../../state/controllers/RotateController.js\";import{InputHandler as e}from\"../../../input/InputHandler.js\";import{eventMatchesMousePointerAction as o}from\"../../../input/handlers/support.js\";class a extends e{constructor(t,r,e,o){super(!0),this._view=t,this.pointerAction=r,this._pivot=e,this.registerIncoming(\"drag\",o,(t=>this._handleDrag(t)))}_handleDrag(e){const a=e.data;if(a.pointers.size>1)return;if(!o(e.data,this.pointerAction))return;const i=t(a.center.x,a.center.y);switch(a.action){case\"start\":this._cameraController&&(this._cameraController.end(),this._cameraController=null),this._cameraController=new r({view:this._view,pivot:this._pivot}),this._view.state.switchCameraController(this._cameraController),this._cameraController.begin(i);break;case\"update\":this._cameraController&&this._cameraController.update(i);break;case\"end\":this._cameraController&&(this._cameraController.end(),this._cameraController=null)}e.stopPropagation()}}export{a as DragRotate};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{clamp as i}from\"../../../../core/mathUtils.js\";import{createScreenPointArray as r}from\"../../../../core/screenUtils.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/Error.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{copy as s,distance as a}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{n as o,f as h,l as c,k as m,h as p,g as l}from\"../../../../chunks/vec32.js\";import{create as _}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as u}from\"../../../../geometry/ellipsoidUtils.js\";import{create as P,fromPoints as C}from\"../../../../geometry/support/axisAngle.js\";import{c as y,g as d}from\"../../../../chunks/sphere.js\";import{pixelDistanceToInteractionFactor as f,applyAll as g}from\"../../camera/constraintUtils.js\";import{ConstraintOptions as v}from\"../../camera/constraintUtils/ConstraintOptions.js\";import{ConstraintTypes as R}from\"../../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as j}from\"../../camera/constraintUtils/InteractionType.js\";import{applySurfaceCollisionConstraint as k}from\"../../camera/constraintUtils/surfaceCollision.js\";import{InteractiveController as w}from\"./InteractiveController.js\";import{NavigationMode as D,normalizeCoordinate as A,pickPointAndInitSphere as M,contentIntersectorOptions as b,SpherePickPointFallback as O,navigationMode as U,distanceClampValues as x,pivotDistanceModifier as z,screenPixelArea as H,sphereOrPlanePointFromScreenPoint as L,applyRotation as I}from\"../utils/navigationUtils.js\";import{fromScreenAtEye as S}from\"../../support/geometryUtils/ray.js\";let B=class extends w{constructor(){super(...arguments),this._pickPoint=_(),this._tmpP0=n(),this._panAxisAngle=P(),this._tmpRayDir=_(),this._tmpRayDirPick=_(),this._targetOnSphere=_(),this._navMode=D.Horizontal,this._tmpRay={origin:_(),direction:_()},this.dragBeginPoint=r(),this._normalizedAnchorPoint=n(),this._constraintOptions=new v(R.ALL_EXCEPT_COLLISION,j.ZOOM,0,this.startCamera),this._sphere=y(),this._hasPickPoint=!1}get _intersectionHelper(){return this.view.sceneIntersectionHelper}begin(t){if(!this.active)return;s(this.dragBeginPoint,t),A(this.startCamera,t,this._normalizedAnchorPoint);const r=u(this.view.spatialReference),e=M(this._intersectionHelper,this.startCamera,t,r,O.Ellipsoid,0===this.view.map.ground.opacity?b:{});if(this._navMode=U(this.startCamera,t,this.view.renderCoordsHelper,this.view.viewingMode),this._navMode===D.Horizontal)this._hasPickPoint=!!e.scenePickPoint,this._pickPoint=e.scenePickPoint??this._pickPoint,this._sphere=e.sphere;else{let r;S(this.startCamera,t,this._tmpRay),o(this._tmpRay.direction,this._tmpRay.direction),null!=e.scenePickPoint&&(h(this._tmpRayDirPick,this.startCamera.eye,e.scenePickPoint),r=c(this._tmpRayDirPick));const s=Math.abs(this.view.camera.position.z);this.view.renderCoordsHelper.worldUpAtPosition(this.startCamera.eye,T);let a=i(Math.min(z,1/Math.abs(m(T,this._tmpRay.direction)))*s,x[0],x[1]);const n=this.view._stage.renderView.getMinimalDepthForArea(null,t[0],t[1],this.view.state.camera,H);a=null!=n?n:a,a=null!=r?Math.min(a,r):a,this._hasPickPoint=!0,p(this._tmpRay.direction,this._tmpRay.direction,a),l(this._pickPoint,this._tmpRay.origin,this._tmpRay.direction)}}update(t){if(this.active){if(this.currentCamera.eye=this.startCamera.eye,this.currentCamera.center=this.startCamera.center,this.currentCamera.up=this.startCamera.up,this._navMode===D.Horizontal){h(this._tmpRayDir,this.currentCamera.center,this.currentCamera.eye);const i=c(this._tmpRayDir);A(this.currentCamera,t,this._tmpP0);const r=12*(this._normalizedAnchorPoint[1]-this._tmpP0[1]);let e=i*2**r;const s=this.view.state.constraints.minimumPoiDistance;if(r<0&&e<s&&(e=s),Math.abs(i-e)<1e-6)return;if(this._hasPickPoint&&e<i){const t=1-(1-e/i)*(1-this._sphere[3]/c(this.currentCamera.center));this.currentCamera.center=p(E,this.currentCamera.center,t)}p(this._tmpRayDir,this._tmpRayDir,-e/i),this.currentCamera.eye=l(E,this.currentCamera.center,this._tmpRayDir),this._constraintOptions.interactionFactor=f(a(this.dragBeginPoint,t)),g(this.view,this.currentCamera,this._constraintOptions),this._hasPickPoint&&(L(this._sphere,this.currentCamera,this.dragBeginPoint,this._targetOnSphere),C(this._pickPoint,this._targetOnSphere,this._panAxisAngle),I(this.currentCamera,d(this._sphere),this._panAxisAngle))}else{const i=c(this._tmpRay.direction);A(this.currentCamera,t,this._tmpP0);const r=12*(this._normalizedAnchorPoint[1]-this._tmpP0[1]);let e=i*2**r;const s=this.view.state.constraints.minimumPoiDistance;if(r<0&&e<s&&(e=s),Math.abs(i-e)<1e-6)return;p(this._tmpRayDir,this._tmpRay.direction,1-e/i),this.currentCamera.eye=l(E,this.currentCamera.eye,this._tmpRayDir),this.currentCamera.center=l(E,this.currentCamera.center,this._tmpRayDir)}k(this.view,this.currentCamera),this.commitCamera()}}end(){this.active&&this.finishController()}};B=t([e(\"esri.views.3d.state.controllers.ZoomControllerGlobal\")],B);const E=_(),T=_();export{B as ZoomControllerGlobal};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{clamp as i}from\"../../../../core/mathUtils.js\";import{createScreenPointArray as s}from\"../../../../core/screenUtils.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/Error.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{copy as e,distance as a}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{f as n,l as m,n as h,k as c,h as p,g as _,F as l,c as C,m as P}from\"../../../../chunks/vec32.js\";import{create as f,fromValues as u}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as g,fromPositionAndNormal as D}from\"../../../../geometry/support/plane.js\";import{pixelDistanceToInteractionFactor as j,applyAll as v}from\"../../camera/constraintUtils.js\";import{ConstraintOptions as y}from\"../../camera/constraintUtils/ConstraintOptions.js\";import{ConstraintTypes as d}from\"../../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as w}from\"../../camera/constraintUtils/InteractionType.js\";import{getVoxelWasm as b}from\"../../layers/VoxelWasm.js\";import{InteractiveController as M}from\"./InteractiveController.js\";import{normalizeCoordinate as O,contentIntersectorOptions as N,distanceClampValues as R,pivotDistanceModifier as x,screenPixelArea as U,intersectPlaneFromScreenPoint as A}from\"../utils/navigationUtils.js\";let z=class extends M{constructor(){super(...arguments),this._tmpP=f(),this._tmpDir=f(),this._tmpN=f(),this._tmpP0=o(),this._tmpPoi=f(),this._tmpRayDir=f(),this.dragBeginPoint=s(),this._normalizedAnchorPoint=o(),this._constraintOptions=new y(d.ALL,w.ZOOM,0,this.startCamera,f()),this._plane=g()}get _intersectionHelper(){return this.view.sceneIntersectionHelper}begin(t){if(!this.active)return;e(this.dragBeginPoint,t),O(this.startCamera,t,this._normalizedAnchorPoint);const s=this._intersectionHelper.intersectScreenFreePointFallback(t,this._tmpP,0===this.view.map.ground.opacity?N:{});n(this._tmpDir,this._tmpP,this.startCamera.eye);const r=m(this._tmpDir);h(this._tmpDir,this._tmpDir);const a=Math.abs(this.view.camera.position.z);let o=i(Math.min(x,1/Math.abs(c(L,this._tmpDir)))*a,R[0],R[1]);const C=this.view._stage.renderView.getMinimalDepthForArea(b(this.view),t[0],t[1],this.view.state.camera,U);o=null!=C?C:o,o=s?Math.min(o,r):o,p(this._tmpDir,this._tmpDir,o),_(this._tmpP,this.startCamera.eye,this._tmpDir),n(this._tmpN,this.startCamera.eye,this.startCamera.center),h(this._tmpN,this._tmpN),this._tmpN[1]<0&&l(this._tmpN,this._tmpN),D(this._tmpP,this._tmpN,this._plane)}update(t){if(!this.active)return;A(this._plane,this.currentCamera,this.dragBeginPoint,this._tmpPoi)||C(this._tmpPoi,this.currentCamera.center),O(this.currentCamera,t,this._tmpP0);let i=4*(this._tmpP0[1]-this._normalizedAnchorPoint[1]);e(this._normalizedAnchorPoint,this._tmpP0),n(this._tmpRayDir,this._tmpPoi,this.currentCamera.eye);const s=m(this._tmpRayDir);let r=s*(1-i);this._constraintOptions.interactionDirection&&(C(this._constraintOptions.interactionDirection,this._tmpRayDir),p(this._constraintOptions.interactionDirection,this._constraintOptions.interactionDirection,Math.sign(i)/s));const o=this.view.state.constraints.minimumPoiDistance;i>=0&&r<o&&(r=o,i=-(r-s)/s),Math.abs(s-r)<1e-6||(p(this._tmpRayDir,this._tmpRayDir,i),this.currentCamera.eye=_(F,this.currentCamera.eye,this._tmpRayDir),P(F,this.currentCamera.center,this._tmpPoi,i),this._tmpPoi[2]>this.startCamera.center[2]?F[2]=Math.max(this.startCamera.center[2],F[2]):F[2]=Math.min(this.startCamera.center[2],F[2]),this.currentCamera.center=F,this._constraintOptions.interactionFactor=j(a(this.dragBeginPoint,t)),v(this.view,this.currentCamera,this._constraintOptions),this.commitCamera())}end(){this.active&&this.finishController()}};z=t([r(\"esri.views.3d.state.controllers.ZoomControllerLocal\")],z);const F=f(),L=u(0,0,1);export{z as ZoomControllerLocal};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{ZoomControllerGlobal as t}from\"../../state/controllers/ZoomControllerGlobal.js\";import{ZoomControllerLocal as e}from\"../../state/controllers/ZoomControllerLocal.js\";import{InputHandler as o}from\"../../../input/InputHandler.js\";import{eventMatchesMousePointerAction as a}from\"../../../input/handlers/support.js\";class s extends o{constructor(r,t,e){super(!0),this._view=r,this.pointerAction=t,this.registerIncoming(\"drag\",e,(r=>this._handleDrag(r)))}_handleDrag(o){const s=o.data;if(s.pointers.size>1)return;if(!a(o.data,this.pointerAction))return;const i=r(s.center.x,s.center.y);switch(s.action){case\"start\":this._cameraController&&(this._cameraController.end(),this._cameraController=null),this._view.state.isGlobal?this._cameraController=new t({view:this._view}):this._cameraController=new e({view:this._view}),this._view.state.switchCameraController(this._cameraController),this._cameraController.begin(i);break;case\"update\":this._cameraController&&this._cameraController.update(i);break;case\"end\":this._cameraController&&(this._cameraController.end(),this._cameraController=null)}o.stopPropagation()}}export{s as DragZoom};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{neverReached as e}from\"../../../../core/compilerUtils.js\";import{clamp as i,acosClamped as a,deg2rad as r}from\"../../../../core/mathUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{translate as n,rotate as c,identity as m}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{f as h,e as p,g as d,h as u,c as _,F as f,l as v,s as C,n as g,b as y,q as w,E as O,k as b}from\"../../../../chunks/vec32.js\";import{create as S}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as x}from\"../../../../geometry/ellipsoidUtils.js\";import{wrap as j}from\"../../../../geometry/support/ray.js\";import{e as L,h as M,t as T}from\"../../../../chunks/sphere.js\";import{angle as A}from\"../../../../geometry/support/vector.js\";import{sv3d as E}from\"../../../../geometry/support/vectorStacks.js\";import{applyAll as z}from\"../../camera/constraintUtils.js\";import{ConstraintOptions as I}from\"../../camera/constraintUtils/ConstraintOptions.js\";import{ConstraintTypes as R}from\"../../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as U}from\"../../camera/constraintUtils/InteractionType.js\";import{TiltMode as D}from\"../../camera/constraintUtils/TiltMode.js\";import{TiltRange as H}from\"../Constraints.js\";import{InteractiveController as N}from\"./InteractiveController.js\";import{panMotionToRotationMatrix as k,onSurfaceTiltToEyeTiltGlobal as P,offSurfaceTiltToEyeTiltGlobal as F}from\"../utils/navigationUtils.js\";import{viewAngle as G}from\"../utils/viewUtils.js\";import{headingTiltToDirectionUp as V}from\"../../support/cameraUtils.js\";import{createDirectionUp as B}from\"../../support/cameraUtilsInternal.js\";import K from\"../../webgl/RenderCamera.js\";import{extractTransformation as X,isZeroTransformation as q,extractTransformationKeyboard as Z}from\"../../../navigation/gamepadAndKeyboardUtils.js\";let J=class extends N{constructor(t){super(t),this._filteredSurfaceElevation=0,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._keysButtonState=[0,0,0,0,0,0,0,0,0,0,0,0],this._tmpCamera=new K,this._headingStart=0,this._constraintOptions=new I(R.ALL,U.NONE,0,new K,null,D.LOOK_AROUND)}handleEventGamepad(t){const e=X(t,this.view.navigation.gamepad,this._transformation);(\"end\"===t.action||q(e))&&this.finishController()}activateDirection(t){this._keysButtonState[t]=1,Z(this._keysButtonState,this._transformation)}deactivateDirection(t){this._keysButtonState[t]=0;const e=Z(this._keysButtonState,this._transformation);q(e)&&this.finishController()}onControllerStart(t){this._filteredSurfaceElevation=this.view.pointsOfInterest.cameraOnSurface.location.z,this._headingStart=this.view.camera.heading,super.onControllerStart(t)}_updateFilteredSurfaceElevation(t){const e=this.view.pointsOfInterest.cameraOnSurface.location.z,i=1;this._filteredSurfaceElevation+=i*(e-this._filteredSurfaceElevation)*t}stepController(t,e){this._updateStartHeading(),this._updateFilteredSurfaceElevation(t),this.currentCamera.copyViewFrom(e),this._updateCameraCenter(),this._constraintOptions.interactionStartCamera?.copyFrom(this.currentCamera),this._calculateControlTransformation(t,this.currentCamera,at),this._applyDisabledMovementTypes(at),this._applyPan(at.pan),this._applyRotate(at.rotate),this._applyZoom(at.zoom),this._applyAscend(at.ascend),this._constraintOptions.interactionType=U.NONE,this._constraintOptions.selection=R.COLLISION,z(this.view,this.currentCamera,this._constraintOptions),super.stepController(t,e)}_updateStartHeading(){0!==this._transformation.heading&&(this._headingStart=this.view.camera.heading)}_applyRotate(t){if(!t.enabled)return;const e=this.currentCamera;h(rt,e.center,e.eye),p(rt,rt,t.matrix),e.center=d(rt,rt,e.eye),e.up=p(rt,e.up,t.matrix),this._constraintOptions.interactionType=U.LOOK_AROUND,this._constraintOptions.selection=R.ALL_EXCEPT_COLLISION,z(this.view,e,this._constraintOptions)}_applyPan(t,e=this.currentCamera){if(!t.enabled)return;e.eye=p(rt,e.eye,t.matrix),e.center=p(rt,e.center,t.matrix);this.view.state.isGlobal&&(e.up=p(rt,e.up,t.matrix)),this._constraintOptions.interactionType=U.PAN,this._constraintOptions.selection=R.ALL,z(this.view,e,this._constraintOptions)}_applyZoom(t){if(!t)return;const e=this.currentCamera.viewForward;this.currentCamera.eye=d(rt,this.currentCamera.eye,u(E.get(),e,t)),_(ot,e),f(ot,ot),this._constraintOptions.interactionDirection=ot,this._constraintOptions.interactionType=U.ZOOM,this._constraintOptions.selection=R.ALL_EXCEPT_COLLISION,z(this.view,this.currentCamera,this._constraintOptions),this._constraintOptions.interactionDirection=null}_applyAscend(t){if(!t)return;const e=this.view.renderCoordsHelper.worldUpAtPosition(this.currentCamera.eye,E.get());this._constraintOptions.interactionDirection=_(ot,e);if(this.view.state.isGlobal){const e=v(this.currentCamera.eye),i=(e+t)/e;this.currentCamera.eye=u(rt,this.currentCamera.eye,i),this.currentCamera.center=u(rt,this.currentCamera.center,i)}else{const i=u(E.get(),e,t);this.currentCamera.eye=d(rt,this.currentCamera.eye,i),this.currentCamera.center=d(rt,this.currentCamera.center,i)}this._updateCameraCenter(),this._constraintOptions.interactionType=U.ASCEND,this._constraintOptions.selection=R.COLLISION,z(this.view,this.currentCamera,this._constraintOptions)&&this._updateCameraCenter(),this._constraintOptions.selection=R.ALL_EXCEPT_COLLISION,z(this.view,this.currentCamera,this._constraintOptions),this._constraintOptions.interactionDirection=null}_calculateControlTransformation(t,e,i){nt(i);const a=this._computeVelocities(t);this.view.state.isLocal?this._calculateControlTransformationLocal(a,e,i):this._calculateControlTransformationGlobal(a,e,i)}_updateCameraCenter(){const t=this.view.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,e=this.view.renderCoordsHelper,i=this.currentCamera.ray;this.currentCamera.center=e.intersectManifoldClosestSilhouette(i,t,rt)}_calculateControlTransformationLocal(t,a,r){const{viewRight:o,viewForward:s}=a,m=this._transformation,l=this.view.navigation.gamepad,h=C(E.get(),s[0],s[1],0);g(h,h);const p=m.translation[0]*t.pan;if(0!==p){const t=u(E.get(),o,p);n(r.pan.matrix,r.pan.matrix,t),r.pan.enabled=!0}switch(l.mode){case\"pan\":{const e=-m.translation[1]*t.pan;if(0!==e){const t=u(E.get(),h,e);n(r.pan.matrix,r.pan.matrix,t),r.pan.enabled=!0}r.zoom=m.zoom*t.zoom;break}case\"zoom\":r.zoom=(-m.translation[1]+m.zoom)*t.zoom;break;default:e(l.mode)}const d=m.translation[2]*t.ascend;r.ascend=d;const _=-m.heading*t.rotate;0!==_&&(c(r.rotate.matrix,r.rotate.matrix,_,this.view.renderCoordsHelper.worldUpAtPosition(a.eye,E.get())),r.rotate.enabled=!0);const f=m.tilt*t.rotate,v=G(this.view.renderCoordsHelper,a.center,a.eye),y=i(v+f,H.min,H.max)-v;y&&(c(r.rotate.matrix,r.rotate.matrix,y,o),r.rotate.enabled=!0)}_calculateControlTransformationGlobal(t,e,i){const{eye:a,viewRight:r}=e,o=this._transformation,s=this.view.navigation.gamepad,n=y(E.get(),r,a);g(n,n),f(n,n),k(this.startCamera,e,o,t,this.view.camera.heading,this._headingStart,this.view.camera.tilt,i,s),this._tmpCamera.copyFrom(this.currentCamera),this._applyPan(at.pan,this._tmpCamera);const m=this.view.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,l=o.translation[2]*t.ascend;i.ascend=l;const h=-o.heading*t.rotate;0!==h&&(c(i.rotate.matrix,i.rotate.matrix,h,this._tmpCamera.eye),i.rotate.enabled=!0);const p=o.tilt*t.rotate,d=this._clampTiltDeltaGlobalToValidRange(p,e.ray,m);0!==d&&(c(i.rotate.matrix,i.rotate.matrix,d,this._tmpCamera.viewRight),i.rotate.enabled=!0),i.zoom+=o.zoom*t.zoom}_clampTiltDeltaGlobalToValidRange(t,e,a){const r=x(this.view.spatialReference),o=P(H.min,e.origin,a,r);let s=0,n=0;const c=E.get();if(this.view.renderCoordsHelper.intersectManifold(e,a,c)){const t=G(this.view.renderCoordsHelper,c,e.origin);s=P(t,e.origin,a,r),n=P(H.max,e.origin,a,r)}else{L(M(T,a+r.radius),e,c);const t=Math.PI+A(e.direction,c);s=F(t,e.origin,a,r),n=F(H.max,e.origin,a,r)}return i(s+t,o,n)-s}_getPointAbsoluteSurfaceElevation(t,e,i){const{renderCoordsHelper:a}=this.view,r=a.getAltitude(t),o=e+Math.abs(r-e);return a.setAltitude(i,o,t),o}_clampedDistanceToSurface(t,e){const{renderCoordsHelper:i}=this.view,{camera:a}=this.view.state,{direction:r}=V(this.view,e,0,W,st),o=i.intersectManifoldClosestSilhouette(j(e,r),t,E.get()),s=w(e,o),n=i.intersectManifoldClosestSilhouette(j(e,O(E.get(),e,a.center)),t,E.get()),c=w(e,n);return Math.min(s,c)}_computeHeadingRotateRadius(t){const{renderCoordsHelper:e,state:i}=this.view,{camera:r,isGlobal:o}=i,s=e.intersectManifoldClosestSilhouette(r.ray,this._filteredSurfaceElevation,E.get());if(o){const e=h(E.get(),t,s),i=v(e);u(e,e,1/i);const r=g(E.get(),t),o=a(b(r,e));return i*Math.sin(Math.min(Y,o))}{const i=_(E.get(),t);return e.setAltitude(i,this._filteredSurfaceElevation),w(s,i)}}_minimumAscendVelocity(){return this.view.state.constraints.collision.enabled?0:tt}_computeVelocities(t){const e=this._filteredSurfaceElevation,a=e+x(this.view.spatialReference).radius,{camera:r,isGlobal:o}=this.view.state,s=E.get(),n=this._getPointAbsoluteSurfaceElevation(r.eye,e,s),c=this._clampedDistanceToSurface(e,s),m=r.width/2,l=$*r.width,h=$*r.width,p=c*Math.tan(.5*r.fovX)/m,d=p/a,u=p/this._computeHeadingRotateRadius(s),_=n-e;return{pan:(o?d:p)*l*t,ascend:Math.max(this._minimumAscendVelocity()*t,2**(l*t/m)*_-_),zoom:2**(l*t/m)*c-c,rotate:i(u*h,et,it)*t}}_applyDisabledMovementTypes(t){null==this.disableMovements||void 0!==this.disableMovements.mode&&this.view.state.viewingMode!==this.disableMovements.mode||(t.zoom=this.disableMovements.zoom?0:t.zoom,t.ascend=this.disableMovements.ascend?0:t.ascend,t.pan.enabled=!this.disableMovements.pan,this.disableMovements.pan&&m(t.pan.matrix),t.rotate.enabled=!this.disableMovements.rotate,this.disableMovements.rotate&&m(t.rotate.matrix))}static activatesFor(t,e){const i=X(e,t.navigation.gamepad,Q);return!(\"end\"===e.action||q(i))}};t([o({constructOnly:!0})],J.prototype,\"gamepadDevice\",void 0),t([o({constructOnly:!0})],J.prototype,\"disableMovements\",void 0),J=t([s(\"esri.views.3d.state.controllers.GamepadKeyboardController\")],J);const Q={translation:[0,0,0],heading:0,tilt:0,zoom:0},W=80,Y=r(W),$=.75,tt=5,et=r(30),it=r(80),at={zoom:0,ascend:0,pan:{enabled:!1,matrix:l()},rotate:{enabled:!1,matrix:l()}},rt=S(),ot=S(),st=B();function nt(t){t.zoom=0,t.ascend=0,t.pan.enabled=!1,m(t.pan.matrix),t.rotate.enabled=!1,m(t.rotate.matrix)}export{J as GamepadKeyboardController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport a from\"../../../../core/Handles.js\";import{watch as e,initial as t}from\"../../../../core/reactiveUtils.js\";import{GamepadKeyboardController as r}from\"../../state/controllers/GamepadKeyboardController.js\";import{InputHandler as i}from\"../../../input/InputHandler.js\";class l extends i{constructor(e){super(!0),this._view=e,this._watchHandles=new a,this._handle=this.registerIncoming(\"gamepad\",(a=>this._handleEventGamepad(a))),this._handle.pause()}onInstall(a){super.onInstall(a),this._watchHandles.add([e((()=>this._view.navigation.gamepad.enabled),(a=>{a?this._handle.resume():(this._handle.pause(),this._cameraControllerGamepad&&(this._cameraControllerGamepad.finishController(),this._cameraControllerGamepad=null))}),t),e((()=>this._view.navigation.gamepad.device),(a=>{this._cameraControllerGamepad&&a&&this._cameraControllerGamepad.gamepadDevice!==a&&(this._cameraControllerGamepad.finishController(),this._cameraControllerGamepad=null)}))])}onUninstall(){this._watchHandles.removeAll(),super.onUninstall()}_handleEventGamepad(a){const e=this._view.navigation.gamepad.device;if(e&&a.data.device!==e)return;const t=this._cameraControllerGamepad&&this._cameraControllerGamepad.active;if(t||r.activatesFor(this._view,a.data)){if(!t){const e=new r({view:this._view,gamepadDevice:a.data.device});this._view.state.switchCameraController(e)&&(this._cameraControllerGamepad=e)}this._cameraControllerGamepad&&this._cameraControllerGamepad.active&&this._cameraControllerGamepad.gamepadDevice===a.data.device&&this._cameraControllerGamepad.handleEventGamepad(a.data)}}}export{l as GamepadNavigation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ViewingMode as e}from\"../../../ViewingMode.js\";import{GamepadKeyboardController as t}from\"../../state/controllers/GamepadKeyboardController.js\";import{InputHandler as a}from\"../../../input/InputHandler.js\";import{onVisibilityChange as o}from\"../../../input/VisibilityChange.js\";var r;!function(e){e[e.LEFT=0]=\"LEFT\",e[e.RIGHT=1]=\"RIGHT\",e[e.FORWARD=2]=\"FORWARD\",e[e.BACKWARD=3]=\"BACKWARD\",e[e.UP=4]=\"UP\",e[e.DOWN=5]=\"DOWN\",e[e.HEADINGLEFT=6]=\"HEADINGLEFT\",e[e.HEADINGRIGHT=7]=\"HEADINGRIGHT\",e[e.TILTUP=8]=\"TILTUP\",e[e.TILTDOWN=9]=\"TILTDOWN\",e[e.ZOOMIN=10]=\"ZOOMIN\",e[e.ZOOMOUT=11]=\"ZOOMOUT\"}(r||(r={}));class i extends a{constructor(t,a){super(!0),this._view=t,this._disableMovements={pan:!0,zoom:!1,ascend:!0,rotate:!1,mode:e.Local},this._keyToNumber={[a.left]:r.LEFT,[a.right]:r.RIGHT,[a.forward]:r.FORWARD,[a.backward]:r.BACKWARD,[a.up]:r.UP,[a.down]:r.DOWN,[a.headingLeft]:r.HEADINGLEFT,[a.headingRight]:r.HEADINGRIGHT,[a.tiltUp]:r.TILTUP,[a.tiltDown]:r.TILTDOWN,[a.zoomIn]:r.ZOOMIN,[a.zoomOut]:r.ZOOMOUT},this.registerIncoming(\"key-down\",null,(e=>this._handleKeyDown(e))),this.registerIncoming(\"key-up\",null,(e=>this._handleKeyUp(e))),this.registerIncoming(\"blur\",null,(()=>this._handleStop())),this._visibilityHandle=o((e=>e?null:this._handleStop()))}onUninstall(){this._visibilityHandle?.remove(),this._handleStop()}_handleKeyDown(e){if(e.data.native.ctrlKey||e.data.native.metaKey)return;const a=this._keyToNumber[e.data.key];null!=a&&(this._cameraControllerKeyboard&&this._cameraControllerKeyboard.active||(this._cameraControllerKeyboard=new t({view:this._view,disableMovements:this._disableMovements}),this._view.state.switchCameraController(this._cameraControllerKeyboard)),this._cameraControllerKeyboard.active&&(this._cameraControllerKeyboard.activateDirection(a),e.stopPropagation()))}_handleStop(){this._cameraControllerKeyboard?.active&&(this._cameraControllerKeyboard.finishController(),this._cameraControllerKeyboard=null)}_handleKeyUp(e){if(e.data.native.ctrlKey||e.data.native.metaKey)return;const t=this._keyToNumber[e.data.key];null!=t&&this._cameraControllerKeyboard&&this._cameraControllerKeyboard.active&&(this._cameraControllerKeyboard.deactivateDirection(t),e.stopPropagation())}}export{i as KeyboardNavigation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as e}from\"../../../../core/screenUtils.js\";import{ZoomStepControllerGlobal as t}from\"../../state/controllers/ZoomStepControllerGlobal.js\";import{ZoomStepControllerLocal as o}from\"../../state/controllers/ZoomStepControllerLocal.js\";import{InputHandler as r}from\"../../../input/InputHandler.js\";class i extends r{constructor(e,t){super(!0),this._view=e,this.registerIncoming(\"mouse-wheel\",t,(e=>this._handleMouseWheel(e)))}_handleMouseWheel(r){if(!this._view.navigation.mouseWheelZoomEnabled)return;const i=r.data;this._cameraController&&this._cameraController.active||(this._cameraController=this._view.state.isGlobal?new t({view:this._view,mode:\"interaction\"}):new o({view:this._view,mode:\"interaction\"}),this._view.state.switchCameraController(this._cameraController)),this._cameraController.zoomStep(-1/60*i.deltaY,e(i.x,i.y)),r.preventDefault(),r.stopPropagation()}}export{i as MouseWheelZoom};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this._gain=t}reset(t){this._value=t}set gain(t){this._gain=t}get value(){return void 0===this._value?0:this._value}update(t){void 0===this._value?this._value=t:this._value=this._gain*t+(1-this._gain)*this._value}}export{t as ExponentialFalloff};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/has.js\";import\"../../../../../core/RandomLCG.js\";import\"../../../../../core/Error.js\";import{subclass as e}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../../ViewAnimation.js\";import{applyAll as r}from\"../../../camera/constraintUtils.js\";import{ConstraintOptions as o}from\"../../../camera/constraintUtils/ConstraintOptions.js\";import{ConstraintTypes as s}from\"../../../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as n}from\"../../../camera/constraintUtils/InteractionType.js\";import{AnimationController as m}from\"../AnimationController.js\";import a from\"../../../webgl/RenderCamera.js\";let p=class extends m{constructor(){super(...arguments),this._beginCamera=new a,this._elapsedTimeSec=0,this.constraintOptions=new o(s.ALL,n.PAN,0,this._beginCamera)}initialize(){this.constraintOptions.interactionType=this.interactionType,this.viewAnimation=new i}get steppingFinished(){return this.momentum.isFinished(this._elapsedTimeSec)}onControllerStart(t){this._beginCamera.copyFrom(t),super.onControllerStart(t)}stepController(t,e){e.copyViewFrom(this._beginCamera),this._elapsedTimeSec+=t,this.momentumStep(this._elapsedTimeSec,e),r(this.view,e,this.constraintOptions)}};p=t([e(\"esri.views.3d.state.controllers.momentum.MomentumController\")],p);export{p as MomentumController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{h as s,f as e}from\"../../../../../chunks/vec32.js\";import{create as m}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{InteractionType as n}from\"../../../camera/constraintUtils/InteractionType.js\";import{MomentumController as i}from\"./MomentumController.js\";let c=class extends i{constructor(t){super(t),this.interactionType=n.PAN,this._tmpPan=m()}momentumStep(t,o){const r=this.momentum.value(t);s(this._tmpPan,this.momentum.direction,r),o.eye=e(a,o.eye,this._tmpPan),o.center=e(a,o.center,this._tmpPan),this.constraintOptions.interactionDirection=this._tmpPan}};t([o({constructOnly:!0})],c.prototype,\"momentum\",void 0),c=t([r(\"esri.views.3d.state.controllers.momentum.PanPlanarMomentumController\")],c);const a=m();export{c as PanPlanarMomentumController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as r,n as m,b as e}from\"../../../../../chunks/vec32.js\";import{create as i}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{InteractionType as n}from\"../../../camera/constraintUtils/InteractionType.js\";import{MomentumController as c}from\"./MomentumController.js\";import{applyRotationWithTwoAxes as a}from\"../../utils/navigationUtils.js\";const p=i(),u=i();let l=class extends c{constructor(o){super(o),this.interactionType=n.PAN}momentumStep(o,t){const s=this.momentum.value1(o),i=this.momentum.value2(o);r(u,t.eye),m(u,u),e(this.momentum.axis2,u,this.momentum.axis1),a(t,p,this.momentum.axis1,s,this.momentum.axis2,i)}};o([t({constructOnly:!0})],l.prototype,\"momentum\",void 0),l=o([s(\"esri.views.3d.state.controllers.momentum.PanSphericalMomentumController\")],l);export{l as PanSphericalMomentumController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{clone as s}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{wrapAxisAngle as e}from\"../../../../../geometry/support/axisAngle.js\";import{InteractionType as i}from\"../../../camera/constraintUtils/InteractionType.js\";import{MomentumController as m}from\"./MomentumController.js\";import{applyRotation as n}from\"../../utils/navigationUtils.js\";let c=class extends m{set center(t){this._set(\"center\",s(t))}set axis(t){this._set(\"axis\",s(t))}constructor(t){super(t),this.interactionType=i.TUMBLE}momentumStep(t,o){const r=this.momentum.value(t);n(o,this.center,e(this.axis,r))}};t([o({constructOnly:!0})],c.prototype,\"momentum\",void 0),t([o({constructOnly:!0})],c.prototype,\"center\",null),t([o({constructOnly:!0})],c.prototype,\"axis\",null),c=t([r(\"esri.views.3d.state.controllers.momentum.RotationMomentumController\")],c);export{c as RotationMomentumController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as e,E as s}from\"../../../../../chunks/vec32.js\";import{clone as i,create as n}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{InteractionType as m}from\"../../../camera/constraintUtils/InteractionType.js\";import{MomentumController as c}from\"./MomentumController.js\";import{applyZoomToPoint as a}from\"../../utils/navigationUtils.js\";let p=class extends c{set zoomCenter(t){this._set(\"zoomCenter\",i(t))}constructor(t){super(t),this.interactionType=m.ZOOM,this.constraintOptions.interactionDirection=n()}momentumStep(t,o){const{interactionDirection:r}=this.constraintOptions;if(!r)return;e(r,o.eye);const i=this.momentum.valueDelta(0,t);a(o,this.zoomCenter,i,this.view.state.constraints.minimumPoiDistance),s(r,o.eye,r)}};t([o({constructOnly:!0})],p.prototype,\"momentum\",void 0),t([o({constructOnly:!0})],p.prototype,\"zoomCenter\",null),p=t([r(\"esri.views.3d.state.controllers.momentum.ZoomPlanarMomentumController\")],p);export{p as ZoomPlanarMomentumController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{createScreenPointArray as e}from\"../../../../../core/screenUtils.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{clone as o,create as i}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as n,fromPoints as c}from\"../../../../../geometry/support/axisAngle.js\";import{c as m,g as p}from\"../../../../../chunks/sphere.js\";import{applyAll as a}from\"../../../camera/constraintUtils.js\";import{InteractionType as h}from\"../../../camera/constraintUtils/InteractionType.js\";import{MomentumController as l}from\"./MomentumController.js\";import{applyZoomOnSphere as u,sphereOrPlanePointFromScreenPoint as j,applyRotation as y}from\"../../utils/navigationUtils.js\";let C=class extends l{set screenCenter(t){this._set(\"screenCenter\",e(t[0],t[1]))}set sceneCenter(t){this._set(\"sceneCenter\",o(t))}constructor(t){super(t),this.interactionType=h.ZOOM,this.radius=0,this._tmpSceneCenter=i(),this._tmpZoomAxisAngle=n(),this._sphere=m()}initialize(){this._sphere[3]=this.radius}momentumStep(t,e){const s=this.momentum.valueDelta(0,t);u(this._sphere,e,s),this.constraintOptions.interactionType=h.ZOOM,a(this.view,e,this.constraintOptions),j(this._sphere,e,this.screenCenter,this._tmpSceneCenter),c(this.sceneCenter,this._tmpSceneCenter,this._tmpZoomAxisAngle),y(e,p(this._sphere),this._tmpZoomAxisAngle),this.constraintOptions.interactionType=h.PAN}};t([s({constructOnly:!0})],C.prototype,\"momentum\",void 0),t([s({constructOnly:!0})],C.prototype,\"screenCenter\",null),t([s({constructOnly:!0})],C.prototype,\"sceneCenter\",null),t([s({constructOnly:!0})],C.prototype,\"radius\",void 0),C=t([r(\"esri.views.3d.state.controllers.momentum.ZoomSphericalMomentumController\")],C);export{C as ZoomSphericalMomentumController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this._gain=e}update(e){void 0!==this.filteredValue?this.filteredValue=(1-this._gain)*this.filteredValue+this._gain*e:this.filteredValue=e}reset(){this.filteredValue=void 0}get hasFilteredValue(){return void 0!==this.filteredValue}}export{e as FilteredValue};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{p as e,n as i,c as s}from\"../../chunks/vec32.js\";import{create as a}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{rotationAngleAndAxisDirectRotation as l,rotationAnglesAndAxesHeadingPreserving as n}from\"../3d/state/utils/navigationUtils.js\";import{FilteredFiniteDifference as r}from\"./FilteredFiniteDifference.js\";import{FilteredValue as h}from\"./FilteredValue.js\";import{Momentum as _}from\"./Momentum.js\";const m=1e-5;class u extends _{constructor(t,e,i,s,a,l=0,n){super(t,e,i),this._angularVelocity1=s,this.axis1=a,this.angularVelocity2=l,this.axis2=n}value1(t){return super.valueFromInitialVelocity(this._angularVelocity1,t)}value2(t){return super.valueFromInitialVelocity(this.angularVelocity2,t)}}class o{constructor(e=300,i=12,s=.84){this._minimumInitialVelocity=e,this._stopVelocity=i,this._friction=s,this.enabled=!0,this._tmpAxis1=a(),this._tmpAxis2=a(),this._tmpAngles=t(),this._time=new r(.3),this._screen=[new r(.4),new r(.4)],this._angle1=new h(.6),this._angle2=new h(.6),this._axis1=a(),this._axis2=a(),this._lastScene=a()}addMomentumDirectRotation(t,a,n,r,h,_){if(this.enabled){if(this._time.hasLastValue()){if(this._time.computeDelta(n)<.01)return;let t=l(this._lastScene,a,this._tmpAxis2,r,h,_);this._angle2.update(0),e(this._tmpAxis2)<m?t=0:i(this._axis1,this._tmpAxis2),this._angle1.update(t),s(this._lastScene,a)}this._screen[0].update(t[0]),this._screen[1].update(t[1]),this._time.update(n)}}addMomentumPreserveHeading(t,a,l,r,h,_,u){if(this.enabled){if(this._time.hasLastValue()){if(this._time.computeDelta(l)<.01)return;n(this._lastScene,a,this._tmpAxis2,this._tmpAxis1,this._tmpAngles,r,h,_,u,!1),e(this._tmpAxis2)<m?(this._angle1.update(0),this._angle2.update(0)):(this._angle1.update(this._tmpAngles[1]),this._angle2.update(this._tmpAngles[0]),i(this._axis1,this._tmpAxis1),i(this._axis2,this._tmpAxis2)),s(this._lastScene,a)}this._screen[0].update(t[0]),this._screen[1].update(t[1]),this._time.update(l)}}reset(){this._screen[0].reset(),this._screen[1].reset(),this._angle1.reset(),this._angle2.reset(),this._time.reset()}evaluateMomentum(){if(!this.enabled||!this._screen[0].hasFilteredDelta())return null;const t=this._screen[0].filteredDelta,e=this._screen[1].filteredDelta,i=null==t||null==e?null:Math.sqrt(t*t+e*e),s=this._time.filteredDelta,a=null==i||null==s?0:i/s;return Math.abs(a)<this._minimumInitialVelocity?null:this.createMomentum(a,this._stopVelocity,this._friction)}createMomentum(t,e,i){const s=this._time.filteredDelta,a=this._angle1.filteredValue,l=this._angle2.filteredValue,n=null==s||null==l?0:l/s;return new u(t,e,i,null==s||null==a?0:a/s,this._axis1,n,this._axis2)}}export{u as PanSphericalMomentum,o as PanSphericalMomentumEstimator};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{cyclicalPI as i}from\"../../../../core/Cyclical.js\";import{deg2rad as e}from\"../../../../core/mathUtils.js\";import{createScreenPointArray as n,screenPointObjectToArray as s,createRenderScreenPointArray3 as o}from\"../../../../core/screenUtils.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/Error.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{copy as a,distance as m}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{c as h,F as c,l as _,f as p,n as l,g as u,h as d,k as g}from\"../../../../chunks/vec32.js\";import{create as P}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as v}from\"../../../../geometry/ellipsoidUtils.js\";import{wrapAxisAngle as C}from\"../../../../geometry/support/axisAngle.js\";import{create as M,fromPositionAndNormal as w,getNormal as S}from\"../../../../geometry/support/plane.js\";import{c as b,g as f}from\"../../../../chunks/sphere.js\";import{pixelDistanceToInteractionFactor as j,applyAll as E}from\"../../camera/constraintUtils.js\";import{ConstraintOptions as O}from\"../../camera/constraintUtils/ConstraintOptions.js\";import{ConstraintTypes as y}from\"../../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as A}from\"../../camera/constraintUtils/InteractionType.js\";import{ExponentialFalloff as R}from\"../../input/util.js\";import{InteractiveController as z}from\"./InteractiveController.js\";import{PanPlanarMomentumController as k}from\"./momentum/PanPlanarMomentumController.js\";import{PanSphericalMomentumController as x}from\"./momentum/PanSphericalMomentumController.js\";import{RotationMomentumController as H}from\"./momentum/RotationMomentumController.js\";import{ZoomPlanarMomentumController as F}from\"./momentum/ZoomPlanarMomentumController.js\";import{ZoomSphericalMomentumController as T}from\"./momentum/ZoomSphericalMomentumController.js\";import{NavigationMode as U,pickPointAndInitSphere as D,contentIntersectorOptions as I,SpherePickPointFallback as L,navigationMode as G,sphereOrPlanePointFromScreenPoint as Z,panDistanceModifier as N,minHeightLimit as B,screenPixelArea as V,intersectPlaneFromScreenPointAtEye as q,applyZoomOnSphere as J,preserveHeadingThreshold as K,applyPanSphericalPreserveHeading as Q,applyPanSphericalDirectRotation as W,normalizeRotationDelta as X,applyRotation as Y,applyPanPlanar as $,applyZoomToPoint as tt}from\"../utils/navigationUtils.js\";import it from\"../../webgl/RenderCamera.js\";import{PanPlanarMomentumEstimator as et}from\"../../../navigation/PanPlanarMomentumEstimator.js\";import{PanSphericalMomentumEstimator as nt}from\"../../../navigation/PanSphericalMomentumEstimator.js\";import{RotationMomentumEstimator as st}from\"../../../navigation/RotationMomentumEstimator.js\";import{ZoomMomentumEstimator as ot}from\"../../../navigation/ZoomMomentumEstimator.js\";let rt=class extends z{constructor(){super(...arguments),this._smoothRotation=new R(.05),this._rotationAxis=P(),this._beginAngle=0,this._beginHeading=0,this._panningPlane=M(),this._beginRadius=0,this._smoothScaling=new R(.05),this._zoomCenterScreen=n(),this._zoomMomentumEstimator=new ot,this._rotationMomentumEstimator=new st,this._panSphericalMomentumEstimator=new nt,this._panPlanarMomentumEstimator=new et,this._adjustedSphere=b(),this._tmp3d=P(),this._tmpScreenPointArray=n(),this._beginScreenPoint=n(),this._beginScenePoint=P(),this._screenPickPoint=n(),this._scenePickPoint=P(),this._navMode=U.Horizontal,this._sphere=b(),this._pointerCount=0,this._tmpInteractionDirection=P(),this._beginCamera=new it,this._constraintOptions=new O(y.ALL,A.NONE,0,this._beginCamera)}get _intersectionHelper(){return this.view.sceneIntersectionHelper}begin(t){if(!this.active)return;this._zoomMomentumEstimator.enabled=this._rotationMomentumEstimator.enabled=this._panPlanarMomentumEstimator.enabled=this._panSphericalMomentumEstimator.enabled=this.view.navigation.momentumEnabled,this._beginHeading=-i.normalize(e(this.view.camera.heading)),this._beginRadius=t.radius,this._pointerCount=t.pointers.size,this._beginAngle=t.angle,this._smoothRotation.reset(),s(t.center,this._screenPickPoint),a(this._beginScreenPoint,this._screenPickPoint);const n=v(this.view.spatialReference),o=D(this._intersectionHelper,this.startCamera,this._screenPickPoint,n,L.Silhouette,0===this.view.map.ground.opacity?I:{});null!=o.scenePickPoint&&(this._scenePickPoint=o.scenePickPoint,this._sphere=o.sphere,h(this._beginScenePoint,this._scenePickPoint),this._navMode=G(this.startCamera,this._screenPickPoint,this.view.renderCoordsHelper,this.view.viewingMode),this._navMode===U.Vertical&&this._preparePlanarPanMode(t,o.hasGeometryIntersection),this._beginCamera.copyFrom(this.startCamera))}update(t){if(!this.active)return;this.currentCamera.copyFrom(this.startCamera);const i=t.pointers.size>1;this._navMode===U.Horizontal?(i&&this._zoomSpherical(t),this._panningSpherical(t),i&&this._rotateSpherical(t)):(i&&this._zoomPlanar(t),this._panningPlanar(t),i&&this._rotatePlanar(t)),this.commitCamera()}end(t){t.pointers.size===this._pointerCount&&this.update(t),this.finishController();const i=this._zoomMomentumEstimator.evaluateMomentum();if(i)return this._navMode===U.Horizontal?new T({view:this.view,momentum:i,screenCenter:this._zoomCenterScreen,sceneCenter:this._beginScenePoint,radius:this._sphere[3]}):new F({view:this.view,momentum:i,zoomCenter:this._beginScenePoint});const e=this._rotationMomentumEstimator.evaluateMomentum();if(e)return new H({view:this.view,momentum:e,center:f(this._sphere),axis:this._rotationAxis});if(this._navMode===U.Horizontal){const t=this._panSphericalMomentumEstimator.evaluateMomentum();if(t)return new x({view:this.view,momentum:t})}else{const t=this._panPlanarMomentumEstimator.evaluateMomentum();if(t)return new k({view:this.view,momentum:t})}return null}_preparePlanarPanMode(t,i){const e=c(this._tmp3d,this.startCamera.viewForward);w(this._scenePickPoint,e,this._panningPlane);const r=n(this._screenPickPoint[0],0),a=P(),m=_(this.startCamera.eye);this._adjustedSphere[3]=m<this._sphere[3]?m-100:this._sphere[3],Z(this._adjustedSphere,this.startCamera,r,a);const v=o();this.startCamera.projectToRenderScreen(a,v);const C=P(),M=P(),b=P();p(C,this._scenePickPoint,this.currentCamera.eye);const f=_(C);l(C,C);const j=N*Math.max(Math.abs(this.view.camera.position.z),B),E=this.view._stage.renderView.getMinimalDepthForArea(null,this._screenPickPoint[0],this._screenPickPoint[1],this.view.state.camera,V);let O=null!=E?E:j;O=i?Math.min(O,f):O,h(b,u(M,this.currentCamera.eye,d(M,C,O))),this._panningPlane[3]=-g(S(this._panningPlane),b),this.startCamera.center=u(M,this.startCamera.eye,d(M,this.startCamera.viewForward,O));const y=s(t.center,this._tmpScreenPointArray);q(this._panningPlane,this.startCamera,y,this._beginScenePoint)}_zoomSpherical(t){const i=this._beginRadius/t.radius,e=.001875*Math.min(Math.max(t.radius,40),120);this._smoothScaling.gain=e,this._smoothScaling.update(i),J(this._sphere,this.currentCamera,this._smoothScaling.value),s(t.center,this._zoomCenterScreen),this._zoomMomentumEstimator.add(this._smoothScaling.value,.001*t.timestamp),this._constraintOptions.interactionType=A.ZOOM,this._constraintOptions.interactionFactor=j(t.radius-this._beginRadius),E(this.view,this.currentCamera,this._constraintOptions)}_panningSpherical(t){const i=s(t.center,this._tmpScreenPointArray);Z(this._sphere,this.currentCamera,i,this._tmp3d),K(this._beginScenePoint,g(this.currentCamera.up,this._beginScenePoint),this._sphere[3],this._beginHeading,this.view.camera.tilt,this.startCamera)?(Q(this._sphere,this.currentCamera,this._beginScenePoint,this._tmp3d,this._beginHeading,this.view.camera.tilt,!1),this._panSphericalMomentumEstimator.addMomentumPreserveHeading(i,this._tmp3d,.001*t.timestamp,this.startCamera,this._sphere,this._beginHeading,this.view.camera.tilt)):(W(this._sphere,this.currentCamera,this._beginScenePoint,this._tmp3d,this.view.camera.tilt,!1),this._panSphericalMomentumEstimator.addMomentumDirectRotation(i,this._tmp3d,.001*t.timestamp,this.startCamera,this._sphere[3],this.view.camera.tilt)),this._constraintOptions.interactionType=A.PAN,this._constraintOptions.interactionFactor=j(m(this._screenPickPoint,i)),E(this.view,this.currentCamera,this._constraintOptions)}_rotateSpherical(t){l(this._rotationAxis,this._scenePickPoint),this.currentCamera.aboveGround||c(this._rotationAxis,this._rotationAxis);const i=this._smoothRotation.value,e=i+X(t.angle-i),n=.00125*Math.min(Math.max(t.radius,40),120);this._smoothRotation.gain=n,this._smoothRotation.update(e);const s=this._smoothRotation.value-this._beginAngle;this._rotationMomentumEstimator.add(s,.001*t.timestamp),Y(this.currentCamera,f(this._sphere),C(this._rotationAxis,s)),this._constraintOptions.interactionType=A.TUMBLE,this._constraintOptions.interactionFactor=j(t.radius*e),E(this.view,this.currentCamera,this._constraintOptions)}_panningPlanar(t){const i=s(t.center,this._tmpScreenPointArray);q(this._panningPlane,this.currentCamera,i,this._tmp3d)&&($(this.currentCamera,this._beginScenePoint,this._tmp3d),this._panPlanarMomentumEstimator.add(i,this._tmp3d,.001*t.timestamp),this._constraintOptions.interactionType=A.PAN,this._constraintOptions.interactionFactor=j(m(this._beginScreenPoint,i)),this._constraintOptions.interactionDirection=this.view.renderCoordsHelper.worldUpAtPosition(this.currentCamera.eye,this._tmpInteractionDirection),E(this.view,this.currentCamera,this._constraintOptions),this._constraintOptions.interactionDirection=null)}_zoomPlanar(t){const i=this._beginRadius/t.radius,e=.001875*Math.min(Math.max(t.radius,40),120);this._smoothScaling.gain=e,this._smoothScaling.update(i),this._zoomMomentumEstimator.add(this._smoothScaling.value,.001*t.timestamp),tt(this.currentCamera,this._beginScenePoint,this._smoothScaling.value,this.view.state.constraints.minimumPoiDistance),this._constraintOptions.interactionType=A.ZOOM,this._constraintOptions.interactionFactor=j(t.radius-this._beginRadius),E(this.view,this.currentCamera,this._constraintOptions)}_rotatePlanar(t){h(this._rotationAxis,this._beginScenePoint),this.currentCamera.aboveGround||c(this._rotationAxis,this._rotationAxis);const i=this._smoothRotation.value;let e=t.angle-i;e=X(e);const n=i+e,s=.00125*Math.min(Math.max(t.radius,40),120);this._smoothRotation.gain=s,this._smoothRotation.update(n);const o=this._smoothRotation.value-this._beginAngle;this._rotationMomentumEstimator.add(o,.001*t.timestamp),Y(this.currentCamera,f(this._sphere),C(this._rotationAxis,o)),this._constraintOptions.interactionType=A.TUMBLE,this._constraintOptions.interactionFactor=j(t.radius*o),E(this.view,this.currentCamera,this._constraintOptions)}};rt=t([r(\"esri.views.3d.state.controllers.PinchAndPanControllerGlobal\")],rt);export{rt as PinchAndPanControllerGlobal};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{createScreenPointArray as i,screenPointObjectToArray as e}from\"../../../../core/screenUtils.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/Error.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{distance as s}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{F as o,c as r,k as a,f as m,l as h,n as l,h as c,g as p}from\"../../../../chunks/vec32.js\";import{create as _,fromValues as u}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{wrapAxisAngle as d}from\"../../../../geometry/support/axisAngle.js\";import{create as C,fromNormalAndOffset as g,setOffsetFromPoint as v,negate as M,getNormal as b}from\"../../../../geometry/support/plane.js\";import{pixelDistanceToInteractionFactor as w,applyAll as f}from\"../../camera/constraintUtils.js\";import{ConstraintOptions as j}from\"../../camera/constraintUtils/ConstraintOptions.js\";import{ConstraintTypes as P}from\"../../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as V}from\"../../camera/constraintUtils/InteractionType.js\";import{ExponentialFalloff as z}from\"../../input/util.js\";import{getVoxelWasm as S}from\"../../layers/VoxelWasm.js\";import{InteractiveController as E}from\"./InteractiveController.js\";import{PanPlanarMomentumController as H}from\"./momentum/PanPlanarMomentumController.js\";import{RotationMomentumController as y}from\"./momentum/RotationMomentumController.js\";import{ZoomPlanarMomentumController as O}from\"./momentum/ZoomPlanarMomentumController.js\";import{NavigationMode as x,contentIntersectorOptions as F,navigationMode as A,panDistanceModifier as R,minHeightLimit as U,screenPixelArea as L,centroid as T,applyZoomToPoint as k,applyPanPlanar as I,normalizeRotationDelta as N,applyRotation as Z,intersectPlaneFromScreenPointAtEye as D}from\"../utils/navigationUtils.js\";import G from\"../../webgl/RenderCamera.js\";import{PanPlanarMomentumEstimator as B}from\"../../../navigation/PanPlanarMomentumEstimator.js\";import{RotationMomentumEstimator as W}from\"../../../navigation/RotationMomentumEstimator.js\";import{ZoomMomentumEstimator as q}from\"../../../navigation/ZoomMomentumEstimator.js\";const J=u(0,0,1);let K=class extends E{constructor(){super(...arguments),this._rotationValueSmooth=new z(.05),this._scalingValueSmooth=new z(.05),this._planeHorizontal=C(),this._planeVertical=C(),this._rotationMomentumEstimator=new W,this._panMomentumEstimator=new B(300,12,.9),this._zoomMomentumEstimator=new q,this._beginRadius=0,this._beginCenter=_(),this._beginAngle=0,this._tmpPoints=[],this._navMode=x.Horizontal,this._beginCenterScreen=i(),this._tmpCentroid3d=_(),this._tmpCentroid2d=i(),this._tmp2d=i(),this._pointerCount=0,this._beginCamera=new G,this._constraintOptions=new j(P.ALL,V.NONE,0,this._beginCamera)}begin(t){if(!this.active)return;const i=this.view.navigation.momentumEnabled;this._zoomMomentumEstimator.enabled=i,this._rotationMomentumEstimator.enabled=i,this._panMomentumEstimator.enabled=i,this._beginRadius=t.radius,this._pointerCount=t.pointers.size,this._beginAngle=t.angle,this._rotationValueSmooth.reset(),this._scalingValueSmooth.reset(),e(t.center,this._beginCenterScreen),g(J,0,this._planeHorizontal);const n=_(),s=this._intersectionHelper.intersectScreenFreePointFallback(this._beginCenterScreen,n,0===this.view.map.ground.opacity?F:{}),u=_();o(u,this.startCamera.viewForward);const d=_();r(d,J);const C=a(u,d);this._navMode=A(this.startCamera,this._beginCenterScreen,this.view.renderCoordsHelper,this.view.viewingMode);const w=Math.min(R,1/Math.abs(a(d,this.startCamera.viewForward)))*Math.max(Math.abs(this.view.camera.position.z),U);v(this._planeHorizontal,this._planeHorizontal,n),this.startCamera.aboveGround||M(this._planeHorizontal,this._planeHorizontal);const f=_(),j=_(),P=_();m(f,n,this.currentCamera.eye);const V=h(f);if(l(f,f),this._navMode===x.Vertical){c(d,d,C),m(b(this._planeVertical),u,d),l(b(this._planeVertical),b(this._planeVertical)),v(this._planeVertical,this._planeVertical,n);const i=this.view._stage.renderView.getMinimalDepthForArea(S(this.view),this._beginCenterScreen[0],this._beginCenterScreen[1],this.view.state.camera,L);let e=null!=i?i:w;e=s?Math.min(e,V):e,r(P,p(j,this.currentCamera.eye,c(j,f,e))),this._planeVertical[3]=-a(b(this._planeVertical),P),this._computePlanePoints(t.pointers,this._planeVertical,this.startCamera,this._tmpPoints),T(this._tmpPoints,this._beginCenter)}else{const i=s?V:w;r(P,p(j,this.currentCamera.eye,c(j,f,i))),this._planeHorizontal[3]=-a(b(this._planeHorizontal),P),this._computePlanePoints(t.pointers,this._planeHorizontal,this.startCamera,this._tmpPoints),T(this._tmpPoints,this._beginCenter)}this._beginCamera.copyFrom(this.startCamera)}update(t){if(!this.active)return;this.currentCamera.copyFrom(this.startCamera);const i=t.pointers.size>1,n=this._navMode===x.Horizontal?this._planeHorizontal:this._planeVertical,o=this._beginCenter;if(i){const i=this._beginRadius/t.radius,e=.001875*Math.min(Math.max(t.radius,40),120);this._scalingValueSmooth.gain=e,this._scalingValueSmooth.update(i),k(this.currentCamera,o,this._scalingValueSmooth.value,this.view.state.constraints.minimumPoiDistance),this._zoomMomentumEstimator.add(this._scalingValueSmooth.value,.001*t.timestamp),this._constraintOptions.interactionType=V.ZOOM,this._constraintOptions.interactionFactor=w(Math.abs(t.radius-this._beginRadius)),f(this.view,this.currentCamera,this._constraintOptions)}if(this._computePlanePoints(t.pointers,n,this.currentCamera,this._tmpPoints),T(this._tmpPoints,this._tmpCentroid3d),e(t.center,this._tmpCentroid2d),I(this.currentCamera,o,this._tmpCentroid3d),this._panMomentumEstimator.add(this._tmpCentroid2d,this._tmpCentroid3d,.001*t.timestamp),this._constraintOptions.interactionType=V.PAN,this._constraintOptions.interactionFactor=w(s(this._beginCenterScreen,this._tmpCentroid2d)),f(this.view,this.currentCamera,this._constraintOptions),i){const i=o,e=this._rotationValueSmooth.value,n=e+N(t.angle-e),s=.00125*Math.min(Math.max(t.radius,40),120);this._rotationValueSmooth.gain=s,this._rotationValueSmooth.update(n);const r=this._rotationValueSmooth.value-this._beginAngle;this._rotationMomentumEstimator.add(r,.001*t.timestamp);const a=b(this._planeHorizontal);Z(this.currentCamera,i,d(a,r)),this._constraintOptions.interactionType=V.TUMBLE,this._constraintOptions.interactionFactor=w(Math.abs(t.radius*r)),f(this.view,this.currentCamera,this._constraintOptions)}this.commitCamera()}end(t){t.pointers.size===this._pointerCount&&this.update(t),this.finishController();const i=this._zoomMomentumEstimator.evaluateMomentum();if(i)return new O({view:this.view,momentum:i,zoomCenter:this._beginCenter});const e=this._rotationMomentumEstimator.evaluateMomentum();if(e)return new y({view:this.view,momentum:e,center:this._beginCenter,axis:b(this._planeHorizontal)});const n=this._panMomentumEstimator.evaluateMomentum();return n?new H({view:this.view,momentum:n}):null}_computePlanePoints(t,i,e,n){n.length=t.size;const s=this._tmp2d;let o=0;return t.forEach((t=>{s[0]=t.x,s[1]=t.y,void 0===n[o]&&(n[o]=_()),D(i,e,s,n[o]),o+=1})),n}get _intersectionHelper(){return this.view.sceneIntersectionHelper}};K=t([n(\"esri.views.3d.state.controllers.PinchAndPanControllerLocal\")],K);export{K as PinchAndPanControllerLocal};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{PinchAndPanControllerGlobal as t}from\"../../state/controllers/PinchAndPanControllerGlobal.js\";import{PinchAndPanControllerLocal as e}from\"../../state/controllers/PinchAndPanControllerLocal.js\";import{InputHandler as s}from\"../../../input/InputHandler.js\";import{eventMatchesMousePointerAction as r}from\"../../../input/handlers/support.js\";class i extends s{constructor(t,e,s){super(!0),this._view=t,this.pointerAction=e,this._lastEndTimestamp=0,this._lastTimestamp=0,this.registerIncoming(\"drag\",s,(t=>this._handleDrag(t)))}_handleDrag(t){if(\"mouse\"===t.data.pointerType&&!r(t.data,this.pointerAction))return;const e=t.timestamp-this._lastEndTimestamp,s=40,i=this._momentum&&this._momentum.active&&e<s;switch(t.data.action){case\"start\":case\"update\":if(i)break;this._controller&&this._controller.active?t.data.timestamp-this._lastTimestamp>2&&(this._controller.update(t.data),this._lastTimestamp=t.timestamp):this._startController(t);break;case\"end\":case\"removed\":this._endController(t,!0);break;case\"added\":this._endController(t,!1),this._startController(t)}t.stopPropagation()}_endController(t,e){if(this._controller&&this._controller.active){this._lastEndTimestamp=t.timestamp;const s=this._controller.end(t.data);e&&s&&(this._momentum=s,this._view.state.switchCameraController(this._momentum))}this._controller=null}_startController(t){this._controller=this._createController(),this._view.state.switchCameraController(this._controller),this._controller.begin(t.data),this._lastTimestamp=t.timestamp}_createController(){return this._view.state.isGlobal?new t({view:this._view}):new e({view:this._view})}}export{i as PinchAndPanNavigation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{InputHandler as t}from\"../../../input/InputHandler.js\";class e extends t{constructor(t,e){super(!0),this.view=t,this.registerIncoming(\"pointer-down\",e,(()=>this.view.state.stopActiveCameraController()))}}export{e as PointerDownCancelAnimation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{InputHandler as t}from\"../../../input/InputHandler.js\";class e extends t{constructor(t,e){super(!0),this.key=t,this.registerIncoming(\"key-down\",e,(t=>this._handleKeyDown(t)))}_handleKeyDown(t){t.data.key===this.key&&(this.activate(),t.stopPropagation())}}export{e as SingleKey};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{SingleKey as e}from\"./SingleKey.js\";class t extends e{constructor(e,t,i){super(t,i),this.view=e}activate(){this.view.goTo({heading:0}).catch((()=>{}))}}export{t as SingleKeyResetHeading};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{SingleKey as t}from\"./SingleKey.js\";class e extends t{constructor(t,e,i){super(e,i),this.view=t}activate(){this.view.goTo({tilt:0}).catch((()=>{}))}}export{e as SingleKeyResetTilt};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as e}from\"../../../../core/screenUtils.js\";import{RotateController as t,PivotPoint as r}from\"../../state/controllers/RotateController.js\";import{InputHandler as a}from\"../../../input/InputHandler.js\";class o extends a{constructor(e,t=!1){super(!0),this._view=e,this._invert=t,this.registerIncoming(\"vertical-two-finger-drag\",(e=>this._handleTwoFinger(e)))}_handleTwoFinger(a){const o=this._invert?-1:1,i=e(0,a.data.delta*o);switch(a.data.action){case\"begin\":this._cameraController?.end(),this._cameraController=new t({view:this._view,pivot:r.CENTER}),this._view.state.switchCameraController(this._cameraController),this._cameraController.begin(i);break;case\"update\":this._cameraController?.update(i);break;case\"end\":this._cameraController?.end(),this._cameraController=null}}}export{o as TwoFingerTilt};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{DragEventSeparator as t}from\"../DragEventSeparator.js\";import{InputHandler as e}from\"../InputHandler.js\";class a extends e{constructor(e=20,a=40){super(!1),this._threshold=e,this._maxDelta=a,this._state=\"ready\",this._emittedArtificalEnd2=!1,this._vertical=this.registerOutgoing(\"vertical-two-finger-drag\"),this._artificalDrag=this.registerOutgoing(\"drag\"),this._dragEventSeparator=new t({start:(t,e)=>this._observeStart(t,e),update:(t,e,a)=>this._observeUpdate(t,e,a),end:(t,e)=>this._observeEnd(e)}),this.registerIncoming(\"drag\",(t=>this._dragEventSeparator.handle(t)))}get failed(){return\"failed\"===this._state}_observeStart(t,e){1===t&&this._emittedArtificalEnd2&&(this._emittedArtificalEnd2=!1,this._artificalDrag.emit({action:\"start\",button:e.data.button,buttons:e.data.buttons,pointerType:e.data.pointerType,timestamp:e.data.timestamp,pointers:e.data.pointers,pointer:e.data.pointer,angle:e.data.angle,radius:e.data.radius,center:e.data.center}),e.stopPropagation()),this._state=2===t?\"ready\":\"failed\"}_observeUpdate(t,e,a){if(\"failed\"!==this._state&&2===t)return\"active\"===this._state?(this._vertical.emit({delta:e.data.center.y-this._thresholdReachedCenter.y,action:\"update\"}),void e.stopPropagation()):void(this._checkMovementWithinLimits(e.data,a.data)?this._checkVerticalThresholdReached(e.data,a.data)&&(this._state=\"active\",this._emittedArtificalEnd2=!0,this._thresholdReachedCenter=e.data.center,this._artificalDrag.emit({action:\"end\",button:e.data.button,buttons:e.data.buttons,pointerType:e.data.pointerType,timestamp:e.data.timestamp,pointers:e.data.pointers,pointer:e.data.pointer,angle:e.data.angle,radius:e.data.radius,center:e.data.center}),this._vertical.emit({delta:e.data.center.y-this._thresholdReachedCenter.y,action:\"begin\"}),e.stopPropagation()):this._state=\"failed\")}_observeEnd(t){\"active\"===this._state&&(this._vertical.emit({delta:t.data.center.y-this._thresholdReachedCenter.y,action:\"end\"}),this._state=\"ready\",t.stopPropagation())}_checkMovementWithinLimits(t,e){let a=-1/0,i=1/0,r=-1/0,s=1/0;for(const{x:m,y:g}of e.pointers.values())a=Math.max(a,m),i=Math.min(i,m),r=Math.max(r,g),s=Math.min(s,g);let n=-1/0,h=1/0,d=-1/0,o=1/0;for(const{x:m,y:g}of t.pointers.values())n=Math.max(n,m),h=Math.min(h,m),d=Math.max(d,g),o=Math.min(o,g);const c=a-i,l=r-s,p=n-h,_=d-o;return Math.abs(t.center.x-e.center.x)<this._threshold&&Math.abs(p-c)<=this._maxDelta&&Math.abs(_-l)<=this._maxDelta}_checkVerticalThresholdReached(t,e){let a=Math.abs(t.center.y-e.center.y);return t.pointers.forEach(((t,i)=>{const r=e.pointers.get(i);a=Math.min(a,Math.abs(t.y-r.y))})),a>=this._threshold}}export{a as VerticalTwoFingerDrag};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{destroyMaybe as o}from\"../../../core/maybe.js\";import{watch as r,initial as n}from\"../../../core/reactiveUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{DoubleClickZoom as s}from\"./handlers/DoubleClickZoom.js\";import{DragRotate as p}from\"./handlers/DragRotate.js\";import{DragZoom as m}from\"./handlers/DragZoom.js\";import{GamepadNavigation as d}from\"./handlers/GamepadNavigation.js\";import{KeyboardNavigation as g}from\"./handlers/KeyboardNavigation.js\";import{MouseWheelZoom as c}from\"./handlers/MouseWheelZoom.js\";import{PinchAndPanNavigation as l}from\"./handlers/PinchAndPanNavigation.js\";import{PointerDownCancelAnimation as u}from\"./handlers/PointerDownCancelAnimation.js\";import{SingleKeyResetHeading as h}from\"./handlers/SingleKeyResetHeading.js\";import{SingleKeyResetTilt as w}from\"./handlers/SingleKeyResetTilt.js\";import{TwoFingerTilt as y}from\"./handlers/TwoFingerTilt.js\";import{BrowserEventSource as _}from\"../../input/BrowserEventSource.js\";import{InputManager as D,ViewEventPriorities as f}from\"../../input/InputManager.js\";import{PreventContextMenu as j}from\"../../input/handlers/PreventContextMenu.js\";import{Drag as v}from\"../../input/recognizers/Drag.js\";import{ImmediateDoubleClick as A}from\"../../input/recognizers/ImmediateDoubleClick.js\";import{PointerClickHoldAndDrag as M}from\"../../input/recognizers/PointerClickHoldAndDrag.js\";import{SingleAndDoubleClick as P}from\"../../input/recognizers/SingleAndDoubleClick.js\";import{VerticalTwoFingerDrag as T}from\"../../input/recognizers/VerticalTwoFingerDrag.js\";import{PivotPoint as R}from\"../state/controllers/RotateController.js\";let b=class extends e{destroy(){this.disconnect()}get primaryDragAction(){return this._get(\"primaryDragAction\")}set primaryDragAction(t){\"pan\"!==t&&\"rotate\"!==t||t===this._get(\"primaryDragAction\")||(this._set(\"primaryDragAction\",t),this._updateMode())}get mode(){return this._get(\"mode\")}set mode(t){\"default\"!==t&&\"pro\"!==t||t===this._get(\"mode\")||(this._set(\"mode\",t),this._updateMode())}get updating(){return!!this._inputManager?.updating}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}disconnect(){this.view.viewEvents.disconnect(),this._inputManager=o(this._inputManager)}connect(){const t=this.view;this._source=new _(this.view.surface,t.input);const e=[new A,new M,new P,new v(this.view.navigation),new T],o=new D({eventSource:this._source,recognizers:e});this._inputManager=o,o.installHandlers(\"prevent-context-menu\",[new j],f.INTERNAL),this._modeDragPan=new l(t,\"primary\"),this._modeDragRotate=new p(t,\"secondary\",R.CENTER),this._modeDragZoom=new m(t,\"tertiary\");const i={lookAround:\"b\",pan:{left:\"ArrowLeft\",right:\"ArrowRight\",forward:\"ArrowUp\",backward:\"ArrowDown\",up:\"u\",down:\"j\",headingLeft:\"a\",headingRight:\"d\",tiltUp:\"w\",tiltDown:\"s\",zoomIn:\"+\",zoomOut:\"-\"},resetHeading:\"n\",resetTilt:\"p\"};o.installHandlers(\"navigation\",[new u(t),new s(t),new d(t),new g(t,i.pan),new c(t),new w(t,i.resetTilt),new h(t,i.resetHeading),new p(t,\"primary\",R.EYE,[i.lookAround]),new p(t,\"secondary\",R.CENTER,[i.lookAround]),new l(t,\"tertiary\",[i.lookAround]),this._modeDragRotate,this._modeDragZoom,this._modeDragPan,new y(t)],f.INTERNAL),this.view.viewEvents.connect(o),this._updateMode(),this.addHandles(r((()=>this.view.navigation?.browserTouchPanEnabled),(t=>{this._source.browserTouchPanningEnabled=!t}),n))}isModifierKeyDown(t){return this._inputManager?.isModifierKeyDown(t)??!1}_updateMode(){const t=this.mode,e=this.primaryDragAction,o=z.get(t)?.get(e);o&&(this._modeDragPan&&(this._modeDragPan.pointerAction=o.pan),this._modeDragRotate&&(this._modeDragRotate.pointerAction=o.rotate),this._modeDragZoom&&(this._modeDragZoom.pointerAction=o.zoom))}get test(){return{inputManager:this._inputManager,modeDragPan:this._modeDragPan,modeDragRotate:this._modeDragRotate,modeDragZoom:this._modeDragZoom}}};t([i()],b.prototype,\"view\",void 0),t([i({value:\"pan\"})],b.prototype,\"primaryDragAction\",null),t([i({value:\"default\"})],b.prototype,\"mode\",null),t([i({readOnly:!0})],b.prototype,\"updating\",null),t([i()],b.prototype,\"latestPointerType\",null),t([i()],b.prototype,\"latestPointerLocation\",null),t([i()],b.prototype,\"multiTouchActive\",null),t([i()],b.prototype,\"_inputManager\",void 0),b=t([a(\"esri.views.3d.input.SceneInputManager\")],b);const z=new Map,E=new Map,k=new Map;E.set(\"pan\",{pan:\"primary\",rotate:\"secondary\",zoom:\"tertiary\"}),E.set(\"rotate\",{pan:\"secondary\",rotate:\"primary\",zoom:\"tertiary\"}),k.set(\"pan\",{pan:\"primary\",rotate:\"tertiary\",zoom:\"secondary\"}),k.set(\"rotate\",{pan:\"tertiary\",rotate:\"primary\",zoom:\"secondary\"}),z.set(\"default\",E),z.set(\"pro\",k);const C=b;export{C as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{debugFlags as t}from\"../../support/debugFlags.js\";let e,n,i=!1,l=!1,o=!1,s=!1,a=null;function c(t,e){if(!l||!n)return;u();const i=n;let o=0;for(let n=0;n<t.accBinsNumX;n++)for(let e=0;e<t.accBinsNumY;e++){const l=t.accBins[n][t.accBinsNumY-1-e];o+=l.length;const s=n*t.accBinsSizeX,a=(n+1)*t.accBinsSizeX,c=e*t.accBinsSizeY,r=(e+1)*t.accBinsSizeY;i.fillText(l.length.toFixed(),s+5,c+15),h(s,a,c,r,\"blue\")}i.fillText(\"total totalShownLabels: \"+o,70,40),i.fillText(\"total visible labels: \"+e.size,70,50),i.fillText(\"total numTests: \"+t.accNumTests,70,30)}function r(n){o=t.DECONFLICTOR_SHOW_VISIBLE,s=t.DECONFLICTOR_SHOW_INVISIBLE,i=o||s,l=t.DECONFLICTOR_SHOW_GRID,a=null,i||l?a=()=>p(n):e&&(e.parentElement.removeChild(e),e=null)}function u(){a&&(a(),a=null)}function p(t){null==e&&(e=document.createElement(\"canvas\"),e.setAttribute(\"id\",\"debugCanvas2d\"),t.surface.parentElement.style.position=\"relative\",t.surface.parentElement.appendChild(e));const{state:i}=t,{camera:l,pixelRatio:o}=i,{width:s,height:a}=l,c=s*o,r=a*o;e.setAttribute(\"width\",`${c}px`),e.setAttribute(\"height\",`${r}px`),e.setAttribute(\"style\",`position:absolute;left:0px;top:0px;display:block;pointer-events:none;width:${s}px;height:${a}px`),n=e.getContext(\"2d\"),n.clearRect(0,0,s,a),n.font=\"12px Arial\"}function h(t,i,l,o,s){u();const a=e.height,c=n;c.beginPath(),c.lineWidth=1,c.strokeStyle=s,c.moveTo(t,a-l),c.lineTo(i,a-l),c.stroke(),c.lineTo(i,a-o),c.stroke(),c.lineTo(i,a-l),c.stroke(),c.lineTo(t,a-l),c.stroke(),c.lineTo(t,a-l),c.stroke(),c.closePath()}function f(t,e){i&&(e&&o||!e&&s)&&h(t.aabr[0],t.aabr[2],t.aabr[1],t.aabr[3],e?\"green\":\"red\")}export{c as drawAccelerationStruct,f as drawPoly,r as prepare};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{lerp as s}from\"../../../../core/mathUtils.js\";import e from\"../../../../core/PooledArray.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{invertOrIdentity as o}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{e as l,h,s as p,c as u}from\"../../../../chunks/vec32.js\";import{ZEROS as d,create as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as _,t as m,b}from\"../../../../chunks/vec42.js\";import{create as v}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{getReferenceEllipsoid as g}from\"../../../../geometry/ellipsoidUtils.js\";import{create as y,empty as G,offset as S,width as D,height as B,expand as N,intersects as w}from\"../../../../geometry/support/aaBoundingRect.js\";import{a as j,c as I,e as C}from\"../../../../chunks/boundedPlane.js\";import{create as P}from\"../../../../geometry/support/ray.js\";import{g as A,d as V,i as x,c as O}from\"../../../../chunks/sphere.js\";import{drawAccelerationStruct as E,prepare as M,drawPoly as T}from\"./deconflictorDebug.js\";import{VisibilityGroup as z,VisibilityFlag as F}from\"./enums.js\";import L from\"../../webgl/RenderCamera.js\";import{applyPrecomputedScaleFactor as X}from\"../../webgl-engine/lib/screenSizePerspectiveUtils.js\";import{VertexAttribute as R}from\"../../webgl-engine/lib/VertexAttribute.js\";import{HUDMaterial as Y}from\"../../webgl-engine/materials/HUDMaterial.js\";import{ScaleInfo as W}from\"../../webgl-engine/materials/ScaleInfo.js\";const U=f(),k=v(),H=v(),q=f(),J=c(),K=O(),Q=P(),Z=f(),$=y();class ii{constructor(){this.aabr=y(),this.distance=0,this.culled=!1,this.visible=!1}}class ti{constructor(i,t){this.graphics3DGraphic=i,this.slicePlaneEnabled=t,this.info={}}}var si;!function(i){i[i.Idle=0]=\"Idle\",i[i.Process=1]=\"Process\",i[i.Sort=2]=\"Sort\",i[i.Deconflict=3]=\"Deconflict\",i[i.NumStates=4]=\"NumStates\"}(si||(si={}));class ei{constructor(){this.camera=new L,this.slicePlane=j(),this.slicePlaneEnabled=!1}copyFrom(i){this.camera.copyFrom(i.camera),I(i.slicePlane,this.slicePlane),this.slicePlaneEnabled=i.slicePlaneEnabled}}let ri=class extends t{get dirty(){return this._dirty}get state(){return this._state}constructor(i){super(i),this._dirty=!1,this._viewState=new ei,this._state=si.Idle,this._active=new Map,this._visible=new Map,this._iterators=new li,this._accBinsNumX=15,this._accBinsNumY=20,this._accBinsSizeX=0,this._accBinsSizeY=0,this._accBins=null,this.accNumTests=0}destroy(){this._active.clear(),this._visible.clear(),this._iterators=null}setDirty(){!this._dirty&&this._active.size>0&&(this._dirty=!0,this.notifyChange(\"updating\"))}get updating(){return this._state!==si.Idle||this._dirty}get updatingProgress(){if(!this.updating)return 1;const i=this._state/si.NumStates;return this._dirty?.5*i:i}get running(){return this.view.ready&&null!=this.view.state&&this.updating}runTask(i){switch(this._state){case si.Idle:this._startUpdate(),i.madeProgress();case si.Process:if(this._state=si.Process,!this._processActiveGraphics(i))return;case si.Sort:if(this._state=si.Sort,!this._sortVisibleGraphics(i))return;case si.Deconflict:if(this._state=si.Deconflict,!this._deconflictVisibleGraphics(i))return;default:E(this,this._visible),this._state=si.Idle,this.notifyChange(\"updating\")}}modifyGraphics(i,t){t?i.forEach((i=>this.addToActiveGraphics(i))):i.forEach((i=>this.removeFromActiveGraphics(i))),this.setDirty()}layerSupportsDeconfliction(i){if(null==i||\"object3d\"!==i.type)return!1;const t=i.stageObject;if(1!==(t?.geometries.length??0))return!1;const s=t?.geometries[0],e=s?.material;return e instanceof Y}_startUpdate(){M(this.view),this._dirty=!1,this._viewState.copyFrom(this.viewState);const{fullWidth:i,fullHeight:t}=this._viewState.camera;this._initBins(i,t),this._resetIterators()}addToActiveGraphics(i){i.info[this.visibilityGroup]=new ii,this._active.set(i.graphics3DGraphic.graphic.uid,i),this.setDirty()}removeFromActiveGraphics(i){this._visible.delete(i.graphics3DGraphic.graphic.uid),ai(i,this.visibilityGroup),delete i.info[this.visibilityGroup],this._active.delete(i.graphics3DGraphic.graphic.uid),this.setDirty()}_processActiveGraphics(i){const t=this._ensureActiveGraphicsIterator(),s=o(J,this._viewState.camera.projectionMatrix),e=\"global\"===this.view.viewingMode&&1===this.view.map.ground.opacity&&this._viewState.camera.relativeElevation>0?K:null;let r=0;for(null!=e&&(l(A(e),d,this._viewState.camera.viewMatrix),e[3]=g(this.view.spatialReference).radius,r=V(e,d));!i.done;){i.madeProgress();const a=t.next();if(!0===a.done)return this._resetActiveGraphicsIterator(),!0;const o=a.value,c=o?.info[this.visibilityGroup];c&&(this._collectGraphics3DGraphics(o,s,e,r),c.culled?this._visible.delete(o.graphics3DGraphic.graphic.uid):this._visible.set(o.graphics3DGraphic.graphic.uid,o))}return!1}_sortVisibleGraphics(i){const t=this._ensureSortGraphicsIterator();for(;!i.done;){const s=t.next();if(i.madeProgress(),!0===s.done)return this._resetSortGraphicsIterator(),!0}return!1}_deconflictVisibleGraphics(i){const t=this._ensureVisibleGraphicsIterator(),s=this.visibilityGroup===z.LABEL;for(;!i.done;){i.madeProgress();const e=t.next();if(!0===e.done)return this._resetVisibleGraphicsIterator(),!0;const r=e.value,a=r.info[this.visibilityGroup];if(!a||a.culled){this._setGraphicVisibility(r,!1);continue}const o=r.graphics3DGraphic,c=!s||o.isVisible();a.visible=c&&!this._isConflicted(r),a.visible&&this._addToBins(r),this._setGraphicVisibility(r,a.visible),T(a,a.visible)}return!1}_resetIterators(){this._iterators.active=null,this._iterators.visible=null,this._iterators.sort=null}_ensureActiveGraphicsIterator(){return this._iterators.active||(this._iterators.active=oi(this._active)),this._iterators.active}_resetActiveGraphicsIterator(){this._iterators.active=null}_ensureVisibleGraphicsIterator(){return this._iterators.visible||(this._iterators.visible=oi(this._visible)),this._iterators.visible}_resetVisibleGraphicsIterator(){this._iterators.visible=null}_ensureSortGraphicsIterator(){return this._iterators.sort||(this._iterators.sort=ci(this._visible,this._iterators.sortArray,this.visibilityGroup)),this._iterators.sort}_resetSortGraphicsIterator(){this._iterators.sort=null}_collectGraphics3DGraphics(i,t,s,e){const r=i.graphics3DGraphic;if(r.destroyed)return;const a=i.info[this.visibilityGroup];if(!r.isVisible(z.GRAPHIC,F.DECONFLICTION))return void(a.culled=!0);const o=this.getGraphicsLayers(r);G(a.aabr);let c=null;for(const n of o){if(!this.layerSupportsDeconfliction(n))continue;const r=n.stageObject.geometries[0].material;if(null==c&&(c=di,this._getProjectionInfo(n,t,c),c.isOutsideScreen||this._isCulledBySlice(i,U)||null!=s&&ui(c,s,e)))return void(a.culled=!0);this._expandBoundingRect(a,n,r,c)}null==c?a.culled=!0:(a.distance=c.distance,a.culled=!1)}_getProjectionInfo(i,t,s){const e=this._viewState.camera,r=i.stageObject,a=r.geometries[0],o=a.material,c=A(r.boundingVolumeWorldSpace.bounds);l(U,c,e.viewMatrix);const n=a.attributes,u=n.get(R.NORMAL).data,d=n.get(R.CENTEROFFSETANDDISTANCE).data;o.applyShaderOffsetsView(U,u,r.transformation,d,e,s.scaleInfo,U),_(k,U[0],U[1],U[2],1),m(H,k,e.projectionMatrix),h(s.positionNDC,H,1/H[3]),o.applyShaderOffsetsNDC(s.positionNDC,d,e,s.positionNDC,q),s.distanceWithoutPolygonOffset=e.depthNDCToWorld(q[2]),s.distance=q[2]===s.positionNDC[2]?s.distanceWithoutPolygonOffset:e.depthNDCToWorld(s.positionNDC[2]),_(H,s.positionNDC[0],s.positionNDC[1],s.positionNDC[2],1),m(k,H,t),b(k,k,1/k[3]),p(s.positionView,U[0],U[1],U[2])}_isCulledBySlice(i,t){return i.slicePlaneEnabled&&this._viewState.slicePlaneEnabled&&C(this._viewState.slicePlane,t)}_expandBoundingRect(i,t,e,{positionNDC:r,scaleInfo:a}){const o=this._viewState.camera,c=t.getScreenSize(hi);X(c,a.factor,c),c[0]*=o.pixelRatio,c[1]*=o.pixelRatio;const n=S(e.calculateRelativeScreenBounds(c,a.factorAlignment.scale,$),s(0,o.fullWidth,.5+.5*r[0]),s(0,o.fullHeight,.5+.5*r[1])),l=this.marginFactor;if(0!==l){const i=l*Math.min(D(n),B(n));n[0]-=i,n[1]-=i,n[2]+=i,n[3]+=i}N(i.aabr,n,i.aabr)}_isConflicted(i){const t=i.graphics3DGraphic.graphic.uid,s=i.info[this.visibilityGroup];let e=!0;for(let r=Math.floor(s.aabr[0]/this._accBinsSizeX);r<=Math.floor(s.aabr[2]/this._accBinsSizeX);r++)if(!(r<0||r>=this._accBinsNumX))for(let i=Math.floor(s.aabr[1]/this._accBinsSizeY);i<=Math.floor(s.aabr[3]/this._accBinsSizeY);i++){if(i<0||i>=this._accBinsNumY)continue;e=!1;const a=this._accBins[r][i];for(let i=0;i<a.length;i++){const e=a.data[i],r=e.info[this.visibilityGroup];if(r&&r.visible&&e.graphics3DGraphic.graphic.uid!==t&&(this.accNumTests++,w(r.aabr,s.aabr)))return!0}}return e}_initBins(i,t){if(null==this._accBins){this._accBins=[];for(let i=0;i<this._accBinsNumX;i++){this._accBins.push([]);const i=this._accBins[this._accBins.length-1];for(let t=0;t<this._accBinsNumY;t++)i.push(new e)}}else for(let s=0;s<this._accBinsNumX;s++)for(let i=0;i<this._accBinsNumY;i++)this._accBins[s][i].clear();this._accBinsSizeX=i/this._accBinsNumX,this._accBinsSizeY=t/this._accBinsNumY,this.accNumTests=0}_addToBins(i){const t=i.info[this.visibilityGroup],s=Math.floor(t.aabr[0]/this._accBinsSizeX),e=Math.floor(t.aabr[2]/this._accBinsSizeX),r=Math.floor(t.aabr[1]/this._accBinsSizeY),a=Math.floor(t.aabr[3]/this._accBinsSizeY);for(let o=s;o<=e;o++)if(!(o<0||o>=this._accBinsNumX))for(let t=r;t<=a;t++)t<0||t>=this._accBinsNumY||this._accBins[o][t].push(i)}_setGraphicVisibility(i,t){const s=i.graphics3DGraphic;s.destroyed||(s.setVisibilityFlag(this.visibilityGroup,F.DECONFLICTION,t),this.visibilityGroup===z.LABEL&&this.view.labeler.setLabelGraphicVisibility(s,t))}};function ai(i,t){const s=i.graphics3DGraphic;s.destroyed||s.setVisibilityFlag(t,F.DECONFLICTION,!0)}function*oi(i){if(Map.prototype.entries){const t=i.entries();for(let i=t.next();!i.done;i=t.next())yield i.value[1]}else yield*i.values()}function*ci(i,t,s){t.clear(),i.forEach(((i,e)=>{const r=t.pushNew();r.id=e,r.visible=i.graphics3DGraphic.getVisibilityFlag(s,F.DECONFLICTION);const a=i.info?.[s];r.prio=i.graphics3DGraphic.deconflictionPriority,r.distance=a?a.distance:Number.MAX_VALUE})),yield;const e=t.iterableSort(((i,t)=>i.prio!==t.prio?t.prio-i.prio:i.distance!==t.distance?i.distance-t.distance:i.visible!==t.visible?i.visible?-1:1:i.id-t.id));for(let r=e.next();!r.done;r=e.next())yield;t.forAll((t=>{const s=i.get(t.id);s&&(i.delete(t.id),i.set(t.id,s))})),t.clear()}i([r({constructOnly:!0})],ri.prototype,\"view\",void 0),i([r({type:Boolean,readOnly:!0})],ri.prototype,\"updating\",null),ri=i([a(\"esri.views.3d.layers.graphics.Deconflictor\")],ri);class ni{constructor(){this.id=0,this.visible=!1,this.prio=0,this.distance=0}}class li{constructor(i=null,t=null,s=null){this.active=i,this.visible=t,this.sort=s,this.sortArray=new e({allocator:i=>i||new ni})}}const hi=n();class pi{constructor(){this.positionView=f(),this.positionNDC=f(),this.distance=0,this.distanceWithoutPolygonOffset=0,this.scaleInfo=new W}get isOutsideScreen(){const i=this.positionNDC;return i[0]<-1||i[1]<-1||i[2]<-1||i[0]>=1||i[1]>=1}}function ui(i,t,s){return u(Q.direction,i.positionView),p(Q.origin,0,0,0),!!x(t,Q,Z)&&i.distanceWithoutPolygonOffset>s}const di=new pi;export{ri as Deconflictor,ti as DeconflictorGraphic,ei as DeconflictorViewState,si as State};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{Deconflictor as e,State as o}from\"./Deconflictor.js\";import{VisibilityGroup as i}from\"./enums.js\";import{RenderState as a}from\"../../../support/RenderState.js\";import{Yield as n}from\"../../../support/Yield.js\";const c=2e3;let p=class extends e{constructor(r){super(r),this.visibilityGroup=i.LABEL,this.marginFactor=.05,this._lastDeconfliction=0}get viewState(){return this.parent.viewState}runTask(r){if(this.parent.running)return n;const t=performance.now();if(r.state!==a.IDLE&&t-this._lastDeconfliction<c)return n;super.runTask(r),this.state===o.Idle&&(this._lastDeconfliction=t)}enabledChanged(r,t){this.modifyGraphics(t,r.labelsEnabled)}getGraphicsLayers(r){return r.labelLayers}};r([t({constructOnly:!0})],p.prototype,\"parent\",void 0),p=r([s(\"esri.views.3d.layers.graphics.LabelDeconflictor\")],p);export{p as LabelDeconflictor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{someMap as t}from\"../../../../core/MapUtils.js\";import{destroyMaybe as i,removeMaybe as s}from\"../../../../core/maybe.js\";import{watch as r,initial as a}from\"../../../../core/reactiveUtils.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/Error.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{t as n}from\"../../../../chunks/boundedPlane.js\";import{Deconflictor as c,DeconflictorGraphic as h}from\"./Deconflictor.js\";import{VisibilityGroup as l,VisibilityFlag as p}from\"./enums.js\";import{LabelDeconflictor as d}from\"./LabelDeconflictor.js\";import{TaskPriority as m}from\"../../../support/Scheduler.js\";let u=class extends c{constructor(){super(...arguments),this._contexts=new Map,this.visibilityGroup=l.GRAPHIC,this._marginFactor=-.1,this.test={overrideMarginFactor:e=>{this._marginFactor=e,this.setDirty()}}}get labels(){return this._labels}get viewState(){return this._viewState}initialize(){this.addHandles([r((()=>this.view?.state?.camera),(()=>{this._updateViewState(),this.setDirty()})),r((()=>this.view?.map?.ground?.opacity),((e,t)=>{1!==e&&1!==t||this.setDirty()})),r((()=>this.view?.slicePlane),(()=>{this._updateSlicePlane(),this._slicePlaneChanged()}),a)]),this._frameTask=this.view.resourceController.scheduler.registerTask(m.GRAPHICS_DECONFLICTOR,this),this._labels=new d({view:this.view,parent:this})}destroy(){this._labels=i(this._labels),this._frameTask=s(this._frameTask)}get marginFactor(){return this._marginFactor}setDirty(){this._contexts.size>0&&(super.setDirty(),this._labels.setDirty())}runTask(e){super.runTask(e),this.running||this._labels.setDirty()}_updateViewState(){this.view?.state&&(this._viewState.camera.copyFrom(this.view.state.camera),this._updateSlicePlane())}_updateSlicePlane(){const e=this.view?this.view.slicePlane:null;null!=e&&n(e,this._viewState.camera.viewMatrix,this._viewState.slicePlane),this._viewState.slicePlaneEnabled=null!=e}_slicePlaneChanged(){t(this._contexts,((e,t)=>t.symbolCreationContext.slicePlaneEnabled))&&this.setDirty()}addGraphicsOwner(e){const t=this._getGraphicsContext(e);return{addGraphic:i=>this._addGraphic(e,t,i),removeGraphic:e=>this._removeGraphic(t,e),labelingInfoChange:()=>this._labels.enabledChanged(e,t),featureReductionChange:()=>this.enabledChanged(e,t),slicePlaneEnabledChange:()=>this._slicePlaneEnabledChanged(e,t),clear:()=>t.forEach((e=>this._removeGraphic(t,e.graphics3DGraphic))),remove:()=>this._removeGraphicsOwner(e),setDirty:()=>this.setDirty()}}_removeGraphicsOwner(e){const t=this._contexts.get(e);t&&(t.forEach((e=>this._removeGraphic(t,e.graphics3DGraphic))),this._contexts.delete(e),this.setDirty())}_addGraphic(e,t,i){const s=i.graphic.uid,r=new h(i,e.symbolCreationContext.slicePlaneEnabled);t.set(s,r),_(e)&&this.addToActiveGraphics(r),e.labelsEnabled&&this._labels.addToActiveGraphics(r);const a=!this._graphicSupportsDeconfliction(i)||!_(e);i.setVisibilityFlag(l.GRAPHIC,p.DECONFLICTION,a)}_removeGraphic(e,t){const i=t.graphic.uid,s=e.get(i);s&&(this.removeFromActiveGraphics(s),this._labels.removeFromActiveGraphics(s),e.delete(i),this.setDirty())}enabledChanged(e,t){const i=_(e);i||g(e),this.modifyGraphics(t,i)}_slicePlaneEnabledChanged(e,t){const i=e.symbolCreationContext.slicePlaneEnabled;t.forEach((e=>e.slicePlaneEnabled=i)),this.setDirty()}getGraphicsLayers(e){return e.layers}_graphicSupportsDeconfliction(e){if(e.isDraped)return!1;const t=e.layers;if(!t?.length)return!1;for(const i of t)if(this.layerSupportsDeconfliction(i))return!0;return!1}_getGraphicsContext(e){const t=this._contexts.get(e);if(t)return t;const i=new Map;return this._contexts.set(e,i),this.setDirty(),i}};function _(e){const t=e.layer;return!(!t?.featureReduction||\"selection\"!==t.featureReduction.type)}function g(e){const t=e.graphics3DGraphics;t&&t.forEach((e=>e.setVisibilityFlag(l.GRAPHIC,p.DECONFLICTION,!0)))}u=e([o(\"esri.views.3d.layers.graphics.GraphicsDeconflictor\")],u);export{u as GraphicsDeconflictor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{c as r}from\"../../chunks/vec32.js\";import{getProjector as t,projectorCache as o,copy3 as n}from\"./projectors.js\";function e(e,c,f,s,u,i,l=1){const m=t(c,u,o);if(null==m)return!1;if(m===n){if(e===s&&f===i)return!0;const t=f+l;for(let o=f,n=i;o<t;++o,++n)r(s[n],e[o]);return!0}const p=f+l;for(let r=f,t=i;r<p;++r,++t)m(e[r],0,s[t],0);return!0}export{e as projectVec3Array};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{acosClamped as e}from\"../../../../core/mathUtils.js\";import t from\"../../../../core/ObjectPool.js\";import{n as s,z as i,k as r,r as n,s as o,o as u,b as c,g as l,h as a,H as d,F as _,f as h}from\"../../../../chunks/vec32.js\";import{create as f,fromValues as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as p}from\"../../../../geometry/ellipsoidUtils.js\";import{getSphericalPCPF as T}from\"../../../../geometry/spatialReferenceEllipsoidUtils.js\";import{projectBuffer as E}from\"../../../../geometry/projection/projectBuffer.js\";import{projectVec3Array as R}from\"../../../../geometry/projection/projectVec3Array.js\";import{PlaneIndex as g,PointIndex as F}from\"../../../../geometry/support/frustum.js\";import{create as I,projectVector as S,fromPoints as A,getNormal as O,signedDistance as b}from\"../../../../geometry/support/plane.js\";import{wrap as B}from\"../../../../geometry/support/ray.js\";import{ViewingMode as P}from\"../../../ViewingMode.js\";import{FeatureTileDescriptor3D as j,Visibility as M}from\"./FeatureTileDescriptor3D.js\";import{Frustum as x}from\"../../state/Frustum.js\";import{FrustumExtentIntersection as H}from\"../../support/FrustumExtentIntersection.js\";class N{constructor(e){this._renderCoordsHelper=e,this._surfaceElevation=0,this._cache=new Map,this._frustumBoundingSphereCenter=f(),this._frustumBoundingSphereRadius=0,this._frustum=new x(e),this._extendedFrustum=new x(e),this._intersector=new H({renderCoordsHelper:e}),this._renderSR=e.spatialReference;const t=T(this._renderSR);this._renderSREllipsoidRadius=p(t).radius,this._renderCoordsHelper=e}begin(e,t){this._surfaceElevation=t,this._aboveGround=this._renderCoordsHelper.getAltitude(e.eye)>t,this._frustum.update(e),k(this._frustum),this._updateExtendedFrustum(e),this._updateFrustumBoundingSphere()}end(){this._cache.clear()}calculate(e){const t=this._renderCoordsHelper.viewingMode===P.Global&&e.lij[0]>=V&&e.lij[0]<G,s=this._getOrCalculateSingleTileVisibility(e,!t);return s!==M.INVISIBLE&&t?this._calculateAggregatedChildrenVisibility(e):s}_calculateAggregatedChildrenVisibility(e){let t=M.INVISIBLE;const s=this._cache.get(e.id);if(null!=s)return s;const i=W.acquire();e.getChildren(i);for(const r of i){const e=this.calculate(r);if(e!==M.INVISIBLE&&(t=e,e===M.VISIBLE_ON_SURFACE))break}return W.release(i),this._cache.set(e.id,t),t}_getOrCalculateSingleTileVisibility(e,t){const s=this._cache.get(e.id);if(null!=s)return s;const i=this._calculateSingleTileVisibility(e);return t&&this._cache.set(e.id,i),i}_calculateSingleTileVisibility(e){if(!this._aboveGround&&this._renderCoordsHelper.viewingMode===P.Global&&e.lij[0]<L){return this._calculateSingleTileVisibilitySided(e,!1)===M.INVISIBLE?this._calculateSingleTileVisibilitySided(e,!0):void 0}return this._calculateSingleTileVisibilitySided(e,this._aboveGround)}_isTileVisibleInFrustum(e){return this._renderCoordsHelper.viewingMode===P.Local?this._isTileVisibleInFrustumLocal(e):this._isTileVisibleInFrustumGlobal(e)}_updateFrustumBoundingSphere(){const e=this._frustum,t=e.origin,o=le;s(o,e.direction);const u=e.points,c=ae;i(c,u[4],t);const l=.5*r(c,c)/r(o,c),a=this._frustumBoundingSphereCenter;n(a,t,o,l);const d=1+l;this._frustumBoundingSphereRadius=d}_isTileVisibleInFrustumLocal(e){const t=e.tilingScheme.spatialReference,s=e.extent,c=this._renderSR,l=$;if(l[0]=s[0],l[1]=s[1],l[2]=0,l[3]=s[2],l[4]=s[3],l[5]=0,!E(l,t,0,l,c,0,2))return!1;const a=ee;o(a[0],l[0],l[1],0),o(a[1],l[3],l[1],0),o(a[2],l[3],l[4],0),o(a[3],l[0],l[4],0);const d=te;o(d,.5*(l[0]+l[3]),.5*(l[1]+l[4]),.5*(l[2]+l[5]));const _=se;o(_,0,0,1);const h=.5*u(a[0],a[2]),f=this._frustum,m=this._frustumBoundingSphereRadius,p=this._frustumBoundingSphereCenter,T=_e;i(T,p,d);const R=r(_,T),g=de;n(g,d,_,R);if(u(g,p)>h+m)return!1;const F=Z,I=R+m,S=R-m;for(let i=0;i<4;++i)n(F[i],a[i],_,I),n(F[i+4],a[i],_,S);return!J(f.planes,F,8)}_isTileVisibleInFrustumGlobal(e){const t=e.tilingScheme.spatialReference,_=e.extent;if(e.lij[0]<K)return!0;const h=ee,f=.5*(_[0]+_[2]);if(o(h[0],_[0],_[1],0),o(h[1],_[2],_[1],0),o(h[2],_[2],_[3],0),o(h[3],_[0],_[3],0),o(h[4],f,_[1],0),o(h[5],f,_[3],0),!R(h,t,0,h,this._renderSR,0,6))return!1;const p=h[0][2]>0,T=h[3][2]<0,E=p||T,g=this._renderSREllipsoidRadius;if(E){const e=m(0,0,1),t=re;q(t,e,h[0]);const s=ne;if(q(s,e,h[1]),p){const i=ie,r=h[4],n=oe;q(n,r,e),q(i,n,r);const o=h[0];c(o,t,i),D(o,g);const u=h[1];c(u,s,i),D(u,g)}else if(T){const i=ie,r=h[5],n=oe;q(n,r,e),q(i,r,n);const o=h[3];c(o,i,t),D(o,g);const u=h[2];c(u,i,s),D(u,g)}}const F=te;{const e=Te;i(e,h[3],h[0]),s(e,e);const t=Ee;l(t,h[0],h[3]),a(t,t,.5);const o=-r(t,e),u=Re,c=ge;l(u,h[0],h[1]),a(u,u,.5),l(c,h[2],h[3]),a(c,c,.5);const d=Fe;i(d,c,u),s(d,d);const _=-(o+r(e,u))/r(e,d);n(F,u,d,_),D(F,g)}const I=this._frustumBoundingSphereRadius,S=this._frustumBoundingSphereCenter,A=this._frustum,O=A.planes,b=ue;s(b,F);let B=1;for(let i=0;i<4;++i){s(Ce,h[i]);const e=r(Ce,b);e>=0&&e<B&&(B=e)}const P=Math.sqrt(1-B*B);if(P>.9)return!0;{const e=r(b,S),t=d(S);if(t<=I)return!0;const s=e/t;if(e<=0){if(-e>I)return!1}const i=I/t;if(Math.sqrt(1-s*s)*Math.sqrt(1-i*i)-i*s>P)return!1}if(h.some((e=>A.intersectsPoint(e))))return!0;if(A.intersectsPoint(F))return!0;const j=fe;i(j,S,he);const M=r(j,b),x=ce;a(x,b,M);const H=u(x,S),N=t.isWGS84,V=e.lij,G=N&&V[2]===2**V[0]-1,L=N&&0===V[2],y=L?xe:G?je:Be,C=L?He:G?Me:Pe,v=A.points;{const e=h,t=Ne,s=Ie,i=Se,r=he;for(const n of y){const o=e[n];if(z(s,e[(n+1)%4],o),z(i,r,o),q(t,i,s),Q(t,v,1))return!1}}let w=null;if(M<2*I){const e=2.5*I;if(H>B*e+I)return!1;const t=pe,s=e/B;for(let i=0;i<4;++i)a(t[i],h[i],s/g);o(t[4],0,0,0),w=t}else{const e=(M+I)/B,t=(M-I)/B,s=me;for(let i=0;i<4;++i){const r=h[i];a(s[i+4],r,t/g),a(s[i],r,e/g)}w=s}if(J(O,w,w.length))return!1;const U=A.lines,W=Ae,k=Oe;for(const i of C){s(W,h[i]);for(const e of U)if(s(k,e.direction),ye(k,W,w,v))return!1}return!0}_calculateSingleTileVisibilitySided(e,t){return this._isTileVisibleInFrustum(e)?(this._intersector.update(e.extent,e.tilingScheme.spatialReference,this._surfaceElevation,t),this._intersector.isVisibleInFrustum(this._frustum,this._renderSREllipsoidRadius,!0)?M.VISIBLE_ON_SURFACE:M.VISIBLE_WHEN_EXTENDED):M.INVISIBLE}_updateExtendedFrustum(t){this._extendedFrustum.update(t),k(this._extendedFrustum);const s=this._renderCoordsHelper.worldUpAtPosition(t.eye,v);this._aboveGround||_(s,s);const i=e(-r(s,t.viewForward));if(this._hasExtendedFrustum=i>t.fovY/2,!this._hasExtendedFrustum)return;const n=this._extendedFrustumParameters(),o=this._extendedFrustum.mutablePoints;for(let e=0;e<4;e++){const t=n.pointIndices[e],s=o[t],i=this._renderCoordsHelper.getAltitude(s);if(n.needsAltitudeAdjustment(i)){switch(this._renderCoordsHelper.worldUpAtPosition(s,v),t){case F.FAR_BOTTOM_LEFT:case F.FAR_TOP_LEFT:case F.NEAR_BOTTOM_LEFT:case F.NEAR_TOP_LEFT:S(this._extendedFrustum.planes[g.LEFT],v,v);break;case F.FAR_BOTTOM_RIGHT:case F.FAR_TOP_RIGHT:case F.NEAR_BOTTOM_RIGHT:case F.NEAR_TOP_RIGHT:S(this._extendedFrustum.planes[g.RIGHT],v,v)}a(v,v,n.direction),this._renderCoordsHelper.intersectInfiniteManifold(B(s,v),n.zWithMargin,s)}}if(this._extendedFrustum.updatePoints(o),A(o[F.NEAR_BOTTOM_LEFT],o[F.NEAR_BOTTOM_RIGHT],o[F.NEAR_TOP_RIGHT],w),A(o[F.NEAR_BOTTOM_RIGHT],o[F.NEAR_TOP_RIGHT],o[F.NEAR_TOP_LEFT],U),r(O(w),O(U))<0){const e=this._extendedFrustum.mutablePoints;this._aboveGround?[e[F.NEAR_BOTTOM_LEFT],e[F.NEAR_BOTTOM_RIGHT]]=[e[F.NEAR_BOTTOM_RIGHT],e[F.NEAR_BOTTOM_LEFT]]:[e[F.NEAR_TOP_LEFT],e[F.NEAR_TOP_RIGHT]]=[e[F.NEAR_TOP_RIGHT],e[F.NEAR_TOP_LEFT]],this._extendedFrustum.updatePoints(e)}}_extendedFrustumParameters(){return this._aboveGround?this._extendedFrustumParametersAboveSurface():this._extendedFrustumParametersBelowSurface()}_extendedFrustumParametersAboveSurface(){const e=this._surfaceElevation-C;return{zWithMargin:e,pointIndices:x.planePointIndices.bottom,direction:-1,needsAltitudeAdjustment:t=>t>e}}_extendedFrustumParametersBelowSurface(){const e=this._surfaceElevation+C;return{zWithMargin:e,pointIndices:x.planePointIndices.top,direction:1,needsAltitudeAdjustment:t=>t<e}}}const V=2,G=6,L=12,y=.95,C=1,v=f(),w=I(),U=I(),W=new t(Array,(e=>{4!==e.length&&(e[0]=new j,e[1]=new j,e[2]=new j,e[3]=new j)}),(e=>{e[0].release(),e[1].release(),e[2].release(),e[3].release()}));function k(e){const t=x.nearFarLineIndices,s=e.mutablePoints;for(const i of t){const[e,t]=i,r=s[e],n=s[t];h(v,n,r),a(v,v,y),l(s[t],r,v)}e.updatePoints(s)}function q(e,t,i){return c(e,t,i),s(e,e),e}function z(e,t,r){return i(e,t,r),s(e,e),e}function D(e,t){return a(e,e,t/d(e)),e}const X=[g.LEFT,g.RIGHT,g.BOTTOM,g.TOP,g.FAR];function Y(e,t,s){for(let i=0;i<s;++i)if(b(e,t[i])<0)return!1;return!0}function J(e,t,s){for(const i of X)if(Y(e[i],t,s))return!0;return!1}const K=3;function Q(e,t,s){for(const i of t)if(r(i,e)<s)return!1;return!0}const Z=[f(),f(),f(),f(),f(),f(),f(),f()],$=[0,0,0,0,0,0],ee=[f(),f(),f(),f(),f(),f()],te=f(),se=f(),ie=f(),re=f(),ne=f(),oe=f(),ue=f(),ce=f(),le=f(),ae=f(),de=f(),_e=f(),he=m(0,0,0),fe=f(),me=[f(),f(),f(),f(),f(),f(),f(),f()],pe=[f(),f(),f(),f(),f()],Te=f(),Ee=f(),Re=f(),ge=f(),Fe=f(),Ie=f(),Se=f(),Ae=f(),Oe=f(),be=f(),Be=[0,1,2,3],Pe=[0,1,2,3],je=[0,1,3],Me=[0,1,3],xe=[1,2,3],He=[1,2,3],Ne=f();function Ve(e,t,s){let i=1/0,n=-1/0;for(const o of s){const e=r(t,o);i=Math.min(i,e),n=Math.max(n,e)}e[0]=i,e[1]=n}function Ge(e,t,s,i){let n=1/0,o=-1/0;for(const u of i){const i=r(s,u);if(n=Math.min(n,i),o=Math.max(o,i),n<=t&&o>=e)return!1}return!0}const Le=[0,0];function ye(e,t,s,i){const r=be;q(r,e,t);const n=Le;return Ve(n,r,s),Ge(n[0],n[1],r,i)}const Ce=f();export{N as FeatureTileVisibility3D,K as globalTileLevelThreshold,J as isConvexHullOutsideOfFrustum};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as e,createRenderScreenPointArray3 as t}from\"../../../../core/screenUtils.js\";import{c as r,h as i,r as s}from\"../../../../chunks/vec32.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as n,fromValues as c,distance as a,empty as l,expandPointInPlace as m,expand as h}from\"../../../../geometry/support/aaBoundingRect.js\";import{PlaneIndex as u}from\"../../../../geometry/support/frustum.js\";import{signedDistance as p}from\"../../../../geometry/support/plane.js\";import{areaPoints2d as _}from\"../../../../geometry/support/triangle.js\";import{ViewingMode as d}from\"../../../ViewingMode.js\";import{Visibility as f}from\"./FeatureTileDescriptor3D.js\";import{FeatureTileVisibility3D as S,globalTileLevelThreshold as g,isConvexHullOutsideOfFrustum as b}from\"./FeatureTileVisibility3D.js\";import v from\"../../webgl/RenderCamera.js\";class R{constructor(e){this._camera=new v,this._focusOnMap=[0,0],this._screenRect=n(),this._tileSize=e.tileSize,this._renderCoordsHelper=e.renderCoordsHelper,this._tilingScheme=e.tilingScheme,this._visibility=new S(e.renderCoordsHelper)}begin(e,t,r){this._camera.copyFrom(e),this._surfaceElevation=r,this._focusOnMap[0]=t.x,this._focusOnMap[1]=t.y,c(0,0,e.fullWidth,e.fullHeight,this._screenRect),this._visibility.begin(this._camera,r)}end(){this._visibility.end()}updateTile(e){e.measures.visibility=this._visibility.calculate(e),e.measures.distance=a(e.extent,this._focusOnMap),e.measures.visibility!==f.INVISIBLE&&this._updateScreenMeasure(e)}_updateScreenMeasure(e){const t=T,r=1<<t,i=e.measures.screenRect;l(i);let s=0;const o=e.lij,n=o[0],c=n+t,a=o[1]<<t,h=o[2]<<t,u=this._tileSizeWithBias(e),p=u*u,_=this._camera,{frustum:f,viewport:S}=_;if(this._renderCoordsHelper.viewingMode===d.Local||n>g){const t=C;this._tilingScheme.getExtent(o[0],o[1],o[2],t);const r=y,i=H,s=l();for(let e=0;e<4;++e)this._toRenderCoords(t,w[e][0],w[e][1],i[e]),_.projectToScreen(i[e],r[e]),m(s,r[e]);const n=b(f,i,4),c=s[0]>S[2]||s[1]>S[3]||s[2]<S[0]||s[3]<S[1];if(n||c)return void(e.measures.shouldSplit=!1)}for(let l=0;l<r;l++)for(let t=0;t<r;t++)if(s+=this._computeScreenArea(c,a+l,h+t,i),s>p)return void(e.measures.shouldSplit=!0);e.measures.shouldSplit=!1}_tileSizeWithBias(e){return e.measures.visibility===f.VISIBLE_WHEN_EXTENDED?this._tileSize*j:this._tileSize}_computeScreenArea(e,t,r,i){this._tilingScheme.ensureMaxLod(e);const s=C;this._tilingScheme.getExtent(e,t,r,s);const o=A;this._toRenderCoords(s,0,3,o[0]),this._toRenderCoords(s,2,3,o[1]),this._toRenderCoords(s,2,1,o[2]),this._toRenderCoords(s,0,1,o[3]);return this._computeTriangleScreenArea([o[0],o[1],o[2]],i)+this._computeTriangleScreenArea([o[2],o[1],o[3]],i)}_computeTriangleScreenArea(e,t){const i=this._camera.frustum[u.NEAR];let s=0,o=-1,n=-1;for(let r=0;r<3;++r){p(i,e[r])>0?(s++,-1===o&&(o=r)):-1===n&&(n=r)}if(0===s)return this._computeTriangleScreenAreaInside(e,t);if(1===s){const s=I,n=(o+1)%3,c=(o+2)%3,a=o;r(s[0],e[n]),r(s[1],e[c]),x(s[2],e[c],e[a],i);const l=this._computeTriangleScreenAreaInside(s,t);x(s[1],e[n],e[a],i);return l+this._computeTriangleScreenAreaInside(s,t)}if(2===s){const s=I,o=n;r(s[0],e[o]);const c=(n+1)%3,a=(n+2)%3;return x(s[1],e[o],e[c],i),x(s[2],e[o],e[a],i),this._computeTriangleScreenAreaInside(s,t)}return 0}_computeTriangleScreenAreaInside(e,t){for(let r=0;r<3;r++)this._camera.projectToRenderScreen(e[r],E),this._camera.renderToScreen(E,y[r]),h(t,y[r],t);return _(y[0],y[1],y[2])}_toRenderCoords(e,t,r,i){return M[0]=e[t],M[1]=e[r],M[2]=this._surfaceElevation,this._renderCoordsHelper.toRenderCoords(M,this._tilingScheme.spatialReference,i),i}}const T=2,j=5,y=[e(),e(),e(),e()],C=n(),M=o(),A=[o(),o(),o(),o()],E=t(),I=[o(),o(),o()];function x(e,t,r,o){const n=p(o,t),c=p(o,r),a=Math.abs(c-n);i(e,t,Math.abs(c)/a),s(e,e,r,Math.abs(n)/a)}const H=[o(),o(),o(),o()],w=[[0,3],[2,3],[2,1],[0,1]];export{R as FeatureTileMeasurements3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Collection.js\";import{makeHandle as s}from\"../../../../core/handleUtils.js\";import r from\"../../../../core/Logger.js\";import{removeMaybe as n}from\"../../../../core/maybe.js\";import o from\"../../../../core/PooledArray.js\";import{watch as l,sync as h,syncAndInitial as a}from\"../../../../core/reactiveUtils.js\";import{generateUID as c}from\"../../../../core/uid.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as p,empty as _,expand as m,height as f,intersects as g}from\"../../../../geometry/support/aaBoundingRect.js\";import{FeatureTileDescriptor3D as T,Visibility as y}from\"./FeatureTileDescriptor3D.js\";import{FeatureTileMeasurements3D as S}from\"./FeatureTileMeasurements3D.js\";import{toBoundingRect as E}from\"../../support/extentUtils.js\";import{TaskPriority as v,noBudget as R}from\"../../../support/Scheduler.js\";let w=class extends t{get tilingScheme(){const e=this.tilingSchemeOwner.tilingScheme;if(!e)return null;return e.clone()}set filterExtent(e){if(null!=e&&!e.spatialReference.equals(this.viewState.spatialReference))return void r.getLogger(this).error(\"#extent\",\"extent spatial reference needs to be in the same spatial reference as the view\");const t=this._get(\"filterExtent\");if(t===e||null!=t&&e&&t.equals(e))return;const i=null!=e?e.clone():null;this._set(\"filterExtent\",i),this._setDirty()}get _filterExtentRect(){if(null==this.filterExtent)return null;const e=p();return E(this.filterExtent,e,this.tilingScheme.spatialReference),e}get _rootTileIds(){const{tilingScheme:e}=this;return this._filterExtentRect&&e?e.rootTilesInExtent(this._filterExtentRect):[[0,0,0]]}set suspended(e){e!==this._get(\"suspended\")&&(this._set(\"suspended\",e),this._setDirty())}get updating(){return this._dirty||!!this._pendingTiles}constructor(e){super(e),this.tiles=new i,this.tileSize=512,this._idToTile=new Map,this._clients=new Set,this._dirty=!1,this._pendingTiles=null,this._newTiles=new o}initialize(){this.addHandles([l((()=>[this.tilingScheme,this.tileSize]),(()=>this._reset()),h),l((()=>[this.tileSize,this.cameraOnSurface?.location,this.tilingScheme,this.viewState?.contentCamera,this.focus?.location]),(()=>this._setDirty()),a)]),this.scheduler&&(this._frameWorker=this.scheduler.registerTask(v.FEATURE_TILE_TREE,this))}destroy(){this._frameWorker=n(this._frameWorker)}addClient(){const e=c();return this._clients.add(e),1===this._clients.size&&this._setDirty(),s((()=>this._removeClient(e)))}_removeClient(e){this._clients.delete(e),this._hasClients||this._clear()}get _hasClients(){return this._clients.size>0}_setDirty(){!this._hasClients||this.suspended||this._dirty||(this._frameWorker?(this._dirty=!0,this.notifyChange(\"updating\")):this.runTask(R))}_clear(){this.tiles.removeAll(),this._idToTile.clear(),this._reset(),this._dirty=!1,this.notifyChange(\"updating\")}get running(){return this.updating}runTask(e){this._dirty=!1,this._pendingTiles||(this._startUpdate(),null!=this._frameWorker&&(this._frameWorker.priority=v.FEATURE_TILE_TREE_ACTIVE)),this._subdivideTilesForView(e),this._pendingTiles||null==this._frameWorker||(this._frameWorker.priority=v.FEATURE_TILE_TREE),this.notifyChange(\"updating\")}_startUpdate(){if(this.suspended)return;if(!this.tilingScheme)return void this._clear();this._tileMeasurements||(this._tileMeasurements=new S({renderCoordsHelper:this.renderCoordsHelper,tilingScheme:this.tilingScheme,tileSize:this.tileSize}));const e=this.viewState.contentCamera;this._tileMeasurements.begin(e,this.focus.location,this.cameraOnSurface.location.z??0),this._pendingTiles=this._getRootTiles()}_reset(){this._newTiles.clear(),this._tileMeasurements=null,this._pendingTiles=null,this._setDirty()}_getRootTiles(){const{tilingScheme:e}=this;return this._rootTileIds.map((t=>new T(t[0],t[1],t[2],e)))}_purgeHorizonTiles(e){e.sort(((e,t)=>{const i=e.measures.screenRect,s=t.measures.screenRect;return i[1]+i[3]-(s[1]+s[3])}));if(!(e.length>j))return e.toArray();_(x);for(let t=0;t<e.length;t++)if(m(x,e.data[t].measures.screenRect,x),f(x)>C)return e.data.slice(t,e.length);return[]}_subdivideTilesForView(e){if(!this._pendingTiles)return;const{tilingScheme:t}=this;for(;this._pendingTiles.length>0&&!e.done;){const i=this._pendingTiles.pop();e.madeProgress(),this._filterExtentRect&&!g(this._filterExtentRect,i.extent)||(this._tileMeasurements.updateTile(i),i.measures.visibility!==y.INVISIBLE&&(i.measures.shouldSplit?(t.ensureMaxLod(i.lij[0]+1),this._pendingTiles.push(...i.getChildren())):this._newTiles.push(i)))}0===this._pendingTiles.length&&(this._updateTiles(this._purgeHorizonTiles(this._newTiles)),this._newTiles.clear(),this._tileMeasurements.end(),this._pendingTiles=null)}_updateTiles(e){for(const s of this.tiles.items)s.used=!1;const t=e.filter((e=>{const t=this._idToTile.get(e.id);return t?(t.copyMeasurementsFrom(e),t.used=!0):this._idToTile.set(e.id,e),!t})),i=this.tiles.items.filter((e=>!e.used&&(this._idToTile.delete(e.id),!0)));this.tiles.removeMany(i),this.tiles.addMany(t),this._sortTiles()}_sortTiles(){this.viewState.fixedContentCamera||this.tiles.sort(((e,t)=>e.measures.visibility!==t.measures.visibility?e.measures.visibility===y.VISIBLE_ON_SURFACE?-1:1:e.measures.distance-t.measures.distance)),this.tiles.forEach(((e,t)=>e.loadPriority=t))}};e([u({constructOnly:!0})],w.prototype,\"scheduler\",void 0),e([u({constructOnly:!0})],w.prototype,\"renderCoordsHelper\",void 0),e([u({constructOnly:!0})],w.prototype,\"tilingSchemeOwner\",void 0),e([u({constructOnly:!0})],w.prototype,\"cameraOnSurface\",void 0),e([u({constructOnly:!0})],w.prototype,\"focus\",void 0),e([u({constructOnly:!0})],w.prototype,\"viewState\",void 0),e([u({constructOnly:!0})],w.prototype,\"terrain\",void 0),e([u()],w.prototype,\"tiles\",void 0),e([u()],w.prototype,\"tileSize\",void 0),e([u({readOnly:!0})],w.prototype,\"tilingScheme\",null),e([u()],w.prototype,\"filterExtent\",null),e([u({readOnly:!0})],w.prototype,\"_filterExtentRect\",null),e([u({readOnly:!0})],w.prototype,\"_rootTileIds\",null),e([u({value:!1})],w.prototype,\"suspended\",null),e([u({readOnly:!0})],w.prototype,\"updating\",null),w=e([d(\"esri.views.3d.layers.support.FeatureTileTree3D\")],w);const x=p(),C=10,j=50;export{w as FeatureTileTree3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import r from\"../../../core/Evented.js\";import{when as o}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{afterDispatch as s}from\"../../../core/accessorSupport/watch.js\";import{fromValues as n}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as l}from\"../../../geometry/ellipsoidUtils.js\";import p from\"../../ViewAnimation.js\";import{ViewingMode as c}from\"../../ViewingMode.js\";import{Constraints as m}from\"./Constraints.js\";import{AnimationController as d}from\"./controllers/AnimationController.js\";import{State as h}from\"./controllers/CameraController.js\";import{PropertiesPool as u}from\"../support/PropertiesPool.js\";import g from\"../webgl/RenderCamera.js\";import{PaddingSide as C}from\"../webgl-engine/lib/rendererUtils.js\";import{RenderState as y}from\"../../support/RenderState.js\";let _=class extends t{constructor(){super(...arguments),this._propertiesPool=new u({camera:g},this),this._lastSeenCameraProjectionValues=new g,this.mode=y.ANIMATING,this._cssCamera=new g,this._camera=new g,this.rasterPixelRatio=1,this.contentPixelRatio=1,this.events=new r,this.viewingMode=c.Global,this._cameraChanged=!1,this._updateQueue=new Array,this._processingUpdates=!1}init(e,t){this._set(\"viewingMode\",e),this._set(\"spatialReference\",t),this._set(\"constraints\",new m({mode:this.viewingMode}))}exit(){this.cameraController=null,this._propertiesPool.destroy(),this._propertiesPool=new u({camera:g},this)}destroy(){this.cameraController=null,this._propertiesPool?.destroy(),this._propertiesPool=null}createInitialCamera(){if(this.viewingMode===c.Global){const e=l(this.spatialReference).radius;this.camera=new g({eye:n(4*e,0,0),center:n(e,0,0),up:n(0,0,1)})}else this.camera=new g({eye:n(0,0,100),center:n(0,0,0),up:n(0,1,0)})}get animation(){return this.cameraController instanceof d&&null!=this.cameraController.viewAnimation?this.cameraController.viewAnimation:null}get cssCamera(){const e=this._cssCamera.copyFrom(this.camera),{height:t,width:r,pixelRatio:o}=this.camera;return e.pixelRatio=1,e.height=Math.round(t/o),e.width=Math.round(r/o),e}get camera(){return this._camera}set camera(e){e!==v&&v.copyFrom(e),v.computeUp(this.viewingMode),this.events.emit(\"before-camera-change\",v);const t=this._camera;if(w(this._lastSeenCameraProjectionValues,v)&&(this._lastSeenCameraProjectionValues.copyFrom(v),this.events.emit(\"camera-projection-changed\",this._lastSeenCameraProjectionValues)),!t.equals(v)&&(this._camera=this._propertiesPool.get(\"camera\").copyFrom(v),this._cameraChanged=!t.almostEquals(v),this._cameraChanged)){const e=s((()=>{this._cameraChanged=!1,e.remove()}))}}get pixelRatio(){return this.camera.pixelRatio}get alignPixelEnabled(){return this.pixelRatio===this.rasterPixelRatio&&this.mode===y.IDLE}get updating(){return this.mode!==y.IDLE}get contentCamera(){return this._contentCamera??this.camera}set contentCamera(e){this._contentCamera=null!=e?e.clone():null}get fixedContentCamera(){return null!=this._contentCamera}get isGlobal(){return this.viewingMode===c.Global}get isLocal(){return this.viewingMode===c.Local}get navigating(){return!(!this.cameraController||!this.cameraController.isInteractive)}get stationary(){return!this._cameraChanged&&!this.navigating}get cameraController(){return this._get(\"cameraController\")}set cameraController(e){this.stopActiveCameraController()?(this.cameraController?.destroy(),e&&(this.removeHandles(j),this.addHandles(o((()=>e.state===h.Finished||e.state===h.Stopped),(()=>{this._set(\"cameraController\",null),this.updateCamera((t=>e.onControllerEnd(t)))}),{sync:!0,once:!0}),j),e.onControllerStart(this.camera)),this._set(\"cameraController\",e)):e&&(e.state=h.Rejected)}switchCameraController(e){return this.cameraController=e,e.state!==h.Rejected}stopActiveCameraController(){return!(this.cameraController&&!this.cameraController.stopController())}updateCamera(e){this._updateQueue.push(e),this._processUpdateQueue()}_processUpdateQueue(){if(0===this._updateQueue.length||this._processingUpdates)return;this._processingUpdates=!0;const e=this._updateQueue.shift();v.copyFrom(this._get(\"camera\")),e(v),this.camera=v,this._processingUpdates=!1,this._processUpdateQueue()}};e([a()],_.prototype,\"mode\",void 0),e([a({readOnly:!0,type:p})],_.prototype,\"animation\",null),e([a({type:g})],_.prototype,\"cssCamera\",null),e([a()],_.prototype,\"_cssCamera\",void 0),e([a({type:g})],_.prototype,\"camera\",null),e([a()],_.prototype,\"_camera\",void 0),e([a({readOnly:!0})],_.prototype,\"pixelRatio\",null),e([a()],_.prototype,\"rasterPixelRatio\",void 0),e([a()],_.prototype,\"contentPixelRatio\",void 0),e([a({readOnly:!0})],_.prototype,\"alignPixelEnabled\",null),e([a({readOnly:!0})],_.prototype,\"updating\",null),e([a({})],_.prototype,\"_contentCamera\",void 0),e([a({type:g})],_.prototype,\"contentCamera\",null),e([a({readOnly:!0})],_.prototype,\"fixedContentCamera\",null),e([a({readOnly:!0})],_.prototype,\"constraints\",void 0),e([a({readOnly:!0})],_.prototype,\"events\",void 0),e([a({readOnly:!0})],_.prototype,\"isGlobal\",null),e([a({readOnly:!0})],_.prototype,\"isLocal\",null),e([a({readOnly:!0})],_.prototype,\"viewingMode\",void 0),e([a({readOnly:!0})],_.prototype,\"spatialReference\",void 0),e([a()],_.prototype,\"navigating\",null),e([a()],_.prototype,\"stationary\",null),e([a()],_.prototype,\"_cameraChanged\",void 0),e([a()],_.prototype,\"cameraController\",null),_=e([i(\"esri.views.3d.state.ViewState\")],_);const f=_;function w(e,t){return e.fov!==t.fov||(e.fullViewport[0]!==t.fullViewport[0]||e.fullViewport[1]!==t.fullViewport[1]||e.fullViewport[2]!==t.fullViewport[2]||e.fullViewport[3]!==t.fullViewport[3]||(e.padding[C.TOP]!==t.padding[C.TOP]||e.padding[C.RIGHT]!==t.padding[C.RIGHT]||e.padding[C.BOTTOM]!==t.padding[C.BOTTOM]||e.padding[C.LEFT]!==t.padding[C.LEFT]))}const v=new g,j=\"ViewStateHandles\";export{f as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/PooledArray.js\";import{castRenderScreenPointArray3 as t,createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{getMetersPerVerticalUnitForSR as n}from\"../../../../core/unitUtils.js\";import{g as i,n as s,k as o}from\"../../../../chunks/vec32.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as c,copy as a,negativeInfinity as u,width as h,height as d,expandPointInPlace as p}from\"../../../../geometry/support/aaBoundingRect.js\";import{create as m}from\"../../../../geometry/support/ray.js\";import{sv3d as y}from\"../../../../geometry/support/vectorStacks.js\";import{getElevationOffsetInMeters as f}from\"../../../../support/elevationInfoUtils.js\";import{ViewingMode as g}from\"../../../ViewingMode.js\";import{computeMapPointFromVec3d as R}from\"../../support/hitTest.js\";import{fromRenderAtEye as _,fromScreen as I}from\"../../support/geometryUtils/ray.js\";import{defaultTolerance as v,newIntersector as b}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as w,IntersectorType as P}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{isValidIntersectorResult as j,sliceFilterPredicate as M}from\"../../webgl-engine/lib/intersectorUtils.js\";class U{constructor(t,r,n){this.viewingMode=t,this._forEachLayer=r,this._view=n,this._externalIntersectionHandlers=new e,this._tolerance=v,this._tmpRay=m(),this._tmpRegion=c(),this._validateHUDIntersector=b(this.viewingMode),this._validateHUDIntersector.options.hud=!1}intersectScreen(e,t,r){return this.intersectRay(this._getPickRay(e,this._tmpRay),T(this.viewingMode),t,r)}intersectScreenFreePointFallback(e,t,r){return this.intersectRayFreePointFallback(this._getPickRay(e,this._tmpRay),t,r)}intersectRayFreePointFallback(e,t,r){return this.intersectRay(e,T(this.viewingMode),t,r)||this._intersectRayFreePointLocal(e,t)}intersectRay(e,t,r,n){return t.options.selectionMode=!1,t.options.store=w.MIN,this.computeIntersection(e,t,n),!!t.results.min&&t.results.min.getIntersectionPoint(r)}getCenterRayWithSubpixelOffset(e,t,r=.5,n=.5){return e.getRenderCenter(D,r,n),D[0]+=.0466,D[1]-=.0123,_(e,D,t)}intersectIntersectorScreen(e,t,r){this.computeIntersection(this._getPickRay(e,this._tmpRay),t,r)}intersectToolIntersectorScreen(e,t,r){const n=this._getPickRay(e,this._tmpRay);this.intersectToolIntersectorRay(n,t,r)}intersectToolIntersectorRay(e,t,r){t.options.selectionMode=!0,this.computeIntersection(e,t,r);const n=t.results.min;!!this._view.basemapTerrain&&this._view.basemapTerrain.opaque||j(n)&&n.intersector!==P.TERRAIN||(t.options.selectionMode=!1,this.computeIntersection(e,t,r))}setTolerance(e=v){this._tolerance=e}addIntersectionHandler(e){this._externalIntersectionHandlers.push(e),this._externalIntersectionHandlers.sort(((e,t)=>e.type===P.TERRAIN?1:t.type===P.TERRAIN?-1:0))}removeIntersectionHandler(e){null!=this._externalIntersectionHandlers.removeUnordered(e)&&this._externalIntersectionHandlers.sort(((e,t)=>e.type===P.TERRAIN?1:t.type===P.TERRAIN?-1:0))}_getPickRay(e,t){const r=this._view.state.camera;return I(r,e,t)}_intersectRayFreePointLocal(e,t){return this.viewingMode!==g.Local||null==e||i(t,e.origin,s(y.get(),e.direction)),!1}intersectElevationFromScreen(e,t,r=0,n=null){return this._intersectElevation(this._getPickRay(e,this._tmpRay),t,r,n)}_intersectElevation(e,r,l=0,c=null){if(null==e)return null;const a=this._view,{renderCoordsHelper:u}=a,h=n(a.spatialReference),d=null!=r?r.mode:\"absolute-height\",p=f(r)/h,m=(\"on-the-ground\"!==d?p+l:0)*h/u.unitInMeters,{camera:g}=a.state;if(\"absolute-height\"===d){const t=u?.getAltitude(g.eye),r=o(s(F,e.direction),u.worldUpAtPosition(g.eye,S));if(t<m&&r<0||t>=m&&r>0)return null;if(u.intersectInfiniteManifold(e,m,F)){const e=R(a,F);return e.z??=0,e.z-=p,e}return null}const _=t(y.get());g.projectToRenderScreen(e.origin,_);const I=new A(null,this._forEachLayer),{slicePlane:v}=a,j=null!=v?M(v):null,U=b(this.viewingMode);U.options.store=w.MIN,U.options.verticalOffset=m,U.options.normalRequired=!1;const x=e.origin,E=i(y.get(),x,e.direction);U.reset(x,E,g),U.point=_;const H=c?\"type\"in c&&\"graphics\"===c.type?e=>e.layerUid!==c.uid:e=>e.graphicUid!==c.uid:null;switch(d){case\"relative-to-scene\":{const e=e=>(!H||H(e))&&!!e.lastValidElevationBB;U.intersect(I.layers,_,this._tolerance,null,e),this._externalIntersectionHandlers.forAll((e=>{if(e.type===P.I3S||e.type===P.TERRAIN||e.type===P.TILES3D){const t=e.slicePlaneEnabled?j:null;e.intersect(U,t,U.rayBegin,U.rayEnd,_)}}));break}case\"on-the-ground\":case\"relative-to-ground\":this._externalIntersectionHandlers.forAll((e=>{if(e.isGround){const t=e.slicePlaneEnabled?j:null;e.intersect(U,t,U.rayBegin,U.rayEnd,_)}}))}if(U.results.min.getIntersectionPoint(F)){const e=R(a,F);return e.z=l,e}return null}computeIntersection(e,r,n,s){if(null==e)return;const o=this._view.state.camera,l=t(y.get());o.projectToRenderScreen(e.origin,l);const c=new A(n,this._forEachLayer);r.options.selectOpaqueTerrainOnly=!n||!(\"include\"in n||\"exclude\"in n);const a=e.origin,u=i(y.get(),e.origin,e.direction);r.reset(a,u,o),r.intersect(c.layers,l,this._tolerance);const h=this._view.slicePlane,d=null!=h?M(h):null;r.intersect(c.sliceableLayers,l,this._tolerance,d);const p=n&&(n.requiresGroundFeedback||n.enableDraped);this._externalIntersectionHandlers.forAll((e=>{const t=e.layerUid,n=Array.isArray(t),i=n?t:[t];n&&(r.options.filteredLayerUids=[]);let o=!1;for(const s of i){!c.filterLayerUid(s)?n&&r.options.filteredLayerUids.push(s):o=!0}if(r.options.isFiltered=!o,e.isGround&&p||!r.options.isFiltered){const t=e.slicePlaneEnabled?d:null;e.intersect(r,t,a,u,l,s)}}));const m=y.get(),f=this._view.basemapTerrain;if(n&&n.enableDraped&&null!=f.spatialReference&&r.results.ground.getIntersectionPoint(m)){const e=f.overlayManager.renderer,t=this._view.renderCoordsHelper.spatialReference,n=y.get();this._view.renderCoordsHelper.fromRenderCoords(m,n,f.spatialReference),n[2]=this._view.elevationProvider?.getElevation(m[0],m[1],m[2],t,\"ground\")??0,e.intersect(r,n,r.results.ground,(e=>c.filterRenderGeometry(e)))}r.sortResults(),this._processHUDResults(r)}_processHUDResults(e){const t=e.results.hud;a(this._tmpRegion,u);const r=this._view.state.camera,n=[],i=this._tmpRegion,s=e=>{const t=new H(e);r.projectToRenderScreen(e.target.center,t.screenPoint),t.screenPoint[0]=Math.floor(t.screenPoint[0]),t.screenPoint[1]=Math.floor(t.screenPoint[1]),n.push(t),p(i,t.screenPoint)};e.sortResults(t.all),null!=t.min.dist&&s(t.min);for(const a of t.all)t.min.target.object!==a.target.object&&t.max.target.object!==a.target.object&&s(a);if(null!=t.max.dist&&t.max.target.object!==t.min.target.object&&s(t.max),!n.length)return;i[0]===i[2]&&(i[2]+=1),i[1]===i[3]&&(i[3]+=1);const o=r.fullWidth,l=r.fullHeight,c=Math.max(0,i[0]-x),m=Math.max(0,i[1]-x),y=Math.min(h(i)+2*x,o-c),f=Math.min(d(i)+2*x,l-m);if(y<=0||f<=0)return;const g=new Uint8Array(y*f*4);this._view._stage.renderer.readHUDVisibility(c,m,y,f,g);let R=!0;const _=null==e.results.max.dist;let I=0;for(const a of n)for(const t of E){const r=4*(Math.min(a.screenPoint[0]+t[0],o)-i[0]+(Math.min(a.screenPoint[1]+t[1],l)-i[1])*y);if(!(r<0||r>=g.length)&&g[r]){R&&(e.results.min.copy(a.result),R=!1),_&&e.results.max.copy(a.result),e.options.store===w.ALL&&e.results.all.splice(I++,0,a.result);break}}}}const x=1,E=(()=>{const e=[],t=x;for(let r=-t;r<=t;r++)for(let n=-t;n<=t;n++)e.push([n+t,r+t]);return e})();class H{constructor(e){this.result=e,this.screenPoint=r()}}let L;function T(e){return L&&L.viewingMode===e||(L=b(e)),L}class A{constructor(e,t){this.layers=new Array,this.sliceableLayers=new Array,this.include=e?.include,this.exclude=e?.exclude,t((e=>{e.pickable&&this.filterLayerUid(e.apiLayerUid)&&(e.sliceable?this.sliceableLayers:this.layers).push(e)}))}filterLayerUid(e){const{include:t,exclude:r}=this;return null==e?null==t&&null==r:(null==t||t.has(e))&&(null==r||!r.has(e))}filterRenderGeometry(e){return this.filterLayerUid(e.layerUid)}}function k(e){return\"object\"==typeof e&&\"intersect\"in e}const F=l(),S=l(),D=r();export{U as SceneIntersectionHelper,k as isIntersectionHandler};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import s from\"../../../core/Evented.js\";import{destroyMaybe as r}from\"../../../core/maybe.js\";import{throwIfAbortError as n}from\"../../../core/promiseUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../geometry/SpatialReference.js\";import{equals as l}from\"../../../geometry/support/spatialReferenceUtils.js\";import{ElevationQuery as c}from\"../layers/graphics/ElevationQuery.js\";import{ElevationRange as u}from\"./ElevationRange.js\";let h=class extends(s.EventedMixin(t)){get spatialReference(){return this.view?.basemapTerrain?.spatialReference}constructor(e){super(e),this._im=new Array,this._ground=new Array,this._scene=new Array,this.lastElevationQuery=null,this._cacheEnabled=!1}destroy(){this._cachedQuery=r(this._cachedQuery)}enableCache(e){e||(this.lastElevationQuery=null),this._cacheEnabled=e}getElevation(e,t,s,r,n){if(this._cacheEnabled&&null!=this.lastElevationQuery){const o=this.lastElevationQuery;if(e===o.x&&t===o.y&&s===o.z&&l(r,o.spatialReference)&&n===o.queryContext)return o.result}let o=null;return o=p(o,this._im,e,t,s,r,n),null==o&&(o=p(o,this._ground,e,t,s,r,n)),\"scene\"===n&&(o=p(o,this._scene,e,t,s,r,n)),this._cacheEnabled&&(this.lastElevationQuery={x:e,y:t,z:s,spatialReference:r,queryContext:n,result:o}),o}getSphereElevationBounds(e,t,s){const r=new u;function n(n){for(const o of n)if(o.getSphereElevationBounds){const n=o.getSphereElevationBounds(e,t,s);null!=n&&r.expandElevationRangeValues(n.elevationRangeMin,n.elevationRangeMax)}}return n(this._ground),n(this._im),\"scene\"===s&&n(this._scene),r}getRootElevationBounds(){const e=new u;for(const t of[this._im,this._ground,this._scene])t.forEach((t=>{if(t.getRootElevationBounds){const s=t.getRootElevationBounds();null!=s&&e.expandElevationRangeValues(s.elevationRangeMin,s.elevationRangeMax)}}));return e}async queryElevation(e,t,s,r,o,i=null,a=0){const l=this._getElevationQuery(r);try{const n=await l.queryElevation(e,t,i,a);return\"scene\"===o?p(n,this._scene,e,t,s,r,o):n}catch(c){return n(c),this.getElevation(e,t,s,r,o)}}register(e,t){this.addHandles(t.on(\"elevation-change\",(e=>this.emit(\"elevation-change\",e))),t),this._providersFromContext(e).push(t)}unregister(e){this.removeHandles(e);for(const t of[this._im,this._ground,this._scene]){const s=t.indexOf(e);s>-1&&t.splice(s,1)}}_providersFromContext(e){switch(e){case\"ground\":return this._ground;case\"im\":return this._im;case\"scene\":return this._scene}}_getElevationQuery(e=this.view.spatialReference){const t=this._cachedQuery;if(null!=t&&l(e,t.spatialReference))return t;t?.destroy({completeTasks:!0});const{wkid:s,wkt:r,wkt2:n,latestWkid:o}=e,i=new c(this.view.resourceController.scheduler,new a({wkid:s,wkt:r,wkt2:n,latestWkid:o}),(()=>this.view.map?.ground),{maximumAutoTileRequests:4});return this._cachedQuery=i,i}};function p(e,t,s,r,n,o,i){for(const a of t){const t=a.getElevation(s,r,n,o,i);null!=t&&(e=null!=e?Math.max(t,e):t)}return e}e([o({constructOnly:!0})],h.prototype,\"view\",void 0),e([o()],h.prototype,\"spatialReference\",null),h=e([i(\"esri.views.3d.support.CombinedElevationProvider\")],h);export{h as CombinedElevationProvider};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from\"../../../core/has.js\";import{Milliseconds as e}from\"../../../core/time.js\";class a{static isValidProfile(e){return e in a.profiles}static getDefaultProfile(){return has(\"esri-iPhone\")?\"low\":\"medium\"}static apply(e,i){const o=a.profiles[e];i.graphics3D.maxTotalNumberOfFeatures=o.graphics3D.maxTotalNumberOfFeatures,i.graphics3D.maxNumberOfDrawCalls=o.graphics3D.maxNumberOfDrawCalls,i.graphics3D.maxTotalNumberOfVertices=o.graphics3D.maxTotalNumberOfVertices,i.graphics3D.polygonLodFactor=o.graphics3D.polygonLodFactor,i.graphics3D.polylineLodFactor=o.graphics3D.polylineLodFactor,i.graphics3D.snapshotAvailable=o.graphics3D.snapshotAvailable,i.graphics3D.skipHighSymbolLods=o.graphics3D.skipHighSymbolLods,i.graphics3D.uncompressedTextureDownsamplingEnabled=o.graphics3D.uncompressedTextureDownsamplingEnabled;const t=i.sceneService.object,l=o.sceneService.object;t.lodFactor=l.lodFactor,i.sceneService.point.lodFactor=o.sceneService.point.lodFactor,i.sceneService.integratedMesh.lodFactor=o.sceneService.integratedMesh.lodFactor,i.sceneService.pointCloud.lodFactor=o.sceneService.pointCloud.lodFactor,i.sceneService.uncompressedTextureDownsamplingEnabled=o.sceneService.uncompressedTextureDownsamplingEnabled,i.tiledSurface.lodBias=o.tiledSurface.lodBias,i.tiledSurface.angledSplitBias=o.tiledSurface.angledSplitBias,i.tiledSurface.vtlContentZoom=o.tiledSurface.vtlContentZoom,i.tiledSurface.reduceTileLevelDifferences=o.tiledSurface.reduceTileLevelDifferences,i.heatmap.pixelRatio=o.heatmap.pixelRatio,i.heatmap.maxTotalNumberOfFeatures=o.heatmap.maxTotalNumberOfFeatures,i.fadeDuration=o.fadeDuration,i.antialiasingEnabled=o.antialiasingEnabled,i.physicallyBasedRenderingEnabled=o.physicalBasedRenderingEnabled,i.highQualityTransparency=o.highQualityTransparency,i.highResolutionAtmosphere=o.highResolutionAtmosphere,i.reflections=o.reflections,i.ambientOcclusion=o.ambientOcclusion,i.memoryLimit=o.memoryLimit,i.additionalCacheMemory=o.additionalCacheMemory,i.frameRate=o.frameRate,i.maximumPixelRatio=o.maximumPixelRatio}}a.test={reset(){const e=o();for(const i of Object.keys(e))a.profiles[i]=e[i]}};const i={IPhone12Pro:120,GalaxyS20:200,FullHD:240,SurfacePro7:300,FullHDRetina:430};function o(){const a=!!has(\"esri-mobile\"),o=!!has(\"ios\"),t=e(400);return{low:{graphics3D:{maxTotalNumberOfFeatures:25e3,maxNumberOfDrawCalls:8e3,maxTotalNumberOfVertices:255e4,polygonLodFactor:.5,polylineLodFactor:1,snapshotAvailable:!1,skipHighSymbolLods:!0,uncompressedTextureDownsamplingEnabled:!0},heatmap:{pixelRatio:.125,maxTotalNumberOfFeatures:5e4},sceneService:{object:{lodFactor:.2},point:{lodFactor:1},integratedMesh:{lodFactor:.6},pointCloud:{lodFactor:.5},uncompressedTextureDownsamplingEnabled:!0},tiledSurface:{lodBias:-1,angledSplitBias:.5,vtlContentZoom:.75,reduceTileLevelDifferences:!0},fadeDuration:e(0),antialiasingEnabled:!1,physicalBasedRenderingEnabled:!1,highQualityTransparency:!1,highResolutionAtmosphere:!1,reflections:!1,ambientOcclusion:!1,memoryLimit:200+i.IPhone12Pro,additionalCacheMemory:0,frameRate:0,maximumPixelRatio:1},medium:{graphics3D:{maxTotalNumberOfFeatures:1e5,maxNumberOfDrawCalls:17e3,maxTotalNumberOfVertices:625e4,polygonLodFactor:a?.8:1,polylineLodFactor:a?1.2:1.5,snapshotAvailable:!o,skipHighSymbolLods:!1,uncompressedTextureDownsamplingEnabled:a},heatmap:{pixelRatio:.25,maxTotalNumberOfFeatures:13e4},sceneService:{object:{lodFactor:1},point:{lodFactor:1},integratedMesh:{lodFactor:1},pointCloud:{lodFactor:1},uncompressedTextureDownsamplingEnabled:a},tiledSurface:{lodBias:0,angledSplitBias:1,vtlContentZoom:1.5,reduceTileLevelDifferences:!has(\"disable-feature:reduce-map-tile-levels\")},fadeDuration:t,antialiasingEnabled:!0,physicalBasedRenderingEnabled:!0,highQualityTransparency:!0,highResolutionAtmosphere:!1,reflections:!1,ambientOcclusion:!1,memoryLimit:a?600+i.GalaxyS20:750+i.FullHD,additionalCacheMemory:a?-100:150,frameRate:0,maximumPixelRatio:1},high:{graphics3D:{maxTotalNumberOfFeatures:1e5,maxNumberOfDrawCalls:17e3,maxTotalNumberOfVertices:125e5,polygonLodFactor:a?1.2:2,polylineLodFactor:a?1.2:2,snapshotAvailable:!o,skipHighSymbolLods:!1,uncompressedTextureDownsamplingEnabled:!1},heatmap:{pixelRatio:.5,maxTotalNumberOfFeatures:23e4},sceneService:{object:{lodFactor:1},point:{lodFactor:1},integratedMesh:{lodFactor:1},pointCloud:{lodFactor:1},uncompressedTextureDownsamplingEnabled:!1},tiledSurface:{lodBias:0,angledSplitBias:1,vtlContentZoom:1.5,reduceTileLevelDifferences:!has(\"disable-feature:reduce-map-tile-levels\")},fadeDuration:t,antialiasingEnabled:!0,physicalBasedRenderingEnabled:!0,highQualityTransparency:!0,highResolutionAtmosphere:!0,reflections:!0,ambientOcclusion:!0,memoryLimit:a?900+i.SurfacePro7:1500+i.FullHDRetina,additionalCacheMemory:a?-150:0,frameRate:0,maximumPixelRatio:a?1:1/0}}}!function(e){e.profiles=o()}(a||(a={}));const t=a;export{t as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport o from\"../../../../../Color.js\";const r=new o([0,255,255]),e=1,n=.25,t=new o([0,0,0]),m=.4,p=.2;export{r as defaultColor,n as defaultFillOpacity,e as defaultHaloOpacity,t as defaultShadowColor,p as defaultShadowDifference,m as defaultShadowOpacity};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import r from\"../../../core/Accessor.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import{defaultColor as i,defaultHaloOpacity as p,defaultFillOpacity as c,defaultShadowOpacity as l,defaultShadowColor as a,defaultShadowDifference as h}from\"../webgl-engine/effects/highlight/HighlightDefaults.js\";let d=class extends r{constructor(){super(...arguments),this.color=i.clone(),this.haloColor=null,this.haloOpacity=p,this.fillOpacity=c,this.shadowOpacity=l,this.shadowColor=a.clone(),this.shadowDifference=h}};o([s({type:t})],d.prototype,\"color\",void 0),o([s({type:t})],d.prototype,\"haloColor\",void 0),o([s()],d.prototype,\"haloOpacity\",void 0),o([s()],d.prototype,\"fillOpacity\",void 0),o([s()],d.prototype,\"shadowOpacity\",void 0),o([s({type:t})],d.prototype,\"shadowColor\",void 0),o([s()],d.prototype,\"shadowDifference\",void 0),d=o([e(\"esri.views.3d.support.HighlightOptions\")],d);const y=d;export{y as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../core/Error.js\";import{getMetersPerUnitForSR as r}from\"../../../core/unitUtils.js\";import{getReferenceEllipsoid as t}from\"../../../geometry/ellipsoidUtils.js\";import{getGeometryServiceURL as o}from\"../../../portal/support/geometryServiceUtils.js\";import{project as i}from\"../../../rest/geometryService/project.js\";import s from\"../../../rest/support/ProjectParameters.js\";import m from\"../../../geometry/Point.js\";import p from\"../../../geometry/SpatialReference.js\";class a{constructor(i,s){this.spatialReference=s,this.unitInMeters=r(this.spatialReference,t(this.spatialReference).metersPerDegree);const m=i&&\"portalItem\"in i?i.portalItem:void 0;this._geometryServiceURLPromise=o(m).catch((()=>{throw new e(\"mapcoordshelper:missing-geometry-service\",\"Must specify geometryService in esri/config\")}))}async toGeographic(e){const r=await this._geometryServiceURLPromise;let t,o=!0;Array.isArray(e[0])&&\"number\"!=typeof e[0]?t=e:(t=[e],o=!1);const a=t.map((e=>e instanceof m?e:new m(e,this.spatialReference))),c=new s({geometries:a,outSpatialReference:p.WGS84}),n=(await i(r,c)).map((e=>\"point\"===e.type?[e.x,e.y]:void 0)).filter((e=>!!e));return o?n:n[0]}}export{a as MapCoordsHelper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar A;!function(A){A[A.ELEVATION=0]=\"ELEVATION\",A[A.MAP=1]=\"MAP\"}(A||(A={}));const E=[A.ELEVATION,A.MAP];export{A as LayerClass,E as LayerClasses};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{isIntegratedMeshLayer as e}from\"../../../layers/support/layerUtils.js\";import{LayerClass as a}from\"../terrain/LayerClass.js\";import{hitTestSelectSimilarDistance as r}from\"../../support/hitTestSelectUtils.js\";async function t(a,t){const{results:o,ground:l}=await r(a,t),p=(!l.layer||!e(l.layer.type))&&l.mapPoint,y=[],c=i(a),u=p?s(a,c):n;let d=0,f=0;const m=()=>{const e=u.layerViews[f];p&&e&&\"fetchPopupFeaturesAtLocation\"in e&&y.push({mapPoint:l.mapPoint,layerView:e}),++f};let h=null;for(;d<o.length||f<u.layerViews.length;){const e=o[d];if(e&&\"graphic\"!==e.type)++d;else if(\"scene\"!==e?.layer?.type||e?.layer?.parent!==a?.map?.basemap)if(e){const a=e.layer?.uid,r=u.layerUids.has(a)&&e.distance===l.distance,t=c.get(e.layer?.uid);if(h??=e.mapPoint,f<u.layerViews.length&&(r||(e.distance??0)>l.distance)&&u.layerViews[f]!==t){m();continue}y.push({graphic:e.graphic,layerView:t}),++d}else m();else++d}return h??=l.mapPoint,{hits:y,location:h}}function s(e,r){const t=new Set,s=[];for(let i=e.basemapTerrain.numLayers(a.MAP)-1;i>=0;i--){const r=e.basemapTerrain.layerViewByIndex(i,a.MAP);t.add(r.layer.uid),s.push(r)}const n=e.basemapTerrain.overlayManager.renderer.layers;for(const{uid:a}of n){const e=r.get(a);e&&(t.add(a),s.push(e))}return s.reverse(),{layerUids:t,layerViews:s}}const n={layerUids:new Set,layerViews:[]};function i(e){const a=new Map;for(const r of e.allLayerViews){const e=r.layer.uid;a.set(e,r)}return a}export{t as popupHitTest};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{Milliseconds as o}from\"../../../core/time.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let r=class extends e{constructor(){super(...arguments),this.minTotalNumberOfFeatures=2e3,this.maxTotalNumberOfFeatures=5e4,this.maxNumberOfDrawCalls=17e3,this.maxTotalNumberOfVertices=17e5,this.snapshotAvailable=!0,this.polygonLodFactor=1,this.polylineLodFactor=1,this.skipHighSymbolLods=!1,this.uncompressedTextureDownsamplingEnabled=!1}};t([i()],r.prototype,\"minTotalNumberOfFeatures\",void 0),t([i()],r.prototype,\"maxTotalNumberOfFeatures\",void 0),t([i()],r.prototype,\"maxNumberOfDrawCalls\",void 0),t([i()],r.prototype,\"maxTotalNumberOfVertices\",void 0),t([i()],r.prototype,\"snapshotAvailable\",void 0),t([i()],r.prototype,\"polygonLodFactor\",void 0),t([i()],r.prototype,\"polylineLodFactor\",void 0),t([i()],r.prototype,\"skipHighSymbolLods\",void 0),t([i()],r.prototype,\"uncompressedTextureDownsamplingEnabled\",void 0),r=t([s(\"esri.views.3d.support.QualitySettings.Graphics3DSettings\")],r);let p=class extends e{constructor(){super(...arguments),this.lodFactor=1}};t([i()],p.prototype,\"lodFactor\",void 0),p=t([s(\"esri.views.3d.support.QualitySettings.LoDFactorSettings\")],p);let a=class extends e{constructor(){super(...arguments),this.object=new p,this.point=new p,this.integratedMesh=new p,this.pointCloud=new p,this.uncompressedTextureDownsamplingEnabled=!1}};t([i({type:p})],a.prototype,\"object\",void 0),t([i({type:p})],a.prototype,\"point\",void 0),t([i({type:p})],a.prototype,\"integratedMesh\",void 0),t([i({type:p})],a.prototype,\"pointCloud\",void 0),t([i()],a.prototype,\"uncompressedTextureDownsamplingEnabled\",void 0),a=t([s(\"esri.views.3d.support.QualitySettings.SceneServiceSettings\")],a);let n=class extends e{constructor(){super(...arguments),this.lodBias=0,this.angledSplitBias=1,this.vtlContentZoom=1,this.reduceTileLevelDifferences=!0}};t([i()],n.prototype,\"lodBias\",void 0),t([i()],n.prototype,\"angledSplitBias\",void 0),t([i()],n.prototype,\"vtlContentZoom\",void 0),t([i()],n.prototype,\"reduceTileLevelDifferences\",void 0),n=t([s(\"esri.views.3d.support.QualitySettings.TiledSurfaceSettings\")],n);let d=class extends e{constructor(){super(...arguments),this.pixelRatio=1,this.maxTotalNumberOfFeatures=5e4}};t([i()],d.prototype,\"pixelRatio\",void 0),t([i()],d.prototype,\"maxTotalNumberOfFeatures\",void 0),d=t([s(\"esri.views.3d.support.QualitySettings.HeatmapSettings\")],d);let l=class extends e{constructor(){super(...arguments),this.graphics3D=new r,this.sceneService=new a,this.tiledSurface=new n,this.heatmap=new d,this.fadeDuration=o(400),this.antialiasingEnabled=!0,this.physicallyBasedRenderingEnabled=!1,this.highQualityTransparency=!0,this.highResolutionAtmosphere=!1,this.reflections=!1,this.ambientOcclusion=!1,this.memoryLimit=750,this.additionalCacheMemory=0,this.frameRate=void 0,this.maximumPixelRatio=1/0}};t([i({type:r})],l.prototype,\"graphics3D\",void 0),t([i({type:a})],l.prototype,\"sceneService\",void 0),t([i({type:n})],l.prototype,\"tiledSurface\",void 0),t([i({type:d})],l.prototype,\"heatmap\",void 0),t([i()],l.prototype,\"fadeDuration\",void 0),t([i()],l.prototype,\"antialiasingEnabled\",void 0),t([i()],l.prototype,\"physicallyBasedRenderingEnabled\",void 0),t([i()],l.prototype,\"highQualityTransparency\",void 0),t([i()],l.prototype,\"highResolutionAtmosphere\",void 0),t([i()],l.prototype,\"reflections\",void 0),t([i()],l.prototype,\"ambientOcclusion\",void 0),t([i()],l.prototype,\"memoryLimit\",void 0),t([i()],l.prototype,\"additionalCacheMemory\",void 0),t([i()],l.prototype,\"frameRate\",void 0),t([i()],l.prototype,\"maximumPixelRatio\",void 0),l=t([s(\"esri.views.3d.support.QualitySettings\")],l);const c=l;export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{makeHandle as r}from\"../../../core/handleUtils.js\";import{removeMaybe as s,destroyMaybe as o}from\"../../../core/maybe.js\";import{watch as a,sync as i}from\"../../../core/reactiveUtils.js\";import{addFrameTask as m}from\"../../../core/scheduling.js\";import{signal as d}from\"../../../core/signal.js\";import{secondsFromMilliseconds as l}from\"../../../core/time.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{maxDownloadSlots as h,downloadSlotsPerClient as p}from\"./index.js\";import{newMemoryController as c}from\"./MemoryController.js\";import{StreamDataLoader as _}from\"./StreamDataLoader.js\";import{ImmediateTask as g,newScheduler as y,TaskPriority as v}from\"../../support/Scheduler.js\";let f=class extends t{constructor(){super(...arguments),this.updating=!1}};function j(e){return new T({view:e})}e([n({readOnly:!0})],f.prototype,\"updating\",void 0),f=e([u(\"esri.views.3d.support.ResourceController.ResourceControllerMain\")],f);let T=class extends f{constructor(){super(...arguments),this._immediateTask=g,this._normalTask=g,this._updatingObjects=d([]),this._frameTask=null}get immediate(){return this._immediateTask}get normal(){return this._normalTask}initialize(){this._scheduler=y(),this._memoryController=c(this.view),this._streamDataLoader=new _,this._streamDataLoader.setup(h,p,this._scheduler),this.addHandles([a((()=>this.view.state?.mode),(e=>{null!=e&&(this._scheduler.state=e)}),i),a((()=>this.view.stationary),(()=>this._stationaryChangedHandler()))]),this._frameTask=m({update:e=>this._frame(e)}),this._immediateTask=this._scheduler.registerTask(v.RESOURCE_CONTROLLER_IMMEDIATE),this._normalTask=this._scheduler.registerTask(v.RESOURCE_CONTROLLER)}destroy(){this._immediateTask.remove(),this._normalTask.remove(),this._frameTask=s(this._frameTask),this._streamDataLoader=o(this._streamDataLoader),this._memoryController=o(this._memoryController),this._scheduler=o(this._scheduler),this.view=null}get updating(){return!!(this._memoryController?.updating||this._streamDataLoader?.updating||this._immediateTask?.updating)||this._updatingObjects?.value.some((e=>e.updating))}get scheduler(){return this._scheduler}get memoryController(){return this._memoryController}createStreamDataRequester(e){const t=this._streamDataLoader;return{request:(r,s,o)=>t.request(r,s,e,o),get busy(){return!t.hasDownloadSlots(e)}}}addUpdatingObject(e){const t=this._updatingObjects;return t.value=[...t.value,e],r((()=>{t.value=t.value.filter((t=>t!==e))}))}_frame(e){this.view.suspended||this.view.stateManager&&(this.view.stateManager.step(l(e.deltaTime)),!this._scheduler)||(this._memoryController.update(),this._scheduler.updateBudget(e)&&this._scheduler.frame())}_stationaryChangedHandler(){this.memoryController.resetStableQuality()}get test(){return{getQueueStats:e=>this._streamDataLoader.test.loadQueue.getStatsForType(e)}}};e([n()],T.prototype,\"view\",void 0),e([n()],T.prototype,\"_scheduler\",void 0),e([n()],T.prototype,\"_memoryController\",void 0),e([n()],T.prototype,\"_streamDataLoader\",void 0),e([n()],T.prototype,\"_immediateTask\",void 0),e([n()],T.prototype,\"_normalTask\",void 0),e([n()],T.prototype,\"_updatingObjects\",void 0),e([n({readOnly:!0})],T.prototype,\"updating\",null),T=e([u(\"esri.views.3d.support.ResourceController\")],T);export{j as newResourceController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.layer=null,this.memory=0,this.displayedNumberOfFeatures=0,this.maximumNumberOfFeatures=null,this.totalNumberOfFeatures=null,this.layer=e.layer;const t=e.performanceInfo;this.memory=t.usedMemory,this.displayedNumberOfFeatures=t.displayedFeatures,this.maximumNumberOfFeatures=t.maximumFeatures,this.totalNumberOfFeatures=t.totalFeatures}}export{e as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ByteSizeUnit as e}from\"../../../core/ByteSizeUnit.js\";import{isPerformanceInfoLayerView as r}from\"../layers/support/LayerViewPerformanceInfo.js\";import o from\"./LayerPerformanceInfo.js\";class s{constructor(s){if(this.totalMemory=0,this.usedMemory=0,this.quality=1,this.load=0,this.terrainMemory=0,this.edgesMemory=0,this.layerPerformanceInfos=new Array,this.cachedMemory=0,this.fboMemory=0,null!=s.resourceController){const r=s.resourceController.memoryController;this.totalMemory=(r.maxMemory??0)*e.MEGABYTES,this.usedMemory=Math.round(r.usedMemory*this.totalMemory),this.quality=s.quality,this.load=s.resourceController.scheduler.load,this.cachedMemory=r.usedCacheMemory}this.terrainMemory=s.basemapTerrain?.usedMemory??0,this.edgesMemory=s._stage.renderer.usedMemory.edges??0,this.fboMemory=s._stage.renderer.usedMemory.fbos??0,s.allLayerViews.items.forEach((e=>{r(e)&&this.layerPerformanceInfos.push(new o(e))})),this.layerPerformanceInfos.sort(((e,r)=>r.memory-e.memory))}}export{s as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{removeMaybe as t}from\"../../../../core/maybe.js\";import{throwIfAborted as o,onAbort as e}from\"../../../../core/promiseUtils.js\";import{DefaultLoadingContext as r}from\"../../glTF/DefaultLoadingContext.js\";import{loadGLTF as s}from\"../../glTF/loader.js\";import{load as l}from\"./wosrLoader.js\";class a{constructor(t){this._gltfLoading=new Map,this._wosrLoading=new Map,this._gltfMemCache=t(\"gltf-resources\",(()=>{})),this._wosrMemCache=t(\"wosr-resources\",(()=>{}))}destroy(){this._gltfLoading.forEach((t=>t.abortController.abort())),this._wosrLoading.forEach((t=>t.abortController.abort())),this._gltfMemCache.destroy(),this._wosrMemCache.destroy()}loadGLTF(t,o,e){const l=e?`gltfPBR:${t}`:`gltf:${t}`,a=this._gltfMemCache.get(l);return null!=a?Promise.resolve(a):i(this._gltfLoading,this._gltfMemCache,l,(o=>s(new r(o.streamDataRequester),t,o,e)),o)}loadWOSR(t,o){const e=`wosr:${t}:${o.disableTextures}`,r=this._wosrMemCache.get(e);return null!=r?Promise.resolve(r):i(this._wosrLoading,this._wosrMemCache,e,(o=>l(t,o)),o)}}async function i(r,s,l,a,i){o(i);const f=e(i,(()=>n(r,l)));let c=r.get(l);if(c)c.refCount++;else{const t=new AbortController;c={refCount:1,abortController:t,promise:a({...i,signal:t.signal})},r.set(l,c)}try{const t=await c.promise;return s.put(l,t,t.size),r.delete(l),o(i),t}finally{t(f)}}function n(t,o){const e=t.get(o);if(null!=e){if(--e.refCount>0)return}t.delete(o),null!=e&&e.abortController.abort()}export{a as ObjectResourceCache};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{TaskPriority as o,ImmediateTask as u}from\"../../support/Scheduler.js\";let i=class extends t{constructor(e,t){super({}),this._stage=e,this._textureRequests=new Map,this._frameTask=t?.registerTask(o.TEXTURE_UNLOAD)??u}normalizeCtorArgs(){return{}}destroy(){super.destroy(),this._frameTask?.remove(),this._textureRequests?.forEach((e=>this._releaseTextureRequest(e))),this._textureRequests?.clear()}get updating(){return this._frameTask.updating}fromData(e,t){const r=this.makeUid(e);let s=this._textureRequests.get(r);if(!s){const e=new a;e.texture=t(),this._stage&&(e.texture.load(this._stage.renderView.renderingContext),this._stage.add(e.texture)),this._textureRequests.set(r,e),s=e}return s.referenceCount++,new n(r,s.texture,(()=>this._release(r)))}_release(e){const t=this._textureRequests.get(e);t?(t.referenceCount<1&&console.warn(\"TextureCollection: reference count is < 1 for \"+e),t.referenceCount--,t.referenceCount<1&&this._frameTask.schedule((()=>this._releaseNow(e)))):console.warn(`TextureCollection: texture doesn't exist: '${e}'`)}get test(){return{textureRequests:this._textureRequests}}_releaseNow(e){if(!this._textureRequests)return;const t=this._textureRequests.get(e);!t||t.referenceCount>0||(t.texture?.unload(),this._releaseTextureRequest(t),this._textureRequests.delete(e))}_releaseTextureRequest(e){e.texture?this._stage?.remove(e.texture):e.abortController&&(e.abortController.abort(),e.abortController=null)}makeUid(e,t=null){return null!=t?`${e}.${t}px`:e}};e([r()],i.prototype,\"_frameTask\",void 0),e([r()],i.prototype,\"updating\",null),i=e([s(\"esri.views.3d.support.TextureCollection\")],i);class n{constructor(e,t,r){this.uid=e,this.texture=t,this.release=r}}class a{constructor(){this.referenceCount=0}}export{i as TextureCollection,a as TextureRequest,n as TextureResult};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{throwIfAborted as e,whenOrAbort as t}from\"../../../core/promiseUtils.js\";import{isSVG as r}from\"../../../core/urlUtils.js\";import{TextureCollection as s,TextureRequest as i,TextureResult as o}from\"./TextureCollection.js\";import{Texture as n}from\"../webgl-engine/lib/Texture.js\";import{TextureWrapMode as l}from\"../../webgl/enums.js\";class a extends s{constructor(e,t,r){super(t,r),this._streamDataRequester=e}async fromUrl(r,s,n){e(n);const l=n?.signal,a=this.makeUid(r,s);let h=this._textureRequests.get(a);if(!h){const e=new AbortController,t=this._streamDataRequester.request(r,\"image\",{uid:a,signal:e.signal});h=new i,h.abortController=e;const n=h;this._textureRequests.set(a,h),h.textureAsync=t.then((async e=>{const t=this._createTexture(r,e,s);return n.texture=t,n.abortController=null,await t.load(this._stage.renderView.renderingContext),this._stage.add(t),new o(a,t,(()=>this._release(a)))}),(e=>{throw n.abortController=null,e}))}h.referenceCount++;try{return await t(h.textureAsync,l)}catch(u){throw this._release(a),u}}_createTexture(e,t,s){const i={width:t.width,height:t.height,wrap:{s:l.CLAMP_TO_EDGE,t:l.CLAMP_TO_EDGE},preMultiplyAlpha:!0,reloadable:!0};if(r(e)){if(s||0===t.width&&0===t.height){const e=t.width?t.height/t.width:1;s=s||64,e>1?(t.width=Math.round(s/e),t.height=s):(t.width=s,t.height=Math.round(s*e))}this._stage.renderView?.renderingContext.driverTest.svgPremultipliesAlpha.result&&(i.preMultiplyAlpha=!1)}return new n(t,i)}}export{a as StreamTextureCollection};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{removeUnordered as e}from\"../../../core/arrayUtils.js\";import t from\"../../../core/Handles.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{destroyMaybe as r}from\"../../../core/maybe.js\";import{watch as i,sync as n}from\"../../../core/reactiveUtils.js\";import{getReferenceEllipsoid as c}from\"../../../geometry/ellipsoidUtils.js\";import{ObjectResourceCache as a}from\"../layers/graphics/ObjectResourceCache.js\";import{ClientType as o}from\"./index.js\";import{StreamTextureCollection as p}from\"./StreamTextureCollection.js\";import{getSettings as l,getLabelSettings as h}from\"../webgl-engine/lib/screenSizePerspectiveUtils.js\";class S{constructor(e){this.streamDataRequester=null,this._graphicsOwners=[],this._screenSizePerspectiveHandles=null,this.cimSymbolRasterizer=null,this._viewState=e.viewState,this._view=e.view,this._pointsOfInterest=e.pointsOfInterest,this.streamDataRequester=e.resourceController.createStreamDataRequester(o.SYMBOLOGY),this.objectResourceCache=new a(((t,s)=>e.resourceController.memoryController.newCache(t,s))),this.textures=new p(this.streamDataRequester,e.view._stage,e.resourceController.scheduler);const t=c(this._view.spatialReference).radius;this.screenSizePerspectiveSettings=l(e.viewingMode,t),this.screenSizePerspectiveSettingsLabels=h(e.viewingMode,t)}destroy(){this.textures.destroy(),this.streamDataRequester=null}addGraphicsOwner(t){if(!t)return s();this._graphicsOwners.push(t);const r=i((()=>t.layer?.screenSizePerspectiveEnabled),(()=>this._updateScreenSizePerspectiveEnabled()));return this._updateScreenSizePerspectiveEnabled(),s((()=>{r.remove(),e(this._graphicsOwners,t),this._updateScreenSizePerspectiveEnabled()}))}_updateScreenSizePerspectiveEnabled(){const e=this._graphicsOwners.some((e=>!0===e.layer?.screenSizePerspectiveEnabled));if(e&&!this._screenSizePerspectiveHandles){this._screenSizePerspectiveHandles=new t;const e=()=>this._updateScreenSizePerspectiveSettings();this._screenSizePerspectiveHandles.add([i((()=>this._pointsOfInterest.centerOnSurfaceInfrequent.distance),e,n),this._viewState.events.on(\"camera-projection-changed\",e)]),this._updateScreenSizePerspectiveSettings()}else e||(this._screenSizePerspectiveHandles=r(this._screenSizePerspectiveHandles))}_updateScreenSizePerspectiveSettings(){const e=this._pointsOfInterest;d.distance=e.centerOnSurfaceInfrequent.distance,d.fovY=this._viewState.camera.fovY,this.screenSizePerspectiveSettings.update(d),this.screenSizePerspectiveSettingsLabels.update(d),this._view._stage.renderView.requestRender()}get test(){return{screenSizePerspectiveHandles:this._screenSizePerspectiveHandles}}}const d={distance:0,fovY:0};export{S as SharedSymbolResources};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import o from\"../../../Graphic.js\";import\"../../../symbols.js\";import r from\"../../../core/Collection.js\";import i from\"../../../symbols/PointSymbol3D.js\";import s from\"../../../symbols/IconSymbol3DLayer.js\";import e from\"../../../symbols/TextSymbol3DLayer.js\";import t from\"../../../geometry/Point.js\";class m{constructor(o,t,m=\"\"){this.graphics=o,this._symbol=new i({symbolLayers:new r([new s({material:{color:t},outline:{color:[255,255,255],size:1},resource:{primitive:\"circle\"}}),new e({text:m,halo:{color:\"white\",size:1/.75},material:{color:t},size:12})])})}show(r,i){if(null==i)return;this.hide();const s=new t({x:r[0],y:r[1],z:r[2],spatialReference:i});this._graphic=new o({geometry:s,symbol:this._symbol}),this.graphics.add(this._graphic)}hide(){null!=this._graphic&&(this.graphics.remove(this._graphic),this._graphic=null)}}export{m as PointGraphics};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";let e=class extends r{constructor(o){super(o)}};o([s({constructOnly:!0})],e.prototype,\"renderCoordsHelper\",void 0),o([s({constructOnly:!0})],e.prototype,\"surface\",void 0),o([s({constructOnly:!0})],e.prototype,\"state\",void 0),e=o([t(\"esri.views.3d.support.pointsOfInterest.PointOfInterest\")],e);export{e as PointOfInterest};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{destroyMaybe as e}from\"../../../../core/maybe.js\";import{isAbortError as r}from\"../../../../core/promiseUtils.js\";import{on as o}from\"../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{q as n,j as a,c as l}from\"../../../../chunks/vec32.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import d from\"../../../../geometry/Point.js\";import{ViewingMode as p}from\"../../../ViewingMode.js\";import{distanceToScale as h}from\"../cameraUtils.js\";import{PropertiesPool as u}from\"../PropertiesPool.js\";import{PointOfInterest as m}from\"./PointOfInterest.js\";import{Yield as _}from\"../../../support/Yield.js\";const g=Array;let y=class extends m{constructor(t){super(t),this._dirty=!1,this._propertiesPool=new u({location:d,renderLocation:g},this),this._estimatedSurfaceAltitude=0,this._pendingElevationQueryController=null,this.renderLocation=c(),this._tmpPoint=new d}initialize(){if(this.scheduler&&this.addHandles(this.scheduler.registerTask(this.task,this)),this.runTask(),this.map){const t=()=>this._setDirty();this.addHandles(o((()=>this.map?.ground?.layers),\"change\",t,{onListenerAdd:t,onListenerRemove:t}))}this._updateRenderLocation()}destroy(){this._cancelPendingRequest(),this._propertiesPool=e(this._propertiesPool)}get _camera(){return this.state.contentCamera}get location(){const t=this._propertiesPool.get(\"location\");return t.spatialReference=this.state.spatialReference,this.renderCoordsHelper.fromRenderCoords(this.renderLocation,t),t}get scale(){const t=this._camera,e=n(t.eye,this.renderLocation),r={renderCoordsHelper:this.renderCoordsHelper,state:{camera:t}};return h(r,e,0)}get updating(){return this._dirty||null!=this._pendingElevationQueryController}updateRenderLocation(){this._setDirty(),this._updateRenderLocation()}_setDirty(){this._dirty||(this._dirty=!0,this.notifyChange(\"updating\"))}_cancelPendingRequest(){const t=this._pendingElevationQueryController;t&&(this._pendingElevationQueryController=null,t.abort(),this.notifyChange(\"updating\"))}get running(){return!this._pendingElevationQueryController&&this._dirty}runTask(){if(this._cancelPendingRequest(),this._dirty=!1,this.notifyChange(\"updating\"),!this.map?.ground)return this._updateSurfaceAltitude(0),_;const t=this.state.spatialReference;this._tmpPoint.spatialReference=t,this.renderCoordsHelper.fromRenderCoords(this._camera.eye,this._tmpPoint);const e=(this._tmpPoint.z??0)>C&&this.renderCoordsHelper.viewingMode===p.Global&&(t.isWGS84||t.isWebMercator);let o=new AbortController;return this.map.ground.queryElevation(this._tmpPoint,{signal:o.signal,cache:this.cache,minDemResolution:e?v:0}).then((t=>this._updateSurfaceAltitude(t.geometry.z??0))).catch((t=>{r(t)||this._updateSurfaceAltitude(0)})).catch((()=>{})).then((()=>{this._pendingElevationQueryController===o&&(this._pendingElevationQueryController=null,this.notifyChange(\"updating\")),o=null})),this._pendingElevationQueryController=o,_}_updateSurfaceAltitude(t){this._estimatedSurfaceAltitude!==t&&(this._estimatedSurfaceAltitude=t,this._updateRenderLocation())}_updateRenderLocation(){this.renderCoordsHelper.setAltitude(f,this._estimatedSurfaceAltitude,this._camera.eye),a(this._get(\"renderLocation\"),f)||(this._set(\"renderLocation\",l(this._propertiesPool.get(\"renderLocation\"),f)),this.notifyChange(\"renderLocation\"))}};t([i({constructOnly:!0})],y.prototype,\"scheduler\",void 0),t([i({constructOnly:!0})],y.prototype,\"cache\",void 0),t([i({constructOnly:!0})],y.prototype,\"task\",void 0),t([i()],y.prototype,\"location\",null),t([i({constructOnly:!0})],y.prototype,\"map\",void 0),t([i()],y.prototype,\"renderLocation\",void 0),t([i()],y.prototype,\"scale\",null),t([i()],y.prototype,\"updating\",null),y=t([s(\"esri.views.3d.support.pointsOfInterest.CameraOnSurface\")],y);const f=c(),C=1e5,v=1e6;export{y as CameraOnSurface};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{clamp as e}from\"../../../../core/mathUtils.js\";import{removeMaybe as r,destroyMaybe as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as a,q as n,h as c,g as u,j as l,p as d}from\"../../../../chunks/vec32.js\";import{create as p}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as h}from\"../../../../geometry/ellipsoidUtils.js\";import f from\"../../../../geometry/Point.js\";import{projectBoundingRect as m}from\"../../../../geometry/projection/projectBoundingRect.js\";import{create as _}from\"../../../../geometry/support/aaBoundingRect.js\";import{debugFlags as S}from\"../debugFlags.js\";import{PropertiesPool as g}from\"../PropertiesPool.js\";import{PointOfInterest as y}from\"./PointOfInterest.js\";import{Yield as A}from\"../../../support/Yield.js\";const j=Array;let L=class extends y{constructor(t){super(t),this._propertiesPool=new g({location:f,renderLocation:j},this),this._currentSurfaceAltitude=0,this._latestSurfaceAltitude=0,this.distance=0,this.renderLocation=p(),this.updating=!1}initialize(){this._frameWorker=this.scheduler.registerTask(this.task,this),this.runTask()}destroy(){this._frameWorker=r(this._frameWorker),this._propertiesPool=s(this._propertiesPool)}get _camera(){return this.state.contentCamera}get location(){const t=this._propertiesPool.get(\"location\");return t.spatialReference=this.state.spatialReference,this.renderCoordsHelper.fromRenderCoords(this.renderLocation,t),t}updateRenderLocation(){this.updating=!0,this._updateRenderLocation()}get estimatedSurfaceAltitude(){return this._latestSurfaceAltitude}get running(){return this.updating}runTask(){return this._latestSurfaceAltitude=this.estimateSurfaceAltitudeAtCenter(),this._updateRenderLocation(),this.updating=!1,A}_updateRenderLocation(){const t=C;let e=this._calculateSurfaceIntersection(this._currentSurfaceAltitude,t);const r=this._currentSurfaceAltitude!==this._latestSurfaceAltitude;!e&&r&&(e=this._calculateSurfaceIntersection(this._latestSurfaceAltitude,t),e&&(this._currentSurfaceAltitude=this._latestSurfaceAltitude));const s=v;e&&this._latestSurfaceAltitudeChangesDistanceSignificantly(t,s)&&(a(t,s),this._currentSurfaceAltitude=this._latestSurfaceAltitude),e?this.distance=n(this._camera.eye,t):(c(t,this._camera.viewForward,this._get(\"distance\")),u(t,t,this._camera.eye)),l(this._get(\"renderLocation\"),t)||this._set(\"renderLocation\",a(this._propertiesPool.get(\"renderLocation\"),t))}_calculateSurfaceIntersection(t,r){const s=this._camera;if(!this.renderCoordsHelper.intersectInfiniteManifold(s.ray,t,r))return!1;if(this.state.isGlobal){const e=h(this.renderCoordsHelper.spatialReference).radius,i=e+t,o=d(s.eye),a=o<i*i,l=n(s.eye,r);if(a&&l>e/4){const t=i-Math.sqrt(o);return c(r,s.viewForward,t),u(r,r,s.eye),!0}}else{const t=this.surface?.ready?this.surface.extent:null;null!=t&&m(t,this.surface?.spatialReference,I,this.renderCoordsHelper.spatialReference)&&(r[0]=e(r[0],I[0],I[2]),r[1]=e(r[1],I[1],I[3]))}return!0}_latestSurfaceAltitudeChangesDistanceSignificantly(t,e){if(this._latestSurfaceAltitude===this._currentSurfaceAltitude||null==t)return!1;if(this._calculateSurfaceIntersection(this._latestSurfaceAltitude,e)){if(S.TESTS_DISABLE_OPTIMIZATIONS)return!0;const r=this._camera.eye,s=n(r,t),i=n(r,e);if(Math.abs(i-s)/s>R)return!0}return!1}};t([i({constructOnly:!0})],L.prototype,\"scheduler\",void 0),t([i({constructOnly:!0})],L.prototype,\"task\",void 0),t([i()],L.prototype,\"distance\",void 0),t([i({constructOnly:!0})],L.prototype,\"estimateSurfaceAltitudeAtCenter\",void 0),t([i({readOnly:!0})],L.prototype,\"location\",null),t([i({readOnly:!0})],L.prototype,\"renderLocation\",void 0),t([i()],L.prototype,\"updating\",void 0),L=t([o(\"esri.views.3d.support.pointsOfInterest.CenterOnSurface\")],L);const R=.05,C=p(),v=p(),I=_();export{L as CenterOnSurface};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Evented.js\";import t from\"../../../../core/Handles.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";class n{constructor(s){this._handles=new t,this.events=new e,this._contentLayerViews=s.contentLayerViews,this._handles.add(this._contentLayerViews.on(\"change\",(e=>this._layerViewsChanged(e)))),this._layerViewsChanged({added:this._contentLayerViews.toArray(),removed:[],moved:[],target:this._contentLayerViews})}destroy(){this._handles=s(this._handles),this._contentLayerViews.destroy()}_layerViewsChanged(e){e.added.forEach((e=>{\"esri.views.3d.layers.SceneLayerView3D\"===e.declaredClass&&this._handles.add(e.on(\"visible-geometry-changed\",(()=>this._contentChanged())),e.uid)})),e.removed.forEach((e=>this._handles.remove(e.uid)))}_contentChanged(){this.events.emit(\"request-update\",a)}}const a={};export{n as ContentGeometryUpdates};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{clamp as t}from\"../../../../core/mathUtils.js\";import{destroyMaybe as r}from\"../../../../core/maybe.js\";import{watch as o}from\"../../../../core/reactiveUtils.js\";import{createRenderScreenPointArray3 as i}from\"../../../../core/screenUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{k as c,G as a,c as p,m as d,f as l,n as u}from\"../../../../chunks/vec32.js\";import{create as h}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import m from\"../../../../geometry/Point.js\";import{wrap as f}from\"../../../../geometry/support/ray.js\";import{PropertiesPool as g}from\"../PropertiesPool.js\";import{PointOfInterest as y}from\"./PointOfInterest.js\";import{PaddingSide as P}from\"../../webgl-engine/lib/rendererUtils.js\";import{TaskPriority as _}from\"../../../support/Scheduler.js\";import{Yield as j}from\"../../../support/Yield.js\";const L=Array;let O=class extends y{constructor(e){super(e),this._propertiesPool=new g({location:m,renderLocation:L},this),this._dirty=!0,this.renderLocation=this._propertiesPool.get(\"renderLocation\")}initialize(){this.addHandles([o((()=>this.centerOnSurface.renderLocation),(()=>this.updateRenderLocation())),o((()=>this.state.contentCamera),(()=>this.updateRenderLocation()))]),this.scheduler&&this.addHandles(this.scheduler.registerTask(_.POINT_OF_INTEREST_FREQUENT,this))}destroy(){this._propertiesPool=r(this._propertiesPool)}get updating(){return this._dirty||this.centerOnSurface.updating}get location(){const e=this._propertiesPool.get(\"location\");return e.spatialReference=this.state.spatialReference,this.renderCoordsHelper.fromRenderCoords(this.renderLocation,e),e}get worldUnitsPerContentPixel(){const{camera:e,contentPixelRatio:t}=this.state;return e.computeRenderPixelSizeAt(this.renderLocation)*(e.pixelRatio/t)}get running(){return this._dirty}runTask(){const e=this._get(\"renderLocation\"),r=this.centerOnSurface.renderLocation,o=this.renderCoordsHelper,i=this.state.contentCamera;this._dirty=!1,o.worldUpAtPosition(r,S);const s=Math.max(0,(Math.acos(c(S,i.viewForward))-.5*Math.PI)*(i.aboveGround?1:-1));if(Number.isNaN(s)){if(!e||!a(e,r)){const e=this._propertiesPool.get(\"renderLocation\");p(e,r),this._set(\"renderLocation\",e)}return j}const n=1-t(s/(.5*Math.PI),0,1),l=n*n*n;this._calculateScreenHorizontalEdgeOnSurface(C);const u=this._propertiesPool.get(\"renderLocation\");return d(u,r,C,l),e&&a(e,u)||this._set(\"renderLocation\",u),j}_calculateScreenHorizontalEdgeOnSurface(e){const t=this.state.contentCamera,r=t.getRenderCenter(i());if(r[1]=t.aboveGround?t.padding[P.BOTTOM]:t.fullHeight-t.padding[P.TOP],this.estimateSurfaceIntersectionAtRenderPoint(r,e))return e;const o=this.renderCoordsHelper.getAltitude(this.centerOnSurface.renderLocation);if(t.unprojectFromRenderScreen(r,R)){l(R,R,t.eye);const r=u(R,R);if(this.renderCoordsHelper.intersectInfiniteManifold(f(t.eye,r),o,e))return e}return this.renderCoordsHelper.setAltitude(e,o,t.eye)}updateRenderLocation(){this._dirty=!0}};e([s()],O.prototype,\"_dirty\",void 0),e([s({constructOnly:!0})],O.prototype,\"scheduler\",void 0),e([s({constructOnly:!0})],O.prototype,\"centerOnSurface\",void 0),e([s({constructOnly:!0})],O.prototype,\"estimateSurfaceIntersectionAtRenderPoint\",void 0),e([s()],O.prototype,\"updating\",null),e([s()],O.prototype,\"location\",null),e([s()],O.prototype,\"renderLocation\",void 0),e([s()],O.prototype,\"worldUnitsPerContentPixel\",null),O=e([n(\"esri.views.3d.support.pointsOfInterest.Focus\")],O);const S=h(),R=h(),C=h();export{O as Focus};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{isAbortError as r}from\"../../../../core/promiseUtils.js\";import{watch as o,on as s}from\"../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import n from\"../../../../geometry/Point.js\";import{center as c}from\"../../../../geometry/support/aaBoundingRect.js\";let u=class extends t{get surface(){return this.view.map?.ground}get surfaceView(){return this.view.basemapTerrain}get renderLocation(){if(!this.location)return null;const e=l();return this.view.renderCoordsHelper.toRenderCoords(this.location,e),e}constructor(e){super(e),this.location=null,this._updateController=null}initialize(){this.view.state.isLocal&&(this.addHandles([o((()=>[this.surfaceView?.spatialReference,this.surfaceView?.extent]),(()=>this._update())),s((()=>this.surface?.layers),\"change\",(()=>this._update()))]),this._update())}_update(){if(this._updateController&&(this._updateController.abort(),this._updateController=null),null==this.surfaceView?.extent||null==this.surfaceView.spatialReference)return void this._set(\"location\",null);const e=c(this.surfaceView.extent),t=new n({x:e[0],y:e[1],z:0,spatialReference:this.surfaceView.spatialReference});this.surface&&this.surface.layers.length>0?(this._set(\"location\",null),this._updateController=new AbortController,this.surface.queryElevation(t,{noDataValue:0,signal:this._updateController.signal,cache:this.cache}).then((e=>{this._updateController=null,this._set(\"location\",e.geometry)})).catch((e=>{r(e)||e&&\"elevation-query:invalid-layer\"===e.name||console.error(\"StableSurfaceCenter failed to update: \",e)}))):this._set(\"location\",t)}};e([i({constructOnly:!0})],u.prototype,\"view\",void 0),e([i({constructOnly:!0})],u.prototype,\"cache\",void 0),e([i()],u.prototype,\"surface\",null),e([i()],u.prototype,\"surfaceView\",null),e([i({readOnly:!0})],u.prototype,\"location\",void 0),e([i({readOnly:!0})],u.prototype,\"renderLocation\",null),u=e([a(\"esri.views.3d.support.pointsOfInterest.StableSurfaceCenter\")],u);export{u as StableSurfaceCenter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{empty as n,expand as c,intersects as a}from\"../../../../geometry/support/aaBoundingRect.js\";import{TaskPriority as p}from\"../../../support/Scheduler.js\";import{Yield as d}from\"../../../support/Yield.js\";let u=class extends t{constructor(e){super(e),this._tileGeometryUpdateExtent=n(),this._tileGeometryUpdateSpatialReference=null,this.events=new r,this.updating=!1}initialize(){this.addHandles([this.surface.on(\"elevation-change\",(e=>this._tileGeometryChanged(e))),this.scheduler.registerTask(p.SURFACE_GEOMETRY_UPDATES,this)])}get running(){return this.updating}runTask(){return this.updating?(this._tileGeometryUpdateSpatialReference&&this._centerIntersectsExtent(this._tileGeometryUpdateExtent,this._tileGeometryUpdateSpatialReference)&&this.events.emit(\"request-update\",l),n(this._tileGeometryUpdateExtent),this._set(\"updating\",!1),d):d}_tileGeometryChanged(e){this._tileGeometryUpdateSpatialReference=e.spatialReference,c(this._tileGeometryUpdateExtent,e.extent,this._tileGeometryUpdateExtent),this._set(\"updating\",!0)}_furthestCenterOnSurface(){let e=this.centerOnSurfaces[0];for(let t=1;t<this.centerOnSurfaces.length;t++){const r=this.centerOnSurfaces[t];r.distance>e.distance&&(e=r)}return e}_centerIntersectsExtent(e,t){const r=this.state.contentCamera.eye,s=f,o=this._furthestCenterOnSurface();return this.renderCoordsHelper.fromRenderCoords(r,h,t),this.renderCoordsHelper.fromRenderCoords(o.renderLocation,m,t),h[0]<m[0]?(s[0]=h[0],s[2]=m[0]):(s[0]=m[0],s[2]=h[0]),h[1]<m[1]?(s[1]=h[1],s[3]=m[1]):(s[1]=m[1],s[3]=h[1]),a(s,e)}};e([s({constructOnly:!0})],u.prototype,\"state\",void 0),e([s({constructOnly:!0})],u.prototype,\"centerOnSurfaces\",void 0),e([s({constructOnly:!0})],u.prototype,\"renderCoordsHelper\",void 0),e([s({constructOnly:!0})],u.prototype,\"scheduler\",void 0),e([s({constructOnly:!0})],u.prototype,\"surface\",void 0),e([s({readOnly:!0})],u.prototype,\"updating\",void 0),u=e([o(\"esri.views.3d.support.pointsOfInterest.SurfaceGeometryUpdates\")],u);const l={},h=i(),m=i(),f=n();export{u as SurfaceGeometryUpdates};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{watch as r,sync as s,when as n,on as i,initial as o}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{g as u,j as h,c as d}from\"../../../../chunks/vec32.js\";import{create as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as p}from\"../../../../geometry/support/ray.js\";import{debugFlags as _}from\"../debugFlags.js\";import{PointGraphics as m}from\"../debugUtils.js\";import{PropertiesPool as l}from\"../PropertiesPool.js\";import{fromRenderAtEye as C}from\"../geometryUtils/ray.js\";import{CameraOnSurface as y}from\"./CameraOnSurface.js\";import{CenterOnSurface as A}from\"./CenterOnSurface.js\";import{ContentGeometryUpdates as O}from\"./ContentGeometryUpdates.js\";import{Focus as g}from\"./Focus.js\";import{StableSurfaceCenter as w}from\"./StableSurfaceCenter.js\";import{SurfaceGeometryUpdates as I}from\"./SurfaceGeometryUpdates.js\";import{newIntersector as S}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as v}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{terrainId as b}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{TaskPriority as R}from\"../../../support/Scheduler.js\";let P=class extends t{constructor(e){super(e),this.renderPointOfView=f(),this._pois=new Array,this._debugCenters=new Map,this._tmpRay=p(),this._centerRayDirty=!0,this._surfaceAltitudeAtCenter=0,this._surfaceAltitudeAtCenterDirty=!0,this._contentAltitudeAtCenter=0,this._contentAltitudeAtCenterDirty=!0,this._propertiesPool=new l({renderPointOfView:T},this)}initialize(){const{state:e,basemapTerrain:t,renderCoordsHelper:a,map:c}=this.view;this._surfaceIntersector=S(e.viewingMode),e.isGlobal?this._surfaceIntersector.options.backfacesTerrain=!1:this._surfaceIntersector.options.backfacesTerrain=!0,this._surfaceIntersector.options.invisibleTerrain=!1,this._surfaceIntersector.options.store=v.MIN,this._contentIntersector=S(e.viewingMode);const u=()=>this._estimateSurfaceAltitudeAtCenter(),h=this.view.resourceController.scheduler,d=this.view.basemapTerrain?.elevationQueryCache,f={state:e,scheduler:h,surface:t,renderCoordsHelper:a};this._set(\"centerOnSurfaceInfrequent\",new A({...f,task:R.POINT_OF_INTEREST_INFREQUENT,estimateSurfaceAltitudeAtCenter:u})),this._set(\"centerOnSurfaceFrequent\",new A({...f,task:R.POINT_OF_INTEREST_FREQUENT,estimateSurfaceAltitudeAtCenter:u})),this._set(\"centerOnContent\",new A({...f,task:R.POINT_OF_INTEREST_FREQUENT,estimateSurfaceAltitudeAtCenter:()=>this._estimateContentAltitudeAtCenter()})),this._set(\"cameraOnSurface\",new y({...f,cache:d,task:R.POINT_OF_INTEREST_INFREQUENT,map:c})),this._set(\"surfaceGeometryUpdates\",new I({...f,centerOnSurfaces:[this.centerOnSurfaceFrequent,this.centerOnContent,this.centerOnSurfaceInfrequent]})),this._set(\"contentGeometryUpdates\",new O({contentLayerViews:this.view.allLayerViews,renderCoordsHelper:a})),this._set(\"surfaceOrigin\",new w({cache:d,view:this.view})),this._set(\"focus\",new g({state:e,scheduler:h,surface:t,renderCoordsHelper:a,centerOnSurface:this.centerOnSurfaceFrequent,estimateSurfaceIntersectionAtRenderPoint:(e,t)=>this._estimateSurfaceIntersectionAtRenderPoint(e,this.view.state.contentCamera,t)})),this._pois.push(this.centerOnContent,this.centerOnSurfaceFrequent,this.centerOnSurfaceInfrequent,this.cameraOnSurface,this.focus);const p=this.view.graphics;this._debugCenters.set(this.centerOnContent,new m(p,\"red\",\"CenterOnContent\")),this._debugCenters.set(this.centerOnSurfaceFrequent,new m(p,\"red\",\"CenterOnSurface\")),this._debugCenters.set(this.centerOnSurfaceInfrequent,new m(p,\"red\",\"CenterOnSurface\")),this._debugCenters.set(this.cameraOnSurface,new m(p,\"blue\",\"CameraOnSurface\")),this._debugCenters.set(this.focus,new m(p,\"green\",\"Focus\")),this.addHandles([r((()=>e.contentCamera),(e=>this._cameraChanged(e)),s),r((()=>t.extent),(()=>this._updateCenterPointsOfInterest())),n((()=>!t.updating),(()=>this._updateCenterPointsOfInterest()),s),i((()=>this.surfaceGeometryUpdates.events),\"request-update\",(()=>this._updateCenterPointsOfInterest())),i((()=>this.contentGeometryUpdates.events),\"request-update\",(()=>this._updateCenterOnContent())),n((()=>_.SHOW_POI),(e=>this._setDebug(e)),o)]),this._cameraChanged(this.view.state.contentCamera);for(const r of this._pois)r.runTask()}destroy(){this._setDebug(!1),this._propertiesPool.destroy();for(const e of this._pois)e.destroy();this.surfaceOrigin.destroy()}get updating(){return!(!this.surfaceGeometryUpdates?.updating&&!this._pois.some((e=>e.updating)))}get _centerRay(){return this._centerRayDirty&&(this._centerRayCached=this.view.sceneIntersectionHelper.getCenterRayWithSubpixelOffset(this.view.state.contentCamera,this._tmpRay),this._centerRayDirty=!1),this._centerRayCached}_estimateContentAltitudeAtCenter(){if(!this._contentAltitudeAtCenterDirty)return this._contentAltitudeAtCenter;this._contentAltitudeAtCenterDirty=!1;const e=this._centerRay;return null==e||(this.view.sceneIntersectionHelper.intersectRay(e,this._contentIntersector,j,E)?this._contentAltitudeAtCenter=this.view.renderCoordsHelper.getAltitude(j):this._contentAltitudeAtCenter=this._estimateSurfaceAltitudeAtCenter()),this._contentAltitudeAtCenter}_estimateSurfaceAltitudeAtCenter(){if(!this.view.basemapTerrain)return 0;if(!this._surfaceAltitudeAtCenterDirty)return this._surfaceAltitudeAtCenter;this._surfaceAltitudeAtCenterDirty=!1;const e=this._centerRay;if(null==e)return this._surfaceAltitudeAtCenter;const t=e.origin,r=u(j,e.origin,e.direction);return this._surfaceIntersector.resetWithRay(e,this.view.state.contentCamera),this.view.basemapTerrain.intersect(this._surfaceIntersector,null,t,r),this._surfaceIntersector.results.min.getIntersectionPoint(j)&&(this._surfaceAltitudeAtCenter=this.view.renderCoordsHelper.getAltitude(j)),this._surfaceAltitudeAtCenter}_estimateSurfaceIntersectionAtRenderPoint(e,t,r){const s=C(t,e,U);if(null==s)return null;const n=s.origin,i=u(j,s.origin,s.direction);return this._surfaceIntersector.resetWithRay(s,t),this.view.basemapTerrain.intersect(this._surfaceIntersector,null,n,i),this._surfaceIntersector.results.min.getIntersectionPoint(r)?r:null}_cameraChanged(e){this._updateCenterPointsOfInterest();const t=e.eye;h(this.renderPointOfView,t)||this._set(\"renderPointOfView\",d(this._propertiesPool.get(\"renderPointOfView\"),t))}_updateCenterPointsOfInterest(){this._centerRayDirty=!0,this._surfaceAltitudeAtCenterDirty=!0,this._contentAltitudeAtCenterDirty=!0;for(const e of this._pois)e.updateRenderLocation()}_updateCenterOnContent(){this._contentAltitudeAtCenterDirty=!0,this.centerOnContent.updateRenderLocation()}_setDebug(e){if(!e)return this._debugCenters.forEach((e=>e.hide())),void this.removeHandles(\"debug\");for(const t of this._pois)this.addHandles(r((()=>t.renderLocation),(e=>this._debugCenters.get(t)?.show(e,t.renderCoordsHelper.spatialReference)),o),\"debug\")}get test(){return{update:()=>{this.surfaceGeometryUpdates.runTask();for(const e of this._pois)e.runTask()},surfaceGeometryUpdates:this.surfaceGeometryUpdates}}};e([a()],P.prototype,\"centerOnContent\",void 0),e([a()],P.prototype,\"centerOnSurfaceFrequent\",void 0),e([a()],P.prototype,\"centerOnSurfaceInfrequent\",void 0),e([a()],P.prototype,\"cameraOnSurface\",void 0),e([a()],P.prototype,\"focus\",void 0),e([a()],P.prototype,\"renderPointOfView\",void 0),e([a()],P.prototype,\"surfaceOrigin\",void 0),e([a()],P.prototype,\"contentGeometryUpdates\",void 0),e([a()],P.prototype,\"surfaceGeometryUpdates\",void 0),e([a({constructOnly:!0})],P.prototype,\"view\",void 0),e([a()],P.prototype,\"updating\",null),P=e([c(\"esri.views.3d.support.pointsOfInterest.PointsOfInterest\")],P);const T=Array,j=f(),U=p(),E={exclude:new Set([b])};export{P as PointsOfInterest};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass s{constructor(s=0,a=0){this.min=s,this.max=a,this.level=0,this.hasNoDataValues=!1}copyFrom(s){this.min=s.min,this.max=s.max,this.level=s.level,this.hasNoDataValues=s.hasNoDataValues}}export{s as ElevationBounds};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../core/mathUtils.js\";import{ElevationSamplerData as a}from\"../../../layers/support/ElevationSamplerData.js\";import{bilerp as o}from\"../support/mathUtils.js\";import{elevationNodataValue as s}from\"./TerrainConst.js\";class r{constructor(t,o,s){this.type=\"elevation\",this.level=t[0],this.i=t[1],this.j=t[2],this.extent=o,this.samplerData=new a(s,o)}computeMinMaxValue(t,a,r,i){i.min=1/0,i.max=-1/0,i.hasNoDataValues=!1;const e=t-this.level;if(e<=0)return i;const l=2**e;if(!(Math.floor(a/l)===this.i&&Math.floor(r/l)===this.j))return i;let n=1/0,h=-1/0;const f=this.samplerData.data.width,m=this.samplerData.data.values,u=.5*s;let c=(f-1)/l,p=(r-this.j*l)*c,M=(a-this.i*l)*c;if(c<1){const t=Math.floor(p),a=Math.floor(M),s=t+a*f,r=m[s],e=m[s+1],l=m[s+f],n=m[s+f+1];if(r+e+l+n<u){const s=p-t,h=M-a,f=o(r,e,l,n,s,h),m=o(r,e,l,n,s+c,h),u=o(r,e,l,n,s,h+c),x=o(r,e,l,n,s+c,h+c);return i.min=Math.min(f,m,u,x),i.max=Math.max(f,m,u,x),i}p=t,M=a,c=1}else p=Math.floor(p),M=Math.floor(M),c=Math.ceil(c);for(let o=p;o<=p+c;o++)for(let t=M;t<=M+c;t++){const a=m[o+t*f];a<u?(n=Math.min(n,a),h=Math.max(h,a)):i.hasNoDataValues=!0}return i.min=n,i.max=h,i}}const i=.5*s;function e(a,o,s){if(null==s)return null;for(const r of s){if(!r)continue;const s=r.safeWidth;let e=t(r.dy*(r.y1-o),0,s),l=t(r.dx*(a-r.x0),0,s);const n=Math.floor(e),h=Math.floor(l),f=r.data.width,m=n*f+h,u=r.data.values,c=u[m],p=u[m+1],M=m+f,x=u[M],d=u[M+1];if(c+x+p+d<i){e-=n,l-=h;const t=c+(p-c)*l;return t+(x+(d-x)*l-t)*e}}return null}export{r as ElevationData,e as sampleElevation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectWithoutEngine as i}from\"../../../geometry/projection.js\";import{fromExtent as l,empty as s,expand as o,allFinite as a,equals as c}from\"../../../geometry/support/aaBoundingRect.js\";import{isIntegratedMeshOperationalLayer as p,isTiledLayer as u}from\"../../../layers/support/layerUtils.js\";import{ViewingMode as y}from\"../../ViewingMode.js\";import{webmercatorWorldExtent as f,geographicWorldExtent as d}from\"./TerrainConst.js\";import{getTiledLayerInfo as E,isProjectableRasterLayer as m}from\"./terrainUtils.js\";let x=class extends t{constructor(e){super(e)}initialize(){this.addHandles([this.layerViews.on(\"change\",(()=>this.notifyChange(\"stencilEnabledExtents\")))])}destroy(){}get layerViewsExtent(){return this._computeLayerViewsExtent()}get tiledLayersExtent(){return this._computeTiledLayersExtent()}get stencilEnabledExtents(){return this._computeStencilEnabledExtents()}_computeStencilEnabledExtents(){const e=[];return this.layerViews.forEach((t=>{const r=t.layer;if(\"operationalLayerType\"in r&&p(r.operationalLayerType)&&null!=this.viewSpatialReference){const t=L(r.fullExtent,this.viewSpatialReference);null!=t&&e.push(l(t))}})),e}};function h(e,t){return e===y.Global?new w(t):new g(t)}e([r({readOnly:!0})],x.prototype,\"layerViewsExtent\",null),e([r({readOnly:!0})],x.prototype,\"tiledLayersExtent\",null),e([r({readOnly:!0})],x.prototype,\"stencilEnabledExtents\",null),e([r()],x.prototype,\"viewSpatialReference\",void 0),e([r()],x.prototype,\"tilingScheme\",void 0),e([r()],x.prototype,\"defaultTiledLayersExtent\",void 0),e([r({constructOnly:!0})],x.prototype,\"layers\",void 0),e([r({constructOnly:!0})],x.prototype,\"layerViews\",void 0),x=e([n(\"esri.views.3d.terrain.ExtentHelper\")],x);let w=class extends x{_computeLayerViewsExtent(){return this._globalExtent}_computeTiledLayersExtent(){return this._globalExtent}get _globalExtent(){return this.viewSpatialReference.isWebMercator?f:d}};w=e([n(\"esri.views.3d.terrain.ExtentHelper.ExtentHelperGlobal\")],w);let g=class extends x{_computeLayerViewsExtent(){const e=s(),t=this.viewSpatialReference;this.layerViews.forEach((r=>{const n=r.layer;if(r.isResolved()&&(\"graphics\"!==n.type||!n.internal)){const n=L(\"fullExtentInLocalViewSpatialReference\"in r&&r.fullExtentInLocalViewSpatialReference||r.layer.fullExtent,t);o(e,n,e)}}));const r=a(e)?e:null,n=this._get(\"layerViewsExtent\");return c(r,n)?n:r}_computeTiledLayersExtent(){const e=this.tilingScheme;if(!e)return null;const t=this.viewSpatialReference,r=s();this.layers.forEach((n=>{if(n.loaded&&u(n)){const i=E(n,t,y.Local);if(null==i)return;const{tileInfo:l,fullExtent:s}=i,a=\"tilemapCache\"in n?n.tilemapCache?.effectiveMaxLOD:void 0;null!=l&&null!=s&&(m(n)||e.compatibleWith(l,a)&&s.spatialReference.equals(e.spatialReference))&&o(r,s,r)}})),o(r,this.defaultTiledLayersExtent,r);const n=a(r)?r:null,i=this._get(\"tiledLayersExtent\");return c(n,i)?i:n}};function L(e,t){return null==e||e.spatialReference.equals(t)?e:i(e,e.spatialReference,t)}g=e([n(\"esri.views.3d.terrain.ExtentHelper.ExtentHelperLocal\")],g);export{x as ExtentHelper,h as create};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction e(){const e=globalThis.require?.modules;if(e){const o=Object.keys(e);for(const s of o)s.includes(\".glsl\")&&delete e[s]}}export{e as removeLoadedShaderModules};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{Cyclical as r,cyclicalPI as s}from\"../../../core/Cyclical.js\";import has from\"../../../core/has.js\";import{clamp as i,deg2rad as a}from\"../../../core/mathUtils.js\";import{destroyMaybe as n}from\"../../../core/maybe.js\";import{watch as o,sync as l}from\"../../../core/reactiveUtils.js\";import{Milliseconds as h}from\"../../../core/time.js\";import{property as c}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import{subtract as u}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{g as p,f as m,w as _,c as y,q as g}from\"../../../chunks/vec32.js\";import{create as f}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{t as v,b as R,f as w}from\"../../../chunks/vec42.js\";import{create as O,fromValues as T}from\"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{getReferenceEllipsoid as x}from\"../../../geometry/ellipsoidUtils.js\";import{projectVectorToVector as D}from\"../../../geometry/projection/projectVectorToVector.js\";import{create as S,width as E,copy as P,center as M,height as b,intersection as j,contains as I,intersects as C,offset as U}from\"../../../geometry/support/aaBoundingRect.js\";import{create as N,wrap as A}from\"../../../geometry/support/ray.js\";import{e as L,h as G,t as q}from\"../../../chunks/sphere.js\";import{angleAroundAxis as V}from\"../../../geometry/support/vector.js\";import{y2lat as F}from\"../../../geometry/support/webMercatorUtils.js\";import{viewAngle as B}from\"../state/utils/viewUtils.js\";import{debugFlags as k}from\"../support/debugFlags.js\";import{PointGraphics as H}from\"../support/debugUtils.js\";import{OverlayIndex as W}from\"./interfaces.js\";import{OverlayRenderer as Y}from\"./OverlayRenderer.js\";import{RenderRequestType as z}from\"../webgl-engine/lib/basicInterfaces.js\";import{newIntersector as X}from\"../webgl-engine/lib/Intersector.js\";import{fromValues as K}from\"../webgl-engine/lib/LocalOriginFactory.js\";import{UpdateParameters as Z}from\"../webgl-engine/lib/Material.js\";import{SortedRenderGeometryRenderer as J}from\"../webgl-engine/lib/SortedRenderGeometryRenderer.js\";import{applyTextureResizeModulo as Q}from\"../webgl-engine/lib/textureUtils.js\";import{removeLoadedShaderModules as $}from\"../webgl-engine/parts/requireUtils.js\";import{TaskPriority as ee,noBudget as te}from\"../../support/Scheduler.js\";import{Yield as re}from\"../../support/Yield.js\";const se=1.3,ie=[[-.1,-2,3.9,2],[-.1,-3.9,3.9,.1],[-2,-3.9,2,.1],[-3.9,-3.9,.1,.1],[-3.9,-2,.1,2],[-3.9,-.1,.1,3.9],[-2,-.1,2,3.9],[-.1,-.1,3.9,3.9]];let ae,ne=class extends t{constructor(e){super(e),this._spatialReference=null,this._renderSR=null,this._overlaySREqualsRenderSR=!0,this._drapeSources=new Set,this._drapeTargets=new Set,this._placementDirty=!1,this._contentUpdated=!1,this._drawTexturesDirty=!1,this._drawTexturesAnimateDirty=!1,this._longitudeCyclical=null,this._latestOriginId=0,this._maxResolution=has(\"esri-mobile\")?2048:4096,this._animationTimeLast=0}initialize(){const e=this.view;this.renderer=new Y({view:e,worldToPCSRatio:this._worldToPCSRatio,spatialReference:this._spatialReference}),e._stage.renderer.plugins.add(this.renderer);const t=()=>this.setDrawTexturesDirty();this._groundIntersector=X(this.view.state.viewingMode),this._groundIntersector.options.backfacesTerrain=!0,this._groundIntersector.options.invisibleTerrain=!0,this._groundIntersector.options.hud=!1,this.addHandles([o((()=>this.renderer.hasHighlights),t),this.renderer.events.on(\"has-water\",(t=>e._stage?.renderer.setParameters({hasOverlayWater:t}))),this.renderer.events.on(\"content-changed\",t),o((()=>e.state.camera.pixelRatio),t),o((()=>e.state.alignPixelEnabled),t),this.renderer.events.on(\"textures-disposed\",(()=>this.surface.requestRender())),o((()=>[e.pointsOfInterest?.renderPointOfView,e.pointsOfInterest?.centerOnSurfaceFrequent?.location]),(()=>this.setPlacementDirty())),o((()=>[e.state?.pixelRatio,e.state?.contentPixelRatio]),(()=>this.setPlacementDirty()),l),this.surface.on(\"elevation-change\",(()=>this.setPlacementDirty())),e.on(\"resize\",(()=>this.setPlacementDirty())),e.resourceController.scheduler.registerTask(ee.OVERLAY,this),e._stage.renderView.events.on(\"force-camera-for-screenshot\",(e=>{this._updateOverlays(te,e.camera,z.BACKGROUND),this.renderer.hasOverlays&&this._drawOverlays(z.BACKGROUND,e)}))]),e._stage.renderer.renderOverlay=e=>this._renderOverlay(e)}destroy(){this.view?._stage&&(this.view._stage.renderer.plugins.remove(this.renderer),this.view._stage.renderer.renderOverlay=()=>{}),ae&&(ae.hide(),ae=null),this.renderer=n(this.renderer)}get running(){return this._placementDirty&&(this._drapeSources.size>0||this.view.graphics.length>0||k.OVERLAY_DRAW_DEBUG_TEXTURE)&&!!this._spatialReference&&!this.suspended&&this.surface.ready}get _isSpherical(){return this.view.state.isGlobal}get _worldToPCSRatio(){return null!=this._spatialReference&&this._spatialReference.isGeographic&&!this.view.state.isLocal?x(this._spatialReference).metersPerDegree:1}get _overlayStretch(){return se/this.view.resolutionScale}get suspended(){return this.surface.suspended}get updating(){return this.running||this.renderer.updating||this._contentUpdated}get rendersOccludedDraped(){return this.renderer.rendersOccludedDraped}_renderOverlay(e){if(this._contentUpdated=!1,this.renderer.processSyncDrapeSources(),this.renderer.hasOverlays)return this._dispatchAnimationUpdate(e),this._drawOverlays(z.UPDATE,this.view.state)}get hasOverlays(){return this.renderer.hasOverlays}setSpatialReference(e){this._spatialReference=e,this.renderer.spatialReference=e,this._longitudeCyclical=null;const t=this.view.renderSpatialReference;null!=e&&null!=t?(this._renderSR=t,this._overlaySREqualsRenderSR=e.equals(this._renderSR),this._isSpherical&&(this._longitudeCyclical=e.isWebMercator?new r(-20037508.342787,20037508.342787):new r(-180,180),this.renderer.longitudeCyclical=this._longitudeCyclical),this.renderer&&(this.renderer.worldToPCSRatio=this._worldToPCSRatio)):this.renderer.disposeOverlays()}registerDrapeSource(e,t,r){this._drapeSources.add(e),this.renderer.ensureOverlays(this._drapeTargets,this._drapeSources);const s=this.renderer.createDrapeSourceRenderer(e,t,r);return this._updateDrapeSourceExtent(e),this._setContentDirty(),this.notifyChange(\"running\"),s}registerGeometryDrapeSource(e){return this.registerDrapeSource(e,J)}_updateDrapeSourceExtent(e){2===this.renderer.overlays.length&&null!=e.setDrapingExtent&&null!=this._spatialReference&&e.setDrapingExtent(this.renderer.overlays,this._spatialReference)}unregisterDrapeSource(e){this._drapeSources.has(e)&&(this._drapeSources.delete(e),this.renderer.removeDrapeSourceRenderer(e),this.renderer.ensureDrapeSources(this._drapeSources),this._setContentDirty(),this.notifyChange(\"running\"))}registerDrapeTarget(e){this._drapeTargets.add(e),this.renderer.ensureOverlays(this._drapeTargets,this._drapeSources)}unregisterDrapeTarget(e){this._drapeTargets.delete(e),this.renderer.ensureDrapeTargets(this._drapeTargets)}_setContentDirty(){this.setPlacementDirty(),this.setDrawTexturesDirty()}setPlacementDirty(){this._placementDirty=!0}runTask(e){return this._updateOverlays(e,this.view.state.contentCamera,z.UPDATE)}_updateOverlays(e,t,r){if(!this._spatialReference)return re;const s=this._computeOverlayResolution(t);this._computeOverlayExtents(t,s,de),this.renderer.ensureOverlays(this._drapeTargets,this._drapeSources,de.stretch);const i=this._updateOverlay(W.INNER,de.inner,s,1*de.pixelRatioAdjustment,de.mapUnitsPerPixel),a=E(de.inner)/E(de.outer),n=this._updateOverlay(W.OUTER,de.outer,s,a*de.pixelRatioAdjustment,de.mapUnitsPerPixel);i!==_e.EXTENT&&n!==_e.EXTENT||(this._drapeSources.forEach((e=>this._updateDrapeSourceExtent(e))),this.surface.updateTileOverlayParams(r)),i===_e.NONE&&n===_e.NONE||this.setDrawTexturesDirty(),this._placementDirty=!1,e.madeProgress()}_computeOverlayResolution(e){const t=this.view.state.contentPixelRatio*this.view.resolutionScale,r=e.fullWidth/e.pixelRatio*t,s=e.fullHeight/e.pixelRatio*t,i=Math.ceil(1.5*Math.max(r,s));return Math.min(Q(i),this._maxResolution)}_updateOverlay(e,t,r,s,i){if(0===this.renderer.overlays.length)return _e.NONE;const a=this.renderer.overlays[e],n=a.mapUnitsPerPixel;if(a.mapUnitsPerPixel=i,a.pixelRatio=s,oe(t,a.extent)&&r===a.resolution)return n===i?_e.NONE:_e.RERENDER_ONLY;P(a.extent,t),a.resolution=r;const o=M(a.extent);return a.renderLocalOrigin=K(o[0],o[1],0,\"OV_\"+this._latestOriginId++),_e.EXTENT}setTileParameters(e){const t=e.renderData.overlay;if(this.renderer.overlays.length>0){const r=this.renderer.overlays[W.INNER],s=this.renderer.overlays[W.OUTER],i=e.extent;this._rectInsideRect(r.extent,i)||this._rectanglesOverlap(i,r.extent)||this._rectanglesOverlap(i,s.extent)?(this._setTileOverlayData(i,W.INNER,t),this._setTileOverlayData(i,W.OUTER,t)):(this._clearTileOverlayData(W.INNER,t),this._clearTileOverlayData(W.OUTER,t))}else this._clearTileOverlayData(W.INNER,t),this._clearTileOverlayData(W.OUTER,t)}overlayPixelSizeInMapUnits(e,t){if(0===this.renderer.overlays.length)return t();const r=this.renderer.overlays[W.INNER],s=this.renderer.overlays[W.OUTER],i=this._pointIsInExtent(e,r.extent)?r:s;return(i.extent[2]-i.extent[0])/i.resolution}_setTileOverlayData(e,t,r){if(0===this.renderer.overlays.length)return;const s=this.renderer.overlays[t].extent,i=E(s),a=b(s);let n=e[0];if(this._longitudeCyclical){n=this._longitudeCyclical.minimalMonotonic(s[0],n);const t=this._longitudeCyclical.minimalMonotonic(s[0],e[2]);n>t&&(n=t-(e[2]-e[0]))}r.setScale(t,E(e)/i,b(e)/a),r.setOffset(t,(n-s[0])/i,(e[1]-s[1])/a)}_clearTileOverlayData(e,t){t.setScale(e,-1,-1),t.setOffset(e,-1,-1)}async reloadShaders(){$(),await this.renderer.reloadShaders(),this.setDrawTexturesDirty(),this.runTask(te)}_dispatchAnimationUpdate(e){const t=h(e-this._animationTimeLast);if(t>=this.surface.view._stage.renderer.animationTimestep||null!=this.view.state.forcedAnimationTime||this._drawTexturesDirty||this._drawTexturesAnimateDirty){const r=h(t/this.surface.view._stage.renderer.animationTimeDilation),s=new Z(this.view.state.camera,r,this.view.state.forcedAnimationTime);this.renderer.updateAnimation(s)&&(this._drawTexturesAnimateDirty=!0),this._animationTimeLast=e}}setDrawTexturesDirty(){this.renderer.hasOverlays?(this._contentUpdated=!0,this._drawTexturesDirty=!0,this.view._stage.renderView.requestRender()):this.setPlacementDirty()}_intersectGroundFromView(e,t,r,s){const i=this.view.sceneIntersectionHelper.getCenterRayWithSubpixelOffset(e,me,t,r);if(null==i)return!1;const a=i.origin,n=p(ce,i.origin,i.direction);return this._groundIntersector.reset(a,n,e),this._groundIntersector.intersect([]),this.view.basemapTerrain.intersect(this._groundIntersector,null,a,n),this._groundIntersector.results.min.getIntersectionPoint(s)}_findHorizonBasedPointOfInterest(e,t){let r=.5;const a=.55,n=this.view.renderCoordsHelper.getAltitude(e.eye),o=this.view.pointsOfInterest.centerOnSurfaceFrequent,l=1e-5,h=i(o.estimatedSurfaceAltitude,e.aboveGround?-1/0:n+l,e.aboveGround?n-l:1/0),c=e.aboveGround;if(\"global\"===this.view.viewingMode){const t=ce;L(G(q,x(this.view.spatialReference).radius+h),A(e.eye,e.viewForward),t),m(t,t,e.eye);const i=s.normalize(V(e.viewForward,t,e.viewRight))/e.fovY+.5,n=i<=0||i>=1?.5:a;r=c?n*i:i+n*(1-i)}else{const t=.5*Math.PI-Math.acos(-e.viewForward[2]),s=Math.tan(t),n=T(0,s,1,0),o=v(n,n,e.projectionMatrix)[1],l=i(.5+.5*o,0,1);r=1===l||0===l?.5:c?l*a:1-(1-l)*a}return!!this._intersectGroundFromView(e,.5,r,t)&&_(t,e.eye)<o.distance*o.distance}_computeOverlayExtents(e,t,r){const s=this.view.pointsOfInterest.centerOnSurfaceFrequent.renderLocation,i=f();this._findHorizonBasedPointOfInterest(e,i)||y(i,s),k.OVERLAY_SHOW_CENTER?(null==ae&&(ae=new H(this.view.graphics,\"red\")),ae.show(i,this._renderSR)):null!=ae&&ae.hide();const n=Math.max(.1,g(e.eye,i)),o=B(this.view.renderCoordsHelper,s,e.eye);this._overlaySREqualsRenderSR||D(i,this._renderSR,i,this._spatialReference);const l=this.surface.extent,h=!this._isSpherical&&this._spatialReference&&this._spatialReference.isGeographic,c=h&&this._spatialReference?1/x(this._spatialReference).metersPerDegree:1,d=this.view.state.contentPixelRatio,p=e.perScreenPixelRatio/d*n*c;r.mapUnitsPerPixel=p/this._worldToPCSRatio,r.stretch=this._overlayStretch;let m=t*p/2*r.stretch,_=!1,v=h?90:1/0;this._isSpherical&&l&&this._spatialReference&&(this._spatialReference.isWebMercator?(m/=Math.cos(F(i[1])),v=l[3]):(_=!0,m/=x(this._spatialReference).metersPerDegree,v=90),m>=v&&(m=v,i[1]=0,this._spatialReference.isWebMercator&&(i[0]=0)));let O=1;_&&(O=1/Math.max(.2,Math.cos(Math.abs(a(i[1])))),m*O>180&&(O=180/m),r.mapUnitsPerPixel*=O);const T=Math.log(2)/12;m=Math.exp(Math.round(Math.log(m)/T)*T);const S=m*O,M=32,b=.5*t/(M*S),C=.5*t/(M*m);i[0]=Math.round(i[0]*b)/b,i[1]=Math.round(i[1]*C)/C;const U=r.inner;U[0]=i[0]-S,U[1]=i[1]-m,U[2]=i[0]+S,U[3]=i[1]+m,this._isSpherical&&this._shiftExtentToFitBounds(U,1/0,v);const N=r.outer;if(6*S>E(l))P(N,l);else{if(Math.PI/2-Math.abs(o-Math.PI/2)<=.25*Math.PI)N[0]=U[0]-S,N[1]=U[1]-m,N[2]=U[2]+S,N[3]=U[3]+m;else{D(e.eye,this._renderSR,ce,this._spatialReference),u(he,i,ce);let t=-Math.atan2(he[1],he[0])+.125*Math.PI;t<0&&(t+=2*Math.PI);const r=Math.floor(t/(.25*Math.PI));R(he,ie[r],2*m),he[0]*=O,he[2]*=O,w(N,U,he)}}if(this._isSpherical)N[0]=this._longitudeCyclical.clamp(N[0]),N[2]=this._longitudeCyclical.clamp(N[2]),N[1]=Math.max(N[1],-v),N[3]=Math.min(N[3],v);else{const e=j(U,l,ue),t=j(N,l,pe);I(e,t)&&(N[2]=N[0],N[3]=N[1])}const A=Math.abs(U[2]-U[0])/t;r.mapUnitsPerPixel=Math.max(r.mapUnitsPerPixel,A),r.pixelRatioAdjustment=r.mapUnitsPerPixel/A}_drawOverlays(e,t){if(!this.renderer.hasOverlays)return;if(!this._drawTexturesDirty&&!this._drawTexturesAnimateDirty)return this.renderer;const r=this._drawTexturesDirty;this._drawTexturesDirty=this._drawTexturesAnimateDirty=!1;const s=this.renderer.computeValidity();this.renderer.releaseRenderTargets(),this.renderer.drawOverlays(t);return s!==this.renderer.computeValidity()&&this.surface.updateTileOverlayParams(z.UPDATE),r?(this.surface.requestRender(e),e===z.UPDATE&&this.surface.requestUpdate()):this.surface.requestRender(z.BACKGROUND),this.renderer}_rectanglesOverlap(e,t){return null!=e&&(this._longitudeCyclical?(this._longitudeCyclical.contains(t[0],t[2],e[0])||this._longitudeCyclical.contains(t[0],t[2],e[2])||this._longitudeCyclical.contains(e[0],e[2],t[0]))&&!(e[1]>t[3]||e[3]<t[1]):C(e,t))}_rectInsideRect(e,t){return null!=t&&(this._longitudeCyclical?this._longitudeCyclical.contains(e[0],e[2],t[0])&&this._longitudeCyclical.contains(e[0],e[2],t[2])&&t[1]>e[1]&&t[3]<e[3]:I(e,t))}_pointIsInExtent(e,t){if(this._longitudeCyclical)return this._longitudeCyclical.contains(t[0],t[2],e.x)&&e.y>=t[1]&&e.y<=t[3];const r=e.x,s=e.y;return r>t[0]&&r<t[2]&&s>t[1]&&s<t[3]}_shiftExtentToFitBounds(e,t,r){let s=0,i=0;e[0]<-t?s=e[0]+t:e[2]>t&&(s=t-e[2]),e[1]<-r?i=e[1]+r:e[3]>r&&(i=r-e[3]),U(e,s,i)}get test(){return{renderer:this.renderer,update:()=>this.runTask(te)}}};function oe(e,t){const r=1e-5,s=k.TESTS_DISABLE_OPTIMIZATIONS?0:r*Math.max(e[2]-e[0],e[3]-e[1],t[2]-t[0],t[3]-t[1]);return Math.abs(t[0]-e[0])<=s&&Math.abs(t[1]-e[1])<=s&&Math.abs(t[2]-e[2])<=s&&Math.abs(t[3]-e[3])<=s}e([c()],ne.prototype,\"_spatialReference\",void 0),e([c({readOnly:!0})],ne.prototype,\"running\",null),e([c()],ne.prototype,\"_placementDirty\",void 0),e([c()],ne.prototype,\"_contentUpdated\",void 0),e([c()],ne.prototype,\"_isSpherical\",null),e([c()],ne.prototype,\"_worldToPCSRatio\",null),e([c()],ne.prototype,\"renderer\",void 0),e([c({constructOnly:!0})],ne.prototype,\"view\",void 0),e([c({constructOnly:!0})],ne.prototype,\"surface\",void 0),e([c()],ne.prototype,\"suspended\",null),e([c()],ne.prototype,\"updating\",null),e([c({type:Boolean})],ne.prototype,\"rendersOccludedDraped\",null),ne=e([d(\"esri.views.3d.terrain.OverlayManager\")],ne);class le{constructor(){this.inner=S(),this.outer=S(),this.mapUnitsPerPixel=0,this.pixelRatioAdjustment=1,this.stretch=se}}const he=O(),ce=f(),de=new le,ue=S(),pe=S(),me=N();var _e;!function(e){e[e.NONE=0]=\"NONE\",e[e.EXTENT=1]=\"EXTENT\",e[e.RERENDER_ONLY=2]=\"RERENDER_ONLY\"}(_e||(_e={}));export{ne as OverlayManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as t}from\"../../../core/maybe.js\";import{g as e}from\"../../../chunks/vec32.js\";import{empty as s}from\"../../../geometry/support/aaBoundingBox.js\";import{internalAssert as i}from\"./terrainUtils.js\";import{decompressNormal as r,compressNormal as n}from\"../webgl-engine/lib/Normals.js\";class o{constructor(){this.indices=null,this.indexCount=0,this.edgeIndicesStartIndex=0,this.poleIndicesStartIndex=0,this.vertexAttributes=null,this.edgeVerticesStartIndex=0,this.poleVerticesStartIndex=0,this.maxEdgeVertexCount=0,this.boundingBox=s(),this.numVerticesPerSide=0,this.minu=0,this.minv=0,this.maxu=1,this.maxv=1,this.outerEdgesOffsetAndLength=[0,0,0,0,0,0,0,0]}release(){this.vertexAttributes=t(this.vertexAttributes),this.indices=null}reset(){this.indices=null,this.vertexAttributes=null,s(this.boundingBox),this.numVerticesPerSide=0}getEdgeFirstVertexIndex(t){return this.outerEdgesOffsetAndLength[2*t]}getEdgeCount(t){return this.outerEdgesOffsetAndLength[2*t+1]}getEdgeVertexIndex(t,e){return this.getEdgeAttributeIndex(t,e)}getEdgeVertexPosition(t,s,i,r){this._getEdgeVertexRaw(this.getEdgeAttributeIndex(t,r),s),e(s,s,i)}getEdgeNormal(t,e,s){const{typedBuffer:i,typedBufferStride:n}=this.vertexAttributes.normalCompressed;r(e,i,this.getEdgeAttributeIndex(t,s),n)}setEdgeNormalFromValues(t,e,s,i,r){this._setNormal(this.getEdgeAttributeIndex(t,e),s,i,r)}setEdgeVertexFromValuesRawPositionUV(t,e,s,i,r,n,o){const d=this.getEdgeAttributeIndex(t,e);this.vertexAttributes.position.setValues(d,s,i,r),this._setUV(d,n,o)}setEdgeVertexFromValuesRawPositionUVNormal(t,e,s,i,r,n,o,d,u,g){const h=this.getEdgeAttributeIndex(t,e);this.vertexAttributes.position.setValues(h,s,i,r),this._setUV(h,n,o),this._setNormal(h,d,u,g)}_getEdgeVertexRaw(t,e){this.vertexAttributes.position.getVec(t,e)}_setNormal(t,e,s,i){const{typedBuffer:r,typedBufferStride:o}=this.vertexAttributes.normalCompressed;n(r,t,e,s,i,o)}_setUV(t,e,s){u(this.vertexAttributes.uv0,t,e,s)}getEdgeAttributeIndex(t,e){return i(0<=e&&e<this.getEdgeCount(t)),this.getEdgeFirstVertexIndex(t)+e}}const d=16384;function u(t,e,s,i){t.setValues(e,s*d,i*d)}export{o as PatchGeometry,u as encodeUVInBuffer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{maxPatchTesselation as s}from\"./TerrainConst.js\";class t{constructor(){this.sinLonLUT=new Array(s+1),this.cosLonLUT=new Array(s+1),this.sinLatLUT=new Array(s+1),this.cosLatLUT=new Array(s+1)}update(s,t,n){const o=t[0],i=t[2];for(let r=0;r<=s;r++){const t=r/s,L=o*(1-t)+i*t;this.sinLonLUT[r]=Math.sin(L),this.cosLonLUT[r]=Math.cos(L);const a=n(t);this.sinLatLUT[r]=Math.sin(a),this.cosLatLUT[r]=Math.cos(a)}}}export{t as PatchGeometryLUT};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass l{constructor(){this.numVerticesPerSide=0,this.samplerData=null,this.samplerDataVersion=0,this.clippingArea=null,this.wireframe=!1,this.cornerPeerNeighbors=[null,null,null,null],this.cornerNeighborCornerTiles=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],this.cornerNeighborCornerTileSamplerVersions=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],this.edgeResolutions=[-1,-1,-1,-1],this.edgePeerNeighbors=[null,null,null,null],this.edgePeerNeighborSamplerVersions=[-1,-1,-1,-1]}}export{l as GeometryState};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as t}from\"../../../core/maybe.js\";import{TextureUpdate as e}from\"./interfaces.js\";class i{constructor(t){this._getFadeDuration=t,this._fadeStart=0,this._delayedTime=0}clear(){this._current=t(this._current),this._next=t(this._next),this._waiting=t(this._waiting),this._delayed=t(this._delayed)}get current(){if(null==this._current)return null;if(!this._isFadingEnabled){const t=this._delayed||this._waiting||this._next||this._current;t!==this._current&&(this._current=null,this.clear(),this._current=t)}let r=i.test.fadeMoment;if(null!=this._delayed&&(r=r||performance.now(),r>=this._delayedTime&&(this._push(this._delayed,n.Immediate),this._delayed=null)),null!=this._next){r=r||performance.now();const i=this._fadeDuration,n=null!=this._current&&this._next.texture===this._current.texture,s=this._next.type!==e.FADING,a=r-this._fadeStart>=i;(n||s||a)&&(t(this._current),this._current=this._next,this._next=this._waiting,this._waiting=null,this._fadeStart=this._alignFadeStart(r))}return this._current}get next(){return this._next}get fadeFactor(){if(null==this._next)return 1;const t=i.test.fadeMoment||performance.now(),e=Math.max(0,t-this._fadeStart),n=this._fadeDuration;return e>n?0:1-e/n}get isFading(){return null!=this._next||null!=this._delayed}push(e,i=n.Immediate){this._delayed=t(this._delayed),this._push(e,i)}_push(e,r){if(this._isFadingEnabled||this.clear(),null==this._current)return void(this._current=e);const s=i.test.fadeMoment||performance.now();return r!==n.Immediate?(this._delayed=e,void(this._delayedTime=s+r)):null==this._next?(this._next=e,void(this._fadeStart=this._alignFadeStart(s))):void(null!=e&&(t(this._waiting),this._waiting=e))}get _fadeDuration(){return null==this._waiting?this._getFadeDuration():.5*this._getFadeDuration()}_alignFadeStart(t){const e=this._getFadeDuration();return t+e-t%e}get _isFadingEnabled(){return this._getFadeDuration()>0}}var n;i.test={fadeMoment:0},function(t){t[t.Immediate=0]=\"Immediate\",t[t.Delayed=5e3]=\"Delayed\"}(n||(n={}));export{n as ActivationTime,i as TextureFader};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{TextureUpdate as e}from\"./interfaces.js\";import{progressiveLoadingModulo as t}from\"./TerrainConst.js\";import{getLayerWithExtentRange as s}from\"./terrainUtils.js\";import{fallsWithinLayer as i}from\"./tileUtils.js\";class l{get updating(){return!!this._tileRequested}init(e,t,s,i){this.tile=e,this._layerIdx=t,this._layerClass=s,this._suspended=i,this._tileLayerInfo=e.getLayerInfo(t,s),this._tileRequested=null;const l=this._findAncestorWithData();this._setUpsampleTile(l)}startLoading(){return this._requestNext()}dispose(){this._tileRequested&&(this._tileRequested.unrequestLayerData(this._layerIdx,this._layerClass,this),this._tileRequested=null),this.tile=null,this._tileLayerInfo=null}setSuspension(e){e!==this._suspended&&(this._suspended=e,e?this._tileRequested&&(this._tileRequested.unrequestLayerData(this._layerIdx,this._layerClass,this),this._tileRequested=null):this._tileLayerInfo.data||this.update())}update(){const e=this._findAncestorWithData();return this._setUpsampleTile(e),this._requestNext()}dataArrived(t,s){this._setUpsampleTile(t,s),this._tileRequested=null,t===this.tile?this.tile.updateRenderData(this._layerClass,e.FADING,s):this._requestNext()}dataMissing(){this._tileRequested=null,this._tileLayerInfo.data=null,this._requestNext()}_agentDone(){this.tile.agentDone(this._layerIdx,this._layerClass),this.dispose()}_requestNext(){if(this._suspended)return!0;const e=this._findNextDownload();if(this._tileRequested){if(e===this._tileRequested)return!0;this._tileRequested.unrequestLayerData(this._layerIdx,this._layerClass,this),this._tileRequested=null}return null!=e?e.requestLayerData(this._layerIdx,this._layerClass,this)&&(this._tileRequested=e):this._agentDone(),!!this._tileRequested}_findNextDownload(){const e=this._layerIdx,l=this._layerClass,a=this.tile.surface.layerViewByIndex(e,l),n=s(a),{minLevel:r,maxLevel:h}=a.dataLevelRange,d=this._desiredMinLevelDelta,o=this._progressiveLevelModulo+d,u=this._scaleRangeEnabled?i:()=>!0;let _=this.tile;const p=_.level;let f;const y=this._tileLayerInfo.upsampleInfo,v=null!=y?y.tile.level:-1,I=null!=y&&v-p>=d,c=n?.tilemapCache,q=\"vector-tile-3d\"===a.type?a.schemaHelper:null;for(;_&&u(_,n,!1)&&_.level>=r;){const s=_.level,i=p-s,a=_.layerInfo[l][e];if(a.data&&i>=d){(!I||s>v)&&this._setUpsampleTile(_),a.dataInvalidated&&(f=_);break}const n=q?.getLevelRowColumn(_.lij)??_.lij;if(\"unavailable\"!==c?.getAvailability(n[0],n[1],_.lij[2])&&s<=h&&!a.data&&!a.dataMissing&&((!f||_.level===r||s%t==0||p-f.level<d)&&(f=_),i>=o))break;_=_.parent}if(null!=f&&p-f.level<d)if(y)f=null;else{const t=this._findAncestorWithData();if(null!=t){this._setUpsampleTile(t);f=t.layerInfo[l][e].dataInvalidated?t:null}}return f}_findAncestorWithData(){const e=this.tile.elevationLevel,t=this._desiredMinLevelDelta;let s;for(let i=this.tile;i;i=i.parent)if(i.hasLayerData(this._layerIdx,this._layerClass)){if(e-i.level>=t)return i;s=i}return s}_setUpsampleTile(t,s){this._tileLayerInfo.setUpsampleInfo(this.tile,t),this.tile.updateRenderData(this._layerClass,e.FADING,s)}get test(){return{findNextDownload:()=>this._findNextDownload(),tileLayerInfo:this._tileLayerInfo}}}class a extends l{get _desiredMinLevelDelta(){throw n}get _progressiveLevelModulo(){throw n}dispose(){}}const n=new Error(\"Abstract method called on TileAgent\"),r=new a;export{l as TileAgent,r as tileAgentDone};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getElevationDesiredResolutionLevel as e}from\"./TerrainConst.js\";import{TileAgent as t}from\"./TileAgent.js\";class l extends t{constructor(){super(...arguments),this._scaleRangeEnabled=!1}get _desiredMinLevelDelta(){return e(this.tile.level)-(this.tile.elevationLevel-this.tile.level)}get _progressiveLevelModulo(){return 0}}export{l as ElevationTileAgent};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{progressiveLoadingModulo as e}from\"./TerrainConst.js\";import{TileAgent as r}from\"./TileAgent.js\";class t extends r{constructor(){super(),this._scaleRangeEnabled=!0}get _desiredMinLevelDelta(){return 0}get _progressiveLevelModulo(){return e}}export{t as MapTileAgent};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as t,abortMaybe as s}from\"../../../core/maybe.js\";import e from\"../../../core/ObjectPool.js\";import i from\"../../../core/PooledArray.js\";import{releaseTileData as a}from\"./terrainUtils.js\";import{computeUpsampleInfo as n}from\"./tileUtils.js\";class l{constructor(){this.waitingAgents=new i,this._upsampleInfo=null,this.loadingAgent=null,this.requestPromise=null,this.requestAbort=null,this.pendingUpdates=0}static acquire(t){const s=o.acquire();return s._init(t),s}release(){this.dispose(),p.delete(this),o.release(this)}dispose(){this.loadingAgent=t(this.loadingAgent),this.abortRequest(),this._unsetUpsampleInfo(),this.pendingUpdates=0,this._data=a(this._data)}static prune(){o.prune(0)}_init(t){this.waitingAgents.clear(),this._data=a(this._data),this.dataMissing=!1,this.dataInvalidated=!1,this._unsetUpsampleInfo(),this.abortRequest(),this.loadingAgent=null,this.pendingUpdates=0,this._pool=t,this.elevationBounds=null}invalidateSourceData(){this.dataInvalidated=!0,this.dataMissing=!1,this._unsetUpsampleInfo()}abortRequest(){this.requestAbort=s(this.requestAbort),this.requestPromise=null}get upsampleInfo(){return this._upsampleInfo}_unsetUpsampleInfo(){null!=this._upsampleInfo&&(this._upsampleInfo.tile.unrefMapData(),this._pool.release(this._upsampleInfo),this._upsampleInfo=null)}setUpsampleInfo(t,s){if(t!==s&&null!=s){if(null==this._upsampleInfo)this._upsampleInfo=this._pool.acquire();else{if(this._upsampleInfo.tile===s)return;this._upsampleInfo.tile.unrefMapData()}s.refMapData(),n(t,s,this._upsampleInfo)}else this._unsetUpsampleInfo()}get data(){return this._data}set data(t){a(this._data),this._data=t}}const o=new e(l,null,(()=>{})),p=new Map;function r(){p.size>0&&(console.log(`${p.size} live TilePerLayerInfo allocations:`),p.forEach((t=>console.log(t,\"\\n\"))))}export{l as TilePerLayerInfo,r as printAllocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e){this._texture=t,this._cache=e,this.type=\"tile-texture\",this._refCount=1}retain(){++this._refCount}release(){if(--this._refCount,0===this._refCount)if(this._cache){const t=`${this._texture.descriptor.width} ${this._texture.descriptor.pixelFormat}`;this._cache.put(t,this)}else this.dispose()}dispose(){this._texture.dispose()}get texture(){return this._texture}generateMipmap(){this._texture.generateMipmap()}get descriptor(){return this._texture.descriptor}get usedMemory(){return this._texture.usedMemory}}export{t as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar E;!function(E){E[E.NONE=0]=\"NONE\",E[E.SPLIT=1]=\"SPLIT\",E[E.ELEVATION=2]=\"ELEVATION\",E[E.MERGE=4]=\"MERGE\",E[E.GEOMETRY=8]=\"GEOMETRY\",E[E.TEXTURE_NOFADING=16]=\"TEXTURE_NOFADING\",E[E.TEXTURE_FADING=32]=\"TEXTURE_FADING\"}(E||(E={}));export{E as TileUpdate};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{clamp as e}from\"../../../core/mathUtils.js\";import{abortMaybe as t}from\"../../../core/maybe.js\";import i from\"../../../core/ObjectPool.js\";import{f as s,p as n,k as r,h as a,g as o,l,c as h}from\"../../../chunks/vec32.js\";import{create as u,unitZ as d}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getEpsilon as c}from\"../../../core/libs/gl-matrix-2/math/common.js\";import{getReferenceEllipsoid as g}from\"../../../geometry/ellipsoidUtils.js\";import{create as p,equals as f}from\"../../../geometry/support/aaBoundingRect.js\";import{c as _,g as m}from\"../../../chunks/sphere.js\";import{isGroupLayer as y}from\"../../../layers/support/layerUtils.js\";import{VectorTile as A}from\"../../2d/engine/vectorTiles/VectorTile.js\";import{ImageWithType as M}from\"../support/StreamDataLoader.js\";import{ElevationBounds as T}from\"./ElevationBounds.js\";import{ElevationTileAgent as v}from\"./ElevationTileAgent.js\";import{TextureUpdate as E}from\"./interfaces.js\";import{TileFrustumVisibility as I,NeighborIndex as D}from\"./ITile.js\";import{LayerClasses as L,LayerClass as x}from\"./LayerClass.js\";import{MapTileAgent as S}from\"./MapTileAgent.js\";import{RasterTile as O}from\"./RasterTile.js\";import{maxPatchTesselation as N,getElevationDesiredResolutionLevel as b}from\"./TerrainConst.js\";import{weakAssert as j,getLayerWithExtentRange as U,isBlendableLayerView as C,oppositeCorner as B,internalAssert as P,enableTerrainInternalChecks as R,neighborEdgeIndices as V,oppositeEdge as w,neighborCornerIndices as G,isNorth as W,isSouth as q,isWest as F,isEast as H,enableWaterproofnessTests as k,almostEquals as X,isWestCorner as Y,isNorthCorner as z}from\"./terrainUtils.js\";import{tileAgentDone as $}from\"./TileAgent.js\";import{TilePerLayerInfo as J}from\"./TilePerLayerInfo.js\";import Q from\"./TileTexture.js\";import{TileUpdate as K}from\"./TileUpdate.js\";import{fallsWithinLayer as Z}from\"./tileUtils.js\";const ee=.1;class te{constructor(){this._lij=[0,0,0],this._children=[null,null,null,null],this._pendingUpdates=0,this.renderData=null,this._dirty=!0,this._previouslyRendered=!1,this.extent=p(),this._elevationBoundsMin=NaN,this._elevationBoundsMax=0,this.layerInfo=[[],[]],this.extentInRadians=p(),this.centerAtSeaLevel=u(),this._center=[u(),_(),u()],this.up=d(),this._isWithinClippingArea=!0,this._intersectsClippingArea=!0,this._maxTesselation=0,this._usedMemory=null,this._mapTileMemoryInternal=0,this._mapDataRefCount=0,this.screenDepth=0,this.renderOrder=0,this._edgeLen=0,this._edgeLen2=0,this._curvatureHeight=0,this.extentMidX=0,this.extentMidY=0,this.distanceToPOI=-1,this._lastPOI=u(),this.maxLevelDeltaNeighborCount=0,this.unmergableChildCount=0}get lij(){return this._lij}static prune(){ne.prune(0),re.prune(0),J.prune()}get _isCached(){return!this.isLeaf&&this._mapDataRefCount<=0}get maxTesselation(){return this._maxTesselation}get isWithinClippingArea(){return this._isWithinClippingArea}get intersectsClippingArea(){return this._intersectsClippingArea}get clippingArea(){return this._clippingArea}get parent(){return this._parent}get children(){return this._children}get surface(){return this._surface}get elevationBoundsMin(){return this._elevationBoundsMin}get elevationBoundsMax(){return this._elevationBoundsMax}get level(){return this._lij[0]}get key(){return`${this._lij[0]}/${this._lij[1]}/${this._lij[2]}`}get edgeLen(){return this._edgeLen}get radius(){return this._center[oe.MIDDLE][3]}get visible(){return this._dirty&&this.computeVisibility(),this._visible}get frustumVisibility(){return this._dirty&&this.computeVisibility(),this._frustumVisibility}computeVisibility(){this._dirty=!1;const e=this.parent,t=e?.frustumVisibility??I.INTERSECTS;this._frustumVisibility=t===I.INSIDE?I.INSIDE:t===I.OUTSIDE?I.OUTSIDE:this._calculateFrustumVisibilityStatus(this.surface.frustum);const i=this._frustumVisibility!==I.OUTSIDE&&this._intersectsClippingArea;i!==this._visible&&(this._visible=i,this._surface.emit(\"tiles-visibility-changed\"),this._surface.renderer.setDirty(),this.updateAgentSuspension())}get loadable(){return this.visible||this._surface.view.state.fixedContentCamera}get rendered(){const e=!!this.renderData;return e!==this._previouslyRendered&&(this._surface.emit(\"tiles-visibility-changed\"),this._previouslyRendered=e,this._surface.renderer.setDirty()),e}init(e,t,i,s,n){this._lij[0]=e,this._lij[1]=t,this._lij[2]=i,this.ellipsoid=g(n.tilingScheme.spatialReference),n.tilingScheme.getExtent(e,t,i,this.extent),n.tilingScheme.convertExtentToRadians(this.extent,this.extentInRadians),this.extentMidX=.5*(this.extent[0]+this.extent[2]),this.extentMidY=.5*(this.extent[1]+this.extent[3]),this._isWithinClippingArea=!0,this._intersectsClippingArea=!0,this._clippingArea=null,this._mapDataRefCount=0,n.upsampleMapCache.pop(this.key),this._edgeLen=0,this._edgeLen2=0,this._center[oe.MIDDLE][3]=0,this.elevationLevel=e,s&&!Number.isNaN(s.elevationBoundsMin)?(this._elevationBoundsMin=s.elevationBoundsMin,this._elevationBoundsMax=s.elevationBoundsMax):(this._elevationBoundsMin=0,this._elevationBoundsMax=0),this._pendingUpdates=0,this.renderData=null,this.screenDepth=0,this._visible=!1,this._previouslyRendered=!1,this._parent=s,this.unsetChildren(),this._surface=n,this.updateVisibility(),this.maxLevelDeltaNeighborCount=0,this.unmergableChildCount=0;for(const r of L){const e=n.numLayers(r),t=this.layerInfo[r];for(const i of t)i.release();t.length=e;for(let i=0;i<e;i++)t[i]=J.acquire(this._surface.upsampleInfoPool),r===x.ELEVATION&&this.findElevationBoundsForLayer(i,-1)}this.computeElevationBounds(),this._maxTesselation=Math.min(n.tilingScheme.pixelSize,N)}dispose(){j(!this.renderData,\"tile.renderData was not unloaded\"),this._surface.upsampleMapCache.pop(this.key);for(const e of L){for(const t of this.layerInfo[e])t.release();this.layerInfo[e].length=0}this._parent=null;for(let e=0;e<4;++e)this._children[e]=null;this._surface=null,this.setMemoryDirty()}refMapData(){++this._mapDataRefCount,this._isCached||this._surface.upsampleMapCache.pop(this.key)}unrefMapData(){if(--this._mapDataRefCount,this._isCached){this.setMemoryDirty();const e=this._cachedMemory;e>0&&this._surface.upsampleMapCache.put(this.key,this,e)}}setMemoryDirty(){this._usedMemory=null}get usedMemory(){return this._ensureUsedMemory()+(this._isCached?0:this._mapTileMemoryInternal)}get _cachedMemory(){return this._isCached?this._mapTileMemory:0}get _mapTileMemory(){return this._ensureUsedMemory(),this.layerInfo[x.MAP].reduce(((e,t)=>e+(t instanceof A?t.usedMemory/t.referenced:0)),this._mapTileMemoryInternal)}get _cpuImageMemorySize(){const e=4,t=this._surface.tilingScheme.pixelSize;return t*t*e}_ensureUsedMemory(){if(null!=this._usedMemory)return this._usedMemory;this._usedMemory=this._baseUsedMemory,this._mapTileMemoryInternal=0;let e=0;for(const{data:i}of this.layerInfo[x.MAP])i instanceof A?e+=this._getTerrainDataMemory(i):this._mapTileMemoryInternal+=this._getTerrainDataMemory(i);const t=this._cpuImageMemorySize;for(const i of this.layerInfo[x.ELEVATION])this._usedMemory+=i.data?t:0;return this.renderData&&(this._usedMemory+=this.renderData.estimatedGeometryMemoryUsage,this._mapTileMemoryInternal+=this.renderData.texture?.usedMemory??0),this._isCached&&this._surface.upsampleMapCache.updateSize(this.key,this,this._mapTileMemoryInternal+e),this._usedMemory}getUsedMemoryForLayer(e,t){const i=this.layerInfo[e][t];return i?.data?e===x.MAP?this._isCached?0:this._getTerrainDataMemory(i.data):e===x.ELEVATION?this._cpuImageMemorySize:0:0}_getTerrainDataMemory(e){return e instanceof Q?e.texture.usedMemory:e instanceof HTMLImageElement||e instanceof M?this._cpuImageMemorySize:e instanceof O?e.memoryUsage:e instanceof A?e.usedMemory/e.referenced:0}updateScreenDepth(e){const t=this._center[oe.MIDDLE],i=e,s=t[0],n=t[1],r=t[2],a=i[2]*s+i[6]*n+i[10]*r+i[14];this.screenDepth=a<0?0:a/(i[3]*s+i[7]*n+i[11]*r+i[15])}shouldSplit(e,t,i){if(!this.visible)return K.NONE;if(e.frustum&&(!this._intersectsClippingArea||this._calculateFrustumVisibilityStatus(e.frustum)===I.OUTSIDE))return K.NONE;const h=this.level;s(pe,m(this._center[oe.MIDDLE]),t);let u=n(pe),d=pe,c=m(this._center[oe.MIDDLE]);s(fe,this._center[oe.TOP],t);const g=n(fe);g<u&&(u=g,d=fe,c=this._center[oe.TOP]),s(_e,this._center[oe.BOTTOM],t);const p=n(_e);if(p<u&&(u=p,d=_e,c=this._center[oe.BOTTOM]),this._edgeLen2>u&&h<e.maxLod)return K.SPLIT;const f=Math.sqrt(u),_=e.fovX*f*2,y=this._edgeLen/_,A=()=>{if(h<e.maxLod)return this.elevationLevel=h,K.NONE;const t=h+Math.ceil(-Math.log2(e.relativeWidthLimit/y));return t!==this.elevationLevel?(this.elevationLevel=t,K.ELEVATION):K.NONE},M=null!=i?i-h:1/0;if(M<=.5)return A();const T=r(this.up,pe),v=this._elevationBoundsMax-this._elevationBoundsMin,E=v/this.edgeLen;if(e.aboveGround&&T>0&&E<.001){if(T/f-Math.sin(this._curvatureHeight/(this.edgeLen*Math.SQRT1_2)*Math.PI)-E>0)return K.NONE}const D=null!=i?3-Math.min(M,2):1;if(y*D<e.relativeWidthLimit||h>=e.maxLod)return A();if(h<7)return K.SPLIT;a(me,this.up,T),s(me,me,d);const L=n(me);if(L<=this.radius*this.radius)return K.SPLIT;a(me,me,this.radius/Math.sqrt(L)),o(me,me,c),s(me,t,me);const x=Math.min(1,(Math.abs(r(me,this.up))+.5*v+this._curvatureHeight)/l(me)),S=ee/e.angledSplitBias,O=e.fovY*f*2;return x*(this._edgeLen/O*D)<S*e.relativeHeightLimit?K.NONE:K.SPLIT}setChildren(e,t,i,s){j(!!(e&&t&&i&&s),\"Null child passed\");const n=this._children;return n[0]=e,n[1]=t,n[2]=i,n[3]=s,n}unsetChildren(){this._children[0]=null,this._children[1]=null,this._children[2]=null,this._children[3]=null}get isLoaded(){return this.renderData?.hasGeometry??!1}load(){this.refMapData();for(const e of L)this._createOrUpdateAgents(0,e);this.surface.renderer.loadTile(this)}unload(e){e.unloadTile(this);for(const t of L){const e=this.layerInfo[t];for(const t of e)t.loadingAgent&&t.loadingAgent!==$&&(se(t.loadingAgent),t.loadingAgent=null),t.pendingUpdates=0}this.resetPendingUpdate(K.GEOMETRY),this.resetPendingUpdate(K.TEXTURE_NOFADING),this.resetPendingUpdate(K.TEXTURE_FADING),this.unrefMapData()}unloadMapData(){const e=this.layerInfo[x.MAP];for(const t of e)t.loadingAgent&&t.loadingAgent!==$&&(se(t.loadingAgent),t.loadingAgent=null),t.pendingUpdates=0;this.renderData&&this.renderData.releaseTexture(),this.setMemoryDirty()}updateClippingStatus(e){if(f(e,this._clippingArea))return!1;const t=this._intersectsClippingArea,i=this._isWithinClippingArea;null!=e?(this._intersectsClippingArea=this.intersectsExtent(e),this._isWithinClippingArea=this._isWithinExtent(e)):(this._intersectsClippingArea=!0,this._isWithinClippingArea=!0),this._clippingArea=e,this.updateVisibility();const s=i&&this._isWithinClippingArea,n=!(i||t||this._isWithinClippingArea||this._intersectsClippingArea);return!this.renderData||s||n||this.setPendingUpdate(K.GEOMETRY),!0}updateVisibility(){this._dirty=!0,this._surface.setTileTreeDirty()}getLayerInfo(e,t){return this.layerInfo[t][e]}hasLayerData(e,t){const i=this.layerInfo[t][e];return!(!i?.data||i.dataInvalidated)}get updating(){if(this.hasPendingUpdates)return!0;for(const e of L){const t=this.layerInfo[e];for(const e of t)if(e.loadingAgent&&e.loadingAgent!==$&&e.loadingAgent.updating)return!0}return!1}_isSuspended(e){return!!this.hasPendingUpdate(K.SPLIT)||e!==x.ELEVATION&&!this.loadable}get hasPendingUpdates(){return 0!==this._pendingUpdates}hasPendingUpdate(e){return(this._pendingUpdates&e)===e}setPendingUpdate(e){const t=this._pendingUpdates;return this._pendingUpdates|=e,e===K.SPLIT||e===K.MERGE?this._surface.setTileTreeDirty():this._surface.requestUpdate(),t!==this._pendingUpdates}resetPendingUpdate(e){return!!this.hasPendingUpdate(e)&&(this._pendingUpdates&=~e,!0)}requestLayerData(e,i,s){const n=this.layerInfo[i][e];if(n.waitingAgents.has(s))return console.warn(\"agent already requested this piece of map data (tile %s, agent tile %s, layer: %d/%d)\",this._lij.toString(),s.tile.lij.toString(),i,e),!0;if(n.waitingAgents.push(s),n.data&&!n.dataInvalidated){console.warn(\"agent requested existing data (tile %s, agent tile %s, layer: %d/%d)\",this._lij.toString(),s.tile.lij.toString(),i,e);const t=n.data&&\"type\"in n.data&&\"vector-tile\"===n.data.type;return s.dataArrived(this,t),!0}if(n.requestPromise)return!0;t(n.requestAbort),n.requestAbort=new AbortController;const r=this._surface.requestTileData(this,e,i,n.requestAbort);if(!r)return n.requestAbort=null,!1;const a=()=>{n.requestPromise===r&&(n.requestPromise=null,n.requestAbort=null)};return n.requestPromise=r,r.then(a,a),!0}get isLeaf(){return null==this._children[0]}hasLij(e){return this._lij[0]===e[0]&&this._lij[1]===e[1]&&this._lij[2]===e[2]}findByLij(e){if(this.hasLij(e))return this;const t=this._children;if(!t[0])return null;return t[0].findByLij(e)||t[1].findByLij(e)||t[2].findByLij(e)||t[3].findByLij(e)}distanceToSquared(e){return n(s(me,m(this._center[oe.MIDDLE]),e))}containsPoint(e){const t=this.extent;return e[0]>=t[0]&&e[1]>=t[1]&&e[0]<=t[2]&&e[1]<=t[3]}containsPointXY(e,t){const i=this.extent;return e>=i[0]&&t>=i[1]&&e<=i[2]&&t<=i[3]}unrequestLayerData(e,t,i){const s=this.layerInfo[t][e],n=s.waitingAgents,r=null!=n.removeUnordered(i);j(r,\"agent has not requested this piece of map data\"),n.length<1&&(s.abortRequest(),this.setMemoryDirty())}dataArrived(e,t,i){const s=null!=i&&\"type\"in i&&\"vector-tile\"===i.type,n=this.layerInfo[t][e];n.data=i,n.dataInvalidated=!1,n.waitingAgents.forAll((e=>e.dataArrived(this,s))),n.waitingAgents.clear(),this.setMemoryDirty()}dataMissing(e,t,i){i.notInTilemap||console.error(`Tile ${this._lij.toString()} layer ${t}/${e} error ${i}`);const s=this.layerInfo[t][e];s.dataMissing=!0,s.waitingAgents.forAll((e=>e.dataMissing())),s.waitingAgents.clear(),this.setMemoryDirty()}updateRenderData(e,t,i){switch(i&&this.forEachLoadedNeighbor((i=>i.updateRenderData(e,t))),e){case x.MAP:return this._updateTexture(t);case x.ELEVATION:return this._updateGeometry()}}_updateTexture(e){this.renderData&&(this.resetPendingUpdate(e===E.FADING?K.TEXTURE_NOFADING:K.TEXTURE_FADING),this.setPendingUpdate(e===E.FADING?K.TEXTURE_FADING:K.TEXTURE_NOFADING))}_updateGeometry(){this.setPendingUpdate(K.GEOMETRY);for(const e of this.layerInfo[x.ELEVATION])e.pendingUpdates|=K.GEOMETRY}invalidateLayerData(e,t){this.layerInfo[t][e].invalidateSourceData(),this.restartAgents(t)}computeElevationBounds(){const e=this._elevationBoundsMin,t=this._elevationBoundsMax;let i=1/0,s=-1/0;const n=this.layerInfo[x.ELEVATION];let r=!0;for(const a of n)null!=a.elevationBounds&&(i=Math.min(i,a.elevationBounds.min),s=Math.max(s,a.elevationBounds.max),a.elevationBounds.hasNoDataValues||(r=!1));r&&(i=Math.min(i,0),s=Math.max(s,0)),e===i&&t===s||(this._elevationBoundsMin=i,this._elevationBoundsMax=s,this.updateRadiusAndCenter(),this._surface.setTileTreeDirty())}_updateCenter(){const e=this._elevationBoundsMin,t=this._elevationBoundsMax,i=.5*(e+t),s=this._center;a(me,this.up,i),o(m(s[oe.MIDDLE]),this.centerAtSeaLevel,me),a(me,this.up,e),o(s[oe.TOP],this.centerAtSeaLevel,me),a(me,this.up,t),o(s[oe.BOTTOM],this.centerAtSeaLevel,me)}findElevationBoundsForLayer(e,t){const i=this.layerInfo[x.ELEVATION][e],s=b(this.level),n=Math.max(this.elevationLevel-s,0),r=i.elevationBounds;if(null!=r&&r.level>=t&&r.level<=n)return;const a=this._surface.layerViewByIndex(e,x.ELEVATION),o=U(a);if(!Z(this,o,!1))return;const l=ae;let h=!1;const u=i.data;if(u&&u.level<=n){const e=i.data;l.min=e.samplerData.data.minValue,l.max=e.samplerData.data.maxValue,l.hasNoDataValues=e.samplerData.data.hasNoDataValues,l.level=this.level,h=!0}else{let t,i,r=0;for(let a=this._parent;a&&(!i||r<s)&&(r=this.elevationLevel-a.level,t=i||t,i=a.layerInfo[x.ELEVATION][e].data,!(!i&&t&&a.level<=n));a=a.parent);i=i||t,i&&(i.computeMinMaxValue(this._lij[0],this._lij[1],this._lij[2],l),l.min!==1/0&&(l.level=i.level,h=!0))}h&&(null==i.elevationBounds&&(i.elevationBounds=new T),i.elevationBounds.copyFrom(l))}modifyLayers(e,t,i){const s=this.layerInfo[i];for(const a of s)a.loadingAgent&&a.loadingAgent!==$&&(se(a.loadingAgent),a.loadingAgent=null),a.waitingAgents.clear();for(let a=0;a<s.length;++a)void 0===e[a]&&s[a].release();const n=new Array(...s),r=t.length;s.length=r;for(let a=0;a<r;a++){const e=t[a];s[a]=e>-1?n[e]:J.acquire(this._surface.upsampleInfoPool)}this.setMemoryDirty()}restartAgents(e){this.renderData&&(this._createOrUpdateAgents(0,e),this.updateRenderData(e,E.FADING))}updateAgents(e){if(this.renderData){const t=this.layerInfo[e];for(const e of t)e.loadingAgent===$&&(e.loadingAgent=null);this._createOrUpdateAgents(0,e)}}updateAgentSuspension(){for(const e of L){const t=this._isSuspended(e);for(const i of this.layerInfo[e])i.loadingAgent&&i.loadingAgent!==$&&(i.loadingAgent.setSuspension(t),i.loadingAgent===$&&this.updateRenderData(e,E.FADING))}}removeLayerAgent(e,t){const i=this.layerInfo[t][e];i.loadingAgent&&i.loadingAgent!==$&&i.loadingAgent.dispose(),i.loadingAgent=null}agentDone(e,t){const i=this.layerInfo[t][e];i.loadingAgent=$,i.data||null!=i.upsampleInfo||this._createOrUpdateAgents(e+1,t)}_hasBlendableAncestor(e){return\"normal\"!==e.blendMode||y(e.parent)&&this._hasBlendableAncestor(e.parent)}_hasBlendModes(e,t,i){for(let s=e;s<t;++s){const e=this._surface.layerViewByIndex(s,i);if(C(e)&&\"normal\"!==e?.layer?.blendMode||y(e?.layer?.parent)&&this._hasBlendableAncestor(e?.layer?.parent))return!0}return!1}_createOrUpdateAgents(e,t){const i=this.layerInfo[t];if(0===i.length)return;const s=this._isSuspended(t);for(let n=e;n<i.length;++n){const r=i[n];let a=!1;const o=this._surface.layerViewByIndex(n,t),l=U(o);if(r.loadingAgent?Z(this,l,!1)?(r.loadingAgent!==$&&r.loadingAgent.setSuspension(s),r.loadingAgent!==$&&(a=r.loadingAgent.update())):r.dispose():Z(this,l,!1)&&(r.loadingAgent=ie(this,n,t,s),a=r.loadingAgent.startLoading(),a?r.loadingAgent===$&&this.setPendingUpdate(K.GEOMETRY):(se(r.loadingAgent),r.loadingAgent=$)),r.loadingAgent===$&&this.updateRenderData(t,E.FADING),!this._hasBlendModes(e,i.length,t)&&a&&o.isOpaque)return}}_isWithinExtent(e){const t=this.extent;return t[0]>=e[0]&&e[2]>=t[2]&&t[1]>=e[1]&&e[3]>=t[3]}intersectsExtent(e){const t=this.extent;return t[2]>=e[0]&&e[2]>=t[0]&&t[3]>=e[1]&&e[3]>=t[1]}getElevationVerticesPerSide(t){const i=this.elevationLevel-this.level,s=Math.max(this.level-t,b(this.level)-i),n=e(1+(this.maxTesselation>>s),2,this.maxTesselation+1),r=this.getDefaultVerticesPerSide();return Math.max(n,r)}get test(){return{cachedMemory:this._cachedMemory}}_findLIJ(e,t){if(!e)return null;const i=this.surface.rootTiles;if(null!=i)for(const s of i)if(le(s,e)){let i=s,n=e[0]-i.level-1;for(;n>=0&&!i.isLeaf&&!t(i);){const t=e[1]>>n&1,s=e[2]>>n&1;i=i.children[2*t+s],n--}return t(i)?i:null}return null}findNeighborTile(e,t){const i=this._lij,s=this.getNeighborLIJ(i,e);return s?he(i,s)?t(this)?this:null:this._findLIJ(s,t):null}findCorner(e,t){const i=e===D.NORTH_EAST?1:e===D.NORTH_WEST?0:e===D.SOUTH_WEST?2:3;let s=this;for(;s.children[0]&&(!t||!t(s));)s=s.children[i];return s}findNeighborCornerTileExact(e,t){return this.findNeighborTile(e,(e=>t(e)||e.level===this.level))?.findCorner(B(e),t)||null}forAllSubtreeOnSide(e,t){const i=e===D.NORTH?[0,1]:e===D.NORTH_EAST?[1]:e===D.EAST?[1,3]:e===D.SOUTH_EAST?[3]:e===D.SOUTH?[2,3]:e===D.SOUTH_WEST?[2]:e===D.WEST?[0,2]:[0],s=e=>{const n=e.children;!t(e)&&n[0]&&i.forEach((e=>s(n[e])))};s(this)}getNeighborEdgeStartVertexIndex(e,t){if(!t)return 0;const i=this.level-t.level;if(P(!R||i>=0),0===i)return 0;const s=2**i,n=!(1&~e),r=n?0:1,a=t.lij[r+1]*s,o=this._lij[r+1],l=o-a,h=n?s-1-l:l;return R&&(P(a<=o&&o<a+s),P(0<=h&&h<s)),h}forEachLoadedNeighbor(e){const t=this.level,i=e=>e.level===t||e.isLoaded;V.forEach((t=>{const s=this.findNeighborTile(t,i);null!=s&&s!==this&&s.forAllSubtreeOnSide(w(t),(i=>!!i.isLoaded&&(e(i,t),!0)))})),G.forEach((t=>{const s=this.findNeighborTile(t,i)?.findCorner(B(t),(e=>e.isLoaded));P(!s||de(this,s,t)),s?.isLoaded&&e(s,t)}))}getNeighborLIJ(e,t){const i=W(t)?-1:q(t)?1:0,s=F(t)?-1:H(t)?1:0,n=[e[0],e[1]+i,e[2]+s];return n[1]<0?null:this.surface.isGlobal?this.wrapLIJ(n):n[2]<0?null:n}wrapLIJ(e){return!e||e[1]<0||e[1]>=2**e[0]?null:this.surface.wrapEastWest(e)}get westNeighborWestExtent(){return this.extent[0]*(this.isWestEnd?-1:1)}get eastNeighborEastExtent(){return this.extent[2]*(this.isEastEnd?-1:1)}get isEastEnd(){return this._lij[2]===this.surface.lijEastEnd(this.level)-1}get isWestEnd(){return 0===this._lij[2]}get isNorthEnd(){return 0===this._lij[1]}get isSouthEnd(){const e=this.surface.extent,t=e?.[1]??null;return null!=t&&this.extent[1]+c()>=t}checkGeometryWaterproofness(){k&&(P(this.isLoaded),this.renderData?.checkGeometryWaterproofness())}shouldHaveNeighbor(e){const t=this.extent,i=this.surface.rootTilesExtent,s=.25*(t[2]-t[0]);if(W(e)&&t[3]+s>=i[3])return!1;if(q(e)&&t[1]-s<=i[1])return!1;const n=this.surface.isGlobal;return!(!n&&F(e)&&t[0]-s<=i[0])&&!(!n&&H(e)&&t[2]+s>=i[2])}updateDistanceToPOI(e){const t=this._lastPOI;if(this.distanceToPOI>=0&&t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2])return;h(this._lastPOI,e);const i=this._center[oe.MIDDLE],s=e[0]-i[0],n=e[1]-i[1],r=e[2]-i[2];this.distanceToPOI=s*s+n*n+r*r}}function ie(e,t,i,s){const n=i===x.ELEVATION?re.acquire():ne.acquire();return n.init(e,t,i,s),n}function se(e){e.dispose(),e instanceof v?re.release(e):e instanceof S&&ne.release(e)}const ne=new i(S),re=new i(v),ae=new T;var oe;function le(e,t){const i=e.lij,s=t[0]-i[0];return!(s<0)&&(t[1]>>s===i[1]&&t[2]>>s===i[2])}function he(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function ue(e,t,i){if(null==e||null==t)return!1;if(0===e.level&&0===t.level){if(e.isEastEnd&&t.isWestEnd&&i===D.EAST)return!0;if(e.isWestEnd&&t.isEastEnd&&i===D.WEST)return!0}const s=Math.max(1e-6*(e.extent[2]-e.extent[0]),1);switch(i){case D.NORTH:return X(e.extent[3],t.extent[1],s);case D.SOUTH:return X(e.extent[1],t.extent[3],s);case D.EAST:return X(e.extent[2],t.extent[0],s)||X(e.extent[2],-t.extent[0],s);case D.WEST:return X(e.extent[0],t.extent[2],s)||X(e.extent[0],-t.extent[2],s)}}function de(e,t,i){return null!=e&&null!=t&&t!==e&&(e.level>=t.level?ce(e,t,i):ce(t,e,B(i)))}function ce(e,t,i){P(e.level>=t.level);const s=Y(i),n=z(i),r=e.extent,a=t.extent,o=[s?r[0]:r[2],n?r[3]:r[1]],l=[s?a[2]:a[0],n?a[1]:a[3]],h=1e-5*(r[2]-r[0]),u=X(o[0],l[0],h)||e.surface.isGlobal&&X(o[0],-l[0],h),d=X(o[1],l[1],h);if(u&&d)return!0;if(e.level===t.level)return P(!1),!1;if(!u&&!d)return P(!1),!1;const c=u?ge(a[1],a[3],r[1],r[3],h):ge(a[0],a[2],r[0],r[2],h);return P(c),c}function ge(e,t,i,s,n){return e-n<=i&&i<=s&&s<=t+n}!function(e){e[e.TOP=0]=\"TOP\",e[e.MIDDLE=1]=\"MIDDLE\",e[e.BOTTOM=2]=\"BOTTOM\"}(oe||(oe={}));const pe=u(),fe=u(),_e=u(),me=u();export{oe as CenterPosition,te as Tile,de as isCornerNeighbor,ue as isEdgeNeighbor,he as lijEquals};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{fromValues as s}from\"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";class t{constructor(){this._scales=s(-1,-1,-1,-1),this._offsets=s(-1,-1,-1,-1)}clear(){this._scales[0]=this._scales[1]=this._scales[2]=this._scales[3]=-1,this._offsets[0]=this._offsets[1]=this._offsets[2]=this._offsets[3]=-1}setScale(s,t,e){this._scales[2*s]=t,this._scales[2*s+1]=e}setOffset(s,t,e){this._offsets[2*s]=t,this._offsets[2*s+1]=e}get scales(){return this._scales}get offsets(){return this._offsets}}export{t as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ViewingMode as e}from\"../../../ViewingMode.js\";import{a as i}from\"../../../../chunks/Terrain.glsl.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{StencilBits as n}from\"../lib/basicInterfaces.js\";import{Program as l}from\"../lib/Program.js\";import{renderWhenBitIsNotSet as s}from\"../lib/StencilUtils.js\";import{VertexAttribute as o}from\"../lib/VertexAttribute.js\";import{BlendFactor as c,CompareFunction as a}from\"../../../webgl/enums.js\";import{makePipelineState as d,simpleBlendingParams as u,backFaceCullingParams as p,defaultDepthWriteParams as m,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";class g extends t{constructor(){super(...arguments),this.useStencil=!1}initializeConfiguration(i,r){r.spherical=i.viewingMode===e.Global}initializeProgram(e){return new l(e.rctx,g.shader.get().build(this.configuration),f)}initializePipeline(){return this._stencilPipelineState=this._createPipeline(!0),this._createPipeline(!1)}_createPipeline(e){const i=this.configuration,r=i.backfaceCullingEnabled&&!i.renderOccluded;return d({blending:i.renderOccluded?u(c.ONE,c.ONE_MINUS_SRC_ALPHA):null,culling:r?p:null,depthTest:i.renderOccluded?null:{func:a.LESS},depthWrite:i.renderOccluded?null:m,colorWrite:h,stencilTest:e?s(n.IntegratedMeshMaskExcluded):null})}getPipeline(){return this.useStencil?this._stencilPipelineState:super.getPipeline()}}g.shader=new r(i,(()=>import(\"../core/shaderLibrary/terrain/Terrain.glsl.js\")));const f=new Map([[o.POSITION,0],[o.UV0,1],[o.NORMALCOMPRESSED,2]]);export{g as TerrainTechnique,f as terrainVertexAttributeLocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{equals as e}from\"../../../core/arrayUtils.js\";import{isPowerOfTwo as t}from\"../../../core/mathUtils.js\";import{disposeMaybe as r}from\"../../../core/maybe.js\";import{q as i,o as s,H as o,f as a,n,k as l,z as g,G as d}from\"../../../chunks/vec32.js\";import{create as h,clone as m}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{containsXY as u}from\"../../../geometry/support/aaBoundingRect.js\";import{earth as c}from\"../../../geometry/support/Ellipsoid.js\";import{glLayout as f}from\"../support/buffer/glUtil.js\";import{GeometryState as p}from\"./GeometryState.js\";import{NeighborIndex as y}from\"./ITile.js\";import{LayerClass as _}from\"./LayerClass.js\";import{PatchGeometry as x}from\"./PatchGeometry.js\";import{maxTileNeighborLevelDelta as v}from\"./TerrainConst.js\";import{enableTerrainInternalChecks as E,internalAssert as $,neighborEdgeIndices as S,oppositeEdge as C,neighborCornerIndices as D,v32s as T,lij2s as b}from\"./terrainUtils.js\";import{TextureFader as j,ActivationTime as A}from\"./TextureFader.js\";import{isEdgeNeighbor as V}from\"./Tile.js\";import R from\"./TileOverlayData.js\";import{fallsWithinLayer as w}from\"./tileUtils.js\";import{VertexArrayObject as L}from\"../webgl-engine/lib/VertexArrayObject.js\";import{terrainVertexAttributeLocations as N}from\"../webgl-engine/shaders/TerrainTechnique.js\";import{BufferObject as P}from\"../../webgl/BufferObject.js\";import{PixelFormat as F}from\"../../webgl/enums.js\";class G{constructor(){this.geometry=new x,this.intersectionData=null,this.geometryState=null,this._vao=null,this._texture=null,this._textureRef=new j((()=>this.tile.surface.fadeDuration)),this.overlay=new R,this._localOrigin=null,this._geometryStateChangedSinceLastUpdate=!0,this._hasGeometry=!1,this._modifiedFlags=0}get tile(){return this._tile}get localOrigin(){return this._localOrigin}init(e,t){this.clear(),this._tile=e,this.geometry.reset(),this.intersectionData=null,this.geometryState=new p,this._localOrigin=t,this.overlay.clear()}clear(){this.releaseGeometry(),this.releaseTexture(),this._textureRef.clear(),this._tile=null,this.intersectionData=null,this.geometryState=null}updateGeometryIfNeeded(e){if((!this._vao||this._geometryStateChangedSinceLastUpdate||this.wireframeChanged||this.clippingAreaChanged||this.samplerDataChanged||this.numVerticesPerSideChanged||this.dirtyCorners||this.dirtyEdgeResolutions||this.dirtyEdges)&&(this._updateGeometry(e),this._geometryStateChangedSinceLastUpdate=!1),E&&this.tile.intersectsClippingArea)for(let t=0;t<4;++t)$(this.geometry.getEdgeCount(t)===this.geometryState.edgeResolutions[t]+1)}_calculateEdgeResolution(e,t){const r=this.tile,i=this.geometryState.numVerticesPerSide-1;if(!r.surface.isGlobal){const t=r.surface.extent;if(null!=t&&(0===e&&r.extent[3]>t[3]||1===e&&r.extent[2]>t[2]||2===e&&r.extent[1]<t[1]||3===e&&r.extent[0]<t[0]))return i}const s=r.level,o=S[e];if(!t)return $(null==r.surface?.rootTiles||r.surface.updatingRootTiles||!r.shouldHaveNeighbor(o)),i;if(t.isLoaded){const r=t,o=r.renderData.geometryState,a=s-r.level;if($(a>=0),0===a){const e=o.numVerticesPerSide-1;return Math.max(e,i)}const n=2**a,l=o.edgeResolutions[(e+2)%4]/n;return Math.max(1,l)}$(!t.isLeaf);let a=i;return t.forAllSubtreeOnSide(C(o),(e=>e===r||(e.isLoaded?(a=Math.max(a,2**(e.level-s)),!0):($(!e.isLeaf),!1)))),a}updateNeighborData(){const e=this.tile;if(!e.intersectsClippingArea)return;const r=e.renderData.geometryState,i=t=>(t.isLoaded||t.level===e.level)&&t?.intersectsClippingArea,s=r.edgePeerNeighbors,o=r.edgePeerNeighborSamplerVersions;for(let a=0;a<4;++a){const n=e.findNeighborTile(S[a],i),l=W(e,n),g=l?.renderData?.geometryState.samplerDataVersion??-1,d=s[a],h=l!==W(e,d),m=o[a]!==g;E&&n&&($(e.level>=n.level),$(e.level-n.level<=v)),s[a]=n,(h||m)&&(o[a]=g,this._markEdgeDirty(a));const u=r.edgeResolutions[a],c=this._calculateEdgeResolution(a,n);$(t(c)),$(c>=1),r.edgeResolutions[a]=c,u!==c&&this._markEdgeResolutionDirty(a)}for(let t=0;t<4;++t){const o=e.findNeighborTile(D[t],i);r.cornerPeerNeighbors[t]=o;const a=W(e,s[t]),n=W(e,s[(t+1)%4]),l=W(e,o);B[t]=l,B[(t+1)%4]=n,B[(t+2)%4]=e,B[(t+3)%4]=a,$(B.some((t=>t?.isLoaded||t===e)));const g=B.reduce(((e,t)=>Math.min(e,t?.level??1/0)),1/0);B.forEach(((e,t)=>{e&&e?.level>g&&(B[t]=null)})),$(B.some((t=>t?.isLoaded||t===e)));const d=r.cornerNeighborCornerTiles,h=r.cornerNeighborCornerTileSamplerVersions;for(let e=0;e<4;++e){const r=B[e],i=r?.renderData.geometryState.samplerDataVersion??-1,s=4*t+e,o=d[s]!==r,a=!o&&h[s]!==i;(o||a)&&(d[s]=r,h[s]=i,this._markCornerDirty(t))}E&&$(ee.some((r=>d[4*t+r]?.isLoaded||d[4*t+r]===e)))}E&&$(this.geometryState.edgeResolutions.every((e=>e>0)));for(let t=0;t<4;++t)B[t]=null}_updateGeometry(e){if(!this.tile.intersectsClippingArea)return;E&&$(!this.tile.intersectsClippingArea||this.geometryState.edgeResolutions.every((e=>e>0))),this.intersectionData=null;const{tile:t,_vao:r,geometry:i,geometryState:s}=this,o=!r||!{geometry:i}||this.wireframeChanged||this.samplerDataChanged||this.clippingAreaChanged||this.numVerticesPerSideChanged,a=0!==this.dirtyEdgeResolutions,n=s.edgeResolutions.reduce(((e,t)=>e+t+1),0),l=o||a&&n>(i?.maxEdgeVertexCount??0),g=!l&&a,d=!g&&(0!==this.dirtyEdges||a),h=!d&&0!==this.dirtyCorners;l?(this.releaseGeometry(),this._createGeometry(e)):g?t.updateEdgeElevationsAndResolutions():d||h?t.updateEdgeElevations():h?t.updateCornerElevations():console.warn(\"Update for no reason?\"),this._modifiedFlags=0}get hasGeometry(){return this._hasGeometry}releaseGeometry(){return this._hasGeometry=!1,this.intersectionData=null,!!this._vao&&(this._vao=r(this._vao),this.geometry.release(),!0)}ensureTexture(e,t,r){const i=t?F.RGBA:F.RGB;return null==this._texture||this._texture.descriptor.width===e&&this._texture.descriptor.pixelFormat===i||this.releaseTexture(),null==this._texture&&(this._texture=r(),this.tile.setMemoryDirty()),this._texture}releaseTexture(){null!=this._texture&&(this._texture.release(),this._texture=null,this.tile.setMemoryDirty())}get numVerticesPerSideChanged(){return!!(this._modifiedFlags&q)}get samplerDataChanged(){return!!(this._modifiedFlags&z)}get clippingAreaChanged(){return!!(this._modifiedFlags&J)}get wireframeChanged(){return!!(this._modifiedFlags&K)}get dirtyEdges(){return this._modifiedFlags>>Q&15}get dirtyCorners(){return this._modifiedFlags>>Y&15}get dirtyEdgeResolutions(){return this._modifiedFlags>>Z&15}_markCornerDirty(e){const t=1<<e<<Y;this._modifiedFlags|=t}_markEdgeDirty(e){const t=1<<e<<Q;this._modifiedFlags|=t,this._markCornerDirty((e+0)%4),this._markCornerDirty((e+3)%4)}_markEdgeResolutionDirty(e){const t=1<<e<<Z;this._modifiedFlags|=t,this._markEdgeDirty(e)}_markAllEdgesAndCornersDirty(){this._modifiedFlags|=15<<Y|15<<Q|15<<Z}updateGeometryState(){const t=this._getElevationInfo(),r=this.tile,i=t.samplerData?r.getElevationVerticesPerSide(t.maxTileLevel):r.getDefaultVerticesPerSide(),s=Math.max(i,5);let o=r.clippingArea;r.intersectsClippingArea&&!r.isWithinClippingArea||(o=null);const a=this.geometryState;let n=!1;a.numVerticesPerSide!==s&&(this._modifiedFlags|=1,a.numVerticesPerSide=s,a.samplerDataVersion++,n=!0),t.changed&&(this._modifiedFlags|=2,a.samplerData=t.samplerData,a.samplerDataVersion++,n=!0),e(a.clippingArea,o)||(this._modifiedFlags=4,a.clippingArea=o,n=!0);const l=r.surface.wireframe;return a.wireframe!==l&&(this._modifiedFlags=8,a.wireframe=l,n=!0),this._geometryStateChangedSinceLastUpdate||=n,n&&this._markAllEdgesAndCornersDirty(),this._hasGeometry=!0,this._geometryStateChangedSinceLastUpdate}_createGeometry(e){this.tile.createGeometry();const t=this.geometry.vertexAttributes,r=this.geometry.indices,i=e.gl;this._vao=new L(e,N,{geometry:f(t.layout)},{geometry:P.createVertex(e,i.STATIC_DRAW,t.buffer)},P.createIndex(e,i.STATIC_DRAW,r)),this._hasGeometry=!0}get vao(){return this._vao}setTextureReference(e,t=A.Immediate){null!=e&&e.texture!==this._texture&&this.releaseTexture(),this._textureRef.push(e,t)}get textureReference(){return this._textureRef.current}get nextTextureReference(){return this._textureRef.next}get textureFadeFactor(){return this._textureRef.fadeFactor}get textureIsFading(){return this._textureRef.isFading}_getElevationInfo(){const e=this.geometryState.samplerData,t=this.tile.layerInfo[_.ELEVATION],r=t.length,i=new Array(r);let s=0,o=0,a=!1;for(let g=0;g<r;g++){const r=t[g];if(null!=r.upsampleInfo){const t=r.upsampleInfo.tile,n=t.layerInfo[_.ELEVATION][g].data,l=n&&n.samplerData;e&&e[s]===l||(a=!0),i[s++]=l,o=Math.max(o,t.lij[0])}else if(r.data){const t=this.tile.surface.layerViewByIndex(g,_.ELEVATION);if(w(this.tile,t.layer,!1)){const t=r.data;e&&e[s]===t.samplerData||(a=!0),i[s++]=t.samplerData,o=this.tile.level}}}null!=e&&e.length!==s&&(a=!0);const n=s>0,l=n?i:null;return n&&(i.length=s),{changed:a,samplerData:l,maxTileLevel:o}}get estimatedGeometryMemoryUsage(){const e=this.intersectionData?.estimatedMemoryUsage??0;return(this.geometry.indices?.byteLength??0)+(this.geometry.vertexAttributes?.byteLength??0)+e}get texture(){return this._texture}get test(){return{hasTexture:null!=this._texture}}checkGeometryWaterproofness(){if(!E)return;const e=this.tile;if(!e.isLoaded||!e.intersectsClippingArea||0===e.level)return void $(e?.isLoaded);const r=e.surface.extent;if(null!=r&&!e.intersectsExtent(r))return;const f=S.map(((t,i)=>null!=r&&(i<2?-1:1)*(e.extent[3-i]-r[3-i])<0)),p=e.level;$(0===this.dirtyCorners),$(0===this.dirtyEdges),$(0===this.dirtyEdgeResolutions),$(!this.numVerticesPerSideChanged),$(!this.samplerDataChanged),$(!this.clippingAreaChanged),$(!this.wireframeChanged);const _=D.map((t=>e.findNeighborCornerTileExact(t,(t=>!t.intersectsClippingArea||t.isLoaded||t.level===e.level))??null)).map((e=>e?.intersectsClippingArea?e:null)),x=this.geometryState;for(let t=0;t<4;++t){const r=x.cornerPeerNeighbors[t],i=_[t];$(i===r,`Tile[${e.lij}].corner[${t}] out of date: cur=[${r?.lij}] exp=[${i?.lij}]`)}S.forEach(((r,_)=>{if(f[_])return;const x=e.findNeighborTile(r,(e=>(e.level===p||e?.isLoaded)&&e?.intersectsClippingArea));if(!x){const t=!e.surface.updatingRootTiles&&null!=e.surface.rootTiles&&e.surface.rootTiles.length>0&&e.shouldHaveNeighbor(r);return void $(!t)}$(x.isLoaded||x.level===e.level),$(x===this.geometryState.edgePeerNeighbors[_]);const v=p-x.level;if(!x.isLoaded)return $(!x.isLeaf),void $(0===v);const E=x.renderData;$(V(e,x,r)),$(v>=0);const S=2**v;if(v<0)return void $(!1);const C=e.renderData,D=C.geometry,j=C.localOrigin,A=D.getEdgeCount(_),R=D.numVerticesPerSide-1,w=E.geometry;if(!w)return void $(!1);const L=E.localOrigin,N=this.geometryState.edgePeerNeighbors[_];if(N?.isLoaded){const e=N.renderData;$(C.geometryState.edgePeerNeighborSamplerVersions[_]===e.geometryState.samplerDataVersion),$(this.geometryState.edgePeerNeighborSamplerVersions[_]===e.geometryState.samplerDataVersion)}const P=(_+2)%4,F=w.getEdgeCount(P),G=A-1,B=F-1;$(G*S===B,`Tile[${e.lij}]:e${_},res=${G} edgeRes mismatch with Neighbor[${x.lij}]:e${P},res=${B} (expected:${G*S})`);const W=e.extent,q=r===y.NORTH||r===y.SOUTH,z=F-1,J=z>>v,K=A-1;if(J<1)return void $(1===K);$(J===K),$(t(J));const Q=w.numVerticesPerSide-1;$(v>0||J===Math.max(Q,R));const Y=e.getNeighborEdgeStartVertexIndex(_,x);$(0<=Y&&Y<S);const Z=Y*J;$(0<=Z&&Z<=z-J);let ee=0,te=Z;D.getEdgeVertexPosition(_,O,j,0),D.getEdgeVertexPosition(_,I,j,A-1);const re=i(O,I),ie=Math.max(X,1e-4*re);for(let t=0;t<=J;++t){D.getEdgeVertexPosition(_,O,j,ee),w.getEdgeVertexPosition(P,I,L,te);const i=t/J,f=q?W[0]+i*(W[2]-W[0]):r===y.WEST?W[0]:W[2],p=q?r===y.SOUTH?W[1]:W[3]:W[1]+i*(W[3]-W[1]),v=e.surface.extent;if(null==v||u(v,f,p)){const t=s(O,I),r=o(O)-c.radius,i=o(I)-c.radius,u=t<ie;if(!u){console.warn(`Tile edge vertex position mismatch: between [${e.lij}].edge${_}[${ee}/${A}] and [${x.lij}].edge${P}[${te}/${F}]`),null!=v&&console.warn(\"  surface extent= \",v,\" x,y=\",f,\",\",p);const s=h();a(s,C.localOrigin,E.localOrigin),o(s)>0&&console.warn(`   localOrigins: ${C.localOrigin} vs ${E.localOrigin} d=${o(s)} [${s}]`);(()=>{const t=m(O),r=m(I);e.updateEdgeElevations(),x.updateEdgeElevations(),D.getEdgeVertexPosition(_,O,j,ee),w.getEdgeVertexPosition(P,I,L,te);const i=h();g(i,O,t),o(i)>0&&console.warn(`  XXX Tile[${e.lij}] edge out of date: ${t} vs ${O} d=${o(i)} [${i}]`),g(i,I,r),o(i)>0&&console.warn(`  XXX Neighbor[${x.lij}] edge out of date: ${r} vs ${I} d=${o(i)} [${i}]`)})();const n=D.getEdgeCount(_),l=w.getEdgeCount(F);$(u,`Mismatch in tile [${e.lij}].edge[${_}][${ee}/${n}] vs neighbor [${x.lij}].edge[${P}][${te}/${l}] ${T(O)} vs ${T(I)}  dist=${t} h(t|n|d)=${r}|${i}|${i-r}`)}D.getEdgeNormal(_,M,ee),w.getEdgeNormal(P,U,te),n(k,M),n(H,U);const y=l(k,H),S=1-y<.01||!1||e===x;if(!S){const t=h();g(t,M,U);const r=()=>`Mismatch in tile edge normal ${b(e.lij)} (${ee}/${A-1}) edge ${_} vs neighbor ${b(x.lij)}  (${te}/${F-1}) nedge ${P} :${T(M)} vs ${T(U)}  dot = ${y} : ${T(t)}`;console.warn(\"Mismatch in tile edge normal: \",r());{e.updateEdgeElevations(),x.updateEdgeElevations();const t=h(),r=h();D.getEdgeNormal(_,t,ee),w.getEdgeNormal(P,r,te),d(M,t)||console.warn(\"Missing update in tile normal: \",T(M),\" => \",T(t)),d(U,r)||console.warn(\"Missing update in neighbor normal: \",T(U),\" => \",T(r))}$(S,r())}}ee+=1,te+=1}}))}}const O=h(),I=h(),M=h(),U=h(),k=h(),H=h(),X=1,B=[null,null,null,null];function W(e,t){return t?.isLoaded||t===e?t:null}const q=1,z=2,J=4,K=8,Q=4,Y=8,Z=12,ee=[0,1,2,3];export{A as ActivationTime,G as PatchRenderData,W as neighborTileIfLoadedOrSelf,ee as zeroToFour};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{isPowerOfTwo as e,clamp as t}from\"../../../core/mathUtils.js\";import{empty as n}from\"../../../geometry/support/aaBoundingBox.js\";import{fromValues as o}from\"../../../geometry/support/aaBoundingRect.js\";import{sampleElevation as s}from\"./ElevationData.js\";import{PatchType as r}from\"./interfaces.js\";import{NeighborIndex as i}from\"./ITile.js\";import{encodeUVInBuffer as a}from\"./PatchGeometry.js\";import{PatchGeometryLUT as c}from\"./PatchGeometryLUT.js\";import{neighborTileIfLoadedOrSelf as l,zeroToFour as u}from\"./PatchRenderData.js\";import{internalAssert as d,enableTerrainInternalChecks as f,neighborEdgeIndices as m,almostEquals as g}from\"./terrainUtils.js\";import{isCornerNeighbor as p}from\"./Tile.js\";import{compareTilesByLij as x}from\"./tileUtils.js\";import{compressNormal as h}from\"../webgl-engine/lib/Normals.js\";const M=65536;function S(e,t){const{tile:o,geometry:s,geometryState:i}=e,{extentInRadians:a,surface:c}=o,{isWebMercator:l,renderer:u}=c,{numVerticesPerSide:d,wireframe:f}=i,m=d-1,g=(d-2)**2,p=l&&(t===r.HAS_SOUTH_POLE||t===r.HAS_BOTH_POLES),x=l&&(t===r.HAS_NORTH_POLE||t===r.HAS_BOTH_POLES),h=((p?1:0)+(x?1:0))*pe*d,M=fe(i),S=g+h+4*M,L=u.tileGeometryCache.acquire(S);s.numVerticesPerSide=d,s.vertexAttributes=L,s.maxEdgeVertexCount=M;const{boundingBox:B}=s;n(B);const I=O(e);re.update(m,a,I),v(e),s.poleVerticesStartIndex=g;const b=y(e,p,x);s.edgeVerticesStartIndex=g+h,X(e),V(e),W(s,b,f),e.intersectionData=null}function y(e,t,n){const{tile:o,localOrigin:s,geometry:r}=e,{extent:i,ellipsoid:c}=o,{boundingBox:l,numVerticesPerSide:u,vertexAttributes:d,poleVerticesStartIndex:f}=r,m=u-1,g=s[0],p=s[1],x=s[2],M=c.radius,S=i[1],y=i[3],v=[];let L=f;const B=(e,t)=>{const n=t*u;de(-g,-p,e*M-x,l),v.push(new oe(1===e,n,1===e?0:2,L,pe));const o=P(-1===e?S:y,M),s=e*Math.PI/2-o,r=.99*(1===e?1:-1),i=M+0,{position:c,uv0:f}=d,{typedBuffer:B,typedBufferStride:I}=d.normalCompressed;for(let u=1;u<=pe;++u){const e=o+s*(u/pe),t=Math.cos(e),n=Math.sin(e);for(let o=0;o<=m;o++){const e=o/m,s=re.sinLonLUT[o],u=re.cosLonLUT[o]*t,d=s*t,M=n,S=u*i-g,y=d*i-p,v=M*i-x;de(S,y,v,l),c.setValues(L,S,y,v),a(f,L,e,r),h(B,L,u,d,M,I),++L}}};return t&&B(-1,0),n&&B(1,m),v}function v(e){const{tile:t}=e;if(!t.intersectsClippingArea)return;const{geometry:n,geometryState:o,localOrigin:r}=e,{numVerticesPerSide:i,samplerData:c}=o,l=i-2,u=i-1,{vertexAttributes:d,boundingBox:f}=n,m=d.position,g=d.uv0,{typedBuffer:p,typedBufferStride:x}=d.normalCompressed,{extent:M}=t,S=M[0],y=M[2],v=M[1],L=M[3],B=t.ellipsoid.radius,I=r[0],V=r[1],b=r[2],C=m.typedBuffer,P=m.typedBufferStride,A=1/u;let E=0;if(1<=l){const e=A,t=v*(1-e)+L*e,n=re.sinLatLUT[1],o=re.cosLatLUT[1];for(let r=1;r<=l;r++){const i=r*A,l=S*(1-i)+y*i,u=re.sinLonLUT[r],d=re.cosLonLUT[r],m=B+s(l,t,c),p=m*d*o-I,x=m*u*o-V,h=m*n-b;de(p,x,h,f);const M=(r-1)*P;C[M]=p,C[M+1]=x,C[M+2]=h,a(g,r-1,i,e)}}for(let O=1;O<=l;O++){const e=O*A,t=v*(1-e)+L*e,n=re.sinLatLUT[O],o=re.cosLatLUT[O],r=O+1,i=r*A,d=v*(1-i)+L*i,m=re.sinLatLUT[r],M=re.cosLatLUT[r],T=re.sinLonLUT[0],D=re.cosLonLUT[0],R=B+s(S,t,c);let U=D*o*R-I,w=T*o*R-V,N=n*R-b;const j=E*P;let F=C[j],H=C[j+1],q=C[j+2];for(let L=1;L<=l;L++){const e=L*A,r=S*(1-e)+y*e,T=re.sinLonLUT[L],D=re.cosLonLUT[L];let R=0,j=0,_=0;if(L<l){const e=(E+1)*P;R=C[e],j=C[e+1],_=C[e+2]}else{const e=re.sinLonLUT[u],r=re.cosLonLUT[u],i=B+s(y,t,c);R=r*o*i-I,j=e*o*i-V,_=n*i-b}const W=U,G=w,k=N;U=F,w=H,N=q,F=R,H=j,q=_;const z=R-W,J=j-G,K=_-k;let Q=0,X=0,Y=0;if(O>1){const e=(E-l)*P;Q=C[e],X=C[e+1],Y=C[e+2]}else{const e=re.sinLatLUT[0],t=re.cosLatLUT[0],n=B+s(r,v,c);Q=D*t*n-I,X=T*t*n-V,Y=e*n-b}const Z=B+s(r,d,c),$=D*M*Z-I,ee=T*M*Z-V,te=m*Z-b;if(O<l){const t=E+l,n=t*P;C[n]=$,C[n+1]=ee,C[n+2]=te,de($,ee,te,f),a(g,t,e,i)}const ne=Q-$,oe=X-ee,se=Y-te;let ie=D*o,ae=T*o,ce=n;ce*ce<.999&&(ie=K*oe-J*se,ae=z*se-K*ne,ce=J*ne-z*oe);const le=1/Math.sqrt(ie*ie+ae*ae+ce*ce);h(p,E,ie*le,ae*le,ce*le,x),++E}}}function L(e){e.tile.intersectsClippingArea&&(V(e),te(e),e.intersectionData=null)}function B(e){e.tile.intersectsClippingArea&&(Y(e),V(e),te(e),ne(e),e.intersectionData=null)}function I(e){e.tile.intersectsClippingArea&&(C(e),b(e,!0),te(e),e.intersectionData=null)}function V(e){e.tile.intersectsClippingArea&&(C(e),b(e))}function b(t,n=!1){const{geometry:o,geometryState:r,tile:i,localOrigin:c}=t,{level:u,extent:p,extentInRadians:h,ellipsoid:M}=i,S=M.radius,y=h[0],v=h[2],L=h[1],B=h[3],{samplerData:I}=r,V=p[0],b=p[2],C=p[1],P=p[3],A=O(t),{boundingBox:E,vertexAttributes:T}=o,D=c[0],R=c[1],U=c[2],w=T.position,N=w.typedBuffer,j=w.typedBufferStride,F=T.uv0;for(let O=0;O<4;++O){const c=1===O||3===O,h=r.edgeResolutions[O];d(e(h));const M=h+1,T=l(i,r.edgePeerNeighbors[O]);if(ce(i,T,O)){Z(t,O,T);continue}const w=null!=T;d(!w||T.level===i.level),d(!w||x(i,T)<=0);const H=T?.renderData,q=H?.geometryState;if(f){const e=i.surface;if(!T&&e&&!e.updatingRootTiles){const t=m[O],n=i.findNeighborTile(t,(e=>e.isLoaded||e.isLeaf||e.level===i.level));n?n.intersectsClippingArea&&(d(!n.isLoaded),d(!n.isLeaf),d(n.level===u)):d(null==e?.rootTiles||!i.shouldHaveNeighbor(t))}}const _=1===O?p[2]:p[0],W=T?.extent,G=W&&c?1===O?W[0]:W[2]:_,k=0===O?p[3]:p[1],z=1===O?1:0,J=0===O?1:0,K=1===O?v:y,Q=0===O?B:L,X=Math.sin(K),Y=Math.cos(K),$=Math.sin(Q),ee=Math.cos(Q),te=q?.samplerData,ne=w?(e,t,n)=>.5*(s(e,t,I)+s(n,t,te)):(e,t,n)=>s(e,t,I),oe=o.outerEdgesOffsetAndLength[2*O+0],se=n&&M>3?M-3:1,re=null!=I&&I.some((e=>null!=e)),ie=null!=te&&te.some((e=>null!=e)),ae=re||ie,le=1/h,ue=oe;d(!W||g(W[2]-W[0],p[2]-p[0]));(()=>{const e=1===O?-1:3===O?1:0,t=0===O?-1:2===O?1:0,n=(p[2]-p[0])*le,r=e*n,i=t*n,l=c?e*((v-y)*le):0,u=c?0:t*le,d=J,f=c?K+l:K,m=c?Math.sin(f):X,g=c?Math.cos(f):Y,x=c?K-l:K,h=c?Math.sin(x):X,L=c?Math.cos(x):Y,B=c?Q:A(d+u),T=c?$:Math.sin(B),H=c?ee:Math.cos(B),q=c?Q:A(d-u),W=c?$:Math.sin(q),Z=c?ee:Math.cos(q);let oe=0,re=0,ie=0;{const e=0*le,t=c?_:V*(1-e)+b*e,n=c?G:t,o=c?C*(1-e)+P*e:k,s=c?K:y*(1-e)+v*e,r=c?X:Math.sin(s),i=c?Y:Math.cos(s),a=c?A(e):Q,l=c?Math.sin(a):$,u=c?Math.cos(a):ee,d=S+ne(t,o,n);oe=i*u*d,re=r*u*d,ie=l*d}let ce=0,fe=0,me=0;{const e=1*le,t=c?_:V*(1-e)+b*e,n=c?G:t,o=c?C*(1-e)+P*e:k,s=c?K:y*(1-e)+v*e,r=c?X:Math.sin(s),i=c?Y:Math.cos(s),a=c?A(e):Q,l=c?Math.sin(a):$,u=c?Math.cos(a):ee,d=S+ne(t,o,n);ce=i*u*d,fe=r*u*d,me=l*d}for(let p=1;p<M-1;p+=se){let e=0,t=0,n=0;{const o=(p+1)*le,s=c?_:V*(1-o)+b*o,r=c?G:s,i=c?C*(1-o)+P*o:k,a=c?K:y*(1-o)+v*o,l=c?X:Math.sin(a),u=c?Y:Math.cos(a),d=c?A(o):Q,f=c?Math.sin(d):$,m=c?Math.cos(d):ee,g=S+ne(s,i,r);e=u*m*g,t=l*m*g,n=f*g}const l=e,u=t,d=n,f=ce,x=fe,M=me;ce=l,fe=u,me=d;{const e=ue+p,t=e*j,n=f-D,o=x-R,s=M-U;N[t]=n,N[t+1]=o,N[t+2]=s,de(n,o,s,E);const r=p*le;a(F,e,c?z:r,c?r:J)}const B=oe,q=re,se=ie;oe=f,re=x,ie=M;const ge=f,pe=x,xe=M,he=1/Math.sqrt(ge*ge+pe*pe+xe*xe),Me=xe*he;let Se=0,ye=0,ve=0;if(ae&&Me*Me<.999){let e=0,t=0,n=0;{const o=0===O?-1:1;e=o*(l-B),t=o*(u-q),n=o*(d-se)}{const o=p*le,a=c?_:V*(1-o)+b*o,l=c?G:a,u=c?C*(1-o)+P*o:k,d=c?K:y*(1-o)+v*o,f=c?X:Math.sin(d),x=c?Y:Math.cos(d),M=c?A(o):Q,B=c?Math.sin(M):$,E=c?Math.cos(M):ee;let D=ge,R=pe,U=xe;if(w){const e=S+s(l-r,u-i,te),t=c?E:Z;D=(c?L:x)*t*e,R=(c?h:f)*t*e,U=(c?B:W)*e}{const o=S+s(a+r,u+i,I),l=c?E:H,d=(c?g:x)*l*o,p=(c?m:f)*l*o,h=(c?B:T)*o;w||(D=2*ge-d,R=2*pe-p,U=2*xe-h);const M=3===O?-1:1,y=M*(D-d),v=M*(R-p),L=M*(U-h);Se=n*v-t*L,ye=e*L-n*y,ve=t*y-e*v;const V=1/Math.sqrt(Se*Se+ye*ye+ve*ve);Se*=V,ye*=V,ve*=V}}}else Se=ge*he,ye=pe*he,ve=xe*he;o.setEdgeNormalFromValues(O,p,Se,ye,ve)}})()}}function C(e){$(e)}function P(e,t){return Math.PI/2-2*Math.atan(Math.exp(-e/t))}function A(e,t,n,o){return P(e*(1-o)+t*o,n)}function E(e,t,n){return e*(1-n)+t*n}function O(e){const{tile:t}=e;if(t.surface.isWebMercator){const e=t.extent,n=t.ellipsoid.radius;return t=>A(e[1],e[3],n,t)}const n=t.extentInRadians;return e=>E(n[1],n[3],e)}function T(e,t){const{tile:o,geometryState:s,geometry:r}=e,{extent:i,surface:a}=o,{wireframe:c}=s,l=i[0],u=i[1],d=i[2]-l,f=i[3]-u,{numVerticesPerSide:m,clippingArea:g}=s,p=null!=g?Math.max(0,(g[0]-l)/d):0,x=null!=g?Math.max(0,(g[1]-u)/f):0,h=null!=g?Math.min(1,(g[2]-l)/d):1,M=null!=g?Math.min(1,(g[3]-u)/f):1,S=(m-2)**2,y=fe(s),v=S+4*y,L=a.renderer.tileGeometryCache.acquire(v),{boundingBox:B}=r;n(B),r.numVerticesPerSide=m,r.vertexAttributes=L,r.maxEdgeVertexCount=y,r.minu=p,r.minv=x,r.maxu=h,r.maxv=M,D(e),r.edgeVerticesStartIndex=S,X(e),N(e),W(r,[],c),e.intersectionData=null}function D(e){const{tile:n}=e;if(!n.intersectsClippingArea)return;const{geometry:o,geometryState:r,localOrigin:i}=e,{samplerData:c,clippingArea:l,numVerticesPerSide:u}=r,{surface:d,extent:f,ellipsoid:m}=n,{isWebMercatorOnPlateCarree:g}=d,p=null!=l?l:ie,x=f[0],M=f[1],S=f[2],y=f[3],v=Math.max(x,p[0]),L=Math.min(S,p[2]),B=Math.max(M,p[1]),I=Math.min(y,p[3]),V=m.radius,b=n.horizontalScale,C=u-1,P=u-2,{minu:A,minv:E,maxu:O,maxv:T,boundingBox:D,vertexAttributes:R}=o,U=R.position,w=R.uv0,{typedBuffer:N,typedBufferStride:j}=R.normalCompressed,F=i[0],H=i[1],q=i[2],_=U.typedBuffer,W=U.typedBufferStride;let G=0;const k=t(M,B,I),z=g?(Math.PI/2-2*Math.atan(Math.exp(-k/V)))*V:k*b,J=1/C,K=t(M*(1-J)+y*J,B,I);let Q=z,X=g?(Math.PI/2-2*Math.atan(Math.exp(-K/V)))*V:K*b;for(let Y=1;Y<=P;Y++){const e=Y/C,n=t(M*(1-e)+y*e,B,I),o=t(e,E,T),r=X,i=(Y-1)/C,l=t(M*(1-i)+y*i,B,I),u=Q,d=(Y+1)/C,f=t(M*(1-d)+y*d,B,I),m=g?(Math.PI/2-2*Math.atan(Math.exp(-f/V)))*V:f*b,p=t(d,E,T);Q=X,X=m;const R=t(x,v,L);let U=R*b,k=s(R,n,c);const z=1/C,J=t(z,A,O),K=t(x*(1-J)+S*J,v,L);let Z=J,$=K,ee=K*b,te=s(K,n,c);if(1===Y){const e=ee-F,n=Q-H,s=te-q,r=0*W;_[r]=e,_[r+1]=n,_[r+2]=s,de(e,n,s,D);const i=t(z,A,O);a(w,G,i,o)}for(let g=1;g<=P;g++){const e=ee,i=te,d=(g+1)/C,M=t(d,A,O),y=t(x*(1-d)+S*d,v,L),B=$;$=y;{const e=G+1,t=e*W;if(1===Y||g===P){const i=y*b,l=s(y,n,c);if(1===Y&&g<P){const n=i-F,s=r-H,c=l-q;_[t]=n,_[t+1]=s,_[t+2]=c,de(n,s,c,D),a(w,e,M,o)}ee=i,te=l}else ee=_[t]+F,te=_[t+2]+q}const I=ee,V=te,E=U,T=k;U=e,k=i;const R=(G-P)*W,z=1===Y?s(B,l,c):_[R+2]+q,J=s(B,f,c);if(Y<P){const t=G+P,n=t*W,o=e-F,s=m-H,r=J-q;_[n]=o,_[n+1]=s,_[n+2]=r,de(o,s,r,D);const i=Z;Z=M,a(w,t,i,p)}{const e=I-E,t=u-m,n=t*(V-T),o=e*(z-J),s=-t*e,r=n*n+o*o+s*s;if(0===r)h(N,G,0,0,1,j);else{const e=1/Math.sqrt(r);h(N,G,n*e,o*e,s*e,j)}}++G}}}function R(e,t){e.tile.intersectsClippingArea&&(F(e),j(e,!0),te(e),e.intersectionData=null)}function U(e,t){e.tile.intersectsClippingArea&&(Y(e),N(e),te(e),ne(e),e.intersectionData=null)}function w(e,t){e.tile.intersectsClippingArea&&(N(e),te(e),e.intersectionData=null)}function N(e,t){e.tile.intersectsClippingArea&&(F(e),j(e,!1))}function j(n,o){const{geometry:r,geometryState:i,tile:a,localOrigin:c}=n,{surface:u,extent:g}=a,{clippingArea:p,samplerData:h}=i,M=null!=p?p:ie,S=g[0],y=g[2],v=g[1],L=g[3],B=[L>M[3],y>M[2],v<M[1],S<M[0]],I=a.horizontalScale,V=_(u.isWebMercatorOnPlateCarree,a.ellipsoid.radius,I),{minu:b,minv:C,maxu:P,maxv:A,boundingBox:E}=r,O=Math.max(S,M[0]),T=Math.min(y,M[2]),D=Math.max(v,M[1]),R=Math.min(L,M[3]),U=c[0],w=c[1],N=c[2];for(let j=0;j<4;++j){const c=1===j||3===j,g=i.edgeResolutions[j];d(e(g));const p=g+1,M=B[j],F=l(a,i.edgePeerNeighbors[j]);if(!M&&ce(a,F,j)){Z(n,j,F);continue}const H=null!=F&&!M,q=F?.renderData,_=q?.geometryState;if(f&&(d(!H||F.level===a.level),d(!H||x(a,F)<=0),a&&!F&&!u.updatingRootTiles)){const e=m[j],t=a.findNeighborTile(e,(e=>e.isLoaded||e.isLeaf||e.level===a.level));u.updatingRootTiles||(t?t.intersectsClippingArea&&(d(!t.isLoaded),d(!t.isLeaf),d(t.level===a.level)):d(null==u?.rootTiles||!a.shouldHaveNeighbor(e)))}const W=t(1===j?y:S,O,T),G=t(0===j?L:v,D,R),k=_?.samplerData,z=o&&p>3?p-3:1,J=t(1===j?1:0,b,P),K=t(0===j?1:0,C,A),Q=H?(e,t)=>.5*(s(e,t,k)+s(e,t,h)):(e,t)=>s(e,t,h),X=(y-S)/g,Y=c?1===j?X:-X:0,$=c?0:0===j?X:-X,ee=-Y,te=-$;let ne=0,oe=0,se=0;{const e=0/g,n=c?W:t(S*(1-e)+y*e,O,T),o=c?t(v*(1-e)+L*e,D,R):G,s=Q(n,o);ne=n*I,oe=V(o),se=s}let re=0,ie=0,ae=0;{const e=1/g,n=c?W:t(S*(1-e)+y*e,O,T),o=c?t(v*(1-e)+L*e,D,R):G,s=Q(n,o);re=n*I,ie=V(o),ae=s}for(let e=1;e<p-1;e+=z){const n=e/g,o=re,i=ie,a=ae;{const s=c?J:t(n,b,P),l=c?t(n,C,A):K,u=o-U,d=i-w,f=a-N;de(o,d,f,E),r.setEdgeVertexFromValuesRawPositionUV(j,e,u,d,f,s,l)}{const n=(e+1)/g,o=c?W:t(S*(1-n)+y*n,O,T),s=c?t(v*(1-n)+L*n,D,R):G,r=Q(o,s);re=o*I,ie=V(s),ae=r}const l=re,u=ae,d=ne,f=oe,m=se;ne=o,oe=i,se=a;let p=0,x=0,M=0;if(c){const e=ie-i,r=u-a,c=f-i,l=m-a,d=t(v*(1-n)+L*n,D,R),g=W+ee,S=g*I-o,y=s(g,d,h)-a,B=3===j?-1:1;if(p=B*(-c+e)*y,x=B*S*(-l+r),M=-B*S*(-c+e),H){const t=W+Y,n=t*I-o;p=(-c+e)*(y-(s(t,d,k)-a)),x=(S-n)*(-l+r),M=-(S-n)*(-c+e)}}else{const e=l-o,r=u-a,c=d-o,f=m-a,g=t(S*(1-n)+y*n,O,T),v=G+te,L=s(g,v,h)-a,B=V(v)-i,I=2===j?-1:1;if(p=I*B*(-f+r),x=I*(-c+e)*L,M=-I*B*(-c+e),H){const t=g,n=G+$,o=V(n)-i;p=(-B+o)*(-f+r),x=(-c+e)*(-L+(s(t,n,k)-a)),M=-(-B+o)*(-c+e)}}const B=1/Math.sqrt(p*p+x*x+M*M);r.setEdgeNormalFromValues(j,e,p*B,x*B,M*B)}}}function F(e,t){$(e)}function H(e,t){return(Math.PI/2-2*Math.atan(Math.exp(-e/t)))*t}function q(e,t){return e*t}function _(e,t,n){return e?e=>H(e,t):e=>q(e,n)}function W(e,t,n){const{numVerticesPerSide:o,vertexAttributes:s,maxEdgeVertexCount:r}=e,i=o-1,a=s.count,c=2*(o-3)*(o-3),l=4*(i+r-3),d=u.reduce(((t,n)=>t+(i+e.getEdgeCount(n)-3)),0),f=t.reduce(((e,t)=>e+i*(2*(t.latitudeResolution-1)+1)),0),m=3*(n?2:1),g=(c+l+f)*m,p=a>=M?new Uint32Array(g):new Uint16Array(g);for(let u=0;u<g;++u)p[u]=0;e.indices=p,e.indexCount=(c+d+f)*m,e.poleIndicesStartIndex=c*m,e.edgeIndicesStartIndex=(c+f)*m,n?(J(e),K(e,t),Q(e)):(G(e),k(e,t),z(e))}function G(e){const{numVerticesPerSide:t,indices:n,vertexAttributes:o}=e,{position:s}=o,{typedBuffer:r,typedBufferStride:i}=s,a=t-2,c=t-3,l=0,u=t-3;let d=0;for(let f=0;f<c;++f){const e=f*a;for(let t=l;t<u;++t){const o=e+t,s=o+1,c=s+a,l=c-1;me(o,s,c,l,i,r)?(n[d]=o,n[d+1]=s,n[d+2]=c,n[d+3]=c,n[d+4]=l,n[d+5]=o):(n[d]=o,n[d+1]=s,n[d+2]=l,n[d+3]=l,n[d+4]=s,n[d+5]=c),d+=6}}}function k(e,t){const{numVerticesPerSide:n,indices:o,poleIndicesStartIndex:s}=e,r=n-1;let i=s;for(const a of t){const t=a.isNorth?1:2,s=a.isNorth?2:1,c=a.isNorth?3:4,l=a.isNorth?4:3;let u=e.getEdgeVertexIndex(a.connectedOuterEdgeOffset,0),d=1;for(let e=0;e<a.latitudeResolution;++e){const f=0===e?a.rowOffset:u+n;for(let n=0;n<r;n++){const r=f+n;o[i]=u,o[i+t]=u+1,o[i+s]=r,e<a.latitudeResolution-1?(o[i+c]=u+1,o[i+l]=r+1,o[i+5]=r,i+=6):i+=3,u+=d}u=f,d=1}}}function z(e){const{indices:t,numVerticesPerSide:n,edgeIndicesStartIndex:o}=e,s=n-1,r=s-2;let i=o;for(let a=0;a<4;++a){const n=ue[a];let o=0,c=0;const l=e.getEdgeCount(a),u=n.count;d(u===s-1);const f=1===a||2===a,m=f?1:2,g=f?2:1,p=e.getEdgeFirstVertexIndex(a),x=1,h=n.vertex0Index,M=n.stride;for(;o<l-1||c<u-1;){const e=h+c*M,n=p+o*x,a=o<l-1,d=c<u-1,f=a&&(!d||(a?0+s*(o+.5)/(l-1):0)<=(d?1+r*(c+.5)/(u-1):0));f?++o:++c;const S=f?n+x:e+M;t[i]=e,t[i+m]=n,t[i+g]=S,i+=3}}e.indexCount=i}function J(e){const{indices:t,numVerticesPerSide:n,vertexAttributes:o}=e,{position:s}=o,{typedBuffer:r,typedBufferStride:i}=s,a=n-2;let c=0;for(let l=0;l<n-3;++l){const e=l*a;for(let o=0;o<n-3;++o){const n=l*a+o,s=n+1,u=s+a,d=u-1,f=e+o,m=f+1,g=m+a;me(f,m,g,g-1,i,r)?(ge(t,c,n,s,u),c+=6,ge(t,c,u,d,n)):(ge(t,c,n,s,d),c+=6,ge(t,c,d,u,s)),c+=6}}}function K(e,t){const{indices:n,numVerticesPerSide:o,poleIndicesStartIndex:s}=e,r=o-1;let i=s;for(const a of t){const t=a.connectedOuterEdgeOffset;let s=e.getEdgeVertexIndex(t,0),c=1;for(let e=0;e<a.latitudeResolution;++e){const t=0===e?a.rowOffset:s+o;for(let o=0;o<r;o++)ge(n,i,s,s+1,t+o),i+=6,e<a.latitudeResolution-1&&(ge(n,i,s+1,t+o+1,t+o),i+=6),s+=c;s=t,c=1}}}function Q(e){const{indices:t,numVerticesPerSide:n,edgeIndicesStartIndex:o}=e,s=n-1,r=s-2;let i=o;for(let a=0;a<4;++a){const n=ue[a];let o=0,c=0;const l=e.getEdgeCount(a),u=n.count;d(u===s-1);const f=1===a||2===a,m=f?1:3,g=f?3:1,p=e.getEdgeFirstVertexIndex(a),x=1,h=n.vertex0Index,M=n.stride;for(;o<l-1||c<u-1;){const e=h+c*M,n=p+o*x,a=o<l-1,d=c<u-1,f=a&&(!d||(a?0+s*(o+.5)/(l-1):0)<=(d?1+r*(c+.5)/(u-1):0));f?++o:++c;const S=f?n+x:e+M;t[i]=e,t[i+m]=n,t[i+m+1]=n,t[i+g]=S,t[i+g+1]=S,t[i+5]=e,i+=6}}e.indexCount=i}function X(e){const{geometry:t,geometryState:n}=e,{edgeResolutions:o}=n,{numVerticesPerSide:s,edgeVerticesStartIndex:r}=t,i=s-2;let a=r;for(let c=0;c<4;++c){{const e=0===c||2===c,t=(0===c?i-1:0)*i+(1===c?i-1:0),n=(e?0:1)*i+(e?1:0),o=ue[c];o.vertex0Index=t,o.stride=n,o.count=i}{const e=o[c]+1;t.outerEdgesOffsetAndLength[2*c+0]=a,t.outerEdgesOffsetAndLength[2*c+1]=e,a+=e}}}function Y(e){X(e),e.geometryState.wireframe?Q(e.geometry):z(e.geometry)}function Z(n,o,s){const r=(o+2)%4,{geometryState:i,geometry:c,tile:l,localOrigin:u}=n,f=l.level-s.level,m=1===o||3===o,g=i.edgeResolutions[o];d(e(g));const p=g+1,{boundingBox:x,minu:h,minv:M,maxu:S,maxv:y,vertexAttributes:v}=c,L=t(1===o?1:0,h,S),B=t(0===o?1:0,M,y),I=s.renderData,V=I.geometryState,b=I.geometry,C=b.getEdgeCount(r),P=l.getNeighborEdgeStartVertexIndex(o,s)*g,A=g*2**f;d(V.edgeResolutions[r]===A),d(C-1===A);const E=I.localOrigin[0]-u[0],O=I.localOrigin[1]-u[1],T=I.localOrigin[2]-u[2],D=c.getEdgeFirstVertexIndex(o),R=v.position,U=R.typedBuffer,w=R.typedBufferStride,N=v.normalCompressed,j=N.typedBuffer,F=N.typedBufferStride,H=v.uv0,q=b.vertexAttributes,_=b.getEdgeFirstVertexIndex(r),W=q.position.typedBuffer,G=q.position.typedBufferStride,k=q.normalCompressed.typedBuffer,z=q.normalCompressed.typedBufferStride;for(let e=1;e<p-1;++e){const n=D+e,o=_+(P+e),s=n*w,r=o*G,i=W[r]+E,c=W[r+1]+O,l=W[r+2]+T;U[s]=i,U[s+1]=c,U[s+2]=l,de(i,c,l,x);const u=n*F,d=o*z;j[u]=k[d],j[u+1]=k[d+1];const f=e/g,p=m?L:t(f,h,S),v=m?t(f,M,y):B;a(H,n,p,v)}}function $(e){const{geometry:n,geometryState:o,localOrigin:r,tile:i}=e,{clippingArea:c,samplerData:l}=o,{minu:u,minv:f,maxu:m,maxv:g,boundingBox:p,vertexAttributes:h}=n,{surface:M,ellipsoid:S,extent:y,extentInRadians:v,horizontalScale:L}=i,B=\"local\"===M.view?.viewingMode,I=S.radius;let V=0,b=0,C=0;const P=(e,t,n)=>{const o=v[0===t?1:3],s=v[0===e?0:2],r=Math.cos(o),i=Math.sin(o),a=Math.sin(s),c=Math.cos(s),l=I+n;V=c*r*l,b=a*r*l,C=i*l},A=B?(()=>{const e=c,n=null!=e&&(y[3]>e[3]||y[2]>e[2]||y[1]<e[1]||y[0]<e[0]),o=_(M.isWebMercatorOnPlateCarree,I,L);return(s,r,i)=>{const a=0===s?y[0]:y[2],c=0===r?y[1]:y[3],l=n?t(a,e[0],e[2]):a,u=n?t(c,e[1],e[3]):c,d=i;V=l*L,b=o(u),C=d}})():P;let E=0,T=0,D=0,R=0,U=0,w=0,N=0,j=0,F=0;const H=B&&M.isWebMercatorOnPlateCarree,q=(e,t,n,o,s)=>{let r=0,i=0,a=0;if(B){const e=t*L,s=H?(Math.PI/2-2*Math.atan(Math.exp(-n/I)))*I:n*L;r=e-V,i=s-b,a=o-C}else{const s=O(e),c=e.tile,l=c.extent,u=c.extentInRadians,d=(t-l[0])/(l[2]-l[0]),f=(n-l[1])/(l[3]-l[1]),m=u[0]*(1-d)+u[2]*d,g=s(f),p=Math.cos(g),x=Math.sin(g),h=Math.sin(m),M=Math.cos(m),S=I+o;r=M*p*S-V,i=h*p*S-b,a=x*S-C}switch(s){case 0:N+=r,j+=i,F+=a;break;case 1:R-=r,U-=i,w-=a;break;case 2:N-=r,j-=i,F-=a;break;case 3:R+=r,U+=i,w+=a}},W=c??ie,G=y[0],k=y[2],z=y[1],J=y[3],K=[J>W[3],k>W[2],z<W[1],G<W[0]],Q=Math.max(G,W[0]),X=Math.min(k,W[2]),Y=Math.max(z,W[1]),Z=Math.min(J,W[3]),$=e=>Math.max(W[0],Math.min(W[2],e)),te=e=>Math.max(W[1],Math.min(W[3],e)),ne=e=>{const t=o.cornerNeighborCornerTiles;E=0,T=0,D=1,R=0,U=0,w=0,N=0,j=0,F=0;let n=1/0;for(let o=0;o<4;++o){const s=t[4*e+o];n=Math.min(n,s?.level??1/0)}for(let o=0;o<4;++o){const s=t[4*e+o];ae[o]=s?.level===n?s:null}let r=1,i=0;for(let o=0;o<4;++o){const e=ae[o];e&&(r=Math.max(r,e?.renderData.geometryState.numVerticesPerSide),i=e.extent[2]-e.extent[0])}const a=i,c=r;d(c>1);const l=a/c;for(let o=0;o<4;++o){const e=ae[(o+3)%4],t=ae[o%4];if(!e&&!t)continue;const n=0===o?1:1===o?2:2===o?3:0,r=0===o?2:1===o?3:2===o?0:1;if(e&&t){const i=se[o][0]*l,a=se[o][1]*l,c=e.extent,u=$(c[0===n||1===n?2:0]+i),d=te(c[0===n||3===n?3:1]+a),f=t.extent,m=$(f[0===r||1===r?2:0]+i),g=te(f[0===r||3===r?3:1]+a),p=e.renderData,x=t.renderData,h=s(u,d,p.geometryState.samplerData),M=s(m,g,x.geometryState.samplerData);q(p,u,d,.5*(h+M),o)}else{const i=e??t,a=e?n:r,c=i.extent,u=se[o],d=$(c[0===a||1===a?2:0]+u[0]*l),f=te(c[0===a||3===a?3:1]+u[1]*l),m=i.renderData,g=s(d,f,m.geometryState.samplerData);q(m,d,f,g,o)}}if(!B){const e=Math.sqrt(V*V+b*b+C*C);E=V/e,T=b/e,D=C/e}if(B||D*D<.999){const e=Math.sqrt(R*R+U*U+w*w);R/=e,U/=e,w/=e;const t=Math.sqrt(N*N+j*j+F*F);N/=t,j/=t,F/=t,E=w*j-U*F,T=R*F-w*N,D=U*N-R*j;const n=1/Math.sqrt(E*E+T*T+D*D);E*=n,T*=n,D*=n}},oe=o.cornerNeighborCornerTiles;for(let O=0;O<4;++O){const e=O,c=(O+1)%4,M=0===O||1===O?1:0,S=0===O||3===O?1:0,y=t(M,u,m),v=t(S,f,g),L=n.getEdgeFirstVertexIndex(e),B=n.getEdgeCount(e),I=0===O||3===O?B-1:0,P=n.getEdgeFirstVertexIndex(c),R=n.getEdgeCount(c),U=0===O||1===O?R-1:0;let w=-1;for(let t=0;t<4;++t){const e=oe[4*O+t],n=oe[4*O+w];e&&(-1===w||x(n,e)>0)&&(w=t)}const N=w,j=oe[4*O+N];if(j!==i){const e=i.level-j.level,t=2**e,n=[j.lij[0]+e,j.lij[1]*t,j.lij[2]*t],s=[n[1]+t===i.lij[1],0===O&&(1===N||0===N&&j!==oe[4*O+3])||1===O&&(0===N||1===N&&j!==oe[4*O+2]),n[1]===i.lij[1]+1,2===O&&(3===N||2===N&&j!==oe[4*O+1])||3===O&&(2===N||3===N&&j!==oe[4*O+0])],c=s.reduce(((e,t)=>e+(t?1:0)),0);d(1===c||2===c);let l=-1,u=-1;const f=j.renderData;if(1===c){const e=s.findIndex((e=>e));d(0<=e&&e<=3),l=(e+2)%4;const t=o.edgeResolutions[e];u=i.getNeighborEdgeStartVertexIndex(e,j)*t+t*(0===e&&0===O||1===e&&0===O||2===e&&1===O||3===e&&3===O?1:0)}else{d(s[1]||s[3]),l=s[1]?3:1;const e=f.geometryState.edgeResolutions[l];u=0===O||3===O?0:e}const m=f.geometry;{const e=L+I,t=P+U,n=m.getEdgeFirstVertexIndex(l)+u,o=m.vertexAttributes,s=f.localOrigin;{const i=o.position,a=i.typedBuffer,c=n*i.typedBufferStride,l=a[c]+s[0]-r[0],u=a[c+1]+s[1]-r[1],d=a[c+2]+s[2]-r[2];de(l,u,d,p);const f=h.position,m=f.typedBuffer;{const t=e*f.typedBufferStride;m[t]=l,m[t+1]=u,m[t+2]=d}{const e=t*f.typedBufferStride;m[e]=l,m[e+1]=u,m[e+2]=d}}const i=h.uv0;a(i,e,y,v),a(i,t,y,v);{const s=o.normalCompressed.typedBuffer,r=n*o.normalCompressed.typedBufferStride,i=h.normalCompressed,a=i.typedBuffer;{const t=e*i.typedBufferStride;a[t]=s[r],a[t+1]=s[r+1]}{const e=t*i.typedBufferStride;a[e]=s[r],a[e+1]=s[r+1]}}}}else{const o=K[e],i=K[c];let a;if(o||i){const e=t(G*(1-M)+k*M,Q,X),n=t(z*(1-S)+J*S,Y,Z);a=s(e,n,l)}else a=ee(oe,O);A(M,S,a),ne(O);const u=V-r[0],d=b-r[1],f=C-r[2];de(u,d,f,p),n.setEdgeVertexFromValuesRawPositionUVNormal(e,I,u,d,f,y,v,E,T,D),n.setEdgeVertexFromValuesRawPositionUVNormal(c,U,u,d,f,y,v,E,T,D)}}for(let t=0;t<4;++t)ae[t]=null}function ee(e,t){const n=4*t,o=u.reduce(((t,o)=>Math.min(t,e[n+o]?.level??1/0)),1/0);f&&(d(!e[n+0]||!e[n+2]||p(e[n+0],e[n+2],i.SOUTH_WEST)),d(!e[n+1]||!e[n+3]||p(e[n+1],e[n+3],i.NORTH_WEST)));let r=0,a=0;for(let i=0;i<4;++i){const t=e[n+i];if(t&&t.level===o){const e=0===i||1===i,n=0===i||3===i,o=t.extent,c=o[e?0:2],l=o[n?1:3],u=t.renderData?.geometryState?.samplerData;a+=s(c,l,u),r++}}const c=r?a/r:0;return d(null!=c),c}function te(e){const{vao:t,geometry:n}=e,{vertexAttributes:o,edgeVerticesStartIndex:s}=n,r=o.position.typedBuffer;t.vertexBuffers.geometry.setSubData(r,s,s,r.length)}function ne(e){const{vao:t,geometry:n}=e,{indices:o,indexCount:s,edgeIndicesStartIndex:r}=n;t.indexBuffer.setSubData(o,r,r,s)}class oe{constructor(e,t,n,o,s){this.isNorth=e,this.connectedRowOffset=t,this.connectedOuterEdgeOffset=n,this.rowOffset=o,this.latitudeResolution=s}}const se=[[0,1],[1,0],[0,-1],[-1,0]],re=new c,ie=o(-1/0,-1/0,1/0,1/0),ae=[null,null,null,null];function ce(e,t,n){if(!t)return!1;const o=x(e,t);return o>0||0===o&&n>=2}class le{constructor(){this.vertex0Index=0,this.stride=1,this.count=0}getVertexIndex(e){return d(0<=e&&e<this.count),this.vertex0Index+this.stride*e}}const ue=[new le,new le,new le,new le];function de(e,t,n,o){e<o[0]?o[0]=e:e>o[3]&&(o[3]=e),t<o[1]?o[1]=t:t>o[4]&&(o[4]=t),n<o[2]?o[2]=n:n>o[5]&&(o[5]=n)}function fe(e){const{edgeResolutions:t,numVerticesPerSide:n}=e,o=1+Math.max(...t);return Math.max(n,o)}function me(e,t,n,o,s,r){const i=e*s,a=r[i],c=r[i+1],l=r[i+2],u=t*s,d=r[u],f=r[u+1],m=r[u+2],g=n*s,p=r[g],x=r[g+1],h=r[g+2],M=o*s,S=r[M],y=r[M+1],v=r[M+2];return(d-S)*(d-S)+(f-y)*(f-y)+(m-v)*(m-v)>(a-p)*(a-p)+(c-x)*(c-x)+(l-h)*(l-h)}function ge(e,t,n,o,s){e[t]=n,e[t+1]=o,e[t+2]=o,e[t+3]=s,e[t+4]=s,e[t+5]=n}const pe=6;export{T as createPlanarGlobePatch,S as createSphericalGlobePatch,I as updateCornerSpherical,R as updateCornersPlanar,U as updateEdgeElevationsAndResolutionsPlanar,B as updateEdgeElevationsAndResolutionsSpherical,w as updateEdgesAndCornersPlanar,L as updateEdgesAndCornersSpherical};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{fromValues as e,create as t}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import r from\"../../../geometry/SpatialReference.js\";import{projectVectorToVector as o}from\"../../../geometry/projection/projectVectorToVector.js\";import{wrap as i}from\"../../../geometry/support/aaBoundingBox.js\";import{create as s}from\"../../../geometry/support/aaBoundingRect.js\";import{isPlateCarree as n}from\"../../../geometry/support/spatialReferenceUtils.js\";import{TileFrustumVisibility as a}from\"./ITile.js\";import{createPlanarGlobePatch as l,updateCornersPlanar as u,updateEdgesAndCornersPlanar as h,updateEdgeElevationsAndResolutionsPlanar as d}from\"./PatchGeometryFactory.js\";import{Tile as c,CenterPosition as m}from\"./Tile.js\";import{intersectAabbInvDirBefore as p}from\"../webgl-engine/lib/RayIntersections.js\";class _ extends c{constructor(e,t,r,o,i){super(),this._horizontalScaleFactor=1,this._extentInRenderSR=s(),this._baseUsedMemory=900,this._subtreeGeometryElevationBoundMin=0,this._subtreeGeometryElevationBoundMax=0,this.init(e,t,r,o,i)}init(t,i,s,a,l){super.init(t,i,s,a,l);const u=l.view.renderSpatialReference,h=l.spatialReference,d=null!=u&&n(u)&&null!=h&&h.isGeographic?this.ellipsoid.radius*Math.PI/180:1;this._horizontalScaleFactor=d;const{isWebMercatorOnPlateCarree:c}=l,m=this._extentInRenderSR,p=this.extent;if(c){const t=e(p[0],p[1],0);o(t,r.WebMercator,t,r.PlateCarree);const i=e(p[2],p[3],0);o(i,r.WebMercator,i,r.PlateCarree),m[0]=t[0],m[1]=t[1],m[2]=i[0],m[3]=i[1]}else for(let e=0;e<4;++e)m[e]=p[e]*d;this.centerAtSeaLevel[0]=.5*(m[0]+m[2]),this.centerAtSeaLevel[1]=.5*(m[1]+m[3]),this.centerAtSeaLevel[2]=0,this._edgeLen=Math.max(m[2]-m[0],m[3]-m[1]),this._edgeLen2=this._edgeLen*this._edgeLen,this.updateRadiusAndCenter()}updateRadiusAndCenter(){this._updateCenter();const e=this._extentInRenderSR,t=.5*(e[2]-e[0]),r=.5*(e[3]-e[1]),o=Math.sqrt(t*t+r*r),i=.5*(this.elevationBoundsMax-this.elevationBoundsMin),s=Math.max(o,i);this._center[m.MIDDLE][3]=s}_calculateFrustumVisibilityStatus(e){const t=this._aabb(),r=t[0],o=t[1],i=t[2],s=t[3],n=t[4],l=t[5];let u=!0;for(let h=0;h<6;h++){const t=e[h],d=t[0],c=t[1],m=t[2],p=t[3];if(d*(d>0?r:s)+c*(c>0?o:n)+m*(m>0?i:l)+p>=0)return a.OUTSIDE;u=u&&d*(d<0?r:s)+c*(c<0?o:n)+m*(m<0?i:l)+p<=0}return u?a.INSIDE:a.INTERSECTS}_aabb(){const e=this._extentInRenderSR;return i(e[0],e[1],Math.min(this.elevationBoundsMin,this._subtreeGeometryElevationBoundMin),e[2],e[3],Math.max(this.elevationBoundsMax,this._subtreeGeometryElevationBoundMax))}intersectsRay(e,t,r,o){return b[0]=1/t[0],b[1]=1/t[1],b[2]=1/t[2],p(this._aabb(),e,b,r,o)}createGeometry(){l(this.renderData,this._horizontalScaleFactor),this._updateSubtreeGeometryElevationsBounds(),this.setMemoryDirty()}_updateSubtreeGeometryElevationsBounds(){const e=this._subtreeGeometryElevationBoundMin,t=this._subtreeGeometryElevationBoundMax,r=this.renderData;let o=e,i=t;if(r){const e=r.geometry.boundingBox;o=e[2],i=e[5]}else if(!this.isLeaf){o=1/0,i=-1/0;for(const e of this.children)o=Math.min(o,e._subtreeGeometryElevationBoundMin),i=Math.max(i,e._subtreeGeometryElevationBoundMax)}if(o!==this._subtreeGeometryElevationBoundMin||i!==this._subtreeGeometryElevationBoundMax){this._subtreeGeometryElevationBoundMin=o,this._subtreeGeometryElevationBoundMax=i;const e=this.parent;e?._updateSubtreeGeometryElevationsBounds()}}getDefaultVerticesPerSide(){return this.level<9?3:2}updateCornerElevations(){u(this.renderData,this._horizontalScaleFactor),this._updateSubtreeGeometryElevationsBounds()}updateEdgeElevations(){h(this.renderData,this._horizontalScaleFactor),this._updateSubtreeGeometryElevationsBounds()}updateEdgeElevationsAndResolutions(){d(this.renderData,this._horizontalScaleFactor),this._updateSubtreeGeometryElevationsBounds()}get horizontalScale(){return this._horizontalScaleFactor}}const b=t();export{_ as PlanarPatch};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import s from\"../../../core/ObjectPool.js\";import r from\"../../../core/PooledArray.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{c as u}from\"../../../chunks/vec42.js\";import{create as n}from\"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";class l{constructor(){this.extent=n(),this.minLevel=0,this.maxLevel=0,this.callback=null}}let a=class extends t{constructor(){super(...arguments),this._queries=new r({initialSize:10}),this._queriesInvPtr=0,this._queryQueue=new r({initialSize:30}),this._queryPool=new s(l)}queryVisibleLevelRange(e,t,s,r){const i=this._queryPool.acquire();u(i.extent,e),i.minLevel=t??-Number.MAX_VALUE,i.maxLevel=s??Number.MAX_VALUE,i.callback=r,this._queryQueue.push(i),this.notifyChange(\"updating\")}get updating(){return 0!==this._queryQueue.length}prepare(){for(;this._queries.length<this._queries.data.length&&this._queryQueue.length>0;){const e=this._queryQueue.pop();this._queries.push(e)}this._queriesInvPtr=this._queries.length}process(){for(let e=0;e<this._queries.length;e++){const t=this._queries.data[e];this._queryPool.release(t),t.callback(e>=this._queriesInvPtr),t.callback=null}this._queries.clear(),this.notifyChange(\"updating\")}queriesForTile(e){const t=e.level;let s=0;for(;s<this._queriesInvPtr;){const r=this._queries.data[s],i=r.extent;t>=r.minLevel&&t<=r.maxLevel&&i[0]<=e.extent[2]&&i[2]>=e.extent[0]&&i[1]<=e.extent[3]&&i[3]>=e.extent[1]?(this._queries.swapElements(s,this._queriesInvPtr-1),this._queriesInvPtr--):s++}}};e([i()],a.prototype,\"updating\",null),a=e([o(\"esri.views.3d.terrain.ScaleRangeQueries\")],a);export{a as ScaleRangeQueries};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction t(t,n,o,s){const a=Math.cos(o);t[0]=Math.cos(n)*a*s,t[1]=Math.sin(n)*a*s,t[2]=Math.sin(o)*s}export{t as lonLatToSphericalPCPF};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{lerp as t}from\"../../../core/mathUtils.js\";import{n as e,s as i,g as s,h as o,H as n,b as r,k as l,o as a,z as h}from\"../../../chunks/vec32.js\";import{create as u}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{lonLatToSphericalPCPF as d}from\"../../../geometry/projection/lonLatToSphericalPCPF.js\";import{newDoubleArray as c}from\"../../../geometry/support/DoubleArray.js\";import{intersectsSphere as p,numPlanes as f,PlaneIndex as m}from\"../../../geometry/support/frustum.js\";import{c as g,g as x}from\"../../../chunks/sphere.js\";import{PatchType as $}from\"./interfaces.js\";import{TileFrustumVisibility as _}from\"./ITile.js\";import{createSphericalGlobePatch as v,updateCornerSpherical as M,updateEdgesAndCornersSpherical as S,updateEdgeElevationsAndResolutionsSpherical as b}from\"./PatchGeometryFactory.js\";import{enableTerrainInternalChecks as j,internalAssert as T,almostEquals as E}from\"./terrainUtils.js\";import{Tile as H,CenterPosition as I}from\"./Tile.js\";import{compareTilesByLij as B}from\"./tileUtils.js\";class D extends H{constructor(t,e,i,s,o){super(),this._convexHull=new Array(24),this._boundingSphere=g(),this._baseUsedMemory=1816,this.init(t,e,i,s,o)}init(i,s,o,n,r){super.init(i,s,o,n,r);const l=this.ellipsoid.radius,a=this.extentInRadians[0],h=this.extentInRadians[1],u=this.extentInRadians[2],c=this.extentInRadians[3],p=t(h,c,.5),f=t(a,u,.5),m=0===i?0:Math.min(Math.abs(h),Math.abs(c));this._edgeLen=(u-a)*Math.cos(m)*l,this._edgeLen2=this._edgeLen*this._edgeLen,this._curvatureHeight=l-Math.sqrt(l*l-this._edgeLen2/4),d(this.centerAtSeaLevel,f,p,this.ellipsoid.radius),e(this.up,this.centerAtSeaLevel),this.updateRadiusAndCenter()}updateRadiusAndCenter(){this._updateBoundingVolumes();const t=this._center;if(0===this.lij[0])i(x(t[I.MIDDLE]),0,0,0),i(t[I.TOP],0,0,0),i(t[I.BOTTOM],0,0,0),t[I.MIDDLE][3]=this.ellipsoid.radius+this.elevationBoundsMax;else{this._updateCenter();const e=t[I.MIDDLE],i=this.convexHull;let s=0;for(let t=0;t<8;++t)s=Math.max(s,y(x(e),i,3*t));t[I.MIDDLE][3]=Math.sqrt(s)}}_calculateFrustumVisibilityStatus(t){if(!p(t,this._boundingSphere))return _.OUTSIDE;if(this.lij[0]<10)return _.INTERSECTS;const e=this.convexHull,i=this.surface.view.state.camera.near;let s=!0;for(let o=0;o<f;o++){const n=o===m.NEAR,r=t[o],l=r[0],a=r[1],h=r[2],u=r[3]-(n?i:0);let d=!1;for(let t=0;t<8;++t){const i=3*t;if(l*e[i]+a*e[i+1]+h*e[i+2]+u<0){if(d=!0,!s)break}else s=!1}if(!d)return _.OUTSIDE}return s?_.INSIDE:_.INTERSECTS}computeElevationBounds(){super.computeElevationBounds(),this._updateBoundingVolumes()}createGeometry(){v(this.renderData,this._getPatchType()),this._updateBoundingVolumes(),this.setMemoryDirty()}_updateBoundingVolumes(){this._updateConvexHull(),this._updateBoundingSphere(),j&&this._checkBVs()}_updateBoundingSphere(){const t=this._boundingSphere,e=x(t),r=this.elevationBoundsMin,l=this.elevationBoundsMax,a=this.ellipsoid.radius,h=l;if(0===this.level)i(e,0,0,0),t[3]=a+h;else{const i=this.extentInRadians,h=.5*(i[0]+i[2]),u=i[1],d=i[3];O(A,h,u,a),O(V,h,d,a),s(e,A,V);o(e,e,(a+.5*(r+l))/n(e));const c=this.convexHull;let p=0;const f=(t,e)=>{const i=t[0]-c[3*e],s=t[1]-c[3*e+1],o=t[2]-c[3*e+2];return Math.sqrt(i*i+s*s+o*o)};for(let t=0;t<8;++t){const i=f(e,t);p=Math.max(p,i)}const m=p;t[3]=m+2}}_updateConvexHull(){const t=this.extentInRadians,i=this.ellipsoid.radius;if(0===this.level)return;const a=this.elevationBoundsMin,d=this.elevationBoundsMax,c=this._getPatchType(),p=this.surface.isWebMercator,f=p&&c===$.HAS_NORTH_POLE,m=p&&c===$.HAS_SOUTH_POLE,g=m||f,x=Math.PI/2,_=t[0],v=t[2],M=m?-x:t[1],S=f?x:t[3],b=.5*(_+v),j=a,H=i+(g?Math.min(0,j-1):j),I=(t,e,i)=>O(t,e,i,H),B=u(),D=u(),L=u(),y=u();I(B,_,M),I(D,_,S),I(L,v,S),I(y,v,M);const R=(t,e)=>{for(let i=0;i<3;++i)this._convexHull[3*e+i]=t[i]};R(B,0),R(D,1),R(L,2),R(y,3);const A=d,V=i+(g?Math.max(0,A+1):A),C=u(),N=u(),U=u();O(N,b,S,H),O(U,b,M,H),s(C,N,U),e(C,C);const k=u(),F=u(),w=(t,i)=>{h(F,t,i),e(F,F);const n=-l(t,k)/l(F,k);T(n>=0),o(F,F,n),s(t,t,F)};if(2**this.lij[0]>2*this.lij[1]){const t=U,i=u();r(i,P,t),e(i,i),r(k,t,i),e(k,k),T(E(l(k,t)/n(t),0)),w(B,D),w(y,L),R(B,0),R(y,3)}else if(2**this.lij[0]!==2*this.lij[1]){const t=N,i=u();r(i,P,t),e(i,i),r(k,i,t),e(k,k),w(D,B),w(L,y),R(D,1),R(L,2)}const q=(t,e)=>{const i=V/l(e,C);for(let s=0;s<3;++s)this._convexHull[3*t+s]=e[s]*i};q(4,B),q(5,D),q(6,L),q(7,y)}_getPatchType(){const t=this.lij[1],e=0===t,i=t===(1<<this.level)-1;return e?i?$.HAS_BOTH_POLES:$.HAS_NORTH_POLE:i?$.HAS_SOUTH_POLE:$.REGULAR}intersectsRay(t,e,i,s){const o=this._boundingSphere,n=o[3]+i,r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],l=o[0]-t[0],a=o[1]-t[1],h=o[2]-t[2],u=(l*e[0]+a*e[1]+h*e[2])/r,d=e[0]*u-l,c=e[1]*u-a,p=e[2]*u-h;return d*d+c*c+p*p<n*n}getDefaultVerticesPerSide(){return this.level<L.length?L[this.level]+1:2}updateCornerElevations(){M(this.renderData),this._updateBoundingVolumes()}updateEdgeElevations(){S(this.renderData),this._updateBoundingVolumes()}updateEdgeElevationsAndResolutions(){b(this.renderData),this._updateBoundingVolumes()}_checkBVs(){if(!j)return;if(this.level<=2)return;const t=this._boundingSphere,i=t[3],o=x(t),d=u(),p=this.ellipsoid.radius,f=this.elevationBoundsMin,m=this.elevationBoundsMax,g=p+f,$=1,_=0,v=this._center[I.MIDDLE][3],M=this.convexHull,S=(t,e)=>{for(let i=0;i<3;++i)t[i]=M[3*e+i]};{const t=u(),i=u(),s=u(),o=u(),n=u(),a=(a,u,d,c)=>{S(i,a),S(s,u),S(o,d),h(i,i,s),h(o,o,s),r(t,i,o),e(t,t);const p=l(t,s);S(n,c);const f=l(t,n),m=Math.abs(f-p);T(E(m,0),`Non coplanar ${a},${u},${d},${c} diff = ${m}`)};a(0,1,2,3),a(4,5,6,7),a(0,1,4,5),a(1,2,5,6),a(2,3,6,7),a(3,0,7,4)}const b=c(24),H=(t,e,i)=>{const s=4*t;for(let o=0;o<3;++o)b[s+o]=e[o];b[s+3]=i},D=u(),L=u(),y=u(),P=u(),A=(t,i,s,o)=>{S(D,i),S(L,s),S(y,o),h(D,D,L),e(D,D),h(y,y,L),e(y,y),r(P,D,y),e(P,P);const n=l(P,L);H(t,P,n)};A(0,0,1,2),A(1,1,0,4),A(2,1,5,2),A(3,3,2,6),A(4,4,0,3),A(5,4,6,5);const V=1,C=(t,e,i,s)=>{const o=4*t;return b[o]*e+b[o+1]*i+b[o+2]*s-b[o+3]},N=(t,e,i,s)=>C(t,e,i,s)>=-V,U=(t,e)=>N(t,e[0],e[1],e[2]),k=2**this.lij[0]>2*this.lij[1],F=(t,e,s)=>Math.sqrt(R(t,e,s,o[0],o[1],o[2]))<i,w=t=>F(t[0],t[1],t[2]),q=(t,e)=>F(t[e],t[e+1],t[e+2]),G=this.extentInRadians,z=.5*(G[0]+G[2]),W=G[1],J=G[3],K=u(),Q=u();O(K,z,J,g),O(Q,z,W,g);const X=k?\"Upper\":\"Lower\";let Y=!0;for(let e=0;e<6;++e){for(let t=0;t<8;++t){const i=3*t,s=N(e,M[i],M[i+1],M[i+2]);Y&&=s,T(s,`Tile[${this.lij}] Convex hull point ${t} outside of plane ${e}`)}T(U(e,Q),`Tile[${this.lij}] (${X}) bottom mid outside of plane ${e}`),T(U(e,K),`Tile[${this.lij}] (${X}) top mid outside of plane ${e}`)}T(Y,\"Not all convex hull points are inside  convex hull polyhedron\"),T(w(Q),`Tile[${this.lij}] (${X}) bottom mid outside of bounding sphere`),T(w(K),`Tile[${this.lij}] (${X}) top mid outside of bounding sphere`);for(let e=0;e<8;++e){const t=q(M,3*e);T(t,`Tile[${this.lij}] Convex hull point ${e} outside of bounding sphere`)}for(let e=0;e<6;++e)for(let t=0;t<8;++t){const i=3*t;N(e,M[i],M[i+1],M[i+2])||console.error(`Tile[${this.lij}] Convex hull point ${t} outside of plane ${e}`)}const{extentInRadians:Z}=this,tt=Math.max(Z[2]-Z[0],Z[3]-Z[1]),et=Math.round(tt*p),{renderData:it}=this;if(!it)return;const{geometry:st,geometryState:ot,localOrigin:nt}=it,rt=st.vertexAttributes?.position;if(!rt)return;const lt=u(),at=st.numVerticesPerSide-2,{indices:ht,indexCount:ut,edgeVerticesStartIndex:dt,poleVerticesStartIndex:ct}=st;if(!ht)return;const pt=new Set;for(let e=0;e<ut;++e){const t=ht[e];if(pt.has(t))continue;pt.add(t);const r=t<ct,l=t>=dt;let h=!1,u=-1;if(l){let e=dt;for(let i=0;i<4;++i){const s=ot.edgeResolutions[i];if(t===e||t===e+s-1){h=!0;break}if(e+=s,t<e){u=i;break}}}const c=l?ot.edgePeerNeighbors[u]:null,g=l&&c&&B(this,c)>0;rt.getVec(t,d),s(lt,d,nt);const x=n(lt)-p;let M=0,S=!1;const b=f-x,j=x-m,T=b>$,E=j>$,H=T||E,I=()=>{const e=r?\"internal\":l&&!h?\"edge\":h?\"corner\":\"pole\";return`Tile[${this.lij}].vertex[${t}]:${e}`+(T?\"(below)\":E?\"(above)\":\"\")+(g?\"(Neighbor)\":\"\")},D=a(lt,o);if(D>=i+_){const t=D-i;H||(console.error(`${I()} is out of the bounding sphere by ${t.toFixed(0)} / ${i.toFixed(0)}[tol=${_}] h=${x.toFixed(0)} / [${f.toFixed(0)}..${m.toFixed(0)}] (${(t/i).toFixed(0)})`),S=!0)}for(let e=0;e<6;++e)if(!N(e,lt[0],lt[1],lt[2])){const s=C(e,lt[0],lt[1],lt[2]),o=t%at,n=(t-o)/at;0===e&&b||5===e&&j||(console.error(`${I()} (${o},${n})|${at}] is out of the bounding trapezoid plane ${e} h=${Math.round(x)} / [${Math.round(f)}..${Math.round(m)}] dist=${Math.round(s)} radii = ${Math.round(i)}/${Math.round(v)}} : maxL = ${et}`),++M)}if(S||M>0)break}}get convexHull(){return this._convexHull}}const L=[128,64,64,32,16,8,8,4];function y(t,e,i){return R(t[0],t[1],t[2],e[i],e[i+1],e[i+2])}function R(t,e,i,s,o,n){const r=s-t,l=o-e,a=n-i;return r*r+l*l+a*a}const O=(t,e,i,s)=>{const o=Math.cos(e),n=Math.sin(e),r=Math.cos(i),l=Math.sin(i);t[0]=s*r*o,t[1]=s*r*n,t[2]=s*l},P=[0,0,1],A=u(),V=u();export{D as SphericalPatch};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";let e=class extends t{constructor(){super(...arguments),this.fovX=0,this.fovY=0,this.relativeWidthLimit=0,this.relativeHeightLimit=0,this.maxLod=0,this.angledSplitBias=0,this.aboveGround=!0}};o([r()],e.prototype,\"fovX\",void 0),o([r()],e.prototype,\"fovY\",void 0),o([r()],e.prototype,\"relativeWidthLimit\",void 0),o([r()],e.prototype,\"relativeHeightLimit\",void 0),o([r()],e.prototype,\"maxLod\",void 0),o([r()],e.prototype,\"angledSplitBias\",void 0),o([r()],e.prototype,\"aboveGround\",void 0),o([r()],e.prototype,\"frustum\",void 0),e=o([i(\"esri.views.3d.terrain.SplitLimits\")],e);export{e as SplitLimits};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../support/buffer/InterleavedLayout.js\";import{VertexAttribute as r}from\"../webgl-engine/lib/VertexAttribute.js\";const t=e().vec3f(r.POSITION).vec2i16(r.UV0).vec2i16(r.NORMALCOMPRESSED,{glNormalized:!0});export{t as terrainAttributesLayout};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{MemCachePool as e}from\"../../../core/MemCachePool.js\";import{terrainAttributesLayout as r}from\"./TerrainAttributes.js\";class t{constructor(r){this._storage=new e(((e,t)=>r.newCache(e,t)),\"TileGeometry\")}acquire(e){const t=4,s=Math.ceil(e/t)*t,a=this._storage,c=o(s),i=a.pop(c);if(i)return i;const n=r.createBuffer(s);return n.release=()=>a.put(c,n),n}clear(){this._storage.clear()}destroy(){this._storage.destroy()}}function o(e){return e.toString()}export{t as TerrainAttributesCache};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{LayerBlendMode as o}from\"../webgl-engine/core/shaderLibrary/output/BlendOptions.js\";import{parameter as r,ShaderTechniqueConfiguration as n}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";class s extends n{constructor(){super(...arguments),this.blendMode=o.Normal}}e([r({count:o.COUNT})],s.prototype,\"blendMode\",void 0);export{s as BlendModeTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{BlendModeTechniqueConfiguration as o}from\"./BlendModeTechniqueConfiguration.js\";import{BlendLayersOutput as t,BaseOpacityMode as r,PremultipliedAlphaSource as i}from\"../webgl-engine/core/shaderLibrary/terrain/TileBackground.glsl.js\";import{parameter as s}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";class p extends o{constructor(){super(...arguments),this.output=t.Composite,this.baseOpacityMode=r.NotRequired,this.premultipliedSource=i.Off}}e([s({count:t.COUNT})],p.prototype,\"output\",void 0),e([s({count:r.COUNT})],p.prototype,\"baseOpacityMode\",void 0),e([s()],p.prototype,\"premultipliedSource\",void 0);export{p as TileBlendTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{ZEROS as r}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{TileBlendTechniqueConfiguration as i}from\"./TileBlendTechniqueConfiguration.js\";import{TileCompositePassParameters as o}from\"../webgl-engine/core/shaderLibrary/terrain/TileComposite.glsl.js\";import{B as t,a as s}from\"../../../chunks/BlendLayers.glsl.js\";import{ReloadableShaderModule as n}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as l}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{parameter as a}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as c}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as g}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as m}from\"../../webgl/enums.js\";import{makePipelineState as u,simpleBlendingParams as d,defaultColorWriteParams as h}from\"../../webgl/renderState.js\";class b extends o{constructor(){super(...arguments),this.opacity=1,this.baseOpacity=1,this.texture=null,this.fboTexture=null,this.backgroundColor=r}}class p extends l{initializeProgram(e){return new g(e.rctx,p.shader.get().build(this.configuration),c)}initializePipeline(){return u({blending:d(m.ONE,m.ONE_MINUS_SRC_ALPHA),colorWrite:h})}}p.shader=new n(t,(()=>import(\"../webgl-engine/core/shaderLibrary/util/BlendLayers.glsl.js\")));class f extends i{constructor(){super(...arguments),this.background=s.BelowLayer}}e([a()],f.prototype,\"background\",void 0);export{b as BlendLayersPassParameters,p as BlendLayersTechnique,f as BlendLayersTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{fromValues as e}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as t}from\"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";class s{constructor(s,r,o,i,a,c){this.texture=s,this.type=r,s.retain(),this.offsetAndScale=t(o.offset[0],o.offset[1],o.scale,o.scale),this.opacities=e(i,a,c)}destroy(){this.texture.release()}}export{s as TextureReference};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import e from\"../../../../Viewpoint.js\";import\"../../tiling/TileInfoView.js\";import t from\"../../tiling/TileKey.js\";import\"../../tiling/TileQueue.js\";import\"../../tiling/TileStrategy.js\";import s from\"../../ViewState.js\";import{StyleLayerType as i}from\"./style/StyleDefinition.js\";import{RenderableTile as r}from\"../webgl/RenderableTile.js\";import{TileReshuffleManager as n}from\"../webgl/TileReshuffleManager.js\";import{CompareFunction as l,StencilOperation as a}from\"../../../webgl/enums.js\";import o from\"../../../../geometry/Point.js\";const d=.125;class c{constructor(){this._renderParams={reshuffleManager:new n,context:null,drawPhase:1,state:new s({viewpoint:new e({targetGeometry:new o(0,0),scale:1,rotation:0}),size:[256,256]}),stationary:!0,pixelRatio:1,displayLevel:-1,requiredLevel:-1,globalOpacity:1,renderPass:\"background\",styleLayer:null,styleLayerUID:-1,painter:null,glyphMosaic:null,spriteMosaic:null,profiler:null,renderingOptions:null,requestRender:null,allowDelayedRender:!1,deltaTime:-1,timeline:null,time:0,hasClipping:!1,blendMode:null,dataUploadCounter:0,effects:null,inFadeTransition:!1,requireFBO:!1,highlightGradient:null,stencilSymbols:!0,is3D:!0,backgroundColor:null},this._backgroundTile=new r(new t(0,0,0,0),0,0,0,512,512,4096,4096)}dispose(){this._renderParams=null}renderBackground(e,t,s,i,r,n,l,a,o,d){const c=this._backgroundTile;this._updateRenderParameters(e,t,c,s,r,n,l,a,o,d),this._renderParams.stencilSymbols=!1,s.drawBackground(this._renderParams,c,i)}renderContent(e,t,s,i,r,n,a,o,d,c,m,u){this._stencilSymbols(e,t,s,i,r,n,a,Math.round(1/o),d,c,m,u);let p=1;s.stencilRef=p++,e.setStencilFunction(l.EQUAL,s.stencilRef,255),this._render(e,t,s,r,n,a,o,d,c,m,u),i.forAll((t=>{t.sourceLayerInfo.data.stencilRef=p++,this._renderSymbols(e,t.sourceLod,t.sourceLayerInfo.data,r,n,a,Math.round(1/o),t.offset,c,m,u)}))}_stencilSymbols(e,t,s,i,r,n,o,d,c,m,u,p){let f=1;s.stencilRef=f++,e.setDepthTestEnabled(!1),e.setDepthWriteEnabled(!1),e.setStencilTestEnabled(!0),e.setBlendingEnabled(!1),e.setColorMask(!1,!1,!1,!1),e.setStencilOp(a.KEEP,a.KEEP,a.REPLACE),e.setStencilWriteMask(255),e.setStencilFunction(l.ALWAYS,s.stencilRef,255),this._stencilTileSymbols(e,t,s,r,n,o,d,c,m,u,p);for(const a of i.toArray()){const{sourceLod:t,offset:s,sourceLayerInfo:i}=a;i.data.stencilRef=f++,e.setStencilFunction(l.ALWAYS,i.data.stencilRef,255),this._stencilTileSymbols(e,t,i.data,r,n,o,d,s,m,u,p)}e.setStencilWriteMask(0),e.setBlendingEnabled(!0),e.setDepthTestEnabled(!0),e.setColorMask(!0,!0,!0,!0)}_renderSymbols(e,t,s,r,n,a,o,d,c,m,u){e.setStencilFunction(l.EQUAL,s.stencilRef,255),this._render(e,t,s,r,n,a,o,d,c,m,u,i.SYMBOL)}_render(e,t,s,i,r,n,l,a,o,d,c,m){this._updateRenderParameters(e,t,s,i,n,l,a,o,d,c),this._renderParams.stencilSymbols=!1,i.drawTile(this._renderParams,s,r,m)}_stencilTileSymbols(e,t,s,i,r,n,l,a,o,d,c){this._updateRenderParameters(e,t,s,i,n,l,a,o,d,c),this._renderParams.stencilSymbols=!0,s.triangleCount=0,i.drawSymbols(this._renderParams,s,r)}_updateRenderParameters(e,t,s,i,r,n,l,a,o,c){\"type\"in s&&\"vector-tile\"===s.type&&!s.stage&&s.attachWithContext(e);const m=t[0]-r.getLevelShift(t[0]),u=this._renderParams;u.context=e,u.painter=i,u.glyphMosaic=i.glyphMosaic,u.spriteMosaic=i.spriteMosaic,u.pixelRatio=o*c,u.displayLevel=m,u.requiredLevel=m;const p=r.getScale(t[0]),[f,h]=r.getOffset(t,n*p),y=d*n*p/a,g=s.transforms.displayViewScreenMat3;g[0]=y,g[4]=-y,g[6]=-1-f-l[0]*n*2,g[7]=1+h+(1-l[1])*n*2-2,u.state.size[0]=a/c,u.state.size[1]=a/c,u.state.pixelRatio=c}}export{c as VectorTileRendererHelper3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{RasterColorizerType as r,RasterColorizerStretchType as i}from\"../../2d/engine/imagery/enums.js\";import{TileBlendTechniqueConfiguration as o}from\"./TileBlendTechniqueConfiguration.js\";import{R as t}from\"../../../chunks/RasterColorizer.glsl.js\";import{ReloadableShaderModule as n}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{parameter as l}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as a}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as p}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as m}from\"../../webgl/enums.js\";import{makePipelineState as c,simpleBlendingParams as h,defaultColorWriteParams as g}from\"../../webgl/renderState.js\";class u extends s{initializeProgram(e){return new p(e.rctx,u.shader.get().build(this.configuration),a)}initializePipeline(){return c({blending:h(m.ONE,m.ONE_MINUS_SRC_ALPHA),colorWrite:g})}}u.shader=new n(t,(()=>import(\"../webgl-engine/core/shaderLibrary/raster/RasterColorizer.glsl.js\")));class d extends o{constructor(){super(...arguments),this.colorizerType=r.Stretch,this.stretchType=i.Noop,this.applyColormap=!0,this.requireBilinearWithNN=!1}}e([l({count:r.COUNT})],d.prototype,\"colorizerType\",void 0),e([l({count:i.COUNT})],d.prototype,\"stretchType\",void 0),e([l()],d.prototype,\"applyColormap\",void 0),e([l()],d.prototype,\"requireBilinearWithNN\",void 0);export{u as RasterColorizerTechnique,d as RasterColorizerTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{RenderbufferFormat as e}from\"../../../webgl/enums.js\";import{FramebufferObject as t}from\"../../../webgl/FramebufferObject.js\";import{RenderbufferDescriptor as r}from\"../../../webgl/RenderbufferDescriptor.js\";import{TextureDescriptor as s}from\"../../../webgl/TextureDescriptor.js\";class o{constructor(e){this._rctx=e,this._fbos=new Map}get(e){return this._getPool(e)}dispose(){this._fbos.forEach((e=>e.dispose())),this._fbos.clear()}_getPool(o){const i=this._fbos.get(o);if(i)return i;const f=new t(this._rctx,new s(o),new r(e.DEPTH24_STENCIL8,o));return this._fbos.set(o,f),f}}export{o as MultiSizeFramebuffer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import{disposeMaybe as t,releaseMaybe as r}from\"../../../core/maybe.js\";import{ZEROS as i}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{RasterColorizerStretchType as s}from\"../../2d/engine/imagery/enums.js\";import{VectorTileRendererHelper3D as o}from\"../../2d/engine/vectorTiles/VectorTileRendererHelper3D.js\";import{BlendLayersTechniqueConfiguration as n,BlendLayersTechnique as a}from\"./BlendLayersTechnique.js\";import{LayerClass as l}from\"./LayerClass.js\";import{RasterColorizerTechniqueConfiguration as h,RasterColorizerTechnique as c}from\"./RasterColorizerTechnique.js\";import{MultiSizeFramebuffer as u}from\"./support/MultiSizeFramebuffer.js\";import{LayerBlendMode as d}from\"../webgl-engine/core/shaderLibrary/output/BlendOptions.js\";import{PremultipliedAlphaSource as _,BlendLayersOutput as f,BaseOpacityMode as p}from\"../webgl-engine/core/shaderLibrary/terrain/TileBackground.glsl.js\";import{a as b}from\"../../../chunks/BlendLayers.glsl.js\";import{BindParameters as g}from\"../webgl-engine/lib/BindParameters.js\";import{Pos2Tex as T}from\"../webgl-engine/lib/DefaultVertexBufferLayouts.js\";import{createQuadVAO as m}from\"../webgl-engine/lib/glUtil3D.js\";import{PrimitiveType as y,ClearBufferBit as x,TextureType as C}from\"../../webgl/enums.js\";import{Texture as B}from\"../../webgl/Texture.js\";import{vertexCount as q}from\"../../webgl/Util.js\";const O=()=>e.getLogger(\"esri.views.3d.terrain\");class I{constructor(e,t){this._rctx=e,this._techniqueRepository=t,this._fbos=[],this._vectorTileHelper=new o,this._bindParameters=new g(null,null),this._blendLayersTechniqueConfig=new n,this._current=0,this._lastUsedIds=new Array,this._lastCreatedBufferId=0,this._onHoldIds=new Array,this._vaoQuad=m(this._rctx,T)}dispose(){this._fbos.forEach(t),this._fbos=null,this._vtFBO=t(this._vtFBO),this._vaoQuad=t(this._vaoQuad),this._vectorTileHelper=t(this._vectorTileHelper),this._backgroundTechnique=r(this._backgroundTechnique),this._applyOpacityTechnique=r(this._applyOpacityTechnique),this._blendLayersTechnique=r(this._blendLayersTechnique)}_getBlendLayersTechnique(e,t,r,i=_.Off,s=b.BelowLayer){return this._blendLayersTechniqueConfig.output=t,this._blendLayersTechniqueConfig.blendMode=e,this._blendLayersTechniqueConfig.baseOpacityMode=r,this._blendLayersTechniqueConfig.premultipliedSource=i,this._blendLayersTechniqueConfig.background=s,this._blendLayersTechnique=this._techniqueRepository.releaseAndAcquire(a,this._blendLayersTechniqueConfig,this._blendLayersTechnique),this._blendLayersTechnique}drawBackground(e,t){const r=this._getBlendLayersTechnique(d.Normal,t?f.ColorComposite:f.GridComposite,p.NotRequired,_.Off,b.Only),i=this._rctx.bindTechnique(r,this._bindParameters,e);this._render(i)}_render(e){this._rctx.bindVAO(this._vaoQuad),e.assertCompatibleVertexAttributeLocations(this._vaoQuad),this._rctx.drawArrays(y.TRIANGLE_STRIP,0,q(this._vaoQuad,\"geometry\"))}drawGroup(e,t,r,i,s=_.On){t===f.Composite&&(e.fboTexture=this._fbos[this.getLastOnHoldId()].get(r).colorTexture),e.texture=this.currentFBO(r).colorTexture,this.closeGroup(r);const o=e.baseOpacity<1?p.Required:p.NotRequired,n=this._getBlendLayersTechnique(i,t,o,s),a=this._rctx.bindTechnique(n,this._bindParameters,e);this._render(a)}drawRasterData(e,t,r,i,s=_.Off){if(null==e.texture)return;const o=e.baseOpacity<1?p.Required:p.NotRequired;e.fboTexture=t===f.GroupBackgroundComposite||i===d.Normal&&o===p.NotRequired&&s===_.Off?null:this.switch(r).colorTexture;const n=this._getBlendLayersTechnique(i,t,o,s),a=this._rctx.bindTechnique(n,this._bindParameters,e);this._render(a)}drawImageryTileData(e,t,r,i,s){const o=s.sourceLayerInfo.data;if(!o.source)return;if(s.tile.surface.layerViewByIndex(s.layerIndex,l.MAP).ensureSymbolizerParameters(o),!o.bind(this._rctx))return;const n=e.baseOpacity<1?p.Required:p.NotRequired;e.fboTexture=i===d.Normal&&n===p.NotRequired?null:this.switch(r).colorTexture;const a=this._getRasterColorizerTechnique(o,t,i,n);o.opacity=e.opacity;const h=o.getUniforms();h.scale=s.scale,h.offset=s.offset,h.backgroundColor=e.backgroundColor,h.fboTexture=e.fboTexture,h.baseOpacity=e.baseOpacity;const c=this._rctx.bindTechnique(a,null,h);this._render(c)}_getRasterColorizerTechnique(e,t,r,i){const o=e.symbolizerParameters,n=[\"stretch\",\"lut\",\"hillshade\"].indexOf(o.type);return null==this._rasterColorizerConfig&&(this._rasterColorizerConfig=new h,this._rctx.gl.getExtension(\"WEBGL_color_buffer_float\"),this._rctx.gl.getExtension(\"OES_texture_float\")),this._rasterColorizerConfig.output=t,this._rasterColorizerConfig.blendMode=r,this._rasterColorizerConfig.baseOpacityMode=i,this._rasterColorizerConfig.colorizerType=n,this._rasterColorizerConfig.applyColormap=!!o.colormap,this._rasterColorizerConfig.requireBilinearWithNN=e.isBilinearWithStretchColorRamp,this._rasterColorizerConfig.stretchType=e.hasStretchTypeNone()?s.Noop:s.PerBand,this._rasterColorizerTechnique=this._techniqueRepository.releaseAndAcquire(c,this._rasterColorizerConfig,this._rasterColorizerTechnique),this._rasterColorizerTechnique}drawVectorData(e,t,r,s,o,n,a,h){const c=this._rctx,b=o.sourceLayerInfo.data,g=o.tile.surface.layerViewByIndex(o.layerIndex,l.MAP),T=e.baseOpacity<1?p.Required:p.NotRequired,m=T===p.Required||e.opacity<1||s!==d.Normal||t!==f.Composite,y=m?_.On:_.Off,C=this._getBlendLayersTechnique(s,t,T,y);c.setPipelineState(C.getPipeline());let B=null,q=null;m?(q=this.currentFBO(r),null==this._vtFBO&&(this._vtFBO=new u(this._rctx)),B=this._vtFBO.get(r),c.bindFramebuffer(B),this._clearCurrentFBO()):h&&c.clear(x.DEPTH_BUFFER_BIT);try{this._vectorTileHelper.renderBackground(c,o.sourceLod,g.painter,g.layer.styleRepository,g.schemaHelper,Math.round(1/o.scale),o.offset,a,n,g.contentZoom),b&&this._vectorTileHelper.renderContent(c,o.sourceLod,b,o.vtlNeighborInfos,g.painter,g.layer.styleRepository,g.schemaHelper,Math.round(1/o.scale),o.offset,a,n,g.contentZoom)}catch(I){O().warnOnce(\"A render call containing vector tiles did not resolve correctly.\",I)}return null==B||(c.bindFramebuffer(q),e.texture=B.colorTexture,e.offset=i,e.scale=1,this.drawRasterData(e,t,r,s,y),h)}copyFBOToTexture(e){const t=this._rctx,r=t.bindTexture(e.texture,B.TEXTURE_UNIT_FOR_UPDATES),i=e.descriptor;t.gl.copyTexImage2D(C.TEXTURE_2D,0,i.pixelFormat,0,0,i.width,i.height,0),e.generateMipmap(),t.bindTexture(r,B.TEXTURE_UNIT_FOR_UPDATES)}_clearCurrentFBO(){this._rctx.setStencilWriteMask(255),this._rctx.setClearColor(0,0,0,0),this._rctx.setClearDepth(1),this._rctx.setClearStencil(0),this._rctx.clear(x.COLOR_BUFFER_BIT|x.DEPTH_BUFFER_BIT|x.STENCIL_BUFFER_BIT)}_initFBO(e,t,r){this._rctx.bindFramebuffer(e),r&&(this._rctx.setViewport(0,0,t,t),this._clearCurrentFBO())}ensureBuffer(e){this._lastUsedIds.length=0,this._lastUsedIds.push(1),this._lastCreatedBufferId=1,this._onHoldIds.length=0,this.bind(e)}bind(e,t=0,r=!0){if(this._current=t,t>=this._fbos.length)for(let i=this._fbos.length;i<=t;i++)this._fbos.push(new u(this._rctx));this._initFBO(this._fbos[t].get(e),e,r)}_bindNextFreeBuffer(e){this._lastUsedIds.length>0?this.bind(e,this._lastUsedIds.pop()):(this._lastCreatedBufferId++,this.bind(e,this._lastCreatedBufferId))}openGroup(e){this._onHoldIds.push(this._current),this._bindNextFreeBuffer(e)}switch(e){const t=this.currentFBO(e),r=this._current;return this._bindNextFreeBuffer(e),this._lastUsedIds.push(r),t}getLastOnHoldId(){return this._onHoldIds[this._onHoldIds.length-1]}closeGroup(e){const t=this._current;this._bindNextFreeBuffer(e),this._lastUsedIds.push(t),this._lastUsedIds.push(this._onHoldIds.pop())}unbind(){this._rctx.bindFramebuffer(null)}currentFBO(e){return this._fbos[this._current].get(e)}}export{I as TileCompositor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport s from\"../../../core/PooledArray.js\";class o{constructor(){this.sourceLod=[0,0,0],this.offset=[0,0],this.scale=1,this.layerIndex=0,this.isVTLBackground=!1,this.vtlNeighborInfos=new s({allocator:s=>s||new t})}}class t{constructor(){this.sourceLayerInfo=null,this.sourceLod=[0,0,0],this.offset=[-1,0]}}export{o as TileRenderInfo,t as VTLNeighhborInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e,releaseMaybe as t}from\"../../../core/maybe.js\";import{set as r,copy as s}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{ZEROS as o}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{isBaseLayer as a,isGroupLayer as i}from\"../../../layers/support/layerUtils.js\";import{isImageWithType as n}from\"../support/StreamDataLoader.js\";import{BlendLayersPassParameters as c}from\"./BlendLayersTechnique.js\";import{TextureUpdate as u}from\"./interfaces.js\";import{NeighborIndex as l}from\"./ITile.js\";import{LayerClass as p}from\"./LayerClass.js\";import{isBlendableLayerView as h,isVectorTileLayerView as d,isVectorTileRenderInfo as m,isImageryTileRenderInfo as f,isRasterTileRenderInfo as _,isTextureTileRenderInfo as y,isVectorTilePerLayerInfo as T}from\"./terrainUtils.js\";import{ActivationTime as g}from\"./TextureFader.js\";import{TextureReference as b}from\"./TextureReference.js\";import{TileCompositor as x}from\"./TileCompositor.js\";import{TileRenderInfo as I}from\"./TileRenderInfo.js\";import w from\"./TileTexture.js\";import{TileUpdate as k}from\"./TileUpdate.js\";import{blendModeFromString as A}from\"../webgl-engine/core/shaderLibrary/output/BlendOptions.js\";import{BlendLayersOutput as P}from\"../webgl-engine/core/shaderLibrary/terrain/TileBackground.glsl.js\";import{createEmptyTexture as O}from\"../webgl-engine/lib/glUtil3D.js\";import{TextureSamplingMode as E,TextureWrapMode as M,PixelFormat as D}from\"../../webgl/enums.js\";import{Texture as L}from\"../../webgl/Texture.js\";import{TextureDescriptor as R}from\"../../webgl/TextureDescriptor.js\";class j{constructor(e,t,r,s,o,a){this.start=e,this.end=t,this.blendMode=r,this.opacity=s,this.output=o,this.baseOpacity=a}}class C{constructor(e,t,r,s){this._rctx=e,this.tileSize=t,this._techniques=r,this._cache=s,this._passParameters=new c,this._backgroundTexture=null,this._backgroundColor=null,this._backgroundDirty=!1,this._maxAnisotropy=this._rctx.parameters.maxMaxAnisotropy,this._composition=new x(this._rctx,this._techniques),this._ensureBackgroundTexture(this.tileSize)}dispose(){this._composition=e(this._composition),this._backgroundTexture=t(this._backgroundTexture)}get backgroundIsGrid(){return null==this._backgroundColor}get backgroundColor(){return this._backgroundColor}updateTileTexture(e,t){if(!e.renderData)return;const r=e.surface,s=r.baseOpacity;let o=0,n=0,c=this.tileSize,l=!1,m=!1;const f=r.view.state.contentPixelRatio;let _=!1;q.clear(),v.length=0;const y=e.layerInfo[p.MAP];let T=0,g=null;for(;T<y.length;T++){const t=r.layerViewByIndex(T,p.MAP),u=t.layer.opacity,b=t.fullOpacity;if(m=m||a(t.layer),h(t)){let e=\"normal\"!==t.layer.blendMode;if(i(t.layer.parent)){const r=S(t.layer.parent);null!=r&&\"\"!==r&&(e=B(t.layer.parent)||e)}e&&(_=e,l=!1)}if(0===u&&!_){y[T].pendingUpdates&=~(k.TEXTURE_NOFADING&k.TEXTURE_FADING);continue}++n;const x=d(t),I=N(e,T,x);if(I){if(y[T].pendingUpdates&=~(k.TEXTURE_NOFADING&k.TEXTURE_FADING),i(t.layer.parent)){const e=S(t.layer.parent);null!=e&&\"\"!==e&&G(t.layer.parent,T)}x?c=Math.max(c,this.tileSize*f):1===s&&1===b&&(t.isOpaque||this._dataToTexture(I)&&I.sourceLayerInfo.data.descriptor.isOpaque)&&(l=!0),++o,null===g&&(g=T)}}const b=c/this.tileSize,x=this._ensureBackgroundTexture(this.tileSize);0!==o&&null!==g?1===o&&!_&&this._useLayerTexture(e,g)||this._composeMapLayers(e,t,T-1,m,c,b,!l||_,q,_):F(e,n,x,t!==u.FADING)}_ensureBackgroundTexture(e){return null==this._backgroundTexture&&(this._backgroundTexture=this._buildTexture(e,!1),this._backgroundDirty=!0),this._backgroundDirty&&(this._composition.bind(e),this._passParameters.offset=o,this._passParameters.scale=1,this._passParameters.opacity=1,this.backgroundColor&&(this._passParameters.backgroundColor=this.backgroundColor),this._composition.drawBackground(this._passParameters,null!=this.backgroundColor),this._composition.copyFBOToTexture(this._backgroundTexture),this._composition.unbind(),this._backgroundDirty=!1),this._backgroundTexture}_useLayerTexture(e,t){const r=e.surface.layerViewByIndex(t,p.MAP),s=a(r.layer),o=s?e.surface.baseOpacity:1,i=s?1:e.surface.baseOpacity,n=r.fullOpacity,c=N(e,t,!1);return!!this._dataToTexture(c)&&(e.renderData.setTextureReference(new b(c.sourceLayerInfo.data,u.FADING,c,o,i,n)),!0)}_composeMapLayers(e,t,r,s,i,n,c,u,l){this._composition.ensureBuffer(i);const _=e.surface.baseOpacity;let y=!1,T=E.LINEAR_MIPMAP_LINEAR,g=!1,x=0;for(let b=r;b>=0;b--){const t=e.surface.layerViewByIndex(b,p.MAP),r=d(t),I=N(e,b,r),w=t.layer.opacity;if(!I||0===w&&!l)continue;const k=!a(t.layer)&&!y;k&&(y=!0);let O=!1;u.forEach((e=>{e.start===b&&(e.output=s?P.Composite:c&&k?this.backgroundIsGrid?P.GridComposite:P.ColorComposite:P.Composite,e.baseOpacity=k?_:1,v.push(e),this._composition.openGroup(i),O=!0)})),this._passParameters.baseOpacity=k&&!O&&_<1?_:1;const M=0===x,D=O?P.GroupBackgroundComposite:c&&M?this.backgroundIsGrid?P.GridComposite:P.ColorComposite:P.Composite,L=A[h(t)?t.layer.blendMode:\"normal\"];for(this._passParameters.opacity=w,m(I)?g=this._composition.drawVectorData(this._passParameters,D,i,L,I,n,this.tileSize,g):f(I)?(this._composition.drawImageryTileData(this._passParameters,D,i,L,I),U(I)&&(T=E.NEAREST)):this._dataToTexture(I)&&(this._passParameters.texture=I.sourceLayerInfo.data.texture,this._passParameters.offset=I.offset,this._passParameters.scale=I.scale,this._composition.drawRasterData(this._passParameters,D,i,L));v.length>0&&v[v.length-1].end===b;){const e=v.pop();this._passParameters.baseOpacity=e.baseOpacity,this._passParameters.opacity=e.opacity,this._passParameters.offset=o,this._passParameters.scale=1,this._composition.drawGroup(this._passParameters,e.output,i,A[e.blendMode])}x++}const I=e.renderData,w=l||y&&_<1,k=I.ensureTexture(i,w,(()=>this._buildTexture(i,w,T)));this._composition.copyFBOToTexture(k),this._composition.unbind(),I.setTextureReference(new b(k,t,H,y?1:_,0,1))}_dataToTexture(e){if(_(e)){const t=e.sourceLayerInfo;t.data=this._buildTexture(t.data,!0),e.tile.setMemoryDirty()}return y(e)}setBackground(e){this._backgroundColor!==e&&(this._backgroundColor=e,this._backgroundDirty=!0)}_buildTexture(e,t,r=E.LINEAR_MIPMAP_LINEAR){if(null==e)return null;const s=new R;s.wrapMode=M.CLAMP_TO_EDGE,s.samplingMode=r,s.maxAnisotropy=this._maxAnisotropy,s.preMultiplyAlpha=!0,s.flipped=!0,s.hasMipmap=!0,t||(s.pixelFormat=D.RGB);const o=this._rctx;let a;if(\"number\"==typeof e){s.width=s.height=e;const t=`${e} ${s.pixelFormat}`;a=this._cache.pop(t),a?a.retain():a=new w(new L(o,s),this._cache)}else if(n(e)){s.isOpaque=e.isOpaque,s.isOpaque&&(s.pixelFormat=D.RGB);const t=`${e} ${s.pixelFormat}`;a=this._cache.pop(t),a?(a.retain(),a.texture.setData(e.image)):a=new w(new L(o,s,e.image),this._cache),e.release()}else try{s.width=e.width,s.height=e.height,a=new w(new L(o,s,e))}catch(c){a=new w(O(o)),console.warn(\"TileRenderer: failed to execute 'texImage2D', cross-origin image may not be loaded.\")}const i=o.bindTexture(a.texture,L.TEXTURE_UNIT_FOR_UPDATES);return a.generateMipmap(),o.bindTexture(i,L.TEXTURE_UNIT_FOR_UPDATES),a}get test(){return{backgroundTexture:this._backgroundTexture}}}function N(e,t,o){z.layerIndex=t,z.vtlNeighborInfos.clear();const a=e.layerInfo[p.MAP][t];if(r(z.offset,0,0),z.tile=e,z.scale=1,z.sourceLod=e.lij,z.sourceLayerInfo=a,z.isVTLBackground=o,a.data)return o&&e.forEachLoadedNeighbor(((r,s)=>{if(r.level!==e.level)return;const o=r.layerInfo[p.MAP][t];if(!T(o)||a.data===o.data)return;const i=z.vtlNeighborInfos.pushNew();i.offset=V[s],i.sourceLod=r.lij,i.sourceLayerInfo=o})),z;const i=a.upsampleInfo;if(i){const e=i.tile.layerInfo[p.MAP][t];return z.tile=i.tile,s(z.offset,i.offset),z.scale=i.scale,z.sourceLod=i.tile.lij,z.sourceLayerInfo=e,z}return o?z:null}function S(e){return e.uid}function U(e){const t=e.sourceLayerInfo.data;return!!t.source&&\"nearest\"===t.interpolation}function B(e){let t=\"normal\"!==e.blendMode;return i(e.parent)&&(t=B(e.parent)||t),t}function G(e,t){i(e.parent)&&G(e.parent,t);const r=S(e);if(null!=r&&\"\"!==r){const s=q.get(r);s?s.start=t:q.set(r,new j(t,t,e.blendMode,e.opacity,P.Composite,1))}}function F(e,t,r,s){const o=e.renderData,a=!s&&null!=o.textureReference&&(e.surface.view.layerViewManager.updating||t>0)?g.Delayed:g.Immediate;o.setTextureReference(new b(r,u.FADING,H,e.surface.baseOpacity,0,1),a)}const q=new Map,v=new Array,z=new I,H={offset:[0,0],scale:1},V=new Array;V[l.NORTH]=[0,-1],V[l.NORTH_EAST]=[-1,-1],V[l.EAST]=[-1,0],V[l.SOUTH_EAST]=[-1,1],V[l.SOUTH]=[0,1],V[l.SOUTH_WEST]=[1,1],V[l.WEST]=[1,0],V[l.NORTH_WEST]=[1,-1];export{j as GroupInfo,C as TileRenderer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../../core/mathUtils.js\";import{create as e}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as i}from\"../../../../../geometry/support/aaBoundingBox.js\";import{intersectRayTriangles as n,MeshIntersectionOptions as r}from\"../../lib/RayIntersections.js\";const s=200,o=40,a=.8,c=10,h=1e-6;function d(t,e,i){const n=e,r=i;let s=0,o=1/0;for(let a=0;a<3;++a){{const e=t[a];if(n[a]<e){if(r[a]<=h)return!1;const t=(e-n[a])/r[a];s=Math.max(s,t)}else if(r[a]<=-h){const t=(e-n[a])/r[a];o=Math.min(o,t)}if(s>o)return!1}{const e=t[a+3];if(n[a]>e){if(r[a]>=-h)return!1;const t=(e-n[a])/r[a];s=Math.max(s,t)}else if(r[a]>=h){const t=(e-n[a])/r[a];o=Math.min(o,t)}if(s>o)return!1}}return!0}class l{constructor(t,e,i,n,r){this.aabb=t,this.axis=e,this.d=i,this.midStartIndex=n,this.rightStartIndex=r}}class f{constructor(i,n,r,s){this.globalTriangleVertexIndices=i,this.firstTriangleIndex=n,this.positions=s,this._rayDirection=e(),this._intersectionOptions=I,this.bspNodeTree=new Array;const h=r-n,d=new(h<N?Uint8Array:h<b?Uint16Array:Uint32Array)(h);this.triangleIndexMap=d;for(let t=0;t<h;++t)d[t]=t;{const e=p(i,n,r,s.data,s.stride),f=t(Math.log2(h/o),2,c),m=(t,i,n)=>{const r=x(d,e,t,i),s=i-t;if(s<=o){const e=new l(r,void 0,0,t,i);return this.bspNodeTree.push(e),e}const{axis:c,midValue:h}=y(r),u=g(d,e,t,i,c,h),p=(t,e)=>{if(n>f)return;const i=e-t;return i<o||i>=a*s?void 0:m(t,e,n+1)},N=new l(r,c,h,u.next,u.mid);return this.bspNodeTree.push(N),N.leftNode=p(t,u.next),N.rightNode=p(u.mid,i),N};m(0,h,0)}}intersectRayTriangleRange(t,e){if(t>=e)return;const i=this.positions;n(this._rayFrom,this._rayDirection,t,e,this.globalTriangleVertexIndices,i.data,i.stride,this._intersectionOptions,this._callback,this.triangleIndexMap,this.firstTriangleIndex),f.numFacesTested+=e-t}intersectRay(t,e,i,n){f.numFacesTested=0;const r=t,s=e,o=s[0]-r[0],a=s[1]-r[1],c=s[2]-r[2];if(o*o+a*a+c*c<h)return;this._rayFrom=r;const d=this._rayDirection;d[0]=o,d[1]=a,d[2]=c;const l=this.triangleIndexMap.length;this._callback=n,this._intersectionOptions=i;const m=this.bspNodeTree[0];this.intersectRayBSP(m,0,l)}intersectRayBSP(t,e,i){const n=this._rayFrom,r=this._rayDirection;if(!d(t.aabb,n,r))return;const s=t.axis,o=t.d;if(n[s]<o||r[s]<0){const i=e,n=t.midStartIndex;if(i<n){const e=t.leftNode;void 0!==e?this.intersectRayBSP(e,i,n):this.intersectRayTriangleRange(i,n)}}if(this.intersectRayTriangleRange(t.midStartIndex,t.rightStartIndex),n[s]>o||r[s]>0){const e=t.rightStartIndex,n=i;if(e<n){const i=t.rightNode;void 0!==i?this.intersectRayBSP(i,e,n):this.intersectRayTriangleRange(e,n)}}}get estimatedMemoryUsage(){return this.triangleIndexMap.byteLength}}f.numFacesTested=0;const m=[1/0,1/0,1/0],u=[-1/0,-1/0,-1/0];function g(t,e,i,n,r,s){let o=i,a=n;for(;o<a;){const i=t[o];e[6*i+r+3]<=s?++o:(--a,t[o]=t[a],t[a]=i)}let c=o;for(a=n;c<a;){const i=t[a-1];e[6*i+r]>=s?--a:(t[a-1]=t[c],t[c]=i,++c)}return{next:o,mid:c}}function x(t,e,n,r){if(r<=n)return i(NaN,NaN,NaN,NaN,NaN,NaN);{const i=6*t[n];for(let t=0;t<3;++t)m[t]=e[i+0+t],u[t]=e[i+3+t]}for(let i=n+1;i<r;++i){const n=6*t[i];for(let t=0;t<3;++t)m[t]=Math.min(m[t],e[n+0+t]),u[t]=Math.max(u[t],e[n+3+t])}return i(m[0],m[1],m[2],u[0],u[1],u[2])}function y(t){const e=t[3]-t[0],i=t[4]-t[1],n=t[5]-t[2],r=e>i?e>n?0:i>n?1:2:i>n?1:n>e?2:0;return{axis:r,midValue:(t[r]+t[r+3])/2}}function p(t,e,i,n,r){const s=i-e,o=new Float32Array(6*s);for(let a=0;a<s;++a){const i=3*(a+e),s=t[i]*r,c=t[i+1]*r,h=t[i+2]*r;for(let t=0;t<3;++t){const e=n[s+t],i=n[c+t],r=n[h+t];o[6*a+t]=Math.min(e,i,r),o[6*a+3+t]=Math.max(e,i,r)}}return o}const N=255,b=65535,I=new r;export{f as ComponentIntersectionData,s as componentMinimalSizeForIntersectionData};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{NormalType as t}from\"../core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{TextureCoordinateAttributeType as r}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{PBRMode as i}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{OverlayMode as s}from\"../core/shaderLibrary/terrain/Overlay.glsl.js\";import{TileBlendInput as p}from\"../core/shaderLibrary/terrain/TileBlendInput.js\";import{parameter as a}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as l}from\"../materials/DefaultTechniqueConfiguration.js\";class d extends l{constructor(){super(...arguments),this.output=o.Color,this.overlayMode=s.Disabled,this.tileBlendInput=p.LayerOnly,this.spherical=!1,this.doublePrecisionRequiresObfuscation=!1,this.receiveShadows=!1,this.hasSlicePlane=!1,this.backfaceCullingEnabled=!1,this.textureFadingEnabled=!1,this.renderOccluded=!1,this.hasScreenSpaceReflections=!1,this.hasCloudsReflections=!1,this.invisible=!1,this.tileBorders=!1,this.visualizeNormals=!1,this.screenSizePerspective=!1,this.receiveAmbientOcclusion=!1,this.pbrMode=i.Simplified}}e([a({count:o.COUNT})],d.prototype,\"output\",void 0),e([a({count:s.COUNT})],d.prototype,\"overlayMode\",void 0),e([a({count:p.COUNT})],d.prototype,\"tileBlendInput\",void 0),e([a()],d.prototype,\"spherical\",void 0),e([a()],d.prototype,\"doublePrecisionRequiresObfuscation\",void 0),e([a()],d.prototype,\"receiveShadows\",void 0),e([a()],d.prototype,\"hasSlicePlane\",void 0),e([a()],d.prototype,\"backfaceCullingEnabled\",void 0),e([a()],d.prototype,\"textureFadingEnabled\",void 0),e([a()],d.prototype,\"renderOccluded\",void 0),e([a()],d.prototype,\"hasScreenSpaceReflections\",void 0),e([a()],d.prototype,\"hasCloudsReflections\",void 0),e([a()],d.prototype,\"invisible\",void 0),e([a()],d.prototype,\"tileBorders\",void 0),e([a()],d.prototype,\"visualizeNormals\",void 0),e([a()],d.prototype,\"screenSizePerspective\",void 0),e([a()],d.prototype,\"receiveAmbientOcclusion\",void 0),e([a({count:i.COUNT})],d.prototype,\"pbrMode\",void 0),e([a({constValue:t.Compressed})],d.prototype,\"normalType\",void 0),e([a({constValue:r.Compressed})],d.prototype,\"textureCoordinateType\",void 0),e([a({constValue:!1})],d.prototype,\"highStepCount\",void 0),e([a({constValue:!1})],d.prototype,\"useCustomDTRExponentForWater\",void 0),e([a({constValue:!1})],d.prototype,\"useFillLights\",void 0),e([a({constValue:!0})],d.prototype,\"hasColorTexture\",void 0);export{d as TerrainTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import has from\"../../../core/has.js\";import{disposeMaybe as i}from\"../../../core/maybe.js\";import{MemCachePool as r}from\"../../../core/MemCachePool.js\";import s from\"../../../core/ObjectPool.js\";import{watch as n,sync as a}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{IDENTITY as c}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{f as h,s as d,k as u}from\"../../../chunks/vec32.js\";import{ZEROS as p,fromValues as _,create as f}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ZEROS as m}from\"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{create as g,set as b}from\"../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as y}from\"../../../geometry/support/buffer/BufferView.js\";import{ViewingMode as T}from\"../../ViewingMode.js\";import{TextureUpdate as O}from\"./interfaces.js\";import{LayerClass as R}from\"./LayerClass.js\";import{OverlayContent as C}from\"./OverlayContent.js\";import{overlayRenderOccludedFlag as x}from\"./OverlayRenderer.js\";import{PatchRenderData as P}from\"./PatchRenderData.js\";import{RenderOrder as v}from\"./RenderOrder.js\";import{TerrainAttributesCache as D}from\"./TerrainAttributesCache.js\";import{enableTerrainInternalChecks as S}from\"./terrainUtils.js\";import{TileRenderer as w}from\"./TileRenderer.js\";import{TileUpdate as q}from\"./TileUpdate.js\";import{IteratorPreorder as E,sortTiles as A,compareTiles as N}from\"./tileUtils.js\";import{componentMinimalSizeForIntersectionData as j,ComponentIntersectionData as B}from\"../webgl-engine/collections/Component/ComponentIntersectionData.js\";import{ShaderOutput as I}from\"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{T as L}from\"../../../chunks/Terrain.glsl.js\";import{TileBlendInput as F}from\"../webgl-engine/core/shaderLibrary/terrain/TileBlendInput.js\";import{SyncPrepareRenderPlugin as U,ConsumesDepth as G,ConsumesNone as k}from\"../webgl-engine/effects/RenderPlugin.js\";import{Vertices as M}from\"../webgl-engine/lib/Attribute.js\";import{RenderRequestType as z}from\"../webgl-engine/lib/basicInterfaces.js\";import{createEmptyTexture as H}from\"../webgl-engine/lib/glUtil3D.js\";import{newIntersectorResult as V}from\"../webgl-engine/lib/Intersector.js\";import{IntersectorType as W,StoreResults as Y}from\"../webgl-engine/lib/IntersectorInterfaces.js\";import{RenderOccludedFlag as Q}from\"../webgl-engine/lib/Material.js\";import{intersectAabbInvDirBefore as X,intersectTriangles as K,MeshIntersectionOptions as Z}from\"../webgl-engine/lib/RayIntersections.js\";import{RenderSlot as J}from\"../webgl-engine/lib/RenderSlot.js\";import{getSettings as $}from\"../webgl-engine/lib/screenSizePerspectiveUtils.js\";import{VertexAttribute as ee}from\"../webgl-engine/lib/VertexAttribute.js\";import{terrainId as te,getVerticalOffsetTerrain as ie}from\"../webgl-engine/lib/verticalOffsetUtils.js\";import{DrawParameters as re}from\"../webgl-engine/materials/DrawParameters.js\";import{TerrainTechnique as se}from\"../webgl-engine/shaders/TerrainTechnique.js\";import{TerrainTechniqueConfiguration as ne}from\"../webgl-engine/shaders/TerrainTechniqueConfiguration.js\";import{PrimitiveType as ae}from\"../../webgl/enums.js\";const oe=7,le=10,ce=g();var he;!function(e){e[e.Opaque=0]=\"Opaque\",e[e.Semitransparent=1]=\"Semitransparent\",e[e.TransparentWithDraped=2]=\"TransparentWithDraped\",e[e.Empty=3]=\"Empty\"}(he||(he={}));let de=class extends U{get _isGlobal(){return this._stage.viewingMode===T.Global}get _techniques(){return this._context.techniqueRepository}get _rctx(){return this._context.renderContext.rctx}constructor(e,t,i,n,a){super({}),this._overlayRenderer=e,this._stage=t,this._allTiles=i,this._ellipsoidRadius=n,this.type=W.TERRAIN,this.isGround=!0,this._tileSize=256,this._techniqueConfiguration=new ne,this._passParameters=new L,this._drawParameters=new re,this._renderDataPool=new s(P),this._visiblePatchesByOrigin=new Map,this._allPatchesByOrigin=new Map,this._patchesByOriginDirty=!0,this._patchSortingDirty=!0,this._tileIterator=new E,this._transparencyState=he.Opaque,this._castShadows=!1,this._emptyTex=null,this._tileRenderer=null,this._stencilEnabledLayerExtents=new Array,this._numTilesRendered=0,this._numTilesCulled=0,this._numOriginsRendered=0,this.renderOccludedFlags=Q.Occlude,this.produces=new Map([[J.OPAQUE_TERRAIN,()=>this._produces()],[J.TRANSPARENT_TERRAIN,()=>this._produces()],[J.OCCLUDED_TERRAIN,()=>this._produces()]]),this._tileTextureCache=new r(((e,t)=>a.newCache(e,t)),\"TileTexture\"),this.tileGeometryCache=new D(a)}normalizeCtorArgs(){return{}}initialize(){this._stage.addRenderPlugin(this),this.addHandles(n((()=>this._overlayRenderer.rendersOccludedDraped),(e=>{this.renderOccludedFlags=e?x:Q.Occlude,this.setNeedsRender()}),a))}destroy(){this._stage.removeRenderPlugin(this),this._tileTextureCache.destroy(),this.tileGeometryCache.destroy()}_produces(){return this.visible&&!!this._rootTiles&&!this.renderingDisabled}consumes(){return this._overlayRenderer.hasWater?G:k}set renderingDisabled(e){this._set(\"renderingDisabled\",!!e),this.setDirty()}set visible(e){this._set(\"visible\",!!e),this.setDirty()}set transparency(e){this._transparencyState!==e&&(this._techniqueConfiguration.invisible=e===he.TransparentWithDraped||e===he.Empty,this._transparencyState=e,this.setNeedsRender())}get transparency(){return this._transparencyState}get renderPatchBorders(){return!!this._techniqueConfiguration.tileBorders}set renderPatchBorders(e){this._techniqueConfiguration.tileBorders!==e&&(this._techniqueConfiguration.tileBorders=e,this.setNeedsRender(),this.notifyChange(\"renderPatchBorders\"))}get visualizeNormals(){return!!this._techniqueConfiguration.visualizeNormals}set visualizeNormals(e){this._techniqueConfiguration.visualizeNormals!==e&&(this._techniqueConfiguration.visualizeNormals=e,this.setNeedsRender(),this.notifyChange(\"visualizeNormals\"))}get cullBackFaces(){return this._techniqueConfiguration.backfaceCullingEnabled}set cullBackFaces(e){this._techniqueConfiguration.backfaceCullingEnabled!==e&&(this._techniqueConfiguration.backfaceCullingEnabled=e,this.notifyChange(\"cullBackFaces\"),this.setNeedsRender())}set renderOrder(e){this._set(\"renderOrder\",e),this._setSortingDirty()}get layerUid(){return te}get slicePlaneEnabled(){return this._techniqueConfiguration.hasSlicePlane}set slicePlaneEnabled(e){this._techniqueConfiguration.hasSlicePlane!==e&&(this._techniqueConfiguration.hasSlicePlane=e,this.setNeedsRender())}set textureFadingEnabled(e){this._techniqueConfiguration.textureFadingEnabled!==e&&(this._techniqueConfiguration.textureFadingEnabled=e,this.setNeedsRender())}set pbrMode(e){this._techniqueConfiguration.pbrMode!==e&&(this._techniqueConfiguration.pbrMode=e,this.setNeedsRender())}setDebugScreenSizePerspective(e){this._techniqueConfiguration.screenSizePerspective!==e&&(this._techniqueConfiguration.screenSizePerspective=e,this.setNeedsRender())}setRootTiles(e){this._rootTiles=e,this.setDirty()}setStencilEnabledLayerExtents(e){this._stencilEnabledLayerExtents=e,this._setSortingDirty()}setTileSize(e){this._tileSize=e,null!=this._tileRenderer&&(this._tileRenderer.tileSize=e),this.setDirty()}_prepareTileForLoading(e){e.renderData||(e.renderData=this._renderDataPool.acquire(),e.renderData.init(e,this._getLocalOriginOfTile(e)))}loadTile(e){this._prepareTileForLoading(e),this.updateTileGeometryState(e),this.updateTileTexture(e,q.TEXTURE_FADING)}updateTileTexture(e,t){null!=this._tileRenderer&&(this._tileRenderer.updateTileTexture(e,t===q.TEXTURE_FADING?O.FADING:O.UNFADED),this.setNeedsRender(),e.resetPendingUpdate(t))}updateTileGeometryState(e){for(const i of e.layerInfo[R.ELEVATION])i.pendingUpdates&=~q.GEOMETRY;e.resetPendingUpdate(q.GEOMETRY);const t=e.renderData.updateGeometryState();return t&&this.setDirty(),t}updateGeometryIfNeeded(e){e.isLoaded&&e.renderData.updateGeometryIfNeeded(this._rctx)}unloadTile(e){const t=e.renderData;t&&(t.releaseGeometry(),this._renderDataPool.release(t),t.clear(),e.renderData=null,e.setMemoryDirty(),this.setDirty())}_getLocalOriginOfTile(e){const t=le-oe,i=Math.max(0,Math.floor((e.level-t)/oe)*oe);if(this._isGlobal&&0===i)return p;for(;e.parent&&e.level>i;)e=e.parent;return e.centerAtSeaLevel}getStats(){return{numTilesRendered:this._numTilesRendered,numTilesCulled:this._numTilesCulled,numOriginsRendered:this._numOriginsRendered}}set wireframe(e){this._get(\"wireframe\")!==e&&(this._set(\"wireframe\",e),this.setNeedsRender())}setDirty(e=z.UPDATE){this._patchesByOriginDirty=!0,this._context.requestRender(e)}_setSortingDirty(e=z.UPDATE){this._patchSortingDirty=!0,this._context.requestRender(e)}setNeedsRender(e=z.UPDATE){this._context.requestRender(e)}initializeRenderContext(e){this._context=e,this._tileRenderer=new w(this._rctx,this._tileSize,this._techniques,this._tileTextureCache),this.updateTileBackground(),this._emptyTex=H(this._rctx)}uninitializeRenderContext(){this._emptyTex=i(this._emptyTex),this._tileRenderer=i(this._tileRenderer)}intersect(e,t,i,r){if(!this._rootTiles||e.options.selectOpaqueTerrainOnly&&e.options.selectionMode&&this.transparency!==he.Opaque)return;const s=ue,n=pe;h(s,r,i),d(n,1/s[0],1/s[1],1/s[2]);const a=e.results.min,o=e.results.max,l=e.results.ground,p=e.options.store===Y.MIN,_=!!e.results.ground.target,f=ie(e.verticalOffset),m=e.tolerance;let g,T=p&&null!=a.dist?a.dist:1/0;const O=e.options,R=O.normalRequired||!O.backfacesTerrain,C=new Z(!1,R),x=d=>{const _=d.renderData;if(!_?.vao)return;const x=_.geometry;b(ce,x.boundingBox);const P=_.localOrigin;null!=f&&(f.localOrigin=P,f.applyToAabb(ce));const v=ce;if(_e[0]=i[0]-P[0],_e[1]=i[1]-P[1],_e[2]=i[2]-P[2],!X(v,_e,n,m,T))return;const D=(e,t,i)=>{e.set(this.type,d,t,i,c),T=p&&null!=a.dist?a.dist:1/0},S=(n,c,h)=>{if((!R||null!=h)&&n>=0&&(O.backfacesTerrain||u(h,s)<0)&&(O.invisibleTerrain||!O.selectionMode||null==t||t(i,r,n))){if((null==l.dist||n<l.dist)&&D(l,n,h),O.isFiltered)return;O.store===Y.ALL&&(null==g?(g=V(e.ray),D(g,n,h),e.results.all.push(g)):n<g.dist&&D(g,n,h)),(null==a.dist||n<a.dist)&&D(a,n,h),O.store!==Y.MIN&&(null==o.dist||n>o.dist)&&D(o,n,h)}},w=fe;h(w,r,P);const{indices:q,indexCount:E}=x,A=x.vertexAttributes,N=A.getField(ee.POSITION,y),I=new M(N.typedBuffer,3,A.stride/4),L=E/3;if(!f&&L>j){const e=d.renderData;null==e.intersectionData&&(e.intersectionData=new B(q,0,L,I)),e.intersectionData.intersectRay(_e,w,C,S)}else K(_e,w,0,L,q,I,f,C,S)},P=this._rootTiles;if(null!=P){(()=>{const t=this._tileIterator;t.reset(P);const r=e.options.invisibleTerrain;for(let e=t.next();e;e=t.next())!(e.visible||r&&e.intersectsClippingArea)||null==f&&!e.intersectsRay(i,s,m,T)||_&&this._useStencilForTile(e)?t.skipSubtree():x(e)})()}}processScaleRangeQueries(e,t){if(!t.done)for(this._updatePatchGroups();e.updating&&!t.done;){e.prepare();for(const t of this._visiblePatchesByOrigin.values())for(const i of t)null!=i.renderData?.textureReference&&e.queriesForTile(i);e.process(),t.madeProgress()}}prepareTechnique(e){const t=has(\"enable-feature:terrain-shadows\")&&e.bindParameters.shadowMap.enabled;if(t!==this._castShadows&&(this._castShadows=t,this._patchesByOriginDirty=!0),e.bindParameters.slot===J.OCCLUDED_TERRAIN){if(!(e.renderOccludedMask&x))return null}else{const t=this.transparency===he.Opaque?J.OPAQUE_TERRAIN:J.TRANSPARENT_TERRAIN;if(e.bindParameters.slot!==t)return null}if(this.transparency===he.Empty)return null;switch(e.output){case I.Color:return this._techniqueConfiguration.hasScreenSpaceReflections=null!=e.bindParameters.ssr.lastFrameColor,this._techniqueConfiguration.hasCloudsReflections=null!=e.bindParameters.cloudsFade.data,this._techniqueConfiguration.receiveShadows=e.bindParameters.shadowMap.ready,this._techniqueConfiguration.receiveAmbientOcclusion=null!=e.bindParameters.ssao,this._techniqueConfiguration.overlayMode=this._overlayRenderer.mode,this._updateTechnique(I.Color,e.bindParameters.slot===J.OCCLUDED_TERRAIN);case I.Shadow:case I.ShadowExcludeHighlight:return this._castShadows?(this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(I.Shadow,!1)):null;case I.LinearDepth:return this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(I.LinearDepth,!1);case I.Normal:return this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(I.Normal,!1);case I.ObjectAndLayerIdColor:return this._updateTechnique(I.ObjectAndLayerIdColor,!1);case I.Highlight:return this._overlayRenderer.hasHighlights?(this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(I.Highlight,!1)):null}return null}renderNode(e,t){switch(this._updatePatchGroups(),t.useStencil=!1,e.output){case I.Color:{const i=e.bindParameters.slot===J.OCCLUDED_TERRAIN?C.Occluded:C.Color;this._renderMaterialPass(e,t,i);break}case I.LinearDepth:case I.Normal:this._renderAuxiliaryPass(e,t,C.Color,this._visiblePatchesByOrigin);break;case I.Highlight:this._renderAuxiliaryPass(e,t,C.Highlight,this._visiblePatchesByOrigin);break;case I.Shadow:case I.ShadowExcludeHighlight:this._renderAuxiliaryPass(e,t,null,this._allPatchesByOrigin);break;case I.ObjectAndLayerIdColor:this._renderAuxiliaryPass(e,t,C.ObjectAndLayerIdColor,this._visiblePatchesByOrigin)}}updateTileBackground(e){if(null==this._tileRenderer)return;const i=this._tileRenderer;let r;if(null!=e){const i=t.toUnitRGBA(e);r=_(i[0]||0,i[1]||0,i[2]||0)}i.setBackground(r),this._allTiles.forAll((e=>i.updateTileTexture(e,O.FADING))),this._techniqueConfiguration.tileBlendInput=i.backgroundIsGrid?F.GridComposite:null!=i.backgroundColor?F.ColorComposite:F.LayerOnly,this.setNeedsRender()}_updatePatchGroups(){if(this._patchesByOriginDirty&&(this._rebuildPatchGroups(),this._patchesByOriginDirty=!1,this._patchSortingDirty=!0),this._patchSortingDirty&&this.renderOrder!==v.NONE){const e=Array.from(this._visiblePatchesByOrigin.values()),t=this._stencilEnabledLayerExtents;for(const i of e)A(this.renderOrder,i,t);e.sort(((e,t)=>N(e[0],t[0],this.renderOrder))),this._visiblePatchesByOrigin=new Map(e.map((e=>[e[0].renderData.localOrigin,e]))),this._patchSortingDirty=!1}}_rebuildPatchGroups(){const e=this._rootTiles;if(null!=e){e[0]?.surface.checkAllTilesWaterproofness(),this._visiblePatchesByOrigin.clear(),this._allPatchesByOrigin.clear();for(const t of e)this._rebuildPatchGroupsForRootTile(t)}}_rebuildPatchGroupsForRootTile(e){const t=this._tileIterator;for(t.resetOne(e);!t.done;){const e=t.next(),i=e.renderData;if(!i){this._numTilesCulled++;continue}const r=i.localOrigin;if(this._castShadows){let t=this._allPatchesByOrigin.get(r);t||(t=[],this._allPatchesByOrigin.set(r,t)),t.push(e)}if(!e.visible){this._numTilesCulled++,t.skipSubtree();continue}let s=this._visiblePatchesByOrigin.get(r);s||(s=[],this._visiblePatchesByOrigin.set(r,s)),s.push(e),t.skipSubtree()}}_useStencilForTile(e){for(const t of this._stencilEnabledLayerExtents)if(e.intersectsExtent(t))return!0;return!1}_renderAuxiliaryPass(e,t,i,r){const s=e.rctx;this._passParameters.overlayContent=i,s.bindTechnique(t,e.bindParameters,this._passParameters);const n=this._stencilEnabledLayerExtents.length>0;r.forEach((r=>{this._drawParameters.origin=r[0].renderData.localOrigin,t.program.bindDraw(this._drawParameters,e.bindParameters,this._passParameters);for(let s=0;s<r.length;s++)this._renderPatch(e,t,r[s],ae.TRIANGLES,n,i)})),e.rctx.bindVAO(null)}_renderMaterialPass(e,t,i){const{rctx:r}=e;this._passParameters.overlayContent=i,r.bindTechnique(t,e.bindParameters,this._passParameters),this._numTilesRendered=0,this._numTilesCulled=0,this._numOriginsRendered=0;const s=e.bindParameters.camera,n=t.program;if(this._techniqueConfiguration.screenSizePerspective&&this.pointsOfInterest){const e=$(this._stage.viewingMode,this._ellipsoidRadius),t=this.pointsOfInterest.centerOnSurfaceFrequent.distance;e.update({distance:t,fovY:s.fovY})}const a=this._stencilEnabledLayerExtents.length>0,o=i===C.Occluded;o&&(n.bindTexture(\"tex\",this._emptyTex),n.setUniform3fv(\"textureOpacities\",p),n.setUniform4fv(\"texOffsetAndScale\",m));const l=null!=this._tileRenderer?.backgroundColor?this._tileRenderer.backgroundColor:p;this._techniqueConfiguration.tileBlendInput===F.ColorComposite&&n.setUniform3fv(\"backgroundColor\",l);const c=this.wireframe?ae.LINES:ae.TRIANGLES;this._techniqueConfiguration.textureFadingEnabled&&n.bindTexture(\"texNext\",this._emptyTex);const h=this._visiblePatchesByOrigin;for(const d of h.values()){const r=d[0].renderData.localOrigin;t.program.bindDraw(new re(r),e.bindParameters,this._passParameters),this._numOriginsRendered++;for(const s of d){const r=s.renderData,l=r.textureReference;if(null!=l){if(!o){n.setUniform4fv(\"texOffsetAndScale\",l.offsetAndScale),n.bindTexture(\"tex\",l.texture.texture);const e=r.textureFadeFactor,t=e<1?r.nextTextureReference:null;this._techniqueConfiguration.textureFadingEnabled&&null!=t&&e<1?(n.setUniform1f(\"fadeFactor\",e),n.setUniform4fv(\"nextTexOffsetAndScale\",t.offsetAndScale),n.setUniform3fv(\"nextTexOpacities\",t.opacities),n.bindTexture(\"texNext\",t.texture.texture)):n.setUniform1f(\"fadeFactor\",1),r.textureIsFading&&this.setNeedsRender(),n.setUniform3fv(\"textureOpacities\",l.opacities)}this._renderPatch(e,t,s,c,a,i),s.renderOrder=this._numTilesRendered,this._numTilesRendered++}}}e.rctx.bindVAO(null)}_renderPatch(e,t,i,r,s,n){const a=i.renderData,o=a.vao,l=o?.indexBuffer;if(!o||null==l)return void(S&&console.error(\"Rendered tile with no indices: \",i.lij,\" : \",a));const c=t.program;null==n||this._overlayRenderer.isEmpty||this._bindOverlayPatchData(c,a.overlay),s&&(t.useStencil=this._useStencilForTile(i),e.rctx.setPipelineState(t.getPipeline()));const h=a.geometry.indexCount;e.rctx.bindVAO(o),c.assertCompatibleVertexAttributeLocations(o),e.rctx.drawElements(r,h,l.indexType,0)}_bindOverlayPatchData(e,t){e.setUniform4fv(\"overlayTexOffset\",t.offsets),e.setUniform4fv(\"overlayTexScale\",t.scales)}_updateTechnique(e,t){return this._techniqueConfiguration.output=e,this._techniqueConfiguration.renderOccluded=t,this._shaderTechnique=this._techniques.releaseAndAcquire(se,this._techniqueConfiguration,this._shaderTechnique),this._shaderTechnique}get test(){return{tileRenderer:this._tileRenderer}}};e([o({readOnly:!0})],de.prototype,\"_isGlobal\",null),e([o()],de.prototype,\"renderOccludedFlags\",void 0),e([o({value:!1})],de.prototype,\"renderingDisabled\",null),e([o({value:!0})],de.prototype,\"visible\",null),e([o()],de.prototype,\"renderPatchBorders\",null),e([o()],de.prototype,\"visualizeNormals\",null),e([o()],de.prototype,\"cullBackFaces\",null),e([o({value:v.FRONT_TO_BACK})],de.prototype,\"renderOrder\",null),e([o()],de.prototype,\"wireframe\",null),de=e([l(\"esri.views.3d.terrain.TerrainRenderer\")],de);const ue=f(),pe=f(),_e=f(),fe=f();export{de as TerrainRenderer,he as TransparencyMode};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass e{constructor(){this.numNodes=0,this.numLeaves=0,this.numVisible=0,this.numRendered=0,this.numSplit=0,this.numMerged=0,this.numRenderedPerLevel=new Array,this.numLoadedPerLevel=new Array}}export{e as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{watch as i}from\"../../../core/reactiveUtils.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{equals as o}from\"../../../geometry/support/aaBoundingRect.js\";import{isTiledLayer as l}from\"../../../layers/support/layerUtils.js\";import{ViewingMode as n}from\"../../ViewingMode.js\";import{isSupportedEarthGCS as c,isSupportedGCSOnGlobe as a}from\"../support/supportedSpatialReference.js\";import{isProjectableRasterLayer as h,getTiledLayerInfo as p}from\"./terrainUtils.js\";import{TilingScheme as d}from\"./TilingScheme.js\";let m=class extends t{constructor(e){super(e)}initialize(){this.addHandles([this.layers.on(\"change\",(()=>this._update())),i((()=>this.extentHelper.layerViewsExtent),(()=>this._setAdHocTilingScheme()))]),this._update(),this.tilingSchemeLocked||this._setAdHocTilingScheme()}destroy(){this._waitTask=null,this.layers.destroy()}_update(){if(this._waitTask=null,this.tilingSchemeLocked)return;let e;if(this.layers.some((t=>!(!l(t)||t.isRejected())&&(!(t.isFulfilled()&&!u(t,this.viewSpatialReference,this.viewingMode))&&(e=t,!(\"vector-tile\"===t?.type||h(t)))))),e)if(e.isResolved()){const t=p(e,this.viewSpatialReference,this.viewingMode);if(null!=t){const e=new d(t.tileInfo);this._lockTilingScheme(e)}}else this._updateWhen(e)}_updateWhen(e){const t=e.when().catch((()=>{})).then((()=>{t!==this._waitTask||this.destroyed||this._update()}));this._waitTask=t}_lockTilingScheme(e){if(this.viewingMode===n.Global){const t=e.levels.length-1,i=e.spatialReference;i.isWebMercator?e=d.makeWebMercatorAuxiliarySphere(t):c(i)&&(e=d.makeGCSWithTileSize(e.spatialReference,e.pixelSize,t))}this.tilingSchemeLocked=!0,this.tilingScheme=e,this.extentHelper.tilingScheme=this.tilingScheme,this._updateTiledLayerExtent(),this.removeAllHandles(),this.addHandles(i((()=>this.extentHelper.tiledLayersExtent),(()=>this._updateTiledLayerExtent())))}_updateTiledLayerExtent(){this._set(\"extent\",this.extentHelper.tiledLayersExtent)}_setAdHocTilingScheme(){if(this.viewingMode===n.Global){const e=this.extentHelper.viewSpatialReference;e.isWebMercator?this.tilingScheme=d.WebMercatorAuxiliarySphere:a(e)&&(this.tilingScheme=d.makeGCSWithTileSize(e,256)),this._set(\"extent\",this.extentHelper.layerViewsExtent)}else{const e=this.extentHelper.layerViewsExtent;null==e||o(e,this.extent)||(this.tilingScheme=d.fromExtent(e,this.extentHelper.viewSpatialReference),this._set(\"extent\",e))}}get test(){return{lockTilingScheme:e=>this._lockTilingScheme(e),done:!this._waitTask}}};function u(e,t,i){return null!=p(e,t,i)}e([s()],m.prototype,\"tilingScheme\",void 0),e([s({readOnly:!0})],m.prototype,\"extent\",void 0),e([s({value:!1})],m.prototype,\"tilingSchemeLocked\",void 0),e([s({constructOnly:!0})],m.prototype,\"viewSpatialReference\",void 0),e([s({constructOnly:!0})],m.prototype,\"layers\",void 0),e([s({constructOnly:!0})],m.prototype,\"extentHelper\",void 0),e([s({constructOnly:!0})],m.prototype,\"viewingMode\",void 0),m=e([r(\"esri.views.3d.terrain.TilingSchemeLogic\")],m);export{m as TilingSchemeLogic};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{create as s}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";class t{constructor(){this.offset=s(),this.scale=0,this.tile=null}init(s,t,i,e){this.tile=s,this.offset[0]=t,this.offset[1]=i,this.scale=e}dispose(){this.tile=null,this.offset[0]=0,this.offset[1]=0,this.scale=0}}export{t as UpsampleInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import i from\"../../../core/Accessor.js\";import{difference as r}from\"../../../core/arrayUtils.js\";import s from\"../../../core/CollectionFlattener.js\";import a from\"../../../core/Evented.js\";import n from\"../../../core/Logger.js\";import{clamp as l}from\"../../../core/mathUtils.js\";import{releaseMaybe as o,destroyMaybe as h}from\"../../../core/maybe.js\";import{MemCachePool as d}from\"../../../core/MemCachePool.js\";import p from\"../../../core/ObjectPool.js\";import u from\"../../../core/PooledArray.js\";import{throwIfAborted as c,isAbortError as g,isAborted as _,createAbortError as m}from\"../../../core/promiseUtils.js\";import{watch as f,syncAndInitial as T,sync as y,initial as v}from\"../../../core/reactiveUtils.js\";import{property as E}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import{subclass as S}from\"../../../core/accessorSupport/decorators/subclass.js\";import{multiply as w}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as L}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{s as P,c as b}from\"../../../chunks/vec32.js\";import{create as C}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{UpdatingHandles as D}from\"../../../core/support/UpdatingHandles.js\";import{getReferenceEllipsoid as j}from\"../../../geometry/ellipsoidUtils.js\";import M from\"../../../geometry/SpatialReference.js\";import{createEmptyProjectorCache as x,getProjector as U}from\"../../../geometry/projection/projectors.js\";import{projectPointToVector as R}from\"../../../geometry/projection/projectPointToVector.js\";import{projectVectorToVector as A}from\"../../../geometry/projection/projectVectorToVector.js\";import{create as I,equals as B,intersection as V,intersectsSphere as k,empty as O,expand as N}from\"../../../geometry/support/aaBoundingRect.js\";import{create as G,copy as q}from\"../../../geometry/support/frustum.js\";import{isPlateCarree as F}from\"../../../geometry/support/spatialReferenceUtils.js\";import{a as W,g as H,c as $}from\"../../../chunks/sphere.js\";import{isRefreshableLayer as Q}from\"../../../layers/mixins/RefreshableLayer.js\";import{ElevationQueryTileCache as z}from\"../../../layers/support/ElevationQueryTileCache.js\";import{ElevationTileData as X}from\"../../../layers/support/ElevationTileData.js\";import{isBaseLayer as Y}from\"../../../layers/support/layerUtils.js\";import{acquireDecoder as K}from\"../../../layers/support/LercDecoder.js\";import{printAllocations as J}from\"../../2d/engine/vectorTiles/VectorTile.js\";import{directionToHeadingTilt as Z}from\"../support/cameraUtils.js\";import{debugFlags as ee}from\"../support/debugFlags.js\";import{ElevationRange as te}from\"../support/ElevationRange.js\";import{ElevationUpdateEvent as ie}from\"../support/ElevationUpdateEvent.js\";import{toBoundingRect as re}from\"../support/extentUtils.js\";import{ClientType as se}from\"../support/index.js\";import{updatingProgress as ae}from\"../support/updatingProperties.js\";import{ElevationBounds as ne}from\"./ElevationBounds.js\";import{ElevationData as le,sampleElevation as oe}from\"./ElevationData.js\";import{create as he}from\"./ExtentHelper.js\";import{LODSnapping as de,TextureUpdate as pe}from\"./interfaces.js\";import{LayerClass as ue,LayerClasses as ce}from\"./LayerClass.js\";import{OverlayManager as ge}from\"./OverlayManager.js\";import{PlanarPatch as _e}from\"./PlanarPatch.js\";import{RenderOrder as me}from\"./RenderOrder.js\";import{ScaleRangeQueries as fe}from\"./ScaleRangeQueries.js\";import{SphericalPatch as Te}from\"./SphericalPatch.js\";import{SplitLimits as ye}from\"./SplitLimits.js\";import{maxRootTiles as ve,tooManyRootTilesAfterChangeError as Ee,tooManyRootTilesForLayerError as Se,maxTileNeighborLevelDelta as we,maxMemoryLodBias as Le,elevationNodataValue as Pe}from\"./TerrainConst.js\";import{TerrainRenderer as be,TransparencyMode as Ce}from\"./TerrainRenderer.js\";import De from\"./TerrainSurfacePerformanceInfo.js\";import{weakAssert as je,isVectorTileLayerView as Me,neighborEdgeIndices as xe,internalAssert as Ue,oppositeEdge as Re,isSurfaceLayerView as Ae,isGroupLayerView as Ie,isMapTileLayerView as Be,isBlendableLayerView as Ve,isElevationLayerView as ke,useFetchTileForLayer as Oe,isImageryTileLayerView as Ne,isTileLayerView as Ge,releaseTileData as qe,enableTerrainInternalChecks as Fe,neighborCornerIndices as We,oppositeCorner as He,enableWaterproofnessTests as $e,enableInternalTerrainChecks as Qe,enableTerrainWaterproofnessChecks as ze}from\"./terrainUtils.js\";import{Tile as Xe,lijEquals as Ye}from\"./Tile.js\";import{printAllocations as Ke}from\"./TilePerLayerInfo.js\";import{TileUpdate as Je}from\"./TileUpdate.js\";import{IteratorPreorder as Ze,IteratorPostorder as et,compareTilesByLij as tt,hasLoadableSiblings as it,sortTilesByPOI as rt,sortTiles as st}from\"./tileUtils.js\";import{TilingSchemeLogic as at}from\"./TilingSchemeLogic.js\";import{UpsampleInfo as nt}from\"./UpsampleInfo.js\";import{isCompositeBlendMode as lt,blendModeFromString as ot}from\"../webgl-engine/core/shaderLibrary/output/BlendOptions.js\";import{PBRMode as ht}from\"../webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{RenderRequestType as dt}from\"../webgl-engine/lib/basicInterfaces.js\";import{RenderState as pt}from\"../../support/RenderState.js\";import{ImmediateTask as ut,TaskPriority as ct,noBudget as gt}from\"../../support/Scheduler.js\";import{Yield as _t}from\"../../support/Yield.js\";var mt;let ft=mt=class extends(a.EventedMixin(i)){constructor(e){super(e),this._scaleRangeQueries=new fe,this._iteratorPool=new p(Ze,(e=>e.remove=()=>this._iteratorPool.release(e))),this._postorderIterator=new et,this._hasPendingUpdates=!1,this._pendingUpdates=0,this._asyncWorkItems=0,this._allTilesDirty=!0,this._allTilesSorted=!0,this._usedMemory=null,this._performanceInfo=new De,this._viewChanged=!1,this._inFrameTask=!1,this._viewChangeUpdateDirty=!1,this._eyePosRenderSR=C(),this._eyePosSurfaceSR=C(),this._splitLimits=new ye,this._frustum=G(),this._viewProjectionMatrix=L(),this._layerViews=[new Array,new Array],this._layerIndexByUid=[new Map,new Map],this._basemapLayerViewHandles=new Map,this._watchUpdatingTracking=new D,this._frameTask=ut,this._allTiles=new u,this._upsampleInfoPool=new p(nt),this._shouldEmitChangeEvent=!1,this._rootTilesExtent=I(),this.updatingProgress=.5,this._maxNumUpdating=1,this.maxTextureScale=1.2,this._spatialReference=M.WebMercator,this._elevationProjectorCache=new Map,this.visibleElevationBounds=new ne(1/0,-1/0),this.rootTileElevationBounds=new ne(1/0,-1/0),this._sebProjectorMap=new Map,this._sebProjectorCache=x(),this._tilingSchemeSpatialReference=null,this._updatingRootTiles=!1,this._pendingTilesForElevationUpdateEvent=new Set,this._pendingTilesToUpdate=new Set,this.totalGeometryUpdates=0,this.totalTileUpdates=0,this._oneBatchPerFrameTask=!0,this._layerViewsDirty=!1,this.unloadedMemory=0,this.ignoresMemoryFactor=!1,this._isWebMercator=!1,this._isWebMercatorOnPlateCarree=!1,this.overlayManager=new ge({...e,surface:this}),this._isGlobal=!e.view?.state?.isLocal,this._isGeographic=this._spatialReference?.isGeographic??!1,this._tileConstructor=this._isGlobal?Te:_e}initialize(){const e=this.view,t=e.resourceController;this._lercDecoder=K(t);const i=t.memoryController;this._tileCache=new d(((e,t)=>i.newCache(e,t)),\"terrain-tile\"),this._upsampleMapCache=i.newCache(\"terrain-upsample\",(e=>e.unloadMapData())),this._elevationQueryCache=new z(i.newCache(\"elevation-query\"));const r=this.overlayManager;this._renderer=new be(r.renderer,e._stage,this._allTiles,j(e.spatialReference).radius,i),this.addHandles([f((()=>r.renderer.isEmpty),(()=>this._evaluateTransparency())),f((()=>this.renderer.visible),(e=>this.suspended=!e))],\"overlayManager\"),this.addHandles([f((()=>this.baseOpacity),(()=>{this._handleLayerViewChanges(),this._updateTileTextures(this._evaluateTransparency()?pe.UNFADED:pe.IMMEDIATE)}),T),f((()=>this.hasCompositeBlendMode),(()=>this._updateTileTextures(this._evaluateTransparency()?pe.UNFADED:pe.IMMEDIATE)),T),f((()=>this.backgroundColor),((e,t)=>{e?.equals(t)||(this._handleLayerViewChanges(),this._renderer.updateTileBackground(e))}),y),f((()=>this.snapLevel),(()=>this._viewChanged=!0),y),f((()=>this.view.pointsOfInterest),(e=>{this._renderer.pointsOfInterest=e,this._watchUpdatingTracking.removeAll(),e&&this._watchUpdatingTracking.add((()=>e.focus.renderLocation),(()=>this._allTilesSorted=!1))})),f((()=>ee.TERRAIN_TILE_TREE_SHOW_TILES),(t=>{t&&!this._treeDebugger?import(\"../layers/support/TerrainTileTree3DDebugger.js\").then((({TerrainTileTree3DDebugger:t})=>{!this._treeDebugger&&ee.TERRAIN_TILE_TREE_SHOW_TILES&&(this._treeDebugger=new t({view:e}))})):t||(this._treeDebugger=h(this._treeDebugger))}),v)]);const{spatialReference:a}=e;this._extentHelper=he(this.viewingMode,{layers:e.map.allLayers,layerViews:e.allLayerViews,viewSpatialReference:a});const n=new s({getCollections:()=>e.defaultsFromMap?.mapCollections?.map((({layers:e})=>e)),getChildrenFunction:e=>e&&\"layers\"in e?e.layers:null}),l=new at({layers:n,extentHelper:this._extentHelper,viewingMode:this.viewingMode,viewSpatialReference:a});this._set(\"tilingSchemeLogic\",l),this._updateTilingScheme(),this._elevationDataRequester=t.createStreamDataRequester(se.ELEVATION),this._mapDataRequester=t.createStreamDataRequester(se.BASEMAP);const o=t.scheduler;this._frameTask=o.registerTask(ct.TERRAIN_SURFACE,this),this.addHandles([f((()=>this._extentHelper.stencilEnabledExtents),(e=>this._renderer.setStencilEnabledLayerExtents(e)),v),f((()=>this.tilingSchemeLogic.tilingScheme),(()=>this._updateTilingScheme()),y),f((()=>this.extent),(()=>this._updateRootTiles()),v),e.on(\"resize\",(()=>this._viewChangeUpdate())),f((()=>{const t=e.state;return[this._lodBias,this.lodSnapping,e.quality,t.camera,t.contentCamera,t.fixedContentCamera]}),(()=>this._viewChangeUpdate()),T),f((()=>e.qualitySettings?.fadeDuration),(e=>this._renderer.textureFadingEnabled=e>0),v),f((()=>e.qualitySettings?.physicallyBasedRenderingEnabled),(e=>this._renderer.pbrMode=e?ht.Simplified:ht.Disabled),v),f((()=>this._userClippingExtent),(()=>this._updateClippingExtent()),y)]),this.addHandles(e.allLayerViews.on(\"after-changes\",(()=>this._layerViewsDirty=!0))),this._layerViewsDirty=!0,this._handleLayerViewChanges(),this._renderer.updateTileBackground(this.backgroundColor)}destroy(){this._frameTask.remove(),this._watchUpdatingTracking.destroy(),this._lercDecoder=o(this._lercDecoder),this._removeAllTiles(),this._set(\"tilingSchemeLogic\",h(this.tilingSchemeLogic)),this._basemapLayerViewHandles.forEach(((e,t)=>this._unregisterTiledLayerView(t))),this._elevationDataRequester=null,this._mapDataRequester=null,this._set(\"overlayManager\",h(this.overlayManager)),this._tileCache=h(this._tileCache),Xe.prune(),this._treeDebugger=h(this._treeDebugger),this._renderer=h(this._renderer),this._iteratorPool=h(this._iteratorPool),this._upsampleMapCache=h(this._upsampleMapCache),this._elevationQueryCache=h(this._elevationQueryCache),this._set(\"view\",null),this._extentHelper=h(this._extentHelper),this._upsampleInfoPool=h(this._upsampleInfoPool),J(),Ke()}get renderer(){return this._renderer}get frustum(){return this._frustum}get snapLevel(){if(this.lodSnapping===de.ON){const e=this.view,t=this.tilingScheme,i=e.pointsOfInterest?.cameraOnSurface?.scale;if(t&&i){const r=e.state.contentCamera;let s=Z(e,r.eye,r.viewForward,r.up).tilt;s>90&&(s=180-s);const a=2*(s/90)**2,n=t.levelAtScale(i)-a,l=Math.min(n+e.qualitySettings.tiledSurface.lodBias,this._splitLimits.maxLod||1/0);return l<=0?null:l}}return null}get lodSnapping(){return this.view.qualitySettings.tiledSurface.reduceTileLevelDifferences?de.ON:de.OFF}get upsampleInfoPool(){return this._upsampleInfoPool}get upsampleMapCache(){return this._upsampleMapCache}get elevationQueryCache(){return this._elevationQueryCache}get mapTileRequester(){return this._mapDataRequester}get _userClippingExtent(){const{spatialReference:e}=this,{clippingArea:t}=this.view;if(null==t||null==e)return null;const i=I(),r=re(t,i,e)?i:null,s=this._get(\"extent\");return B(r,s)?s:r}get rootTilesExtent(){return this._rootTilesExtent}get extent(){const e=V(this.groundExtent,this._userClippingExtent,I()),t=this._get(\"extent\");return B(e,t)?t:e}get groundExtent(){return null!=this._tilingSchemeExtent?this._tilingSchemeExtent:this._rootTilesExtent}get _tilingSchemeExtent(){return this.tilingSchemeLogic?.extent}get updating(){return this._hasPendingUpdates||(this._maxNumUpdating=1),!!((this.running||this._watchUpdatingTracking?.updating||this._asyncWorkItems>0)&&this.ready&&!this.suspended||this.overlayManager?.updating)}get running(){return(this._hasPendingUpdates||this._viewChanged||this._allTilesDirty||!this._allTilesSorted||this._layerViewsDirty||this._scaleRangeQueries.updating||this._frameTask.updating)&&this.ready&&!this.suspended}get updatingProgressValue(){return this._maxNumUpdating=Math.max(this._pendingUpdates,this._maxNumUpdating),1-this._pendingUpdates/this._maxNumUpdating}get baseOpacity(){return this.view?.map?.ground?.opacity??1}set baseOpacity(e){this.view.map.ground.opacity=e}get viewingMode(){return this.view.state.viewingMode}get ready(){return null!=this._rootTiles}set renderOrder(e){this._renderer.renderOrder=e,this._set(\"renderOrder\",e)}get rootTiles(){return this._rootTiles}get spatialReference(){return this.tilingScheme?.spatialReference??null}get backgroundColor(){return this.view?.map?.ground?.surfaceColor}set backgroundColor(e){this.view.map.ground.surfaceColor=e}set slicePlaneEnabled(e){this._renderer.slicePlaneEnabled=e,this._set(\"slicePlaneEnabled\",e),this._evaluateTransparency()}get tilingSchemeLocked(){return this.tilingSchemeLogic?.tilingSchemeLocked??!1}get wireframe(){return this._renderer?.wireframe}set wireframe(e){e!==this._renderer.wireframe&&(this._renderer.wireframe=e,this._updateAllTileGeometries())}get opaque(){return this._renderer.transparency===Ce.Opaque}set suspended(e){this._set(\"suspended\",e),this._viewChangeUpdate()}get fadeDuration(){return this.view.qualitySettings.fadeDuration??0}intersect(e,t,i,r){this._renderer.intersect(e,t,i,r)}getElevation(e,t,i,r){const s=this._rootTiles;if(!s?.length)return null;if(0===s[0].layerInfo[ue.ELEVATION].length)return null;let a=this._elevationProjectorCache.get(r);if(void 0===a&&(a=U(r,this._spatialReference)??null,this._elevationProjectorCache.set(r,a)),null==a)return n.getLogger(this).error(\"TerrainSurface.getElevation(): could not project given point to tiling scheme coordinate system\"),null;const l=P(yt,e,t,i);a(l,0,l,0);return Pt(s,l[0],l[1])}getElevations(e,t,i){const r=this._rootTiles,s=r?r[0].layerInfo[ue.ELEVATION].length:0;if(r?.length&&0!==s)for(let a=0;a<t;++a){const t=3*a;i(a,Pt(r,e[t],e[t+1]))}else for(let a=0;a<t;++a)i(a,null)}getScale(e){if(!this.tilingScheme)return null;if(!R(e,yt,this.spatialReference))return n.getLogger(this).error(\"TerrainSurface.getScale(): could not project given point to tiling scheme coordinate system\"),null;const t=this._rootTiles;if(null!=t)for(const i of t)if(i?.containsPoint(yt)){let e=i;for(;e.children[0]&&!e.rendered;){const t=e.children[0].extent;let i=0;yt[0]>t[2]&&(i+=1),yt[1]<t[1]&&(i+=2),e=e.children[i]}return this._getLodBiasCorrectedScale(e.level)}return 1/0}_ensureSEBProject(e){const t=this._sebProjectorMap.get(e);if(t)return t;const i=U(e,this._tilingSchemeSpatialReference,this._sebProjectorCache)??null;return this._sebProjectorMap.set(e,i),i}getSphereElevationBounds(e,t){const i=this._ensureSEBProject(t);if(null==i)return n.getLogger(this).error(\"TerrainSurface.getSphereElevationBounds(): could not project given point to tiling scheme coordinate system\"),null;W(e,vt);const r=H(vt);i(r,0,r,0);const s=new te,a=this._rootTiles;if(null!=a){const e=[];for(const i of a)e.push(i);let t=0;for(;t<e.length;){const i=e[t];if(++t,!k(i.extent,vt))continue;const r=i.children;if(null==r[0]||i.rendered)s.expandElevationRangeValues(i.elevationBoundsMin,i.elevationBoundsMax);else for(const t of r)e.push(t)}}return s}getRootElevationBounds(){return new te(this.rootTileElevationBounds.min,this.rootTileElevationBounds.max)}getSphereScale(e,t){if(!this.tilingScheme)return null;if(!R(e,H(vt),this.spatialReference))return n.getLogger(this).error(\"TerrainSurface.getSphereScale(): could not project given point to tiling scheme coordinate system\"),null;vt[3]=t;let i=null;const r=e=>{if(e&&k(e.extent,vt)){const t=e.children;if(t[0]&&!e.rendered)for(const e of t)r(e);else{const t=this._getLodBiasCorrectedScale(e.level);i=null==i?t:Math.min(i,t)}}},s=this._rootTiles;if(null!=s)for(const a of s)r(a);return i}queryVisibleScaleRange(e,t,i,r){const s=t?this.tilingScheme.levelAtScale(t):0,a=i?this.tilingScheme.levelAtScale(i):1/0,n=this._lodBias;this._scaleRangeQueries.queryVisibleLevelRange(e,s+n,a+n,r)}_evaluateTransparency(){const e=this.baseOpacity,t=this.overlayManager.renderer.isEmpty,i=this._renderer.transparency,r=this._allSurfaceLayersTransparent()?t?Ce.Empty:Ce.TransparentWithDraped:e>=1&&!this.hasCompositeBlendMode&&!this._renderer.slicePlaneEnabled?Ce.Opaque:Ce.Semitransparent,s=i!==r;return s&&(this._renderer.transparency=r,this.view?._stage?.renderer.setParameters({terrainTransparency:this._renderer.transparency})),s}_updateTilingScheme(){const e=this.tilingSchemeLogic.tilingScheme;if(!(e!==this.tilingScheme))return;je(!!e,\"tiling scheme cannot be reset to undefined\"),this._isGlobal=!this.view?.state?.isLocal,this.tilingScheme&&this._removeAllTiles();const t=e?.spatialReference??M.WebMercator;this._spatialReference=t,this._isWebMercator=!!t?.isWebMercator,this._isWebMercatorOnPlateCarree=this._isWebMercator&&F(this.view?.renderSpatialReference),this._isGeographic=t?.isGeographic??!1,this._set(\"tilingScheme\",e),this._tilingSchemeSpatialReference=this.tilingScheme?.spatialReference,this._sebProjectorMap.clear(),this._updateClippingExtent(),e&&(this._updateTiledLayers(),this._renderer.setTileSize(e.pixelSize),this.overlayManager.setSpatialReference(e.spatialReference),this._updateRootTiles())}_acquireTile(e,t,i,r){const s=this._tileCache.pop(mt._tileMemcacheKey);return s?(s.init(e,t,i,r,this),s):new this._tileConstructor(e,t,i,r,this)}get updatingRootTiles(){return this._updatingRootTiles}_updateRootTiles(){const{extent:e,tilingScheme:t}=this;if(!t)return;const i=Et;let s=t.rootTilesInExtent(e,i,5*ve);if(null!=this._rootTiles){if(s.length>ve)return void n.getLogger(this).warn(Ee);const e=this._rootTiles.map((e=>e.lij)),t=r(e,s,Ye);if(this._updatingRootTiles=!0,t.removed.length>0||t.added.length>0){const e=this._rootTiles.filter((e=>!(t.removed.findIndex((t=>Ye(t,e.lij)))>-1)||(this._purgeTile(e),!1)));t.added.forEach((t=>e.push(this._newRootTile(t)))),this._setRootTiles(e)}}else this._updatingRootTiles=!0,s.length>ve&&(n.getLogger(this).warn(Se),s=t.rootTilesInExtent(e,i,ve)),this._setRootTiles(s.map((e=>this._newRootTile(e))));B(i,this._rootTilesExtent)||(this._rootTilesExtent=I(i)),this.renderer.visible=!0,this._viewChangeUpdate(),this.overlayManager.setPlacementDirty(),this.notifyChange(\"ready\"),this._updateAllTileGeometries(),this._updatingRootTiles=!1,this.checkAllTilesWaterproofness()}_updateAllTileGeometries(){const e=this._allTiles.filter((e=>e.isLoaded&&e.intersectsClippingArea));e.forEach((e=>this._renderer.updateTileGeometryState(e))),e.forEach((e=>e.renderData.updateNeighborData())),this._updateTilesGeometries(e),this._pendingTilesToUpdate.clear()}_updateTilesGeometries(e){if(0===e.length)return;e.sort(tt);const t=this.renderer;e.forEach((e=>t.updateGeometryIfNeeded(e))),e.forEach((e=>this._pendingTilesForElevationUpdateEvent.add(e)))}_shouldSplit(e){return e.shouldSplit(this._splitLimits,this._eyePosRenderSR,this.snapLevel)===Je.SPLIT}_newRootTile(e){const t=this._acquireTile(0,e[1],e[2],null);return this._shouldSplit(t)&&t.setPendingUpdate(Je.SPLIT),this._loadTile(t),this._markTileToUpdate(t),this._updateRootTileElevationBounds(),t}_setRootTiles(e){if(this._rootTiles=e,this._allTiles.clear(),null!=e){const t=this._iteratorPool.acquire();for(t.reset(e);!t.done;)this._allTiles.push(t.next());t.remove()}this._renderer.setRootTiles(this._rootTiles),this._updateTilesVisibility(e)}_runViewChangeUpdateIfDirty(){this._viewChangeUpdateDirty&&(this._viewChangeUpdateDirty=!1,this._viewChangeUpdate())}_viewChangeUpdate(){this.view&&!this.suspended&&this.tilingScheme&&this.renderer.visible&&(this._inFrameTask?this._viewChangeUpdateDirty=!0:(this._viewChangeUpdateDirty=!1,this._updateViewDependentParameters(),this._updateTilesVisibility(this._rootTiles)))}_updateClippingStatus(e){e.updateClippingStatus(this.extent)&&e.resetPendingUpdate(Je.GEOMETRY)&&this._updateTileGeometryState(e)}_updateTilesVisibility(e){if(null==e)return;const t=it(e),i=this.visibleElevationBounds;let r=t?i.min:1/0,s=t?i.max:-1/0;const a=this.extent,n=this._viewProjectionMatrix;this.setTileTreeDirty();const l=this._iteratorPool.acquire();for(l.reset(e);!l.done;){const e=l.next();e.updateClippingStatus(a)&&e.resetPendingUpdate(Je.GEOMETRY)&&this._updateTileGeometryState(e),e.computeVisibility(),e.updateScreenDepth(n),e.renderData&&(r=Math.min(e.elevationBoundsMin,r),s=Math.max(e.elevationBoundsMax,s))}l.remove(),this._viewChanged=!0,this._allTilesDirty=!0,this._updatePendingTileGeometries(),isFinite(r)&&isFinite(s)&&(i.min!==r||i.max!==s)&&(this.visibleElevationBounds=new ne(r,s))}_updateRootTileElevationBounds(){let e=1/0,t=-1/0;const i=this._rootTiles;null!=i&&i.forEach((({elevationBoundsMin:i,elevationBoundsMax:r})=>{e=Math.min(e,i),t=Math.max(t,r)}));const r=this.rootTileElevationBounds;r.min===e&&r.max===t||(this.rootTileElevationBounds=new ne(e,t))}_updateViewDependentParameters(){const{camera:e,contentCamera:t}=this.view.state,i=Math.tan(.5*t.fovX),r=Math.tan(.5*t.fovY),s=this.tilingScheme.pixelSize,a=2**-this._lodBias*e.pixelRatio;this._splitLimits.aboveGround=e.aboveGround,this._splitLimits.fovX=i,this._splitLimits.fovY=r,this._splitLimits.relativeWidthLimit=s/e.width*this.maxTextureScale*a,this._splitLimits.relativeHeightLimit=s/e.height*this.maxTextureScale*a,this._splitLimits.maxLod=this.tilingScheme.getMaxLod(),this._splitLimits.angledSplitBias=this.view.qualitySettings.tiledSurface.angledSplitBias,this.view.state.fixedContentCamera?this._splitLimits.frustum=q(this._splitLimits.frustum??G(),t.frustum):this._splitLimits.frustum=null,q(this._frustum,e.frustum),w(this._viewProjectionMatrix,t.projectionMatrix,t.viewMatrix),b(this._eyePosRenderSR,t.eye),A(e.eye,this.view.renderSpatialReference,this._eyePosSurfaceSR,this.spatialReference)}_updateTileGeometryState(e){e.updateVisibility();this._renderer.updateTileGeometryState(e)&&this._markTileToUpdate(e),this._usedMemory=null}_markAllTileNeighborsForUpdate(e){e.forEachLoadedNeighbor((e=>{this._layerViews[ue.MAP].some(Me)&&e.setPendingUpdate(Je.TEXTURE_FADING),this._pendingTilesToUpdate.add(e)}))}_updateTileTexture(e,t){const i=e.resetPendingUpdate(Je.TEXTURE_FADING)?Je.TEXTURE_FADING:!!e.resetPendingUpdate(Je.TEXTURE_NOFADING)&&Je.TEXTURE_NOFADING;i&&(this._renderer.updateTileTexture(e,i),this._usedMemory=null,t.madeProgress())}_emitElevationUpdateEventForTiles(){if(!this._shouldEmitChangeEvent)return;const e=wt.extent;O(e),this._pendingTilesForElevationUpdateEvent.forEach((t=>N(e,t.extent,e))),this._pendingTilesForElevationUpdateEvent.clear(),wt.spatialReference=this.spatialReference,this.emit(\"elevation-change\",wt),this._shouldEmitChangeEvent=!1}runTask(e){this._handleLayerViewChanges(e),this._frameTask.processQueue(e),this.renderer.processScaleRangeQueries(this._scaleRangeQueries,e),this._inFrameTask=!0,this._pendingUpdates=0,this._hasPendingUpdates=!1,this._updateAllTilesStatus(e),this._sortTiles(e);const t=!this.view.state.fixedContentCamera;if(this._mergeAndSplit(e,t),this._updateElevation(e),this._updateTextures(e),t||this._mergeAndSplit(e,!0),this._inFrameTask=!1,this._runViewChangeUpdateIfDirty(),this._updatePendingTileGeometries(),this._emitElevationUpdateEventForTiles(),e.done&&e.hasProgressed&&this.requestUpdate(),this.notifyChange(\"updatingProgressValue\"),Fe&&this._checkTileInvariant(),!e.hasProgressed)return _t}_checkTileInvariant(){const e=new Map;this._allTiles.forAll((t=>e.set(t,new Set))),this._allTiles.forAll((t=>{if(je(t.rendered===t.isLeaf,` rendered ${t.rendered} != ${t.isLeaf} leaf`),!t.isLeaf){const e=e=>0===e.unmergableChildCount&&0===e.maxLevelDeltaNeighborCount,i=t.children.reduce(((t,i)=>t+(e(i)?0:1)),0);if(je(t.unmergableChildCount===i,` Tile[${t.lij.toString()}] unmergeable child count mismatch: actual ${t.unmergableChildCount} vs ${i}`),t.hasPendingUpdate(Je.MERGE)){je(!t.hasPendingUpdate(Je.SPLIT),\"Tile can be both split and merge at the same time\");for(const e of t.children)je(e.isLeaf||e.hasPendingUpdate(Je.MERGE),\"Child of tile to merge must also merge\")}}for(let i=0;i<4;++i){if(t.rendered){const e=t.renderData?.geometryState.edgePeerNeighbors[i];if(null!=e){{const r=t.level-e.level<=we;r||(console.log(`tile level delta [${t.lij.toString()}] vs [${e.lij.toString()}] > ${we}  (edge[${i}])`),je(r,`tile level delta [${t.level}] vs [${e.level}] > ${we}`))}je(t.level-e.level<=we,`Max tile lod delta exceeded: [${t.lij.toString()}] vs [${e.lij.toString()}]`)}}const r=t.level-we,s=e=>e.isLeaf||e.level===t.level,a=t.findNeighborTile(xe[i],s);if(null!=a){if(t.isLeaf&&t.level>=we){let i=a;for(;t.level-i.level<we;)i=i.parent;const s=[r,t.lij[1]>>we,t.lij[2]>>we];if(!Ye(s,i.lij)){const r=e.get(i);je(!r.has(t),\"Cannot already have neighbor\"),r.add(t)}}je(a.rendered||a.level===t.level,\"Non-same-level-neighbor of rendered must be rendered\"),je(t.level-a.level<=we,`Tile level delta [${t.level}] vs [${a.level}] > ${we}`)}}})),this._allTiles.forAll((t=>{const i=t.maxLevelDeltaNeighborCount,r=e.get(t);je(i===r.size,`Tile[${t.lij.toString()}] merge-blocker mismatch: actual ${i} vs ${r.size}`)}))}_updateAllTilesStatus(e){if(!this._viewChanged||!this._rootTiles||e.done)return;this._viewChanged=!1;const t=new bt(this._allTiles.length);t.pushAll(this._rootTiles);const i=this.snapLevel,r=this._splitLimits,s=this._eyePosRenderSR;this._allTiles.forAll((e=>{e.maxLevelDeltaNeighborCount=0,e.unmergableChildCount=0}));const a=this._viewProjectionMatrix;for(;!t.empty;){const e=t.pop(),n=e.parent,l=null!=n&&n.hasPendingUpdate(Je.MERGE),o=l?Je.MERGE:e.shouldSplit(r,s,i),h=o===Je.SPLIT;e.isLeaf?Ct(e,h):t.pushAll(e.children),l?(e.resetPendingUpdate(Je.SPLIT),e.isLeaf||e.setPendingUpdate(Je.MERGE),this._updateClippingStatus(e),e.updateVisibility(),e.updateScreenDepth(a)):h?(e.resetPendingUpdate(Je.MERGE),e.isLeaf&&e.setPendingUpdate(Je.SPLIT)):(e.resetPendingUpdate(Je.SPLIT)&&e.updateAgentSuspension(),o===Je.ELEVATION&&e.updateAgents(ue.ELEVATION),e.isLeaf||(e.setPendingUpdate(Je.MERGE),e.resetPendingUpdate(Je.SPLIT)))}this.requestUpdate(),(this._shortBatches||!this._oneBatchPerFrameTask)&&this._updatePendingTileGeometries(),e.madeProgress()}_sortTiles(e){e.done||this._allTilesSorted||(rt(this._allTiles,this.view.pointsOfInterest.focus.renderLocation),this._allTilesSorted=!0,this._treeDebugger&&this._treeDebugger.update(),e.madeProgress())}_markTileToUpdate(e){Ue(e.isLoaded),e.intersectsClippingArea&&(this._pendingTilesToUpdate.add(e),this._markAllTileNeighborsForUpdate(e))}_updatePendingTileGeometries(){const e=this._pendingTilesToUpdate,t=Array.from(e.keys()).filter((e=>e.isLoaded&&e.intersectsClippingArea));if(0===t.length)return void e.clear();const i=(i,r)=>{!r?.isLoaded||!r.intersectsClippingArea||r.level<i.level||e.has(r)||(e.add(r),t.push(r),r.renderData.updateNeighborData())};t.sort(tt);const r=t.length;for(let s=0;s<r;++s){const r=t[s];Ue(r.isLoaded),Ue(r.intersectsClippingArea);const a=r.renderData;a.updateNeighborData();const n=a.dirtyEdgeResolutions,l=a.geometryState,o=e=>{const t=We[e];i(r,l.cornerPeerNeighbors[e]?.findCorner(He(t),(e=>e.isLoaded)))};for(let t=0;t<4;++t)if(n&1<<t){const s=a.geometryState.edgePeerNeighbors[t];s&&s?.level>=r.level&&s.forAllSubtreeOnSide(Re(xe[t]),(t=>!(!t.isLoaded||!t.intersectsClippingArea)&&(Ue(e.has(t)||tt(r,t)<0),i(r,t),!0))),o((t+1)%4),o(t)}}e.clear(),this._updateTilesGeometries(t),this._shouldEmitChangeEvent=!0,Fe&&$e&&this.checkAllTilesWaterproofness()}_mergeAndSplit(e,t){if(this.suspended||e.done||!this._allTilesDirty)return;this._allTilesDirty=!1,this.requestUpdate();let i=!1;const r=this.view.state.fixedContentCamera;let s=!1;for(;!e.done;){s=!0;let a=!1;const n=!this._allTiles.some((s=>{if(!i&&!r&&!s.visible)return e.done;let n=s;if(s.hasPendingUpdate(Je.MERGE)){if(!t||s.unmergableChildCount>0)return e.done;for(s.resetPendingUpdate(Je.MERGE);null!=n.parent&&0===n.parent.unmergableChildCount&&n.parent.resetPendingUpdate(Je.MERGE);)n=n.parent;this._mergeTile(n),a=!0,e.madeProgress()}else if(s.resetPendingUpdate(Je.SPLIT)){let t=!0;const i=s.level;if(i>=we){const e=e=>e.isLeaf||i-e.level<we;for(let r=0;r<4;++r){const a=s.findNeighborTile(xe[r],e);null!=a&&i-a.level===we&&(t=!1,Fe&&(Ue(a.isLeaf),Ue(a.hasPendingUpdate(Je.SPLIT))))}}t?(this._splitTile(s),e.madeProgress(),a=!0):s.setPendingUpdate(Je.SPLIT)}return e.done}));if(a&&(this._allTilesSorted=!1,this._allTilesDirty=!0,!this._oneBatchPerFrameTask&&this._updatePendingTileGeometries()),n){if(!i){i=!0;continue}if(!a)break}else this._allTilesDirty=!0}s?e.madeProgress():this._allTilesDirty=!0,!this._oneBatchPerFrameTask&&this._updatePendingTileGeometries(),this._sortTiles(e)}_updateElevation(e){e.done||(this._allTiles.some((t=>(t.resetPendingUpdate(Je.GEOMETRY)&&(this._updateTileGeometryState(t),this._shortBatches&&this._updatePendingTileGeometries(),e.madeProgress()),e.done))),!this._oneBatchPerFrameTask&&this._updatePendingTileGeometries())}_updateTextures(e){e.done||this._allTiles.some((t=>(this._updateTileTexture(t,e),e.done)))}_updateClippingExtent(){this.spatialReference&&(this.updateTileOverlayParams(dt.UPDATE),this.overlayManager.setPlacementDirty(),this._updateRootTiles())}get _lodBias(){const e=this.view.quality;return this.view.qualitySettings.tiledSurface.lodBias-(1-e)*Le}_getLodBiasCorrectedScale(e){const t=this.tilingScheme.levels,i=l(e-this._lodBias,0,t.length-1),r=i-Math.floor(i);return t[Math.floor(i)].scale*(1-r)+t[Math.ceil(i)].scale*r}_removeAllTiles(){null!=this._rootTiles&&(this._rootTiles.forEach((e=>this._purgeTile(e))),this._setRootTiles(null),this.notifyChange(\"ready\")),this._allTiles.clear(),this.renderer.visible=!1}_purgeDescendantTiles(e){if(!e.children[0])return;const t=e.children.slice();e.unsetChildren();for(let i=0;i<4;++i)this._purgeTile(t[i])}_purgeTile(e){e.isLeaf?jt(e):this._purgeDescendantTiles(e),this._allTiles.removeUnordered(e),this._unloadTile(e),this._tileCache.put(mt._tileMemcacheKey,e)}_unloadTile(e){this._pendingTilesToUpdate.delete(e),this._pendingTilesForElevationUpdateEvent.delete(e),e.unload(this._renderer)}_splitTile(e){je(e.isLeaf,\"Tile that is already split should not be split again!\"),je(e.rendered,\"Tile marked to split is not rendered\"),jt(e);const t=e.level+1,i=2*e.lij[1],r=2*e.lij[2],s=e.setChildren(this._createTile(t,i,r,e),this._createTile(t,i,r+1,e),this._createTile(t,i+1,r,e),this._createTile(t,i+1,r+1,e));this._allTiles.pushArray(s),e.updateAgentSuspension(),je(e.rendered,\"parent should be rendered\"),this._unloadTile(e),s.forEach((e=>this._loadTile(e))),s.forEach((e=>this._pendingTilesToUpdate.add(e))),this._markAllTileNeighborsForUpdate(e),this._emitTileScaleChange(e,e.level+1),this._allTilesDirty=!0,this._shortBatches&&this._updatePendingTileGeometries(),s.forEach((e=>Ct(e,e.hasPendingUpdate(Je.SPLIT)))),++this._performanceInfo.numSplit}_emitTileScaleChange(e,t=e.level){Lt.spatialReference=this.spatialReference,Lt.extent=e.extent,Lt.scale=this._getLodBiasCorrectedScale(t),this.emit(\"scale-change\",Lt)}_createTile(e,t,i,r){je(!!r,\"_createTile sanity check\");const s=this._acquireTile(e,t,i,r);return s.updateClippingStatus(this.extent),s.updateScreenDepth(this._viewProjectionMatrix),this._shouldSplit(s)&&s.setPendingUpdate(Je.SPLIT),s}get _shortBatches(){return this.view.state.mode!==pt.IDLE}_mergeTile(e){je(!e.hasPendingUpdate(Je.SPLIT),\"_mergeTile sanity check\"),je(!e.isLeaf,\"Cannot merge a leaf\"),e.isLeaf||(this._purgeDescendantTiles(e),je(!e.renderData,\"_mergeTile sanity check\"),this._loadTile(e),this._markTileToUpdate(e),this._emitTileScaleChange(e),this._shortBatches&&this._updatePendingTileGeometries(),Ct(e,!1),this._allTilesDirty=!0,++this._performanceInfo.numMerged)}_loadTile(e){e.load(),this.requestUpdate(),this._allTilesDirty=!0,this.overlayManager&&this.overlayManager.hasOverlays&&this.overlayManager.setTileParameters(e)}_elevationDataArrived(e,t,i){const r=new le(e.lij,e.extent,i);e.dataArrived(t,ue.ELEVATION,r);const s=[e],a=e.level,n=this._iteratorPool.acquire();for(n.reset(s);!n.done;){const e=n.next();e.findElevationBoundsForLayer(t,a),e.computeElevationBounds()}0===a&&this._updateRootTileElevationBounds(),n.remove(),this._updateTilesVisibility(s)}_handleLayerViewChanges(e=gt){if(!this._layerViewsDirty)return;this._layerViewsDirty=!1;let t=!1;const i=new Set;let r=-1;for(let s=this.view.allLayerViews.length-1;s>=0;s--){const e=this.view.allLayerViews.items[s];if(i.add(e.uid),Ae(e)||Ie(e))if(this._basemapLayerViewHandles.has(e.uid)&&!Ie(e)){const i=this._layerClassFromLayerView(e),s=this._getLayerIdxByUID(i,e.uid);null!=s&&((s<r||null==r)&&(t=!0),r=s)}else this._registerTiledLayerView(e),e.layer.loaded&&(t=!0)}this._basemapLayerViewHandles.forEach(((e,r)=>{i.has(r)||(this._unregisterTiledLayerView(r),t=!0)})),t&&this._updateTiledLayers(),this.hasCompositeBlendMode=this._hasCompositeBlendMode(),this._evaluateTransparency(),e.madeProgress()}_allSurfaceLayersTransparent(){let e=0===this.view.map?.ground?.opacity;for(const t of this.view.allLayerViews.items)if(Be(t)&&!Y(t.layer)&&0!==t.fullOpacity)return e=!1,e;return e}_hasCompositeBlendMode(){for(const e of this.view.allLayerViews.items)if((Ve(e)||Ie(e))&&lt(ot[e.layer.blendMode]))return!0;return!1}_layerClassFromLayerView(e){return ke(e)?ue.ELEVATION:ue.MAP}_registerTiledLayerView(e){const t=[];if((Ve(e)||Ie(e))&&t.push(f((()=>e.layer.blendMode),(()=>{this.hasCompositeBlendMode=this._hasCompositeBlendMode(),this._updateTileTextures(pe.UNFADED)}))),!Ie(e)){const i=this._layerClassFromLayerView(e);t.push(f((()=>e.suspended),(()=>this._updateTiledLayers()))),t.push(f((()=>e.fullOpacity),(()=>this._updateTileTextures(pe.UNFADED)))),t.push(f((()=>\"effectiveScaleRange\"in e.layer?e.layer.effectiveScaleRange:null),(()=>this._restartAllAgents(i)))),t.push(e.on(\"data-changed\",(()=>{const t=this._getLayerIdxByUID(i,e.uid);null!=t&&this._invalidateLayerData(t,i)})))}this._unregisterTiledLayerView(e.uid),this._basemapLayerViewHandles.set(e.uid,t)}_unregisterTiledLayerView(e){const t=this._basemapLayerViewHandles.get(e);if(t){for(const e of t)e.remove();this._basemapLayerViewHandles.delete(e)}}_updateTiledLayers(){if(!this.tilingScheme||this.view.suspended)return;const e=this.view.allLayerViews,t=[[],[]];let i=null;e.forEach((e=>{if(!e.layer||e.suspended||!Ae(e)||!e.fullExtent)return;const r=this._layerClassFromLayerView(e);if(r===ue.MAP){const t=e.displayLevelRange.maxLevel;t!==1/0&&(null===i||t>i)&&(i=t)}t[r].push(e)}));for(const r of ce){const e=this._layerViews[r],i=t[r];i.reverse();const s=i.length;let a=e.length!==s;const n=new Array(s),l=new Array(e.length);this._layerIndexByUid[r].clear();for(let t=0;t<s;t++){const s=i[t].uid;this._layerIndexByUid[r].set(s,t);const o=e.indexOf(i[t]);n[t]=o,t!==o&&(a=!0),o>-1&&(l[o]=t)}if(a){const e=this._postorderIterator;for(e.reset(this._rootTiles);!e.done;)e.next().modifyLayers(l,n,r);this._layerViews[r]=i,this._restartAllAgents(r),this._updateTilesVisibility(this._rootTiles)}}this.tilingScheme.ensureMaxLod(i)&&this._viewChangeUpdate()}_restartAllAgents(e){const t=this._postorderIterator;for(t.reset(this._rootTiles);!t.done;){const i=t.next();i.restartAgents(e),e===ue.ELEVATION&&i.computeElevationBounds()}this._updateRootTileElevationBounds()}layerViewByIndex(e,t){return this._layerViews[t][e]}numLayers(e){return this._layerViews[e].length}_updateTileTextures(e){this._allTiles.forAll((t=>{t.updateAgents(ue.MAP),e===pe.IMMEDIATE?this.renderer.updateTileTexture(t,Je.TEXTURE_NOFADING):t.updateRenderData(ue.MAP,e)})),this._evaluateTransparency()}_invalidateLayerData(e,t){this._allTiles.forAll((i=>i.removeLayerAgent(e,t))),this._allTiles.forAll((i=>i.invalidateLayerData(e,t)))}setTileTreeDirty(){this._allTilesDirty=!0}requestRender(e=dt.UPDATE){this.renderer.setNeedsRender(e)}requestUpdate(){1==++this._pendingUpdates&&(this._hasPendingUpdates=!0)}requestTileData(e,t,i,r){const s=this.layerViewByIndex(t,i),a=s.layer;return!a.tilemapCache||Me(s)?this._requestTileData(e,i,s,r):(++this._asyncWorkItems,a.tilemapCache.fetchAvailability(e.lij[0],e.lij[1],e.lij[2],{...r,timeout:6e3}).then((()=>--this._asyncWorkItems)).catch((t=>{throw--this._asyncWorkItems,c(r),g(t)||this._dataMissing(e,i,s,{notInTilemap:!0}),t})).then((()=>this._frameTask.schedule((()=>this._requestTileData(e,i,s,r)),r.signal))))}_requestTileData(e,t,i,r){return t===ue.ELEVATION?ke(i)?this._requestElevationTileData(e,i,r):Promise.reject():Be(i)?this._requestMapTileData(e,i,r):Promise.reject()}_requestElevationTileData(e,t,i){++this._asyncWorkItems;const r=r=>{if(_(i))return;const s=this._layerIndexByUid[ue.ELEVATION].get(t.uid);null!=s?(this._usedMemory=null,this.requestUpdate(),this._elevationDataArrived(e,s,r)):n.getLogger(this).warn(\"TerrainSurface: received data from unknown layer %d %s\",ue.ELEVATION,e.lij.toString())},s=i=>{g(i)||(this._dataMissing(e,ue.ELEVATION,t,i),this.requestUpdate())};if(Oe(t.layer))return t.layer.fetchTile(e.lij[0],e.lij[1],e.lij[2],{noDataValue:Pe,signal:i.signal}).then((e=>{if(!_(i))return this._frameTask.schedule((()=>r(e)),i.signal,s);n.getLogger(this).warnOnce(\"A call to fetchTile resolved even though the request was aborted. fetchTile should not resolve if options.signal.aborted is true.\")}),s).finally((()=>{--this._asyncWorkItems}));const a=t.getTileUrl(e.lij[0],e.lij[1],e.lij[2]);return this._elevationDataRequester.request(a,\"binary\",i).then((e=>this._lercDecoder.decode(e,{noDataValue:Pe},i.signal))).then((e=>{e?r(new X(e)):s(new Error(\"LERC decoding failed\"))}),s).finally((()=>{--this._asyncWorkItems}))}_requestMapTileData(e,t,i){++this._asyncWorkItems;const r=(r,s)=>{--this._asyncWorkItems,qe(s),_(i)||(this._dataMissing(e,ue.MAP,t,r),this.requestUpdate())},s=e=>t=>r(t,e),a=r=>this._frameTask.schedule((()=>{--this._asyncWorkItems,this.requestUpdate(),_(i)?qe(r):this._mapTileDataArrived(e,t,r)}),i.signal,s(r)).catch(s(r)),l=(e,t=null)=>this._frameTask.schedule((()=>r(e,t)));if(Me(t)){const r=t.schemaHelper.getLevelRowColumn(e.lij);return t.fetchTile(r[0],r[1],r[2],i).then(a,l)}if(Ne(t))return t.fetchTile(e.lij[0],e.lij[1],e.lij[2],i).then(a,l);if(Ge(t)&&Oe(t.layer))return t.layer.fetchTile(e.lij[0],e.lij[1],e.lij[2],i).then((e=>{if(_(i))return n.getLogger(this).warnOnce(\"A call to fetchTile resolved even though the request was aborted. fetchTile should not resolve if options.signal.aborted is true.\"),void l(m());a(e)}),l);let o=t.getTileUrl(e.lij[0],e.lij[1],e.lij[2]);Q(t.layer)&&t.layer.refreshTimestamp&&(o+=`${o.includes(\"?\")?\"&\":\"?\"}_ts=${t.layer.refreshTimestamp}`);const h=t.hasMixedImageFormats?\"image+type\":\"image\";return this._mapDataRequester.request(o,h,i).then(a,l)}_mapTileDataArrived(e,t,i){const r=this._getLayerIdxByUID(ue.MAP,t.uid);null!=r?e.dataArrived(r,ue.MAP,i):(qe(i),n.getLogger(this).warn(\"TerrainSurface: received data from unknown layer\"))}_getLayerIdxByUID(e,t){return this._layerIndexByUid[e].get(t)}_dataMissing(e,t,i,r){const s=this._getLayerIdxByUID(t,i.uid);null!=s?e.dataMissing(s,t,r):n.getLogger(this).warn(\"TerrainSurface: received data from unknown layer\")}updateTileOverlayParams(e){this._rootTiles&&this.overlayManager&&(this._allTiles.forAll((e=>{e.renderData&&this.overlayManager.setTileParameters(e)})),this._renderer.setNeedsRender(e))}get performanceInfo(){const e=this._performanceInfo;return e.numNodes=this._allTiles.length,e.numLeaves=e.numVisible=e.numRendered=e.numLoadedPerLevel.length=e.numRenderedPerLevel.length=0,this._allTiles.forAll((t=>{t.isLeaf&&e.numLeaves++;const i=t.level;t.renderData&&(e.numLoadedPerLevel[i]=(e.numLoadedPerLevel[i]||0)+1),t.visible&&(e.numVisible++,t.rendered&&(e.numRenderedPerLevel[i]=(e.numRenderedPerLevel[i]||0)+1,e.numRendered++))})),e}get usedMemory(){return this.tilingScheme?(null==this._usedMemory&&(this._usedMemory=this._recalculateUsedMemory()),this._usedMemory??0):0}_recalculateUsedMemory(){return this.tilingScheme?Math.round(this._allTiles.reduce(((e,t)=>e+t.usedMemory),0)):null}getUsedMemoryForLayerView(e){let t=0;const i=this._layerClassFromLayerView(e),r=this._getLayerIdxByUID(i,e.uid);return null!=r&&this._allTiles.forAll((e=>t+=e.getUsedMemoryForLayer(i,r))),t}getTile(e){if(null==e||null==this._rootTiles)return null;const t=e.split(\"/\").map((e=>+e));if(0===t[0])return this._rootTiles.find((e=>e.lij[1]===t[1]&&e.lij[2]===t[2]));const i=t[0],r=t[1]>>i,s=t[2]>>i;let a;if(this._rootTiles.some((e=>e.lij[1]===r&&e.lij[2]===s&&(a=e,!0))),a){let e=1<<t[0]-1;for(;a.lij[0]<t[0];){let i=t[1]&e?2:0;if((t[2]&e)>0&&i++,!a.children[i])return null;a=a.children[i],e>>=1}return je(a.lij[0]===t[0]&&a.lij[1]===t[1]&&a.lij[2]===t[2],\"not the right tile?\"),a}return null}get renderPatchBorders(){return this._renderer.renderPatchBorders}set renderPatchBorders(e){this._renderer.renderPatchBorders=e}get visualizeNormals(){return this._renderer.visualizeNormals}set visualizeNormals(e){this._renderer.visualizeNormals=e}get renderingDisabled(){return this._renderer.renderingDisabled}set renderingDisabled(e){this._renderer.renderingDisabled=e}get test(){const e=this;return{renderer:e._renderer,lercDecoder:e._lercDecoder,forceReload:()=>{null!=e._rootTiles&&e._rootTiles.length>0&&(e._mergeTile(e._rootTiles[0]),e._viewChangeUpdate())},getTiles:()=>e._allTiles.toArray(),getRenderedTiles(){St.clear(),e._allTiles.forAll((e=>{e.visible&&e.rendered&&St.push(e)}));const t=St.toArray();return st(e.renderOrder,t),t},lockTilingScheme(t,i){e._extentHelper.defaultTiledLayersExtent=i,e.tilingSchemeLogic.test.lockTilingScheme(t)}}}checkAllTilesWaterproofness(){if(!$e)return;const e=this._rootTiles;if(null==e)return;const t=e=>e?.renderData?.geometry?.indices?.length>0,i=(e,i)=>{t(e)&&console.error(\"Tile[\",e.lij,\"] has geometry although parent[\",i.lij,\"] has geom\")},r=e=>{if(e.intersectsClippingArea)if(e.renderData&&!e.renderData.geometryState&&console.error(\"Tile[\",e.lij,\"] has renderData but not geometryState\"),e.renderData&&!e.renderData.geometry&&console.error(\"Tile[\",e.lij,\"] has renderData but not geometryInfo\"),!e.renderData?.geometry||(e.renderData.geometry.indices?.length??0)>0||console.error(\"Tile[\",e.lij,\"] has renderData but no indices - geometryInfo: \",e.renderData.geometry),t(e)){e.checkGeometryWaterproofness();for(const t of e.children)i(t,e)}else if(e.isLeaf)console.error(\"Tile[\",e.lij,\"] has no geometry and no children, from root to leaf\");else for(const t of e.children)r(t)},s=e=>{const t=e.parent?.visible??!0,i=e.visible;e.computeVisibility();const r=e.visible;if(i!==r&&t&&console.error(\" Tile[\",e.lij,\"] has out of date visibility: \",i,\" instead of \",r),!e.isLeaf)for(const a of e.children)s(a)};for(const a of e)r(a),s(a)}get isGlobal(){return this._isGlobal}get isGeographic(){return this._isGeographic}get isWebMercator(){return this._isWebMercator}get isWebMercatorOnPlateCarree(){return this._isWebMercatorOnPlateCarree}isEastEndWrap(e){return this._isGlobal&&e[2]===this.lijEastEnd(e[0])-1}isWestEndWrap(e){return this._isGlobal&&0===e[2]}lijEastEnd(e){return 1<<e+(this._isGeographic?1:0)}wrapEastWest(e){const t=this.lijEastEnd(e[0]),i=e[2];if(0<=i&&i<t)return e;if(!this._isGlobal)return null;const r=(i+(i<0?t:0))%t;return[e[0],e[1],r]}enableInternalChecks(e){Qe(e)}enableWaterproofnessChecks(e){ze(e)}};ft._tileMemcacheKey=\"TerrainTileMemcache\",e([E()],ft.prototype,\"_renderer\",void 0),e([E({constructOnly:!0})],ft.prototype,\"_scaleRangeQueries\",void 0),e([E({constructOnly:!0})],ft.prototype,\"view\",void 0),e([E({constructOnly:!0})],ft.prototype,\"overlayManager\",void 0),e([E()],ft.prototype,\"_hasPendingUpdates\",void 0),e([E()],ft.prototype,\"_asyncWorkItems\",void 0),e([E()],ft.prototype,\"_allTilesDirty\",void 0),e([E()],ft.prototype,\"_allTilesSorted\",void 0),e([E()],ft.prototype,\"_viewChanged\",void 0),e([E()],ft.prototype,\"_splitLimits\",void 0),e([E({readOnly:!0})],ft.prototype,\"_watchUpdatingTracking\",void 0),e([E()],ft.prototype,\"_frameTask\",void 0),e([E({readOnly:!0})],ft.prototype,\"snapLevel\",null),e([E({readOnly:!0})],ft.prototype,\"lodSnapping\",null),e([E()],ft.prototype,\"_userClippingExtent\",null),e([E()],ft.prototype,\"_rootTilesExtent\",void 0),e([E({readOnly:!0})],ft.prototype,\"extent\",null),e([E({readOnly:!0})],ft.prototype,\"groundExtent\",null),e([E({readOnly:!0})],ft.prototype,\"_tilingSchemeExtent\",null),e([E({readOnly:!0})],ft.prototype,\"updating\",null),e([E({readOnly:!0})],ft.prototype,\"running\",null),e([E(ae)],ft.prototype,\"updatingProgress\",void 0),e([E({readOnly:!0})],ft.prototype,\"updatingProgressValue\",null),e([E()],ft.prototype,\"_maxNumUpdating\",void 0),e([E()],ft.prototype,\"baseOpacity\",null),e([E()],ft.prototype,\"hasCompositeBlendMode\",void 0),e([E({readOnly:!0})],ft.prototype,\"viewingMode\",null),e([E()],ft.prototype,\"maxTextureScale\",void 0),e([E({readOnly:!0})],ft.prototype,\"ready\",null),e([E({value:me.FRONT_TO_BACK})],ft.prototype,\"renderOrder\",null),e([E({readOnly:!0})],ft.prototype,\"rootTiles\",null),e([E()],ft.prototype,\"_rootTiles\",void 0),e([E({readOnly:!0})],ft.prototype,\"spatialReference\",null),e([E({type:t})],ft.prototype,\"backgroundColor\",null),e([E({value:!1})],ft.prototype,\"slicePlaneEnabled\",null),e([E({readOnly:!0})],ft.prototype,\"tilingScheme\",void 0),e([E({readOnly:!0})],ft.prototype,\"tilingSchemeLocked\",null),e([E({readOnly:!0})],ft.prototype,\"tilingSchemeLogic\",void 0),e([E()],ft.prototype,\"wireframe\",null),e([E({value:!1})],ft.prototype,\"suspended\",null),e([E()],ft.prototype,\"fadeDuration\",null),e([E()],ft.prototype,\"visibleElevationBounds\",void 0),e([E()],ft.prototype,\"rootTileElevationBounds\",void 0),e([E()],ft.prototype,\"_layerViewsDirty\",void 0),e([E()],ft.prototype,\"renderPatchBorders\",null),e([E()],ft.prototype,\"visualizeNormals\",null),e([E()],ft.prototype,\"renderingDisabled\",null),ft=mt=e([S(\"esri.views.3d.terrain.TerrainSurface\")],ft);const Tt=ft,yt=C(),vt=$(),Et=I(),St=new u,wt=new ie(\"ground\"),Lt={spatialReference:null,extent:null,scale:0};function Pt(e,t,i){for(const r of e){if(!r.containsPointXY(t,i))continue;let e=r;for(;e&&!e.renderData;){const r=(t>e.extentMidX?1:0)+(i<e.extentMidY?2:0);e=e.children[r]}const s=e?.renderData?.geometryState.samplerData??null;return oe(t,i,s)}return null}class bt{constructor(e){this.capacity=e,this._head=0,this._tail=0,this._data=new Array(e)}push(e){const t=this._tail;if(!(t<this.capacity))throw new Error(\"Queue full\");this._data[t]=e,this._tail=t+1}pushAll(e){const t=e.length;if(0===t)return;const i=this._tail;if(!(i+t<=this.capacity))throw new Error(\"Queue full\");for(let r=0;r<t;++r)this._data[i+r]=e[r];this._tail=i+t}pop(){const e=this._head;if(e<this._tail){const t=this._data[e];return this._head=e+1,t}}get empty(){return this._head>=this._tail}get full(){return this._tail>=this._data.length}}function Ct(e,t){!e.isLeaf||e.level<we||xt(e,(e=>{t&&Dt(e);const i=Mt(e);if(e.maxLevelDeltaNeighborCount++,i){let t=e.parent;for(;t;){const e=Mt(t);if(t.unmergableChildCount++,!e)break;t=t.parent}}}))}function Dt(e){if(e.hasPendingUpdate(Je.SPLIT))return;let t=e.parent;for(;t&&t.resetPendingUpdate(Je.MERGE);)t=t.parent;e.resetPendingUpdate(Je.MERGE),e.isLeaf&&e.setPendingUpdate(Je.SPLIT),e.level<we||xt(e,(e=>{Dt(e)}))}function jt(e){e.level<we||xt(e,(e=>{if(e.maxLevelDeltaNeighborCount--,0===e.maxLevelDeltaNeighborCount&&0===e.unmergableChildCount){let t=e.parent;for(;t&&(t.unmergableChildCount--,Mt(t));)t=t.parent}}))}function Mt(e){return 0===e.maxLevelDeltaNeighborCount&&0===e.unmergableChildCount}function xt(e,t){if(e.level<we)return;const i=e.level-we,r=e.lij[1]>>we,s=e.lij[2]>>we,a=e=>e.isLeaf||e.level===i;for(let n=0;n<4;++n){const l=e.findNeighborTile(xe[n],a);if(!l||l.level!==i)continue;const o=l.lij;o[1]===r&&o[2]===s||t(l)}}export{Tt as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{someMap as r}from\"../../../../core/MapUtils.js\";import{nullUid as o}from\"../../../../core/uid.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{DirtyOperation as i,DirtyState as c}from\"./ModelDirtyTypes.js\";import{assert as a}from\"./Util.js\";class n{constructor(e,t,r,o){this.operation=e,this.geometry=t,this.states=r,this.sync=o}}let m=class extends t{constructor(e){super(e),this._residentGeomRecords=new Map,this._dirtyGeomRecords=new Map,this.dirty=!1}commitLayer(e,t){const r=this._dirtyGeomRecords.get(e);r&&(r.forEach(((r,o)=>{const s=this._ensureGeomRecord(e,o);r.forEach((({geometry:e,operation:r,states:d},n)=>{let m=!1;if(r===i.UPDATE){const r=s.get(n);if(r){if(d&c.TRANSFORMATION){const t=this.model.getObject(o);this.model.updateRenderGeometryTransformation(t,e,r)&&(m=!0)}m||t.updates.push({renderGeometry:r,updateType:d})}else a(!1,\"ModelDirtySet.commitLayer: invalid update\")}if(r===i.REMOVE||m){const e=s.get(n);e?(t.removes.push(e),s.delete(n)):r===i.REMOVE&&a(!1,\"ModelDirtySet.commitLayer: invalid remove\")}if(r===i.ADD||m){const r=this.model.getObject(o);if(null!=r){const o=this.model.getRenderGeometry(r,e);t.adds.push(o),s.set(n,o)}}})),0===s.size&&this._residentGeomRecords.get(e).delete(o)})),0===this._residentGeomRecords.get(e).size&&this._residentGeomRecords.delete(e),this._dirtyGeomRecords.delete(e),this.dirty=this._hasDirtyGeometryRecords)}commitSyncUpdates(e,t){const r=this._dirtyGeomRecords.get(e);r&&r.forEach(((r,o)=>{const s=this._ensureGeomRecord(e,o);r.forEach((({geometry:e,operation:r,states:d,sync:n},m)=>{let h=!1;if(r===i.UPDATE&&n){const r=s.get(m);if(r){if(d&c.TRANSFORMATION){const t=this.model.getObject(o);this.model.updateRenderGeometryTransformation(t,e,r)&&(h=!0)}h||t.updates.push({renderGeometry:r,updateType:d})}else a(!1,\"ModelDirtySet.commitSyncUpdates: invalid update\")}}))}))}getResidentRenderGeometries(e,t){const r=this._residentGeomRecords.get(e);r&&r.forEach((e=>e.forEach((e=>t.push(e)))))}_objectStateChanged(e,t){for(const r of t.geometries)this._updateOrCreateDirtyRecord(t,r,null,i.UPDATE,e)}visibilityChanged(e){this._objectStateChanged(c.VISIBILITY,e)}highlightChanged(e){this._objectStateChanged(c.HIGHLIGHT,e)}occlusionChanged(e){this._objectStateChanged(c.OCCLUDEE,e)}attributesChanged({object:e,geometry:t,sync:r}){this._updateOrCreateDirtyRecord(e,t,null,i.UPDATE,c.GEOMETRY,r)}layerAdded(e){e.objects.forAll((t=>this._layerObjectAdded(e,t)))}layerRemoved(e){e.objects.forAll((t=>this._layerObjectRemoved(e,t)))}layerObjectAdded(e){this._layerObjectAdded(e.layer,e.object)}_layerObjectAdded(e,t){const r=e.id;for(const o of t.geometries)this._geometryAdded(t,o,r)}layerObjectRemoved(e){this._layerObjectRemoved(e.layer,e.object)}layerObjectsAdded(e){for(const t of e.objects)this._layerObjectAdded(e.layer,t)}layerObjectsRemoved(e){for(const t of e.objects)this._layerObjectRemoved(e.layer,t)}_layerObjectRemoved(e,t){const r=e.id;for(const o of t.geometries)this._geometryRemoved(t,o,r)}transformationChanged(e){const t=this._getParentLayerId(e),r=e.id;this._ensureGeomRecord(t,r).forEach((r=>{this._updateOrCreateDirtyRecord(e,r.geometry,t,i.UPDATE,c.TRANSFORMATION)}))}shaderTransformationChanged(e){const t=this._getParentLayerId(e),r=e.id;this._ensureGeomRecord(t,r).forEach((t=>{t.objectShaderTransformationChanged(e.shaderTransformation)}))}geometryAdded(e){this._geometryAdded(e.object,e.geometry)}_geometryAdded(e,t,r=null){this._updateOrCreateDirtyRecord(e,t,r,i.ADD)}geometryRemoved(e){this._geometryRemoved(e.object,e.geometry)}_geometryRemoved(e,t,r=null){this._updateOrCreateDirtyRecord(e,t,r,i.REMOVE)}_updateOrCreateDirtyRecord(e,t,r,o,s=c.NONE,d=!1){r=r??this._getParentLayerId(e);const m=e.id,h=t.id,y=this._ensureDirtyRecord(r,m),l=y.get(h);if(l){const e=l.operation;e===i.REMOVE&&o===i.ADD&&l.states!==c.NONE?l.operation=i.UPDATE:e===i.REMOVE&&o===i.ADD||e===i.ADD&&o===i.REMOVE?y.delete(h):e!==i.UPDATE||o!==i.REMOVE&&o!==i.UPDATE?(a((e===i.REMOVE||e===i.ADD)&&o===i.UPDATE,\"ModelDirtySet.objectGeometryAdded: inconsistent state\"),l.states|=s):(l.operation=o,l.states|=s),l.sync=l.sync||d}else y.set(h,new n(o,t,s,d));this.dirty=this._hasDirtyGeometryRecords}_ensureGeomRecord(e,t){let r=this._residentGeomRecords.get(e);r||(r=new Map,this._residentGeomRecords.set(e,r));let o=r.get(t);return o||(o=new Map,r.set(t,o)),o}get _hasDirtyGeometryRecords(){return r(this._dirtyGeomRecords,(e=>r(e,(e=>e&&e.size>0))))}_ensureDirtyRecord(e,t){let r=this._dirtyGeomRecords.get(e);r||(r=new Map,this._dirtyGeomRecords.set(e,r));let o=r.get(t);return o||(o=new Map,r.set(t,o)),o}_getParentLayerId(e){return e.parentLayer?e.parentLayer.id:o}formatDebugInfo(){const e=[\"ADD\",\"UPD\",void 0,\"REM\"];let t=\"\";return this._dirtyGeomRecords.forEach(((r,o)=>{r.forEach(((r,s)=>{t.length>0&&(t+=\"\\n\"),t+=o+\".\"+s;const d=[];r.forEach((e=>{const t=e.operation;d[t]||(d[t]=[]),d[t].push(e.geometry.id)}));for(let o=0;o<d.length;o++)if(d[o]){t+=\" \"+e[o-1]+\": \";for(let e=0;e<d[o].length;e++)t+=d[o][e]+\", \"}}))})),t}get test(){const e=this;return{get residentLayerCount(){return e._residentGeomRecords.size},get residentObjectCount(){return Array.from(e._residentGeomRecords.values()).reduce(((e,t)=>e+t.size),0)},commit:t=>e._dirtyGeomRecords.forEach(((r,o)=>e.commitLayer(o,t)))}}};e([s({constructOnly:!0})],m.prototype,\"model\",void 0),e([s()],m.prototype,\"dirty\",void 0),m=e([d(\"esri.views.3d.webgl-engine.lib.ModelDirtySet\")],m);const h=m;export{h as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{g as i}from\"../../../../chunks/sphere.js\";import{ContentObjectType as s}from\"../lib/ContentObjectType.js\";import{GridLocalOriginFactory as a}from\"../lib/GridLocalOriginFactory.js\";import c from\"../lib/ModelDirtySet.js\";import{RenderGeometry as d}from\"../lib/RenderGeometry.js\";import{assert as m}from\"../lib/Util.js\";import{isWebGLLayer as l}from\"../lib/WebGLLayer.js\";let h=class extends e{constructor(){super(...arguments),this.dirtySet=new c({model:this}),this._content=new Map,this._originFactory=new a(null)}getObject(t){return this._content.get(t)}add(t){const e=t.id;m(!this._content.has(e),\"Model/Stage already contains object to be added\"),this._content.set(e,t),l(t)&&this.dirtySet.layerAdded(t)}remove(t){return!!this._content.has(t.id)&&(this._content.delete(t.id),l(t)&&this.dirtySet.layerRemoved(t),!0)}addMany(t){for(const e of t)e&&(m(!this._content.has(e.id),\"Model/Stage already contains object to be added\"),this._content.set(e.id,e))}removeMany(t){for(const e of t)e&&(m(this._content.has(e.id),\"Model/Stage doesn't contain object to be removed\"),this._content.delete(e.id))}has(t){return this._content.has(t.id)}forEachOfType(t,e){this._content.forEach((o=>{o.type===t&&e(o)}))}getRenderGeometry(t,e){const o=new d(e,{castShadow:t.castShadow,objectShaderTransformation:t.shaderTransformation});o.transformation=t.getCombinedStaticTransformation(e,p);const{localOrigin:r}=e;return o.localOrigin=null!=r?r:this._originFactory.getOrigin(i(o.boundingSphere)),o}updateRenderGeometryTransformation(t,e,o){if(null==t)return!1;o.transformation=t.getCombinedStaticTransformation(e,p);const r=this._originFactory.getOrigin(i(o.boundingSphere));return o.localOrigin!==r}getStats(){const t={},e=Array.from(this._content.values());for(let o=0;o<s.COUNT;++o)t[o]=e.filter((t=>t.type===o)).length;return{contentTypes:t,dirtySet:this.dirtySet.formatDebugInfo()}}get test(){return{content:Array.from(this._content.values())}}};t([o({constructOnly:!0})],h.prototype,\"dirtySet\",void 0),h=t([r(\"esri.views.3d.webgl-engine.parts.Model\")],h);const p=n();export{h as Model};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this._totalCount=t,this._componentCountCache=-1,this._indexRanges=[0,t]}allVisible(){return this.componentCount===this._totalCount}allInvisible(){return 0===this._indexRanges.length}isVisible(t){if(t<0||t>=this._totalCount)return!1;if(this.allVisible())return!0;{const n=this._indexRanges;let e=0,o=n.length/2;if(t<n[2*e]||t>n[2*o]+n[2*o+1])return!1;for(;o-e>0;){const s=Math.floor(.5*(e+o)),i=n[2*s];if(t<i){if(o-e==1)return!1;o=s;continue}if(t<i+n[2*s+1])return!0;if(o-e==1)return!1;e=s+1}return!1}}get componentCount(){if(-1===this._componentCountCache){const t=this._indexRanges;let n=0;for(let e=0;e<t.length;e+=2)n+=t[e+1];this._componentCountCache=n}return this._componentCountCache}reset(t){\"all\"===t||t.length===this._totalCount?this._indexRanges=[0,this._totalCount]:this._indexRanges=n(t),this._componentCountCache=-1}forEachComponent(t){const n=this._indexRanges;for(let e=0;e<n.length;e+=2){const o=n[e],s=o+n[e+1];for(let n=o;n<s;n++)if(!t(n))return!1}return!0}forEachComponentRange(t){const n=this._indexRanges;for(let e=0;e<n.length;e+=2){const o=n[e];if(!t(o,o+n[e+1]))return!1}return!0}computeOffsetRanges(t){const n=new Array(this._indexRanges.length),e=this._indexRanges;for(let o=0;o<e.length;o+=2){const s=e[o],i=s+e[o+1],r=t[s],h=t[i];n[o]=r,n[o+1]=h-r}return n}}function n(t){const n=new Array;if(0===t.length)return n;let e=t[0],o=1;for(let s=1;s<t.length;s++){const i=t[s];e+o===i?o+=1:(n.push(e),n.push(o),e=i,o=1)}return n.push(e),n.push(o),n}export{t as ComponentRangeRunLengthEncoded};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ComponentRangeRunLengthEncoded as t}from\"./IndexRange/ComponentRangeRunLengthEncoded.js\";class e{constructor(e,h){this.offsets=h,this.pickability=null,this.highlightCounts=null,this.verticalOffsets=null,this.cachedGeometryRanges=null,this.cachedHighlightRanges=null,this.cachedDefaultRanges=null;const i=this.count;this.visibility=new t(i),this.materialDataBuffer=e.getBuffer(i),this.materialDataIndices=new Uint16Array(i);for(let t=0;t<i;t++)this.materialDataIndices[t]=this.materialDataBuffer.acquireIndex()}destroy(){for(let t=0;t<this.count;t++)this.materialDataBuffer.releaseIndex(this.materialDataIndices[t])}get count(){return this.offsets.length-1}get geometryRanges(){return null==this.cachedGeometryRanges&&(this.cachedGeometryRanges=this.visibility.computeOffsetRanges(this.offsets)),this.cachedGeometryRanges}get highlightRanges(){return null==this.highlightCounts?null:(this._updateCachedHighlightRanges(),this.cachedHighlightRanges)}get defaultShadowMapRanges(){return null==this.highlightCounts?this.geometryRanges:(this._updateCachedHighlightRanges(),this.cachedDefaultRanges)}highlightsDirty(){this.cachedHighlightRanges=null,this.cachedDefaultRanges=null}visibilityDirty(){this.cachedGeometryRanges=null,this.highlightsDirty()}_updateCachedHighlightRanges(){if((null==this.cachedHighlightRanges||null==this.cachedDefaultRanges)&&null!=this.highlightCounts){const{highlightRanges:t,defaultRanges:e}=h(this.highlightCounts,this.visibility,this.offsets);this.cachedHighlightRanges=t,this.cachedDefaultRanges=e}}}function h(t,e,h){const i=[],s=[];let a=h.length,n=h.length;return e.forEachComponent((e=>(t[e]>0?(a!==e-1&&(i.length&&i.push(h[a+1]-i[i.length-1]),i.push(h[e])),a=e):(n!==e-1&&(s.length&&s.push(h[n+1]-s[s.length-1]),s.push(h[e])),n=e),!0))),i.length&&i.push(h[a+1]-i[i.length-1]),s.length&&s.push(h[n+1]-s[s.length-1]),{highlightRanges:i,defaultRanges:s}}export{e as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as t}from\"../../../../../core/maybe.js\";class e{constructor(t,e,s,i,o,r){this.transform=t,this.toMapSpace=e,this.obb=s,this.components=i,this.renderable=o,this.intersectionGeometry=r,this.visible=!1,this.offsetObb=null}destroy(){this.intersectionGeometry=t(this.intersectionGeometry),this.renderable=t(this.renderable),this.components=t(this.components)}}export{e as ComponentObject};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{reallocGrowthFactor as t}from\"../../../../core/arrayUtils.js\";function n(n,i,e,s){if(e>=i)return n;null==n&&(n=r());const a=n.isVisibleBit;let l=n.data;const c=u(l),f=e/c|0,h=e-c*f,B=(i-1)/c|0,E=l,b=s===a;if(!(e<E.length*c)&&b){const n=f+1,i=Math.ceil(E.length*t),r=B+1;let e=Math.max(n,i);e=Math.min(e,r),l=new Uint32Array(e),l.set(E)}return f<l.length&&(l[f]=o(l[f],h,b)),n.data=l,n}function i(t,n){if(null==t)return!0;const{isVisibleBit:i,data:r}=t,o=u(r);return n<r.length*o?e(i,r,n,o):!t.isVisibleBit}function r(t=!0){return{isVisibleBit:!t,data:new Uint32Array(0)}}function e(t,n,i,r){const e=i/r|0,u=i-e*r;return s(n[e],u)===t}function u(t){const n=8;return t.BYTES_PER_ELEMENT*n}function o(t,n,i){return t&~(1<<n)|(i?1:0)<<n}function s(t,n){return!!(t&1<<n)}export{r as defaultVisibilities,i as getVisibility,n as updateVisibilityWithCount};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{invert as t,transpose as n}from\"../../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as o}from\"../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{z as e,t as s,F as i,s as a,n as m,c,k as p,b as r,o as h}from\"../../../../../chunks/vec32.js\";import{create as d}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as l}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{create as x}from\"../../../../../geometry/support/aaBoundingBox.js\";import{newFloatArray as b}from\"../../../../../geometry/support/FloatArray.js\";import{compactIndices as _,getContinuousIndexArray as I}from\"../../../../../geometry/support/Indices.js\";import{ViewingMode as f}from\"../../../../ViewingMode.js\";import{componentMinimalSizeForIntersectionData as C,ComponentIntersectionData as u}from\"./ComponentIntersectionData.js\";import{Vertices as M}from\"../../lib/Attribute.js\";import{getVisibility as g}from\"../../lib/ComponentUtils.js\";import{computeInvDir as A,intersectAabbInvDir as y,intersectTriangles as j}from\"../../lib/RayIntersections.js\";class B{constructor(t,n,o){this.viewingMode=t,this.positionData=n,this._components=o,this._planetCenter=d(),this._planetNorth=d(),this._componentIndicesForBsp=null,this._componentBspNodes=[],this._aabb=[0,0,0,0,0,0],this._indices=n.indices?_(n.indices):I(n.positions.length/3),this._positions=n.positions,this._componentIntersectionData=new Array(o.count)}destroy(){this._positions=null,this._indices=null,this._componentIntersectionData.length=0,this._perComponentAabbs=null}getComponentAabb(t,n){const o=this._ensureComponentAabbs(),e=6*t;return n[0]=o[e],n[1]=o[e+1],n[2]=o[e+2],n[3]=o[e+3],n[4]=o[e+4],n[5]=o[e+5],n}getComponentAabbs(){return this._ensureComponentAabbs()}_ensureComponentAabbs(){return this._perComponentAabbs||(this._perComponentAabbs=this._computePerComponentAabbs()),this._perComponentAabbs}getComponentPositions(t,n){n.indices=this._indices,n.data=this._positions,n.stride=3,n.startIndex=this._components.offsets[t],n.endIndex=this._components.offsets[t+1]}intersect(o,p,r,h,d,l,x,b){const{position:_}=l,I=e(D,o,_),g=e(F,p,_),B=t(R,l.rotationScale);s(I,I,B),s(g,g,B);const w=n(P,B),k=new M(this._positions,3),z=this._indices,E=this._components.offsets,G=A(I,g,v);if(this.viewingMode===f.Global){const t=this._planetCenter;i(t,_),s(t,t,B);const n=this._planetNorth;a(n,0,0,1),s(n,n,B),m(n,n)}const L=c(V,I),O=c(U,g),S=e(q,g,I);m(S,S);const{isVerticalRay:T}=x,H=t=>{const n=this.getComponentAabb(t,N);if(null!=d){const n=d[t];null==h||T?(I[2]=L[2]-n,g[2]=O[2]-n):h.componentOffset=n}if(null==h||T||h.applyToAabb(n),!y(n,I,G,r))return;const o=E[t]/3,e=E[t+1]/3,i=(n,o,e)=>b(t,n,e?s(e,e,w):null,o);(null==h||T)&&e-o>C?(null==this._componentIntersectionData[t]&&(this._componentIntersectionData[t]=new u(this._indices,o,e,k)),this._componentIntersectionData[t].intersectRay(I,g,x,i)):j(I,g,o,e,z,k,h,x,i)};this._intersectComponents(H,T,I,g)}_intersectComponents(t,n,o,s){const i=this._components.pickability,a=this._components.visibility;if(this._components.visibility.componentCount<H){const n=n=>(g(i,n)&&t(n),!0);return void a.forEachComponent(n)}0===this._componentBspNodes.length&&this._generateComponentBspRoot();const c=this._componentIndicesForBsp,r=n=>{g(i,n)&&a.isVisible(n)&&t(n)},h=(t,n)=>{for(let o=t;o<n;++o)r(c[o])};if(n){let t=0;for(;t>=0;){const n=this._componentBspNodes[t],e=n.plane;if(!e||-1===n.child0&&-1===n.child1){h(n.minComponentIndexIndex,n.maxComponentIndexIndex);break}{h(n.minMidComponentIndexIndex,n.maxMidComponentIndexIndex);const s=p(e,o)-e[3];if(s<0){if(-1===n.child0){h(n.minComponentIndexIndex,n.minMidComponentIndexIndex);break}t=n.child0}else{if(!(s>0))break;if(-1===n.child1){h(n.maxMidComponentIndexIndex,n.maxComponentIndexIndex);break}t=n.child1}}}}else{const t=J;e(t,s,o),m(t,t);const n=this._componentBspNodes,i=e=>{const s=n[e],a=s.plane;if(!a||-1===s.child0&&-1===s.child1)h(s.minComponentIndexIndex,s.maxComponentIndexIndex);else{const n=p(a,o)-a[3],e=p(a,t);s.minComponentIndexIndex<s.minMidComponentIndexIndex&&(n<=0||e<0)&&(-1!==s.child0?i(s.child0):h(s.minComponentIndexIndex,s.minMidComponentIndexIndex)),h(s.minMidComponentIndexIndex,s.maxMidComponentIndexIndex),s.maxMidComponentIndexIndex<s.maxComponentIndexIndex&&(n>=0||e>0)&&(-1!==s.child1?i(s.child1):h(s.maxMidComponentIndexIndex,s.maxComponentIndexIndex))}};i(0)}}_generateComponentBspRoot(){const t=this._components.count,n=new Uint16Array(t);this._componentIndicesForBsp=n;for(let e=0;e<t;++e)n[e]=e;const o=this._ensureComponentAabbs(),s=this._planetCenter,d=this._planetNorth,x=G;i(x,s),m(x,x);r(L,d,x);const b=this._aabb,_=b[2],I=[];let C=0;const u=this._componentBspNodes;u.length=0;const M=(t,n)=>{const e=6*t,s=o[e],i=o[e+1],m=o[e+2],c=o[e+3],r=o[e+4],h=o[e+5],d=a(O,.5*(s+c),.5*(i+r),.5*(m+h)),l=.5*(c-s),x=.5*(r-i),b=.5*(h-m),_=Math.sqrt(l*l+x*x+b*b),I=n,f=n[3],C=p(I,d)-f;return Math.abs(C)>_?Math.sign(C):0},g=(t,e,s)=>{let i=1/0,a=1/0,m=1/0,c=-1/0,p=-1/0,r=-1/0;for(let h=e;h<s;++h){const t=6*n[h];i=Math.min(i,o[t]),c=Math.max(c,o[t+3]),a=Math.min(a,o[t+1]),p=Math.max(p,o[t+4]),m=Math.min(m,o[t+2]),r=Math.max(r,o[t+5])}t[0]=i,t[1]=a,t[2]=m,t[3]=c,t[4]=p,t[5]=r},A=this.viewingMode===f.Local;let y=!1;if(!A){const t=a(O,.5*(b[0]+b[3]),.5*(b[1]+b[4]),.5*(b[2]+b[5])),n=h(s,t);y=_>.5*n}const j=(t,o,i,h,x)=>{const b=u.length;let _;if(y||i>=T||o-t<S)_=new w(t,o,o,o,null);else{g(k,t,o);const h=k[0],x=k[1],f=k[2],C=k[3],u=k[4],y=C-h,B=u-x,v=l(),N=v;if(A)y>=B?(a(N,1,0,0),v[3]=-.5*(h+C)):(a(N,0,1,0),v[3]=-.5*(x+u));else{const t=z,n=E;a(t,.5*(h+C),.5*(x+u),f),e(t,t,s),m(t,t),r(n,t,d),m(n,n),y>=B?c(N,n):(r(N,n,t),m(N,N)),v[3]=p(N,s)}let D,F;{let e=t,s=o;for(;e<s;){const t=n[e];M(t,v)<0?++e:(--s,n[e]=n[s],n[s]=t)}D=e;let i=e;for(s=o;i<s;){const t=n[s-1];M(t,v)>0?--s:(n[s-1]=n[i],n[i]=t,++i)}F=s}_=new w(t,D,F,o,v),D>=t+S&&I.push((()=>j(t,D,i+1,b,!0))),o>=F+S&&I.push((()=>j(F,o,i+1,b,!1)))}if(u.push(_),-1!==h){const t=u[h];x?t.child0=b:t.child1=b}};for(I.push((()=>j(0,t,0,-1,!1)));C<I.length;){(0,I[C])(),++C}}_computePerComponentAabbs(){const t=this._components.count,n=b(6*t),o=this._indices,e=this._positions,s=this._components.offsets;let i=0,a=1/0,m=1/0,c=1/0,p=-1/0,r=-1/0,h=-1/0;for(let d=0;d<t;d++){const t=s[d],l=s[d+1];let x=1/0,b=1/0,_=1/0,I=-1/0,f=-1/0,C=-1/0;for(let n=t;n<l;n++){const t=3*o[n],s=e[t],i=e[t+1],a=e[t+2];x=Math.min(x,s),b=Math.min(b,i),_=Math.min(_,a),I=Math.max(I,s),f=Math.max(f,i),C=Math.max(C,a)}n[i++]=x,n[i++]=b,n[i++]=_,n[i++]=I,n[i++]=f,n[i++]=C,a=Math.min(a,x),m=Math.min(m,b),c=Math.min(c,_),p=Math.max(p,I),r=Math.max(r,f),h=Math.max(h,C)}return this._aabb[0]=a,this._aabb[1]=m,this._aabb[2]=c,this._aabb[3]=p,this._aabb[4]=r,this._aabb[5]=h,n}get positions(){return this._positions}get indices(){return this._indices}get aabb(){return this._ensureComponentAabbs(),this._aabb}}class w{constructor(t,n,o,e,s){this.minComponentIndexIndex=t,this.minMidComponentIndexIndex=n,this.maxMidComponentIndexIndex=o,this.maxComponentIndexIndex=e,this.plane=s,this.child0=-1,this.child1=-1}}const v=d(),N=x(),k=[0,0,0,0,0,0],D=d(),F=d(),R=o(),P=o(),V=d(),U=d(),q=d(),z=d(),E=d(),G=d(),L=d(),O=d(),S=5,T=10,H=7,J=d();export{B as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,e){this.material=t,this.geometry=s,this.meta=e}destroy(){this.material.dispose(),this.geometry.dispose()}}export{t as Renderable};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass s{constructor(s,i,t,e){this.vao=s,this.primitiveType=i,this.parameters=t,this.indexed=e}dispose(){this.vao.dispose()}}export{s as RenderGeometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass r{constructor(){this.near=Number.MAX_VALUE,this.far=-Number.MAX_VALUE}}function n(r,n){return{near:r,far:n}}function a(r){return r?t(r,1/0,-1/0):n(1/0,-1/0)}function t(r,n,a){return r.near=n,r.far=a,r}function e(r,n){null!=n&&(r.near=Math.min(r.near,n.near),r.far=Math.max(r.far,n.far))}function f(r,n){return r.near<=n&&n<=r.far}const u={near:0,far:0};export{r as DepthRange,n as create,a as empty,t as set,e as union,f as within,u as zero};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/PooledArray.js\";import{fromQuat as e,scale as r}from\"../../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as o}from\"../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{conjugate as n}from\"../../../../../core/libs/gl-matrix-2/math/quat.js\";import{create as a}from\"../../../../../core/libs/gl-matrix-2/factories/quatf64.js\";import{k as s,z as c,u as l,s as f,m as i,c as u,t as m,g as b}from\"../../../../../chunks/vec32.js\";import{create as h}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{signedDistance as p}from\"../../../../../geometry/support/plane.js\";import{empty as g,within as d,union as j}from\"../../lib/depthRange.js\";function w(t,e){const r=g(),{eye:o,frustum:n,viewForward:a}=t;e.forAll((t=>{const e=null!=t.offsetObb?t.offsetObb:t.obb,l=s(c(C,e.center,o),a),f=e.projectedRadius(a);if(d(r,l-f)&&d(r,l+f))return;const i=M(e,n);if(-1===i)return;if(0===i)return k.far=l+f,k.near=l-f,void j(r,k);const u=x.pushNew();u.near=l-f,u.far=l+f,u.mask=i,u.object=t}));for(let l=0;l<x.length;l++){const t=x.data[l];if(d(r,t.near)&&d(r,t.far))continue;k.far=t.far,k.near=1/0;const e=R(null!=t.object.offsetObb?t.object.offsetObb:t.object.obb,o,y,(e=>{let r=O;for(let o=0;o<F&&e.length>0;o++){if(!(t.mask&1<<o))continue;z(n[o],e,r);const a=e;e=r,r=a}for(let t=0;t<e.length;t+=3){f(q,e.data[t],e.data[t+1],e.data[t+2]);const r=s(c(q,q,o),a);k.near=Math.min(k.near,r)}}));0===e&&(k.near=0),j(r,k)}return x.length=0,r}const x=new t({allocator:t=>t||{near:1/0,far:-1/0,mask:0,object:null},deallocator:t=>(t.object=null,t)}),k=g(),q=h(),v=h(),y=new t({deallocator:null}),O=new t({deallocator:null});function z(t,e,r){r.length=0;const o=e.length-3;A(q,e,o);const n=p(t,q);n<=0&&(r.push(q[0]),r.push(q[1]),r.push(q[2]));let a=0,s=n;for(;a<o;a+=3){A(v,e,a);const o=p(t,v);if(s*o<0){i(q,v,q,o/(o-s)),P(r,q)}o<=0&&P(r,v),s=o,u(q,v)}if(s*n<0){A(v,e,o);i(q,v,q,n/(n-s)),P(r,q)}}function A(t,e,r){return f(t,e.data[r],e.data[r+1],e.data[r+2])}function P(t,e){t.push(e[0]),t.push(e[1]),t.push(e[2])}function R(t,o,a,s){n(B,t.quaternion),c(C,o,t.center),l(C,C,B);const i=t.halfSize,u=8*((C[0]<-i[0]?-1:C[0]>i[0]?1:0)+3*(C[1]<-i[1]?-1:C[1]>i[1]?1:0)+9*(C[2]<-i[2]?-1:C[2]>i[2]?1:0)+13),h=S[u];if(0===h)return h;e(N,t.quaternion),r(N,N,t.halfSize);const p=(e,r)=>{const o=S[u+r+1];return f(e,((1&o)<<1)-1,(2&o)-1,((4&o)>>1)-1),m(e,e,N),b(e,t.center,e)};return a.length=0,P(a,p(D,0)),P(a,p(E,1)),P(a,p(C,2)),P(a,p(G,3)),s(a),1===h?h:(a.length=0,P(a,D),P(a,G),P(a,p(C,4)),P(a,p(H,5)),s(a),2===h||(a.length=0,P(a,D),P(a,H),P(a,p(C,6)),P(a,E),s(a)),h)}const S=(()=>{const t=new Array(216);let e=0;const r=r=>{for(let o=0;o<r.length;o++)t[e+o]=r[o];e+=8};return r([3,0,6,2,3,1,5,4]),r([2,0,2,3,1,5,4,0]),r([3,1,0,2,3,7,5,4]),r([2,0,1,3,2,6,4,0]),r([1,0,1,3,2,0,0,0]),r([2,1,5,7,3,2,0,0]),r([3,2,0,1,3,7,6,4]),r([2,2,0,1,3,7,6,0]),r([3,3,0,1,5,7,6,2]),r([2,0,1,5,4,6,2,0]),r([1,0,1,5,4,0,0,0]),r([2,1,3,7,5,4,0,0]),r([1,0,2,6,4,0,0,0]),r([0,0,0,0,0,0,0,0]),r([1,1,3,7,5,0,0,0]),r([2,2,3,7,6,4,0,0]),r([1,2,3,7,6,0,0,0]),r([2,3,1,5,7,6,2,0]),r([3,4,0,1,5,7,6,2]),r([2,5,7,6,4,0,1,0]),r([3,5,0,1,3,7,6,4]),r([2,4,5,7,6,2,0,0]),r([1,4,5,7,6,0,0,0]),r([2,5,1,3,7,6,4,0]),r([3,6,0,2,3,7,5,4]),r([2,6,2,3,7,5,4,0]),r([3,7,6,2,3,1,5,4]),t})(),F=4;function M(t,e){let r=0;for(let o=0;o<F;o++){const n=t.intersectPlane(e[o]);if(n>0)return-1;0===n&&(r|=1<<o)}return r}const N=o(),B=a(),C=h(),D=h(),E=h(),G=h(),H=h();export{w as computeDepthRange};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{computeDepthRange as t}from\"./DepthRange.js\";class e{constructor(t){this._objects=t}submit(t,e){this._objects.preSubmit(e),this._objects.visibleObjects.forAll((s=>s.renderable.material.submit(t,e,s)))}queryShadowCasterDepthRange(e){return this._objects.visibleObjects.length?t(e,this._objects.visibleObjects):null}}export{e as RenderSubmitSystem};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{create as o}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ColorMixModeEnum as t}from\"../../../layers/support/symbolColorUtils.js\";class s{constructor(){this.externalColor=o(),this.externalColorMixMode=t.Multiply,this.castShadows=!0,this.pickable=!0,this.elevationOffset=0}}export{s as UniformComponentParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../core/has.js\";import e from\"../../../../../core/Logger.js\";import t from\"../../../../../core/PooledArray.js\";import{isArray as o}from\"../../../../../core/typedArrayUtil.js\";import{a as n}from\"../../../../../chunks/vec32.js\";import{clone as i}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as r}from\"../../../../../geometry/support/aaBoundingBox.js\";import{compactIndices as s}from\"../../../../../geometry/support/Indices.js\";import{c as a}from\"../../../../../chunks/vec3.js\";import{c as l}from\"../../../../../chunks/vec33.js\";import{ViewingMode as c}from\"../../../../ViewingMode.js\";import{ColorMixModeEnum as m,encodeSymbolColor as h}from\"../../../layers/support/symbolColorUtils.js\";import{computeOffsetObb as f}from\"../../../support/orientedBoundingBox.js\";import{glLayout as p}from\"../../../support/buffer/glUtil.js\";import{newLayout as u}from\"../../../support/buffer/InterleavedLayout.js\";import d from\"./ComponentData.js\";import{ComponentObject as g}from\"./ComponentObject.js\";import b from\"./IntersectionGeometry.js\";import{Renderable as y}from\"./Renderable.js\";import{RenderGeometry as v}from\"./RenderGeometry.js\";import{RenderSubmitSystem as C}from\"./RenderSubmitSystem.js\";import{createVertexBufferLayout as _}from\"./SourceGeometry.js\";import{UniformComponentParameters as j}from\"./UniformComponentParameters.js\";import{ComponentParametersVarying as M,ComponentParametersUniform as x,ComponentParameterSummary as O,ComponentMaterial as w}from\"./Material/ComponentMaterial.js\";import{attributeLocations as A}from\"./Material/ComponentTechnique.js\";import{encodeElevationOffset as R}from\"./Material/shader/ComponentData.glsl.js\";import{getVisibility as D,updateVisibilityWithCount as I}from\"../../lib/ComponentUtils.js\";import{assert as S}from\"../../lib/Util.js\";import{VertexAttribute as E}from\"../../lib/VertexAttribute.js\";import{getVerticalOffsetI3S as V}from\"../../lib/verticalOffsetUtils.js\";import{EdgeInputBufferLayout as P}from\"../../lib/edgeRendering/bufferLayouts.js\";import{extractComponentsEdgeLocationsLayout as B}from\"../../lib/edgeRendering/edgeProcessing.js\";import{BufferManager as N}from\"../../lib/TextureBackedBuffer/BufferManager.js\";import{BufferObject as U}from\"../../../../webgl/BufferObject.js\";import{Usage as T,PrimitiveType as L}from\"../../../../webgl/enums.js\";import{VertexArrayObject as G}from\"../../../../webgl/VertexArrayObject.js\";const k=()=>e.getLogger(\"esri.views.3d.webgl-engine.collections.Component.ComponentObjectCollection\");class q{constructor(e,o){this._renderManager=e,this._viewingMode=o,this._elevationRangeCacheVerticalOffset=NaN,this._elevationRangeCacheMin=NaN,this._elevationRangeCacheMax=NaN,this._visible=new t,this._hidden=new t,this._renderSubmit=new C(this),this._renderManager.register(this._renderSubmit),this._hasObjectAndLayerId=has(\"enable-feature:objectAndLayerId-rendering\"),this._componentBufferManager=new N(e.rctx,2+(this._hasObjectAndLayerId?1:0))}destroy(){S(0===this._hidden.length&&0===this._visible.length,\"ObjectCollection should be empty upon disposal\"),this._componentBufferManager.destroy(),this._visible.forAll((e=>e.destroy())),this._hidden.forAll((e=>e.destroy())),this._visible.clear(),this._hidden.clear()}createObject(e){const t=e.geometry,o=new d(this._componentBufferManager,s(t.componentOffsets)),n=this._createRenderable(e,o),i=new b(this._viewingMode,t.positionData,o),r=new g(e.transform,e.toMapSpace,e.obb.clone(),o,n,i);return(r.visible?this._visible:this._hidden).push(r),r}destroyObject(e){const t=e;(t.visible?this._visible:this._hidden).removeUnordered(t),t.destroy(),this._notifyDirty()}setObjectVisibility(e,t){const o=e;t!==o.visible&&(t?(this._hidden.removeUnordered(o),this._visible.push(o)):(this._visible.removeUnordered(o),this._hidden.push(o)),o.visible=t,this._notifyDirty())}preSubmit(e){const t=e.camera.eye;this.visibleObjects.forAll((e=>e.renderable.meta.cameraDepthSquared=n(t,e.obb.center)))}getMaterial(e){return e.renderable.material}updateMaterial(e,t){const o=e.renderable.material;t(o),o.dirty&&this._notifyDirty()}setAllComponentVisibilities(e,t){const o=e;o.components.visibility.reset(t),o.components.visibilityDirty(),this._notifyDirty()}forEachVisibleComponent(e,t){return e.components.visibility.forEachComponent(t)}getComponentCount(e){const t=e,o=t.components.visibility.componentCount;return{visible:o,invisible:t.components.count-o}}setComponentData(e,t){const o=e,n=o.renderable.material,i=o.components,r=i.materialDataBuffer,s=i.materialDataIndices,a=new j,l=r.textureBuffer,c=new Uint8Array(4),p=new Uint32Array(c.buffer);let u=0,d=0,g=0,b=i.verticalOffsets,y=1/0,v=-1/0,C=!1,_=!1,w=0;for(let f=0;f<i.count;f++){t(f,a),u+=+(a.externalColor[3]<1),d+=+(a.externalColorMixMode===m.Replace&&1===a.externalColor[3]),g+=+a.castShadows,h(a.externalColor,a.externalColorMixMode,c),c[2]=254&c[2]|+a.castShadows,l.setData(s[f],0,c[0],c[1],c[2],c[3]),C||=f>0&&w!==p[0],w=p[0],_||=0!==a.elevationOffset,_&&null==b&&(b=new Array(f).fill(0)),null!=b&&(b[f]=a.elevationOffset),y=Math.min(y,a.elevationOffset),v=Math.max(v,a.elevationOffset),R(a.elevationOffset,c),l.setData(s[f],1,c[0],c[1],c[2],c[3]);const e=a.objectAndLayerIdColor;null!=e&&l.setData(s[f],2,e[0],e[1],e[2],e[3]),a.pickable!==D(i.pickability,f)&&(i.pickability=I(i.pickability,i.count,f,a.pickable))}i.verticalOffsets=_?b:null,o.offsetObb=_?f(o.obb,y,v,this._viewingMode,o.offsetObb??o.obb.clone()):null,C||_||this._hasObjectAndLayerId?(n.componentParameters=new M,n.componentParameters.castShadows=H(g,i.count),n.componentParameters.transparent=H(u,i.count),n.componentParameters.opaqueOverride=H(d,i.count),n.componentParameters.texture=l,l.updateTexture()):(n.componentParameters=new x,n.componentParameters.castShadows=a.castShadows?O.All:O.None,n.componentParameters.externalColor=a.externalColor,n.componentParameters.externalColorMixMode=a.externalColorMixMode),this._elevationRangeCacheVerticalOffset=NaN,this._notifyDirty()}getComponentAabb(e,t,o,n=!1){e.intersectionGeometry.getComponentAabb(t,o);const i=e,r=i.components.verticalOffsets;if(n||null==r)return o;const s=r[t];if(this._viewingMode===c.Local||0===s)return o[2]+=s,o[5]+=s,o;const a=V(s);return a.localOrigin=i.transform.position,a.applyToAabb(o)}getComponentObb(e){return e.obb}getObjectTransform(e){return e.transform}getComponentPositions(e,t,o){return e.intersectionGeometry.getComponentPositions(t,o)}expandRangeWithComponentObjectElevationRange(e,t,o,n){Number.isNaN(this._elevationRangeCacheVerticalOffset)||this._elevationRangeCacheVerticalOffset!==t||n.expandElevationRangeValues(this._elevationRangeCacheMin,this._elevationRangeCacheMax);const i=e,r=i.components,s=r.count,a=r.verticalOffsets,l=i.intersectionGeometry,m=this._viewingMode===c.Local,h=l.getComponentAabbs(),f=X;let p=1/0,u=-1/0;for(let c=0;c<s;c++){const e=6*c,r=a?.[c]??0;let s=1/0,l=-1/0;if(m)s=h[e+2]+r+t,l=h[e+5]+r+t;else{if(f[0]=h[e],f[1]=h[e+1],f[2]=h[e+2],f[3]=h[e+3],f[4]=h[e+4],f[5]=h[e+5],0!==r){const e=V(r);e.localOrigin=i.transform.position,e.applyToAabb(f)}const s=Math.max(Math.abs(f[3]),Math.abs(f[0])),a=Math.max(Math.abs(f[4]),Math.abs(f[1])),l=t+f[5]+o;n.expandElevationRangeValues(t+f[2],Math.sqrt(s*s+a*a+l*l)-o)}n.expandElevationRangeValues(s,l),p=Math.min(p,s),u=Math.max(u,l)}this._elevationRangeCacheVerticalOffset=t,this._elevationRangeCacheMin=p,this._elevationRangeCacheMax=u}intersect(e,t,o,n,i,r,s){const a=e,{transform:l}=a,{position:c}=l;return null!=i&&(i.localOrigin=c),a.intersectionGeometry.intersect(t,o,n,i,a.components.verticalOffsets,l,r,s)}addEdges(e,t,o,n){const i=e,{indices:r,positions:s}=i.intersectionGeometry,a=i.components.offsets;return t.addComponentObject(i,s,r,a,o,n)}async extractEdgeInformation(e,t,o){const n=e,r=n.components.visibility;if(r.allInvisible())return{buffer:B.createBuffer(0),origin:[0,0,0]};const{indices:s,positions:c}=n.intersectionGeometry,m=n.components.offsets,h=P.createBuffer(c.length/3);l(h.position.typedBuffer,c,h.position.typedBufferStride,3),a(h.position,h.position,n.transform.rotationScale),this._setComponentIndices(h.componentIndex,s,m);const f=h.count,p=this._computeVisibilityIndices(s,r,m,f);return{origin:i(n.transform.position),buffer:await t.extractComponentsEdgeLocations({indices:p,indicesLength:p.length,skipDeduplicate:!0,data:h,writerSettings:{reducedPrecision:!1,variants:0}},o)}}_setComponentIndices(e,t,o){let n=0;for(let i=0;i<o.length-1;i++){const r=o[i],s=o[i+1];for(let o=r;o<s;o++){const i=t?t[o]:o;e.set(i,n)}n++}}_computeVisibilityIndices(e,t,n,i){if(e&&t.allVisible())return e;let r=0;t.forEachComponentRange(((e,t)=>(r+=n[t]-n[e],!0)));const s=o(e)?new Array(r):2===e?.BYTES_PER_ELEMENT||i<=65536?new Uint16Array(r):new Uint32Array(r);let a=0;return t.forEachComponentRange(((t,o)=>{const i=n[t],r=n[o];for(let n=i;n<r;n++)s[a++]=e?e[n]:n;return!0})),s}addComponentHighlight(e,t){const o=e.components;null==o.highlightCounts&&(o.highlightCounts=new Uint32Array(o.count+1));0===o.highlightCounts[t]++&&(o.highlightsDirty(),this._notifyDirty()),o.highlightCounts[o.count]++}removeComponentHighlight(e,t){const o=e.components;if(null==o.highlightCounts)return void k().warn(\"Removing non-existing highlight.\");const n=o.highlightCounts[t],i=o.highlightCounts[o.count];if(0!==n){if(n>1)return o.highlightCounts[t]=n-1,void(o.highlightCounts[o.count]=i-1);o.highlightCounts[t]=0,o.highlightsDirty(),this._notifyDirty(),1===i?o.highlightCounts=null:o.highlightCounts[o.count]=i-1}else k().warn(\"Removing non-existing highlight.\")}clearHighlights(e){const t=e.components;null!=t.highlightCounts&&(t.highlightCounts=null,t.highlightsDirty(),this._notifyDirty())}getObjectGPUMemoryUsage(e){return e.renderable.meta.gpuMemoryEstimate}get visibleObjects(){return this._visible}_createRenderable(e,t){const o=this._renderManager.rctx,n=e.geometry,i=n.vertices.layoutParameters,r=U.createVertex(o,T.STATIC_DRAW,n.vertices.data),s=n.indices?U.createIndex(o,T.STATIC_DRAW,n.indices):null,a=p(_(i)),l=new Uint16Array(n.vertices.count);for(let p=0;p<t.count;p++){const e=t.offsets[p],o=t.offsets[p+1],i=t.materialDataIndices[p];if(null!=n.indices)for(let t=e;t<o;t++){l[n.indices[t]]=i}else for(let t=e;t<o;t++)l[t]=i}const c=U.createVertex(o,T.STATIC_DRAW,l.buffer),m=new w(e.transform,e.toMapSpace),h=new G(o,A,{data:a,componentIndices:W},{data:r,componentIndices:c},s),f=new v(h,L.TRIANGLES,i,null!=s),u={cameraDepthSquared:.5,gpuMemoryEstimate:r.usedMemory+c.usedMemory+(null!=s?s.usedMemory:0)};return new y(m,f,u)}_notifyDirty(){this._renderManager.notifyDirty()}}const W=p(u().u16(E.COMPONENTINDEX));function H(e,t){return e===t?O.All:0===e?O.None:O.Some}const X=r();export{q as ComponentObjectCollection};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{parameter as e,ShaderTechniqueConfiguration as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";var a;!function(o){o[o.None=0]=\"None\",o[o.Alpha=1]=\"Alpha\",o[o.PremultipliedAlpha=2]=\"PremultipliedAlpha\",o[o.COUNT=3]=\"COUNT\"}(a||(a={}));class r extends t{constructor(){super(...arguments),this.alphaMode=a.None,this.hasOpacityFactor=!1}}o([e({count:a.COUNT})],r.prototype,\"alphaMode\",void 0),o([e()],r.prototype,\"hasOpacityFactor\",void 0);export{a as AlphaMode,r as CompositingTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../lib/Program.js\";import{a as t}from\"../../../../chunks/Compositing.glsl.js\";import{AlphaMode as n}from\"./CompositingTechniqueConfiguration.js\";import{BlendFactor as s}from\"../../../webgl/enums.js\";import{makePipelineState as a,simpleBlendingParams as l,defaultColorWriteParams as m,separateBlendingParams as c}from\"../../../webgl/renderState.js\";class p extends r{initializeProgram(e){return new o(e.rctx,p.shader.get().build(this.configuration),i)}initializePipeline(){switch(this.configuration.alphaMode){case n.None:return a({colorWrite:m});case n.Alpha:return a({blending:c(s.SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA),colorWrite:m});case n.PremultipliedAlpha:case n.COUNT:return a({blending:l(s.ONE,s.ONE_MINUS_SRC_ALPHA),colorWrite:m})}}}p.shader=new e(t,(()=>import(\"./Compositing.glsl.js\")));export{p as CompositingTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../lib/Program.js\";import{a as t}from\"../../../../chunks/HUDCompositing.glsl.js\";import{makePipelineState as s}from\"../../../webgl/renderState.js\";class a extends r{initializeProgram(e){return new o(e.rctx,a.shader.get().build(),i)}initializePipeline(){return s({colorWrite:{r:!1,g:!0,b:!1,a:!1}})}}a.shader=new e(t,(()=>import(\"./HUDCompositing.glsl.js\")));export{a as HUDCompositingTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../lib/Program.js\";import{a as t}from\"../../../../chunks/OITCompositing.glsl.js\";import{BlendFactor as s}from\"../../../webgl/enums.js\";import{makePipelineState as m,separateBlendingParams as l,defaultColorWriteParams as n}from\"../../../webgl/renderState.js\";class a extends r{initializeProgram(e){return new o(e.rctx,a.shader.get().build(),i)}initializePipeline(){return m({blending:l(s.SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA),colorWrite:n})}}a.shader=new e(t,(()=>import(\"./OITCompositing.glsl.js\")));export{a as OITCompositingTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{C as s}from\"../../../../chunks/Compositing.glsl.js\";import{CompositingTechnique as t}from\"../shaders/CompositingTechnique.js\";import{CompositingTechniqueConfiguration as e,AlphaMode as i}from\"../shaders/CompositingTechniqueConfiguration.js\";import{H as r}from\"../../../../chunks/HUDCompositing.glsl.js\";import{HUDCompositingTechnique as o}from\"../shaders/HUDCompositingTechnique.js\";import{O as a}from\"../../../../chunks/OITCompositing.glsl.js\";import{OITCompositingTechnique as h}from\"../shaders/OITCompositingTechnique.js\";class n{constructor(t,i){this._rctx=t,this._techniqueRepository=i,this._configuration=new e,this._passParameters=new s,this._oitParameters=new a,this._hudParameters=new r}compositeOIT(s,t,e,i){this._oitParameters.colorTexture=t,this._oitParameters.alphaTexture=e,this._oitParameters.frontFaceTexture=i;const r=this._techniqueRepository.acquire(h);this._rctx.bindTechnique(r,s,this._oitParameters),this._rctx.screen.draw(),r.release()}compositeHUD(s,t){this._hudParameters.texture=t;const e=this._techniqueRepository.acquire(o);this._rctx.bindTechnique(e,s,this._hudParameters),this._rctx.screen.draw(),e.release()}composite(s,e,r=i.None,o=1){this._configuration.alphaMode=r,this._configuration.hasOpacityFactor=1!==o,this._passParameters.texture=e,this._passParameters.opacity=o;const a=this._techniqueRepository.acquire(t,this._configuration);this._rctx.bindTechnique(a,s,this._passParameters),this._rctx.screen.draw(),a.release()}}export{n as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{unpackFloatRGBA as e}from\"../../../../core/floatRGBA.js\";import t from\"../../../../core/PooledArray.js\";import{multiply as r,copy as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{e as s}from\"../../../../chunks/vec32.js\";import{l as a}from\"../../../../chunks/vec42.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{intersectsSphere as h,create as f,copy as c}from\"../../../../geometry/support/frustum.js\";import{g as l,c as u}from\"../../../../chunks/sphere.js\";import{maxScale as _}from\"../../support/mathUtils.js\";import{empty as d,union as m,set as g,DepthRange as p}from\"./depthRange.js\";import b from\"./Octree.js\";import{assert as w}from\"./Util.js\";const v=1e4,R=100,j=500,C=500,A=.1;function B(t,r,i){return e(r,t)*(i[1]-i[0])+i[0]}function M(e,t,r){let i=0;if(!t.some((e=>!!e.materialReference&&(i+=e.numGeometries,i>=v))))return Q.compute(e,t);const n=d();return r.forAll((t=>m(n,O(e,t)))),n}function O(e,t){if(!t.visible)return;const r=d(),i=t.getSpatialQueryAccelerator();return i?x(r,e,i):D(r,e,t.objects),r}function x(e,t,r){const i=t.eye,n=t.viewForward,s=t.frustum,a=e=>e.visible,o=r.objectCount;if(o<j)g(G,t.near,Math.min(e.near,t.far)),r.forEachInDepthRange(i,n,b.DepthOrder.FRONT_TO_BACK,G,((r,i)=>{T(e,t,r),G.far=e.near,i.setRange(G)}),s,a),g(G,Math.max(e.far,t.near),t.far),r.forEachInDepthRange(i,n,b.DepthOrder.BACK_TO_FRONT,G,((r,i)=>{T(e,t,r),G.near=e.far,i.setRange(G)}),s,a);else{const i=Math.max(Math.min(o,C),Math.ceil(o*A)),h=r.findClosest(n,b.DepthOrder.FRONT_TO_BACK,s,a,i),f=r.findClosest(n,b.DepthOrder.BACK_TO_FRONT,s,a,i);h&&f&&(I(e,t,h.boundingVolumeWorldSpace.bounds),I(e,t,f.boundingVolumeWorldSpace.bounds))}}function D(e,t,r){U.clear(),r.forAll((e=>{e.visible&&0!==e.geometries.length&&U.add(e)})),U.empty||(U.sort(t),g(G,t.near,Math.min(e.near,t.far)),U.forEachInDepthRange(G,b.DepthOrder.FRONT_TO_BACK,((r,i)=>{i<e.near&&T(e,t,r)})),g(G,Math.max(e.far,t.near),t.far),U.forEachInDepthRange(G,b.DepthOrder.BACK_TO_FRONT,((t,r,i)=>{e.far=Math.max(e.far,i)})))}function T(e,t,i){if(!i.visible)return;if(!h(t.frustum,i.boundingVolumeWorldSpace.bounds))return;const n=i.transformation,s=k;i.geometries.forEach((i=>{r(s,n,i.transformation);const a=_(s);F(e,t,i.boundingInfo,s,a)}))}function F(e,t,r,i,n){if(null==r)return;s(l(V),r.center,i);const{eye:a,viewForward:o}=t,f=o[0]*(V[0]-a[0])+o[1]*(V[1]-a[1])+o[2]*(V[2]-a[2]);if(V[3]=r.radius*n,!(f-V[3]>e.near&&f+V[3]<e.far)&&h(t.frustum,V))if(r.radius>R&&r.getChildren())for(const s of r.getChildren())F(e,t,s,i,n);else q.unionDepthRangeWithAABB(e,t.viewProjectionMatrix,i,r.bbMin,r.bbMax)}function I(e,t,r){const i=t.eye,n=t.viewForward,s=(r[0]-i[0])*n[0]+(r[1]-i[1])*n[1]+(r[2]-i[2])*n[2];e.near=Math.min(e.near,s-r[3]),e.far=Math.max(e.far,s+r[3])}class y{constructor(){this._items=new t({allocator:e=>e||{object:null,distance:0,near:0,far:0},deallocator:e=>(e.object=null,e.distance=0,e.near=0,e.far=0,e)})}get length(){return this._items.length}get empty(){return 0===this._items.length}clear(){this._items.clear()}add(e){this._items.pushNew().object=e}sort(e){const t=e.eye,r=e.viewForward;this._items.forAll((e=>{const i=e.object.boundingVolumeWorldSpace.bounds,n=(i[0]-t[0])*r[0]+(i[1]-t[1])*r[1]+(i[2]-t[2])*r[2];e.distance=n,e.near=n-i[3],e.far=n+i[3]})),this._items.sort(((e,t)=>e.distance-t.distance))}forEachInDepthRange(e,t,r){if(t===b.DepthOrder.FRONT_TO_BACK)for(let i=0;i<this._items.length;++i){const t=this._items.data[i];t.far<e.near||t.near>e.far||r(t.object,t.near,t.far)}else for(let i=this._items.length-1;i>=0;--i){const t=this._items.data[i];t.far<e.near||t.near>e.far||r(t.object,t.near,t.far)}}}class P{constructor(){this._view=n(),this._viewProj=n(),this._frustum=f(),this._geometries=new Array,this._near=[],this._far=[],this._nearCandidates=[],this._farCandidates=[],this._looseRange={near:0,far:0}}compute(e,t){this._reset(),i(this._view,e.viewMatrix),r(this._viewProj,e.projectionMatrix,this._view),c(this._frustum,e.frustum);const n=this._view,s=n[2],a=n[6],o=n[10],h=n[14];t.forAll((e=>{e.materialReference&&e.forEachGeometry&&e.forEachGeometry((e=>{if(!e.visible||!e.castShadow)return;const t=e.boundingSphere,r=s*t[0]+a*t[1]+o*t[2]+h,i=r-t[3],n=r+t[3];this._geometries.push(e),this._near.push(-n),this._far.push(-i)}))}));const f=new p;if(0===this._geometries.length)return f;for(let r=0;r<this._geometries.length;++r)this._near[r]>f.far&&(f.far=this._near[r]),this._near[r]>2&&this._far[r]<f.near&&(f.near=this._far[r]);const l=this._looseRange;l.near=Math.max(.5*f.near,2),l.far=2*f.far;let u=0,_=0;for(let r=0;r<this._geometries.length;++r)this._near[r]<f.near&&(this._near[r]>=l.near?f.near=this._near[r]:this._nearCandidates[u++]=r),this._far[r]>f.far&&(this._far[r]<=l.far?f.far=this._far[r]:this._farCandidates[_++]=r);if(0===this._nearCandidates.length&&0===this._farCandidates.length)return f;this._nearCandidates.sort(((e,t)=>this._near[e]<this._near[t]?-1:this._near[e]>this._near[t]?1:0)),this._farCandidates.sort(((e,t)=>this._far[e]<this._far[t]?1:this._far[e]>this._far[t]?-1:0));for(let r=0;r<this._nearCandidates.length;++r){const e=this._nearCandidates[r];if(this._near[e]<f.near){const t=this._geometries[e],r=t.boundingInfo;this._includeNearBoundingInfoRec(r,t.shaderTransformation,f)}}for(let r=0;r<this._farCandidates.length;++r){const e=this._farCandidates[r];if(this._far[e]>f.far){const t=this._geometries[e],r=t.boundingInfo;this._includeFarBoundingInfoRec(r,t.shaderTransformation,f)}}return this._reset(),f}_reset(){this._geometries.length=0,this._near.length=0,this._far.length=0,this._nearCandidates.length=0,this._farCandidates.length=0}_includeNearBoundingInfoRec(e,t,r){if(null==e)return;const i=e.center;s(l(V),i,t);const n=_(t),a=V[0],o=V[1],h=V[2],f=e.radius*n,c=this._frustum;if(c[0][0]*a+c[0][1]*o+c[0][2]*h+c[0][3]>f||c[1][0]*a+c[1][1]*o+c[1][2]*h+c[1][3]>f||c[2][0]*a+c[2][1]*o+c[2][2]*h+c[2][3]>f||c[3][0]*a+c[3][1]*o+c[3][2]*h+c[3][3]>f)return;const u=this._view[2]*a+this._view[6]*o+this._view[10]*h+this._view[14],d=u+f;if(!(-(u-f)<2||-d>=r.near))if(-d>this._looseRange.near)r.near=-d;else{if(f>R){const i=e.getChildren();if(void 0!==i){for(const e of i)this._includeNearBoundingInfoRec(e,t,r);return}}q.unionDepthRangeWithAABB(r,this._viewProj,t,e.bbMin,e.bbMax)}}_includeFarBoundingInfoRec(e,t,r){if(null==e)return;let i=e.radius;const n=e.center;s(l(V),n,t);const a=_(t),o=V[0],h=V[1],f=V[2];i*=a;const c=this._frustum;if(c[0][0]*o+c[0][1]*h+c[0][2]*f+c[0][3]>i||c[1][0]*o+c[1][1]*h+c[1][2]*f+c[1][3]>i||c[2][0]*o+c[2][1]*h+c[2][2]*f+c[2][3]>i||c[3][0]*o+c[3][1]*h+c[3][2]*f+c[3][3]>i)return;const u=this._view[2]*o+this._view[6]*h+this._view[10]*f+this._view[14]-i;if(!(-u<=r.far))if(-u<this._looseRange.far)r.far=-u;else{if(i>R){const i=e.getChildren();if(void 0!==i){for(const e of i)this._includeFarBoundingInfoRec(e,t,r);return}}q.unionDepthRangeWithAABB(r,this._viewProj,t,e.bbMin,e.bbMax)}}}class N{constructor(){this._modelViewProj=n(),this._clipPosition=[o(),o(),o(),o(),o(),o(),o(),o()]}unionDepthRangeWithAABB(e,t,i,n,s){const a=this._modelViewProj;r(a,t,i);let o=!1;for(let r=0;r<8;++r){const e=this._clipPosition[r],t=0===r||3===r||4===r||7===r?n[0]:s[0],i=0===r||1===r||4===r||5===r?n[1]:s[1],o=r<4?n[2]:s[2];e[0]=a[0]*t+a[4]*i+a[8]*o+a[12],e[1]=a[1]*t+a[5]*i+a[9]*o+a[13],e[2]=a[2]*t+a[6]*i+a[10]*o+a[14],e[3]=a[3]*t+a[7]*i+a[11]*o+a[15]}for(let r=0;r<12;++r){const t=E(this._clipPosition[S[r][0]],this._clipPosition[S[r][1]],this._clipPosition[S[r][2]]);let i=!0;for(let e=0;e<t.length;++e){if(t[e][3]>=2){i=!1;break}}if(!i){o=!0;for(let r=0;r<t.length;++r){const i=t[r][3];Number.isFinite(i)&&(e.near=Math.min(i,e.near),e.far=Math.max(i,e.far))}}}return o}}function E(e,t,r){let i=[e,t,r];for(let n=0;n<4;++n){const e=i;i=[];for(let t=0;t<e.length;++t){const r=e[t],s=e[(t+1)%e.length];W(s,n)?(W(r,n)||i.push(K(r,s,n)),i.push(s)):W(r,n)&&i.push(K(r,s,n))}}return i}function W(e,t){return 0===t?e[0]>=-e[3]:1===t?e[1]>=-e[3]:2===t?e[0]<=e[3]:3===t?e[1]<=e[3]:void w(!1)}function K(e,t,r){let i=0;return 0===r?i=(-e[3]-e[0])/(t[0]-e[0]+t[3]-e[3]):1===r?i=(-e[3]-e[1])/(t[1]-e[1]+t[3]-e[3]):2===r?i=(e[3]-e[0])/(t[0]-e[0]-t[3]+e[3]):3===r&&(i=(e[3]-e[1])/(t[1]-e[1]-t[3]+e[3])),a(o(),e,t,i)}const S=[[0,1,3],[2,3,1],[1,5,2],[6,2,5],[5,4,6],[7,6,4],[4,0,7],[3,7,0],[3,2,7],[6,7,2],[4,5,0],[1,0,5]],V=u(),k=n(),G=d(),U=new y,Q=new P,q=new N;export{P as DepthRangeFromRenderGeometries,O as depthRangeFromLayer,M as depthRangeFromScene,B as textureToDepth};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{screenPointObjectToArray as e,createScreenPointArray as r,createRenderScreenPointArray as t}from\"../../../../core/screenUtils.js\";import{s as o}from\"../../../../chunks/vec42.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{BooleanPassUniform as n}from\"../core/shaderModules/BooleanPassUniform.js\";import{Float4PassUniform as s}from\"../core/shaderModules/Float4PassUniform.js\";import{NoParameters as i,glsl as m}from\"../core/shaderModules/interfaces.js\";import{ShaderBuilder as u}from\"../core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as l}from\"../core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as d}from\"../lib/VertexAttribute.js\";class c{}class f extends i{constructor(){super(...arguments),this.textures=new c}}function v(){const e=new u;return e.attributes.add(d.POSITION,\"vec2\"),e.vertex.uniforms.add(new s(\"drawPosition\",((e,r)=>x(e,r)))),e.varyings.add(\"vUV\",\"vec2\"),e.vertex.code.add(m`void main(void) {\nvUV = position;\ngl_Position = vec4(drawPosition.xy + vec2(position - 0.5) * drawPosition.zw, 0.0, 1.0);\n}`),e.fragment.uniforms.add(new l(\"textureInput\",(e=>e.textures.input))),e.fragment.uniforms.add(new l(\"textureMask\",(e=>e.textures.mask))),e.fragment.uniforms.add(new l(\"textureOverlay\",(e=>e.textures.overlay))),e.fragment.uniforms.add(new n(\"maskEnabled\",(e=>e.magnifier.maskEnabled))),e.fragment.uniforms.add(new n(\"overlayEnabled\",(e=>e.magnifier.overlayEnabled))),e.fragment.code.add(m`const float barrelFactor = 1.1;\nvec2 barrel(vec2 uv) {\nvec2 uvn = uv * 2.0 - 1.0;\nif (uvn.x == 0.0 && uvn.y == 0.0) {\nreturn vec2(0.5, 0.5);\n}\nfloat theta = atan(uvn.y, uvn.x);\nfloat r = pow(length(uvn), barrelFactor);\nreturn r * vec2(cos(theta), sin(theta)) * 0.5 + 0.5;\n}\nvoid main() {\nfloat mask = maskEnabled ? texture(textureMask, vUV).a : 1.0;\nvec4 inputColor = texture(textureInput, barrel(vUV)) * mask;\nvec4 overlayColor = overlayEnabled ? texture(textureOverlay, vUV) : vec4(0);\nfragColor = overlayColor + (1.0 - overlayColor.a) * inputColor;\n}`),e}function x(r,t){const a=t.camera.pixelRatio,n=r.magnifier.offset.x*a,s=r.magnifier.offset.y*a;e(r.magnifier.position,p);const i=t.camera.screenToRender(p,g),m=Math.ceil(a*r.magnifier.size),u=t.camera.fullWidth,l=t.camera.fullHeight;return o(h,(i[0]+n)/u*2-1,(i[1]-s)/l*2-1,m/u*2,m/l*2)}const p=r(),g=t(),h=a();export{f as MagnifierPassParameters,c as TextureResources,v as build};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import s from\"../../../../core/Accessor.js\";import{createTask as t}from\"../../../../core/asyncUtils.js\";import r from\"../../../../core/Evented.js\";import{clamp as i}from\"../../../../core/mathUtils.js\";import{watch as a}from\"../../../../core/reactiveUtils.js\";import{createScreenPointArray as o,createRenderScreenPointArray as n,screenPointObjectToArray as l}from\"../../../../core/screenUtils.js\";import{isSVG as u}from\"../../../../core/urlUtils.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{requestImage as p}from\"../../../../support/requestImageUtils.js\";import{Pos2 as c}from\"./DefaultVertexBufferLayouts.js\";import{createQuadVAO as _}from\"./glUtil3D.js\";import{Program as g}from\"./Program.js\";import{VertexAttribute as d}from\"./VertexAttribute.js\";import{MagnifierPassParameters as f,build as v}from\"../shaders/Magnifier.glsl.js\";import{loadMagnifierResources as k}from\"../../../magnifier/resources.js\";import{PrimitiveType as T,BlendFactor as L,PixelFormat as S,TextureWrapMode as y}from\"../../../webgl/enums.js\";import{makePipelineState as P,simpleBlendingParams as j,defaultColorWriteParams as x}from\"../../../webgl/renderState.js\";import{Texture as R}from\"../../../webgl/Texture.js\";import{TextureDescriptor as b}from\"../../../webgl/TextureDescriptor.js\";let w=class extends s{constructor(){super(...arguments),this._magnifier=null,this._imageSources=null,this._imageLoadTask=null,this._resources=null,this._passParameters=new f,this.events=new r,this.attributeLocations=new Map([[d.POSITION,0]]),this._tmpScreenPoint=o(),this._tmpRenderPoint=n()}get updating(){return null==this._imageSources&&null!=this._imageLoadTask&&!this._imageLoadTask.task.finished}get magnifier(){return this._magnifier}set magnifier(e){if(e===this._magnifier)return;this.removeAllHandles(),this._magnifier=e;const s=()=>{this._updateResourceLoading(),this.events.emit(\"request-render\")};null!=this._magnifier&&this.addHandles(a((()=>this._magnifier?.version),s)),s()}get enabled(){return null!=this._validMagnifier}get _validMagnifier(){return null!=this._magnifier&&this._magnifier.visible&&null!=this._magnifier.position&&this._magnifier.size>0?this._magnifier:null}get _factor(){return null!=this._magnifier&&this._magnifier.factor||1}destroy(){this._magnifier=null,null!=this._imageLoadTask&&(this._imageLoadTask.task.abort(),this._imageLoadTask=null),this._disposeResources()}render(e,s){const t=this._validMagnifier;if(null==t)return;const r=s.camera.pixelRatio,a=Math.ceil(r*t.size);if(this._updateResources(e,a),null==this._resources)return;const o=this._passParameters.textures,n=Math.ceil(1/this._factor*a);o.input.resize(n,n),l(t.position,this._tmpScreenPoint);const u=s.camera.screenToRender(this._tmpScreenPoint,this._tmpRenderPoint),m=s.camera.fullWidth,h=s.camera.fullHeight,p=.5*n,c=.5*n;u[0]=i(u[0],p,m-p-1),u[1]=i(u[1],c,h-c-1);const _=Math.floor(u[0]-p),g=Math.floor(u[1]-c),d=this._resources.program;d.bindTexture(\"textureInput\",o.input),e.gl.copyTexImage2D(o.input.descriptor.target,0,o.input.descriptor.pixelFormat,_,g,n,n,0),this._passParameters.magnifier=t,e.useProgram(d),d.bindPass(this._passParameters,s),e.bindVAO(this._resources.vao),e.setPipelineState(this._resources.pipelineState),e.drawArrays(T.TRIANGLE_STRIP,0,4)}_updateResourceLoading(){const e=this._validMagnifier;if(null==e)return;const s=e.maskUrl,r=e.overlayUrl;null==this._imageLoadTask||this._imageLoadTask.maskUrl===s&&this._imageLoadTask.overlayUrl===r||(this._imageLoadTask.task.abort(),this._imageLoadTask=null,this._imageSources=null),null==this._imageSources&&null==this._imageLoadTask&&(this._imageLoadTask={maskUrl:s,overlayUrl:r,task:t((async e=>{const t=null==s||null==r?k(e):null,i=null!=s?p(s,{signal:e}):t.then((e=>e.mask)),a=null!=r?p(r,{signal:e}):t.then((e=>e.overlay));this._imageSources={mask:await i,overlay:await a},this._disposeResources(),this.events.emit(\"request-render\")}))},this._imageLoadTask.task.promise.then((()=>this.notifyChange(\"updating\")),(()=>this.notifyChange(\"updating\"))))}_updateResources(e,s){if(!this.enabled)return void this._disposeResources();if(null!=this._resources){if(this._passParameters.textures.size!==s){const t=this._createTextureResources(e,s);if(null==t)return void this._disposeResources();A(this._passParameters.textures),this._passParameters.textures=t}return}const t=this._createTextureResources(e,s);null!=t&&(this._resources={program:this._createProgram(e),vao:_(e,c,this.attributeLocations,0,1),pipelineState:P({blending:j(L.ONE,L.ONE_MINUS_SRC_ALPHA),depthTest:null,depthWrite:null,colorWrite:x})},this._passParameters.textures=t)}_disposeResources(){null!=this._resources&&(A(this._passParameters.textures),this._resources.program.dispose(),this._resources.vao.dispose(),this._resources=null)}_createTextureResources(e,s){if(null==this._imageSources)return null;this._imageSources.overlay.width=s,this._imageSources.overlay.height=s,this._imageSources.mask.width=s,this._imageSources.mask.height=s;const t=new b;t.internalFormat=S.RGBA,t.wrapMode=y.CLAMP_TO_EDGE,t.flipped=!0,t.preMultiplyAlpha=!u(this._imageSources.overlay.src)||!e.driverTest.svgPremultipliesAlpha.result;const r=new R(e,t,this._imageSources.overlay);t.pixelFormat=t.internalFormat=S.ALPHA,t.preMultiplyAlpha=!1;const i=new R(e,t,this._imageSources.mask);t.pixelFormat=t.internalFormat=S.RGBA,t.flipped=!1;return{input:new R(e,t),mask:i,overlay:r,size:s}}_createProgram(e){return new g(e,v(),this.attributeLocations)}};function A(e){e.mask.dispose(),e.overlay.dispose(),e.input.dispose()}e([m()],w.prototype,\"_imageSources\",void 0),e([m()],w.prototype,\"_imageLoadTask\",void 0),e([m({readOnly:!0})],w.prototype,\"updating\",null),w=e([h(\"esri.views.3d.webgl-engine.lib.MagnifierHelper\")],w);export{w as MagnifierHelper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{NestedMap as r}from\"../../../../core/NestedMap.js\";import{fromValues as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{BufferViewVec4u8 as t}from\"../../../../geometry/support/buffer/BufferView.js\";class i{constructor(){this.declaredClass=\"esri.views.3d.webgl-engine.lib.ObjectAndLayerIdRenderHelper\",this.colorZero=new t(new ArrayBuffer(4)),this._layerToOidToColor=new r,this._colorToUID=new Map,this._layerUidToGraphicsUidToObjectId=new r,this._layerUidToId=new Map,this._layerUidToPopupEnabled=new Map}setUidToObjectAndLayerId(e,r,o,t,i,d=null,a=null,s=null){e&&r&&o&&t&&(this._layerUidToId.set(t,o),this._layerUidToPopupEnabled.set(t,i),i&&this._layerUidToGraphicsUidToObjectId.set(t,r,{objectId:e,attributeNodeId:d,attributeIndex:a,subLayerId:s}))}getObjectAndLayerIdColor(e){const r=this.getObjectAndLayerIdColorArray(e);return o(r.get(0,1),r.get(0,2),r.get(0,3),255)}getObjectAndLayerIdColorArray(r){if(!r.layerUid||!r.graphicUid)return this.colorZero;const o=this._layerUidToPopupEnabled.get(r.layerUid);if(void 0===o)return e.getLogger(this).warn(\"popupEnabled is undefined for layerUid \"+r.layerUid),this.colorZero;if(!1===o)return this.colorZero;const i=this._layerUidToGraphicsUidToObjectId.get(r.layerUid,r.graphicUid)?.objectId;if(!i)return this.colorZero;let d=this._layerToOidToColor.get(r.layerUid,i);if(!d){for(;!d;){const e=Math.floor(16777214*Math.random())+1;this._colorToUID.has(e)||(d=e)}if(d>16777215)throw new Error(\"Object ID Overflow\");this._layerToOidToColor.set(r.layerUid,i,d),this._colorToUID.set(d,r)}const a=new ArrayBuffer(4);new DataView(a).setUint32(0,d,!1);return new t(a)}getColorToObjectAndLayerIdMapping(){const r=new Map;for(const[o,t]of this._colorToUID.entries()){const i=this._layerUidToGraphicsUidToObjectId.get(t.layerUid,t.graphicUid);i||e.getLogger(this).warn(\"getColorMapping: no entry found for graphicsId \"+t.graphicUid);const d=this._layerUidToId.get(t.layerUid);d||e.getLogger(this).warn(\"no layerId found for uid \"+t.layerUid),i&&d&&r.set(o,i.attributeNodeId?{type:\"object-and-layer-and-i3s-id\",oid:i.objectId,lid:d,attrId:i.attributeNodeId,attrIdx:i.attributeIndex,subLayerId:i.subLayerId}:{type:\"object-and-layer-id\",oid:i.objectId,lid:d})}return r}}export{i as ObjectAndLayerIdRenderHelper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass e{constructor(e,t){this.key=e,this.free=t,this.incarnation=0,this._refCount=1}retain(){++this._refCount}release(){return 0===this._refCount?(console.log(`Releasing already released FBO attachment in ${(new Error).stack}`),!0):(--this._refCount,0===this._refCount&&(this.free(),!0))}}var t;!function(e){e[e.FBO=0]=\"FBO\",e[e.DEPTH=1]=\"DEPTH\",e[e.COLOR=2]=\"COLOR\"}(t||(t={}));export{t as AttachmentType,e as ManagedFBObject};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ManagedFBObject as t}from\"./ManagedFBObject.js\";class e extends t{constructor(t,e,s){super(t,s),this.attachment=e,this.name=\"\"}dispose(){this.attachment.dispose()}get usedMemory(){return this.attachment.usedMemory}}export{e as ManagedFBOAttachment};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ManagedFBOAttachment as t}from\"./ManagedFBOAttachment.js\";import{AttachmentType as e}from\"./ManagedFBObject.js\";class s extends t{constructor(t,s,a){super(t,s,a),this.attachment=s,this.type=e.COLOR}}export{s as ManagedColorAttachment};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ManagedFBOAttachment as t}from\"./ManagedFBOAttachment.js\";import{AttachmentType as e}from\"./ManagedFBObject.js\";class r extends t{constructor(){super(...arguments),this.type=e.DEPTH}}export{r as ManagedDepthAttachment};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as t}from\"../../../core/maybe.js\";import{ManagedFBObject as e,AttachmentType as h}from\"./ManagedFBObject.js\";import{DepthStencilAttachment as s,ColorAttachment as o}from\"../../webgl/enums.js\";class r extends e{constructor(t,e,s,o,r,i){super(t,i),this.type=h.FBO,this._colors=new Map,this._name=\"composite-color\",this.acquireDepth=null,this.acquireColor=null,this._name=e,this.fbo=s,this.acquireDepth=o,this.acquireColor=r}dispose(){this.fbo.dispose()}get usedMemory(){return this.fbo.usedMemory}get name(){return this._name}setName(t){this._name=t}getTexture(t=o.COLOR_ATTACHMENT0){return t===s?this.fbo?.depthStencilTexture:this.fbo?.getColorTexture(t)}getAttachment(t=o.COLOR_ATTACHMENT0){return t===s?this._depth:this._colors.get(t)}attachDepth(t){return t?.retain(),this.detachDepth(),t&&this.fbo.attachDepthStencil(t.attachment),this._depth=t,this}detachDepth(){this.fbo.detachDepthStencilTexture(),this.fbo.detachDepthStencilBuffer(),this._depth=t(this._depth)}attachColor(t,e){return t.retain(),this.detachColor(e),this.fbo.attachColorTexture(t.attachment,e),this._colors.set(e,t),this}detachColor(t){this.fbo.detachColorTexture(t);const e=this._colors.get(t);this._colors.delete(t),e?.release()}detachAll(){this._colors.forEach(((t,e)=>this.detachColor(e))),this.detachDepth()}}export{r as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{MemCachePool as t}from\"../../../../core/MemCachePool.js\";import s from\"../../../../core/PooledArray.js\";class i{constructor(i,e){this._last=new s,this._incarnation=0,this._cache=new t(i,e)}destroy(){this._last?.forAll((t=>t.dispose())),this._last=null,this._cache.destroy()}set interactive(t){t&&!this._last?this._last=new s:t||(this._last?.forAll((t=>t.dispose())),this._last=null)}clean(){this._last?.filterInPlace((t=>!(t.incarnation<this._incarnation)||(this._cache.put(t.key,t),!1)))}frame(){++this._incarnation}pop(t){if(this._last){const s=this._last.find((s=>s.key===t));if(s)return this._last.removeUnordered(s),s}return this._cache.pop(t)}put(t){t.incarnation=this._incarnation,this._last?this._last.push(t):this._cache.put(t.key,t)}get usedMemory(){return this._last?.reduce(((t,s)=>t+s.usedMemory),0)??0}}export{i as FBOPool};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ColorFormat as e,DepthFormat as t}from\"../../webgl/formats.js\";import{ManagedColorAttachment as a}from\"../../webgl/ManagedColorAttachment.js\";import{ManagedDepthAttachment as r}from\"../../webgl/ManagedDepthAttachment.js\";import h from\"../../webgl/ManagedFBO.js\";import{AttachmentType as c}from\"../../webgl/ManagedFBObject.js\";import{FBOPool as i}from\"./FBOPool.js\";import{PixelFormat as o,SizedPixelFormat as s,TextureWrapMode as n,PixelType as _,TextureSamplingMode as d,RenderbufferFormat as l}from\"../../../webgl/enums.js\";import{FramebufferObject as m}from\"../../../webgl/FramebufferObject.js\";import{Renderbuffer as p}from\"../../../webgl/Renderbuffer.js\";import{RenderbufferDescriptor as u}from\"../../../webgl/RenderbufferDescriptor.js\";import{Texture as w}from\"../../../webgl/Texture.js\";import{TextureDescriptor as E}from\"../../../webgl/TextureDescriptor.js\";class C{constructor(e){this.rctx=e,this._acquired=new Set,this._cache=new i(e.newCache,\"FBOCache\"),this._depthCache=new i(e.newCache,\"DepthAttachmentCache\"),this._colorCache=new i(e.newCache,\"ColorAttachmentCache\")}destroy(){this._cache.destroy(),this._depthCache.destroy(),this._colorCache.destroy()}clean(){this._cache.clean(),this._colorCache.clean(),this._depthCache.clean()}frameStart(){this._cache.frame(),this._colorCache.frame(),this._depthCache.frame(),this.debugCallback&&this.debugCallback()}frameEnd(){const e=this.debugCallback;e&&this._acquired.forEach((t=>t.type===c.FBO&&e(t.name,t.fbo)))}get usedMemory(){return Array.from(this._acquired.values()).reduce(((e,t)=>e+(\"getTexture\"in t?t.getTexture()?.usedMemory??0:t.usedMemory)),this._cache.usedMemory+this._colorCache.usedMemory+this._depthCache.usedMemory)}set interactive(e){this._cache.interactive=this._colorCache.interactive=this._depthCache.interactive=e}acquire(a,r,c,i=e.RGBA){const o=T(i,a,r);let s=this._cache.pop(o);return s?(s.retain(),s.setName(c)):s=new h(o,c,new m(this.rctx,{...F[i],width:a,height:r}),(e=>{e??=t.DEPTH_STENCIL_TEXTURE;const a=this._acquireDepth(e,s.fbo.width,s.fbo.height,`${s.name} depth`);return s.attachDepth(a),a.release(),s}),((t,h)=>{h??=e.RGBA;const c=this._acquireColor(h,a,r,`${s.name} color ${t}`);return s.attachColor(c,t),c.release(),s}),(()=>{this.debugCallback&&this.debugCallback(s.name,s.fbo),this._acquired.delete(s),s.detachAll(),this._cache.put(s)})),this._trackHandle(s)}acquireDepth(e,t,a,r){return this._acquireDepth(e,t,a,r)}_acquireDepth(e,a,h,c){const i=T(e,a,h),o=this._depthCache.pop(i);if(o)return o.retain(),o.name=c,this._trackHandle(o);const s=e===t.DEPTH_STENCIL_TEXTURE?new r(i,new w(this.rctx,{...x[e],width:a,height:h}),(()=>{this._acquired.delete(s),this._depthCache.put(s)})):new r(i,new p(this.rctx,{...x[e],width:a,height:h}),(()=>{this._acquired.delete(s),this._depthCache.put(s)}));return s.name=c,this._trackHandle(s)}_acquireColor(e,t,r,h){const c=T(e,t,r),i=this._colorCache.pop(c);if(i)return i.retain(),i.name=h,this._trackHandle(i);const o=new a(c,new w(this.rctx,{...F[e],width:t,height:r}),(()=>{this._acquired.delete(o),this._colorCache.put(o)}));return o.name=h,this._trackHandle(o)}_trackHandle(e){return this._acquired.add(e),e}}function T(e,t,a){return`${e}x${t}x${a}`}const f=new E;f.pixelFormat=o.RED,f.internalFormat=s.R8,f.wrapMode=n.CLAMP_TO_EDGE;const g=new E;g.pixelFormat=o.RG,g.internalFormat=s.RG8,g.wrapMode=n.CLAMP_TO_EDGE;const A=new E;A.internalFormat=s.RGBA4,A.dataType=_.UNSIGNED_SHORT_4_4_4_4,A.wrapMode=n.CLAMP_TO_EDGE;const M=new E;M.wrapMode=n.CLAMP_TO_EDGE;const b=new E;b.wrapMode=n.CLAMP_TO_EDGE,b.samplingMode=d.LINEAR_MIPMAP_LINEAR,b.hasMipmap=!0,b.maxAnisotropy=8;const R=new E;R.pixelFormat=o.RED,R.dataType=_.HALF_FLOAT,R.internalFormat=s.R16F,R.samplingMode=d.NEAREST;const D=new E;D.dataType=_.HALF_FLOAT,D.internalFormat=s.RGBA16F,D.samplingMode=d.NEAREST;const F={[e.RED]:f,[e.RG]:g,[e.RGBA4]:A,[e.RGBA]:M,[e.RGBA_MIPMAP]:b,[e.R16F]:R,[e.RGBA16F]:D},G=new E;G.pixelFormat=o.DEPTH_STENCIL,G.dataType=_.UNSIGNED_INT_24_8,G.samplingMode=d.NEAREST,G.wrapMode=n.CLAMP_TO_EDGE;const x={[t.DEPTH_STENCIL_TEXTURE]:G,[t.DEPTH16_BUFFER]:new u(l.DEPTH_COMPONENT16,4)};export{C as FBOCache};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/PooledArray.js\";import{TransparencyPassType as t}from\"../../lib/TransparencyPassType.js\";import{DataType as r}from\"../../../../webgl/enums.js\";var i;!function(e){e[e.FrontToBack=0]=\"FrontToBack\",e[e.BackToFront=1]=\"BackToFront\"}(i||(i={}));class a{constructor(t,r,a=i.FrontToBack){this._rctx=t,this._techniqueRepository=r,this._sorting=a,this._draws=new e({initialSize:32,allocator:e=>e||{material:null,geometry:null,geometryRanges:null,bindDrawParams:null,depthSquaredHint:0,indexType:0}}),this._previouslyBoundDraw=new Map}submitDraw(e,t,r,i){const a=this._draws.pushNew();a.geometry=t,a.geometryRanges=r,a.material=e,a.depthSquaredHint=i,a.indexType=(t.indexed?t.vao.indexBuffer.indexType:null)??0}prepare(e,t){return this._draws.map((r=>r.material.prepareTechnique(this._techniqueRepository,e,t,r.geometry.parameters)))}dispatch(e,r,i){const a=this._rctx;this._previouslyBoundDraw.clear();let s=null;const o=this._draws.length;for(let p=0;p<o;p++){const o=i[p];o===s&&o.configuration.transparencyPassType===t.NONE||(a.bindTechnique(o,r,e),s=o);const l=this._draws.data[p],d=l.geometry;a.bindVAO(d.vao),this._previouslyBoundDraw.get(o)!==l.material&&(o.program.bindDraw(l.material,r,e),this._previouslyBoundDraw.set(o,l.material));const c=l.geometryRanges,u=c.length;if(0!==l.indexType){const e=n.get(l.indexType);for(let t=0;t<u;t+=2){const r=c[t],i=c[t+1];a.drawElements(d.primitiveType,i,l.indexType,r*e)}}else for(let e=0;e<u;e+=2){const t=c[e],r=c[e+1];a.drawArrays(d.primitiveType,t,r)}}}prepareSubmit(){this._draws.clear()}finishSubmit(){const e=this._sorting===i.FrontToBack?1:-1;this._draws.sort(((t,r)=>{const i=e*(t.depthSquaredHint-r.depthSquaredHint);return 0!==i?i:t.geometry.vao.byteSize-r.geometry.vao.byteSize}))}get count(){return this._draws.length}}const n=new Map;n.set(r.UNSIGNED_BYTE,1),n.set(r.UNSIGNED_SHORT,2),n.set(r.UNSIGNED_INT,4);export{a as RenderPass,i as RenderPassSorting};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/has.js\";import\"../../../../../core/RandomLCG.js\";import\"../../../../../core/Error.js\";import{subclass as e}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{fromMat4 as t,transpose as r,invert as a}from\"../../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as i}from\"../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{copy as o}from\"../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{s as h,c as n}from\"../../../../../chunks/vec32.js\";import{create as m}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{MaterialPassParameters as l,ShadowMapPassParameters as c,HighlightPassParameters as p,RenderPassIdentifier as u}from\"./AllRenderPasses.js\";import{RenderPass as d,RenderPassSorting as _}from\"./RenderPass.js\";import{ShaderOutput as g}from\"../shaderLibrary/ShaderOutput.js\";import{TwoVectorPosition as P}from\"../util/TwoVectorPosition.js\";import{SyncPreparesRenderPlugin as w}from\"../../effects/RenderPlugin.js\";import{union as f,DepthRange as R}from\"../../lib/depthRange.js\";import{RenderSlot as b}from\"../../lib/RenderSlot.js\";let j=class extends w{constructor(){super({}),this._passes=null,this.produces=new Map([[b.OPAQUE_MATERIAL,s=>this._produces(s)],[b.TRANSPARENT_MATERIAL,s=>!!(this._passes&&this._passes.materialTransparent.count>0)&&this._produces(s)],[b.INTEGRATED_MESH,s=>this._produces(s)]]),this._materialPassParameters=new l,this._shadowPassParameters=new c,this._highlightPassParameters=new p,this._systems=new Set}initializeRenderContext(s){this._context=s;const e=s.renderContext.rctx,t=s.techniqueRepository;this._passes={materialOpaque:new d(e,t),materialTransparent:new d(e,t,_.BackToFront),materialIntegratedMesh:new d(e,t),shadowMap:new d(e,t),highlight:new d(e,t),highlightIntegratedMesh:new d(e,t),highlightShadowMap:new d(e,t),defaultShadowMap:new d(e,t)}}get rctx(){return this._context.renderContext.rctx}uninitializeRenderContext(){}dispose(){this._context=null,this._systems.clear()}register(s){this._systems.add(s)}_produces(s){return 0!==this._systems.size&&null!==this._passes&&(s===g.Highlight?this._passes.highlight.count>0||this._passes.highlightIntegratedMesh.count>0:s!==g.ShadowHighlight||this._passes.highlight.count>0)}prepareRender(s){if(0!==this._systems.size&&null!==this._passes){for(const s of Object.values(this._passes))s.prepareSubmit();this._systems.forEach((e=>e.submit(this._passes,s.bindParameters)));for(const s of Object.values(this._passes))s.finishSubmit();this._context.techniqueRepository.frameUpdate()}}prepareTechniques(s){if(0===this._systems.size)return null;const e=s.output===g.Shadow||s.output===g.ShadowHighlight||s.output===g.ShadowExcludeHighlight?this._shadowPassParameters:s.output===g.Highlight?this._highlightPassParameters:this._materialPassParameters,t=s.bindParameters;return this._updateParameters(t.camera,e,t.slot===b.TRANSPARENT_MATERIAL),this._materialPassParameters.output=s.output,this._invoke(s,((e,t)=>e.prepare(t,s.bindParameters)))}renderNode(s,e){this._invoke(s,((t,r)=>t.dispatch(r,s.bindParameters,e)))}_invoke(s,e){if(null===this._passes)return null;switch(s.bindParameters.slot){case b.OPAQUE_MATERIAL:switch(s.output){case g.Color:case g.LinearDepth:case g.Normal:case g.ObjectAndLayerIdColor:return e(this._passes.materialOpaque,this._materialPassParameters);case g.Highlight:return e(this._passes.highlight,this._highlightPassParameters);case g.Shadow:return e(this._passes.shadowMap,this._shadowPassParameters);case g.ShadowHighlight:return e(this._passes.highlightShadowMap,this._shadowPassParameters);case g.ShadowExcludeHighlight:return e(this._passes.defaultShadowMap,this._shadowPassParameters)}break;case b.TRANSPARENT_MATERIAL:switch(s.output){case g.Color:case g.Alpha:case g.LinearDepth:case g.Normal:case g.ObjectAndLayerIdColor:return e(this._passes.materialTransparent,this._materialPassParameters)}break;case b.INTEGRATED_MESH:switch(s.output){case g.Color:case g.LinearDepth:case g.Normal:case g.ObjectAndLayerIdColor:return e(this._passes.materialIntegratedMesh,this._materialPassParameters);case g.Highlight:return e(this._passes.highlightIntegratedMesh,this._highlightPassParameters)}}return null}notifyDirty(){this._context.requestRender()}queryDepthRange(s){const e=new R;return this._systems.forEach((t=>f(e,t.queryShadowCasterDepthRange(s)))),e}_updateParameters(s,e,i){const m=s.viewInverseTransposeMatrix;h(A,m[3],m[7],m[11]),M.set(A),n(e.transformWorldFromViewTH,M.high),n(e.transformWorldFromViewTL,M.low),n(e.slicePlaneLocalOrigin,A),t(e.transformViewFromCameraRelativeRS,s.viewMatrix),o(e.transformProjFromView,s.projectionMatrix),e.identifier===u.Material&&(this._materialPassParameters.transparent=i,r(S,e.transformViewFromCameraRelativeRS),a(e.transformNormalViewFromGlobal,S))}};j=s([e(\"esri.views.3d.webgl-engine.core.renderPasses.RenderPassManager\")],j);const A=m(),S=i(),M=new P;export{j as RenderPassManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import o from\"../../../../core/PooledArray.js\";import{hasFeatureFlagWebGLDebug as s}from\"../../../webgl/checkWebGLError.js\";class r{constructor(e){this._context=e,this._nodes=new o}destroy(){this._nodes.forEach((e=>e.destroy())),this._nodes.clear()}add(e){this._nodes.push(e),s&&console.log(`Registered render nodes: ${this._nodes.map((({declaredClass:e})=>e)).join(\", \")}`)}remove(e){this._nodes.remove(e),s&&console.log(`Registered render nodes: ${this._nodes.map((({declaredClass:e})=>e)).join(\", \")}`)}produces(e){return this._nodes.some((({produces:o})=>o===e))}require(e,o){return this._nodes.reduce(((s,{consumes:r,produces:t})=>s+(r.required.includes(e)&&t===o?1:0)),0)}optional(e,o){return this._nodes.reduce(((s,{consumes:r,produces:t})=>s+(r.optional?.includes(e)&&t===o?1:0)),0)}updateAnimation(){return this._nodes.reduce(((e,o)=>o.updateAnimation()||e),!1)}render(o,s,r){const t=o.name,n=this._nodes.filter((({produces:e})=>e===t));return 0===n.length||(n.forEach((n=>{const c=[o];for(const e of n.consumes.required){if(e===t)continue;const o=s.get(e);if(!o)return void r(c);c.push(o)}if(n.consumes.optional)for(const e of n.consumes.optional){if(e===t)continue;const o=s.get(e);o&&c.push(o)}try{const e=n.doRender(c,this._context);e&&e!==o&&(o.release(),o=e,s.set(t,o))}catch(d){e.getLogger(n).errorOnce(d)}r(c)})),this._context.rctx.enforceState()),o}}export{r as RenderNodes};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/PooledArray.js\";import{isPromiseLike as r,createAbortError as t}from\"../../../../core/promiseUtils.js\";import{signal as n}from\"../../../../core/signal.js\";import{ShaderOutput as s}from\"../core/shaderLibrary/ShaderOutput.js\";import{isPrepareRenderPlugin as i,isPreparesRenderPlugin as o}from\"./RenderPlugin.js\";import{Decorations as l}from\"../lib/basicInterfaces.js\";import{union as d,DepthRange as u}from\"../lib/depthRange.js\";import{RenderOccludedFlag as a}from\"../lib/Material.js\";import{RenderSlot as h}from\"../lib/RenderSlot.js\";class c{constructor(r){this._context=r,this._renderPlugins=new e,this._slots=new Array,this._renderVersion=n(0);for(let e=0;e<h.MAX_SLOTS;++e)this._slots[e]=[]}destroy(){this._renderPlugins.forEach((e=>e.destroy())),this._renderPlugins.clear()}get plugins(){return this._renderPlugins}add(e,n){const s=()=>{if(n?.aborted)throw e.uninitializeRenderContext(),t();this._renderPlugins.push(e),e.produces.forEach(((r,t)=>{this._slots[t].push(e)})),this._context.requestRender(),this._renderVersion.value++},i=e.initializeRenderContext(this._context,n);if(r(i))return i.then(s);s()}remove(e){if(null!=this._renderPlugins.removeUnordered(e)){for(let r=0;r<this._slots.length;++r)this._slots[r]=this._slots[r].filter((r=>r!==e));e.uninitializeRenderContext(),this._context.requestRender(),this._renderVersion.value++}}prepareRender(){this._renderPlugins.forAll((e=>{e.prepareRender&&e.prepareRender(this._context.renderContext)}))}updateAnimation(e){let r=!1;return this._renderPlugins.forAll((t=>{t.updateAnimation&&(r=t.updateAnimation(e)||r)})),r}renderFeatureChanged(){this._renderPlugins.forAll((e=>{e.renderFeatureChanged&&e.renderFeatureChanged()}))}prepare(e){this._context.renderContext.bindParameters.slot=e,this._slots[e].forEach((r=>{const t=r.produces.get(e);t&&t(s.Color)&&(i(r)&&r.prepareTechnique(this._context.renderContext),o(r)&&r.prepareTechniques(this._context.renderContext))}))}_getRenderables(e){this._context.renderContext.bindParameters.slot=e;const r=this._context.renderContext.output??s.Color,t=new Map;return this._slots[e].forEach((n=>{const s=n.produces.get(e);if(s&&s(r)&&(!n.isDecoration||this._context.renderContext.bindParameters.decorations!==l.OFF))if(i(n)){const e=n.prepareTechnique(this._context.renderContext);null!=e&&t.set(n,e)}else if(o(n)){const e=n.prepareTechniques(this._context.renderContext);null!=e&&t.set(n,e)}else t.set(n,null)})),t}render(e,r=null,t=null){return this._getRenderables(e).forEach(((e,n)=>t=n.renderNode(this._context.renderContext,e,r,t))),t}queryDepthRange(e){const r=new u;return this._renderPlugins.forAll((t=>{const n=t.queryDepthRange?.(e);d(r,n)})),r}get updating(){return this._renderVersion.value>=0&&this._renderPlugins.some((e=>e.running))}produces(e,r=s.Color){return this._slots[e].some((t=>{const n=t.produces.get(e);return!!n&&n(r)}))}consumes(e){return this._renderPlugins.some((r=>r.consumes().required.includes(e)))}getMaterialRenderer(e){return this._renderPlugins.find((r=>r.materialReference===e))}removeEmptyMaterialRenderers(){this._renderPlugins.filterInPlace((e=>!e.materialReference||0!==e.numGeometries||(e.destroy(),!1)))}get hasDecorations(){return this._renderPlugins.some((e=>e.isDecoration))}get hasOccludees(){return this._renderPlugins.some((e=>e.hasOccludees))}get renderOccludedFlags(){return this._renderPlugins.reduce(((e,r)=>e|r.renderOccludedFlags),a.None)}get usedMemory(){return this._renderPlugins.reduce(((e,r)=>null!==r.materialReference?e:e+(r.usedMemory??0)),0)}get test(){return{plugins:this._renderPlugins}}}export{c as RenderPluginManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{property as e}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{SyncRenderPlugin as r,ConsumesCompositeColor as i}from\"../RenderPlugin.js\";import{RenderSlot as s}from\"../../lib/RenderSlot.js\";import{C as n}from\"../../../../../chunks/Compositing.glsl.js\";import{CompositingTechnique as c}from\"../../shaders/CompositingTechnique.js\";import{AlphaMode as a,CompositingTechniqueConfiguration as p}from\"../../shaders/CompositingTechniqueConfiguration.js\";let m=class extends r{constructor(t){super(t),this._context=null,this.opacity=1,this.alphaMode=a.None,this._blitConfiguration=new p,this._blitParameters=new n,this.produces=new Map([[s.BLIT,()=>null!=this._context]])}consumes(){return i}initializeRenderContext(t){this._context=t}uninitializeRenderContext(){this._context=null}destroy(){}renderNode(t,e,o,r){const i=o?.get(\"composite-color\")?.getTexture();if(!this._context||!i)return r;const s=this._context.techniqueRepository.acquire(c,this._blitConfiguration);return s?.compiled?(t.rctx.bindFramebuffer(r?.fbo),this._blitParameters.texture=i,this._blitParameters.opacity=this.opacity,t.rctx.bindTechnique(s,t.bindParameters,this._blitParameters),t.rctx.screen.draw(),s.release(),r):(this._context.requestRender(),r)}};t([e()],m.prototype,\"_context\",void 0),t([e()],m.prototype,\"opacity\",void 0),t([e()],m.prototype,\"alphaMode\",void 0),m=t([o(\"esri.views.3d.webgl-engine.effects.blit.Blit\")],m);export{m as Blit};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../../lib/DefaultVertexAttributeLocations.js\";import{Program as t}from\"../../lib/Program.js\";import{H as o}from\"../../../../../chunks/HighlightApply.glsl.js\";import{BlendFactor as l}from\"../../../../webgl/enums.js\";import{makePipelineState as s,separateBlendingParams as a,defaultColorWriteParams as m}from\"../../../../webgl/renderState.js\";class n extends r{initializeProgram(e){return new t(e.rctx,n.shader.get().build(),i)}initializePipeline(){return s({blending:a(l.SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),colorWrite:m})}}n.shader=new e(o,(()=>import(\"../../shaders/HighlightApply.glsl.js\")));export{n as HighlightApplyTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as r}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as e}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../../lib/DefaultVertexAttributeLocations.js\";import{Program as t}from\"../../lib/Program.js\";import{a as o}from\"../../../../../chunks/HighlightBlur.glsl.js\";import{makePipelineState as l,defaultColorWriteParams as s}from\"../../../../webgl/renderState.js\";class a extends e{initializeProgram(r){return new t(r.rctx,a.shader.get().build(),i)}initializePipeline(){return l({colorWrite:s})}}a.shader=new r(o,(()=>import(\"../../shaders/HighlightBlur.glsl.js\")));export{a as HighlightBlurTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../../lib/Program.js\";import{a as t}from\"../../../../../chunks/HighlightDownsample.glsl.js\";import{makePipelineState as s,defaultColorWriteParams as a}from\"../../../../webgl/renderState.js\";class l extends r{initializeProgram(e){return new o(e.rctx,l.shader.get().build(),i)}initializePipeline(){return s({colorWrite:a})}}l.shader=new e(t,(()=>import(\"../../shaders/HighlightDownsample.glsl.js\")));export{l as HighlightDownsampleTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{fromValues as o}from\"../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{fromValues as i}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{NoParameters as s}from\"../../core/shaderModules/interfaces.js\";class r extends s{constructor(){super(...arguments),this.color=i(1,0,1,1),this.haloColor=i(1,0,1,1),this.haloOpacity=1,this.haloOpacityOccluded=.25,this.fillOpacity=.2,this.fillOpacityOccluded=.05,this.coverageRounding=o(1,1)}}export{r as HighlightPassParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{unitRGBAFromColor as t}from\"../../../../../core/colorUtils.js\";import has from\"../../../../../core/has.js\";import{releaseMaybe as r,disposeMaybe as i}from\"../../../../../core/maybe.js\";import{watch as s,syncAndInitial as o}from\"../../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{set as l}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{ColorFormat as n}from\"../../../webgl/formats.js\";import{SyncRenderPlugin as c,ConsumesHighlight as u}from\"../RenderPlugin.js\";import{HighlightApplyTechnique as p}from\"./HighlightApplyTechnique.js\";import{HighlightBlurTechnique as m}from\"./HighlightBlurTechnique.js\";import{defaultColor as g,defaultHaloOpacity as _,defaultFillOpacity as d}from\"./HighlightDefaults.js\";import{HighlightDownsampleTechnique as b}from\"./HighlightDownsampleTechnique.js\";import{HighlightPassParameters as f}from\"./HighlightPassParameters.js\";import{Default3D as w}from\"../../lib/DefaultVertexAttributeLocations.js\";import{Pos2Tex as T}from\"../../lib/DefaultVertexBufferLayouts.js\";import{RenderSlot as x}from\"../../lib/RenderSlot.js\";import{VertexArrayObject as v}from\"../../lib/VertexArrayObject.js\";import{H as q}from\"../../../../../chunks/HighlightBlur.glsl.js\";import{H as P,g as y}from\"../../../../../chunks/HighlightDownsample.glsl.js\";import{BufferObject as C}from\"../../../../webgl/BufferObject.js\";import{ClearBufferBit as j,Usage as R}from\"../../../../webgl/enums.js\";import{vertexCount as O}from\"../../../../webgl/Util.js\";let D=class extends c{constructor(e){super(e),this._context=null,this._passParameters=new f,this._downsampleDrawParameters=new P,this._blurDrawParameters=new q,this._blurColorFormat=has(\"mac\")?n.RGBA:n.RGBA4,this._grid={coverage:null,vao:null,verticalCellCount:0,horizontalCellCount:0,viewportWidth:0,viewportHeight:0},this.produces=new Map([[x.HIGHLIGHT,()=>!0]])}consumes(){return u}initializeRenderContext(e){this._context=e,null==this._blurTechnique&&(this._blurTechnique=this._context.techniqueRepository.acquire(m)),null==this._downsampleTechnique&&(this._downsampleTechnique=this._context.techniqueRepository.acquire(b)),null==this._applyTechnique&&(this._applyTechnique=this._context.techniqueRepository.acquire(p)),this.addHandles([s((()=>this.view.highlightOptions.color),(e=>{this._passParameters.color=t(e??g),this.view.highlightOptions.haloColor||(this._passParameters.haloColor=this._passParameters.color),this._context.requestRender()}),o),s((()=>this.view.highlightOptions.haloColor),(e=>{this._passParameters.haloColor=null!=e?t(e):this._passParameters.color,this._context.requestRender()}),o),s((()=>this.view.highlightOptions.haloOpacity),(e=>{this._passParameters.haloOpacity=e??_,this._passParameters.haloOpacityOccluded=.25*this._passParameters.haloOpacity,this._context.requestRender()}),o),s((()=>this.view.highlightOptions.fillOpacity),(e=>{this._passParameters.fillOpacity=e??d,this._passParameters.fillOpacityOccluded=.25*this._passParameters.fillOpacity,this._context.requestRender()}),o)])}uninitializeRenderContext(){this._context=null}dispose(){this._blurTechnique=r(this._blurTechnique),this._downsampleTechnique=r(this._downsampleTechnique),this._applyTechnique=r(this._applyTechnique),this._grid.coverage=r(this._grid.coverage),this._grid.vao=i(this._grid.vao)}renderNode(e,t,r,i){const s=r?.get(\"highlights\")?.getTexture();if(!this._context||!s)return;if(!(this._blurTechnique.compiled&&this._downsampleTechnique.compiled&&this._applyTechnique.compiled))return void this._context.requestRender();const o=e.bindParameters.camera,a=o.fullWidth,h=o.fullHeight,n=o.pixelRatio,c=Math.ceil(a/n),u=Math.ceil(h/n),p=this._context.fbos,m=p.rctx;this._gridUpdateResources(s),this._gridComputeCoverage(s,e.bindParameters),this._passParameters.highlightTexture=s,this._passParameters.coverageTexture=this._grid.coverage?.getTexture();const{width:g,height:_}=s.descriptor;l(this._passParameters.coverageRounding,g/(Math.ceil(g/y)*y),_/(Math.ceil(_/y)*y));const d=this._grid.vao;m.bindVAO(d);const b=p.acquire(c,u,\"highlight blur\",this._blurColorFormat);m.unbindTexture(b.fbo.colorTexture),m.bindFramebuffer(b.fbo),m.setClearColor(0,0,0,0),m.clear(j.COLOR_BUFFER_BIT),m.setViewport(0,0,c,u),this._blurDrawParameters.blurInputTexture=s,l(this._blurDrawParameters.blurSize,1/c,0);const f=m.bindTechnique(this._blurTechnique,e.bindParameters,this._passParameters,this._blurDrawParameters);m.drawArrays(this._blurTechnique.primitiveType,0,O(d,\"geometry\"));const w=p.acquire(c,u,\"highlight blur\",this._blurColorFormat);m.unbindTexture(w.fbo.colorTexture),m.bindFramebuffer(w.fbo),m.setClearColor(0,0,0,0),m.clear(j.COLOR_BUFFER_BIT),this._blurDrawParameters.blurInputTexture=b.getTexture(),l(this._blurDrawParameters.blurSize,0,1/u),f.bindDraw(this._blurDrawParameters,e.bindParameters,this._passParameters),m.drawArrays(this._blurTechnique.primitiveType,0,O(d,\"geometry\")),m.bindFramebuffer(i?.fbo),m.setViewport4fv(o.fullViewport),this._passParameters.blurTexture=w.getTexture(),m.bindTechnique(this._applyTechnique,e.bindParameters,this._passParameters),m.drawArrays(this._applyTechnique.primitiveType,0,O(d,\"geometry\")),b.release(),w.release()}_gridUpdateResources(e){if(!this._context)return;const t=this._context.fbos.rctx,r=this._grid,i=Math.ceil(e.descriptor.height/y),s=Math.ceil(e.descriptor.width/y);if(r.vao&&r.verticalCellCount===i&&r.horizontalCellCount===s)return;r.verticalCellCount=i,r.horizontalCellCount=s;const o=i+1,a=s+1,h=1/i,l=1/s,n=new Float32Array(6*4*o*a);let c=0;for(let u=0;u<o;u++)for(let e=0;e<a;e++)n[c++]=(e-.5)*l*2-1,n[c++]=(u-.5)*h*2-1,n[c++]=e*l,n[c++]=u*h,n[c++]=(e+.5)*l*2-1,n[c++]=(u-.5)*h*2-1,n[c++]=e*l,n[c++]=u*h,n[c++]=(e-.5)*l*2-1,n[c++]=(u+.5)*h*2-1,n[c++]=e*l,n[c++]=u*h,n[c++]=(e-.5)*l*2-1,n[c++]=(u+.5)*h*2-1,n[c++]=e*l,n[c++]=u*h,n[c++]=(e+.5)*l*2-1,n[c++]=(u-.5)*h*2-1,n[c++]=e*l,n[c++]=u*h,n[c++]=(e+.5)*l*2-1,n[c++]=(u+.5)*h*2-1,n[c++]=e*l,n[c++]=u*h;r.vao?.dispose(),r.vao=new v(t,w,{geometry:T},{geometry:C.createVertex(t,R.STATIC_DRAW,n)})}_gridComputeCoverage(e,t){if(!this._context)return;const r=this._context.fbos.rctx,i=this._grid,s=e.descriptor,o=Math.ceil(s.width/y),a=Math.ceil(s.height/y);this._downsampleDrawParameters.input=e,i.coverage?.release(),i.coverage=this._context.fbos.acquire(o,a,\"highlight coverage\",n.RG),r.unbindTexture(i.coverage.fbo.colorTexture),r.bindFramebuffer(i.coverage.fbo),r.bindTechnique(this._downsampleTechnique,t,this._passParameters,this._downsampleDrawParameters),r.setViewport(0,0,o,a),r.screen.draw()}get test(){return{coverage:this._grid.coverage}}};e([a()],D.prototype,\"_context\",void 0),e([a()],D.prototype,\"view\",void 0),D=e([h(\"esri.views.3d.webgl-engine.effects.highlight.Highlight\")],D);export{D as Highlight};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderTechniqueConfiguration as o,parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";class s extends o{constructor(){super(...arguments),this.receiveShadows=!0}}e([r()],s.prototype,\"receiveShadows\",void 0);export{s as ShadowConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{fromValues as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ReadShadowMapPassParameters as e}from\"../../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{ReloadableShaderModule as i}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as o}from\"../../lib/DefaultVertexAttributeLocations.js\";import{Program as s}from\"../../lib/Program.js\";import{ShadowConfiguration as a}from\"../../shaders/ShadowConfiguration.js\";import{S as h}from\"../../../../../chunks/ShadowHighlight.glsl.js\";import{BlendFactor as l,PrimitiveType as d}from\"../../../../webgl/enums.js\";import{makePipelineState as n,separateBlendingParams as m,defaultColorWriteParams as c}from\"../../../../webgl/renderState.js\";class p extends e{constructor(){super(...arguments),this.shadowColor=r(1,0,1,1),this.shadowOpacity=.2,this.occludedShadowOpacity=.1,this.opacityElevation=1,this.dayNightTerminator=1}}class u extends t{constructor(r){super(r,new a,(()=>this.destroy()))}initializeProgram(r){return new s(r.rctx,u.shader.get().build(this.configuration),o)}initializePipeline(){return n({blending:m(l.SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),colorWrite:c,depthTest:null,depthWrite:null})}get primitiveType(){return d.TRIANGLE_STRIP}}u.shader=new i(h,(()=>import(\"../../shaders/ShadowHighlight.glsl.js\")));export{p as ShadowHighlightPassParameters,u as ShadowHighlightTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{unitRGBAFromColor as e}from\"../../../../../core/colorUtils.js\";import{smoothstep as i,clamp as s}from\"../../../../../core/mathUtils.js\";import{watch as a,syncAndInitial as r}from\"../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{n as c,s as n,k as p}from\"../../../../../chunks/vec32.js\";import{create as d}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ViewingMode as m}from\"../../../../ViewingMode.js\";import{SyncRenderPlugin as l,ConsumesHighlight as _}from\"../RenderPlugin.js\";import{defaultShadowOpacity as u,defaultShadowDifference as g,defaultShadowColor as f}from\"./HighlightDefaults.js\";import{ShadowHighlightPassParameters as w,ShadowHighlightTechnique as y}from\"./ShadowHighlightTechnique.js\";import{RenderSlot as x}from\"../../lib/RenderSlot.js\";const O=.001953125,b=4e4,v=5e4;let P=class extends l{constructor(t){super(t),this._maxOpacity=1,this._passParameters=new w,this._shadowDifference=.2,this._context=null,this.produces=new Map([[x.SHADOW_HIGHLIGHT,()=>this._isVisible]])}consumes(){return _}initializeRenderContext(t){this._context=t,this.addHandles([a((()=>this.view.highlightOptions.shadowOpacity),(t=>{this._passParameters.shadowOpacity=t??u,this._updateOccludedShadowOpacity(),this._updateMaxOpacity()}),r),a((()=>this.view.highlightOptions.shadowDifference),(t=>{this._shadowDifference=t??g,this._updateOccludedShadowOpacity(),this._updateMaxOpacity()}),r),a((()=>this.view.highlightOptions.shadowColor),(t=>{this._passParameters.shadowColor=e(t??f),this._updateMaxOpacity()}),r)])}_updateOccludedShadowOpacity(){this._passParameters.occludedShadowOpacity=this._passParameters.shadowOpacity*(1-this._shadowDifference)}_updateMaxOpacity(){const t=Math.max(this._passParameters.shadowOpacity,this._passParameters.occludedShadowOpacity);this._maxOpacity=t*this._passParameters.shadowColor[3]}uninitializeRenderContext(){this._context=null}enable(){this._context&&null==this._technique&&(this._technique=this._context.techniqueRepository.acquire(y))}renderNode(t,e,i,s){const a=i?.get(\"highlights\")?.getTexture();if(!this._context||!a||!this._isVisible)return;if(!this._technique?.compiled)return void this._context.requestRender();const r=t.bindParameters;if(!r.shadowMap.enabled||!r.linearDepth)return;this._passParameters.highlight=a,this._passParameters.origin=r.camera.center;const o=t.rctx;o.bindFramebuffer(s?.fbo),o.bindTechnique(this._technique,r,this._passParameters),o.screen.draw()}updateParameters(t,e){this._passParameters.opacityElevation=1-i(b,v,t.relativeElevation);const a=this.viewingMode===m.Global?c(j,t.center):n(j,0,0,1),r=p(a,e);this._passParameters.dayNightTerminator=i(0,1,s(30*r,0,1)),this._isVisible&&this.enable()}get _isVisible(){const{opacityElevation:t,dayNightTerminator:e}=this._passParameters;return this._maxOpacity*t*e>=O}};t([o()],P.prototype,\"_context\",void 0),t([o()],P.prototype,\"view\",void 0),t([o()],P.prototype,\"viewingMode\",void 0),P=t([h(\"esri.views.3d.webgl-engine.effects.highlight.ShadowHighlight\")],P);const j=d();export{P as ShadowHighlight};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../../lib/DefaultVertexAttributeLocations.js\";import{Program as t}from\"../../lib/Program.js\";import{B as o}from\"../../../../../chunks/BlendWeights.glsl.js\";import{makePipelineState as s,defaultColorWriteParams as l}from\"../../../../webgl/renderState.js\";class a extends r{initializeProgram(e){return new t(e.rctx,a.shader.get().build(),i)}initializePipeline(){return s({colorWrite:l})}}a.shader=new e(o,(()=>import(\"../../shaders/BlendWeights.glsl.js\")));export{a as SMAABlendWeightsTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as r}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as e}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../../lib/Program.js\";import{B as t}from\"../../../../../chunks/Blur.glsl.js\";import{makePipelineState as s,defaultColorWriteParams as l}from\"../../../../webgl/renderState.js\";class a extends e{initializeProgram(r){return new o(r.rctx,a.shader.get().build(),i)}initializePipeline(){return s({colorWrite:l})}}a.shader=new r(t,(()=>import(\"../../shaders/Blur.glsl.js\")));export{a as SMAABlurTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as t}from\"../../lib/DefaultVertexAttributeLocations.js\";import{Program as i}from\"../../lib/Program.js\";import{E as o}from\"../../../../../chunks/EdgeDetect.glsl.js\";import{makePipelineState as s,defaultColorWriteParams as a}from\"../../../../webgl/renderState.js\";class l extends r{initializeProgram(e){return new i(e.rctx,l.shader.get().build(),t)}initializePipeline(){return s({colorWrite:a})}}l.shader=new e(o,(()=>import(\"../../shaders/EdgeDetect.glsl.js\")));export{l as SMAAEdgeDetectTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{NoParameters as e}from\"../../core/shaderModules/interfaces.js\";class s extends e{}export{s as SMAAPassParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{disposeMaybe as t,abortMaybe as r}from\"../../../../../core/maybe.js\";import{throwIfAborted as s,createAbortError as i}from\"../../../../../core/promiseUtils.js\";import{watch as o,syncAndInitial as a}from\"../../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{requestImage as u}from\"../../../../../support/requestImageUtils.js\";import{ColorFormat as h}from\"../../../webgl/formats.js\";import{SyncRenderPlugin as c,ConsumesCompositeColor as d}from\"../RenderPlugin.js\";import{SMAABlendWeightsTechnique as m}from\"./SMAABlendWeightsTechnique.js\";import{SMAABlurTechnique as _}from\"./SMAABlurTechnique.js\";import{SMAAEdgeDetectTechnique as p}from\"./SMAAEdgeDetectTechnique.js\";import{SMAAPassParameters as b}from\"./SMAAPassParameters.js\";import{RenderFeature as x}from\"../../lib/RenderFeature.js\";import{RenderSlot as T}from\"../../lib/RenderSlot.js\";import{PixelFormat as f,TextureSamplingMode as g,ClearBufferBit as q,TextureWrapMode as w}from\"../../../../webgl/enums.js\";import{Texture as C}from\"../../../../webgl/Texture.js\";import{TextureDescriptor as j}from\"../../../../webgl/TextureDescriptor.js\";let A=class extends c{constructor(e){super(e),this._context=null,this._areaTexture=null,this._searchTexture=null,this._isEnabled=!1,this._smaaParameters=new b,this.produces=new Map([[T.ANTIALIASING,()=>this._isEnabled&&null!=this._context]])}consumes(){return d}get updating(){return null!=this._abortController}initializeRenderContext(e){this._context=e,this.addHandles([o((()=>this.view.qualitySettings.antialiasingEnabled),(()=>this.renderFeatureChanged()),a)])}renderFeatureChanged(){this.view.qualitySettings.antialiasingEnabled||this._context?.isFeatureEnabled(x.Antialiasing)?this.enable():this.disable()}uninitializeRenderContext(){this.disable(),this._context=null}async enable(){if(this._isEnabled||!this._context||this._abortController)return;if(this._edgeTechnique??=this._context.techniqueRepository.acquire(p),this._blendTechnique??=this._context.techniqueRepository.acquire(m),this._blurTechnique??=this._context.techniqueRepository.acquire(_),this._areaTexture&&this._searchTexture)return void(this._isEnabled=!0);this._abortController=new AbortController;const e=this._abortController.signal;try{const t=await import(\"./SMAAData.js\");await this._loadTextures(this._context,t,e),this._context?.requestRender()}catch{}this._abortController=null}async _loadTextures(e,t,r){if(s(r),!e)throw i();const[o,a]=await Promise.allSettled([u(t.areaTexture,{signal:r}),u(t.searchTexure,{signal:r})]);s(r),\"fulfilled\"===o.status&&\"fulfilled\"===a.status&&(this._areaTexture=R(e.fbos.rctx,g.LINEAR,f.RGB,o.value),this._searchTexture=R(e.fbos.rctx,g.NEAREST,f.LUMINANCE,a.value),this._isEnabled=!0)}_disposeTextures(){this._areaTexture=t(this._areaTexture),this._searchTexture=t(this._searchTexture)}disable(){this._abortController=r(this._abortController),this._isEnabled=!1}destroy(){this.disable(),this._disposeTextures()}renderNode(e,t,r,s){const i=r?.get(\"composite-color\")?.getTexture();if(!(this._isEnabled&&this._context&&r&&i))return s;if(!(this._edgeTechnique?.compiled&&this._blendTechnique?.compiled&&this._blurTechnique?.compiled))return this._context.requestRender(),s;const o=i.descriptor.width,a=i.descriptor.height,n=this._context.fbos,l=e.rctx;l.setViewport(0,0,o,a);const u=n.acquire(o,a,\"smaa edges\",h.RG);l.unbindTexture(u.fbo.colorTexture),l.bindFramebuffer(u.fbo),l.setClearColor(0,0,0,1),l.clear(q.COLOR_BUFFER_BIT),this._smaaParameters.color=i,l.bindTechnique(this._edgeTechnique,null,this._smaaParameters),l.screen.draw();const c=n.acquire(o,a,\"smaa blend\");return l.unbindTexture(c.fbo.colorTexture),l.bindFramebuffer(c.fbo),l.setClearColor(0,0,1,1),l.clear(q.COLOR_BUFFER_BIT),this._smaaParameters.inputTexture=u.getTexture(),this._smaaParameters.areaTexture=this._areaTexture,this._smaaParameters.searchTexture=this._searchTexture,l.bindTechnique(this._blendTechnique,null,this._smaaParameters),l.screen.draw(),l.bindFramebuffer(s?.fbo),u.release(),l.setClearColor(0,1,0,1),l.clear(q.COLOR_BUFFER_BIT),this._smaaParameters.inputTexture=c.getTexture(),l.bindTechnique(this._blurTechnique,null,this._smaaParameters),l.screen.draw(),c.release(),s}};function R(e,t,r,s){const i=new j;return i.pixelFormat=r,i.wrapMode=w.CLAMP_TO_EDGE,i.width=s.width,i.height=s.height,i.samplingMode=t,new C(e,i,s)}e([n()],A.prototype,\"view\",void 0),e([n()],A.prototype,\"_context\",void 0),e([n()],A.prototype,\"_abortController\",void 0),e([n({readOnly:!0})],A.prototype,\"updating\",null),A=e([l(\"esri.views.3d.webgl-engine.effects.smaa.SMAA\")],A);export{A as SMAA};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clamp as t}from\"../../../../core/mathUtils.js\";import{Milliseconds as i}from\"../../../../core/time.js\";class e{constructor(){this._step=m,this._dilation=1,this._firstIdleTime=i(0)}frame(e,_){_?0===this._firstIdleTime&&(this._firstIdleTime=i(performance.now())):this._firstIdleTime=i(0);if(!has(\"disable-feature:high-quality-idle\")){const t=_?performance.now()-this._firstIdleTime:0;if(t>=r+o)return this._step=i(1/0),void(this._dilation=1);this._dilation=t>=r?h:1}else this._dilation=1;const n=t(e/s,m,a);this._step===1/0?this._step=i(n):this._step=i(this._step*l+n*(1-l))}get value(){return this._step}get timeDilation(){return this._dilation}clear(){this._step=this._firstIdleTime=i(0)}}const s=.5,r=i(12e4),o=i(1e4),h=10,l=.9,_=30,m=i(1e3/1),a=i(1e3/_);export{e as AnimationTimeStep};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{releaseMaybe as t}from\"../../../../core/maybe.js\";import{c as e}from\"../../../../chunks/vec42.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ColorFormat as i,DepthFormat as s}from\"../../webgl/formats.js\";import{RendererTarget as h}from\"./rendererUtils.js\";import{TransparencyPassType as o}from\"./TransparencyPassType.js\";import{ClearBufferBit as c}from\"../../../webgl/enums.js\";import{ensureAttachmentMaxSize as a}from\"../../../webgl/FramebufferObject.js\";class l{constructor(t,e){this._fbos=t,this.compositingHelper=e,this._width=4,this._height=4,this._clearColor=r()}dispose(){this._color=t(this._color),this.releaseBuffers()}get framebuffer(){return this.color.attachDepth(this.depth),this.color.fbo}get colorTexture(){return this.color.getTexture()}get depthTexture(){return this.depth.attachment}initializeFrame(t,r,i){this._fbos.interactive=i===h.Default;const s=this._fbos.rctx;this._width=t.fullWidth,this._height=t.fullHeight,a(this,s.parameters.maxTextureSize);const o=this._color;return this._color=null,this.releaseBuffers(),e(this._clearColor,r),o}releaseBuffers(){this._color?.detachDepth(),this._depth=t(this._depth)}renderHUDVisibility(t,e,r){return t?.fbo.width===this._width&&t?.fbo.height===this._height||(t?.release(),t=this._fbos.acquire(this._width,this._height,\"hud visibility\",i.RGBA4)),t.attachDepth(r||this.depth),this._fbos.rctx.bindFramebuffer(t.fbo),this._fbos.rctx.clearFramebuffer(f),e(),t.detachDepth(),t}compositeToHUDVisibility(t,e){this._fbos.rctx.bindFramebuffer(t.hudVisibility?.fbo),this.compositingHelper.compositeHUD(t,e)}renderOITPass(t,e,r){let h,c;const{_width:a,_height:l}=this;switch(e){case o.Color:h=this._fbos.acquire(a,l,r?\"oit hud color\":\"oit color\",i.RGBA16F),c=[0,0,0,0];break;case o.Alpha:h=this._fbos.acquire(a,l,r?\"oit hud alpha\":\"oit alpha\",i.R16F),c=[1,1,1,1];break;case o.FrontFace:h=this._fbos.acquire(a,l,r?\"oit hud front\":\"oit front\"),c=[0,0,0,0]}return r?h.acquireDepth(s.DEPTH16_BUFFER):h.attachDepth(this.depth),this._fbos.rctx.bindFramebuffer(h.fbo),this._fbos.rctx.clearFramebuffer(c,r,r),t(),h.detachDepth(),h}compositeToFramebuffer(t,e,r,i){this.bindFbo(),this.compositingHelper.composite(t,e,r,i)}compositeTransparentOntoOpaque(t,e,r,i,s){s?(this._fbos.rctx.bindFramebuffer(s.fbo),this._fbos.rctx.setClearColor(0,0,0,1e-13),this._fbos.rctx.clear(c.COLOR_BUFFER_BIT)):this.bindFbo(),this.compositingHelper.compositeOIT(t,e.getTexture(),r.getTexture(),i.getTexture())}renderDepthDetached(t){this._bindTarget(this.color),t(),this._bindTarget(this.color,this.depth)}renderToCachedFBO(e,r,h,o,c=i.RGBA,a=s.DEPTH16_BUFFER,l=this._width,f=this._height,_=null){return e?.fbo.width===l&&e?.fbo.height===f||(e=t(e)),e=e??this._fbos.acquire(l,f,r,c),_?.forEach((t=>e.acquireColor(t.attachment,t.format))),null!=a&&e.acquireDepth(a),this._fbos.rctx.bindFramebuffer(e.fbo),this._fbos.rctx.clearFramebuffer(o,!0,!0),h(),e}renderToTargets(t,e,r,i,s=!1,h=!1){this._bindTarget(e,r),this._fbos.rctx.clearFramebuffer(i,s,h),t(),e.detachDepth()}bindFbo(){const t=null==this._color;if(this._bindTarget(this.color,this.depth),t){const t=this._fbos.rctx;t.setClearStencil(0),t.setClearColor(this._clearColor[0],this._clearColor[1],this._clearColor[2],this._clearColor[3]),t.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT|c.STENCIL_BUFFER_BIT)}}_bindTarget(t,e){t.attachDepth(e),this._fbos.rctx.bindFramebuffer(t.fbo)}get width(){return this._width}get height(){return this._height}get color(){return this._ensureColor()}_ensureColor(){return this._color||(this._color=this._fbos.acquire(this._width,this._height,\"composite-color\")),this._color}updateColor(t,e){const r=this._ensureColor();r.attachDepth(this.depth),r.setName(e),this._color=t(r)}get depth(){return this._depth||(this._depth=this._fbos.acquireDepth(s.DEPTH_STENCIL_TEXTURE,this._width,this._height,\"depth\")),this._depth}}const f=[0,1,0,1];export{l as OffscreenRendering};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{blendingDefault as t}from\"../lib/OrderIndependentTransparency.js\";import{Program as o}from\"../lib/Program.js\";import{a as s}from\"../../../../chunks/ShadowCastVisualize.glsl.js\";import{PrimitiveType as n}from\"../../../webgl/enums.js\";import{makePipelineState as a,defaultColorWriteParams as l}from\"../../../webgl/renderState.js\";class m extends r{constructor(e,r){super(e,r,(()=>this.destroy()))}initializeProgram(e){return new o(e.rctx,m.shader.get().build(this.configuration),i)}initializePipeline(){return a({blending:t,colorWrite:l,depthTest:null,depthWrite:null})}get primitiveType(){return n.TRIANGLE_STRIP}}m.shader=new e(s,(()=>import(\"./ShadowCastVisualize.glsl.js\")));export{m as ShadowCastVisualizeTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{disposeMaybe as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as r,c as o}from\"../../../../chunks/vec42.js\";import{createQuadVAO as n}from\"./glUtil3D.js\";import{S as h}from\"../../../../chunks/ShadowCastVisualize.glsl.js\";import{ShadowCastVisualizeTechnique as _}from\"../shaders/ShadowCastVisualizeTechnique.js\";import{ShadowCastVisualizeTechniqueConfiguration as d}from\"../shaders/ShadowCastVisualizeTechniqueConfiguration.js\";import{vertexCount as l}from\"../../../webgl/Util.js\";const u=4e4,c=5e4,p=1/512;let m=class extends t{constructor(e,t,s,i){super({}),this._techniqueRepository=e,this._rctx=t,this._data=s,this._requestRender=i,this._passParameters=new h(this._data),this._techniqueConfig=new d,this._enabled=!1,this._vao=n(t)}normalizeCtorArgs(){return{}}dispose(){this._stop(),this._vao=s(this._vao),this._techniqueRepository.release(this._technique),this._technique=null}get _visualizeShadowCastTechnique(){return this._technique=this._techniqueRepository.releaseAndAcquire(_,this._techniqueConfig,this._technique),this._technique}render(e){if(!this._showVisualization)return;this._passParameters.sampleScale=1/this._data.computedSamples;const t=this._visualizeShadowCastTechnique;this._rctx.bindVAO(this._vao),this._rctx.bindTechnique(t,e,this._passParameters),this._rctx.drawArrays(t.primitiveType,0,l(this._vao,\"geometry\"))}setOptions(e){void 0!==e.enabled&&this._setEnabled(e.enabled),void 0!==e.color&&this._setColor(e.color),void 0!==e.threshold&&(this._threshold=e.threshold),void 0!==e.visualization&&(this._visualization=e.visualization),void 0!==e.bandSize&&(this._bandSize=e.bandSize),void 0!==e.bandsEnabled&&(this._bandsEnabled=e.bandsEnabled)}get opacityFromElevation(){return this._passParameters.opacityFromElevation}set opacityFromElevation(e){this._passParameters.opacityFromElevation!==e&&(this._passParameters.opacityFromElevation=e,this.notifyChange(\"opacityFromElevation\"))}get _showVisualization(){return this._enabled&&this._data.computedSamples>0&&this.opacityFromElevation>p}get _threshold(){return this._passParameters.threshold}set _threshold(e){this._threshold!==e&&(this._passParameters.threshold=e,this._requestRenderIfRunning())}get _visualization(){return this._techniqueConfig.visualization}set _visualization(e){e!==this._visualization&&(this._techniqueConfig.visualization=e,this._techniqueRepository.release(this._technique),this._technique=null,this._requestRenderIfRunning())}get _bandSize(){return this._passParameters.bandSize}set _bandSize(e){e!==this._bandSize&&(this._passParameters.bandSize=e,this._requestRenderIfRunning())}get _bandsEnabled(){return this._techniqueConfig.bandsEnabled}set _bandsEnabled(e){e!==this._bandsEnabled&&(this._techniqueConfig.bandsEnabled=e,this._techniqueRepository.release(this._technique),this._technique=null,this._requestRenderIfRunning())}_setColor(e){const t=this._passParameters.color;r(e,t)||(o(this._passParameters.color,e),this._requestRenderIfRunning())}_setEnabled(e){e!==this._enabled&&(e?this._start():this._stop())}_requestRenderIfRunning(){this._enabled&&this._requestRender()}_start(){this._enabled=!0,this._requestRender()}_stop(){this._enabled=!1,this._requestRender()}};e([i()],m.prototype,\"opacityFromElevation\",null),m=e([a(\"esri.views.3d.webgl-engine.lib.ShadowCastRenderer\")],m);export{m as ShadowCastRenderer,c as shadowCastDisableElevationMax,u as shadowCastDisableElevationMin,p as shadowCastDisabledElevationThreshold};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as t}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as i}from\"../lib/Program.js\";import{a as o}from\"../../../../chunks/ShadowCastAccumulate.glsl.js\";import{ShadowConfiguration as s}from\"./ShadowConfiguration.js\";import{BlendFactor as a,PrimitiveType as n}from\"../../../webgl/enums.js\";import{makePipelineState as l,separateBlendingParams as m,defaultColorWriteParams as u}from\"../../../webgl/renderState.js\";class d extends r{constructor(e){super(e,new s,(()=>this.destroy()))}initializeProgram(e){return new i(e.rctx,d.shader.get().build(this.configuration),t)}initializePipeline(){return l({blending:m(a.ONE,a.ONE,a.ONE,a.ONE),colorWrite:u,depthTest:null,depthWrite:null})}get primitiveType(){return n.TRIANGLE_STRIP}}d.shader=new e(o,(()=>import(\"./ShadowCastAccumulate.glsl.js\")));export{d as ShadowCastAccumulateTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{equals as i}from\"../../../../core/arrayUtils.js\";import{smoothstep as r}from\"../../../../core/mathUtils.js\";import{disposeMaybe as s,releaseMaybe as o}from\"../../../../core/maybe.js\";import{watch as a,syncAndInitial as n,sync as h}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{subclass as _}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{G as u,c as l}from\"../../../../chunks/vec32.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ReadShadowMapPassParameters as d}from\"../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{BindParameters as p}from\"./BindParameters.js\";import{zero as g}from\"./depthRange.js\";import{createQuadVAO as f}from\"./glUtil3D.js\";import{ShadowCastRenderer as b,shadowCastDisabledElevationThreshold as v,shadowCastDisableElevationMax as w,shadowCastDisableElevationMin as A}from\"./ShadowCastRenderer.js\";import{ShadowMap as R}from\"./ShadowMap.js\";import{S as y}from\"../../../../chunks/ShadowCastAccumulate.glsl.js\";import{ShadowCastAccumulateTechnique as C}from\"../shaders/ShadowCastAccumulateTechnique.js\";import{TaskPriority as D}from\"../../../support/Scheduler.js\";import{PixelFormat as F,PixelType as j,SizedPixelFormat as S,TextureWrapMode as x,ClearBufferBit as P}from\"../../../webgl/enums.js\";import{FramebufferObject as T}from\"../../../webgl/FramebufferObject.js\";import{TextureDescriptor as q}from\"../../../webgl/TextureDescriptor.js\";import{vertexCount as E}from\"../../../webgl/Util.js\";let M=class extends t{constructor(e,t,i,r,s,o){super({}),this.fbos=e,this._stage=i,this._prepareForShadowMapPass=r,this._renderToShadowMap=s,this._requestRender=o,this._progress=0,this._sampleCount=0,this._passParameters=new d,this._cachedLightDirections=[],this._depthRange=g,this._previewing=!1,this._cameraForcedForScreenshot=!1,this._shadowAccumulatorKey=\"shadowAccumulator\",this._rctx=e.rctx,this._bindParameters=new p(new R(e,i.viewingMode),null),this._bindParameters.shadowMap.enabled=!0,this._vao=f(this._rctx),this._accumulationRenderer=new b(t,this._rctx,this,o);const c=this._stage.view.resourceController.scheduler;this.addHandles([c.registerTask(D.SHADOW_ACCUMULATOR,this),a((()=>i.renderView),(e=>{this.removeHandles(L),null!=e&&this.addHandles(e.events.on(\"force-camera-for-screenshot\",(()=>this._cameraForcedForScreenshot=!0)),L)}),n),a((()=>this._previewing),(()=>this._requestRenderIfEnabled()),h)],this._shadowAccumulatorKey)}normalizeCtorArgs(){return{}}dispose(){this._disable(),this.removeHandles(this._shadowAccumulatorKey),this._accumulationRenderer=s(this._accumulationRenderer),this._bindParameters.shadowMap.dispose(),this._fbo=s(this._fbo),this._vao=s(this._vao),this._accumulationTechniqueCached=o(this._accumulationTechniqueCached),this._cachedLightDirections.length=0,this._sampleCount=0}get computedSamples(){return this._progress}get shadowCastTexture(){return this._fbo?.colorTexture}get isAccumulating(){return this._isPreviewing||this._isRefining}get _accumulationTechnique(){if(null==this._accumulationTechniqueCached){const e={rctx:this._rctx,viewingMode:this._stage.viewingMode};this._accumulationTechniqueCached=new C(e)}return this._accumulationTechniqueCached}get _isRefining(){return this._isActive&&!this._isDoneAccumulating&&!this._previewing}get _isPreviewing(){return this._isActive&&this._previewing}get _isActive(){return null!=this._fbo&&this._sampleCount>0}get canAccumulate(){return null!==this._bindParameters.linearDepth?.getTexture()&&this._depthRange!==g&&this._opacityFromElevation>v}get _isDoneAccumulating(){return this._progress>=this._sampleCount}get _lightDirections(){return this._cachedLightDirections}set _lightDirections(e){const t=this._cachedLightDirections;if(i(t,e,u))return;const r=Math.min(y,e.length);t.length=r,this._sampleCount=r;for(let i=0;i<r;++i)t[i]=l(t[i]??m(),e[i]);this._invalidate()}get _opacityFromElevation(){return this._accumulationRenderer.opacityFromElevation}set _opacityFromElevation(e){this._accumulationRenderer.opacityFromElevation=e}get running(){return this._isRefining&&this.canAccumulate&&this._progress>0}runTask(e){for(this._prepareForShadowMapPass(this._bindParameters);!e.done&&!this._isDoneAccumulating;)this._accumulateShadow(),e.madeProgress();this._requestRender()}renderAccumulation(e,t,i,r){if(this._depthRange=t,this._updateCamera(i),this._bindParameters.contentCamera=r,this._bindParameters.linearDepth=e,this._passParameters.origin=this._bindParameters.camera.center,this.notifyChange(\"canAccumulate\"),!this.isAccumulating||!this.canAccumulate)return;(this._previewing||0===this._progress||this._cameraForcedForScreenshot)&&this._clear();const s=this._cameraForcedForScreenshot?this._sampleCount:Math.min(U,this._sampleCount-this._progress);for(let o=0;o<s;++o)this._accumulateShadow();this._cameraForcedForScreenshot=!1,this._requestRender()}render(e){this._accumulationRenderer.render(e)}setOptions(e){if(void 0!==e.enabled){const t=null!=this._fbo;e.enabled!==t&&(e.enabled?this._enable():this._disable())}void 0!==e.previewing&&(this._previewing=e.previewing),void 0!==e.lightDirections&&(this._lightDirections=e.lightDirections),this._accumulationRenderer.setOptions(e)}readAccumulatedShadow(e,t){return!this._isActive||!this._fbo||this._progress<1||e<0||e>=this._fbo.width||t<0||t>=this._fbo.height?0:(this._fbo.readPixels(e,t,1,1,F.RED,j.UNSIGNED_BYTE,O),O[0]/this._progress)}_enable(){this._progress=0;const e=new q;e.pixelFormat=F.RED,e.internalFormat=S.R8,e.wrapMode=x.CLAMP_TO_EDGE,this._fbo=new T(this._rctx,e),this._requestRender()}_disable(){this._fbo=s(this._fbo),this._requestRender()}_invalidate(){this._progress=0,this._requestRenderIfEnabled()}_clear(){this._rctx.bindFramebuffer(this._fbo),this._rctx.setClearColor(0,0,0,0),this._rctx.clear(P.COLOR_BUFFER_BIT),this._progress=0}_accumulateShadow(){this._renderToShadowMap(this._bindParameters,this._lightDirections[this._progress++],this._depthRange);const e=this._accumulationTechnique;this._rctx.bindFramebuffer(this._fbo),this._rctx.bindTechnique(e,this._bindParameters,this._passParameters),this._rctx.bindVAO(this._vao),this._rctx.drawArrays(e.primitiveType,0,E(this._vao,\"geometry\"))}_updateCamera(e){const t=this._fbo;if(null==t)return;const i=this._bindParameters.camera;e.equals(i)||i.copyFrom(e),t.resize(e.fullWidth,e.fullHeight),this._opacityFromElevation=1-r(A,w,e.relativeElevation)}_requestRenderIfEnabled(){this._fbo&&this._requestRender()}get test(){const e=this;return{lightDirections:this._lightDirections,get isDone(){return e._isDoneAccumulating},get isActive(){return e._isActive}}}};e([c()],M.prototype,\"_progress\",void 0),e([c()],M.prototype,\"_sampleCount\",void 0),e([c()],M.prototype,\"_fbo\",void 0),e([c()],M.prototype,\"_depthRange\",void 0),e([c()],M.prototype,\"_previewing\",void 0),e([c()],M.prototype,\"_accumulationRenderer\",void 0),e([c()],M.prototype,\"_isRefining\",null),e([c()],M.prototype,\"_isActive\",null),e([c()],M.prototype,\"canAccumulate\",null),e([c()],M.prototype,\"_isDoneAccumulating\",null),e([c()],M.prototype,\"_opacityFromElevation\",null),e([c()],M.prototype,\"running\",null),M=e([_(\"esri.views.3d.webgl-engine.lib.ShadowAccumulator\")],M);const U=6,L=\"renderView\",O=new Uint8Array(1);export{M as ShadowAccumulator};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{a as e,d as s,c as a}from\"../../../../chunks/boundedPlane.js\";const t=e();class n{constructor(){this._plane=e()}get isEnabled(){return!s(this.plane,t)}get plane(){return this._plane}set plane(e){a(e||t,this._plane)}}export{n as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{hasRunningElapsedTimer as t}from\"./capabilities/DisjointTimerQuery.js\";function e(t,e){const u=t.capabilities.disjointTimerQuery;return null==u?null:new r(u,e)}class r{constructor(t,e){this._timer=t,this._queryPool=new Array,this._queryResults=new Map,this._currentQuery=null,e.forEach((t=>{const e=this._timer.createQuery(),r=this._timer.createQuery();this._queryPool.push(e,r),this._queryResults.set(t,null)}))}start(){t||(this._currentQuery=this._queryPool.pop(),null!=this._currentQuery&&(this._timer.disjoint(),this._timer.beginTimeElapsed(this._currentQuery)))}stop(t){if(this._timer.disjoint()||null==this._currentQuery||!this._queryResults.has(t))return this.abort(),null;this._timer.endTimeElapsed();const e=this._queryResults.get(t);if(null==e)return this._queryResults.set(t,this._currentQuery),this._currentQuery=null,null;if(!this._timer.resultAvailable(e))return this._queryPool.unshift(this._currentQuery),this._currentQuery=null,null;const r=this._timer.getResult(e)/1e6;return this._queryPool.unshift(e),this._queryResults.set(t,this._currentQuery),this._currentQuery=null,r}abort(){null!=this._currentQuery&&(this._timer.deleteQuery(this._currentQuery),this._queryPool.unshift(this._timer.createQuery()),this._currentQuery=null)}dispose(){null!=this._currentQuery&&this._timer.deleteQuery(this._currentQuery),this._queryPool.forEach((t=>{this._timer.deleteQuery(t)})),this._queryResults.forEach((t=>{null!=t&&this._timer.deleteQuery(t)}))}}export{e as createElapsedTimerPool};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e}from\"../../../../core/maybe.js\";import t from\"../../../../core/PerformanceSampler.js\";import{Milliseconds as r}from\"../../../../core/time.js\";import{createElapsedTimerPool as i}from\"../../../webgl/TimerPool.js\";var a;!function(e){e.OVERLAY=\"overlay\",e.PREPARE=\"prepare\",e.SHADOW_MAP=\"shadow map\",e.LINEAR_DEPTH=\"linear depth\",e.ACCUMULATED_SHADOWS=\"accumulated shadows\",e.OBJECT_AND_LAYER_ID_COLOR=\"object/layer id color\",e.NORMALS=\"normals\",e.SSAO=\"SSAO\",e.OPAQUE=\"opaque\",e.OPAQUE_EDGES=\"opaque edges\",e.VOXEL=\"voxel\",e.TRANSPARENT=\"transparent\",e.TRANSPARENT_EDGES=\"transparent edges\",e.HUD_VISIBILITY=\"HUD visibility\",e.TRANSPARENT_TERRAIN=\"transparent terrain\",e.ENVIRONMENT=\"environment\",e.LASER_LINES=\"laser lines\",e.OCCLUDED=\"occluded\",e.ANTIALIASING=\"antialiasing\",e.HIGHLIGHTS=\"highlights\",e.HUD=\"HUD\",e.HUD_OCCLUDED=\"HUD occluded\",e.FINISH=\"finish\"}(a||(a={}));const s=\"Total\";class o{constructor(e){this._rctx=e,this._startTimeStampCPU=r(0),this._lastTimeStampCPU=r(0),this._totalCPUTime=new t(s),this._cpuTimeSamplers=new Map(Object.values(a).map((e=>[e,new t(e)]))),this._enableGPUTimer=0,this._totalGPUTime=new t(\"GPU\"),this._gpuTimeSamplers=new Map(Object.values(a).map((e=>[e,new t(e)]))),this._totalTime=r(0),this._totalFrameCount=0}get totalCPUTimeSampler(){return this._totalCPUTime}get cpuTimeSamplers(){return Array.from(this._cpuTimeSamplers.values())}get totalGPUTimeSampler(){return this._totalGPUTime}get gpuTimeSamplers(){return Array.from(this._gpuTimeSamplers.values())}get gpuSamplingEnabled(){return null!=this._gpuTimerPool}get totalTime(){return this._totalTime}get totalFrameCount(){return this._totalFrameCount}get elapsedTime(){return r(performance.now()-this._startTimeStampCPU)}enableGPUPerformanceInfo(){if(null==this._gpuTimerPool){const e=[...Object.values(a),s];this._gpuTimerPool=i(this._rctx,e)}if(null==this._gpuTimerPool)return{hasGPUTimerSupport:!1,remove:()=>{}};++this._enableGPUTimer;let t=!1;return{hasGPUTimerSupport:!0,remove:()=>{t||(t=!0,--this._enableGPUTimer,0===this._enableGPUTimer&&(this._gpuTimerPool=e(this._gpuTimerPool)))}}}startFrame(){this._startTimeStampCPU=this._lastTimeStampCPU=r(performance.now()),this._gpuTimerPool&&this._gpuTimerPool.start()}advance(e){const t=r(performance.now());if(this._cpuTimeSamplers.get(e).record(t-this._lastTimeStampCPU),this._lastTimeStampCPU=t,this._gpuTimerPool){const t=this._gpuTimerPool.stop(e);this._gpuTimeSamplers.get(e).record(t),this._gpuTimerPool.start()}}finishFrame(){if(this._gpuTimerPool){const e=this._gpuTimerPool.stop(a.FINISH);this._gpuTimeSamplers.get(a.FINISH).record(e),this._rctx.gl.flush()}const e=r(performance.now()-this._startTimeStampCPU);this._totalTime=r(this._totalTime+e),this._totalCPUTime.record(e),this._gpuTimerPool&&this._totalGPUTime.record(this.gpuTimeSamplers.reduce(((e,t)=>e+(t.last||0)),0)),++this._totalFrameCount}}export{a as PerformanceCategory,o as RendererPerformanceInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{update as r}from\"../../../../core/arrayUtils.js\";import{createTask as t}from\"../../../../core/asyncUtils.js\";import{unitRGBAFromColor as s}from\"../../../../core/colorUtils.js\";import has from\"../../../../core/has.js\";import{removeMaybe as i,abortMaybe as a,destroyMaybe as n,releaseMaybe as h}from\"../../../../core/maybe.js\";import o from\"../../../../core/PooledArray.js\";import{throwIfAborted as d}from\"../../../../core/promiseUtils.js\";import{watch as l,syncAndInitial as _,initial as p,sync as u}from\"../../../../core/reactiveUtils.js\";import{signal as c}from\"../../../../core/signal.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/interfaces.js\";import\"../../../../core/accessorSupport/tracking/Flags.js\";import\"../../../../core/Warning.js\";import\"../../../../core/Error.js\";import{equals as g,invert as f,multiply as T}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as E,create as A}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{s as b}from\"../../../../chunks/vec42.js\";import{fromValues as R,ZEROS as P}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{a as S}from\"../../../../chunks/boundedPlane.js\";import{debugFlags as C}from\"../../support/debugFlags.js\";import{TransparencyMode as w}from\"../../terrain/TerrainRenderer.js\";import{DepthFormat as I,ColorFormat as O}from\"../../webgl/formats.js\";import{FBOCache as y}from\"../core/FBOCache.js\";import{RenderPassManager as D}from\"../core/renderPasses/RenderPassManager.js\";import{ShaderOutput as N}from\"../core/shaderLibrary/ShaderOutput.js\";import{HUDRenderStyle as L}from\"../core/shaderLibrary/hud/HUDRenderStyle.js\";import{RenderNodes as H}from\"../effects/RenderNodes.js\";import{isPrepareRenderPlugin as M}from\"../effects/RenderPlugin.js\";import{RenderPluginManager as x}from\"../effects/RenderPluginManager.js\";import{Blit as v}from\"../effects/blit/Blit.js\";import{Highlight as F}from\"../effects/highlight/Highlight.js\";import{ShadowHighlight as U}from\"../effects/highlight/ShadowHighlight.js\";import{SMAA as q}from\"../effects/smaa/SMAA.js\";import{SSAO as j}from\"../effects/ssao/SSAO.js\";import{AnimationTimeStep as G}from\"./AnimationTimeStep.js\";import{Decorations as B,RenderRequestType as V,StencilBits as Q}from\"./basicInterfaces.js\";import{BoundingInfo as k}from\"./BoundingInfo.js\";import{zero as W,union as X}from\"./depthRange.js\";import{depthRangeFromScene as Y}from\"./depthRangeUtils.js\";import{RenderOccludedFlag as z}from\"./Material.js\";import{OffscreenRendering as J}from\"./OffscreenRendering.js\";import{RenderContext as K,defaultRenderOccludedMask as Z}from\"./RenderContext.js\";import{splitRenderGeometryChangeSetByMaterial as $,RendererTarget as ee}from\"./rendererUtils.js\";import{setupFeatureDefaults as re,RenderFeature as te}from\"./RenderFeature.js\";import{RenderSlot as se}from\"./RenderSlot.js\";import{ShadowAccumulator as ie}from\"./ShadowAccumulator.js\";import{ShadowMap as ae,SnapshotSlot as ne}from\"./ShadowMap.js\";import he from\"./SliceHelper.js\";import{TransparencyPassType as oe}from\"./TransparencyPassType.js\";import{Transparency as de}from\"./edgeRendering/interfaces.js\";import{MergedRenderer as le}from\"../materials/renderers/MergedRenderer.js\";import{AlphaMode as _e}from\"../shaders/CompositingTechniqueConfiguration.js\";import{RendererPerformanceInfo as pe,PerformanceCategory as ue}from\"../statistics/RendererPerformanceInfo.js\";import{RenderState as ce}from\"../../../support/RenderState.js\";import{PixelFormat as me,PixelType as ge,ClearBufferBit as fe,DepthStencilAttachment as Te}from\"../../../webgl/enums.js\";class Ee{constructor(e,r,t,i,a,n,h,o){this._stage=e,this._techniqueRepository=i,this._rctx=a,this._compositingHelper=n,this._magnifierHelper=h,this._requestRender=o,this._pluginsHas={hudElements:!1,water:!1},this._hasOverlayWater=!1,this.renderOverlay=e=>{},this._isRendering=!1,this._backgroundColor=R(0,0,0,1),this._sliceHelper=new he,this._state=c(ce.IDLE),this._highQualityTransparencyEnabled=!0,this._terrainTransparency=w.Opaque,this._ssrEnabled=!1,this._hasAnimations=!1,this._animationTimestep=new G,this._loadEdgeViewTask=null,this._edgeViewCallbacks=[],this._reprojectionMatrixVersion=c(0),this._renderHiddenTransparentEdges=()=>{},this._pluginInput=new Map,this._releaseNormals=e=>{e.find((({name:e})=>\"normals\"===e))?.release()&&this._pluginInput.delete(\"normals\")},this._debugLinearDepth=!1,this.fboCache=new y(a),this._renderStateFeatures=c(re(!has(\"disable-feature:high-quality-idle\"),e.view.qualityProfile)),this._offscreen=new J(this.fboCache,this._compositingHelper),this.performanceInfo=new pe(this._rctx),this._shadowMap=new ae(this.fboCache,e.viewingMode),this._highlight=new F({view:e.view}),this._shadowHighlight=new U({view:e.view,viewingMode:e.viewingMode}),this._shadowAccumulator=new ie(this.fboCache,i,e,(e=>{const r=this.shadowsEnabled;this._shadowMap.enabled=!0,this._ensureBindParametersCamera(e.camera,e.contentCamera),this._plugins.prepareRender(),this._shadowMap.enabled=r}),((e,r,t)=>{const s=this._stage.view.qualitySettings.maximumPixelRatio;e.shadowMap.start(e.camera,r,t,!0,s),this._renderShadowCascades(N.Shadow,e.shadowMap),e.shadowMap.finish(),e.camera.setGLViewport(this._rctx),this._ensureBindParametersCamera(e.camera,e.contentCamera)}),o),this._ssao=new j({view:this._stage.view}),this._renderContext=new K(this._rctx,this._offscreen,this._shadowMap,this._sliceHelper),this._nodes=new H(this._renderContext),this._plugins=new x({renderContext:this._renderContext,techniqueRepository:i,textureRepository:t,materialRepository:r,requestRender:o,controller:e,fbos:this.fboCache,isFeatureEnabled:e=>this.isFeatureEnabled(e)}),this.renderPassManager=new D,this._plugins.add(this.renderPassManager),this._smaa=new q({view:this._stage.view}),this._plugins.add(this._smaa),this._blit=new v({opacity:1,alphaMode:_e.None}),this._plugins.add(this._blit),this._plugins.add(this._ssao),this._plugins.add(this._highlight),this._plugins.add(this._shadowHighlight),this._handles=[l((()=>this._stage.view.state.camera),(()=>o()),_),l((()=>C.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES),(e=>{this._renderHiddenTransparentEdges=e?()=>this._renderEdges(de.TRANSPARENT):()=>{},o()}),p),l((()=>this._stage.view.environment.background?.color),(e=>{const r=e?s(e):P;b(this._backgroundColor,r[0]*r[3],r[1]*r[3],r[2]*r[3],r[3]),o()}),_)]}destroy(){this._handles.forEach((e=>e.remove())),this._gpuTimerHandle=i(this._gpuTimerHandle),this._nodes.destroy(),this._offscreen.dispose(),this._shadowMap.dispose(),this._highlight.dispose(),this._shadowAccumulator.dispose(),this._loadEdgeViewTask=a(this._loadEdgeViewTask),this._edgeView=n(this._edgeView),this.renderPassManager.dispose(),this._releaseFBOs(),this._disposeOffscreenBuffers(),this.fboCache.destroy(),this._plugins.destroy(),k.prune()}get _bindParameters(){return this._renderContext.bindParameters}updateRenderFeatures(e=null,r=!has(\"disable-feature:high-quality-idle\")){this._renderStateFeatures.value=re(r,e),this._plugins.renderFeatureChanged(),this._requestRender()}isFeatureEnabled(e,r=this._state.value){return this._renderStateFeatures.value.get(r,e)??!1}setFeatureEnabled(e,r,t){this._renderStateFeatures.mutate((s=>s.set(r,e,t))),this._requestRender()}get _highQualityTransparency(){return this._highQualityTransparencyEnabled||this.isFeatureEnabled(te.HighQualityTransparency)}get hasReflections(){return(this._pluginsHas.water||this._hasOverlayWater)&&(this._ssrEnabled||this.isFeatureEnabled(te.WaterReflection))}get hasDecorations(){return this._plugins.hasDecorations}get hasHighlights(){return this._plugins.produces(se.OPAQUE_MATERIAL,N.Highlight)||this._plugins.produces(se.TRANSPARENT_MATERIAL,N.Highlight)||this._plugins.produces(se.DRAPED_MATERIAL,N.Highlight)}get _magnifierEnabled(){return this._bindParameters.decorations===B.ON&&this._magnifierHelper.enabled}get fullResolutionAtmosphere(){return this._stage.view.qualitySettings.highResolutionAtmosphere||this.isFeatureEnabled(te.HighResolutionAtmosphere)}_releaseFBOs(){this._bindParameters.ssr.lastFrameColor=h(this._bindParameters.ssr.lastFrameColor),this._bindParameters.multipassTerrain.linearDepth=h(this._bindParameters.multipassTerrain.linearDepth),this._bindParameters.multipassGeometry.linearDepth=h(this._bindParameters.multipassGeometry.linearDepth)}_disposeOffscreenBuffers(){this._offscreen.dispose(),this._disposeBindBuffers()}_disposeBindBuffers(){this._shadowMap.disposeOffscreenBuffers(),this._bindParameters.linearDepth=h(this._bindParameters.linearDepth),this._bindParameters.hudVisibility=h(this._bindParameters.hudVisibility)}get updating(){return this._smaa.updating||null!=this._edgeView&&this._edgeView.updating||this._shadowAccumulator.running||this._plugins.updating||!this.isCameraFinal}loadEdgeView(){return this._loadEdgeViewTask||(this._loadEdgeViewTask=t((async e=>{const{EdgeView:r}=await import(\"./edgeRendering/EdgeView.js\");d(e);const t=this._edgeView=new r({rctx:this._rctx,renderSR:this._stage.view.renderSpatialReference,viewingMode:this._stage.viewingMode,techniqueRepository:this._techniqueRepository,setNeedsRender:()=>this._requestRender(),schedule:Ie(this._stage.view.resourceController)});return this._handles.push(l((()=>t.updating),(()=>this._requestRender()),u)),this._requestRender(),this._edgeViewCallbacks.forEach((e=>e(t))),this._edgeViewCallbacks.length=0,t}))),this._loadEdgeViewTask.promise}withEdgeView(e){this.loadEdgeView(),null==this._edgeView?this._edgeViewCallbacks.push(e):e(this._edgeView)}get edgeView(){return this._edgeView}get isCameraFinal(){return this._reprojectionMatrixVersion.value>=0&&g(this._bindParameters.ssr.reprojectionMatrix,E)}set _reprojectionMatrix(e){r(this._bindParameters.ssr.reprojectionMatrix,e)&&this._reprojectionMatrixVersion.value++}get shadowsEnabled(){return!!this._shadowMap?.enabled}setParameters(e){const{_shadowMap:r,_bindParameters:t}=this;if(void 0!==e.qualitySettings?.reflections&&this._ssrEnabled!==e.qualitySettings.reflections&&(this._ssrEnabled=e.qualitySettings.reflections,this._requestRender()),void 0!==e.shadowMap&&this._shadowMap.enabled!==e.shadowMap&&(this._shadowMap.enabled=e.shadowMap,this._requestRender()),void 0!==e.shadowMapMaxCascades&&r.maxCascades!==e.shadowMapMaxCascades&&(r.maxCascades=e.shadowMapMaxCascades,this._requestRender()),null!=e.environment){null!=e.environment.weather&&(this._bindParameters.weather=e.environment.weather,this._bindParameters.weatherVisible=!!e.weatherVisible);const r=\"virtual\"!==e.environment.lighting.type;t.enableFillLights!==r&&(t.enableFillLights=r,this._requestRender())}void 0!==e.highQualityTransparency&&this._highQualityTransparencyEnabled!==e.highQualityTransparency&&(this._highQualityTransparencyEnabled=e.highQualityTransparency,this._requestRender()),void 0!==e.hasOverlayWater&&this._hasOverlayWater!==e.hasOverlayWater&&(this._hasOverlayWater=e.hasOverlayWater,this._requestRender()),void 0!==e.slicePlane&&this._sliceHelper.plane!==e.slicePlane&&(this._sliceHelper.plane=e.slicePlane,this._requestRender()),void 0!==e.terrainTransparency&&this._terrainTransparency!==e.terrainTransparency&&(this._terrainTransparency=e.terrainTransparency,this._requestRender()),void 0!==e.shadowCastOptions&&this._shadowAccumulator.setOptions(e.shadowCastOptions)}get hasSlicePlane(){return!!this._sliceHelper.plane}get plugins(){return this._plugins}get _hasOITSupport(){return this._rctx.driverTest.floatBufferBlend.result}get _oitEnabled(){return this._highQualityTransparency&&this._hasOITSupport}modify(e,r){this._isRendering&&console.warn(\"Renderer.modify called while rendering\");const{adds:t,removes:s,updates:i}=e;if(0===t.length&&0===s.length&&0===i.length)return;const a=$(e);let n=!1;a.forEach(((t,s)=>{if(r.done)return;let i=this._plugins.getMaterialRenderer(s);if(null==i&&t.adds.length>0){const e=new le({material:s});e.initializeRenderContext(this._plugins._context),i=e,this._plugins.add(i)}i&&(i.modify(t),0===i.numGeometries&&(n=!0)),t.removes.forEach((r=>e.removes.removeUnordered(r))),t.adds.forEach((r=>e.adds.removeUnordered(r))),t.updates.forEach((r=>e.updates.removeUnordered(r))),r.madeProgress()})),n&&this._plugins.removeEmptyMaterialRenderers(),this._updateHasFlags(),this._requestRender()}_updateHasFlags(){const has=this._pluginsHas;has.hudElements=this._plugins.produces(se.LINE_CALLOUTS_HUD_DEPTH)||this._plugins.produces(se.HUD_MATERIAL)||this._plugins.produces(se.LABEL_MATERIAL),has.water=this._plugins.produces(se.DRAPED_WATER,N.Normal),this._bindParameters.hasOccludees=this._plugins.hasOccludees}updateAnimation(e){const r=this._hasAnimations;return this._hasAnimations=this._plugins.updateAnimation(e),this._hasAnimations=this._nodes.updateAnimation()||this._hasAnimations,this._hasAnimations!==r&&(this._gpuTimerHandle=r?i(this._gpuTimerHandle):this.performanceInfo.enableGPUPerformanceInfo()),this._hasAnimations}get animationTimestep(){return this._animationTimestep.value}get animationTimeDilation(){return this._animationTimestep.timeDilation}resetAnimation(){this._animationTimestep.clear()}tick(){this.fboCache.clean()}render(e,r,t=ee.Default,s=B.ON){this._isRendering=!0,this.performanceInfo.startFrame(),this.fboCache.frameStart(),this._disposeBindBuffers();const i=this._offscreen,{camera:a,contentCamera:n,mode:o,alignPixelEnabled:d}=e;this._state.value=o,this._bindParameters.overlay=this.renderOverlay(r),this.performanceInfo.advance(ue.OVERLAY),this._renderContext.time=r,this._bindParameters.transparencyPassType=oe.NONE,this._bindParameters.alignPixelEnabled=d,this._bindParameters.decorations=s,this._bindParameters.mainColor=this._bindParameters.mainDepth=null;const l=S(this._sliceHelper.plane);s===B.OFF&&(this._sliceHelper.plane=null),a.setGLViewport(this._rctx);const _=i.initializeFrame(a,this._backgroundColor,t);this.hasReflections?this._bindParameters.ssr.lastFrameColor=_:_?.release(),this._ensureBindParametersCamera(a,n),this._plugins.prepareRender(),this.performanceInfo.advance(ue.PREPARE);const p=this._computeDepthRange(a);this._renderShadowMap(a,this._bindParameters.lighting.mainLight.direction,p),this.performanceInfo.advance(ue.SHADOW_MAP),this._ensureBindParametersCamera(a,n);const u=this._plugins.produces(se.OPAQUE_TERRAIN)&&(this._terrainTransparency===w.Semitransparent||this._terrainTransparency===w.TransparentWithDraped),c=this._highQualityTransparency&&u,m=this._plugins.produces(se.TRANSPARENT_MATERIAL,N.Color);this._prepareShaders(c,m),this._pluginInput.set(\"normals\",this._renderNormals()),this.performanceInfo.advance(ue.NORMALS),this._renderSSAO(),this.performanceInfo.advance(ue.SSAO),this._renderLinearDepth(),this.performanceInfo.advance(ue.LINEAR_DEPTH),this._renderShadowAccumulation(p,a,n),this.performanceInfo.advance(ue.ACCUMULATED_SHADOWS),this._ensureBindParametersSSR(r),this._renderContext.output=N.Color,i.bindFbo(),this._bindParameters.mainColor=i.colorTexture,this._bindParameters.mainDepth=i.depthTexture,this._renderOpaqueGeometry(),this._offscreen.updateColor((e=>this._invokeRenderNodes(e)),\"opaque-color\"),this._plugins.render(se.ENVIRONMENT_OPAQUE),this.performanceInfo.advance(ue.OPAQUE),this.fboCache.debugCallback&&this.fboCache.debugCallback(\"opaque-color\",this._offscreen.color.fbo),this._renderTerrainLinearDepth(c),this._setMultipassTerrain(c),this._renderEdges(de.OPAQUE),this.performanceInfo.advance(ue.OPAQUE_EDGES),i.bindFbo(),this._plugins.render(se.VOXEL),this.performanceInfo.advance(ue.VOXEL),this._renderHiddenTransparentEdges(),m&&(this._oitEnabled?this._renderOITPass(Ae.Geometry):this._renderTransparentMaterial()),this._offscreen.updateColor((e=>this._invokeRenderNodes(e)),\"transparent-color\"),this.performanceInfo.advance(ue.TRANSPARENT);const g=this._renderGeometryLinearDepth(c);this._renderHUDVisibility(g),c||this._plugins.render(se.LINE_CALLOUTS),this.performanceInfo.advance(ue.HUD_VISIBILITY);const f=t===ee.ObjectAndLayerID?this._renderObjectAndLayerIdColor():null;this.performanceInfo.advance(ue.OBJECT_AND_LAYER_ID_COLOR),this._renderEdges(de.TRANSPARENT,g),g?.release(),this.performanceInfo.advance(ue.TRANSPARENT_EDGES);const T=u?this._renderTransparentTerrain():null;T&&this._bindParameters.hudVisibility&&(c?this._renderLineCallouts(L.Occluded):i.compositeToHUDVisibility(this._bindParameters,T.getTexture()),this._renderHUD(L.Occluded,i.color),this.performanceInfo.advance(ue.HUD_OCCLUDED)),this.performanceInfo.advance(ue.TRANSPARENT_TERRAIN),this._setTerrainCulling(!1),T&&(i.compositeToFramebuffer(this._bindParameters,T.getTexture(),_e.PremultipliedAlpha,1),T.release(),c&&(this._renderEdges(de.OPAQUE),this.performanceInfo.advance(ue.OPAQUE_EDGES),m&&(this._oitEnabled?this._renderOITPass(Ae.Geometry):this._renderTransparentMaterial()),this.performanceInfo.advance(ue.TRANSPARENT),this._renderEdges(de.TRANSPARENT),this.performanceInfo.advance(ue.TRANSPARENT_EDGES))),this._bindParameters.ssao=h(this._bindParameters.ssao),c&&this._renderLineCallouts(L.NotOccluded),this._setMultipassEnabled(!1),this._shadowAccumulator.render(this._bindParameters),i.bindFbo(),this._plugins.render(se.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL),this._plugins.render(se.ENVIRONMENT_TRANSPARENT),this.performanceInfo.advance(ue.ENVIRONMENT),this._renderLaserlines(),this.performanceInfo.advance(ue.LASER_LINES),this._renderOccluded(),this.performanceInfo.advance(ue.OCCLUDED);let E=this._renderHighlightPrepass();E&&this._renderShadowHighlights(E,this._bindParameters);const A=this._magnifierEnabled&&t===ee.Default?this.fboCache.acquire(this._offscreen.width,this._offscreen.height,\"magnifier\"):null,b=t!==ee.Default?this.fboCache.acquire(this._offscreen.width,this._offscreen.height,\"screenshot\"):null,R=this._renderComposite(A??b,E)??b;return this.performanceInfo.advance(ue.ANTIALIASING),this._renderHUD(L.NotOccluded,R),this.performanceInfo.advance(ue.HUD),E&&(this._renderHighlights(R,E,this._bindParameters),E=h(E)),this.performanceInfo.advance(ue.HIGHLIGHTS),this._magnifierEnabled&&this._magnifierHelper.render(this._rctx,this._bindParameters),R!==b&&(this._rctx.bindFramebuffer(b?.fbo),this._compositingHelper.composite(this._bindParameters,A?.getTexture(),_e.None)),t===ee.Default&&A?.release(),this.onPostRender&&this.onPostRender(),this._releaseFBOs(),this._offscreen.releaseBuffers(),this._renderContext.lastFrameCamera.copyFrom(this._bindParameters.camera),this._sliceHelper.plane=l,this._isRendering=!1,this.fboCache.frameEnd(),this.performanceInfo.finishFrame(),t!==ee.Default&&(this._releaseFBOs(),this._disposeOffscreenBuffers()),{screen:b,oid:f}}_prepareShaders(e,r){this._renderContext.output=N.Color,this._prepareOpaqueGeometry(),this._setMultipassTerrain(e),this._plugins.prepare(se.TRANSPARENT_TERRAIN),this._setMultipassTerrain(!1),e||this._plugins.prepare(se.LINE_CALLOUTS),r&&this._prepareTransparencySlots(),this._plugins.prepare(se.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL),this._plugins.prepare(se.ENVIRONMENT_TRANSPARENT),this._plugins.prepare(se.LASERLINES),this._rctx.gl.flush()}_renderObjectAndLayerIdColor(){if(!has(\"enable-feature:objectAndLayerId-rendering\"))return;const e=this._renderContext.output,r=this.fboCache.acquire(this._offscreen.width,this._offscreen.height,\"oid\");return r.acquireDepth(I.DEPTH_STENCIL_TEXTURE),this._rctx.bindFramebuffer(r.fbo),this.fboCache.rctx.clearFramebuffer([0,0,0,0],!0,!0),this._renderAllGeometry(N.ObjectAndLayerIdColor),this._rctx.bindFramebuffer(r.fbo),this.fboCache.rctx.clearFramebuffer(void 0,!0,!0),this._bindParameters.hudRenderStyle=L.NotOccluded,this._plugins.render(se.HUD_MATERIAL),this._renderContext.output=e,r}finish(e){this._hasAnimations||this._animationTimestep.clear();const r=this.performanceInfo.gpuSamplingEnabled,t=e===V.BACKGROUND;if(t||r){const e=t?this.performanceInfo.elapsedTime:0,s=r?this.performanceInfo.totalGPUTimeSampler.last:this._rctx.gl.getError(),i=Math.max(e,s);this._animationTimestep.frame(i,t)}}readDepthPixels(e,r,t){const s=this._bindParameters.linearDepth?.fbo;if(s?.colorTexture)return void s.readPixels(r[0],r[1],r[2],r[3],me.RGBA,ge.UNSIGNED_BYTE,t);const i=this.fboCache.acquire(this._offscreen.width,this._offscreen.height,\"depth\").acquireDepth(I.DEPTH16_BUFFER);this._rctx.bindFramebuffer(i.fbo),this._ensureBindParametersCamera(e,e),this._bindParameters.camera.setGLViewport(this._rctx),this._rctx.setClearColor(0,0,0,0);const a=fe.COLOR_BUFFER_BIT|fe.DEPTH_BUFFER_BIT|fe.STENCIL_BUFFER_BIT;this._rctx.clear(a),this._renderAllGeometry(N.LinearDepth),i.fbo.readPixels(r[0],r[1],r[2],r[3],me.RGBA,ge.UNSIGNED_BYTE,t),i.release()}readHUDVisibility(e,r,t,s,i){this._bindParameters.hudVisibility?.fbo.readPixels(e,r,t,s,me.RGBA,ge.UNSIGNED_BYTE,i)}readAccumulatedShadow(e){return this._shadowAccumulator.readAccumulatedShadow(e[0],e[1])}_setMultipassTerrain(e){this._setMultipassEnabled(e),this._setTerrainCulling(e)}_setMultipassEnabled(e){this._bindParameters.multipassEnabled=e}_setTerrainCulling(e){this._bindParameters.multipassTerrain.cullAboveGround=e}_renderEdges(e,r){const t=this._edgeView;if(t?.shouldRender()){const{width:s,height:i,depth:a}=this._offscreen,n=this.fboCache.acquire(s,i,\"edges\"),h=()=>t.render(this._bindParameters,e);this._offscreen.renderToTargets(h,n,r??a,Re),this._offscreen.compositeToFramebuffer(this._bindParameters,n.getTexture(),_e.Alpha,1),n.release()}}_renderShadowMap(e,r,t){const s=this._shadowMap;s.enabled&&(s.start(e,r,t,this.isFeatureEnabled(te.HighResolutionShadows),this._stage.view.qualitySettings.maximumPixelRatio),this._shadowHighlight.updateParameters(e,r),this._needsShadowHighlight?(this._renderShadowCascades(N.ShadowHighlight,this._shadowMap),s.moveSnapshot(ne.Highlight),this._renderShadowCascades(N.ShadowExcludeHighlight,this._shadowMap),s.copySnapshot(ne.ExcludeHighlight),this._renderShadowCascades(N.ShadowHighlight,this._shadowMap)):this._renderShadowCascades(N.Shadow),s.finish(),e.setGLViewport(this._rctx))}_renderShadowCascades(e,r=this._shadowMap){for(const t of r.cascades)t.camera.setGLViewport(this._rctx),this._ensureBindParametersCamera(t.camera,t.camera),this._renderAllGeometry(e)}get _needsLinearDepth(){return this._plugins.consumes(N.LinearDepth)||this.hasReflections||this._needsShadowHighlight||this._needsShadowCast||this._debugLinearDepth}_renderLinearDepth(){this._needsLinearDepth?(this._bindParameters.linearDepth=this._offscreen.renderToCachedFBO(this._bindParameters.linearDepth,\"linear-depth\",(()=>this._renderAllGeometry(N.LinearDepth)),[0,0,0,0],O.RGBA,I.DEPTH_STENCIL_TEXTURE),this._bindParameters.linearDepth.detachDepth()):this._bindParameters.linearDepth=h(this._bindParameters.linearDepth)}_renderTerrainLinearDepth(e){if(e){const e=this._renderContext.output;this._renderContext.output=N.LinearDepth,this._bindParameters.multipassTerrain.linearDepth=this._offscreen.renderToCachedFBO(this._bindParameters.multipassTerrain.linearDepth,\"terrain depth\",(()=>this._renderTransparentTerrain()),[-1e10,-1e10,-1e10,1]),this._bindParameters.multipassTerrain.linearDepth.detachDepth(),this._renderContext.output=e}else this._bindParameters.multipassTerrain.linearDepth=h(this._bindParameters.multipassTerrain.linearDepth)}_renderGeometryLinearDepth(e){if(!e)return void(this._bindParameters.multipassGeometry.linearDepth=h(this._bindParameters.multipassGeometry.linearDepth));const r=this._renderContext.output;this._bindParameters.multipassGeometry.linearDepth=this._offscreen.renderToCachedFBO(this._bindParameters.multipassGeometry.linearDepth,\"geometry depth\",(()=>this._renderOpaqueGeometryAndTransparentMaterial(N.LinearDepth)),[1,1,1,1]),this._renderContext.output=r;const t=this._bindParameters.multipassGeometry.linearDepth.getAttachment(Te);return t?.retain(),this._bindParameters.multipassGeometry.linearDepth.detachDepth(),t}get _needsDepthRange(){return this._shadowMap.enabled||this._needsShadowCast}_computeDepthRange(e){if(!this._needsDepthRange)return W;const r=Y(e,this._plugins.plugins,this._stage.layers);return X(r,this._plugins.queryDepthRange(e)),r.near=Math.max(e.near,r.near),r.far=Math.min(e.far,r.far),r}_renderNormals(){const e=this._plugins.produces(se.SSAO),r=this._nodes.require(\"normals\",\"composite-color\")+this._nodes.require(\"normals\",\"opaque-color\")+this._nodes.require(\"normals\",\"transparent-color\");let t=(e?1:0)+r+(e||r>0?this._nodes.optional(\"normals\",\"composite-color\")+this._nodes.optional(\"normals\",\"opaque-color\")+this._nodes.optional(\"normals\",\"transparent-color\"):0);if(0===t)return;const s=this._offscreen.renderToCachedFBO(null,\"normals\",(()=>this._renderGeometryForSSAO(N.Normal)),[0,0,0,0],O.RGBA,I.DEPTH_STENCIL_TEXTURE);for(;--t>0;)s.retain();return s}_renderSSAO(){const e=this._pluginInput.get(\"normals\");this._plugins.produces(se.SSAO)&&e&&(this._bindParameters.ssao=this._plugins.render(se.SSAO,this._pluginInput),e.detachDepth(),e.release()&&this._pluginInput.delete(\"normals\"))}_renderAllGeometry(e){this._renderContext.output=e,this._plugins.prepare(se.TRANSPARENT_TERRAIN),this._renderOpaqueGeometryAndTransparentMaterial(e),this._renderTransparentTerrain()}_renderOpaqueGeometryAndTransparentMaterial(e){this._renderContext.output=e,this._plugins.prepare(se.TRANSPARENT_MATERIAL),this._plugins.prepare(se.TRANSPARENT_NO_SSAO_DEPTH),this._renderOpaqueGeometry(),this._renderTransparentMaterial()}_renderGeometryForSSAO(e){this._renderContext.output=e,this._plugins.render(se.INTEGRATED_MESH),this._plugins.render(se.OPAQUE_TERRAIN),this._plugins.render(se.OPAQUE_MATERIAL),this._plugins.render(se.TRANSPARENT_MATERIAL),this._renderTransparentTerrain()}_prepareOpaqueGeometry(){this._plugins.prepare(se.INTEGRATED_MESH),this._plugins.prepare(se.OPAQUE_TERRAIN),this._plugins.prepare(se.OPAQUE_MATERIAL),this._plugins.prepare(se.OPAQUE_NO_SSAO_DEPTH),this._plugins.prepare(se.ENVIRONMENT_OPAQUE)}_renderOpaqueGeometry(){this._plugins.render(se.INTEGRATED_MESH),this._plugins.render(se.OPAQUE_TERRAIN),this._plugins.render(se.OPAQUE_MATERIAL),this._plugins.render(se.OPAQUE_NO_SSAO_DEPTH)}_renderTransparentMaterial(){this._plugins.render(se.TRANSPARENT_MATERIAL),this._plugins.render(se.TRANSPARENT_NO_SSAO_DEPTH)}_renderTransparentTerrain(){if(!this._plugins.produces(se.TRANSPARENT_TERRAIN))return;const e=()=>this._plugins.render(se.TRANSPARENT_TERRAIN,null);if(this._renderContext.output!==N.Color)return void e();const{width:r,height:t,depth:s}=this._offscreen,i=this.fboCache.acquire(r,t,\"transparent terrain\");return this._offscreen.renderToTargets(e,i,s,[0,0,0,0]),i}_renderHUDVisibility(e){this._plugins.produces(se.OCCLUSION_PIXELS)?(this._bindParameters.hudVisibility=this._offscreen.renderHUDVisibility(this._bindParameters.hudVisibility,(()=>this._plugins.render(se.OCCLUSION_PIXELS)),e),this._offscreen.bindFbo()):this._bindParameters.hudVisibility=h(this._bindParameters.hudVisibility)}_renderLineCallouts(e){if(this._bindParameters.hudRenderStyle=e,e===L.Occluded){const e=()=>{this._plugins.render(se.LINE_CALLOUTS)},{width:r,height:t,color:s}=this._offscreen,i=this.fboCache.acquireDepth(I.DEPTH16_BUFFER,r,t,\"line callouts\");this._offscreen.renderToTargets(e,s,i,void 0,!0,!0),i.release()}else this._plugins.render(se.LINE_CALLOUTS)}_renderLaserlines(){if(this._plugins.render(se.LASERLINES),this._plugins.produces(se.LASERLINES_CONTRAST_CONTROL)){const e=this._offscreen,{width:r,height:t,depth:s}=e,i=this.fboCache.acquire(r,t,\"laser lines\"),a=()=>this._plugins.render(se.LASERLINES_CONTRAST_CONTROL);e.renderToTargets(a,i,s,Re),e.compositeToFramebuffer(this._bindParameters,i.getTexture(),_e.PremultipliedAlpha,1),i.release()}}_renderHUD(e,r){if(this._pluginsHas.hudElements)if(this._oitEnabled){const t=this._renderOITPass(Ae.HUD,e);this._rctx.bindFramebuffer(r?.fbo),this._compositingHelper.composite(this._bindParameters,t.getTexture(),_e.PremultipliedAlpha),t.release()}else if(e===L.Occluded){this._renderContext.output=N.Color;const r=()=>this._renderHUDElements(e),{width:t,height:s,color:i}=this._offscreen,a=this.fboCache.acquireDepth(I.DEPTH16_BUFFER,t,s,\"hud\");this._offscreen.renderToTargets(r,i,a,void 0,!0,!0),a.release()}else this._renderContext.output=N.Color,this._rctx.bindFramebuffer(null),r?.acquireDepth(I.DEPTH16_BUFFER),this._rctx.bindFramebuffer(r?.fbo),this._renderHUDElements(e),r?.detachDepth()}_renderHUDElements(e){this._bindParameters.hudRenderStyle=e,this._plugins.prepare(se.LINE_CALLOUTS_HUD_DEPTH),this._plugins.prepare(se.HUD_MATERIAL),this._plugins.prepare(se.LABEL_MATERIAL),this._plugins.render(se.LINE_CALLOUTS_HUD_DEPTH),this._plugins.render(se.HUD_MATERIAL),this._plugins.render(se.LABEL_MATERIAL)}get _needsShadowHighlight(){return this._shadowMap.enabled&&this._plugins.produces(se.SHADOW_HIGHLIGHT)&&this._plugins.produces(se.OPAQUE_MATERIAL,N.ShadowHighlight)}_renderHighlightPrepass(){if(!this.hasHighlights)return;const e=()=>{this._renderAllGeometry(N.Highlight),this._rctx.clear(fe.DEPTH_BUFFER_BIT),this._renderHUDElements(L.Both)},r=this._offscreen.renderToCachedFBO(null,\"highlights\",e,[0,0,0,0],O.RGBA4,I.DEPTH_STENCIL_TEXTURE);return r.detachDepth(),r}_renderShadowHighlights(e,r){this.hasHighlights&&r.decorations!==B.OFF&&this._needsShadowHighlight&&this._offscreen.updateColor((r=>(this._pluginInput.set(\"highlights\",e),this._plugins.render(se.SHADOW_HIGHLIGHT,this._pluginInput,r),r)),\"transparent-color\")}_renderHighlights(e,r,t){this.hasHighlights&&t.decorations!==B.OFF&&this._plugins.produces(se.HIGHLIGHT)&&(this._pluginInput.set(\"highlights\",r),this._plugins.render(se.HIGHLIGHT,this._pluginInput,e))}get _needsShadowCast(){return this._shadowAccumulator.isAccumulating}_renderShadowAccumulation(e,r,t){this._needsShadowCast&&this._bindParameters.linearDepth?.getTexture()&&this._shadowAccumulator.renderAccumulation(this._bindParameters.linearDepth,e,r,t)}_prepareTransparencySlots(){this._renderContext.output=N.Alpha,this._bindParameters.transparencyPassType=oe.Alpha,this._plugins.prepare(se.TRANSPARENT_MATERIAL),this._renderContext.output=N.Color,this._bindParameters.transparencyPassType=oe.Color,this._plugins.prepare(se.TRANSPARENT_MATERIAL),this._bindParameters.transparencyPassType=oe.FrontFace,this._plugins.prepare(se.TRANSPARENT_MATERIAL),this._bindParameters.transparencyPassType=oe.NONE}_renderOITPass(e,r=L.Both){const t=e===Ae.HUD,s=t?this.fboCache.acquire(this._offscreen.width,this._offscreen.height,\"oit hud composite\"):null,i=t?()=>this._renderHUDElements(r):()=>this._renderTransparentMaterial(),a=this._renderContext.output;this._renderContext.output=N.Alpha,this._bindParameters.transparencyPassType=oe.Alpha;const n=this._offscreen.renderOITPass(i,oe.Alpha,t);this._renderContext.output=N.Color,this._bindParameters.transparencyPassType=oe.Color;const h=this._offscreen.renderOITPass(i,oe.Color,t);this._bindParameters.transparencyPassType=oe.FrontFace;const o=this._offscreen.renderOITPass(i,oe.FrontFace,t);return this._offscreen.compositeTransparentOntoOpaque(this._bindParameters,h,n,o,s),s?.detachDepth(),o.release(),h.release(),n.release(),this._bindParameters.transparencyPassType=oe.NONE,this._renderContext.output=a,s}_renderOccluded(){let e=0;Pe.clear(),this._plugins.plugins.forAll((r=>{if(!r.materialReference)return;r.queryRenderOccludedState(z.OccludeAndTransparentStencil)&&(e|=z.OccludeAndTransparentStencil,Pe.push(r))}));const r=this._offscreen,t=(t,s,i,a,n)=>{if(!(e&s))return;const{width:h,height:o,depth:d}=r,l=this.fboCache.acquire(h,o,\"tmp color\");r.renderToTargets(i,l,d,[0,0,0,0],a,n),r.compositeToFramebuffer(this._bindParameters,l.getTexture(),_e.PremultipliedAlpha,t),l.release()},s=(e,r)=>{this._bindParameters.slot=e,r.forAll((e=>{if(M(e)){const r=e.prepareTechnique(this._renderContext);r&&e.renderNode(this._renderContext,r)}}))};0!==Pe.length&&(s(se.OCCLUDER_MATERIAL,Pe),t(.5,z.OccludeAndTransparentStencil,(()=>s(se.TRANSPARENT_OCCLUDER_MATERIAL,Pe)),!1,!1)),Pe.clear(),this._plugins.plugins.forAll((r=>{if(!r.materialReference)return;const t=r.queryRenderOccludedState(z.OccludeAndTransparent),s=r.queryRenderOccludedState(z.Transparent),i=r.queryRenderOccludedState(z.Opaque);(t||s||i)&&(e|=t?z.OccludeAndTransparent:s?z.Transparent:z.Opaque,Pe.push(r))}));const i=this._plugins.renderOccludedFlags;if(e|=i,!e)return;const a=e=>{this._renderContext.renderOccludedMask=e,i>z.Occlude&&this._plugins.render(se.OCCLUDED_TERRAIN),s(se.OPAQUE_MATERIAL,Pe),s(se.TRANSPARENT_MATERIAL,Pe),s(se.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,Pe),this._renderContext.renderOccludedMask=Z};this._renderContext.output=N.Color,t(.5,z.OccludeAndTransparent,(()=>a(z.OccludeAndTransparent)),!0,Q.OutlineVisualElementMask),t(.5,z.Transparent,(()=>a(z.Transparent)),!0,Q.OutlineVisualElementMask),t(1,z.Opaque,(()=>a(z.Opaque)),!0,Q.OutlineVisualElementMask),Pe.clear()}_invokeRenderNodes(e){return this._nodes.render(e,this._pluginInput,this._releaseNormals)}_renderComposite(e,r){this._offscreen.updateColor((e=>(this._pluginInput.set(\"highlights\",r),e=this._nodes.render(e,this._pluginInput,this._releaseNormals),this._pluginInput.set(e.name,e),this._pluginInput.delete(\"highlights\"),e)),\"composite-color\");const t=this._plugins.produces(se.ANTIALIASING);return this._plugins.render(t?se.ANTIALIASING:se.BLIT,this._pluginInput,e)}_ensureBindParametersCamera(e,r){this._bindParameters.camera=e,this._bindParameters.contentCamera=r}_ensureBindParametersSSR(e){if(this._bindParameters.ssr.lastFrameColor){null==this._ssrEnableTime&&(this._ssrEnableTime=e),this._renderContext.lastFrameCamera.equals(this._bindParameters.camera)?this._reprojectionMatrix=E:(f(Ce,this._bindParameters.camera.viewMatrix),f(Se,this._bindParameters.camera.projectionMatrix),T(we,Ce,Se),T(we,this._renderContext.lastFrameCamera.viewMatrix,we),T(we,this._renderContext.lastFrameCamera.projectionMatrix,we),this._reprojectionMatrix=we);const r=this._stage.view.qualitySettings.fadeDuration;this._bindParameters.ssr.fadeFactor=r>0?Math.min(r,e-this._ssrEnableTime)/r:1,this._bindParameters.ssr.fadeFactor<1&&this._requestRender()}else this._reprojectionMatrix=E,this._ssrEnableTime=null}addRenderNode(e){this._nodes.add(e),this._requestRender()}removeRenderNode(e){this._nodes.remove(e),this._requestRender()}get usedMemory(){return{fbos:this.fboCache.usedMemory,plugins:this._plugins.usedMemory,edges:this.edgeView?.usedMemory??0}}get test(){return{offscreen:this._offscreen,shadowMap:this._shadowMap,highlight:this._highlight,lighting:this._bindParameters.lighting,renderPlugins:this._plugins,shadowAccumulator:this._shadowAccumulator,weatherIsFading:this._bindParameters.cloudsFade.isFading,resetRenderStateFeatures:()=>{this._renderStateFeatures.value=re(),this._plugins.renderFeatureChanged(),this._requestRender()},getFramebufferTexture:e=>{switch(e){case be.Color:return this._offscreen.colorTexture;case be.LinearDepth:return this._bindParameters.linearDepth?.getTexture();case be.ShadowMap:return this._shadowMap.depthTexture;case be.HudVisibility:return this._bindParameters.hudVisibility?.getTexture()}},debugLinearDepth:e=>{this._debugLinearDepth=e,this._requestRender()}}}}var Ae,be;e([m({readOnly:!0})],Ee.prototype,\"fullResolutionAtmosphere\",null),e([m()],Ee.prototype,\"_smaa\",void 0),e([m()],Ee.prototype,\"_blit\",void 0),e([m()],Ee.prototype,\"_edgeView\",void 0),e([m()],Ee.prototype,\"updating\",null),function(e){e[e.Geometry=0]=\"Geometry\",e[e.HUD=1]=\"HUD\"}(Ae||(Ae={})),function(e){e[e.Color=0]=\"Color\",e[e.LinearDepth=1]=\"LinearDepth\",e[e.ShadowMap=2]=\"ShadowMap\",e[e.HudVisibility=3]=\"HudVisibility\"}(be||(be={}));const Re=[0,0,0,0],Pe=new o,Se=A(),Ce=A(),we=A();function Ie(e){return r=>e.immediate.schedule(r)}export{be as FramebufferId,Ee as Renderer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as t}from\"../../../../core/maybe.js\";import{Default3D as r}from\"../lib/DefaultVertexAttributeLocations.js\";import{Pos2 as e}from\"../lib/DefaultVertexBufferLayouts.js\";import{VertexArrayObject as o}from\"../lib/VertexArrayObject.js\";import{BufferObject as s}from\"../../../webgl/BufferObject.js\";import{PrimitiveType as i,Usage as a}from\"../../../webgl/enums.js\";class m{constructor(t){this._rctx=t,this._vao=f(t)}destroy(){this._vao=t(this._vao)}draw(){null!=this._vao&&(this._rctx.bindVAO(this._vao),this._rctx.drawArrays(i.TRIANGLES,0,3))}get test(){return{cachedWebGLObjects:c(this._vao?.glName)+c(this._vao?.indexBuffer?.glName)+c(this._vao?.vertexBuffers.geometry)}}}function f(t,i=e,m=r){const f=new Float32Array([-1,-1,3,-1,-1,3]);return new o(t,m,{geometry:i},{geometry:s.createVertex(t,a.STATIC_DRAW,f)})}function c(t){return null!=t?1:0}export{m as ScreenSpaceGeometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ScreenSpaceGeometry as e}from\"../effects/ScreenSpaceGeometry.js\";import{AppleAmdDriverHelper as r}from\"../../../webgl/AppleAmdDriverHelper.js\";import{RenderingContext as s}from\"../../../webgl/RenderingContext.js\";class t extends s{constructor(r,s,t){super(r,s),this.gl=r,this.newCache=t,this._appleAmdDriverHelper=null,this._refCount=1,this.screen=new e(this)}destroy(){--this._refCount>0||this.dispose()}ref(){++this._refCount}dispose(){super.dispose(),this._appleAmdDriverHelper?.dispose(),this.screen.destroy()}bindTechnique(e,r,s,t,i){return this.useProgram(e.program),this.setPipelineState(e.getPipeline(!!i)),e.program.bindPass(s,r),t&&e.program.bindDraw(t,r,s),e.program}runAppleAmdDriverHelper(){this.driverTest.drawArraysRequiresIndicesTypeReset.result&&(this._appleAmdDriverHelper??=new r(this),this._appleAmdDriverHelper.run())}get test(){return{cachedWebGLObjects:this.programCache.test.cachedWebGLProgramObjects+this.screen.test.cachedWebGLObjects+(this._appleAmdDriverHelper?.test.cachedWebGLObjects??0)}}}export{t as RenderingContext};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction e(e){return!!e.frameUpdate}export{e as isFrameUpdateTexture};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import s from\"../../../../core/Logger.js\";import{isPromiseLike as o,isAbortError as i}from\"../../../../core/promiseUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as u}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{RenderRequestType as a}from\"./basicInterfaces.js\";import{ContentObjectType as h}from\"./ContentObjectType.js\";import{isFrameUpdateTexture as c}from\"./ITexture.js\";import{TextureTechnique as p}from\"./TextureTechnique.js\";import{TextureTechniqueConfiguration as l}from\"./TextureTechniqueConfiguration.js\";import{assert as d}from\"./Util.js\";import{TaskPriority as m}from\"../../../support/Scheduler.js\";let _=class extends t{constructor(e,t,s){super({}),this._stage=e,this._techniqueRepository=t,this._rctx=s,this._textures=new Map,this._loadingCount=0,this._frameUpdates=new Map,this.events=new r,this._frameTask=e.view.resourceController.scheduler.registerTask(m.TEXTURE_UNLOAD)}normalizeCtorArgs(){return{}}destroy(){this._frameTask.remove(),this._stage.forEachOfType(h.Texture,(e=>e.unload()))}get updating(){return this._loadingCount>0||this._frameTask.updating}get textureTechnique(){return null==this._textureTechnique&&(this._textureTechnique=this._techniqueRepository.acquire(p,new l)),this._textureTechnique}acquire(e){const t=this._textures.get(e);return t?(t.ref(),t.loadingPromise??t):this._createNewRef(e)}update(){let e=!1;this._frameUpdates.forEach((t=>{const r=t.texture.frameUpdate(t.previousToken);r>=0&&r!==t.previousToken&&(t.previousToken=r,e=!0)})),e&&this.events.emit(\"changed\",a.BACKGROUND)}_createNewRef(e){const t=this._stage.getObject(e);if(null==t)return d(void 0!==t),null;const r=t.events.on(\"unloaded\",(()=>{r.remove(),this._onTextureUnloaded(e)})),n=new f(e,(()=>{this._frameTask.schedule((()=>{n.isUnreferenced&&t.unload()}))}));return this._textures.set(e,n),n.ref(),t.glTexture?(this._updateGLTexture(n,t.glTexture),c(t)&&this._frameUpdates.set(e,{texture:t,previousToken:-1}),n):(this._loadingCount++,n.loadingPromise=this._stage.schedule((()=>{const r=t.load(this._rctx),u=r=>(this._loadingCount--,n.loadingPromise=null,this._updateGLTexture(n,r),c(t)&&this._frameUpdates.set(e,{texture:t,previousToken:-1}),n),a=e=>(this._loadingCount--,n.loadingPromise=null,i(e)||s.getLogger(this).error(e),null);return o(r)?r.then(u,a):u(r)})),n.loadingPromise)}_updateGLTexture(e,t){e.glTexture=t,this.events.emit(\"changed\",a.UPDATE)}_onTextureUnloaded(e){this._textures.delete(e),this._frameUpdates.delete(e)}};e([n()],_.prototype,\"_loadingCount\",void 0),e([n()],_.prototype,\"_frameTask\",void 0),e([n()],_.prototype,\"updating\",null),_=e([u(\"esri.views.3d.webgl-engine.lib.TextureRepository\")],_);class f{constructor(e,t){this.id=e,this._release=t,this._refCount=0}get isUnreferenced(){return 0===this._refCount}ref(){++this._refCount}release(){--this._refCount,this._refCount>0||(0!==this._refCount?(s.getLogger(\"esri.views.3d.webgl-engine.lib.TextureRepository.RefCountedTextureImpl\").error(\"Cannot dereference texture that has no references!\"),this._refCount=0):this._release())}}export{_ as TextureRepository};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{createMarkerTexture as r}from\"../../support/engineContent/marker.js\";import{ProceduralTextureRepository as e}from\"./ProceduralTextureRepository.js\";function o(o,t){return new e((e=>r(e,o)),(r=>r),t)}export{o as createMarkerTextureRepository};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../../../chunks/tslib.es6.js\";import{getAssetUrl as e}from\"../../../../../assets.js\";import r from\"../../../../../core/Accessor.js\";import{createTask as t}from\"../../../../../core/asyncUtils.js\";import a from\"../../../../../core/Logger.js\";import{abortMaybe as o,disposeMaybe as i}from\"../../../../../core/maybe.js\";import{throwIfAborted as m}from\"../../../../../core/promiseUtils.js\";import{property as p}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{requestImage as l}from\"../../../../../support/requestImageUtils.js\";import{NoParameters as n}from\"../../core/shaderModules/interfaces.js\";import{ResourceState as u}from\"../../lib/basicInterfaces.js\";import{PixelFormat as h,TextureSamplingMode as g}from\"../../../../webgl/enums.js\";import{Texture as d}from\"../../../../webgl/Texture.js\";import{TextureDescriptor as _}from\"../../../../webgl/TextureDescriptor.js\";let w=class extends r{constructor(){super(...arguments),this._passParameters=new f,this._resourcesTask=null}get passParameters(){return this._passParameters}destroy(){this._resourcesTask=o(this._resourcesTask),this._passParameters.waveNormal=i(this._passParameters.waveNormal),this._passParameters.wavePerturbation=i(this._passParameters.wavePerturbation)}get updating(){return!!this._resourcesTask&&!this._resourcesTask.finished}ensureResources(s){return this._resourcesTask||(this._resourcesTask=t((async r=>{await Promise.allSettled([this._loadImageResource(s,e(\"esri/images/materials/water/normals.jpg\"),(s=>this._passParameters.waveNormal=s),r),this._loadImageResource(s,e(\"esri/images/materials/water/perturbation.jpg\"),(s=>this._passParameters.wavePerturbation=s),r)])}))),this._resourcesTask.finished?u.LOADED:u.LOADING}async _loadImageResource(s,e,r,t){try{const a=await l(e,{signal:t});m(t);const o=new _(a.width,a.height);o.pixelFormat=h.RGB,o.samplingMode=g.LINEAR_MIPMAP_LINEAR,o.hasMipmap=!0,o.maxAnisotropy=8,r(new d(s,o,a))}catch(o){a.getLogger(this).error(\"Failed to load water material normal texture.\",o)}}};s([p()],w.prototype,\"_resourcesTask\",void 0),s([p({type:Boolean,readOnly:!0})],w.prototype,\"updating\",null),w=s([c(\"esri.views.3d.webgl-engine.materials.internal.WaterTextureRepository\")],w);class f extends n{}export{f as WaterTexturePassParameters,w as WaterTextureRepository};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst n=new Map;function t(){return n}export{t as getContextCache};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{createResolver as e}from\"../../../../core/promiseUtils.js\";import{clone as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{RenderRequestType as r,Decorations as s}from\"../lib/basicInterfaces.js\";import{RendererTarget as i}from\"../lib/rendererUtils.js\";import{RenderState as o}from\"../../../support/RenderState.js\";import{resampleHermite as n}from\"../../../support/screenshotUtils.js\";import{PixelFormat as a,DataType as c}from\"../../../webgl/enums.js\";import{ensureAttachmentMaxSize as h}from\"../../../webgl/FramebufferObject.js\";import{createEmptyImageData as l}from\"../../../../core/imageUtils.js\";class d{constructor(e,t,r){this.parameters=e,this.frameHasDecorations=t,this.fbos=r}}class f{constructor(e,t,r){this._rctx=e,this._renderFunctions=t,this._forceCameraHook=r,this.supersample=!0,this._screenshotQueue=new Array}destroy(){this._rctx=null}async takeScreenshot(t){await this._renderFunctions.prepareOverlay(),this._renderFunctions.requestRenderScene(r.BACKGROUND);const s=e();return this._screenshotQueue.push({settings:t,resolver:s}),s.promise}update(e,t){for(const r of this._screenshotQueue){if(null==this._rctx){r.resolver.reject();continue}const s={...r.settings,pixelRatio:r.settings.pixelRatio*e.parameters.camera.pixelRatio},i=this._renderScreenshot(e,s,t);r.resolver(i)}this._screenshotQueue.length=0}_renderScreenshotOverlay(e,t,r){e.width=t.width,e.height=t.height;const i=e.getContext(\"2d\"),o=r.pixelRatio;return i.save(),i.translate(0,t.height),i.scale(1,-1),r.region&&i.translate(-r.region.x,-r.region.y),i.scale(o,o),t=this._renderFunctions.renderOverlay(e,r.disableDecorations?s.OFF:s.ON,t),i.restore(),t}_readbackScreenshot(e,t){return e.resample?this._readbackScreenshotResampled({...e,resample:e.resample},t):this._readbackScreenshotImmediate(e,t)}_readbackScreenshotResampled(e,t){const{framebufferWidth:r,framebufferHeight:s,region:i,resample:o}=e,h=this._ensureScreenshotEncodeCanvas();let d=l(r,s,h);this._rctx.gl.readPixels(0,0,r,s,a.RGBA,c.UNSIGNED_BYTE,new Uint8Array(d.data.buffer)),t(),d=this._renderScreenshotOverlay(h,d,{...e,region:void 0});const f=l(i.width,i.height,h);return n(d,f,!0,o.region.x,s-(o.region.y+o.region.height),o.region.width,o.region.height)}_readbackScreenshotImmediate(e,t){const{framebufferHeight:r,region:s}=e,i=this._ensureScreenshotEncodeCanvas(),o=l(s.width,s.height,i);return this._rctx.gl.readPixels(s.x,r-(s.y+s.height),s.width,s.height,a.RGBA,c.UNSIGNED_BYTE,new Uint8Array(o.data.buffer)),t(),this._renderScreenshotOverlay(i,o,e)}_renderScreenshot(e,r,n){const a=e.parameters.camera,c={width:r.framebufferWidth,height:r.framebufferHeight};h(c,Math.min(this._rctx.parameters.maxTextureSize,this._rctx.parameters.maxRenderbufferSize));let l=!1;const d=r.disableDecorations&&e.frameHasDecorations,f=c.width!==a.fullWidth||c.height!==a.fullHeight,m=r.ignorePadding&&a.pixelRatio!==r.pixelRatio,u=f||d||m||r.objectAndLayerIdColor;let p=null,g=null;if(u){const e=a.clone();if(r.ignorePadding){const s=t(e.padding);for(let t=0;t<4;t++)s[t]=Math.round(s[t]/e.pixelRatio*r.pixelRatio);e.padding=s}e.fullWidth=c.width,e.fullHeight=c.height,e.pixelRatio=r.pixelRatio;const h=a.fovX-e.fovX,d=a.fovY-e.fovY;h<0&&h<d?e.fovX=a.fovX:d<0&&d<h&&(e.fovY=a.fovY);const f={camera:e,contentCamera:e,mode:o.IDLE,alignPixelEnabled:!0,contentPixelRatio:e.pixelRatio};this._forceCameraHook(f),l=!0;const m=this._renderFunctions.renderScene(f,n,r.objectAndLayerIdColor?i.ObjectAndLayerID:i.Screenshot,r.disableDecorations?s.OFF:s.ON);g=m.screen,p=m.oid}const b=()=>{this._rctx.bindFramebuffer(null),g?.release()};this._rctx.bindFramebuffer(g?.fbo);const _=this._readbackScreenshot(r,b);let x=null;if(r.objectAndLayerIdColor){const e=()=>{this._rctx.bindFramebuffer(null),p?.release()};this._rctx.bindFramebuffer(p?.fbo),x=this._readbackScreenshot(r,e),this._rctx.bindFramebuffer(null)}if(u&&!this._rctx.contextAttributes.alpha)for(let t=3;t<_.data.length;t+=4)_.data[t]=255;if(x&&!this._rctx.contextAttributes.alpha)for(let t=3;t<x.data.length;t+=4)x.data[t]=255;return l&&this._forceCameraHook(e.parameters),[_,x]}_ensureScreenshotEncodeCanvas(){return this._screenshotEncodeCanvas||(this._screenshotEncodeCanvas=document.createElement(\"canvas\")),this._screenshotEncodeCanvas}}export{d as ScreenshotContext,f as ScreenshotManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getContextCache as e}from\"./contextCache.js\";const o={enabled:!1,disposeContextCache:()=>{const o=e();o.forEach((e=>e.dispose())),o.clear()}};export{o as contextCache};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import has from\"../../../../core/has.js\";import s from\"../../../../core/Logger.js\";import{removeMaybe as i,destroyMaybe as n}from\"../../../../core/maybe.js\";import{watch as o,initial as a,syncAndInitial as h}from\"../../../../core/reactiveUtils.js\";import{addFrameTask as p}from\"../../../../core/scheduling.js\";import{Milliseconds as d}from\"../../../../core/time.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ComponentObjectCollection as m}from\"../collections/Component/ComponentObjectCollection.js\";import{ShaderTechniqueRepository as u}from\"../core/shaderTechnique/ShaderTechniqueRepository.js\";import{RenderRequestType as _}from\"../lib/basicInterfaces.js\";import f from\"../lib/CompositingHelper.js\";import{textureToDepth as g}from\"../lib/depthRangeUtils.js\";import{GLMaterialRepository as x}from\"../lib/GLMaterialRepository.js\";import{MagnifierHelper as b}from\"../lib/MagnifierHelper.js\";import{UpdateParameters as y}from\"../lib/Material.js\";import{ObjectAndLayerIdRenderHelper as R}from\"../lib/ObjectAndLayerIdRenderHelper.js\";import{Renderer as v}from\"../lib/Renderer.js\";import{RenderingContext as j}from\"../lib/RenderingContext.js\";import{TextureRepository as w}from\"../lib/TextureRepository.js\";import{createMarkerTextureRepository as T}from\"../materials/markerTextureRepository.js\";import{createStippleTextureRepository as A}from\"../materials/stippleTextureRepository.js\";import{WaterTextureRepository as C}from\"../materials/internal/WaterTextureRepository.js\";import{getContextCache as U}from\"./contextCache.js\";import{removeLoadedShaderModules as O}from\"./requireUtils.js\";import{ScreenshotManager as q,ScreenshotContext as L}from\"./ScreenshotManager.js\";import{contextCache as D}from\"./testUtils.js\";import{RenderState as H}from\"../../../support/RenderState.js\";import{createContext as S}from\"../../../webgl/contextUtils.js\";let k=class extends t{constructor(e){super({}),this.events=new r,this.waterTextures=new C,this._magnifierHelper=new b,this.objectAndLayerIdRenderHelper=has(\"enable-feature:objectAndLayerId-rendering\")?new R:null,this._needsUpdate=!0,this._needsRender=!0,this._idleSuspend=!0,this._needsWaterReflectionUpdate=!1,this._lastAnimationUpdate=0,this._container=e.container,this._viewingMode=e.viewingMode;try{this._initializeContext(e)}catch(i){return void console.error(\"Failed to initialize context\",i)}this.addHandles([o((()=>this.waterTextures?.updating),(()=>this.requestRender()),a),o((()=>e.view.qualityProfile),(e=>this.renderer?.updateRenderFeatures(e)),h),this._magnifierHelper.events.on(\"request-render\",(()=>this.requestRender()))]);const{memoryController:t}=e.view.resourceController;this.stippleTextures=A(this._rctx,t),this.markerTextures=T(this._rctx,t),this._shaderTechniques=new u({rctx:this._rctx,viewingMode:e.viewingMode,stippleTextureRepository:this.stippleTextures,waterTextureRepository:this.waterTextures,markerTextureRepository:this.markerTextures}),this._textures=new w(e,this._shaderTechniques,this._rctx),this.addHandles(this._textures.events.on(\"changed\",(e=>this.requestRender(e)))),this._materialRepository=new x(this._textures,this._shaderTechniques,(()=>this.requestRender()),(()=>this.requestRender())),this._compositingHelper=new f(this._rctx,this._shaderTechniques),this.renderer=new v(e,this._materialRepository,this._textures,this._shaderTechniques,this._rctx,this._compositingHelper,this._magnifierHelper,(e=>this.requestRender(e)));const s={renderScene:(e,t,r,s)=>this.renderer.render(e,t,r,s),requestRenderScene:e=>this.requestRender(e),prepareOverlay:()=>e.options.screenshot.prepareOverlay(),renderOverlay:(t,r,s)=>e.options.screenshot.renderOverlay(t,r,s)};this._screenshotManager=new q(this._rctx,s,(e=>this.events.emit(\"force-camera-for-screenshot\",e))),this._registerFrameTask(e)}normalizeCtorArgs(){return{}}destroy(){this._container.contains(this._canvas)&&this._container.removeChild(this._canvas),this._frameTask=i(this._frameTask),this._shaderTechniques=n(this._shaderTechniques),this._componentObjects=n(this._componentObjects),this._screenshotManager=n(this._screenshotManager),n(this.renderer),this._textures=n(this._textures),n(this._magnifierHelper),n(this.waterTextures),n(this.markerTextures),n(this.stippleTextures),this._canvas=null,this._container=null,this._rctx=n(this._rctx)}requestRender(e=_.UPDATE){this._needsRender=!0,e===_.UPDATE&&(this._needsUpdate=!0)}get updating(){return this._needsUpdate||this._needsWaterReflectionUpdate||this.renderer.updating||this._textures.updating||this.waterTextures.updating||this._magnifierHelper.updating}get textureRepository(){return this._textures}get compositingHelper(){return this._compositingHelper}set magnifier(e){this._magnifierHelper.magnifier=e}setIdleSuspend(e){this._idleSuspend!==e&&(this._idleSuspend=e,this.requestRender())}get renderingContext(){return this._rctx}get capabilities(){return this._rctx.capabilities}get canvas(){return this._canvas}takeScreenshot(e){return this._screenshotManager.takeScreenshot(e).then((e=>e[0]))}takeScreenshotWithOID(e){return e.objectAndLayerIdColor=!0,this._screenshotManager.takeScreenshot(e)}getAlpha(){return!!this._rctx.contextAttributes.alpha}getMinimalDepthForArea(e,t,r,s,i,n=i){const o=s.constrainWindowSize(t,r,i*s.pixelRatio,n*s.pixelRatio),a=this._ensureDepthBuffer(o);this.renderer.readDepthPixels(s,o,a);let h=Number.MAX_VALUE;for(let p=0;p<o[2]*o[3];p++){const e=g(4*p,a,s.nearFar);h>e&&e!==s.nearFar[0]&&e!==s.nearFar[1]&&(h=e)}if(e){const i=e.pickDepth(t*s.pixelRatio,r*s.pixelRatio,s);null!=i&&h>i&&i!==s.nearFar[0]&&i!==s.nearFar[1]&&(h=i)}return h===Number.MAX_VALUE?void 0:h}_ensureDepthBuffer(e){const t=4*e[2]*e[3];return(null==this._tmpDepthBuffer||this._tmpDepthBuffer.byteLength<t)&&(this._tmpDepthBuffer=new Uint8Array(t)),this._tmpDepthBuffer}async reloadShaders(){O(),await this._shaderTechniques.reloadAll(),this.requestRender()}_registerFrameTask(e){const t=e.view.state;let r=!1,s=_.BACKGROUND,i=!1;const n={preRender:({time:i})=>{r=this.updating,s=this._needsUpdate?_.UPDATE:_.BACKGROUND,e.commitSyncLayers();const n=d(i-this._lastAnimationUpdate);if(n>this.renderer.animationTimestep||null!=t.forcedAnimationTime||r||this._needsRender){const e=d(n/this.renderer.animationTimeDilation),r=new y(t.camera,e,t.forcedAnimationTime);this.renderer.updateAnimation(r)&&this.requestRender(_.BACKGROUND),this._lastAnimationUpdate=i}},render:({time:e})=>{if((this._needsRender||!this._idleSuspend||!this.renderer.isCameraFinal||this._needsWaterReflectionUpdate)&&t.camera.fullWidth>0&&t.camera.fullHeight>0){const r=this._needsUpdate&&this._idleSuspend&&this.renderer.isCameraFinal;this._needsRender=!1,this._needsUpdate=!1,this._needsWaterReflectionUpdate=!1,this.renderer.render(t,e),i=!0,r&&this.renderer.hasReflections&&(this.requestRender(_.BACKGROUND),this._needsWaterReflectionUpdate=!0)}},update:({time:e})=>{const r=this.renderer.hasSlicePlane||this._magnifierHelper.enabled||this.renderer.hasDecorations||this.renderer.hasHighlights,s=new L(t,r,this.renderer.fboCache);this._textures.update(),this._screenshotManager.update(s,e)},finish:()=>{i&&(this.renderer.finish(t.mode===H.IDLE?s:_.UPDATE),i=!1)}};this._frameTask=p(n)}_initializeContext(e){const t=e.options;this._canvas=t.canvas,this._canvas||(this._canvas=document.createElement(\"canvas\")),this._canvas.setAttribute(\"style\",\"width: 100%; height:100%; display:block;\");const r={alpha:t.alpha||!1,premultipliedAlpha:!0,antialias:!1,depth:!0,stencil:t.stencil??!0,powerPreference:\"high-performance\",preserveDrawingBuffer:t.preserveDrawingBuffer??!1},i=S(this._canvas,r);null!=i?(this._rctx=M(i,e),this._loadShaderOnlyExtensions(),!t.alpha&&this._rctx.contextAttributes.alpha&&s.getLogger(this).error(\"WebGL context has alpha channel even though no alpha channel was requested\"),!this._rctx.contextAttributes.alpha&&has(\"safari\")>=11&&(this._container.style.backgroundColor=\"black\"),this._container.appendChild(this._canvas)):s.getLogger(this).error(\"A WebGL2 context could not be created.\")}_loadShaderOnlyExtensions(){this._rctx.capabilities.enable(\"textureFloat\")}getObjectAndLayerIdColor(e){return null!=this.objectAndLayerIdRenderHelper?this.objectAndLayerIdRenderHelper.getObjectAndLayerIdColor(e):null}get componentObjectCollection(){return null==this._componentObjects&&(this._componentObjects=new m(this.renderer.renderPassManager,this._viewingMode)),this._componentObjects}set componentObjectCollection(e){this._componentObjects=e}};function M(e,t){const r={disabledExtensions:t.options.deactivatedWebGLExtensions||{},debugWebGLExtensions:t.options.debugWebGLExtensions||{},maxAnisotropy:8},s=(e,r)=>t.view.resourceController.memoryController.newCache(e,r);if(D.enabled){let t=E.get(e);return t?(t.configure(r),t.newCache=s,t.ref(),t):(t=new j(e,r,s),E.set(e,t),t.ref(),t)}return new j(e,r,s)}e([c({type:Boolean,readOnly:!0})],k.prototype,\"updating\",null),e([c()],k.prototype,\"_rctx\",void 0),e([c()],k.prototype,\"_container\",void 0),e([c()],k.prototype,\"_canvas\",void 0),e([c()],k.prototype,\"stippleTextures\",void 0),e([c()],k.prototype,\"markerTextures\",void 0),e([c()],k.prototype,\"waterTextures\",void 0),e([c()],k.prototype,\"_magnifierHelper\",void 0),e([c({readOnly:!0})],k.prototype,\"objectAndLayerIdRenderHelper\",void 0),e([c()],k.prototype,\"_textures\",void 0),e([c({readOnly:!0})],k.prototype,\"renderer\",void 0),e([c()],k.prototype,\"_screenshotManager\",void 0),e([c()],k.prototype,\"componentObjectCollection\",null),e([c()],k.prototype,\"_componentObjects\",void 0),e([c()],k.prototype,\"_needsUpdate\",void 0),e([c()],k.prototype,\"_needsWaterReflectionUpdate\",void 0),k=e([l(\"esri.views.3d.webgl-engine.parts.RenderView\")],k);const E=U();export{k as RenderView};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import r from\"../../../core/PooledArray.js\";import{isPromiseLike as s}from\"../../../core/promiseUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{isIntersectionHandler as o}from\"../state/helpers/SceneIntersectionHelper.js\";import{ChangeSet as d}from\"./lib/ChangeSet.js\";import{UpdatePolicy as a}from\"./lib/UpdatePolicy.js\";import{isWebGLLayer as h}from\"./lib/WebGLLayer.js\";import{Model as y}from\"./parts/Model.js\";import{RenderView as l}from\"./parts/RenderView.js\";import{TaskPriority as c,noBudget as m}from\"../../support/Scheduler.js\";import{Yield as p}from\"../../support/Yield.js\";let u=class extends t{constructor(e){super(e),this._model=new y,this._layers=new r,this._asyncChangeSet=new d,this._syncChangeSet=new d,this._layerSyncSet=new Set}initialize(){this._set(\"renderView\",new l(this)),this._frameTask=this.view.resourceController.scheduler.registerTask(c.STAGE,this),this.addHandles(this._frameTask)}destroy(){this.renderView.destroy()}get viewingMode(){return this.view.state.viewingMode}get updating(){return this.running||this.renderView.updating||this._frameTask.updating}get renderer(){return this.renderView?.renderer}add(e){this._model.add(e),h(e)&&this._addLayer(e),this.renderView.requestRender()}remove(e){null!=e&&!this.destroyed&&this._model.remove(e)&&(h(e)&&this._removeLayer(e),this.renderView.requestRender())}addMany(e){null!=e&&(this._model.addMany(e),this.renderView.requestRender())}removeMany(e){null!=e&&(this._model?.removeMany(e),this.renderView?.requestRender())}forEachOfType(e,t){this._model.forEachOfType(e,t)}handleEvent(e,t){this.destroyed||(this._model.dirtySet[e](t),this.renderView.requestRender())}get running(){return this._model.dirtySet.dirty||!this._asyncChangeSet.empty}runTask(e){if(this._frameTask.processQueue(e),this._commit(e),!e.hasProgressed)return p}_commit(e){const t=this._model.dirtySet;this._asyncChangeSet.empty||e.done||(this.renderer.modify(this._asyncChangeSet,e),this.renderView.requestRender(),e.madeProgress()),this._layers.forAll((r=>{if(e.done)return;const s=this._layerSyncSet.has(r.id)||r.updatePolicy===a.SYNC,i=s?this._syncChangeSet:this._asyncChangeSet;t.commitLayer(r.id,i),this._layerSyncSet.delete(r.id),i.empty||(this.renderer.modify(i,s?m:e),this.renderView.requestRender(),e.madeProgress())})),this._syncChangeSet.empty||(this.renderer.modify(this._syncChangeSet,m),this.renderView.requestRender(),e.madeProgress()),this._layers.forAll((r=>{e.done||this._layerSyncSet.has(r.id)||r.updatePolicy!==a.ASYNC||(t.commitLayer(r.id,this._asyncChangeSet),this._asyncChangeSet.empty||(this.renderer.modify(this._asyncChangeSet,e),this.renderView.requestRender(),e.madeProgress()))})),this._layerSyncSet.clear(),this.notifyChange(\"running\")}commitSyncLayers(){const e=this._model.dirtySet;this._layers.forAll((t=>{this._layerSyncSet.has(t.id)||t.updatePolicy===a.SYNC?(e.commitLayer(t.id,this._syncChangeSet),this._layerSyncSet.delete(t.id)):e.commitSyncUpdates(t.id,this._syncChangeSet)}));for(const t of this._layerSyncSet)e.commitLayer(t,this._syncChangeSet);this._layerSyncSet.clear(),this._syncChangeSet.empty||(this.renderer.modify(this._syncChangeSet,m),this.renderView.requestRender())}_commitLayer(e){this._model.dirtySet.commitLayer(e.id,this._syncChangeSet),this._layerSyncSet.delete(e.id),this._syncChangeSet.empty||(this.renderer.modify(this._syncChangeSet,m),this.renderView.requestRender())}schedule(e,t){return this._frameTask.schedule(e,t)}reschedule(e,t){return this._frameTask.reschedule(e,t)}syncLayer(e){this._layerSyncSet.add(e),this.renderView.requestRender()}getObject(e){return this._model.getObject(e)}get layers(){return this._layers}_addLayer(e){this._layers.includes(e)||this._layers.push(e)}_removeLayer(e){this._commitLayer(e),null!=this._layers.removeUnordered(e)&&(this._model.dirtySet.getResidentRenderGeometries(e.id,this._syncChangeSet.removes),this.renderer.modify(this._syncChangeSet,m))}addRenderPlugin(e,t){const r=this.renderer.plugins.add(e,t),i=()=>{o(e)&&this.view.sceneIntersectionHelper.addIntersectionHandler(e)};if(s(r))return r.then(i);i()}removeRenderPlugin(e){this.destroyed||(o(e)&&this.view.sceneIntersectionHelper.removeIntersectionHandler(e),this.renderer.plugins.remove(e))}get performanceInfo(){return this._model.getStats()}get test(){const e=this;return{getCount:t=>e._model.test.content.filter((e=>e.type===t)).length,model:e._model}}};u.DebugSettings={endFrameContentValidation:!1},e([i({constructOnly:!0})],u.prototype,\"view\",void 0),e([i({constructOnly:!0})],u.prototype,\"options\",void 0),e([i({readOnly:!0})],u.prototype,\"viewingMode\",null),e([i({constructOnly:!0})],u.prototype,\"container\",void 0),e([i({readOnly:!0})],u.prototype,\"updating\",null),e([i({constructOnly:!0})],u.prototype,\"_model\",void 0),e([i()],u.prototype,\"renderView\",void 0),e([i({readOnly:!0})],u.prototype,\"renderer\",null),e([i({readOnly:!0})],u.prototype,\"running\",null),u=e([n(\"esri.views.3d.webgl-engine.Stage\")],u);export{u as Stage};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"../DefaultUI.js\";let e=class extends t{constructor(o){super(o),this.components=[\"attribution\",\"zoom\",\"navigation-toggle\",\"compass\"]}};o([s()],e.prototype,\"components\",void 0),e=o([r(\"esri.views.ui.3d.DefaultUI3D\")],e);const c=e;export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../Camera.js\";import\"../geometry.js\";import i from\"../Viewpoint.js\";import r from\"../core/Collection.js\";import{byId as s}from\"../core/domUtils.js\";import a from\"../core/Error.js\";import{on as n}from\"../core/events.js\";import{makeHandle as o,handlesGroup as l}from\"../core/handleUtils.js\";import has from\"../core/has.js\";import p from\"../core/Logger.js\";import{destroyMaybe as h,maybeProperty as d}from\"../core/maybe.js\";import{ObservableChangesType as c}from\"../core/ObservableChangesType.js\";import{throwIfAborted as u}from\"../core/promiseUtils.js\";import{on as g,watch as m,initial as y,syncAndInitial as f,whenOnce as w,sync as _}from\"../core/reactiveUtils.js\";import{setFrameDuration as v}from\"../core/scheduling.js\";import{createScreenPoint as b,createScreenPointArray as M}from\"../core/screenUtils.js\";import{initialize as S}from\"../core/workers/workers.js\";import{property as V}from\"../core/accessorSupport/decorators/property.js\";import{cast as C}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/RandomLCG.js\";import{subclass as R}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureType as j,ensureClass as O}from\"../core/accessorSupport/ensureType.js\";import{overrideDefaultsFrom as T}from\"../core/accessorSupport/overrideDefaultsFrom.js\";import{create as x}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{owningCollectionProperty as E}from\"../core/support/OwningCollection.js\";import L from\"../geometry/HeightModelInfo.js\";import{canProjectWithoutEngine as H,project as P}from\"../geometry/projection.js\";import{projectBoundingRect as A}from\"../geometry/projection/projectBoundingRect.js\";import{projectPointToVector as I}from\"../geometry/projection/projectPointToVector.js\";import{create as G,toExtent as D}from\"../geometry/support/aaBoundingRect.js\";import{B as F,c as W}from\"../chunks/boundedPlane.js\";import{renderSRFromViewSR as U}from\"../geometry/support/coordinateSystem.js\";import{getResolutionForScale as k}from\"../geometry/support/scaleUtils.js\";import{isImageryTileLayer as q,isTiledLayer as z,isVoxelLayer as B,isIntegratedMeshLayer as N}from\"../layers/support/layerUtils.js\";import{AnalysesCollection as Q}from\"../support/AnalysesCollection.js\";import{BreakpointsOwner as Y}from\"./BreakpointsOwner.js\";import{DOMContainer as Z}from\"./DOMContainer.js\";import $ from\"./GroundView.js\";import{PopupView as J}from\"./PopupView.js\";import K from\"./View.js\";import X from\"./ViewAnimation.js\";import{ViewingMode as ee,stringFromViewingMode as te,viewingModeFromString as ie}from\"./ViewingMode.js\";import{layerView3DImporter as re}from\"./3d/layerViewModuleImportUtils.js\";import se from\"./3d/analysis/AnalysisViewManager3D.js\";import{Constraints as ae}from\"./3d/constraints/Constraints.js\";import ne from\"./3d/environment/SceneViewEnvironment.js\";import{SceneViewEnvironmentManager as oe}from\"./3d/environment/SceneViewEnvironmentManager.js\";import le from\"./3d/input/SceneInputManager.js\";import{GraphicsDeconflictor as pe}from\"./3d/layers/graphics/GraphicsDeconflictor.js\";import{Labeler as he}from\"./3d/layers/graphics/Labeler.js\";import{FeatureTileTree3D as de}from\"./3d/layers/support/FeatureTileTree3D.js\";import ce from\"./3d/state/ViewState.js\";import{ViewStateManager as ue}from\"./3d/state/ViewStateManager.js\";import{SceneIntersectionHelper as ge}from\"./3d/state/helpers/SceneIntersectionHelper.js\";import{CombinedElevationProvider as me}from\"./3d/support/CombinedElevationProvider.js\";import{debugFlags as ye}from\"./3d/support/debugFlags.js\";import fe from\"./3d/support/DisplayQualityProfile.js\";import{getElevationAtPoint as we}from\"./3d/support/ElevationProvider.js\";import _e from\"./3d/support/HighlightOptions.js\";import{toMap as ve,hitTest as be}from\"./3d/support/hitTest.js\";import{MapCoordsHelper as Me}from\"./3d/support/MapCoordsHelper.js\";import{popupHitTest as Se}from\"./3d/support/popupHitTest.js\";import{PropertiesPool as Ve}from\"./3d/support/PropertiesPool.js\";import Ce from\"./3d/support/QualitySettings.js\";import{RenderCoordsHelper as Re}from\"./3d/support/RenderCoordsHelper.js\";import{newResourceController as je}from\"./3d/support/ResourceController.js\";import Oe from\"./3d/support/SceneViewPerformanceInfo.js\";import{SharedSymbolResources as Te}from\"./3d/support/SharedSymbolResources.js\";import{TextureCollection as xe}from\"./3d/support/TextureCollection.js\";import{PointsOfInterest as Ee}from\"./3d/support/pointsOfInterest/PointsOfInterest.js\";import Le from\"./3d/terrain/TerrainSurface.js\";import{isSurfaceLayerView as He,getTiledLayerInfo as Pe,checkIfTileInfoSupportedForView as Ae}from\"./3d/terrain/terrainUtils.js\";import{Stage as Ie}from\"./3d/webgl-engine/Stage.js\";import{Decorations as Ge}from\"./3d/webgl-engine/lib/basicInterfaces.js\";import{defaultTolerance as De}from\"./3d/webgl-engine/lib/Intersector.js\";import{terrainId as Fe}from\"./3d/webgl-engine/lib/verticalOffsetUtils.js\";import{occludeesSupported as We}from\"./support/layerViewUtils.js\";import{encode as Ue,encodeData as ke,toRenderSettings as qe,screenshotSuperSampleSettings as ze}from\"./support/screenshotUtils.js\";import{isSupportedScreenPointEvent as Be,createScreenPointFromSupportedEvent as Ne}from\"./support/screenUtils.js\";import{isSpatialReferenceSupported as Qe}from\"./support/spatialReferenceSupport.js\";import{check as Ye}from\"./support/WebGLRequirements.js\";import Ze from\"./ui/DefaultUI.js\";import $e from\"./ui/3d/DefaultUI3D.js\";import Je from\"../webscene/Environment.js\";import Ke from\"../geometry/Extent.js\";import Xe from\"../geometry/SpatialReference.js\";import et from\"../geometry/Point.js\";let tt=class extends(Y(J(Z(K)))){constructor(e){super(e),this._userClippingArea=null,this._clippingArea=null,this._initialDefaultSpatialReference=null,this._createGraphicsViewController=null,this._resolveWhenReady=[],this._propertiesPool=new Ve({slicePlane:F},this),this._resourceController=je(this),this._defaultToMapOptions={include:new Set},this._defaultHitTestOptions={exclude:new Set},this.deconflictor=new pe({view:this}),this.labeler=new he({view:this,deconflictor:this.deconflictor.labels}),this.sharedSymbolResources=null,this.analyses=new Q,this.basemapTerrain=null,this.elevationProvider=null,this.canvas=null,this.constraints=new ae,this.environment=new ne,this.environmentManager=new oe,this.floors=new r,this.fullOpacity=1,this.graphicsView=null,this.analysisViewManager=new se({view:this}),this.groundView=null,this.map=null,this.screenSizePerspectiveEnabled=!0,this.state=new ce,this.spatialReference=null,this.alphaCompositingEnabled=!1,this.preserveDrawingBufferEnabled=!1,this.supersampleScreenshotsEnabled=!0,this.type=\"3d\",this.ui=new $e,this._numUpdating=0,this._lastUpdateTime=0,this.updatingProgress=.5,this.highlightOptions=new _e,S();const t=(e=null)=>{null!=e&&e.type===c.MOVE||(this._updatingChanged(),this.map&&this.map.allLayers.forEach((async e=>{try{await e.when()}catch{}this._updatingChanged()})))};this.addHandles([g((()=>this.map?.allLayers),\"after-changes\",(e=>t(e)),{onListenerAdd:()=>t(),onListenerRemove:()=>t(),sync:!0}),this.allLayerViews.on(\"after-changes\",(e=>this._updateUpdatingMonitors(e))),m((()=>this.map),(e=>{e&&\"load\"in e&&e.load&&e.load().catch((()=>{}))}))]),this.inputManager=new le({view:this}),this.stateManager=new ue({view:this})}initialize(){this.groundView=new $({view:this}),this._updateUpdatingMonitors();const e=()=>this._updateDefaultToMapOptions();this.addHandles(g((()=>this.map?.allLayers),\"after-changes\",e,{onListenerAdd:e,onListenerRemove:e})),this.updatingHandles.add((()=>this.qualitySettings.memoryLimit),(e=>{this.resourceController&&(this.resourceController.memoryController.maxMemory=e)}),y),this.updatingHandles.add((()=>this.qualitySettings.additionalCacheMemory),(e=>{this.resourceController&&(this.resourceController.memoryController.additionalCacheMemory=e)}),y),this.updatingHandles.add((()=>this.qualitySettings.frameRate??0),(e=>v(e>0?1e3/Math.ceil(e):0)),y),this.updatingHandles.add((()=>this.map?.ground),e,f),this.updatingHandles.add((()=>this.map?.ground?.opacity),(()=>this._updateDefaultHitTestOptions()),f),this.addHandles(m((()=>this.spatialReference),(()=>this.notifyChange(\"clippingArea\")),_))}destroy(){this.destroyed||(this.updatingHandles.removeAll(),this.invalidate(),this.activeTool=null,this.layerViewManager.clear(),this._exitSurface(),this._disposeGraphicsView(),this.sharedSymbolResources=h(this.sharedSymbolResources),this._set(\"labeler\",h(this.labeler)),this._set(\"deconflictor\",h(this.deconflictor)),this._resourceController=h(this._resourceController),this._set(\"stateManager\",h(this.stateManager)),this._set(\"inputManager\",h(this.inputManager)),this.state.destroy(),this._propertiesPool.destroy(),this.removeHandles(\"updatingMonitors\"),this._set(\"environmentManager\",h(this.environmentManager)),this._set(\"environment\",h(this.environment)),this.groundView=h(this.groundView),this._exitBasemapTerrain(),this._stage?.destroy())}get renderSpatialReference(){return this.renderCoordsHelper&&this.renderCoordsHelper.spatialReference}get basemapSpatialReference(){return this.basemapTerrain?.spatialReference}get animation(){return this.state?.animation}get camera(){return this.stateManager?.camera}set camera(e){this.stateManager&&(this.stateManager.camera=e)}get contentCamera(){return this.stateManager?.contentCamera}set contentCamera(e){this.stateManager&&(this.stateManager.contentCamera=e)}installContentCameraReset(e={sticky:!1}){return this.stateManager.installContentCameraReset(e)}get center(){return this.stateManager?.center}set center(e){this.stateManager&&(this.stateManager.center=e)}get clippingArea(){if(\"global\"===this.viewingMode)return null;const e=this.map;let t=this._userClippingArea||d(e,\"clippingArea\");return!this._userClippingArea&&!d(e,\"clippingEnabled\")||null==t?(this._clippingArea=null,null):t instanceof Ke?this.spatialReference&&(t=it(t,this.spatialReference),null==t)?(p.getLogger(this).error(\"#clippingArea\",\"setting clippingArea with incompatible SpatialReference\"),this._clippingArea):(t=t.clone(),null==t.intersection(this._groundAndLayersExtent)&&(t.xmin=t.xmax,t.ymin=t.ymax),t.zmin=void 0,t.zmax=void 0,t.equals(this._clippingArea)||(this._clippingArea=t),this._clippingArea):(p.getLogger(this).error(\"#clippingArea\",\"only clippingArea geometries of type Extent are supported\"),this._clippingArea)}set clippingArea(e){this.ready&&\"global\"===this.viewingMode&&null!=e?p.getLogger(this).error(\"#clippingArea=\",\"Clipping area is only supported in local viewingMode\"):this._userClippingArea=e}get renderDataExtent(){if(this.state.viewingMode===ee.Global)return null;const e=this.renderSpatialReference,t=this.dataExtent;return null==t||null==e||t.spatialReference.equals(e)?t:it(t,e)}get dataExtent(){let e=this._groundAndLayersExtent;const t=this.spatialReference||Xe.WGS84,i=it(this.clippingArea,t);null!=i&&(e=null!=e?e.intersection(i):i);const r=this._get(\"dataExtent\");return null!=e&&e.equals(r)?r:e}get _groundAndLayersExtent(){const e=this.spatialReference||Xe.WGS84;let t;const i=i=>{const r=it(i,e);null!=r&&(null!=t?t.union(r):t=r.clone())},r=this.basemapTerrain;if(r?.spatialReference){const e=r.groundExtent;i(new Ke({xmin:e[0],ymin:e[1],zmin:0,xmax:e[2],ymax:e[3],zmax:0,spatialReference:r.spatialReference}))}if(this.map){const e=e=>{null==e.fullExtent||\"graphics\"===e.type&&e.internal||i(e.fullExtent)};this.map.allLayers.forEach((t=>e(t)))}if(null==t)return null;t.hasZ?(t.zmin=Math.min(0,t.zmin??0),t.zmax=Math.max(0,t.zmax??0)):(t.zmin=0,t.zmax=0);const s=this._get(\"_groundAndLayersExtent\");return t.equals(s)?s:t}castEnvironment(e){return e?e instanceof ne?e:e instanceof Je?this.environment?.cloneWithWebsceneEnvironment(e)??ne.fromWebsceneEnvironment(e):j(ne,e):new ne}get extent(){return this.stateManager?.extent}set extent(e){this.stateManager&&(this.stateManager.extent=e)}get screenCenter(){return this.stateManager?.screenCenter}get frustum(){return this.stateManager?.frustum}get initialExtentRequired(){return this.stateManager&&!this.stateManager.hasInitialView}get _defaultsFromMapSettings(){return{required:{tileInfo:!1,heightModelInfo:!0,extent:!1}}}get interacting(){return this.navigating||(this.toolViewManager?.interacting??!1)}get stationary(){return!this.animation&&!this.resizing&&(null==this.state||this.state.stationary)}get navigating(){return this.state?.navigating??!1}get padding(){return this.stateManager?.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}set qualityProfile(e){fe.isValidProfile(e)&&(fe.apply(e,this.qualitySettings),this._set(\"qualityProfile\",e))}get qualityProfile(){return this._get(\"qualityProfile\")||fe.getDefaultProfile()}set slicePlane(e){if(null!=this._stage&&this._stage.renderer.setParameters({slicePlane:e}),null==e)return void this._set(\"slicePlane\",null);const t=this._propertiesPool.get(\"slicePlane\");W(e,t),this._set(\"slicePlane\",t)}get typeSpecificPreconditionsReady(){return!!this.viewingMode&&this.stateManager.preinit(this.spatialReference)}get resolution(){return null!=this.spatialReference?k(this.scale,this.spatialReference):0}get scale(){return this.stateManager?.scale}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get heightModelInfo(){const e=this.getDefaultHeightModelInfo();return null!=e?L.deriveUnitFromSR(e,this.spatialReference):null}get updating(){if(this.destroyed)return!1;let e=0,t=this.layerViewManager.updating,i=t?this.layerViewManager.updatingRemaining:0;this.allLayerViews.forEach((r=>{if(r.isFulfilled()){if(r.updating){if(t=!0,r.suspended||He(r))return;++i,e+=r.updatingProgress}}else++i}));for(const s of this._updatingObjects)if(null!=s&&s.updating){const t=.1;i+=t,e+=.5*t}for(const s of this._updatingObjectsWithProgress)null!=s&&s.updating&&(++i,e+=s.updatingProgress);const r=!this.stateManager.test.updatingIgnoreRenderState&&this.state.updating;if(t=!!(t||i>0||this.updatingHandles.updating||!this.ready||!this.stationary||r||this._createGraphicsViewController||this.inputManager?.updating||this.map?.allLayers?.some((e=>!e.isFulfilled()))||this.textures?.updating),t?(this._numUpdating=Math.max(i,this._numUpdating),e+=this._numUpdating-i):this._numUpdating=0,this._numUpdating>0?e/=this._numUpdating:e=t?0:1,this._get(\"updatingProgress\")!==e){const i=performance.now();if(e<1){const t=Math.min((i-this._lastUpdateTime)/2e3,1);e=this.updatingProgress*(1-t)+e*t}this._set(\"updatingProgress\",e),this._lastUpdateTime=t&&e<1?i:0}return t}get _updatingObjects(){return[this.graphicsView,this.basemapView,this._resourceController,this._stage,this.featureTiles,this.pointsOfInterest,this.environmentManager,this.overlay,this._featureTreeDebugger,this.toolViewManager,this.analysisViewManager]}get _updatingObjectsWithProgress(){return[this.deconflictor,this.labeler,this.basemapTerrain]}get viewingMode(){const e=this._predeterminedViewingMode;if(null!=e)return te(e);const t=this.spatialReference;return t?null!=this.defaultsFromMap?.viewingMode&&t.equals(this.defaultsFromMap.spatialReference)?te(this.defaultsFromMap.viewingMode):Qe(t,ee.Global)?\"global\":\"local\":\"global\"}set viewingMode(e){this.ready?p.getLogger(this).error(\"#viewingMode\",\"viewingMode cannot be set once view is ready\"):this._overrideIfSome(\"viewingMode\",e)}get viewpoint(){return this.stateManager?.viewpoint}set viewpoint(e){this.stateManager&&(this.stateManager.viewpoint=e)}get zoom(){return this.stateManager.zoom}set zoom(e){this.stateManager&&(this.stateManager.zoom=e)}get resourceController(){return this._resourceController}get quality(){return this._resourceController?.memoryController?.memoryFactor??1}get resolutionScale(){return Math.sqrt(Math.min(1,this.quality/.75))}get performanceInfo(){return new Oe(this)}on(e,t,i,r){const s=this.viewEvents.on(e,t,i,r);return s||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}toMap(e,t){if(!this.ready)return p.getLogger(this).error(\"#toMap()\",\"Scene view cannot be used before it is ready\"),null;const i=Be(e)?Ne(this,e):e;return ve(this,i,t,this._defaultToMapOptions)}toScreen(e){if(!this.ready)return p.getLogger(this).error(\"#toScreen()\",\"Scene view cannot be used before it is ready\"),null;const t=(null==e.z?we(this.elevationProvider,e):null)??0;return I(e,rt,this.renderSpatialReference,t),this.state.camera.projectToScreen(rt,st),b(st[0],st[1])}pixelSizeAt(e){return this.ready?e?(I(e,rt,this.renderSpatialReference),this.state.camera.computeScreenPixelSizeAt(rt)):0:(p.getLogger(this).error(\"#pixelSizeAt()\",\"Scene view cannot be used before it is ready\"),null)}overlayPixelSizeInMapUnits(e){const t=this.basemapTerrain.overlayManager;return t?t.overlayPixelSizeInMapUnits(e,(()=>this.pixelSizeAt(e))):1}hitTest(e,t){if(!this.ready)return p.getLogger(this).error(\"#hitTest()\",\"Scene view cannot be used before it is ready\"),null;const i=Be(e)?Ne(this,e):e;return be(this,i,t,this._defaultHitTestOptions)}async popupHitTest(e){return Se(this,e)}goTo(e,t){return this.updatingHandles.addPromise(this.stateManager.goTo(e,t))}async whenAnalysisView(e){if(null==e.parent)throw new a(\"view:no-analysisview-for-analysis\",\"The analysis has not been added to view.analyses\",{analysis:e});switch(e.parent.type){case\"line-of-sight\":case\"dimension\":return(await this.whenLayerView(e.parent)).whenAnalysisView();default:return this.analysisViewManager.whenAnalysisView(e)}}whenLayerView(e){return super.whenLayerView(e)}async takeScreenshot(e){const t=this._completeSettings(e);await this.whenReady();const i=await this._stage.renderView.takeScreenshot(t);return Ue(i,t,this._pixelFormat())}async _takeScreenshot(e){const t=this._completeSettings(e);await this.whenReady();const i=await this._stage.renderView.takeScreenshot(t);return ke(i,this._pixelFormat())}async _takeScreenshotWithObjectAndLayerId(e){const t=this._completeSettings(e);await this.whenReady();const i=await this._stage.renderView.takeScreenshotWithOID(t);return[ke(i[0],this._pixelFormat()),ke(i[1],this._pixelFormat())]}_completeSettings(e){const t=qe(e,this);return t.pixelRatio/=this.state.pixelRatio,ze(t,this.supersampleScreenshotsEnabled,this.padding)}_pixelFormat(){return{flipY:!0,premultipliedAlpha:this._stage.renderView.getAlpha()}}get test(){return{takeScreenshot:e=>this._takeScreenshot(e),takeScreenshotWithObjectAndLayerId:e=>this._takeScreenshotWithObjectAndLayerId(e)}}async takeScreenshotWithObjectAndLayerId(e){if(!has(\"enable-feature:objectAndLayerId-rendering\"))throw new Error(\"has enable-feature:objectAndLayerId-rendering must be true\");const t=this._completeSettings(e);await this.whenReady();const i=await this._stage.renderView.takeScreenshotWithOID(t),r=Ue(i[0],t,this._pixelFormat()),s=this._completeSettings(e);s.format=\"png\";return[r,Ue(i[1],s,this._pixelFormat())]}getColorToObjectAndLayerIdMapping(){if(null==this._stage.renderView.objectAndLayerIdRenderHelper)throw new Error(\"has enable-feature:objectAndLayerId-rendering must be true\");return this._stage.renderView.objectAndLayerIdRenderHelper.getColorToObjectAndLayerIdMapping()}addUpdatingPromise(e){return this.updatingHandles.addPromise(e)}importLayerView(e){return re.importLayerView(e)}hasLayerViewModule(e){return re.hasLayerViewModule(e)}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&\"initialViewProperties\"in this.map&&this.map.initialViewProperties?.spatialReference||this.defaultsFromMap?.spatialReference||this.defaultsFromMap?.ready&&this._initialDefaultSpatialReference||null}async validate(){let e=Ye(this.type);const t=has(\"safari\");if(t&&t<9&&(e=new a(\"sceneview:browser-not-supported\",\"This browser is not supported by SceneView (Safari < 9)\",{type:\"safari\",requiredVersion:9,detectedVersion:t})),null!=e)throw p.getLogger(this).warn(\"#validate()\",e.message),e}get _predeterminedViewingMode(){const e=this._isOverridden(\"viewingMode\")?this._get(\"viewingMode\"):(this.map&&\"initialViewProperties\"in this.map?this.map.initialViewProperties?.viewingMode:null)??null;return null!=e?ie(e):null}getSpatialReferenceSupport({spatialReference:e,layer:t}){const i=this._predeterminedViewingMode;if(null!=i)return this._validateSpatialReferenceForViewingMode(e,t,i)?{constraints:this._makeSpatialReferenceConstraints(e,t,i)}:null;const r=this._validateSpatialReferenceForViewingMode(e,t,ee.Local),s=this._validateSpatialReferenceForViewingMode(e,t,ee.Global);return r||s?r&&s?{constraints:this._makeSpatialReferenceConstraints(e,t,null)}:r?{constraints:this._makeSpatialReferenceConstraints(e,t,ee.Local)}:{constraints:this._makeSpatialReferenceConstraints(e,t,ee.Global)}:null}_validateSpatialReferenceForViewingMode(e,t,i){return!!Qe(e,i)&&(null==t||(!!q(t)||(!z(t)||null!=Pe(t,e,i))&&(!B(t)||i!==ee.Global)))}_makeSpatialReferenceConstraints(e,t,i){if(null==t)return[{spatialReference:e,viewingMode:i}];const r=e.isWebMercator,s=e.isWGS84;if(q(t)&&(r||s)){return!s||i===ee.Local||null===Ae(t.tileInfo,t.fullExtent,e,ee.Global)?[{spatialReference:e,viewingMode:i},{spatialReference:Xe.WebMercator,viewingMode:i}]:[{spatialReference:r?Xe.WGS84:Xe.WebMercator,viewingMode:i}]}return z(t)||B(t)||!r&&!s?z(t)&&r&&i!==ee.Global?[{spatialReference:e,viewingMode:i},{spatialReference:Xe.WGS84,viewingMode:ee.Local}]:[{spatialReference:e,viewingMode:i}]:[{spatialReference:e,viewingMode:i},{spatialReference:r?Xe.WGS84:Xe.WebMercator,viewingMode:i}]}_validateSpatialReference(e){const t=null!=this.getSpatialReferenceSupport({spatialReference:e}),i=this._predeterminedViewingMode;return t||(null!=i?p.getLogger(this).warnOnce(`Spatial reference defined on view not supported in ${te(i)} viewing mode.`):e.isGeographic&&p.getLogger(this).warnOnce(\"Spatial reference is geographic but not supported.\")),t}whenReady(){return new Promise((e=>{this.ready?e(this):this._resolveWhenReady.push(e)}))}trackGraphicState(e){if(!e.graphic)return p.getLogger(this).error(\"trackGraphicState\",\"GraphicState.graphic must not be null or undefined to start tracking\"),null;const t=this.getViewForGraphic(e.graphic);let i=null,r=!1;const s=t=>{!r&&null!=t&&\"processor\"in t&&\"graphics-3d\"===t.processor?.type&&t.processor.graphicsCore&&(i=t.processor.graphicsCore.trackGraphicState(e))};return null!=t?s(t):this.whenViewForGraphic(e.graphic,{waitForLayer:!0}).then((e=>s(e)),(()=>{})).catch((()=>{})),o((()=>{r=!0,null!=i&&(i.remove(),i=null)}))}highlight(e){if(Array.isArray(e))return l(e.map((e=>this.highlight(e))));if(r.isCollection(e))return l(e.toArray().map((e=>this.highlight(e))));const t=this.getViewForGraphic(e);return t&&\"highlight\"in t?t.highlight(e):o()}maskOccludee(e){if(!e)return p.getLogger(this).error(\"maskOccludee\",\"GraphicState.graphic must not be null or undefined to mask an occludee\"),null;const t=this.getViewForGraphic(e);let i=null,r=!1;const s=t=>{!r&&null!=t&&We(t)&&(i=t.maskOccludee(e))};return null!=t?s(t):this.whenViewForGraphic(e,{waitForLayer:!0}).then((e=>s(e)),(()=>{})).catch((()=>{})),o((()=>{r=!0,null!=i&&(i.remove(),i=null)}))}getViewForGraphic(e){return e.layer===this.graphics?this.graphicsView:e.layer?this.allLayerViews.find((t=>t.layer===e.layer)):null}graphicChanged(e){null!=this.graphicsView&&this.graphicsView.graphicChanged(e)}async whenViewForGraphic(e,t){if(e.layer===this)return await w((()=>this.graphicsView)),this.graphicsView;if(!e.layer||!this.map)throw new a(\"no-view-for-graphic\");return t&&t.waitForLayer&&!this.map.allLayers.includes(e.layer)?new Promise(((t,i)=>{const r=this.map.allLayers.on(\"change\",(s=>{s.added.includes(e.layer)&&(r.remove(),this.whenLayerView(e.layer).then(t,i))}))})):this.whenLayerView(e.layer)}_initBasemapTerrain(){this._set(\"basemapTerrain\",new Le({view:this})),this._set(\"elevationProvider\",new me({view:this})),this.elevationProvider.register(\"ground\",this.basemapTerrain)}_exitBasemapTerrain(){this.basemapTerrain&&(this.elevationProvider.unregister(this.basemapTerrain),this.elevationProvider.destroy(),this._set(\"elevationProvider\",null),this.basemapTerrain.destroy(),this._set(\"basemapTerrain\",null))}_initGlobe(){this._initCoordinateSystem(),this.state.createInitialCamera(),this._initBasemapTerrain(),this._set(\"pointsOfInterest\",new Ee({view:this})),this._set(\"featureTiles\",new de({renderCoordsHelper:this.renderCoordsHelper,cameraOnSurface:this.pointsOfInterest.cameraOnSurface,focus:this.pointsOfInterest.focus,tilingSchemeOwner:this.basemapTerrain,viewState:this.state,scheduler:this._resourceController.scheduler,terrain:this.basemapTerrain}));const e=()=>{const e=this.basemapTerrain?.extent;if(this.clippingArea||e)if(e&&this.basemapTerrain.spatialReference){const e=null!=this.basemapTerrain.extent&&null!=this.basemapTerrain.spatialReference?P(D(this.basemapTerrain.extent,this.basemapTerrain.spatialReference),this.spatialReference):null;null!=this.clippingArea?this.featureTiles.filterExtent=this.clippingArea.intersection(e):this.featureTiles.filterExtent=e}else this.featureTiles.filterExtent=this.clippingArea;else this.featureTiles.filterExtent=null};this.addHandles([this.updatingHandles.add((()=>ye.FEATURE_TILE_TREE_SHOW_TILES),(e=>{e&&this.featureTiles&&!this._featureTreeDebugger?this.updatingHandles.addPromise(import(\"./3d/layers/support/FeatureTileTree3DDebugger.js\")).then((({FeatureTileTree3DDebugger:e})=>{!this._featureTreeDebugger&&ye.FEATURE_TILE_TREE_SHOW_TILES&&(this._featureTreeDebugger=new e({view:this}))})):e||!this._featureTreeDebugger||ye.FEATURE_TILE_TREE_SHOW_TILES||(this._featureTreeDebugger.destroy(),this._featureTreeDebugger=null)}),f),this.updatingHandles.add((()=>this.clippingArea),e,f),this.updatingHandles.add((()=>this.basemapTerrain.extent),e,f)],\"feature-tiles\"),this.stateManager.init()}_exitGlobe(){this.state&&(this.stateManager.exit(),this.removeHandles(\"render-coords-helper\"),this.removeHandles(\"feature-tiles\"),this.featureTiles.destroy(),this._set(\"featureTiles\",null),this.pointsOfInterest.destroy(),this._set(\"pointsOfInterest\",null),this._exitBasemapTerrain(),this.state.exit(),this._exitCoordinateSystem())}_initCoordinateSystem(){if(this.spatialReference){const e=this.spatialReference;this.mapCoordsHelper&&this.mapCoordsHelper.spatialReference.equals(e)||this._set(\"mapCoordsHelper\",new Me(this.map,e));const t=this.state.isGlobal,i=U(t,e);i!==this.renderSpatialReference&&(this._set(\"renderCoordsHelper\",Re.create(this.state.viewingMode,i)),t||this.addHandles(m((()=>this.basemapTerrain?.extent),(e=>{const t=this.renderCoordsHelper.spatialReference;null==e||0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]||!A(e,this.basemapTerrain.spatialReference,at,t)||(this.renderCoordsHelper.extent=at)}),_),\"render-coords-helper\"),this.sceneIntersectionHelper&&this.sceneIntersectionHelper.setTolerance(De/this.renderCoordsHelper.unitInMeters))}else this._set(\"mapCoordsHelper\",null),this._set(\"renderCoordsHelper\",null)}_exitCoordinateSystem(){this.mapCoordsHelper&&(this.removeHandles(\"render-coords-helper\"),this._set(\"renderCoordsHelper\",null),this._set(\"mapCoordsHelper\",null))}_updatingChanged(){this.notifyChange(\"updating\")}_updateUpdatingMonitors(e=null){null!=e&&e.type===c.MOVE||(this.removeHandles(\"updatingMonitors\"),this.allLayerViews.forEach((e=>{e.destroyed||(this.addHandles(m((()=>[e.updating,e.updatingProgress]),(()=>this._updatingChanged()),_),\"updatingMonitors\"),e.when((()=>this._updatingChanged()),(()=>this._updatingChanged())))})),this._updatingChanged())}async _prepareScreenshotOverlay(){this.overlay&&await this.overlay.prepare()}_renderScreenshotOverlay(e,t,i){if(!this.overlay||!this.overlay.hasVisibleItems)return i;const r=e.getContext(\"2d\");return r.putImageData(i,0,0),this.overlay.renderCanvas(e,{disableDecorations:t===Ge.OFF}),r.getImageData(0,0,i.width,i.height)}_initStage(){const e={deactivatedWebGLExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions,alpha:this.alphaCompositingEnabled,preserveDrawingBuffer:this.preserveDrawingBufferEnabled,canvas:this.renderCanvas,screenshot:{prepareOverlay:()=>this._prepareScreenshotOverlay(),renderOverlay:(e,t,i)=>this._renderScreenshotOverlay(e,t,i)}},t=new ge(this.state.viewingMode,(e=>this._stage.layers.forAll(e)),this);this._set(\"sceneIntersectionHelper\",t);const i=s(this.surface);this._stage=new Ie({view:this,options:e,container:i}),this._stage.renderer.setParameters({slicePlane:this.slicePlane}),this.addHandles([this.updatingHandles.add((()=>this.qualitySettings.highQualityTransparency),(e=>this._stage.renderer.setParameters({highQualityTransparency:e})),y),m((()=>this.magnifier),(e=>this._stage.renderView.magnifier=e),f),this.on(\"pointer-move\",(()=>this._stage?.renderer.resetAnimation())),n(this._stage.renderView.canvas,\"webglcontextlost\",(e=>{this.fatalError=new a(\"webgl-context-lost\",e.statusMessage)}))],\"stage\"),this.renderCoordsHelper&&this.sceneIntersectionHelper.setTolerance(De/this.renderCoordsHelper.unitInMeters),this._set(\"canvas\",this._stage.renderView.canvas)}_exitStage(){this._set(\"sceneIntersectionHelper\",null),this._stage=h(this._stage),this.removeHandles(\"stage\"),this._set(\"canvas\",null)}_initSurface(e){this._exitSurface(),this.state.init(e,this.spatialReference),this._initStage(),this._initGlobe(),this.sharedSymbolResources=new Te({view:this,viewingMode:e,resourceController:this._resourceController,pointsOfInterest:this.pointsOfInterest,viewState:this.state})}_exitSurface(){this.sharedSymbolResources&&(this.sharedSymbolResources.objectResourceCache.destroy(),this.sharedSymbolResources.destroy(),this.sharedSymbolResources=null,this._exitGlobe(),this._exitStage())}_createGraphicsViewIfNeeded(){if(this.graphicsView||this._createGraphicsViewController)return;if(0===this.graphics.length)return;this.removeHandles(\"graphics-view\"),this._createGraphicsViewController=new AbortController;const e=()=>{this._createGraphicsViewController=null,this._updatingChanged()};this._createGraphicsViewAsync(this._createGraphicsViewController.signal).then(e,e),this._updatingChanged()}async _createGraphicsViewAsync(e){const t=(await import(\"./3d/layers/GraphicsView3D.js\")).default;u(e),await w((()=>this.basemapTerrain?.ready),e),this._set(\"graphicsView\",new t({view:this}))}_disposeGraphicsView(){this._createGraphicsViewController&&(this._createGraphicsViewController.abort(),this._createGraphicsViewController=null),this.removeHandles(\"graphics-view\"),null!=this.graphicsView&&(this.removeHandles(this.graphicsView.processor.layer.id),this.graphicsView.destroy(),this._set(\"graphicsView\",null))}_startup(){const e=ie(this.viewingMode);e===ee.Global&&(this._clippingArea=null),this._initSurface(e),this._set(\"ready\",!0),this.addHandles(g((()=>this.graphics),\"after-changes\",(()=>this._createGraphicsViewIfNeeded())),\"graphics-view\"),this._createGraphicsViewIfNeeded();const t=this.map&&\"initialViewProperties\"in this.map?this.map.initialViewProperties?.environment:void 0;t&&T(this.environment,t),this.labeler.setup(),this.environmentManager.connectView(this),this.inputManager.connect(),this._set(\"textures\",new xe(this._stage,this.resourceController.scheduler));const i=this._resolveWhenReady;this._resolveWhenReady=[],i.forEach((e=>e(this)))}_teardown(){this._initialDefaultSpatialReference=null,this.inputManager.disconnect(),this.environmentManager.disconnectView(),this.labeler.dispose(),this._disposeGraphicsView(),this.removeHandles(\"graphics-view\"),this._set(\"textures\",h(this.textures)),this._exitSurface(),this._set(\"ready\",!1)}_updateDefaultToMapOptions(){if(this._defaultToMapOptions.include.clear(),this.map){this.map.ground&&this._defaultToMapOptions.include.add(Fe);for(const e of this.map.allLayers.items)N(e.type)&&this._defaultToMapOptions.include.add(e.uid)}}_updateDefaultHitTestOptions(){if(this._defaultHitTestOptions.exclude.clear(),this.map){this.map.ground&&this.map.ground.opacity<1&&this._defaultHitTestOptions.exclude.add(Fe);for(const e of this.map.allLayers.items)N(e.type)&&e.opacity<1&&this._defaultHitTestOptions.exclude.add(e.uid)}}};function it(e,t){return null!=e&&H(e.spatialReference,t)?P(e,t):null}tt.type=\"3d\",e([V()],tt.prototype,\"_userClippingArea\",void 0),e([V()],tt.prototype,\"_resourceController\",void 0),e([V()],tt.prototype,\"_stage\",void 0),e([V({readOnly:!0})],tt.prototype,\"deconflictor\",void 0),e([V({readOnly:!0})],tt.prototype,\"labeler\",void 0),e([V(E(Q,\"analyses\"))],tt.prototype,\"analyses\",void 0),e([V({type:X,readOnly:!0})],tt.prototype,\"animation\",null),e([V({readOnly:!0})],tt.prototype,\"basemapTerrain\",void 0),e([V({readOnly:!0})],tt.prototype,\"elevationProvider\",void 0),e([V()],tt.prototype,\"camera\",null),e([V({type:t})],tt.prototype,\"contentCamera\",null),e([V({readOnly:!0})],tt.prototype,\"canvas\",void 0),e([V({type:et})],tt.prototype,\"center\",null),e([V({type:Ke})],tt.prototype,\"clippingArea\",null),e([V({type:ae})],tt.prototype,\"constraints\",void 0),e([V({type:Ke,readOnly:!0})],tt.prototype,\"renderDataExtent\",null),e([V({type:Ke,readOnly:!0})],tt.prototype,\"dataExtent\",null),e([V({type:Ke,readOnly:!0})],tt.prototype,\"_groundAndLayersExtent\",null),e([V({type:ne})],tt.prototype,\"environment\",void 0),e([C(\"environment\")],tt.prototype,\"castEnvironment\",null),e([V({readOnly:!0})],tt.prototype,\"environmentManager\",void 0),e([V({type:Ke})],tt.prototype,\"extent\",null),e([V()],tt.prototype,\"floors\",void 0),e([V()],tt.prototype,\"screenCenter\",null),e([V()],tt.prototype,\"frustum\",null),e([V({type:Number,readOnly:!0})],tt.prototype,\"fullOpacity\",void 0),e([V({readOnly:!0})],tt.prototype,\"graphicsView\",void 0),e([V({readOnly:!0})],tt.prototype,\"analysisViewManager\",void 0),e([V()],tt.prototype,\"groundView\",void 0),e([V({type:Boolean})],tt.prototype,\"initialExtentRequired\",null),e([V()],tt.prototype,\"_defaultsFromMapSettings\",null),e([V()],tt.prototype,\"interacting\",null),e([V()],tt.prototype,\"stationary\",null),e([V()],tt.prototype,\"navigating\",null),e([V()],tt.prototype,\"map\",void 0),e([V({readOnly:!0})],tt.prototype,\"mapCoordsHelper\",void 0),e([V()],tt.prototype,\"padding\",null),e([V({type:Ee,readOnly:!0})],tt.prototype,\"pointsOfInterest\",void 0),e([V({type:de,readOnly:!0})],tt.prototype,\"featureTiles\",void 0),e([V()],tt.prototype,\"_featureTreeDebugger\",void 0),e([V({type:Boolean})],tt.prototype,\"screenSizePerspectiveEnabled\",void 0),e([V({constructOnly:!0})],tt.prototype,\"deactivatedWebGLExtensions\",void 0),e([V({constructOnly:!0})],tt.prototype,\"debugWebGLExtensions\",void 0),e([V({constructOnly:!0})],tt.prototype,\"renderCanvas\",void 0),e([V({constructOnly:!0})],tt.prototype,\"state\",void 0),e([V({readOnly:!0})],tt.prototype,\"inputManager\",void 0),e([V({readOnly:!0})],tt.prototype,\"stateManager\",void 0),e([V({type:[\"low\",\"medium\",\"high\"]})],tt.prototype,\"qualityProfile\",null),e([V({type:Ce,get(){let e=this._get(\"qualitySettings\");return e||(e=new Ce,fe.apply(this.qualityProfile,e)),e}})],tt.prototype,\"qualitySettings\",void 0),e([V()],tt.prototype,\"slicePlane\",null),e([V({readOnly:!0})],tt.prototype,\"typeSpecificPreconditionsReady\",null),e([V({readOnly:!0})],tt.prototype,\"renderCoordsHelper\",void 0),e([V({readOnly:!0})],tt.prototype,\"sceneIntersectionHelper\",void 0),e([V({type:Number,dependsOn:[\"scale\",\"spatialReference\"],readOnly:!0})],tt.prototype,\"resolution\",null),e([V({type:Number})],tt.prototype,\"scale\",null),e([V()],tt.prototype,\"heightModelInfo\",null),e([V()],tt.prototype,\"spatialReference\",void 0),e([V({type:Boolean,constructOnly:!0})],tt.prototype,\"alphaCompositingEnabled\",void 0),e([V({constructOnly:!0})],tt.prototype,\"preserveDrawingBufferEnabled\",void 0),e([V({type:Boolean})],tt.prototype,\"supersampleScreenshotsEnabled\",void 0),e([V({readOnly:!0})],tt.prototype,\"type\",void 0),e([V(),C((e=>e instanceof Ze?e:O($e,e)))],tt.prototype,\"ui\",void 0),e([V({type:Boolean,readOnly:!0,dependsOn:[\"graphicsView.updating\",\"basemapView.updating\",\"basemapTerrain.updating\",\"layerViewManager.updating\",\"layerViewManager.updatingRemaining\",\"_resourceController.updating\",\"_stage.updating\",\"featureTiles.updating\",\"pointsOfInterest.updating\",\"environmentManager.updating\",\"overlay.updating\",\"updatingHandles.updating\",\"featureTreeDebugger.updating\",\"labeler.updating\",\"deconflictor.updating\",\"ready\",\"stationary\",\"inputManager.updating\",\"toolViewManager.updating\",\"analysisViewManager.updating\",\"state.updating\",\"textures.updating\"]})],tt.prototype,\"updating\",null),e([V()],tt.prototype,\"_updatingObjects\",null),e([V()],tt.prototype,\"_updatingObjectsWithProgress\",null),e([V({type:Number,readOnly:!0,dependsOn:[\"updating\"]})],tt.prototype,\"updatingProgress\",void 0),e([V({type:[\"global\",\"local\"]})],tt.prototype,\"viewingMode\",null),e([V({type:i})],tt.prototype,\"viewpoint\",null),e([V({type:Number})],tt.prototype,\"zoom\",null),e([V({type:_e})],tt.prototype,\"highlightOptions\",void 0),e([V({readOnly:!0})],tt.prototype,\"quality\",null),e([V({readOnly:!0})],tt.prototype,\"resolutionScale\",null),e([V()],tt.prototype,\"textures\",void 0),tt=e([R(\"esri.views.SceneView\")],tt);const rt=x(),st=M(),at=G(),nt=tt;export{nt as default};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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E,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAA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AE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KA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",
  "names": ["n", "s", "i", "e", "t", "c", "f", "a", "m", "r", "S", "m", "o", "e", "a", "t", "c", "f", "r", "p", "y", "u", "d", "S", "e", "u", "y", "a", "r", "a", "i", "e", "s", "l", "_", "p", "V", "e", "A", "S", "v", "u", "s", "i", "t", "d", "a", "o", "n", "y", "f", "c", "S", "t", "f", "l", "e", "i", "h", "d", "v", "p", "y", "a", "u", "s", "i", "l", "u", "y", "a", "o", "l", "t", "r", "y", "s", "a", "p", "d", "c", "l", "t", "e", "y", "s", "a", "c", "l", "i", "o", "y", "a", "s", "a", "o", "p", "e", "t", "i", "n", "r", "y", "d", "s", "c", "o", "i", "e", "r", "y", "a", "i", "d", "a", "t", "i", "S", "o", "y", "a", "b", "d", "t", "i", "a", "l", "p", "S", "n", "y", "s", "f", "a", "u", "n", "p", "r", "e", "O", "S", "s", "R", "_", "l", "t", "z", "s", "t", "r", "p", "r", "e", "O", "S", "l", "R", "_", "s", "t", "d", "C", "s", "i", "a", "u", "r", "d", "t", "E", "_", "o", "A", "n", "p", "m", "e", "h", "f", "c", "R", "l", "z", "v", "u", "r", "e", "t", "O", "S", "l", "R", "_", "f", "m", "S", "o", "u", "i", "t", "r", "e", "E", "y", "a", "n", "d", "r", "e", "O", "S", "s", "R", "T", "u", "_", "t", "b", "d", "r", "e", "O", "S", "t", "s", "R", "l", "_", "v", "d", "S", "e", "s", "x", "t", "i", "r", "y", "a", "A", "S", "e", "i", "m", "w", "n", "f", "t", "s", "u", "d", "o", "r", "T", "I", "M", "D", "x", "O", "B", "H", "Y", "a", "h", "c", "y", "m", "r", "e", "t", "O", "S", "l", "R", "_", "b", "b", "x", "v", "S", "t", "u", "e", "i", "m", "s", "n", "r", "E", "z", "P", "o", "p", "g", "w", "A", "h", "y", "a", "h", "r", "e", "O", "S", "l", "R", "_", "t", "e", "A", "e", "t", "a", "i", "p", "r", "h", "y", "D", "m", "T", "v", "E", "o", "P", "s", "O", "F", "n", "H", "e", "E", "G", "o", "H", "N", "k", "B", "v", "z", "e", "t", "a", "p", "s", "d", "A", "i", "D", "m", "h", "r", "n", "c", "Y", "g", "J", "u", "l", "f", "Z", "O", "F", "Q", "X", "K", "x", "g", "n", "d", "r", "e", "h", "S", "l", "R", "O", "_", "t", "A", "g", "S", "e", "s", "t", "r", "i", "d", "o", "a", "f", "u", "c", "E", "h", "A", "_", "P", "F", "v", "y", "H", "u", "n", "e", "h", "r", "t", "O", "S", "l", "R", "_", "f", "x", "S", "t", "u", "h", "e", "r", "F", "s", "E", "V", "A", "I", "n", "U", "c", "d", "i", "L", "C", "o", "a", "f", "O", "M", "R", "y", "H", "e", "U", "I", "c", "e", "A", "V", "a", "n", "t", "s", "p", "r", "x", "g", "i", "m", "v", "d", "_e", "q", "O", "f", "H", "D", "C", "z", "l", "P", "k", "y", "L", "o", "c", "i", "r", "l", "P", "e", "I", "t", "d", "A", "f", "D", "n", "q", "E", "s", "j", "O", "a", "g", "h", "k", "Q", "z", "m", "y", "L", "O", "O", "r", "L", "n", "O", "e", "s", "a", "c", "o", "n", "a", "r", "m", "t", "i", "s", "L", "x", "g", "P", "l", "t", "r", "n", "s", "a", "p", "c", "m", "u", "x", "j", "C", "g", "M", "d", "h", "e", "o", "T", "y", "i", "O", "L", "f", "d", "e", "r", "n", "s", "t", "x", "l", "o", "O", "i", "y", "u", "p", "L", "g", "h", "I", "Y", "T", "k", "C", "j", "N", "v", "c", "a", "f", "m", "s", "n", "_", "i", "a", "f", "N", "A", "C", "e", "c", "l", "u", "g", "c", "i", "f", "m", "e", "n", "s", "P", "j", "t", "r", "n", "i", "V", "a", "U", "s", "p", "_", "O", "K", "g", "u", "z", "e", "J", "N", "o", "L", "B", "P", "c", "v", "q", "b", "Q", "H", "k", "F", "E", "x", "m", "l", "G", "f", "h", "t", "u", "o", "i", "n", "c", "a", "s", "q", "r", "e", "b", "d", "h", "p", "x", "M", "f", "l", "I", "P", "g", "j", "k", "m", "v", "w", "y", "z", "A", "B", "C", "D", "E", "F", "G", "H", "E", "t", "o", "n", "C", "s", "e", "i", "N", "U", "r", "a", "L", "p", "u", "O", "y", "T", "j", "l", "d", "_", "t", "n", "F", "i", "l", "e", "s", "k", "x", "a", "j", "A", "f", "o", "h", "r", "Z", "S", "u", "V", "T", "g", "v", "z", "b", "P", "I", "y", "m", "o", "n", "t", "_t", "o", "e", "r", "s", "e", "o", "t", "s", "n", "a", "m", "i", "i", "t", "o", "e", "n", "s", "a", "h", "l", "o", "a", "e", "n", "t", "i", "r", "d", "c", "l", "m", "h", "s", "f", "w", "p", "f", "Z", "P", "D", "b", "g", "h", "M", "n", "o", "k", "t", "a", "N", "i", "e", "j", "s", "l", "w", "m", "z", "A", "r", "I", "d", "q", "c", "v", "y", "p", "B", "C", "E", "s", "e", "i", "n", "f", "t", "o", "u", "d", "a", "m", "h", "i", "n", "t", "s", "o", "r", "w", "f", "e", "a", "c", "i", "n", "h", "_", "m", "s", "a", "o", "e", "u", "r", "t", "s", "t", "n", "S", "y", "a", "a", "n", "t", "u", "s", "h", "a", "i", "c", "t", "e", "p", "n", "T", "l", "H", "y", "s", "t", "k", "m", "t", "r", "g", "g", "t", "r", "n", "o", "u", "s", "l", "t", "r", "n", "v", "z", "f", "v", "t", "k", "q", "e", "S", "s", "r", "p", "e", "n", "m", "Y", "d", "N", "t", "Q", "X", "Y", "Z", "$", "_", "w", "it", "e", "n", "ct", "o", "p", "f", "v", "B", "O", "u", "lt", "S", "g", "ce", "r", "c", "a", "i", "s", "A", "ht", "h", "dt", "l", "P", "Pt", "K", "z", "E", "m", "M", "q", "se", "ne", "b", "V", "H", "k", "x", "h", "n", "r", "L", "O", "w", "T", "t", "i", "e", "o", "f", "s", "_", "l", "z", "F", "g", "p", "Z", "P", "$", "A", "u", "E", "y", "a", "M", "D", "F", "U", "h", "n", "r", "L", "O", "t", "e", "s", "p", "T", "l", "C", "f", "o", "S", "z", "y", "Z", "P", "$", "_", "u", "g", "i", "a", "m", "x", "A", "E", "s", "i", "o", "t", "r", "x", "U", "c", "e", "t", "i", "l", "M", "u", "s", "a", "m", "o", "x", "_", "w", "I", "E", "v", "z", "j", "P", "g", "b", "d", "y", "U", "f", "p", "r", "n", "h", "n", "S", "e", "t", "u", "s", "i", "y", "a", "_", "S", "t", "c", "d", "_e", "l", "n", "i", "C", "f", "a", "L", "h", "s", "E", "r", "O", "y", "l", "n", "e", "s", "u", "i", "y", "a", "f", "t", "i", "e", "u", "a", "n", "l", "d", "o", "r", "N", "s", "E", "h", "w", "K", "S", "e", "ae", "o", "c", "Q", "v", "d", "t", "A", "ie", "B", "$", "N", "re", "i", "r", "a", "p", "s", "n", "te", "b", "I", "_", "l", "f", "g", "Y", "w", "W", "X", "Z", "ee", "lt", "E", "y", "se", "n", "se", "r", "t", "s", "y", "a", "V", "t", "H", "n", "e", "r", "L", "O", "i", "it", "s", "o", "a", "S", "P", "h", "p", "m", "u", "z", "g", "E", "c", "f", "d", "b", "k", "y", "a", "i", "t", "r", "e", "o", "H", "B", "n", "s", "i", "r", "L", "O", "w", "t", "it", "e", "N", "p", "z", "T", "a", "Q", "P", "X", "Y", "g", "u", "E", "y", "m", "l", "ct", "z", "n", "i", "r", "L", "O", "E", "t", "it", "s", "e", "a", "o", "Q", "P", "X", "C", "Y", "g", "u", "j", "lt", "F", "A", "y", "m", "s", "i", "r", "t", "e", "o", "B", "z", "J", "n", "t", "r", "L", "O", "e", "i", "s", "o", "at", "E", "rt", "u", "g", "c", "ot", "j", "nt", "a", "m", "l", "h", "z", "p", "d", "_", "b", "f", "v", "y", "K", "Y", "W", "st", "x", "P", "tt", "$", "et", "it", "Q", "l", "i", "e", "a", "d", "t", "J", "r", "e", "i", "t", "a", "l", "J", "i", "e", "t", "r", "x", "U", "t", "p", "a", "r", "L", "O", "t", "e", "E", "c", "p", "t", "O", "n", "o", "r", "g", "e", "a", "y", "p", "n", "u", "l", "o", "O", "t", "s", "i", "r", "z", "y", "a", "c", "p", "t", "O", "o", "r", "ct", "m", "y", "a", "p", "t", "O", "n", "o", "r", "i", "y", "a", "C", "p", "t", "i", "O", "n", "s", "w", "e", "E", "l", "ct", "y", "a", "e", "m", "u", "t", "e", "i", "s", "a", "l", "n", "o", "r", "h", "_", "v", "z", "rt", "n", "t", "E", "i", "s", "a", "o", "c", "w", "r", "L", "O", "h", "d", "N", "C", "p", "e", "l", "j", "m", "v", "x", "M", "b", "f", "z", "Y", "u", "g", "P", "F", "y", "ct", "J", "r", "K", "n", "t", "E", "a", "c", "s", "i", "L", "O", "d", "_", "u", "j", "C", "P", "w", "q", "f", "e", "V", "z", "g", "F", "o", "Y", "ht", "y", "m", "ct", "p", "i", "t", "e", "s", "r", "rt", "K", "e", "i", "t", "e", "i", "t", "t", "e", "i", "e", "t", "i", "o", "i", "e", "t", "a", "H", "V", "a", "i", "e", "t", "r", "s", "m", "g", "n", "h", "d", "o", "c", "l", "p", "_", "b", "S", "t", "l", "e", "m", "r", "s", "a", "o", "d", "_", "i", "V", "z", "y", "E", "k", "C", "e", "n", "i", "l", "o", "s", "a", "c", "t", "u", "r", "h", "p", "f", "U", "n", "k", "H", "q", "J", "e", "K", "w", "Q", "d", "Z", "$", "u", "i", "t", "W", "S", "c", "s", "r", "O", "l", "a", "o", "A", "f", "L", "z", "g", "m", "M", "E", "y", "Y", "c", "p", "r", "A", "o", "t", "I", "y", "a", "u", "A", "e", "d", "t", "I", "p", "n", "i", "s", "r", "_", "a", "L", "g", "e", "c", "f", "s", "u", "i", "l", "m", "G", "t", "o", "n", "r", "p", "N", "e", "n", "c", "t", "a", "s", "k", "l", "V", "G", "i", "W", "r", "L", "o", "le", "z", "u", "ae", "P", "d", "$", "ee", "te", "_", "se", "h", "U", "f", "m", "p", "T", "R", "g", "F", "Z", "I", "S", "J", "K", "E", "re", "q", "ne", "ie", "oe", "D", "A", "O", "b", "B", "j", "M", "x", "ce", "H", "y", "C", "Pe", "v", "Q", "w", "X", "Y", "R", "e", "u", "N", "t", "r", "a", "d", "s", "T", "i", "o", "n", "c", "h", "p", "_", "f", "S", "l", "K", "C", "y", "H", "w", "J", "j", "A", "V", "I", "x", "E", "m", "M", "g", "w", "S", "e", "t", "i", "u", "l", "d", "A", "I", "C", "R", "s", "j", "x", "m", "E", "y", "a", "_", "S", "o", "I", "l", "e", "t", "c", "s", "r", "a", "v", "w", "j", "y", "f", "U", "t", "r", "n", "l", "E", "d", "u", "T", "e", "D", "f", "o", "i", "g", "z", "c", "a", "h", "L", "p", "w", "m", "P", "F", "S", "_", "I", "A", "v", "j", "x", "H", "s", "K", "y", "M", "R", "k", "h", "o", "S", "e", "t", "s", "r", "n", "p", "i", "a", "l", "c", "f", "y", "a", "e", "i", "o", "t", "l", "n", "r", "u", "e", "n", "t", "m", "p", "d", "S", "r", "e", "n", "m", "t", "p", "y", "u", "a", "a", "i", "s", "m", "n", "e", "r", "t", "o", "c", "p", "f", "A", "E", "t", "a", "_e", "o", "l", "p", "m", "y", "c", "i", "u", "s", "n", "d", "f", "e", "h", "r", "A", "r", "S", "y", "a", "p", "n", "d", "l", "c", "f", "S", "j", "e", "T", "y", "a", "F", "r", "g", "l", "D", "I", "E", "d", "A", "t", "s", "o", "u", "e", "t", "s", "r", "E", "e", "a", "t", "o", "e", "l", "i", "n", "r", "A", "s", "f", "c", "i", "S", "e", "t", "I", "F", "r", "s", "a", "n", "y", "a", "i", "e", "t", "r", "s", "n", "l", "h", "u", "_a", "D", "N", "S", "e", "A", "a", "t", "s", "n", "i", "r", "d", "m", "o", "t", "w", "z", "r", "i", "s", "f", "e", "S", "o", "y", "a", "g", "y", "e", "t", "o", "n", "v", "x", "r", "$", "C", "l", "f", "G", "a", "j", "L", "e", "t", "o", "n", "C", "r", "s", "v", "x", "g", "u", "G", "i", "a", "l", "I", "R", "y", "n", "s", "o", "e", "a", "L", "O", "e", "o", "d", "I", "t", "r", "i", "S", "s", "P", "n", "l", "C", "u", "A", "x", "R", "z", "p", "y", "a", "u", "S", "e", "n", "d", "v", "p", "t", "y", "a", "u", "S", "e", "o", "I", "l", "m", "t", "r", "s", "f", "h", "E", "y", "a", "n", "P", "S", "e", "n", "d", "o", "T", "t", "a", "c", "u", "h", "f", "L", "I", "y", "O", "p", "m", "v", "r", "j", "E", "s", "U", "i", "G", "w", "s", "a", "r", "t", "o", "s", "a", "i", "e", "l", "n", "h", "f", "m", "u", "c", "p", "M", "q", "x", "d", "x", "S", "e", "t", "r", "d", "L", "o", "h", "l", "w", "g", "y", "a", "c", "m", "n", "i", "v", "s", "H", "I", "e", "o", "s", "se", "ie", "ae", "ne", "S", "e", "$", "t", "T", "d", "I", "C", "O", "s", "n", "r", "R", "o", "de", "i", "E", "a", "M", "_e", "oe", "p", "me", "u", "ce", "l", "h", "c", "K", "z", "m", "x", "_", "v", "f", "b", "U", "N", "he", "ue", "pe", "A", "y", "le", "o", "P", "t", "e", "s", "i", "r", "u", "n", "f", "d", "g", "h", "p", "t", "s", "n", "o", "i", "r", "L", "a", "l", "i", "t", "r", "n", "s", "H", "a", "e", "l", "e", "t", "s", "i", "H", "a", "n", "m", "r", "h", "d", "o", "u", "_", "p", "f", "y", "v", "I", "c", "q", "l", "x", "t", "l", "l", "t", "s", "o", "p", "r", "w", "e", "m", "t", "e", "E", "ee", "te", "u", "n", "w", "a", "ne", "re", "l", "oe", "e", "t", "T", "i", "s", "r", "E", "A", "d", "m", "h", "pe", "v", "c", "fe", "g", "_e", "p", "f", "_", "y", "M", "P", "D", "me", "L", "x", "S", "O", "se", "H", "o", "ae", "U", "ie", "le", "he", "G", "X", "B", "Y", "de", "Q", "K", "z", "J", "ue", "ce", "q", "ge", "t", "r", "s", "e", "g", "r", "i", "l", "e", "f", "S", "s", "R", "O", "o", "_", "t", "N", "E", "G", "o", "i", "t", "e", "l", "T", "p", "r", "s", "X", "a", "n", "B", "W", "g", "d", "h", "m", "y", "u", "c", "Y", "ee", "_a", "q", "z", "J", "K", "Q", "Z", "f", "A", "_", "x", "v", "E", "ue", "S", "C", "D", "j", "R", "w", "L", "N", "P", "F", "te", "O", "I", "re", "ie", "U", "M", "k", "H", "M", "S", "e", "t", "o", "s", "i", "a", "c", "l", "u", "d", "f", "m", "g", "p", "O", "x", "h", "pe", "fe", "L", "B", "P", "I", "re", "v", "b", "y", "X", "V", "W", "n", "r", "de", "oe", "C", "A", "E", "T", "D", "R", "U", "w", "N", "j", "F", "H", "q", "_", "G", "k", "z", "J", "K", "Q", "Y", "Z", "$", "ee", "te", "ne", "se", "ie", "ae", "ce", "le", "ue", "me", "ge", "xe", "he", "Me", "Se", "ye", "ve", "_a", "_", "te", "e", "t", "r", "o", "i", "u", "s", "a", "l", "h", "d", "c", "m", "p", "n", "f", "oe", "T", "b", "w", "R", "U", "l", "n", "a", "S", "e", "t", "s", "r", "i", "y", "t", "n", "o", "s", "a", "D", "te", "t", "e", "i", "s", "o", "w", "n", "r", "l", "a", "h", "u", "c", "p", "f", "m", "z", "oe", "y", "T", "b", "j", "d", "S", "O", "A", "V", "g", "x", "_", "v", "M", "H", "I", "B", "L", "R", "C", "N", "U", "k", "F", "P", "q", "$", "G", "W", "J", "K", "Q", "X", "Y", "Z", "tt", "et", "it", "st", "ot", "nt", "rt", "lt", "at", "ht", "ut", "dt", "ct", "pt", "E", "e", "S", "y", "a", "t", "H", "e", "t", "r", "c", "e", "s", "a", "o", "i", "n", "s", "t", "r", "p", "s", "u", "n", "d", "r", "b", "a", "l", "p", "r", "e", "O", "S", "s", "R", "_", "t", "u", "f", "s", "r", "o", "i", "a", "c", "d", "c", "s", "U", "l", "t", "e", "i", "r", "n", "a", "o", "m", "u", "p", "O", "f", "I", "h", "y", "g", "u", "r", "e", "O", "S", "s", "R", "_", "t", "z", "d", "p", "o", "e", "i", "f", "x", "B", "O", "I", "e", "t", "c", "m", "f", "i", "r", "d", "s", "l", "p", "u", "n", "E", "o", "a", "A", "h", "b", "g", "T", "y", "C", "B", "q", "_", "M", "o", "l", "s", "t", "j", "e", "t", "r", "s", "o", "a", "C", "b", "I", "n", "c", "l", "m", "f", "_", "q", "v", "y", "A", "T", "g", "u", "U", "p", "S", "B", "E", "x", "N", "G", "F", "H", "i", "L", "w", "k", "O", "M", "D", "h", "z", "V", "s", "o", "a", "c", "h", "d", "t", "e", "i", "n", "r", "l", "f", "I", "N", "b", "p", "m", "x", "y", "u", "g", "d", "t", "o", "f", "c", "r", "a", "oe", "le", "ce", "i", "he", "e", "de", "d", "l", "t", "n", "a", "_", "s", "G", "h", "A", "c", "w", "E", "H", "O", "C", "r", "ue", "pe", "o", "p", "f", "I", "m", "g", "T", "R", "x", "P", "v", "_e", "D", "S", "fe", "q", "N", "L", "u", "y", "e", "m", "S", "e", "d", "t", "y", "u", "H", "v", "f", "l", "i", "o", "a", "t", "n", "s", "i", "e", "mt", "ft", "o", "S", "e", "a", "n", "r", "H", "h", "F", "l", "t", "u", "f", "s", "ne", "D", "_", "i", "c", "de", "d", "A", "m", "I", "te", "U", "he", "G", "yt", "Pt", "O", "vt", "g", "Et", "p", "E", "q", "N", "wt", "T", "y", "X", "bt", "Ct", "Y", "B", "jt", "Lt", "C", "x", "R", "W", "j", "w", "St", "Tt", "xt", "Dt", "Mt", "n", "e", "t", "r", "o", "m", "S", "s", "d", "E", "I", "h", "y", "l", "a", "h", "S", "_", "t", "e", "s", "n", "o", "m", "p", "r", "y", "a", "t", "n", "e", "o", "s", "i", "r", "h", "e", "h", "i", "t", "s", "a", "n", "e", "t", "s", "i", "o", "r", "n", "i", "e", "s", "r", "a", "l", "c", "u", "f", "h", "B", "E", "b", "o", "t", "B", "t", "n", "o", "l", "e", "p", "r", "h", "d", "x", "b", "_", "I", "D", "g", "F", "s", "R", "S", "w", "u", "P", "k", "z", "E", "G", "v", "j", "L", "V", "O", "U", "q", "T", "H", "N", "i", "f", "a", "c", "J", "C", "M", "m", "A", "y", "t", "s", "e", "s", "i", "t", "e", "r", "n", "a", "t", "e", "f", "u", "w", "t", "e", "r", "a", "o", "n", "l", "P", "C", "f", "i", "M", "k", "u", "x", "R", "y", "O", "F", "z", "q", "v", "A", "V", "s", "B", "E", "h", "S", "p", "N", "D", "G", "H", "e", "t", "s", "w", "s", "n", "k", "q", "e", "o", "l", "r", "s", "t", "n", "i", "B", "p", "a", "c", "u", "d", "g", "b", "y", "v", "C", "_", "w", "f", "L", "E", "H", "I", "m", "h", "X", "F", "R", "M", "W", "a", "o", "r", "t", "p", "r", "e", "O", "a", "S", "_", "l", "R", "s", "t", "d", "a", "r", "e", "O", "S", "t", "i", "a", "r", "e", "O", "S", "l", "R", "_", "t", "c", "n", "t", "i", "r", "s", "e", "a", "o", "p", "v", "R", "j", "C", "A", "B", "t", "r", "i", "M", "e", "Q", "n", "a", "O", "x", "D", "s", "o", "G", "Y", "T", "h", "f", "I", "U", "k", "c", "m", "F", "V", "q", "y", "l", "P", "H", "N", "u", "_", "d", "E", "S", "W", "K", "w", "c", "f", "n", "v", "e", "o", "r", "x", "s", "t", "a", "d", "p", "i", "g", "m", "u", "l", "h", "w", "S", "f", "o", "e", "i", "s", "d", "t", "r", "a", "n", "u", "m", "h", "p", "c", "_", "g", "E", "A", "R", "G", "D", "v", "y", "i", "x", "t", "e", "r", "o", "d", "a", "s", "e", "t", "e", "t", "s", "s", "e", "t", "a", "r", "e", "t", "r", "e", "t", "s", "o", "i", "X", "i", "e", "l", "c", "t", "s", "C", "e", "i", "t", "a", "r", "c", "R", "o", "T", "s", "x", "F", "E", "h", "m", "f", "G", "P", "D", "g", "A", "U", "M", "b", "L", "B", "i", "e", "a", "t", "r", "l", "s", "o", "p", "d", "c", "u", "n", "C", "j", "a", "A", "s", "l", "n", "c", "e", "t", "i", "o", "r", "m", "M", "u", "S", "r", "e", "l", "n", "o", "s", "t", "c", "d", "c", "r", "l", "e", "A", "n", "s", "u", "t", "i", "o", "m", "h", "m", "c", "t", "a", "r", "i", "A", "s", "e", "o", "p", "y", "n", "r", "e", "O", "S", "l", "R", "_", "t", "d", "a", "r", "O", "S", "_", "t", "c", "l", "r", "e", "O", "S", "_", "t", "c", "r", "n", "D", "c", "e", "r", "o", "d", "R", "A", "u", "a", "l", "n", "E", "t", "i", "s", "h", "p", "m", "g", "_", "b", "f", "w", "O", "F", "y", "s", "t", "r", "p", "h", "r", "u", "s", "O", "S", "l", "R", "_", "E", "t", "O", "b", "v", "P", "c", "t", "p", "A", "u", "d", "m", "E", "e", "i", "s", "a", "r", "o", "l", "z", "j", "y", "n", "a", "r", "e", "O", "S", "_", "t", "x", "a", "r", "O", "S", "_", "t", "f", "l", "r", "e", "O", "S", "_", "t", "s", "s", "n", "A", "c", "e", "s", "d", "o", "l", "a", "t", "r", "u", "R", "L", "G", "i", "n", "_", "D", "m", "y", "e", "m", "n", "_", "t", "r", "o", "h", "s", "a", "l", "l", "t", "e", "n", "r", "i", "s", "b", "o", "a", "R", "f", "h", "c", "E", "_", "m", "r", "e", "O", "S", "c", "_", "E", "t", "f", "u", "c", "p", "m", "S", "e", "t", "s", "i", "r", "E", "a", "y", "d", "r", "e", "s", "O", "S", "l", "R", "_", "E", "t", "f", "M", "S", "e", "t", "i", "r", "s", "o", "h", "u", "m", "X", "c", "I", "d", "L", "A", "p", "n", "U", "G", "O", "P", "D", "x", "_", "y", "a", "t", "W", "n", "e", "Z", "e", "t", "u", "r", "E", "a", "e", "s", "o", "n", "t", "r", "Ee", "e", "r", "t", "i", "a", "n", "h", "o", "I", "he", "C", "l", "X", "D", "P", "M", "s", "c", "j", "A", "m", "d", "E", "_", "Ie", "has", "W", "p", "u", "Ae", "g", "f", "T", "b", "R", "O", "G", "U", "Re", "Pe", "N", "Ce", "Se", "we", "be", "y", "m", "t", "f", "r", "E", "c", "i", "o", "O", "h", "F", "t", "y", "r", "s", "m", "e", "i", "n", "e", "_", "S", "e", "t", "s", "o", "I", "m", "r", "O", "n", "f", "u", "a", "y", "o", "t", "e", "f", "r", "w", "S", "f", "e", "r", "s", "d", "n", "a", "t", "o", "G", "L", "m", "y", "n", "t", "d", "e", "t", "r", "f", "O", "s", "i", "o", "h", "G", "C", "w", "n", "a", "c", "b", "l", "m", "u", "p", "g", "I", "_", "x", "o", "t", "e", "k", "S", "e", "o", "w", "i", "d", "A", "t", "u", "r", "_", "s", "n", "Ee", "f", "O", "a", "h", "p", "B", "I", "M", "q", "E", "y", "u", "S", "e", "h", "l", "s", "k", "I", "n", "t", "o", "r", "C", "i", "y", "a", "e", "u", "o", "y", "a", "c", "tt", "o", "y", "b", "N", "e", "G", "j", "u", "V", "t", "c", "f", "L", "m", "v", "d", "C", "K", "A", "w", "it", "l", "i", "r", "s", "Z", "x", "a", "I", "rt", "st", "U", "n", "M", "h", "Tt", "P", "z", "at", "E", "S", "nt"]
}
