{
  "version": 3,
  "sources": ["../../@arcgis/core/views/webgl/rasterUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ZEROS as e}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{PixelType as t,SizedPixelFormat as n,PixelFormat as r,TextureSamplingMode as a,TextureWrapMode as i,UniformType as o}from\"./enums.js\";import{Texture as s}from\"./Texture.js\";import{TextureDescriptor as u}from\"./TextureDescriptor.js\";function f(e,o,f=\"nearest\",c=!1){const m=!(c&&\"u8\"===o.pixelType),l=m?t.FLOAT:t.UNSIGNED_BYTE,_=null==o.pixels||0===o.pixels.length?null:m?o.getAsRGBAFloat():o.getAsRGBA(),g=e.capabilities.textureFloat?.textureFloatLinear,p=new u;return p.width=o.width,p.height=o.height,p.internalFormat=m?n.RGBA32F:r.RGBA,p.samplingMode=!g||\"bilinear\"!==f&&\"cubic\"!==f?a.NEAREST:a.LINEAR,p.dataType=l,p.wrapMode=i.CLAMP_TO_EDGE,new s(e,p,_)}function c(e,r){const{spacing:o,offsets:f,coefficients:c,size:[m,l]}=r,_=o[0]>1,g=new u;g.width=_?4*m:m,g.height=l,g.internalFormat=n.RGBA32F,g.dataType=t.FLOAT,g.samplingMode=a.NEAREST,g.wrapMode=i.CLAMP_TO_EDGE;const p=new Float32Array(_?m*l*16:2*f.length);if(_&&null!=c)for(let t=0,n=0;t<c.length;t++)p[n++]=c[t],t%3==2&&(p[n++]=1);else for(let t=0;t<l;t++)for(let e=0;e<m;e++){const n=4*(t*m+e),r=2*(e*l+t);p[n]=f[r],p[n+1]=f[r+1],p[n+3]=-1===f[r]?0:1}return new s(e,g,p)}function m(e,t){const n=new u;return n.internalFormat=r.RGBA,n.width=t.length/4,n.height=1,n.samplingMode=a.NEAREST,n.wrapMode=i.CLAMP_TO_EDGE,new s(e,n,t)}function l(t,n,r,a=1,i=!0){return{u_flipY:i,u_applyTransform:!!t,u_opacity:a,u_transformSpacing:t?t.spacing:e,u_transformGridSize:t?t.size:e,u_targetImageSize:n,u_srcImageSize:r}}function _(e,t){return{u_colormapOffset:t||0,u_colormapMaxIndex:e?e.length/4-1:0}}function g(e,t){return{u_scale:e,u_offset:t}}function p(e){return{u_bandCount:e.bandCount,u_minOutput:e.outMin,u_maxOutput:e.outMax,u_minCutOff:e.minCutOff,u_maxCutOff:e.maxCutOff,u_factor:e.factor,u_useGamma:e.useGamma,u_gamma:e.gamma,u_gammaCorrection:e.gammaCorrection}}function A(e){return{u_hillshadeType:e.hillshadeType,u_sinZcosAs:e.sinZcosAs,u_sinZsinAs:e.sinZsinAs,u_cosZs:e.cosZs,u_weights:e.weights,u_factor:e.factor,u_minValue:e.minValue,u_maxValue:e.maxValue}}function T(e,t){const n=e.gl,r=t.glName,a=new Map;if(null==r)return a;const i=n.getProgramParameter(r,n.ACTIVE_UNIFORMS);let o;for(let s=0;s<i;s++)o=n.getActiveUniform(r,s),o&&a.set(o.name,{location:n.getUniformLocation(r,o.name),info:o});return a}function h(e,t,n){Object.keys(n).forEach((r=>{const a=t.get(r)||t.get(r+\"[0]\");a&&E(e,r,n[r],a)}))}function O(e,t,n,r){n.length===r.length&&(r.some((e=>null==e))||n.some((e=>null==e))||n.forEach(((n,a)=>{t.setUniform1i(n,a),e.bindTexture(r[a],a)})))}function E(e,t,n,r){if(null===r||null==n)return!1;const{info:a}=r;switch(a.type){case o.FLOAT:a.size>1?e.setUniform1fv(t,n):e.setUniform1f(t,n);break;case o.FLOAT_VEC2:e.setUniform2fv(t,n);break;case o.FLOAT_VEC3:e.setUniform3fv(t,n);break;case o.FLOAT_VEC4:e.setUniform4fv(t,n);break;case o.FLOAT_MAT3:e.setUniformMatrix3fv(t,n);break;case o.FLOAT_MAT4:e.setUniformMatrix4fv(t,n);break;case o.INT:a.size>1?e.setUniform1iv(t,n):e.setUniform1i(t,n);break;case o.BOOL:e.setUniform1i(t,n?1:0);break;case o.INT_VEC2:case o.BOOL_VEC2:e.setUniform2iv(t,n);break;case o.INT_VEC3:case o.BOOL_VEC3:e.setUniform3iv(t,n);break;case o.INT_VEC4:case o.BOOL_VEC4:e.setUniform4iv(t,n);break;default:return!1}return!0}export{m as createColormapTexture,f as createRasterTexture,c as createTransformTexture,g as getBasicGridUniforms,_ as getColormapUniforms,l as getCommonUniforms,A as getShadedReliefUniforms,p as getStretchUniforms,T as getUniformLocationInfos,O as setTextures,h as setUniforms};\n"],
  "mappings": "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",
  "names": ["e", "o", "f", "c", "m", "l", "_", "g", "p", "r", "a", "n"]
}
