import {
  h as h3
} from "./chunk-B4G2B67L.js";
import {
  v as v2
} from "./chunk-MP3BMLR3.js";
import {
  g as g2
} from "./chunk-Y52LFEYF.js";
import {
  e as e6,
  ee
} from "./chunk-6FMD7BOV.js";
import {
  O as O3,
  b,
  j2
} from "./chunk-TKMRXVLK.js";
import {
  l as l3
} from "./chunk-WOKVMRAD.js";
import {
  f as f4,
  r as r7
} from "./chunk-FXZUN4XG.js";
import {
  a as a2
} from "./chunk-3W2U3CD4.js";
import {
  _ as _4
} from "./chunk-PAH4PVZY.js";
import {
  H as H2
} from "./chunk-WCBHO6BH.js";
import {
  H,
  J,
  W,
  ds,
  ms,
  ss
} from "./chunk-RYF27IO3.js";
import {
  T
} from "./chunk-KVZT4PEH.js";
import {
  f as f3
} from "./chunk-VIRGWB3Z.js";
import {
  at,
  ct,
  gt,
  it
} from "./chunk-SPYHZ6ZW.js";
import {
  e as e5
} from "./chunk-637XZX4A.js";
import {
  t as t6,
  u as u4
} from "./chunk-L3GUCBXG.js";
import {
  r as r4
} from "./chunk-7KNPDPFB.js";
import {
  r as r5,
  r2 as r6,
  t as t4
} from "./chunk-ZPC74XHC.js";
import {
  A
} from "./chunk-IVGJRGD2.js";
import {
  t as t3
} from "./chunk-MTLWPXQD.js";
import {
  t as t5
} from "./chunk-JBF6CULO.js";
import {
  h as h2
} from "./chunk-3DFMDDMO.js";
import {
  O as O2
} from "./chunk-GMUCR2DJ.js";
import {
  S,
  _ as _3,
  l as l2
} from "./chunk-MEEG7XMI.js";
import {
  O,
  R as R4
} from "./chunk-WKVHVZW2.js";
import {
  I
} from "./chunk-KSZESDGM.js";
import {
  e as e4
} from "./chunk-TXLJQAAN.js";
import {
  o as o4
} from "./chunk-CDBOQCLE.js";
import {
  n as n4
} from "./chunk-P4MNTMCZ.js";
import {
  d as d2
} from "./chunk-FQLGRQKL.js";
import {
  F,
  G,
  R as R2
} from "./chunk-XGTCDM4C.js";
import {
  t as t2
} from "./chunk-42DUJ2CX.js";
import {
  U,
  c as c2,
  f as f2,
  j,
  o as o3,
  u as u3
} from "./chunk-Z2F5OKVA.js";
import {
  e as e3
} from "./chunk-GLF3KRAL.js";
import {
  R as R3
} from "./chunk-QCMUK3QA.js";
import {
  e as e2
} from "./chunk-N5GQOIDP.js";
import {
  r as r3
} from "./chunk-AKEHDP75.js";
import {
  a
} from "./chunk-5MMGIT64.js";
import {
  R,
  _ as _2,
  c,
  f,
  i,
  l,
  o as o2,
  x as x2
} from "./chunk-HWHMO3CO.js";
import {
  u as u2
} from "./chunk-WDPG5BMO.js";
import {
  p
} from "./chunk-BOAEEYBE.js";
import {
  C
} from "./chunk-2ICUS4HL.js";
import {
  n as n3
} from "./chunk-ZPYA32PH.js";
import {
  M,
  h
} from "./chunk-OCF7OAES.js";
import {
  P as P2,
  _,
  e,
  g,
  o,
  r as r2,
  s,
  u,
  v,
  z
} from "./chunk-JZBR4X6W.js";
import {
  n as n2,
  r,
  t
} from "./chunk-OIJCMME5.js";
import {
  x2 as x
} from "./chunk-M5ZB5S5C.js";
import {
  P,
  d
} from "./chunk-Z4Y53NDM.js";
import {
  n2 as n
} from "./chunk-7RBRCL6S.js";
import {
  has
} from "./chunk-J2EGIWT6.js";

// node_modules/@arcgis/core/views/3d/analysis/Slice/settings.js
var t7 = r3(0, 0, 0, 0.04);
function c3({ accentColor: r9 }) {
  return F(r9, 0.5);
}
function e7({ accentColor: r9 }) {
  return F(r9, 0.7);
}

// node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolConfig.js
var t8 = has("mac") ? "Meta" : "Control";
var r8 = "Shift";
var s2 = 2;
var a3 = 1.15;
var c4 = 1.15;
var m = 2500;
var h4 = 0.02;
var e8 = Math.cos(h(45));
var i2 = Math.cos(h(5));
var f5 = 0.95;
var p2 = 0.3;
var M2 = 2;
var j3 = 1;
var l4 = 3;
var n5 = 11;
var x3 = 22.5;
var C2 = 40;
var S2 = 48;
var U2 = 2.25;
var b2 = 4;
var d3 = 1;
var g3 = 0.3;
var k = 6;
var q = 4;
var u5 = 1600;
var v3 = 0.4;

// node_modules/@arcgis/core/views/3d/webgl-engine/shaders/SlicePlaneMaterialTechnique.js
var h5 = class extends n4 {
  constructor() {
    super(...arguments), this.backgroundColor = r3(1, 0, 0, 0.5), this.gridColor = r3(0, 1, 0, 0.5), this.gridWidth = 4;
  }
};
var u6 = class _u extends r5 {
  initializeProgram(e9) {
    return new r6(e9.rctx, _u.shader.get().build(this.configuration), O2);
  }
  initializePipeline() {
    return S({ blending: l2(R4.ONE, R4.ONE, R4.ONE_MINUS_SRC_ALPHA, R4.ONE_MINUS_SRC_ALPHA), depthTest: { func: O.LESS }, colorWrite: _3 });
  }
};
u6.shader = new t4(g2, () => import("./SlicePlaneMaterial.glsl-DHP7TDYX.js"));

// node_modules/@arcgis/core/views/3d/webgl-engine/materials/SlicePlaneMaterial.js
var l5 = class extends e5 {
  constructor(t9) {
    super(t9, new m2()), this.produces = /* @__PURE__ */ new Map([[A.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL, (e9) => e9 === o4.Color]]), this._configuration = new t5();
  }
  createBufferWriter() {
    return new r4(f3);
  }
  createGLMaterial(r9) {
    return new f6(r9);
  }
  getConfiguration() {
    return this._configuration;
  }
};
var f6 = class extends t3 {
  constructor(r9) {
    super(r9), this.ensureTechnique(u6, null);
  }
  beginSlot() {
    return this.technique;
  }
};
var m2 = class extends h5 {
  constructor() {
    super(...arguments), this.renderOccluded = h2.Occlude, this.isDecoration = false;
  }
};

// node_modules/@arcgis/core/views/3d/interactive/visualElements/SlicePlaneVisualElement.js
var l6 = class extends a2 {
  constructor(r9) {
    super(r9), this._material = null, this._renderOccluded = h2.OccludeAndTransparent, this._gridWidth = 1, this._gridColor = r3(1, 0, 0, 1), this._backgroundColor = r3(1, 0, 0, 1), this.applyProperties(r9);
  }
  get renderOccluded() {
    return this._renderOccluded;
  }
  set renderOccluded(r9) {
    r9 !== this._renderOccluded && (this._renderOccluded = r9, this._updateMaterial());
  }
  get gridWidth() {
    return this._gridWidth;
  }
  set gridWidth(r9) {
    this._gridWidth !== r9 && (this._gridWidth = r9, this._updateMaterial());
  }
  get gridColor() {
    return this._gridColor;
  }
  set gridColor(e9) {
    a(this._gridColor, e9), this._updateMaterial();
  }
  get backgroundColor() {
    return this._backgroundColor;
  }
  set backgroundColor(e9) {
    a(this._backgroundColor, e9), this._updateMaterial();
  }
  createExternalResources() {
    this._material = new l5(this._materialParameters);
  }
  destroyExternalResources() {
    this._material = null;
  }
  forEachExternalMaterial(r9) {
    null != this._material && r9(this._material);
  }
  createGeometries(r9) {
    if (null != this._material) {
      const e9 = ct(this._material);
      r9.addGeometry(e9);
    }
  }
  get _materialParameters() {
    return { backgroundColor: this._backgroundColor, gridWidth: this._gridWidth, gridColor: this._gridColor, renderOccluded: this._renderOccluded, isDecoration: this.isDecoration };
  }
  _updateMaterial() {
    null != this._material && this._material.setParameters(this._materialParameters);
  }
};

// node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolUtils.js
function ei(i3, t9, e9, n6, o5, r9, s3, a4) {
  return ni(t9, s3.worldUpAtPosition(i3, c2.get()), o5, r9, a4.basis1, a4.basis2), g(a4.basis1, a4.basis1, e9), g(a4.basis2, a4.basis2, n6), r2(a4.origin, i3), U(a4.basis2, a4.basis1, a4.origin, a4.plane), a4;
}
function ni(i3, t9, e9, n6, o5, r9) {
  const s3 = P2(i3, t9), a4 = c2.get(), c5 = c2.get();
  switch (n6 === Mi.HORIZONTAL_OR_VERTICAL ? Math.abs(s3) > e8 ? Mi.HORIZONTAL : Mi.VERTICAL : n6) {
    case Mi.VERTICAL: {
      const n7 = Math.abs(s3) <= i2 ? i3 : e9.viewUp;
      _(a4, n7, t9), r2(c5, t9);
      break;
    }
    case Mi.HORIZONTAL:
      _(a4, e9.viewUp, t9), _(c5, t9, a4);
      break;
    case Mi.TILTED: {
      const n7 = Math.abs(s3) <= i2 ? t9 : e9.viewUp;
      _(a4, n7, i3), _(c5, i3, a4);
      break;
    }
  }
  const l7 = _(c2.get(), a4, c5);
  P2(l7, e9.viewForward) > 0 && g(c5, c5, -1), z(o5, a4), z(r9, c5);
}
function oi(i3, t9, e9) {
  const n6 = t9.worldUpAtPosition(i3.origin, c2.get()), o5 = i3.basis1, r9 = Oi(i3, n6), s3 = Math.round(r9 / Ni) * Ni;
  return ms(i3, s3 - r9, o5, e9);
}
function ri(i3, t9, e9, n6, o5, r9) {
  const s3 = r2(c2.get(), o5.origin);
  u(s3, s3, g(c2.get(), o5.basis1, i3.direction[0] < 0 ? 1 : -1)), u(s3, s3, g(c2.get(), o5.basis2, i3.direction[1] < 0 ? 1 : -1));
  const a4 = s(o5.basis1), c5 = s(o5.basis2), l7 = e(c2.get(), e9, s3), m3 = e(c2.get(), t9, s3);
  let p3 = 0, h6 = 0;
  if (Ei(i3)) {
    const t10 = Ii(o5), e10 = Ii(r9);
    p3 = a4 - 0.5 * i3.direction[0] * P2(o5.basis1, m3) / a4, h6 = c5 - 0.5 * i3.direction[1] * P2(o5.basis2, m3) / c5;
    const n7 = e10 / t10;
    p3 *= n7, h6 *= n7;
  }
  const I3 = p3 + 0.5 * i3.direction[0] * P2(o5.basis1, l7) / a4, E = h6 + 0.5 * i3.direction[1] * P2(o5.basis2, l7) / c5, A2 = g(c2.get(), o5.basis1, I3 / a4), j5 = g(c2.get(), o5.basis2, E / c5);
  (I3 <= 0 || Ti(r9.origin, A2, n6) <= u5) && r2(A2, r9.basis1), (E <= 0 || Ti(r9.origin, j5, n6) <= u5) && r2(j5, r9.basis2);
  const R5 = r2(c2.get(), s3);
  return u(R5, R5, g(c2.get(), A2, i3.direction[0] < 0 ? -1 : 1)), u(R5, R5, g(c2.get(), j5, i3.direction[1] < 0 ? -1 : 1)), H(R5, A2, j5, r9);
}
function si(i3, t9) {
  return v3 * Math.min(t9.width, t9.height) * t9.computeRenderPixelSizeAt(i3);
}
function ai(i3, t9, e9, n6) {
  const o5 = _(c2.get(), t9, e9);
  return _(o5, o5, t9), j(i3, o5, n6);
}
function ci(i3, t9) {
  return O3(i3.basis1, i3.basis2, i3.origin, t9);
}
function li(i3, t9, e9, n6) {
  const o5 = t9.worldUpAtPosition(i3.origin, c2.get()), r9 = c2.get();
  switch (e9) {
    case _i.HEADING:
      r2(r9, o5);
      break;
    case _i.TILT:
      r2(r9, i3.basis1);
  }
  return j(i3.origin, r9, n6);
}
function ui(i3, t9, e9, n6) {
  const s3 = bi(e9, fi.NEGATIVE_X), a4 = f2.get();
  x2(a4, t9, s3.edge * Math.PI / 2);
  const c5 = z(c2.get(), s3.basis);
  let l7 = g(c2.get(), c5, s3.direction * n6.computeScreenPixelSizeAt(s3.position) * C2);
  u(l7, l7, s3.position);
  const d4 = n6.projectToRenderScreen(l7, p(c2.get())), g5 = di(n6, d4);
  l3(n6, d4, yi), z(yi.direction, yi.direction);
  const m3 = c2.get();
  !g5 && ss(e9, yi, m3) && (l7 = m3), a4[12] = 0, a4[13] = 0, a4[14] = 0, i3.modelTransform = a4, i3.renderLocation = t(l7), g5 ? i3.state |= Si : i3.state &= ~Si;
}
function di(i3, t9) {
  const [e9, n6, o5, r9] = i3.viewport, s3 = Math.min(o5, r9) / 16;
  let a4 = true;
  return t9[0] < e9 + s3 ? (t9[0] = e9 + s3, a4 = false) : t9[0] > e9 + o5 - s3 && (t9[0] = e9 + o5 - s3, a4 = false), t9[1] < n6 + s3 ? (t9[1] = n6 + s3, a4 = false) : t9[1] > n6 + r9 - s3 && (t9[1] = n6 + r9 - s3, a4 = false), a4;
}
function gi(i3, t9, e9, n6) {
  const o5 = s(n6.basis1), r9 = s(n6.basis2), l7 = hi(n6), d4 = Ii(n6), g5 = o(c2.get(), 0, 0, 0);
  u(g5, g(c2.get(), n6.basis1, t9.direction[0]), g(c2.get(), n6.basis2, t9.direction[1])), u(g5, n6.origin, g5);
  let m3 = 0, p3 = 1;
  if (Ei(t9))
    1 === t9.direction[0] && -1 === t9.direction[1] ? m3 = Ni : 1 === t9.direction[0] && 1 === t9.direction[1] ? m3 = Math.PI : -1 === t9.direction[0] && 1 === t9.direction[1] && (m3 = 3 * Math.PI / 2), p3 = d4;
  else {
    const i4 = 0 !== t9.direction[0] ? 1 : 2;
    m3 = 1 === i4 ? Ni : 0, p3 = (1 === i4 ? r9 : o5) - l7;
  }
  const T2 = R(f2.get(), m3);
  f(T2, T2, o(c2.get(), p3, p3, p3)), c(T2, e9, T2), T2[12] = 0, T2[13] = 0, T2[14] = 0, i3.modelTransform = T2, i3.renderLocation = g5;
}
function mi(i3, t9, e9, n6) {
  const o5 = n6.worldUpAtPosition(e9.origin, c2.get()), r9 = bi(e9, fi.POSITIVE_X), a4 = R(f2.get(), r9.edge * Math.PI / 2);
  l(a4, a4, -Oi(e9, o5)), c(a4, t9, a4), a4[12] = 0, a4[13] = 0, a4[14] = 0, i3.modelTransform = a4, i3.renderLocation = r9.position;
}
function pi(i3, t9, e9) {
  const n6 = bi(e9, fi.POSITIVE_Y), o5 = R(f2.get(), n6.edge * Math.PI / 2);
  l(o5, o5, Ni), c(o5, t9, o5), o5[12] = 0, o5[13] = 0, o5[14] = 0, i3.modelTransform = o5, i3.renderLocation = n6.position;
}
var fi;
function bi(i3, t9) {
  switch (t9) {
    case fi.POSITIVE_X:
      return { basis: i3.basis1, direction: 1, position: u(c2.get(), i3.origin, i3.basis1), edge: t9 };
    case fi.POSITIVE_Y:
      return { basis: i3.basis2, direction: 1, position: u(c2.get(), i3.origin, i3.basis2), edge: t9 };
    case fi.NEGATIVE_X:
      return { basis: i3.basis1, direction: -1, position: e(c2.get(), i3.origin, i3.basis1), edge: t9 };
    case fi.NEGATIVE_Y:
      return { basis: i3.basis2, direction: -1, position: e(c2.get(), i3.origin, i3.basis2), edge: t9 };
  }
}
function Ti(i3, t9, e9) {
  const n6 = e9.projectToRenderScreen(u(c2.get(), i3, t9), p(c2.get())), r9 = e9.projectToRenderScreen(e(c2.get(), i3, t9), p(c2.get()));
  return v(e(n6, n6, r9));
}
function hi(i3) {
  const t9 = s(i3.basis1), e9 = s(i3.basis2);
  return g3 * Math.min(t9, e9);
}
function Ii(i3) {
  return hi(i3);
}
function Ei(i3) {
  return 0 !== i3.direction[0] && 0 !== i3.direction[1];
}
function Ai(i3) {
  const t9 = [[-1, -1, 0], [1, -1, 0], [1, 1, 0], [-1, 1, 0], [-1, -1, 0]];
  return new f4({ view: i3, attached: false, color: e7(i3.effectiveTheme), width: j3, renderOccluded: h2.OccludeAndTransparent, geometry: [t9], isDecoration: true });
}
function ji(i3) {
  return new l6({ view: i3, attached: false, backgroundColor: t7, gridColor: c3(i3.effectiveTheme), gridWidth: 4, renderOccluded: h2.OccludeAndTransparent, isDecoration: true });
}
function Ri(t9, n6, o5, r9 = new h3()) {
  if (null == t9)
    return null;
  const { renderCoordsHelper: s3 } = n6, a4 = s3.fromRenderCoords(t9.origin, new x({ spatialReference: n6.spatialReference }));
  if (null == a4)
    return null;
  const c5 = C(a4, o5);
  if (null == c5)
    return null;
  r9.position = c5;
  const l7 = 2 * s(t9.basis1), u7 = 2 * s(t9.basis2), d4 = v2.renderUnitScaleFactor(n6.spatialReference, o5);
  r9.width = l7 * d4, r9.height = u7 * d4;
  const g5 = s3.worldUpAtPosition(t9.origin, c2.get());
  return r9.tilt = M(Oi(t9, g5)), r9.heading = s3.headingAtPosition(t9.origin, t9.basis1) - 90, r9;
}
function Oi(i3, t9) {
  return u3(t9, i3.basis2, i3.basis1) + Ni;
}
function Pi(i3, e9, o5, r9, s3, a4, c5 = W()) {
  return a4.toRenderCoords(i3, c5.origin) ? (a4.worldBasisAtPosition(c5.origin, n3.X, c5.basis1), a4.worldBasisAtPosition(c5.origin, n3.Y, c5.basis2), U(c5.basis2, c5.basis1, c5.origin, c5.plane), ms(c5, -h(e9), ds(c5), c5), ms(c5, h(o5), c5.basis1, c5), g(c5.basis1, c5.basis1, r9 / 2), g(c5.basis2, c5.basis2, s3 / 2), J(c5), c5) : (n.getLogger("esri.views.3d.analysis.Slice.sliceToolUtils").error(`Failed to project slice plane position, projection from ${i3.spatialReference.wkid} is not supported`), null);
}
function Li(i3, t9) {
  if (null == (i3 == null ? void 0 : i3.position))
    return null;
  const e9 = r7(i3.position, t9.spatialReference, t9.elevationProvider);
  if (null == e9)
    return null;
  const n6 = v2.renderUnitScaleFactor(i3.position.spatialReference, t9.spatialReference), o5 = i3.width * n6, r9 = i3.height * n6;
  return { position: e9, heading: i3.heading, tilt: i3.tilt, renderWidth: o5, renderHeight: r9 };
}
function Vi(i3, t9, e9, n6 = W()) {
  if (null == i3)
    return null;
  const o5 = Pi(i3.position, i3.heading, i3.tilt, i3.renderWidth, i3.renderHeight, t9.renderCoordsHelper, n6);
  return e9.tiltEnabled || null == o5 || oi(o5, t9.renderCoordsHelper, o5), o5;
}
!function(i3) {
  i3[i3.POSITIVE_X = 0] = "POSITIVE_X", i3[i3.POSITIVE_Y = 1] = "POSITIVE_Y", i3[i3.NEGATIVE_X = 2] = "NEGATIVE_X", i3[i3.NEGATIVE_Y = 3] = "NEGATIVE_Y";
}(fi || (fi = {}));
var Ci = u4.Custom1;
var _i;
var Mi;
!function(i3) {
  i3[i3.HEADING = 1] = "HEADING", i3[i3.TILT = 2] = "TILT";
}(_i || (_i = {})), function(i3) {
  i3[i3.HORIZONTAL_OR_VERTICAL = 0] = "HORIZONTAL_OR_VERTICAL", i3[i3.HORIZONTAL = 1] = "HORIZONTAL", i3[i3.VERTICAL = 2] = "VERTICAL", i3[i3.TILTED = 3] = "TILTED";
}(Mi || (Mi = {}));
var Si = u4.Custom2;
var yi = d2();
var Ni = Math.PI / 2;
var Hi = u4.Custom1;
var Ui = u4.Custom2;
function xi(i3) {
  return null != ("building-scene-3d" === i3.type ? i3 : null);
}

// node_modules/@arcgis/core/views/3d/analysis/Slice/ShiftManipulator.js
var H3;
!function(e9) {
  e9[e9.CENTER_ON_CALLOUT = 0] = "CENTER_ON_CALLOUT", e9[e9.CENTER_ON_ARROW = 1] = "CENTER_ON_ARROW";
}(H3 || (H3 = {}));
var I2 = class extends ee {
  constructor(a4, n6) {
    const i3 = new H2({ width: 1, renderOccluded: h2.OccludeAndTransparent, isDecoration: true }), s3 = new _4({ cullFace: e4.Back, renderOccluded: h2.Opaque, isDecoration: true }), c5 = new _4({ cullFace: e4.Back, renderOccluded: h2.Opaque, isDecoration: true }), l7 = new _4({ cullFace: e4.Back, renderOccluded: h2.Opaque, isDecoration: true }), m3 = new _4({ writeDepth: false, cullFace: e4.Front, renderOccluded: h2.Transparent, isDecoration: true });
    super({ view: a4, ...S3({ offsetMode: n6, tubeMaterial: s3, tipMaterial: c5, capMaterial: l7, outlineMaterial: m3, calloutMaterial: i3 }) }), this._themeHandle = d(() => a4.effectiveTheme.accentColor, (r9) => {
      const o5 = G(r9), a5 = u2.toUnitRGBA(r9), n7 = u2.toUnitRGBA(o5), p3 = u2.toUnitRGBA(u2.blendColors(o5, r9, 0.4)), u7 = u2.toUnitRGBA(u2.blendColors(o5, r9, 0.14));
      i3.setParameters({ color: a5 }), s3.setParameters({ color: u7 }), c5.setParameters({ color: n7 }), l7.setParameters({ color: p3 }), m3.setParameters({ color: a5 });
    }, P);
  }
  destroy() {
    this._themeHandle.remove(), super.destroy();
  }
};
function S3({ offsetMode: e9, tubeMaterial: t9, tipMaterial: r9, capMaterial: o5, outlineMaterial: a4, calloutMaterial: n6 }) {
  const i3 = e9 === H3.CENTER_ON_CALLOUT ? C2 : 0, s3 = [r(i3, 0, -S2 / 2), r(i3, 0, S2 / 2)], c5 = J2(s3, true), l7 = W2({ vertices: s3, padding: 0, materials: { tube: t9, tip: r9, cap: o5 } }), m3 = W2({ vertices: s3, padding: U2, materials: { tube: a4, tip: a4, cap: a4 } }), p3 = gt(n6, [[i3, 0, 0], [i3 - C2, 0, 0]]), u7 = gt(n6, [[i3, 0, 0], [i3 - C2, 0, 0]]);
  return { renderObjects: [...l7.normal.map((e10) => new e6(e10, t6.Unfocused | Ci)), ...m3.normal.map((e10) => new e6(e10, t6.Unfocused | Ci)), new e6(p3, t6.Unfocused | Ci | Si), ...l7.focused.map((e10) => new e6(e10, t6.Focused | Ci)), ...m3.focused.map((e10) => new e6(e10, t6.Focused | Ci)), new e6(u7, t6.Focused | Ci | Si)], autoScaleRenderObjects: false, collisionType: { type: "line", paths: [c5] }, collisionPriority: 1, radius: n5, state: Ci };
}
function W2({ vertices: e9, padding: t9, materials: r9 }) {
  const o5 = (o6) => {
    const M4 = e9.slice(0), C3 = e(c2.get(), M4[0], M4[1]);
    z(C3, C3);
    const T2 = e(c2.get(), M4[M4.length - 1], M4[M4.length - 2]);
    if (z(T2, T2), t9 > 0) {
      const e10 = g(n2(), T2, -t9);
      M4[M4.length - 1] = u(e10, e10, M4[M4.length - 1]);
      const r10 = g(n2(), C3, -t9);
      M4[0] = u(r10, r10, M4[0]);
    }
    const E = o6 ? c4 : 1, N = x3 * E, F2 = n5 * E, y = o2(f2.get());
    if (t9 > 0) {
      const e10 = N / 4, r10 = o(c2.get(), 0, e10, 0), o7 = 1 + t9 / e10;
      i(y, y, r10), f(y, y, o(c2.get(), o7, o7, o7)), i(y, y, g(r10, r10, -1 / o7));
    }
    const B = o2(e2()), D = r(0, 1, 0), P3 = _2(e2(), R3(o3.get(), D, T2));
    P3[12] = M4[M4.length - 1][0], P3[13] = M4[M4.length - 1][1], P3[14] = M4[M4.length - 1][2], c(P3, P3, y);
    const x4 = r9.tube, k2 = z2(l4 * (o6 ? a3 : 1) + t9, M4, x4);
    k2.transformation = B;
    const G2 = [k2], q2 = r9.tip, H4 = at(q2, N, F2, 24, false, false, true);
    H4.transformation = P3, G2.push(H4);
    const I3 = r9.cap, S4 = at(I3, N, F2, 24, false, true, false);
    S4.transformation = P3, G2.push(S4);
    const W3 = _2(e2(), R3(o3.get(), D, C3));
    return W3[12] = M4[0][0], W3[13] = M4[0][1], W3[14] = M4[0][2], c(W3, W3, y), G2.push(H4.instantiate({ transformation: W3 })), G2.push(S4.instantiate({ transformation: W3 })), G2;
  };
  return { normal: o5(false), focused: o5(true) };
}
function z2(e9, t9, r9) {
  const o5 = [], a4 = 12;
  for (let n6 = 0; n6 < a4; n6++) {
    const t10 = n6 / a4 * 2 * Math.PI;
    o5.push([Math.cos(t10) * e9, Math.sin(t10) * e9]);
  }
  return it(r9, o5, t9, [], [], false);
}
function J2(e9, t9) {
  const r9 = e(n2(), e9[e9.length - 1], e9[e9.length - 2]);
  if (z(r9, r9), g(r9, r9, x3), u(r9, r9, e9[e9.length - 1]), t9) {
    const t10 = e(n2(), e9[0], e9[1]);
    return z(t10, t10), g(t10, t10, x3), u(t10, t10, e9[0]), [t10, ...e9, r9];
  }
  return [...e9, r9];
}

// node_modules/@arcgis/core/views/3d/analysis/Slice/RotateManipulator.js
var g4 = class extends ee {
  constructor(n6, s3) {
    const a4 = new T({ transparent: true, writeDepth: false, renderOccluded: h2.Opaque, isDecoration: true }), c5 = j2.calloutWidth, m3 = new H2({ width: c5, renderOccluded: h2.OccludeAndTransparent, isDecoration: true });
    super({ view: n6, ...j4({ imageMaterial: a4, calloutMaterial: m3 }) }), this._currentTexture = null, this._themeHandle = d(() => n6.effectiveTheme.accentColor, (i3) => {
      const o5 = R2(i3, 0.5), n7 = G(i3), l7 = this._currentTexture, c6 = s3(o5, n7);
      a4.setParameters({ textureId: c6.texture.id }), m3.setParameters({ color: u2.toUnitRGBA(i3) }), this._currentTexture = c6, l7 == null ? void 0 : l7.release();
    }, P);
  }
  destroy() {
    var _a;
    this._themeHandle.remove(), (_a = this._currentTexture) == null ? void 0 : _a.release(), super.destroy();
  }
};
function j4({ imageMaterial: e9, calloutMaterial: t9 }) {
  const { focusMultiplier: r9, calloutLength: i3, discRadius: o5 } = j2, s3 = o5 * r9, d4 = (e10, t10) => {
    const r10 = [0, 1, 2, 2, 3, 0];
    return new I(t10, [[e3.POSITION, new t2([i3 - e10, -e10, 0, i3 + e10, -e10, 0, i3 + e10, e10, 0, i3 - e10, e10, 0], r10, 3, true)], [e3.UV0, new t2([0, 0, 1, 0, 1, 1, 0, 1], r10, 2, true)]]);
  }, f7 = gt(t9, [[0, 0, 0], [i3 - o5, 0, 0]]), b3 = gt(t9, [[0, 0, 0], [i3 - s3, 0, 0]]), g5 = Ci;
  return { autoScaleRenderObjects: false, collisionPriority: 1, collisionType: { type: "disc", direction: [0, 0, 1], offset: [i3, 0, 0] }, focusMultiplier: r9, radius: o5, renderObjects: [new e6(d4(o5, e9), t6.Unfocused | g5), new e6(f7, t6.Unfocused | g5), new e6(d4(s3, e9), t6.Focused | g5), new e6(b3, t6.Focused | g5)], state: g5 };
}

// node_modules/@arcgis/core/views/3d/analysis/Slice/ResizeManipulator.js
var v4 = class extends ee {
  constructor(o5, i3) {
    const s3 = Ei(i3), m3 = s3 ? b2 : d3, f7 = m3 * s2, d4 = d3, u7 = { renderOccluded: h2.OccludeAndTransparent, isDecoration: true }, j5 = new H2({ ...u7, width: m3 }), h6 = new H2({ ...u7, width: f7 }), v5 = new H2({ ...u7, width: d4 });
    super({ view: o5, ...b, ...M3({ isCorner: s3, unfocusedMaterial: j5, focusedMaterial: h6, outlineMaterial: v5 }) }), this._themeHandle = d(() => o5.effectiveTheme.accentColor, (r9) => {
      const t9 = u2.toUnitRGBA(r9);
      j5.setParameters({ color: t9 }), h6.setParameters({ color: t9 }), v5.setParameters({ color: t9 });
    }, P);
  }
  destroy() {
    this._themeHandle.remove(), super.destroy();
  }
};
function M3({ isCorner: e9, unfocusedMaterial: r9, focusedMaterial: t9, outlineMaterial: n6 }) {
  const a4 = e9 ? [r(1, 0, 0), r(0, 0, 0), r(0, 1, 0)] : [r(1, 0, 0), r(-1, 0, 0)];
  return { renderObjects: [new e6(gt(r9, a4), t6.Unfocused | Hi), new e6(gt(t9, a4), t6.Focused | Hi), new e6(gt(n6, a4), Ui)], collisionType: { type: "line", paths: [a4] }, radius: e9 ? k : q, state: Hi };
}

export {
  t7 as t,
  c3 as c,
  e7 as e,
  t8 as t2,
  r8 as r,
  m,
  h4 as h,
  f5 as f,
  p2 as p,
  M2 as M,
  j3 as j,
  ei,
  ri,
  si,
  ai,
  ci,
  li,
  ui,
  gi,
  mi,
  pi,
  Ii,
  Ei,
  Ai,
  ji,
  Ri,
  Li,
  Vi,
  Ci,
  _i,
  Mi,
  Si,
  Hi,
  Ui,
  xi,
  H3 as H,
  I2 as I,
  g4 as g,
  v4 as v
};
//# sourceMappingURL=chunk-LBNOZOSP.js.map
