{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/save/groupLayerUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as r}from\"./utils.js\";import{createForItemWrite as t}from\"../../portal/support/jsonContext.js\";import{typeKeyword as o,hasTypeKeyword as a,removeTypeKeyword as s,addTypeKeyword as n}from\"../../portal/support/portalItemUtils.js\";import{saveResources as i}from\"../../webdoc/support/resourceUtils.js\";const u=\"Group Layer\",c=\"group-layer-save\",l=\"group-layer-save-as\",p=o.GROUP_LAYER_MAP;function m(e){return{isValid:\"group\"===e.type,errorMessage:\"Layer.type should be 'group'\"}}function y(e){return{isValid:a(e,p),errorMessage:`Layer.portalItem.typeKeywords should have '${p}'`}}function f(e,r){return{...t(e,\"web-map\",!0),initiator:r}}function v(e){const r=e.layerJSON;return Promise.resolve(r&&Object.keys(r).length?r:null)}async function d(e,r){r.title||=e.title,s(r,o.METADATA),n(r,p)}async function I(r,t){return e({layer:r,itemType:u,validateLayer:m,validateItem:y,createJSONContext:e=>f(e,r),createItemData:v,errorNamePrefix:c,saveResources:async(e,t)=>(r.sourceIsPortalItem||await e.removeAllResources().catch((()=>{})),i(r.resourceReferences,t))},t)}async function g(e,t,o){return r({layer:e,itemType:u,validateLayer:m,createJSONContext:r=>f(r,e),createItemData:v,errorNamePrefix:l,newItem:t,setItemProperties:d,saveResources:(r,t)=>i(e.resourceReferences,t)},o)}export{I as save,g as saveAs};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIkU,IAAM,IAAE;AAAR,IAAsB,IAAE;AAAxB,IAA2C,IAAE;AAA7C,IAAmEA,KAAE,EAAE;AAAgB,SAAS,EAAE,GAAE;AAAC,SAAM,EAAC,SAAQ,YAAU,EAAE,MAAK,cAAa,+BAA8B;AAAC;AAAC,SAAS,EAAE,GAAE;AAAC,SAAM,EAAC,SAAQ,EAAE,GAAEA,EAAC,GAAE,cAAa,8CAA8CA,EAAC,IAAG;AAAC;AAAC,SAASC,GAAE,GAAE,GAAE;AAAC,SAAM,EAAC,GAAG,EAAE,GAAE,WAAU,IAAE,GAAE,WAAU,EAAC;AAAC;AAAC,SAAS,EAAE,GAAE;AAAC,QAAM,IAAE,EAAE;AAAU,SAAO,QAAQ,QAAQ,KAAG,OAAO,KAAK,CAAC,EAAE,SAAO,IAAE,IAAI;AAAC;AAAC,eAAe,EAAE,GAAE,GAAE;AAAC,IAAE,UAAF,EAAE,QAAQ,EAAE,QAAM,EAAE,GAAE,EAAE,QAAQ,GAAE,EAAE,GAAED,EAAC;AAAC;AAAC,eAAe,EAAE,GAAE,GAAE;AAAC,SAAO,EAAE,EAAC,OAAM,GAAE,UAAS,GAAE,eAAc,GAAE,cAAa,GAAE,mBAAkB,OAAGC,GAAE,GAAE,CAAC,GAAE,gBAAe,GAAE,iBAAgB,GAAE,eAAc,OAAM,GAAEC,QAAK,EAAE,sBAAoB,MAAM,EAAE,mBAAmB,EAAE,MAAO,MAAI;AAAA,EAAC,CAAE,GAAE,EAAE,EAAE,oBAAmBA,EAAC,GAAE,GAAE,CAAC;AAAC;AAAC,eAAe,EAAE,GAAE,GAAEC,IAAE;AAAC,SAAO,EAAE,EAAC,OAAM,GAAE,UAAS,GAAE,eAAc,GAAE,mBAAkB,OAAGF,GAAE,GAAE,CAAC,GAAE,gBAAe,GAAE,iBAAgB,GAAE,SAAQ,GAAE,mBAAkB,GAAE,eAAc,CAAC,GAAEC,OAAI,EAAE,EAAE,oBAAmBA,EAAC,EAAC,GAAEC,EAAC;AAAC;",
  "names": ["p", "f", "t", "o"]
}
