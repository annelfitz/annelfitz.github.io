{
  "version": 3,
  "sources": ["../../@arcgis/core/support/popupUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../PopupTemplate.js\";import{isFieldEditable as t,isRasterPixelValueField as n,getDisplayFieldName as i,isFieldVisibleByDefault as o}from\"../layers/support/fieldUtils.js\";import r from\"../popup/content/AttachmentsContent.js\";import\"../popup/content/Content.js\";import\"../popup/content/CustomContent.js\";import\"../popup/content/ExpressionContent.js\";import s from\"../popup/content/FieldsContent.js\";import\"../popup/content/MediaContent.js\";import\"../popup/content/RelationshipContent.js\";import\"../popup/content/TextContent.js\";import l from\"../popup/FieldInfo.js\";import a from\"../popup/support/FieldInfoFormat.js\";function p({displayField:t,editFieldsInfo:n,fields:i,objectIdField:o,title:r},s){if(!i)return null;const l=w({editFieldsInfo:n,fields:i,objectIdField:o},s);if(!l.length)return null;const a=y({titleBase:r,fields:i,displayField:t}),p=j();return new e({title:a,content:p,fieldInfos:l})}function u(t){const{fields:n,featureReduction:i,title:o}=t,r=i.fields;if(!r)return null;const s=b(r,n??[]);if(!s.length)return null;const l=C();return new e({title:o,content:l,fieldInfos:s})}const c=(e,t)=>t.visibleFieldNames?t.visibleFieldNames.has(e.name):o(e,t);function f(e,t){const n=e;return t&&(e=e.filter((e=>!t.includes(e.type)))),e===n&&(e=e.slice()),e.sort(d),e}function d(e,t){return\"oid\"===e.type?-1:\"oid\"===t.type?1:I(e)?-1:I(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function m(e,t){return new s({fieldInfos:w(e,t).filter((e=>e.visible))})}function w(e,n){const i=n?.visibleFieldNames;return f(e.fields??[],n?.ignoreFieldTypes||v).map((n=>new l({fieldName:n.name,isEditable:t(n,e),label:n.alias,format:g(n),visible:c(n,{...e,visibleFieldNames:i})})))}function b(e,t){return e.map((e=>new l({fieldName:e.name,isEditable:!1,label:e.alias,format:F(e,t),visible:!0})))}function F(e,t){const{onStatisticField:n,onStatisticExpression:i,statisticType:o}=e;if(n){const e=t.find((e=>n===e.name));if(e)return g(e)}return\"number\"===i?.returnType?new a({digitSeparator:!0,places:2}):\"count\"===o?new a({digitSeparator:!0,places:0}):null}function g(e){switch(e.type){case\"small-integer\":case\"integer\":case\"single\":return new a({digitSeparator:!0,places:0});case\"double\":return new a({digitSeparator:!0,places:2});case\"string\":return n(e.name)?new a({digitSeparator:!0,places:0}):null;default:return null}}function j(){return[new s,new r]}function C(){return[new s]}function y(e){const t=i(e),{titleBase:n}=e;return t?`${n}: {${t.trim()}}`:n??\"\"}function I(e){if(\"name\"===(e.name&&e.name.toLowerCase()))return!0;return\"name\"===(e.alias&&e.alias.toLowerCase())}const v=[\"geometry\",\"blob\",\"raster\",\"guid\",\"xml\"];export{w as createFieldInfos,m as createFieldsContent,p as createPopupTemplate,u as createPopupTemplateForFeatureReduction};\n"],
  "mappings": ";;;;;;;;;;;;;;;AAIonB,SAAS,EAAE,EAAC,cAAa,GAAE,gBAAe,GAAE,QAAOA,IAAE,eAAc,GAAE,OAAM,EAAC,GAAE,GAAE;AAAC,MAAG,CAACA;AAAE,WAAO;AAAK,QAAM,IAAE,EAAE,EAAC,gBAAe,GAAE,QAAOA,IAAE,eAAc,EAAC,GAAE,CAAC;AAAE,MAAG,CAAC,EAAE;AAAO,WAAO;AAAK,QAAM,IAAE,EAAE,EAAC,WAAU,GAAE,QAAOA,IAAE,cAAa,EAAC,CAAC,GAAEC,KAAE,EAAE;AAAE,SAAO,IAAI,EAAE,EAAC,OAAM,GAAE,SAAQA,IAAE,YAAW,EAAC,CAAC;AAAC;AAAgM,IAAMC,KAAE,CAAC,GAAE,MAAI,EAAE,oBAAkB,EAAE,kBAAkB,IAAI,EAAE,IAAI,IAAE,EAAE,GAAE,CAAC;AAAE,SAAS,EAAE,GAAE,GAAE;AAAC,QAAM,IAAE;AAAE,SAAO,MAAI,IAAE,EAAE,OAAQ,CAAAC,OAAG,CAAC,EAAE,SAASA,GAAE,IAAI,CAAE,IAAG,MAAI,MAAI,IAAE,EAAE,MAAM,IAAG,EAAE,KAAK,CAAC,GAAE;AAAC;AAAC,SAAS,EAAE,GAAE,GAAE;AAAC,SAAM,UAAQ,EAAE,OAAK,KAAG,UAAQ,EAAE,OAAK,IAAE,EAAE,CAAC,IAAE,KAAG,EAAE,CAAC,IAAE,KAAG,EAAE,SAAO,EAAE,MAAM,kBAAkB,EAAE,eAAe,EAAE,SAAO,EAAE,MAAM,kBAAkB,CAAC;AAAC;AAA0E,SAAS,EAAE,GAAE,GAAE;AAAC,QAAMC,KAAE,uBAAG;AAAkB,SAAO,EAAE,EAAE,UAAQ,CAAC,IAAE,uBAAG,qBAAkB,CAAC,EAAE,IAAK,CAAAC,OAAG,IAAIC,GAAE,EAAC,WAAUD,GAAE,MAAK,YAAW,EAAEA,IAAE,CAAC,GAAE,OAAMA,GAAE,OAAM,QAAO,EAAEA,EAAC,GAAE,SAAQE,GAAEF,IAAE,EAAC,GAAG,GAAE,mBAAkBD,GAAC,CAAC,EAAC,CAAC,CAAE;AAAC;AAAsX,SAAS,EAAE,GAAE;AAAC,UAAO,EAAE,MAAK;AAAA,IAAC,KAAI;AAAA,IAAgB,KAAI;AAAA,IAAU,KAAI;AAAS,aAAO,IAAI,EAAE,EAAC,gBAAe,MAAG,QAAO,EAAC,CAAC;AAAA,IAAE,KAAI;AAAS,aAAO,IAAI,EAAE,EAAC,gBAAe,MAAG,QAAO,EAAC,CAAC;AAAA,IAAE,KAAI;AAAS,aAAO,GAAE,EAAE,IAAI,IAAE,IAAI,EAAE,EAAC,gBAAe,MAAG,QAAO,EAAC,CAAC,IAAE;AAAA,IAAK;AAAQ,aAAO;AAAA,EAAI;AAAC;AAAC,SAAS,IAAG;AAAC,SAAM,CAAC,IAAI,KAAE,IAAI,GAAC;AAAC;AAA4B,SAAS,EAAE,GAAE;AAAC,QAAM,IAAE,EAAE,CAAC,GAAE,EAAC,WAAU,EAAC,IAAE;AAAE,SAAO,IAAE,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,MAAI,KAAG;AAAE;AAAC,SAAS,EAAE,GAAE;AAAC,MAAG,YAAU,EAAE,QAAM,EAAE,KAAK,YAAY;AAAG,WAAM;AAAG,SAAM,YAAU,EAAE,SAAO,EAAE,MAAM,YAAY;AAAE;AAAC,IAAM,IAAE,CAAC,YAAW,QAAO,UAAS,QAAO,KAAK;",
  "names": ["i", "p", "c", "e", "i", "n", "m", "c"]
}
