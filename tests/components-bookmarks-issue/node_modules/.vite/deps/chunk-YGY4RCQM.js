import {
  t
} from "./chunk-GEMKWQ3Q.js";
import {
  p,
  s
} from "./chunk-QD3CP3I4.js";
import {
  y as y2
} from "./chunk-Z3NX5DTX.js";
import {
  y
} from "./chunk-J7AMTUNG.js";
import {
  j,
  m2,
  u
} from "./chunk-HV6S3GY2.js";
import {
  a
} from "./chunk-IGR2BTWR.js";
import {
  h,
  m,
  n,
  n2 as n3
} from "./chunk-545NO6M2.js";
import {
  w
} from "./chunk-IZKCZQUY.js";
import {
  n as n2,
  x2 as x
} from "./chunk-M5ZB5S5C.js";
import {
  f
} from "./chunk-MBGZKT2Z.js";
import {
  DateTime
} from "./chunk-NIDZ6R4E.js";
import {
  c
} from "./chunk-7MT4ACA4.js";
import {
  r as r3
} from "./chunk-SAYWXQVM.js";
import {
  S
} from "./chunk-JGDJR5EV.js";
import {
  r,
  r2
} from "./chunk-7RBRCL6S.js";

// node_modules/@arcgis/core/arcade/ArcadeModule.js
var s2 = class {
  constructor(s6) {
    this.source = s6;
  }
};

// node_modules/@arcgis/core/arcade/executionError.js
var r4;
!function(e2) {
  e2.AsyncNotEnabled = "AsyncNotEnabled", e2.ModulesNotSupported = "ModulesNotSupported", e2.CircularModules = "CircularModules", e2.CannotCompareDateAndTime = "CannotCompareDateAndTime", e2.NeverReach = "NeverReach", e2.UnsupportedHashType = "UnsupportedHashType", e2.InvalidParameter = "InvalidParameter", e2.FeatureSetDoesNotHaveSubtypes = "FeatureSetDoesNotHaveSubtypes", e2.UnexpectedToken = "UnexpectedToken", e2.Unrecognized = "Unrecognized", e2.UnrecognizedType = "UnrecognizedType", e2.MaximumCallDepth = "MaximumCallDepth", e2.BooleanConditionRequired = "BooleanConditionRequired", e2.TypeNotAllowedInFeature = "TypeNotAllowedInFeature", e2.KeyMustBeString = "KeyMustBeString", e2.WrongNumberOfParameters = "WrongNumberOfParameters", e2.CallNonFunction = "CallNonFunction", e2.NoFunctionInTemplateLiteral = "NoFunctionInTemplateLiteral", e2.NoFunctionInDictionary = "NoFunctionInDictionary", e2.NoFunctionInArray = "NoFunctionInArray", e2.AssignModuleFunction = "AssignModuleFunction", e2.LogicExpressionOrAnd = "LogicExpressionOrAnd", e2.LogicalExpressionOnlyBoolean = "LogicalExpressionOnlyBoolean", e2.FunctionNotFound = "FunctionNotFound", e2.InvalidMemberAccessKey = "InvalidMemberAccessKey", e2.UnsupportedUnaryOperator = "UnsupportUnaryOperator", e2.InvalidIdentifier = "InvalidIdentifier", e2.MemberOfNull = "MemberOfNull", e2.UnsupportedOperator = "UnsupportedOperator", e2.Cancelled = "Cancelled", e2.ModuleAccessorMustBeString = "ModuleAccessorMustBeString", e2.ModuleExportNotFound = "ModuleExportNotFound", e2.Immutable = "Immutable", e2.OutOfBounds = "OutOfBounds", e2.IllegalResult = "IllegalResult", e2.FieldNotFound = "FieldNotFound", e2.PortalRequired = "PortalRequired", e2.LogicError = "LogicError", e2.ArrayAccessorMustBeNumber = "ArrayAccessMustBeNumber", e2.KeyAccessorMustBeString = "KeyAccessorMustBeString", e2.WrongSpatialReference = "WrongSpatialReference", e2.CannotChangeTimeZoneTime = "CannotChangeTimeZoneTime", e2.CannotChangeTimeZoneDateOnly = "CannotChangeTimeZoneDateOnly";
}(r4 || (r4 = {}));
var o = { [r4.TypeNotAllowedInFeature]: "Feature attributes only support dates, numbers, strings, guids.", [r4.LogicError]: "Logic error - {reason}", [r4.CannotCompareDateAndTime]: "Cannot compare date or dateonly with timeonly types", [r4.NeverReach]: "Encountered unreachable logic", [r4.AsyncNotEnabled]: "Async Arcade must be enabled for this script", [r4.ModuleAccessorMustBeString]: "Module accessor must be a string", [r4.ModuleExportNotFound]: "Module has no export with provided identifier", [r4.ModulesNotSupported]: "Current profile does not support modules", [r4.ArrayAccessorMustBeNumber]: "Array accessor must be a number", [r4.FunctionNotFound]: "Function not found", [r4.FieldNotFound]: "Key not found - {key}", [r4.CircularModules]: "Circular module dependencies are not allowed", [r4.Cancelled]: "Execution cancelled", [r4.UnsupportedHashType]: "Type not supported in hash function", [r4.IllegalResult]: "Value is not a supported return type", [r4.PortalRequired]: "Portal is required", [r4.InvalidParameter]: "Invalid parameter", [r4.WrongNumberOfParameters]: "Call with wrong number of parameters", [r4.Unrecognized]: "Unrecognized code structure", [r4.UnrecognizedType]: "Unrecognized type", [r4.WrongSpatialReference]: "Cannot work with geometry in this spatial reference. It is different to the execution spatial reference", [r4.BooleanConditionRequired]: "Conditions must use booleans", [r4.NoFunctionInDictionary]: "Dictionaries cannot contain functions.", [r4.NoFunctionInArray]: "Arrays cannot contain functions.", [r4.NoFunctionInTemplateLiteral]: "Template Literals do not expect functions by value.", [r4.KeyAccessorMustBeString]: "Accessor must be a string", [r4.KeyMustBeString]: "Object keys must be a string", [r4.Immutable]: "Object is immutable", [r4.UnexpectedToken]: "Unexpected token", [r4.MemberOfNull]: "Cannot access property of null object", [r4.MaximumCallDepth]: "Exceeded maximum function depth", [r4.OutOfBounds]: "Out of bounds", [r4.InvalidIdentifier]: "Identifier not recognized", [r4.CallNonFunction]: "Expression is not a function", [r4.InvalidMemberAccessKey]: "Cannot access value using a key of this type", [r4.AssignModuleFunction]: "Cannot assign function to module variable", [r4.UnsupportedUnaryOperator]: "Unsupported unary operator", [r4.UnsupportedOperator]: "Unsupported operator", [r4.LogicalExpressionOnlyBoolean]: "Logical expressions must be boolean", [r4.LogicExpressionOrAnd]: "Logical expression can only be combined with || or &&", [r4.CannotChangeTimeZoneTime]: "Cannot change the timezone of a Time", [r4.CannotChangeTimeZoneDateOnly]: "Cannot change the timezone of a DateOnly", [r4.FeatureSetDoesNotHaveSubtypes]: "FeatureSet does not have subtypes" };
var n4 = class extends Error {
  constructor(...e2) {
    super(...e2);
  }
};
var t2 = class _t extends n4 {
  constructor(e2, r6) {
    super(s3(r6) + e2.message, { cause: e2 }), this.loc = null, Error.captureStackTrace && Error.captureStackTrace(this, _t), (r6 == null ? void 0 : r6.loc) && (this.loc = r6.loc);
  }
};
var a2 = class _a extends Error {
  constructor(r6, n6, t3, c3) {
    super("Execution error - " + s3(t3) + r2(o[n6], c3)), this.loc = null, this.declaredRootClass = "esri.arcade.arcadeexecutionerror", Error.captureStackTrace && Error.captureStackTrace(this, _a), (t3 == null ? void 0 : t3.loc) && (this.loc = t3.loc);
  }
};
function s3(e2) {
  var _a, _b;
  return e2 && e2.loc ? `Line : ${(_a = e2.loc.start) == null ? void 0 : _a.line}, ${(_b = e2.loc.start) == null ? void 0 : _b.column}: ` : "";
}
var c2 = class _c extends Error {
  constructor(r6, n6, t3, a4) {
    super("Compilation error - " + s3(t3) + r2(o[n6], a4)), this.loc = null, this.declaredRootClass = "esri.arcade.arcadecompilationerror", Error.captureStackTrace && Error.captureStackTrace(this, _c), (t3 == null ? void 0 : t3.loc) && (this.loc = t3.loc);
  }
};
var i = class _i extends Error {
  constructor() {
    super("Uncompilable code structures"), this.declaredRootClass = "esri.arcade.arcadeuncompilableerror", Error.captureStackTrace && Error.captureStackTrace(this, _i);
  }
};
function u2(e2, r6, o2) {
  return "esri.arcade.arcadeexecutionerror" === o2.declaredRootClass || "esri.arcade.arcadecompilationerror" === o2.declaredRootClass ? null === o2.loc && (r6 == null ? void 0 : r6.loc) ? new t2(o2, { cause: o2 }) : o2 : ("esri.arcade.featureset.support.featureseterror" === o2.declaredRootClass || "esri.arcade.featureset.support.sqlerror" === o2.declaredRootClass || o2.declaredRootClass, (r6 == null ? void 0 : r6.loc) ? new t2(o2, { cause: o2 }) : o2);
}
var l;
!function(e2) {
  e2.UnrecognizedUri = "UnrecognizedUri", e2.UnsupportedUriProtocol = "UnsupportedUriProtocol";
}(l || (l = {}));
var d = { [l.UnrecognizedUri]: "Unrecognized uri - {uri}", [l.UnsupportedUriProtocol]: "Unrecognized uri protocol" };
var p2 = class _p extends Error {
  constructor(r6, o2) {
    super(r2(d[r6], o2)), this.declaredRootClass = "esri.arcade.arcademoduleerror", Error.captureStackTrace && Error.captureStackTrace(this, _p);
  }
};

// node_modules/@arcgis/core/arcade/FunctionWrapper.js
var r5 = class {
  constructor() {
  }
};
function n5(t3, n6, e2) {
  if (t3 instanceof r5 && !(t3 instanceof s4)) {
    const r6 = new s4();
    return r6.fn = t3, r6.parameterEvaluator = e2, r6.context = n6, r6;
  }
  return t3;
}
var e = class extends r5 {
  constructor(t3) {
    super(), this.fn = t3;
  }
  createFunction(t3) {
    return (...r6) => this.fn(t3, { preparsed: true, arguments: r6 });
  }
  call(t3, r6) {
    return this.fn(t3, r6);
  }
  marshalledCall(e2, a4, l3, c3) {
    return c3(e2, a4, (a5, o2, i3) => {
      i3 = i3.map((t3) => t3 instanceof r5 && !(t3 instanceof s4) ? n5(t3, e2, c3) : t3);
      const u4 = this.call(l3, { args: i3 });
      return S(u4) ? u4.then((t3) => n5(t3, l3, c3)) : u4;
    });
  }
};
var s4 = class extends r5 {
  constructor() {
    super(...arguments), this.fn = null, this.context = null;
  }
  createFunction(t3) {
    return this.fn.createFunction(this.context);
  }
  call(t3, r6) {
    return this.fn.marshalledCall(t3, r6, this.context, this.parameterEvaluator);
  }
  marshalledCall(t3, r6, n6) {
    return this.fn.marshalledCall(t3, r6, this.context, this.parameterEvaluator);
  }
};

// node_modules/@arcgis/core/arcade/featureset/support/shared.js
var l2;
var s5;
function y3(e2) {
  return y2.fromJSON(e2.toJSON());
}
function p3(e2) {
  return e2.toJSON ? e2.toJSON() : e2;
}
function u3(e2) {
  return "string" == typeof e2 || e2 instanceof String;
}
function a3(e2) {
  return "number" == typeof e2;
}
function f2(e2) {
  return e2 instanceof Date;
}
function d2(e2) {
  return e2 instanceof DateTime;
}
function T(r6) {
  return r6 instanceof m;
}
function F(e2) {
  return e2 instanceof n;
}
function g(e2) {
  return e2 instanceof n3;
}
function G(e2, r6) {
  return e2 === r6 || !(!f2(e2) && !T(e2) || !f2(r6) && !T(r6)) && e2.getTime() === r6.getTime();
}
function O(e2) {
  if (null == e2)
    return null;
  if ("number" == typeof e2)
    return e2;
  switch (e2.toLowerCase()) {
    case "meters":
    case "meter":
      return 109404;
    case "miles":
    case "mile":
      return 109439;
    case "kilometers":
    case "kilometer":
    case "km":
      return 109414;
  }
  return null;
}
function v(e2) {
  if (null == e2)
    return null;
  switch (e2.type) {
    case "polygon":
    case "multipoint":
    case "polyline":
      return e2.extent;
    case "point":
      return new w({ xmin: e2.x, ymin: e2.y, xmax: e2.x, ymax: e2.y, spatialReference: e2.spatialReference });
    case "extent":
      return e2;
  }
  return null;
}
function I(e2) {
  if (null == e2)
    return null;
  if ("number" == typeof e2)
    return e2;
  if ("number" == typeof e2)
    return e2;
  switch (e2.toLowerCase()) {
    case "meters":
    case "meter":
      return 9001;
    case "miles":
    case "mile":
      return 9093;
    case "kilometers":
    case "kilometer":
    case "km":
      return 9036;
  }
  return null;
}
!function(e2) {
  e2[e2.Standardised = 0] = "Standardised", e2[e2.StandardisedNoInterval = 1] = "StandardisedNoInterval", e2[e2.SqlServer = 2] = "SqlServer", e2[e2.Oracle = 3] = "Oracle", e2[e2.Postgres = 4] = "Postgres", e2[e2.PGDB = 5] = "PGDB", e2[e2.FILEGDB = 6] = "FILEGDB", e2[e2.NotEvaluated = 7] = "NotEvaluated";
}(l2 || (l2 = {})), function(e2) {
  e2[e2.InFeatureSet = 0] = "InFeatureSet", e2[e2.NotInFeatureSet = 1] = "NotInFeatureSet", e2[e2.Unknown = 2] = "Unknown";
}(s5 || (s5 = {}));
var P = 1e3;
var N = { point: "point", polygon: "polygon", polyline: "polyline", multipoint: "multipoint", extent: "extent", esriGeometryPoint: "point", esriGeometryPolygon: "polygon", esriGeometryPolyline: "polyline", esriGeometryMultipoint: "multipoint", esriGeometryEnvelope: "extent", envelope: "extent" };
var E = { point: "esriGeometryPoint", polygon: "esriGeometryPolygon", polyline: "esriGeometryPolyline", multipoint: "esriGeometryMultipoint", extent: "esriGeometryEnvelope", esriGeometryPoint: "esriGeometryPoint", esriGeometryPolygon: "esriGeometryPolygon", esriGeometryPolyline: "esriGeometryPolyline", esriGeometryMultipoint: "esriGeometryMultipoint", esriGeometryEnvelope: "esriGeometryEnvelope", envelope: "esriGeometryEnvelope" };
var k = { "small-integer": "esriFieldTypeSmallInteger", integer: "esriFieldTypeInteger", long: "esriFieldTypeLong", single: "esriFieldTypeSingle", double: "esriFieldTypeDouble", string: "esriFieldTypeString", date: "esriFieldTypeDate", "date-only": "esriFieldTypeDateOnly", "time-only": "esriFieldTypeTimeOnly", "timestamp-offset": "esriFieldTypeTimestampOffset", oid: "esriFieldTypeOID", geometry: "esriFieldTypeGeometry", blob: "esriFieldTypeBlob", raster: "esriFieldTypeRaster", guid: "esriFieldTypeGUID", "global-id": "esriFieldTypeGlobalID", xml: "esriFieldTypeXML", "big-integer": "esriFieldTypeBigInteger", esriFieldTypeSmallInteger: "esriFieldTypeSmallInteger", esriFieldTypeInteger: "esriFieldTypeInteger", esriFieldTypeLong: "esriFieldTypeLong", esriFieldTypeSingle: "esriFieldTypeSingle", esriFieldTypeDouble: "esriFieldTypeDouble", esriFieldTypeString: "esriFieldTypeString", esriFieldTypeDate: "esriFieldTypeDate", esriFieldTypeDateOnly: "esriFieldTypeDateOnly", esriFieldTypeTimeOnly: "esriFieldTypeTimeOnly", esriFieldTypeTimestampOffset: "esriFieldTypeTimestampOffset", esriFieldTypeOID: "esriFieldTypeOID", esriFieldTypeGeometry: "esriFieldTypeGeometry", esriFieldTypeBlob: "esriFieldTypeBlob", esriFieldTypeRaster: "esriFieldTypeRaster", esriFieldTypeGUID: "esriFieldTypeGUID", esriFieldTypeGlobalID: "esriFieldTypeGlobalID", esriFieldTypeXML: "esriFieldTypeXML", esriFieldTypeBigInteger: "esriFieldTypeBigInteger" };
function J(e2) {
  return void 0 === e2 ? "" : e2 = (e2 = (e2 = e2.replace(/\/featureserver\/[0-9]*/i, "/FeatureServer")).replace(/\/mapserver\/[0-9]*/i, "/MapServer")).split("?")[0];
}
function M(e2, r6) {
  r6 || (r6 = {}), "function" == typeof r6 && (r6 = { cmp: r6 });
  const i3 = "boolean" == typeof r6.cycles && r6.cycles, t3 = r6.cmp && (n6 = r6.cmp, function(e3) {
    return function(r7, i4) {
      const t4 = { key: r7, value: e3[r7] }, o3 = { key: i4, value: e3[i4] };
      return n6(t4, o3);
    };
  });
  var n6;
  const o2 = [];
  return function e3(r7) {
    if ((r7 == null ? void 0 : r7.toJSON) && "function" == typeof r7.toJSON && (r7 = r7.toJSON()), void 0 === r7)
      return;
    if ("number" == typeof r7)
      return isFinite(r7) ? "" + r7 : "null";
    if ("object" != typeof r7)
      return JSON.stringify(r7);
    let n7, l3;
    if (Array.isArray(r7)) {
      for (l3 = "[", n7 = 0; n7 < r7.length; n7++)
        n7 && (l3 += ","), l3 += e3(r7[n7]) || "null";
      return l3 + "]";
    }
    if (null === r7)
      return "null";
    if (o2.includes(r7)) {
      if (i3)
        return JSON.stringify("__cycle__");
      throw new TypeError("Converting circular structure to JSON");
    }
    const s6 = o2.push(r7) - 1, y4 = Object.keys(r7).sort(t3 == null ? void 0 : t3(r7));
    for (l3 = "", n7 = 0; n7 < y4.length; n7++) {
      const i4 = y4[n7], t4 = e3(r7[i4]);
      t4 && (l3 && (l3 += ","), l3 += JSON.stringify(i4) + ":" + t4);
    }
    return o2.splice(s6, 1), "{" + l3 + "}";
  }(e2);
}

// node_modules/@arcgis/core/arcade/ImmutablePointArray.js
var i2 = class _i extends t {
  constructor(t3, s6, i3, e2, h3, a4) {
    super(t3), this._lazyPt = [], this._hasZ = false, this._hasM = false, this._spRef = s6, this._hasZ = i3, this._hasM = e2, this._cacheId = h3, this._partId = a4;
  }
  get(t3) {
    if (void 0 === this._lazyPt[t3]) {
      const i3 = this._elements[t3];
      if (void 0 === i3)
        return;
      const e2 = this._hasZ, h3 = this._hasM;
      let a4;
      a4 = e2 && !h3 ? new x(i3[0], i3[1], i3[2], void 0, this._spRef) : h3 && !e2 ? new x(i3[0], i3[1], void 0, i3[2], this._spRef) : e2 && h3 ? new x(i3[0], i3[1], i3[2], i3[3], this._spRef) : new x(i3[0], i3[1], this._spRef), a4.cache._arcadeCacheId = this._cacheId.toString() + "-" + this._partId.toString() + "-" + t3.toString(), this._lazyPt[t3] = a4;
    }
    return this._lazyPt[t3];
  }
  equalityTest(t3) {
    return t3 === this || null !== t3 && (t3 instanceof _i != false && t3.getUniqueHash() === this.getUniqueHash());
  }
  getUniqueHash() {
    return this._cacheId.toString() + "-" + this._partId.toString();
  }
};

// node_modules/@arcgis/core/arcade/ImmutablePathArray.js
var h2 = class _h extends t {
  constructor(t3, s6, h3, i3, e2) {
    super(t3), this._lazyPath = [], this._hasZ = false, this._hasM = false, this._hasZ = h3, this._hasM = i3, this._spRef = s6, this._cacheId = e2;
  }
  get(t3) {
    if (void 0 === this._lazyPath[t3]) {
      const h3 = this._elements[t3];
      if (void 0 === h3)
        return;
      this._lazyPath[t3] = new i2(h3, this._spRef, this._hasZ, this._hasM, this._cacheId, t3);
    }
    return this._lazyPath[t3];
  }
  equalityTest(t3) {
    return t3 === this || null !== t3 && (t3 instanceof _h != false && t3.getUniqueHash() === this.getUniqueHash());
  }
  getUniqueHash() {
    return this._cacheId.toString();
  }
};

// node_modules/@arcgis/core/chunks/languageUtils.js
var F2 = class {
  constructor(e2) {
    this.value = e2;
  }
};
var M2 = class {
  constructor(e2) {
    this.value = e2;
  }
};
var w2 = M2;
var x2 = F2;
var O2 = { type: "VOID" };
var R = { type: "BREAK" };
var J2 = { type: "CONTINUE" };
function v2(e2, t3, n6) {
  return "" === t3 || null == t3 || t3 === n6 || t3 === n6 ? e2 : e2 = e2.split(t3).join(n6);
}
function _(e2) {
  return e2 instanceof r5;
}
function I2(e2) {
  return e2 instanceof s2;
}
function L(e2) {
  return !!G2(e2) || (!!E2(e2) || (!!X(e2) || (!!ee(e2) || (!!te(e2) || (!!z(e2) || (null === e2 || (e2 === O2 || "number" == typeof e2)))))));
}
function Y(e2, t3) {
  return void 0 === e2 ? t3 : e2;
}
function P2(e2) {
  return null == e2 ? "" : U(e2) || Q(e2) ? "Array" : X(e2) ? "Date" : te(e2) ? "Time" : ee(e2) ? "DateOnly" : G2(e2) ? "String" : z(e2) ? "Boolean" : E2(e2) ? "Number" : "esri.arcade.Attachment" === (e2 == null ? void 0 : e2.declaredClass) ? "Attachment" : "esri.arcade.Portal" === (e2 == null ? void 0 : e2.declaredClass) ? "Portal" : "esri.arcade.Dictionary" === (e2 == null ? void 0 : e2.declaredClass) ? "Dictionary" : $(e2) ? "KnowledgeGraph" : e2 instanceof s2 ? "Module" : H(e2) ? "Feature" : e2 instanceof x ? "Point" : e2 instanceof j ? "Polygon" : e2 instanceof m2 ? "Polyline" : e2 instanceof u ? "Multipoint" : e2 instanceof w ? "Extent" : _(e2) ? "Function" : B(e2) ? "FeatureSet" : W(e2) ? "FeatureSetCollection" : e2 === O2 ? "" : "number" == typeof e2 && isNaN(e2) ? "Number" : "Unrecognized Type";
}
function G2(e2) {
  return "string" == typeof e2 || e2 instanceof String;
}
function z(e2) {
  return "boolean" == typeof e2;
}
function E2(e2) {
  return "number" == typeof e2;
}
function V(e2) {
  return "number" == typeof e2 && isFinite(e2) && Math.floor(e2) === e2;
}
function q(e2) {
  return e2 instanceof n2;
}
function U(e2) {
  return Array.isArray(e2);
}
function H(e2) {
  return "esri.arcade.Feature" === (e2 == null ? void 0 : e2.arcadeDeclaredClass);
}
function B(e2) {
  return "esri.arcade.featureset.support.FeatureSet" === (e2 == null ? void 0 : e2.declaredRootClass);
}
function K(e2) {
  return "esri.arcade.Dictionary" === (e2 == null ? void 0 : e2.declaredClass);
}
function W(e2) {
  return "esri.arcade.featureSetCollection" === (e2 == null ? void 0 : e2.declaredRootClass);
}
function $(e2) {
  return "esri.rest.knowledgeGraph.KnowledgeGraph" === (e2 == null ? void 0 : e2.declaredClass);
}
function Q(e2) {
  return e2 instanceof t;
}
function X(e2) {
  return e2 instanceof m;
}
function ee(e2) {
  return e2 instanceof n;
}
function te(e2) {
  return e2 instanceof n3;
}
function ne(e2) {
  return null != e2 && "object" == typeof e2;
}
function re(e2) {
  return e2 instanceof Date;
}
function ae(e2, t3, n6, r6, a4) {
  if (e2.length < t3 || e2.length > n6)
    throw new a2(r6, r4.WrongNumberOfParameters, a4);
}
function ie(e2) {
  return e2 < 0 ? -Math.round(-e2) : Math.round(e2);
}
function oe(e2, t3) {
  return isNaN(e2) || null == t3 || "" === t3 ? e2.toString() : (t3 = v2(t3, "‰", ""), t3 = v2(t3, "¤", ""), s(e2, { pattern: t3 }));
}
function ue(e2, t3) {
  return null == t3 || "" === t3 ? e2.toISOString(true) : e2.toFormat(se(t3), { locale: c(), numberingSystem: "latn" });
}
function se(e2, t3 = false) {
  e2 = e2.replaceAll(/LTS|LT|LL?L?L?|l{1,4}/g, "[$&]");
  let n6 = "";
  const r6 = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|Z{1,5}|.)/g;
  for (const a4 of e2.match(r6) || [])
    switch (a4) {
      case "D":
        n6 += "d";
        break;
      case "DD":
        n6 += "dd";
        break;
      case "DDD":
        n6 += "o";
        break;
      case "d":
        n6 += "c";
        break;
      case "ddd":
        n6 += "ccc";
        break;
      case "dddd":
        n6 += "cccc";
        break;
      case "M":
        n6 += "L";
        break;
      case "MM":
        n6 += "LL";
        break;
      case "MMM":
        n6 += "LLL";
        break;
      case "MMMM":
        n6 += "LLLL";
        break;
      case "YY":
        n6 += "yy";
        break;
      case "Y":
      case "YYYY":
        n6 += "yyyy";
        break;
      case "Q":
        n6 += "q";
        break;
      case "Z":
        n6 += "Z";
        break;
      case "ZZ":
        n6 += "ZZ";
        break;
      case "ZZZ":
        n6 += "ZZZ";
        break;
      case "ZZZZ":
        n6 += t3 ? "[ZZZZ]" : "ZZZZ";
        break;
      case "ZZZZZ":
        n6 += t3 ? "[ZZZZZ]" : "ZZZZZ";
        break;
      case "S":
        n6 += "'S'";
        break;
      case "SS":
        n6 += "'SS'";
        break;
      case "SSS":
        n6 += "u";
        break;
      case "A":
      case "a":
        n6 += "a";
        break;
      case "m":
      case "mm":
      case "h":
      case "hh":
      case "H":
      case "HH":
      case "s":
      case "ss":
      case "X":
      case "x":
        n6 += a4;
        break;
      default:
        a4.length >= 2 && "[" === a4.slice(0, 1) && "]" === a4.slice(-1) ? n6 += `'${a4.slice(1, -1)}'` : n6 += `'${a4}'`;
    }
  return n6;
}
function le(e2, t3, n6) {
  switch (n6) {
    case ">":
      return e2 > t3;
    case "<":
      return e2 < t3;
    case ">=":
      return e2 >= t3;
    case "<=":
      return e2 <= t3;
  }
  return false;
}
function fe(e2, t3, r6) {
  if (null === e2) {
    if (null === t3 || t3 === O2)
      return le(null, null, r6);
    if (E2(t3))
      return le(0, t3, r6);
    if (G2(t3))
      return le(0, ge(t3), r6);
    if (z(t3))
      return le(0, ge(t3), r6);
    if (X(t3))
      return le(0, t3.toNumber(), r6);
    if (te(t3))
      return le(e2, t3.toNumber(), r6);
    if (ee(t3))
      return le(e2, t3.toNumber(), r6);
  }
  if (e2 === O2) {
    if (null === t3 || t3 === O2)
      return le(null, null, r6);
    if (E2(t3))
      return le(0, t3, r6);
    if (G2(t3))
      return le(0, ge(t3), r6);
    if (z(t3))
      return le(0, ge(t3), r6);
    if (X(t3))
      return le(0, t3.toNumber(), r6);
    if (te(t3))
      return le(e2, t3.toNumber(), r6);
    if (ee(t3))
      return le(e2, t3.toNumber(), r6);
  } else if (E2(e2)) {
    if (E2(t3))
      return le(e2, t3, r6);
    if (z(t3))
      return le(e2, ge(t3), r6);
    if (null === t3 || t3 === O2)
      return le(e2, 0, r6);
    if (G2(t3))
      return le(e2, ge(t3), r6);
    if (X(t3))
      return le(e2, t3.toNumber(), r6);
    if (te(t3))
      return le(e2, t3.toNumber(), r6);
    if (ee(t3))
      return le(e2, t3.toNumber(), r6);
  } else if (G2(e2)) {
    if (G2(t3))
      return le(me(e2), me(t3), r6);
    if (X(t3))
      return le(ge(e2), t3.toNumber(), r6);
    if (te(t3))
      return le(ge(e2), t3.toNumber(), r6);
    if (ee(t3))
      return le(ge(e2), t3.toNumber(), r6);
    if (E2(t3))
      return le(ge(e2), t3, r6);
    if (null === t3 || t3 === O2)
      return le(ge(e2), 0, r6);
    if (z(t3))
      return le(ge(e2), ge(t3), r6);
  } else if (X(e2)) {
    if (X(t3))
      return e2.timeZone !== t3.timeZone && (e2.isUnknownTimeZone ? e2 = m.arcadeDateAndZoneToArcadeDate(e2, t3.timeZone) : t3.isUnknownTimeZone && (t3 = m.arcadeDateAndZoneToArcadeDate(t3, e2.timeZone))), le(e2.toNumber(), t3.toNumber(), r6);
    if (null === t3 || t3 === O2)
      return le(e2.toNumber(), 0, r6);
    if (E2(t3))
      return le(e2.toNumber(), t3, r6);
    if (z(t3))
      return le(e2.toNumber(), ge(t3), r6);
    if (G2(t3))
      return le(e2.toNumber(), ge(t3), r6);
    if (te(t3))
      throw new a2(null, r4.CannotCompareDateAndTime, null);
    if (ee(t3))
      return le(e2.toNumber(), t3.toNumber(), r6);
  } else if (z(e2)) {
    if (z(t3))
      return le(e2, t3, r6);
    if (E2(t3))
      return le(ge(e2), ge(t3), r6);
    if (X(t3))
      return le(ge(e2), t3.toNumber(), r6);
    if (te(t3))
      return le(ge(e2), t3.toNumber(), r6);
    if (ee(t3))
      return le(ge(e2), t3.toNumber(), r6);
    if (null === t3 || t3 === O2)
      return le(ge(e2), 0, r6);
    if (G2(t3))
      return le(ge(e2), ge(t3), r6);
  } else if (ee(e2)) {
    if (X(t3))
      return le(e2.toNumber(), t3.toNumber(), r6);
    if (null === t3 || t3 === O2)
      return le(e2.toNumber(), 0, r6);
    if (E2(t3))
      return le(e2.toNumber(), t3, r6);
    if (z(t3))
      return le(e2.toNumber(), ge(t3), r6);
    if (G2(t3))
      return le(e2.toNumber(), ge(t3), r6);
    if (te(t3))
      throw new a2(null, r4.CannotCompareDateAndTime, null);
    if (ee(t3))
      return le(e2.toNumber(), t3.toNumber(), r6);
  } else if (te(e2)) {
    if (X(t3))
      throw new a2(null, r4.CannotCompareDateAndTime, null);
    if (null === t3 || t3 === O2)
      return le(e2.toNumber(), 0, r6);
    if (E2(t3))
      return le(e2.toNumber(), t3, r6);
    if (z(t3))
      return le(e2.toNumber(), ge(t3), r6);
    if (G2(t3))
      return le(e2.toNumber(), ge(t3), r6);
    if (te(t3))
      return le(e2.toNumber(), t3.toNumber(), r6);
    if (ee(t3))
      throw new a2(null, r4.CannotCompareDateAndTime, null);
  }
  return !!ce(e2, t3) && ("<=" === r6 || ">=" === r6);
}
function ce(e2, t3) {
  if (e2 === t3)
    return true;
  if (null === e2 && t3 === O2 || null === t3 && e2 === O2)
    return true;
  if (X(e2) && X(t3))
    return e2.equals(t3);
  if (te(e2) && te(t3))
    return e2.equals(t3);
  if (ee(e2) && ee(t3))
    return e2.equals(t3);
  if (e2 instanceof h2)
    return e2.equalityTest(t3);
  if (e2 instanceof i2)
    return e2.equalityTest(t3);
  if (e2 instanceof x && t3 instanceof x) {
    const n6 = e2.cache._arcadeCacheId, r6 = t3.cache._arcadeCacheId;
    if (null != n6)
      return n6 === r6;
  }
  if (ne(e2) && ne(t3)) {
    if (e2._arcadeCacheId === t3._arcadeCacheId && void 0 !== e2._arcadeCacheId && null !== e2._arcadeCacheId)
      return true;
    if (e2._underlyingGraphic === t3._underlyingGraphic && void 0 !== e2._underlyingGraphic && null !== e2._underlyingGraphic)
      return true;
  }
  return false;
}
function me(e2, t3) {
  if (G2(e2))
    return e2;
  if (null === e2)
    return "";
  if (E2(e2))
    return oe(e2, t3);
  if (z(e2))
    return e2.toString();
  if (X(e2))
    return ue(e2, t3);
  if (te(e2))
    return e2.toFormat(t3);
  if (ee(e2))
    return e2.toFormat(t3);
  if (e2 instanceof n2)
    return JSON.stringify(e2.toJSON());
  if (U(e2)) {
    const t4 = [];
    for (let n6 = 0; n6 < e2.length; n6++)
      t4[n6] = ye(e2[n6]);
    return "[" + t4.join(",") + "]";
  }
  if (e2 instanceof t) {
    const t4 = [];
    for (let n6 = 0; n6 < e2.length(); n6++)
      t4[n6] = ye(e2.get(n6));
    return "[" + t4.join(",") + "]";
  }
  return null !== e2 && "object" == typeof e2 && void 0 !== e2.castToText ? e2.castToText() : _(e2) ? "object, Function" : e2 === O2 ? "" : I2(e2) ? "object, Module" : "";
}
function de(e2) {
  const t3 = [];
  if (!U(e2))
    return null;
  if (e2 instanceof t) {
    for (let n6 = 0; n6 < e2.length(); n6++)
      t3[n6] = ge(e2.get(n6));
    return t3;
  }
  for (let n6 = 0; n6 < e2.length; n6++)
    t3[n6] = ge(e2[n6]);
  return t3;
}
function pe(e2, t3, n6 = false) {
  if (G2(e2))
    return e2;
  if (null === e2)
    return "";
  if (E2(e2))
    return oe(e2, t3);
  if (z(e2))
    return e2.toString();
  if (X(e2))
    return ue(e2, t3);
  if (te(e2))
    return e2.toFormat(t3);
  if (ee(e2))
    return e2.toFormat(t3);
  if (e2 instanceof n2)
    return e2 instanceof w ? '{"xmin":' + e2.xmin.toString() + ',"ymin":' + e2.ymin.toString() + "," + (e2.hasZ ? '"zmin":' + e2.zmin.toString() + "," : "") + (e2.hasM ? '"mmin":' + e2.mmin.toString() + "," : "") + '"xmax":' + e2.xmax.toString() + ',"ymax":' + e2.ymax.toString() + "," + (e2.hasZ ? '"zmax":' + e2.zmax.toString() + "," : "") + (e2.hasM ? '"mmax":' + e2.mmax.toString() + "," : "") + '"spatialReference":' + je(e2.spatialReference) + "}" : je(e2.toJSON(), (e3, t4) => e3.key === t4.key ? 0 : "spatialReference" === e3.key ? 1 : "spatialReference" === t4.key || e3.key < t4.key ? -1 : e3.key > t4.key ? 1 : 0);
  if (U(e2)) {
    const t4 = [];
    for (let r6 = 0; r6 < e2.length; r6++)
      t4[r6] = ye(e2[r6], n6);
    return "[" + t4.join(",") + "]";
  }
  if (e2 instanceof t) {
    const t4 = [];
    for (let r6 = 0; r6 < e2.length(); r6++)
      t4[r6] = ye(e2.get(r6), n6);
    return "[" + t4.join(",") + "]";
  }
  return null !== e2 && "object" == typeof e2 && void 0 !== e2.castToText ? e2.castToText(n6) : _(e2) ? "object, Function" : e2 === O2 ? "" : I2(e2) ? "object, Module" : "";
}
function ye(e2, t3 = false) {
  if (null === e2)
    return "null";
  if (z(e2) || E2(e2) || G2(e2))
    return JSON.stringify(e2);
  if (e2 instanceof n2)
    return pe(e2, null, t3);
  if (e2 instanceof t)
    return pe(e2, null, t3);
  if (Array.isArray(e2))
    return pe(e2, null, t3);
  if (X(e2))
    return t3 ? JSON.stringify(e2.getTime()) : JSON.stringify(ue(e2, ""));
  if (te(e2))
    return JSON.stringify(e2.toString());
  if (ee(e2))
    return JSON.stringify(e2.toString());
  if (null !== e2 && "object" == typeof e2) {
    if (void 0 !== e2.castToText)
      return e2.castToText(t3);
  } else if (e2 === O2)
    return "null";
  return "null";
}
function ge(e2, t3) {
  return E2(e2) ? e2 : null === e2 || "" === e2 ? 0 : X(e2) || ee(e2) || te(e2) ? NaN : z(e2) ? e2 ? 1 : 0 : U(e2) || "" === e2 || void 0 === e2 ? NaN : void 0 !== t3 && G2(e2) ? (t3 = v2(t3, "‰", ""), t3 = v2(t3, "¤", ""), p(e2, { pattern: t3 })) : e2 === O2 ? 0 : Number(e2);
}
function he(e2, t3) {
  if (X(e2))
    return e2;
  if (G2(e2)) {
    const r6 = be(e2, t3);
    if (r6)
      return m.dateTimeToArcadeDate(r6);
  }
  return null;
}
function be(e2, t3) {
  const n6 = / (\d\d)/, a4 = h(t3);
  let i3 = DateTime.fromISO(e2, { zone: a4 });
  return i3.isValid || n6.test(e2) && (e2 = e2.replace(n6, "T$1"), i3 = DateTime.fromISO(e2, { zone: t3 }), i3.isValid) ? i3 : null;
}
function Ne(e2) {
  return z(e2) ? e2 : G2(e2) ? "true" === (e2 = e2.toLowerCase()) : !!E2(e2) && (0 !== e2 && !isNaN(e2));
}
function Se(e2, t3) {
  const n6 = JSON.parse(e2);
  return n6 && !n6.spatialReference && (n6.spatialReference = t3), y(n6);
}
function Ze(e2, t3) {
  return null == e2 ? null : (null !== e2.spatialReference && void 0 !== e2.spatialReference || (e2.spatialReference = t3), e2);
}
function Ae(e2) {
  if (null === e2)
    return null;
  if (e2 instanceof x)
    return "NaN" === e2.x || null === e2.x || isNaN(e2.x) ? null : e2;
  if (e2 instanceof j) {
    if (0 === e2.rings.length)
      return null;
    for (const t3 of e2.rings)
      if (t3.length > 0)
        return e2;
    return null;
  }
  if (e2 instanceof m2) {
    if (0 === e2.paths.length)
      return null;
    for (const t3 of e2.paths)
      if (t3.length > 0)
        return e2;
    return null;
  }
  return e2 instanceof u ? 0 === e2.points.length ? null : e2 : e2 instanceof w ? "NaN" === e2.xmin || null === e2.xmin || isNaN(e2.xmin) ? null : e2 : null;
}
function Te(e2, t3) {
  if (!e2)
    return t3;
  if (!e2.domain)
    return t3;
  let n6 = null, r6 = null;
  if (X(t3))
    n6 = t3.toNumber();
  else if (ee(t3))
    n6 = t3.toString();
  else if (te(t3))
    n6 = t3.toStorageString();
  else if ("string" === e2.field.type || "esriFieldTypeString" === e2.field.type)
    n6 = me(t3);
  else {
    if (null == t3)
      return null;
    if ("" === t3)
      return t3;
    n6 = ge(t3);
  }
  for (let a4 = 0; a4 < e2.domain.codedValues.length; a4++) {
    const t4 = e2.domain.codedValues[a4];
    t4.code === n6 && (r6 = t4);
  }
  return null === r6 ? me(t3) : r6.name;
}
function De(e2, t3) {
  if (!e2)
    return t3;
  if (!e2.domain)
    return t3;
  let n6 = null;
  const r6 = me(t3);
  for (let a4 = 0; a4 < e2.domain.codedValues.length; a4++) {
    const t4 = e2.domain.codedValues[a4];
    t4.name === r6 && (n6 = t4);
  }
  return null === n6 ? t3 : n6.code;
}
function ke(e2, t3, n6 = null, r6 = null) {
  if (!t3)
    return null;
  if (!t3.fields)
    return null;
  let a4, u4, s6 = null;
  for (let i3 = 0; i3 < t3.fields.length; i3++) {
    const n7 = t3.fields[i3];
    n7.name.toLowerCase() === e2.toString().toLowerCase() && (s6 = n7);
  }
  if (null === s6)
    throw new a2(null, r4.FieldNotFound, null, { key: e2 });
  let l3 = t3.typeIdField, f3 = "id", c3 = t3.types;
  if (t3.subtypeField && (l3 = t3.subtypeField, f3 = "code", c3 = t3.subtypes ?? []), null === r6 && n6 && l3)
    r6 = n6.hasField(l3) ? n6.field(l3) : null;
  else if (l3 && null !== r6) {
    let e3 = false;
    for (const t4 of c3 || [])
      if (r6 === t4[f3]) {
        e3 = true;
        break;
      }
    if (!e3) {
      for (const t4 of c3 || [])
        if (r6 === t4.name) {
          r6 = t4[f3], e3 = true;
          break;
        }
    }
    e3 || (r6 = null, n6 && l3 && (r6 = n6.hasField(l3) ? n6.field(l3) : null));
  }
  return null != r6 && c3.some((e3) => {
    var _a;
    return e3[f3] === r6 && (a4 = (_a = e3.domains) == null ? void 0 : _a[s6.name], a4 && "inherited" === a4.type && (a4 = Ce(s6.name, t3), u4 = true), true);
  }), u4 || a4 || (a4 = Ce(e2, t3)), { field: s6, domain: a4 };
}
function Ce(e2, t3) {
  let n6;
  return t3.fields.some((t4) => (t4.name.toLowerCase() === e2.toLowerCase() && (n6 = t4.domain), !!n6)), n6;
}
function je(e2, t3) {
  t3 || (t3 = {}), "function" == typeof t3 && (t3 = { cmp: t3 });
  const n6 = "boolean" == typeof t3.cycles && t3.cycles, r6 = t3.cmp && (a4 = t3.cmp, function(e3) {
    return function(t4, n7) {
      const r7 = { key: t4, value: e3[t4] }, i4 = { key: n7, value: e3[n7] };
      return a4(r7, i4);
    };
  });
  var a4;
  const i3 = [];
  return function e3(t4) {
    if ((t4 == null ? void 0 : t4.toJSON) && "function" == typeof t4.toJSON && (t4 = t4.toJSON()), void 0 === t4)
      return;
    if ("number" == typeof t4)
      return isFinite(t4) ? "" + t4 : "null";
    if ("object" != typeof t4)
      return JSON.stringify(t4);
    let a5, o2;
    if (Array.isArray(t4)) {
      for (o2 = "[", a5 = 0; a5 < t4.length; a5++)
        a5 && (o2 += ","), o2 += e3(t4[a5]) || "null";
      return o2 + "]";
    }
    if (null === t4)
      return "null";
    if (i3.includes(t4)) {
      if (n6)
        return JSON.stringify("__cycle__");
      throw new TypeError("Converting circular structure to JSON");
    }
    const u4 = i3.push(t4) - 1, s6 = Object.keys(t4).sort(r6 == null ? void 0 : r6(t4));
    for (o2 = "", a5 = 0; a5 < s6.length; a5++) {
      const n7 = s6[a5], r7 = e3(t4[n7]);
      r7 && (o2 && (o2 += ","), o2 += JSON.stringify(n7) + ":" + r7);
    }
    return i3.splice(u4, 1), "{" + o2 + "}";
  }(e2);
}
function Fe(e2) {
  if (null === e2)
    return null;
  const t3 = [];
  for (const n6 of e2)
    (n6 == null ? void 0 : n6.arcadeDeclaredClass) && "esri.arcade.Feature" === n6.arcadeDeclaredClass ? t3.push(n6.geometry()) : t3.push(n6);
  return t3;
}
function Me(e2, t3) {
  if (!(t3 instanceof x))
    throw new a2(null, r4.InvalidParameter, null);
  e2.push(t3.hasZ ? t3.hasM ? [t3.x, t3.y, t3.z, t3.m] : [t3.x, t3.y, t3.z] : [t3.x, t3.y]);
}
function we(e2, t3) {
  if (U(e2) || Q(e2)) {
    let n6 = false, r6 = false, a4 = [], u4 = t3;
    if (U(e2)) {
      for (const t4 of e2)
        Me(a4, t4);
      a4.length > 0 && (u4 = e2[0].spatialReference, n6 = e2[0].hasZ, r6 = e2[0].hasM);
    } else if (e2 instanceof i2)
      a4 = e2._elements, a4.length > 0 && (n6 = e2._hasZ, r6 = e2._hasM, u4 = e2.get(0).spatialReference);
    else {
      if (!Q(e2))
        throw new a2(null, r4.InvalidParameter, null);
      for (const t4 of e2.toArray())
        Me(a4, t4);
      a4.length > 0 && (u4 = e2.get(0).spatialReference, n6 = true === e2.get(0).hasZ, r6 = true === e2.get(0).hasM);
    }
    if (0 === a4.length)
      return null;
    return a(a4) || (a4 = a4.slice(0).reverse()), new j({ rings: [a4], spatialReference: u4, hasZ: n6, hasM: r6 });
  }
  return e2;
}
function xe(e2, t3) {
  if (U(e2) || Q(e2)) {
    let n6 = false, r6 = false, a4 = [], i3 = t3;
    if (U(e2)) {
      for (const t4 of e2)
        Me(a4, t4);
      a4.length > 0 && (i3 = e2[0].spatialReference, n6 = true === e2[0].hasZ, r6 = true === e2[0].hasM);
    } else if (e2 instanceof i2)
      a4 = e2._elements, a4.length > 0 && (n6 = e2._hasZ, r6 = e2._hasM, i3 = e2.get(0).spatialReference);
    else if (Q(e2)) {
      for (const t4 of e2.toArray())
        Me(a4, t4);
      a4.length > 0 && (i3 = e2.get(0).spatialReference, n6 = true === e2.get(0).hasZ, r6 = true === e2.get(0).hasM);
    }
    return 0 === a4.length ? null : new m2({ paths: [a4], spatialReference: i3, hasZ: n6, hasM: r6 });
  }
  return e2;
}
function Oe(e2, t3) {
  if (U(e2) || Q(e2)) {
    let n6 = false, r6 = false, a4 = [], i3 = t3;
    if (U(e2)) {
      for (const t4 of e2)
        Me(a4, t4);
      a4.length > 0 && (i3 = e2[0].spatialReference, n6 = true === e2[0].hasZ, r6 = true === e2[0].hasM);
    } else if (e2 instanceof i2)
      a4 = e2._elements, a4.length > 0 && (n6 = e2._hasZ, r6 = e2._hasM, i3 = e2.get(0).spatialReference);
    else if (Q(e2)) {
      for (const t4 of e2.toArray())
        Me(a4, t4);
      a4.length > 0 && (i3 = e2.get(0).spatialReference, n6 = true === e2.get(0).hasZ, r6 = true === e2.get(0).hasM);
    }
    return 0 === a4.length ? null : new u({ points: a4, spatialReference: i3, hasZ: n6, hasM: r6 });
  }
  return e2;
}
function Re(e2, t3 = false) {
  const n6 = [];
  if (null === e2)
    return n6;
  if (true === U(e2)) {
    for (let r6 = 0; r6 < e2.length; r6++) {
      const a4 = me(e2[r6]);
      "" === a4 && true !== t3 || n6.push(a4);
    }
    return n6;
  }
  if (e2 instanceof t) {
    for (let r6 = 0; r6 < e2.length(); r6++) {
      const a4 = me(e2.get(r6));
      "" === a4 && true !== t3 || n6.push(a4);
    }
    return n6;
  }
  if (L(e2)) {
    const r6 = me(e2);
    return "" === r6 && true !== t3 || n6.push(r6), n6;
  }
  return [];
}
var Je = 0;
function ve(e2) {
  return Je++, Je % 100 == 0 ? (Je = 0, new Promise((t3) => {
    setTimeout(() => {
      t3(e2);
    }, 0);
  })) : e2;
}
function _e(e2, t3, n6) {
  switch (n6) {
    case "&":
      return e2 & t3;
    case "|":
      return e2 | t3;
    case "^":
      return e2 ^ t3;
    case "<<":
      return e2 << t3;
    case ">>":
      return e2 >> t3;
    case ">>>":
      return e2 >>> t3;
  }
}
function Ie(e2, t3 = null) {
  return null == e2 ? null : z(e2) || E2(e2) || G2(e2) ? e2 : e2 instanceof n2 ? true === (t3 == null ? void 0 : t3.keepGeometryType) ? e2 : e2.toJSON() : e2 instanceof t ? e2.toArray().map((e3) => Ie(e3, t3)) : Array.isArray(e2) ? e2.map((e3) => Ie(e3, t3)) : re(e2) ? e2 : X(e2) ? e2.toJSDate() : te(e2) ? e2.toString() : ee(e2) ? e2.toJSDate() : null !== e2 && "object" == typeof e2 && void 0 !== e2.castAsJson ? e2.castAsJson(t3) : null;
}
async function Le(e2, t3, n6, r6, a4) {
  const i3 = await Ye(e2, t3, n6);
  a4[r6] = i3;
}
async function Ye(e2, t3 = null, n6 = null) {
  if (e2 instanceof t && (e2 = e2.toArray()), null == e2)
    return null;
  if (L(e2) || e2 instanceof n2 || re(e2) || X(e2))
    return Ie(e2, n6);
  if (Array.isArray(e2)) {
    const r6 = [], a4 = [];
    for (const i3 of e2)
      null === i3 || L(i3) || i3 instanceof n2 || re(i3) || X(i3) ? a4.push(Ie(i3, n6)) : (a4.push(null), r6.push(Le(i3, t3, n6, a4.length - 1, a4)));
    return r6.length > 0 && await Promise.all(r6), a4;
  }
  return null !== e2 && "object" == typeof e2 && void 0 !== e2.castAsJsonAsync ? e2.castAsJsonAsync(t3, n6) : null;
}
function Pe(e2) {
  return Ge(e2) ? e2.parent : e2;
}
function Ge(e2) {
  return e2 && "declaredClass" in e2 && "esri.layers.support.SubtypeSublayer" === e2.declaredClass;
}
function ze(e2) {
  return e2 && "declaredClass" in e2 && "esri.layers.SubtypeGroupLayer" === e2.declaredClass;
}
function Ee(e2, t3, n6) {
  const r6 = Pe(e2.fullSchema());
  if (null === r6)
    return null;
  if (!r6.fields)
    return null;
  return ke(t3, r6, e2, n6);
}
function Ve(e2) {
  const t3 = Pe(e2.fullSchema());
  return null === t3 ? null : t3.fields ? t3.subtypeField ? { subtypeField: t3.subtypeField, subtypes: t3.subtypes ? t3.subtypes.map((e3) => ({ name: e3.name, code: e3.code })) : [] } : t3.typeIdField ? { subtypeField: t3.typeIdField, subtypes: t3.types ? t3.types.map((e3) => ({ name: e3.name, code: e3.id })) : [] } : null : null;
}
function qe(e2, t3, n6, r6) {
  const a4 = Pe(e2.fullSchema());
  if (null === a4)
    return null;
  if (!a4.fields)
    return null;
  const i3 = ke(t3, a4, e2, r6);
  if (void 0 === n6)
    try {
      n6 = e2.field(t3);
    } catch (o2) {
      return null;
    }
  return Te(i3, n6);
}
function Ue(e2, t3, n6, r6) {
  const a4 = Pe(e2.fullSchema());
  if (null === a4)
    return null;
  if (!a4.fields)
    return null;
  if (void 0 === n6) {
    try {
      n6 = e2.field(t3);
    } catch (i3) {
      return null;
    }
    return n6;
  }
  return De(ke(t3, a4, e2, r6), n6);
}
function He(e2) {
  return (e2 == null ? void 0 : e2.timeZone) ?? "system";
}
function Be(e2) {
  const t3 = Pe(e2.fullSchema());
  if (null === t3)
    return null;
  if (!t3.fields)
    return null;
  const n6 = [];
  for (const r6 of t3.fields)
    n6.push(p3(r6));
  return { objectIdField: t3.objectIdField, globalIdField: t3.globalIdField ?? "", geometryType: void 0 === E[t3.geometryType] ? "" : E[t3.geometryType], fields: n6 };
}
function Ke(r6, a4) {
  return "system" === r6 && (r6 = m.systemTimeZoneCanonicalName), { version: We, engineVersion: r3, timeZone: r6, spatialReference: a4 instanceof f ? a4.toJSON() : a4, application: r.applicationName ?? "", engine: "web", locale: c() };
}
var We = "1.24";
var $e = Object.freeze(Object.defineProperty({ __proto__: null, ImplicitResultE: M2, ReturnResultE: F2, absRound: ie, arcadeVersion: We, autoCastArrayOfPointsToMultiPoint: Oe, autoCastArrayOfPointsToPolygon: we, autoCastArrayOfPointsToPolyline: xe, autoCastFeatureToGeometry: Fe, binaryOperator: _e, breakResult: R, castAsJson: Ie, castAsJsonAsync: Ye, continueResult: J2, defaultExecutingContext: Ke, defaultTimeZone: He, defaultUndefined: Y, equalityTest: ce, featureDomainCodeLookup: Ue, featureDomainValueLookup: qe, featureFullDomain: Ee, featureSchema: Be, featureSubtypes: Ve, fixNullGeometry: Ae, fixSpatialReference: Ze, formatDate: ue, formatNumber: oe, getDomain: ke, getDomainCode: De, getDomainValue: Te, getType: P2, greaterThanLessThan: fe, implicitResult: w2, isArray: U, isBoolean: z, isDate: X, isDateOnly: ee, isDictionary: K, isFeature: H, isFeatureSet: B, isFeatureSetCollection: W, isFunctionParameter: _, isGeometry: q, isImmutableArray: Q, isInteger: V, isJsDate: re, isKnowledgeGraph: $, isModule: I2, isNumber: E2, isObject: ne, isSimpleType: L, isString: G2, isSubtypeGrouplayer: ze, isSubtypeSublayer: Ge, isTime: te, multiReplace: v2, parseGeometryFromJson: Se, pcCheck: ae, returnResult: x2, stableStringify: je, standardiseDateFormat: se, tick: ve, toBoolean: Ne, toDate: he, toNumber: ge, toNumberArray: de, toString: me, toStringArray: Re, toStringExplicit: pe, voidOperation: O2 }, Symbol.toStringTag, { value: "Module" }));

export {
  s2 as s,
  r4 as r,
  a2 as a,
  c2 as c,
  i,
  u2 as u,
  l,
  p2 as p,
  r5 as r2,
  n5 as n,
  e,
  s4 as s2,
  i2,
  h2 as h,
  l2,
  s5 as s3,
  y3 as y,
  p3 as p2,
  u3 as u2,
  a3 as a2,
  f2 as f,
  d2 as d,
  T,
  F,
  g,
  G,
  O,
  v,
  I,
  P,
  N,
  E,
  k,
  J,
  M,
  w2 as w,
  x2 as x,
  O2,
  R,
  J2,
  v2,
  _,
  L,
  Y,
  P2,
  G2,
  z,
  E2,
  V,
  q,
  U,
  H,
  B,
  K,
  W,
  $,
  Q,
  X,
  ee,
  te,
  re,
  ae,
  ie,
  se,
  fe,
  ce,
  me,
  de,
  pe,
  ge,
  he,
  Ne,
  Ze,
  Ae,
  Te,
  De,
  ke,
  Fe,
  we,
  xe,
  Oe,
  Re,
  ve,
  _e,
  Ie,
  Ye,
  Ge,
  ze,
  Ee,
  Ve,
  qe,
  Ue,
  He,
  Be,
  Ke,
  $e
};
//# sourceMappingURL=chunk-YGY4RCQM.js.map
