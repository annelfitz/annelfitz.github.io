import {
  l
} from "./chunk-QHK5ZYFW.js";
import {
  n2 as n,
  s
} from "./chunk-7RBRCL6S.js";

// node_modules/@arcgis/core/core/handleUtils.js
var n2 = { remove: () => {
} };
function e(e3) {
  return e3 ? { remove() {
    e3 && (e3(), e3 = void 0);
  } } : n2;
}
function r(n4) {
  n4.forEach((n5) => n5 == null ? void 0 : n5.remove());
}
function o(n4) {
  return e(() => r(n4));
}
function t(n4) {
  return e(() => {
    var _a;
    return (_a = n4()) == null ? void 0 : _a.remove();
  });
}
function u(n4) {
  return e(() => n4 == null ? void 0 : n4.abort());
}
function l2(n4) {
  return e(null != n4 ? () => n4.destroy() : void 0);
}

// node_modules/@arcgis/core/core/events.js
function n3(e3) {
  return t2(e3) || r2(e3);
}
function t2(e3) {
  return null != e3 && "object" == typeof e3 && "on" in e3 && "function" == typeof e3.on;
}
function r2(e3) {
  return null != e3 && "object" == typeof e3 && "addEventListener" in e3 && "function" == typeof e3.addEventListener;
}
function o2(e3, t3, o4) {
  if (!n3(e3))
    throw new TypeError("target is not a Evented or EventTarget object");
  return r2(e3) ? i(e3, t3, o4) : e3.on(t3, o4);
}
function i(n4, t3, r3, o4) {
  if (Array.isArray(t3)) {
    const i2 = t3.slice();
    for (const e3 of i2)
      n4.addEventListener(e3, r3, o4);
    return e(() => {
      for (const e3 of i2)
        n4.removeEventListener(e3, r3, o4);
    });
  }
  return n4.addEventListener(t3, r3, o4), e(() => n4.removeEventListener(t3, r3, o4));
}
function c(e3, t3, r3) {
  if (!n3(e3))
    throw new TypeError("target is not a Evented or EventTarget object");
  if ("once" in e3)
    return e3.once(t3, r3);
  const i2 = o2(e3, t3, (n4) => {
    i2.remove(), r3.call(e3, n4);
  });
  return i2;
}
function f(e3, n4, t3) {
  let r3 = false;
  const i2 = o2(e3, n4, (n5) => {
    r3 || t3.call(e3, n5);
  });
  return { resume() {
    r3 = false;
  }, pause() {
    r3 = true;
  }, remove() {
    i2.remove();
  } };
}

// node_modules/@arcgis/core/core/clock.js
function e2(e3) {
  return { setTimeout: (o4, r3) => {
    const i2 = e3.setTimeout(o4, r3);
    return e(() => e3.clearTimeout(i2));
  } };
}
var o3 = e2(globalThis);

// node_modules/@arcgis/core/core/promiseUtils.js
function u2(t3 = "Aborted") {
  return new s("AbortError", t3);
}
function s2(t3, n4 = "Aborted") {
  if (c2(t3))
    throw u2(n4);
}
function l3(t3) {
  return t3 instanceof AbortSignal ? t3 : t3 == null ? void 0 : t3.signal;
}
function c2(t3) {
  const n4 = l3(t3);
  return null != n4 && n4.aborted;
}
function a(t3) {
  if (b(t3))
    throw t3;
}
function f2(t3) {
  if (!b(t3))
    throw t3;
}
function m(t3, n4) {
  const e3 = l3(t3);
  if (null != e3) {
    if (!e3.aborted)
      return c(e3, "abort", () => n4());
    n4();
  }
}
function w(t3, n4) {
  const e3 = l3(t3);
  if (null != e3)
    return s2(e3), c(e3, "abort", () => n4(u2()));
}
function h(t3, n4) {
  return null == l3(n4) ? t3 : new Promise((r3, e3) => {
    let i2 = m(n4, () => e3(u2()));
    const s3 = () => {
      i2 = l(i2);
    };
    t3.then(s3, s3), t3.then(r3, e3);
  });
}
function b(t3) {
  return "AbortError" === (t3 == null ? void 0 : t3.name);
}
async function d(t3) {
  try {
    return await t3;
  } catch (n4) {
    if (!b(n4))
      throw n4;
    return;
  }
}
async function y(t3, n4 = n.getLogger("esri")) {
  try {
    return await t3;
  } catch (r3) {
    b(r3) || n4.error(r3);
  }
}
async function v(t3) {
  if (!t3)
    return;
  if ("function" != typeof t3.forEach) {
    const n5 = Object.keys(t3), r3 = n5.map((n6) => t3[n6]), e3 = await v(r3), o4 = {};
    return n5.map((t4, n6) => o4[t4] = e3[n6]), o4;
  }
  const n4 = t3;
  return Promise.allSettled(n4).then((t4) => Array.from(n4, (n5, r3) => {
    const e3 = t4[r3];
    return "fulfilled" === e3.status ? { promise: n5, value: e3.value } : { promise: n5, error: e3.reason };
  }));
}
async function g(t3) {
  return (await Promise.allSettled(t3)).filter((t4) => "fulfilled" === t4.status).map((t4) => t4.value);
}
async function P(t3) {
  return (await Promise.allSettled(t3)).filter((t4) => "rejected" === t4.status).map((t4) => t4.reason);
}
function A(t3, n4 = void 0, r3) {
  const e3 = new AbortController();
  return m(r3, () => e3.abort()), new Promise((r4, o4) => {
    let i2 = setTimeout(() => {
      i2 = 0, r4(n4);
    }, t3);
    m(e3, () => {
      i2 && (clearTimeout(i2), o4(u2()));
    });
  });
}
function E(t3, n4) {
  const r3 = new AbortController(), e3 = setTimeout(() => r3.abort(), n4);
  return m(t3, () => {
    r3.abort(), clearTimeout(e3);
  }), { ...t3, signal: r3.signal };
}
function S(t3) {
  return t3 && "function" == typeof t3.then;
}
function C(t3) {
  return S(t3) ? t3 : Promise.resolve(t3);
}
function k(t3, n4 = -1) {
  let r3, e3, o4, i2, s3 = null;
  const l4 = (...c3) => {
    if (r3) {
      e3 = c3, i2 && i2.reject(u2()), i2 = L();
      const t4 = i2.promise;
      if (s3) {
        const t5 = s3;
        s3 = null, t5.abort();
      }
      return t4;
    }
    if (o4 = i2 || L(), i2 = null, n4 > 0) {
      const e4 = new AbortController();
      r3 = C(t3(...c3, e4.signal));
      const o5 = r3;
      A(n4).then(() => {
        r3 === o5 && (i2 ? e4.abort() : s3 = e4);
      });
    } else
      r3 = 1, r3 = C(t3(...c3));
    const a2 = () => {
      const t4 = e3;
      e3 = o4 = r3 = s3 = null, null != t4 && l4(...t4);
    }, f3 = r3, m2 = o4;
    return f3.then(a2, a2), f3.then(m2.resolve, m2.reject), m2.promise;
  };
  return l4;
}
function L() {
  let n4, r3;
  const e3 = new Promise((t3, e4) => {
    n4 = t3, r3 = e4;
  }), o4 = (t3) => {
    n4(t3);
  };
  return o4.resolve = (t3) => n4(t3), o4.reject = (t3) => r3(t3), o4.timeout = (n5, r4) => o3.setTimeout(() => o4.reject(r4), n5), o4.promise = e3, o4;
}
function $(t3, n4) {
  return t3.then(n4, n4);
}
async function D(t3) {
  await Promise.resolve(), s2(t3);
}

export {
  e,
  r,
  o,
  t,
  u,
  l2 as l,
  o3 as o2,
  n3 as n,
  o2 as o3,
  c,
  f,
  u2,
  s2 as s,
  l3 as l2,
  c2,
  a,
  f2,
  m,
  w,
  h,
  b,
  d,
  y,
  v,
  g,
  P,
  A,
  E,
  S,
  C,
  k,
  L,
  $,
  D
};
//# sourceMappingURL=chunk-JGDJR5EV.js.map
