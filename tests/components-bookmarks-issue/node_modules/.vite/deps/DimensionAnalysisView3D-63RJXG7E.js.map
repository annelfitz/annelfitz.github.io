{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/analysis/Dimension/lengthDimensionUtils.js", "../../@arcgis/core/views/3d/analysis/Dimension/DimensionController.js", "../../@arcgis/core/views/3d/analysis/Dimension/settings.js", "../../@arcgis/core/views/3d/analysis/Dimension/lengthDimensionManipulatorUtils.js", "../../@arcgis/core/views/3d/analysis/Dimension/lengthDimensionConstraintUtils.js", "../../@arcgis/core/views/3d/analysis/Dimension/LengthDimensionSubTool.js", "../../@arcgis/core/views/3d/analysis/Dimension/DimensionTool.js", "../../@arcgis/core/views/3d/interactive/visualElements/MarkerVisualElement.js", "../../@arcgis/core/views/3d/analysis/Dimension/LengthDimensionVisualization.js", "../../@arcgis/core/views/3d/analysis/Dimension/DimensionVisualization.js", "../../@arcgis/core/views/analysis/LengthDimensionResult.js", "../../@arcgis/core/views/3d/analysis/Dimension/LengthDimensionComputation.js", "../../@arcgis/core/views/analysis/DimensionAnalysisView.js", "../../@arcgis/core/views/3d/analysis/DimensionAnalysisView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{LengthDimensionMeasureType as e}from\"../../../../analysis/dimensionUtils.js\";import{deg2rad as t}from\"../../../../core/mathUtils.js\";import{toUnit as n}from\"../../../../core/quantityUtils.js\";import{adaptiveVerticalLengthUnit as r,adaptiveLengthUnit as i}from\"../../../../core/unitUtils.js\";import{fromRotation as o}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{c as s,r as d,z as l,G as c,k as p,w as u,e as m,b as S,n as g,p as f}from\"../../../../chunks/vec32.js\";import{create as v,ZEROS as R}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Axis as A}from\"../../../../geometry/support/Axis.js\";import{sv3d as P}from\"../../../../geometry/support/vectorStacks.js\";import{makeDehydratedPoint as y}from\"../../../../layers/graphics/dehydratedPoint.js\";import{clonePoint as E}from\"../../../../layers/graphics/hydratedFeatures.js\";import{EuclideanSegment as j}from\"../../interactive/visualElements/support/Segment.js\";import{autoDistanceBetweenPoints2D as x}from\"../../../support/automaticLengthMeasurementUtils.js\";import{euclideanDirectDistance as h,euclideanDirectDistanceBetweenPoints as H}from\"../../../support/euclideanLengthMeasurementUtils.js\";import{geodesicDistanceThreshold as T}from\"../../../support/geodesicMeasurementUtils.js\";function w(t,o,a){if(null==t)return null;let s;if(o===e.Horizontal)s=x(t.elevationAlignedStartPoint,t.elevationAlignedEndPoint);else{const{startRenderSpace:e,endRenderSpace:n}=t.dimensionSegment;s=h(e,n,t.spatialReference)}if(null==s)return null;const d=o===e.Vertical?r(s.value,s.unit,a):i(s.value,s.unit,a);return n(s,d)}function z(e){const{elevationAlignedStartPoint:t,elevationAlignedEndPoint:n,dimension:{offset:r,measureType:i,orientation:o}}=e;return{elevationAlignedStartPoint:t,elevationAlignedEndPoint:n,offset:r,measureType:i,orientation:o}}function C({elevationAlignedStartPoint:t,elevationAlignedEndPoint:n,offset:r,measureType:i,orientation:o},a,d=null){if(null==t||null==n)return null;const l=V(d?.directSegment??new j,{elevationAlignedStartPoint:t,elevationAlignedEndPoint:n},a),c=d?.primaryOffsetAxis??v();B(c,{measureType:i,elevationAlignedStartPoint:t,elevationAlignedEndPoint:n,directSegment:l,orientation:o,renderCoordsHelper:a});const p=d?.dimensionSegment??new j;return G({elevationAlignedStartPoint:t,elevationAlignedEndPoint:n})&&i===e.Vertical?(s(p.startRenderSpace,l.startRenderSpace),s(p.endRenderSpace,l.endRenderSpace)):Y(p,{offsetAxis:c,offset:r,relativeToSegment:l,renderCoordsHelper:a}),{elevationAlignedStartPoint:t,elevationAlignedEndPoint:n,directSegment:l,dimensionSegment:p,primaryOffsetAxis:c,spatialReference:a.spatialReference}}function U(e,t,n,r){return t===b.Start?(s(e.startRenderSpace,n.startRenderSpace),s(e.endRenderSpace,r.startRenderSpace)):(s(e.startRenderSpace,n.endRenderSpace),s(e.endRenderSpace,r.endRenderSpace)),e}var b;function k(e,t,n,r){d(e.startRenderSpace,t.startRenderSpace,n,r),d(e.endRenderSpace,t.endRenderSpace,n,r)}function M(t,n,r,i){switch(n){case e.Direct:return V(t,r,i);case e.Horizontal:case e.Vertical:{const{elevationAlignedStartPoint:o,elevationAlignedEndPoint:a,dimension:s,geometry:d}=r;let l;if(s.measureType===e.Direct){l=D(d,i)===o.z>a.z,n===e.Horizontal&&(l=!l)}else l=!O(d);const[c,p]=l?[o,a]:[a,o],u=E(p,I);return n===e.Horizontal?u.z=c.z:(u.x=c.x,u.y=c.y),i.toRenderCoords(c,t.startRenderSpace),i.toRenderCoords(u,t.endRenderSpace),t}}}function V(e,t,n){return n.toRenderCoords(t.elevationAlignedStartPoint,e.startRenderSpace),n.toRenderCoords(t.elevationAlignedEndPoint,e.endRenderSpace),e}function D(e,t){const n=e.directSegment.eval(.5,P.get()),r=t.worldUpAtPosition(n,P.get()),i=e.dimensionSegment.eval(.5,P.get()),o=l(P.get(),i,n);return!c(o,R)&&p(o,r)>0}function O(e){const{startRenderSpace:t,endRenderSpace:n}=e.dimensionSegment,{startRenderSpace:r,endRenderSpace:i}=e.directSegment;return u(r,t)<u(i,n)}!function(e){e[e.Start=0]=\"Start\",e[e.End=1]=\"End\"}(b||(b={}));const I=y(0,0,0,null);function L(e,t,n,r){const{directSegment:i}=n,o=B(P.get(),{measureType:t,directSegment:i,renderCoordsHelper:r}),a=Y(q,{offsetAxis:o,offset:0,relativeToSegment:i,renderCoordsHelper:r}).eval(.5,P.get()),s=l(P.get(),e,a);return p(s,o)*r.unitInMeters}const q=new j;function B(n,r){const{measureType:i,elevationAlignedStartPoint:a,elevationAlignedEndPoint:d,directSegment:{startRenderSpace:u,endRenderSpace:f},directSegment:v,renderCoordsHelper:y}=r,E=v.eval(.5,P.get()),j=y.worldUpAtPosition(E,P.get()),x=y.worldBasisAtPosition(E,A.Y,P.get());switch(i){case e.Horizontal:s(n,j);break;case e.Vertical:p(u,j)<p(f,j)?l(n,f,u):l(n,u,f),S(n,n,j),S(n,n,j);break;case e.Direct:{const e=r.orientation??0;if(G({elevationAlignedStartPoint:a,elevationAlignedEndPoint:d}))o(F,-t(e),j),m(n,x,F);else{const r=l(P.get(),f,u),i=S(P.get(),r,j);S(i,i,r),o(F,t(e),r),m(n,i,F)}break}}return c(n,R)?s(n,x):g(n,n)}const F=a();function G({elevationAlignedStartPoint:e,elevationAlignedEndPoint:t}){return null!=e&&null!=t&&e.x===t.x&&e.y===t.y}function Y(e,t){const{offsetAxis:n,offset:r,relativeToSegment:{startRenderSpace:i,endRenderSpace:o},relativeToSegment:a,renderCoordsHelper:s}=t,l=r/s.unitInMeters,[c,p]=J(i,o,n,l);return d(e.startRenderSpace,a.startRenderSpace,n,c),d(e.endRenderSpace,a.endRenderSpace,n,p),e}function J(e,t,n,r=0){const i=p(t,n),o=p(e,n),a=Math.abs(i-o)+r;return i>o?[a,r]:[r,a]}function K(e,t,n){const r=t.directSegment.eval(.5,P.get());return n.worldUpAtPosition(r,e)}function N(e,t){const{startRenderSpace:n,endRenderSpace:r}=t.directSegment;return l(e,r,n)}function Q(e,t,n={invert:!1}){const{startRenderSpace:r,endRenderSpace:i}=t.dimensionSegment;return n.invert?l(e,r,i):l(e,i,r)}function W(e,t){const n=e.directSegment.eval(.5,P.get());return t.headingAtPosition(n,e.primaryOffsetAxis)}function X(e,t){return f(Q(Z,e))/t**2}const Z=v();function $(e){const{elevationAlignedStartPoint:t,elevationAlignedEndPoint:r}=e;if(null==t||null==r)return!1;const i=H(t,r);return null!=i&&n(i,\"meters\").value>T}function _(e){return null!=e.geometry}export{b as OffsetSegmentLocation,G as arePointsVerticallyAligned,z as computationToGeometryDependencies,C as computeGeometryFromDimension,w as computeLength,B as computeOffsetAxis,L as computeOffsetForPoint,M as computeSegmentForMeasureType,U as computeSpanningSegment,Q as dimensionStartToEnd,N as directStartToEnd,K as directUp,W as headingFromGeometry,$ as isGeodesicDimension,_ as isValidComputation,X as maxScreenLengthSquaredFromGeometry,k as offsetSegment};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{LengthDimensionMeasureType as e}from\"../../../../analysis/dimensionUtils.js\";import s from\"../../../../core/Accessor.js\";import{destroyHandle as o}from\"../../../../core/handleUtils.js\";import r from\"../../../../core/Logger.js\";import{mapCollection as i,watch as n,syncAndInitial as a}from\"../../../../core/reactiveUtils.js\";import{convertUnit as l}from\"../../../../core/unitUtils.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getDefaultUnitForView as c}from\"../../../../support/getDefaultUnitForView.js\";import{isGeodesicDimension as u,computeGeometryFromDimension as d,computeLength as y,computationToGeometryDependencies as h}from\"./lengthDimensionUtils.js\";import{geodesicDistanceThreshold as f}from\"../../../support/geodesicMeasurementUtils.js\";let g=class extends s{constructor(t){super(t)}initialize(){const t=i((()=>this.analysisViewData.computations),(({computation:t})=>this._watchComputation(t)));this.addHandles(o(t))}get analysis(){return this.analysisViewData.analysis}get _defaultUnit(){return c(this.view)}_watchComputation(t){return n((()=>h(t)),(s=>{const{measureType:o}=s;if(u(s)&&o!==e.Direct){const e=Math.round(l(f,\"meters\",\"kilometers\"));return r.getLogger(this).warnOnce(`A ${o} dimension in the analysis (id: '${this.analysis.id}') will not display, because only direct dimensions can measure lengths greater than ${e} km. Update the measureType of the affected dimension to \"direct\" to display it.`),void(t.geometry=null)}const i=d(s,this.view.renderCoordsHelper,t.geometry);t.geometry=i,t.result.length=y(i,o,this._defaultUnit)}),a)}};t([m({constructOnly:!0})],g.prototype,\"analysisViewData\",void 0),t([m({constructOnly:!0})],g.prototype,\"view\",void 0),t([m()],g.prototype,\"analysis\",null),t([m()],g.prototype,\"_defaultUnit\",null),g=t([p(\"esri.views.3d.analysis.Dimension.DimensionController\")],g);export{g as DimensionController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport o from\"../../../../Color.js\";import{multiplyOpacity as r,getContrast as t}from\"../../../../core/colorUtils.js\";function n(o){return r(o.accentColor,.5)}function c(o){return t(o.accentColor)}const e=5,i=new o([127,127,127,.5]),l=.8,f=4,m=6,s=.1,u=.5,p=18,C=2,a=.3,j=2,w=.25,x=20,U=5,b=5,d=10,g=2500,h=50,k=2;export{d as constraintThresholdPx,i as disabledPointColor,m as focusedLinePaddingPx,c as getContrastColor,n as getTransparentAccentColor,h as initialOffsetPx,x as labelMarginPx,u as lengthFraction,f as linePaddingPx,l as markerLineSizeFraction,s as minLengthMeters,U as minScreenLengthFontSizeFactor,w as offsetLineSizeFraction,p as orientationCalloutOffsetPx,C as orientationCalloutWidth,a as orientationDiscScale,j as orientationFocusMultiplier,b as orientationSnapThresholdDegrees,e as pointRadius,g as pointerMoveTimeoutMs,k as smallScreenLengthLineSizeFactor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import\"../../../../geometry.js\";import{lengthDimensionMeasureType as t,LengthDimensionMeasureType as r}from\"../../../../analysis/dimensionUtils.js\";import{cyclicalDegrees as n}from\"../../../../core/Cyclical.js\";import{rad2deg as i}from\"../../../../core/mathUtils.js\";import{watch as o,initial as a}from\"../../../../core/reactiveUtils.js\";import{pt2px as s}from\"../../../../core/screenUtils.js\";import{identity as c,scale as l}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{h as d,c as u,f as p,b as f,k as g,j as h,l as v,s as y,z as w}from\"../../../../chunks/vec32.js\";import{create as S,ZEROS as j,fromValues as b}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as x}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{fromPositionAndNormal as H,create as M,signedDistance as P,getNormal as C}from\"../../../../geometry/support/plane.js\";import{sv3d as T}from\"../../../../geometry/support/vectorStacks.js\";import{clonePoint as O}from\"../../../../layers/graphics/hydratedFeatures.js\";import{isValidComputation as U,computeGeometryFromDimension as R,computationToGeometryDependencies as z,headingFromGeometry as A,computeOffsetForPoint as D,computeSegmentForMeasureType as _,computeOffsetAxis as k,directUp as F,directStartToEnd as L,dimensionStartToEnd as E}from\"./lengthDimensionUtils.js\";import{getTransparentAccentColor as I,pointRadius as G,lengthFraction as B,markerLineSizeFraction as N,orientationCalloutOffsetPx as V,orientationCalloutWidth as W,orientationDiscScale as q,orientationFocusMultiplier as J,orientationSnapThresholdDegrees as K,minLengthMeters as Q,linePaddingPx as X,focusedLinePaddingPx as Y}from\"./settings.js\";import{Manipulator3D as Z}from\"../../interactive/Manipulator3D.js\";import{createManipulatorMaterial as $,worldScaledManipulatorSettings as ee,calculateInputRotationTransform as te,calculateTranslateRotateFromBases as re,rotateManipulatorDefaults as ne}from\"../../interactive/manipulatorUtils.js\";import{RenderObject as ie}from\"../../interactive/RenderObject.js\";import{screenToMap3D as oe,screenToRenderPlane as ae,hideManipulatorWhileDragging as se}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{EuclideanSegment as ce}from\"../../interactive/visualElements/support/Segment.js\";import{markerSizePerLineWidth as le}from\"../../support/engineContent/marker.js\";import{Attribute as me}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as de}from\"../../webgl-engine/lib/Geometry.js\";import{createSphereGeometry as ue,createPolylineGeometry as pe}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as fe}from\"../../webgl-engine/lib/Material.js\";import{VertexAttribute as ge}from\"../../webgl-engine/lib/VertexAttribute.js\";import{ImageMaterial as he}from\"../../webgl-engine/materials/ImageMaterial.js\";import{RibbonLineMaterial as ve}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{createManipulatorDragEventPipeline as ye,resetProperties as we,EventPipeline as Se}from\"../../../interactive/dragEventPipeline.js\";import{ManipulatorStateCustomFlags as je,ManipulatorStateFlags as be}from\"../../../interactive/interfaces.js\";import xe from\"../../../../geometry/Point.js\";class He{constructor(e){this.start=e.start,this.end=e.end,this.offset=e.offset,this.heading=e.heading,this.rotation=e.rotation,this.direct=e.direct,this.horizontal=e.horizontal,this.vertical=e.vertical}manipulatorName(e){return Object.keys(this).find((t=>this.hasOwnProperty(t)&&e===this[t]))}values(){return[this.start,this.end,this.offset,this.heading,this.rotation,this.direct,this.horizontal,this.vertical]}forEachMeasureTypeManipulator(e){for(const r of t)e(this.manipulatorForMeasureType(r),r)}manipulatorForMeasureType(e){switch(e){case r.Direct:return this.direct;case r.Horizontal:return this.horizontal;case r.Vertical:return this.vertical}}}class Me extends Z{constructor(t,r){const n=$(e.toUnitRGBA(I(t.effectiveTheme))),i=[new ie(ue(n,1,32,32),tt)];super({view:t,renderObjects:i,metadata:r.metadata,available:!1,grabCursor:\"crosshair\",radius:G,collisionPriority:1}),this._themeHandle=o((()=>({color:e.toUnitRGBA(I(t.effectiveTheme))})),(e=>n.setParameters(e)))}destroy(){this._themeHandle.remove(),super.destroy()}}function Pe(e,t){const r=[b(-.5,0,0),b(.5,0,0)],n=pe(t.unfocusedMaterial,r.map((e=>d(S(),e,B)))),i=n.instantiate({material:t.focusedMaterial});return new Z({view:e,renderObjects:[new ie(n,be.Unfocused|be.Selected|tt),new ie(i,be.Focused|tt)],collisionType:{type:\"line\",paths:[r]},radius:$e(t.lineSizePt)/2,metadata:t.metadata,available:!1,...ee})}class Ce extends Z{constructor(t,{lineSizePt:r,material:n,metadata:i}){super({view:t,autoScaleRenderObjects:!1,collisionPriority:1,metadata:i}),this._options={calloutColor:x(),lineSizePt:r,material:n},this._themeHandle=o((()=>e.toUnitRGBA(I(t.effectiveTheme))),(e=>{this._options.calloutColor=e,et(this,Te({...this._options,metadata:this.metadata}))}),a)}update({lineSizePt:e,material:t}){this._options.lineSizePt=e,this._options.material=t,et(this,Te({...this._options,metadata:this.metadata}))}destroy(){this._themeHandle.remove(),super.destroy()}}function Te({calloutColor:e,lineSizePt:t,material:r,metadata:n}){return{calloutLength:.25*le*N*s(t)+V,calloutColor:e,calloutWidth:W,customStateMask:tt,discScale:q,focusMultiplier:J,material:r,metadata:n}}function Oe(e,t){const r=[b(-.5,0,0),b(.5,0,0)],n=pe(t.thinOffsetManipulatorMaterial,r),i=pe(t.unfocusedMaterial,r.map((e=>d(S(),e,B)))),o=i.instantiate({material:t.focusedMaterial});return new Z({view:e,renderObjects:[new ie(i,be.Unfocused|tt),new ie(o,be.Focused|tt),new ie(n,tt)],collisionType:{type:\"line\",paths:[r]},radius:$e(t.lineSizePt)/2,available:!1,metadata:t.metadata,...ee})}function Ue(e,{isStart:t,createSnappingPipelineStep:r,dimension:n,onUpdate:i,view:o}){const a=t?\"startPoint\":\"endPoint\",s=ye(e,((e,t,s,c)=>{const l=se(e),{snappingStep:m,cancelSnapping:d}=r(c);s=s.next(l).next(we(n,[a,\"measureType\",\"orientation\"])).next(d),t.next(l).next(oe(o)).next(...m).next((e=>{const t=O(e.mapEnd,new xe);i(\"startPoint\"===a?{startPoint:t}:{endPoint:t})}))}));return[s]}function Re(e,{computation:t,view:r}){return[ye(e,((e,n,i)=>{if(!U(t)||!e.selected)return;const{geometry:o,dimension:a}=t,s=se(e);n.next(s).next(Le(r,a,o.dimensionSegment,o.primaryOffsetAxis)),i.next(s).next(we(a,[\"offset\"]))}))]}function ze(e,{computation:t,view:r}){return[ye(e,((e,n,i)=>{_e({cancel:i,computation:t,settingHeading:!0,steps:n,view:r})}))]}function Ae(e,{computation:t,view:r}){return[ye(e,((e,n,i)=>{_e({cancel:i,computation:t,settingHeading:!1,steps:n,view:r})})),e.events.on(\"immediate-click\",(e=>{De(e,t,r)}))]}function De(e,t,r){const{dimension:i,geometry:o}=t;if(90===i.orientation||270===i.orientation)return i.orientation=0,void e.stopPropagation();if(null==o)return;const{renderCoordsHelper:a}=r,s=R({...z(t),orientation:90},a),c=R({...z(t),orientation:270},a);if(null==s||null==c)return;const l=A(s,a),m=A(c,a),d=Ee(o,r),u=n.shortestSignedDiff(d,l),p=n.shortestSignedDiff(d,m);i.orientation=Math.abs(u)<Math.abs(p)?90:270,e.stopPropagation()}function _e(e){const{cancel:t,computation:r,settingHeading:n,steps:o,view:a}=e;if(!U(r))return;const{renderCoordsHelper:s}=a,{dimension:c,geometry:l}=r,m=S(),d=Je(S(),l,l.directSegment,s),p=Ke(T.get(),{forHeading:n,geometry:l,renderCoordsHelper:s}),f=H(d,p,M()),g=n?c.orientation??A(l,a.renderCoordsHelper):c.orientation??0;o.next(ae(a,f)).next((e=>{\"start\"===e.action&&u(m,e.renderStart);const t=C(f),r=te(m,e.renderEnd,d,t);let o=g-i(r);n||(o=ke(o)),c.orientation=o})),t.next(we(c,[\"orientation\"]))}function ke(e){const t=n.normalize(e)%90;return t<K?e-t:90-t<K?e+(90-t):e}function Fe(e,{computation:t,manipulatorMeasureType:n,view:i}){let o=r.Direct,a=0,s=0;return[e.events.on(\"grab-changed\",(r=>{if(\"start\"!==r.action||!U(t))return;const{dimension:c,geometry:l}=t;o=c.measureType,a=c.offset,s=c.orientation;const m=u(T.get(),e.renderLocation);c.measureType=n,c.offset=D(m,n,l,i.renderCoordsHelper),c.orientation=0})),ye(e,((e,r,c)=>{if(!U(t))return;const{geometry:l,dimension:m}=t,{renderCoordsHelper:d}=i,u=_(ot,n,t,d),p=k(T.get(),{measureType:n,directSegment:l.directSegment,renderCoordsHelper:d}),f=se(e);r.next(f).next(Le(i,m,u,p)),c.next(f).next((e=>(m.measureType=o,m.offset=a,m.orientation=s,e)))}))]}function Le(e,t,r,n){const i=p(T.get(),r.endRenderSpace,r.startRenderSpace);f(i,i,n);const o=H(r.startRenderSpace,i,M()),a=H(r.startRenderSpace,n,M()),s=t.offset;let c,l=0;const m=new Se;return m.next(ae(e,o)).next((r=>{\"start\"===r.action&&(l=P(a,r.renderStart));const n=(P(a,r.renderEnd)-l)*e.renderCoordsHelper.unitInMeters;t.offset=s+n,c=r})),e=>(m.execute(e),c)}function Ee(e,t){const{directSegment:r}=e,{renderCoordsHelper:n}=t,i=F(T.get(),e,n),o=L(T.get(),e),a=f(T.get(),o,i),{viewForward:s}=t.state.camera;g(a,s)>0&&d(a,a,-1);const c=r.eval(.5,T.get());return n.headingAtPosition(c,a)}function Ie(e,t,r){const{dimensionSegment:n,primaryOffsetAxis:i}=t,o=E(rt,t),a=h(o,j)?c(it):re(o,i,j,it),s=Math.max(v(o),Q/r.unitInMeters);l(a,a,y(rt,s,s,s)),e.modelTransform=a,e.renderLocation=n.eval(.5,rt)}function Ge(e,t,r){Ne(e,t,r,{forHeading:!0})}function Be(e,t,r){Ne(e,t,r,{forHeading:!1})}function Ne(e,t,r,{forHeading:n}){const{dimension:i,geometry:o}=t,{primaryOffsetAxis:a}=o,s=d(Ve,a,i.offset>=0?1:-1),c=Ke(We,{forHeading:n,geometry:o,renderCoordsHelper:r});f(c,c,s);const l=re(s,c,j,it);e.modelTransform=l,e.renderLocation=Je(rt,o,o.dimensionSegment,r)}const Ve=S(),We=S();function qe(e,t,r,n){const{geometry:i}=t,o=_(ot,r,t,n),a=k(rt,{measureType:r,directSegment:i.directSegment,renderCoordsHelper:n}),s=w(nt,o.endRenderSpace,o.startRenderSpace),c=re(s,a,j,it),m=v(s);l(c,c,y(nt,m,m,m)),e.modelTransform=c,e.renderLocation=o.eval(.5,nt)}function Je(e,t,r,n){const{startRenderSpace:i,endRenderSpace:o}=r,a=Qe(t,n)?i:o;return u(e,a)}function Ke(e,{forHeading:t,geometry:r,renderCoordsHelper:n}){return t?F(e,r,n):E(e,r,{invert:!0})}function Qe(e,t){const r=L(Xe,e),n=F(Ye,e,t);return g(r,n)>0}const Xe=S(),Ye=S();function Ze(e){return s(e)+X}function $e(e){return s(e)+Y}function et(e,t){const r=t.material??new he({transparent:!0,writeDepth:!1,textureId:t.texture?.id,renderOccluded:fe.Opaque,isDecoration:!0}),n=t.focusMultiplier??ne.focusMultiplier,i=t.calloutLength??ne.calloutLength,o=ne.discRadius*(t.discScale??1),a=o*n,s=(e,t)=>{const r=[0,1,2,2,3,0];return new de(t,[[ge.POSITION,new me([i-e,-e,0,i+e,-e,0,i+e,e,0,i-e,e,0],r,3,!0)],[ge.UV0,new me([0,0,1,0,1,1,0,1],r,2,!0)]])},c=t.calloutWidth??ne.calloutWidth,l=new ve({width:c,color:t.calloutColor,renderOccluded:fe.OccludeAndTransparent,isDecoration:!0}),m=pe(l,[[0,0,0],[i-o,0,0]]),d=pe(l,[[0,0,0],[i-a,0,0]]),u=t.customStateMask??je.None;e.collisionType={type:\"disc\",direction:[0,0,1],offset:[i,0,0]},e.focusMultiplier=n,e.metadata=t.metadata,e.radius=o,e.renderObjects=[new ie(s(o,r),be.Unfocused|u),new ie(m,be.Unfocused|u),new ie(s(a,r),be.Focused|u),new ie(d,be.Focused|u)]}const tt=je.Custom1,rt=S(),nt=S(),it=m(),ot=new ce;export{tt as DidPointerMoveRecentlyFlag,He as LengthDimensionManipulators,Me as LengthDimensionPointManipulator,Ce as LineOfSightOrientationManipulator,Ee as automaticHeadingFromCamera,Oe as createMeasureTypeManipulator,Pe as createOffsetManipulator,$e as focusedOffsetWidth,ze as headingManipulatorHandles,Fe as measureTypeManipulatorHandles,Re as offsetManipulatorHandles,Ue as pointManipulatorHandles,Ae as rotationManipulatorHandles,ke as snapOrientationToNearestRightAngle,Ze as unfocusedOffsetWidth,Ge as updateHeadingManipulatorTransform,qe as updateMeasureTypeManipulatorTransform,Ie as updateOffsetManipulatorTransform,Be as updateRotationManipulatorTransform};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import{LengthDimensionMeasureType as e}from\"../../../../analysis/dimensionUtils.js\";import\"../../../../core/has.js\";import{j as t,h as n,k as i,f as o,p as r}from\"../../../../chunks/vec32.js\";import{sv3d as a}from\"../../../../geometry/support/vectorStacks.js\";import{automaticHeadingFromCamera as s}from\"./lengthDimensionManipulatorUtils.js\";import{isGeodesicDimension as l,directUp as c,directStartToEnd as d}from\"./lengthDimensionUtils.js\";import{constraintThresholdPx as m}from\"./settings.js\";import u from\"../../../../geometry/Point.js\";var p;function P(e,t){return{enabled:t.effectiveFeatureEnabled,elevationAlignedStartPoint:e.elevationAlignedStartPoint,elevationAlignedEndPoint:e.elevationAlignedEndPoint,geometry:e.geometry}}function f(e,s){if(l(e))return p.Direct;if(!e.enabled)return null;const{geometry:u}=e;if(null==u||t(u.directSegment.startRenderSpace,u.directSegment.endRenderSpace))return null;const{camera:P}=s.state,f=c(a.get(),u,s.renderCoordsHelper),g=d(a.get(),u),S=n(a.get(),f,i(g,f)),v=o(a.get(),g,S),y=r(v),A=r(S),{startRenderSpace:R,endRenderSpace:j}=u.directSegment,z=Math.max(P.computeScreenPixelSizeAt(R)*m,P.computeScreenPixelSizeAt(j)*m)**2;return y<z?p.Vertical:A<z?p.Horizontal:null}function g(e,t,{constraint:n,view:i}){const{unconstrainedGeometry:o}=e;if(null==o)return;const{renderCoordsHelper:r,spatialReference:a}=i,{startRenderSpace:s,endRenderSpace:l}=o.directSegment,c=r.fromRenderCoords(s,new u({spatialReference:a})),d=r.fromRenderCoords(l,new u({spatialReference:a}));let m;m=\"start\"===t?{startPoint:c}:{endPoint:d},S(e,m,{constraint:n,elevationAlignedStartPoint:e.elevationAlignedStartPoint,elevationAlignedEndPoint:e.elevationAlignedEndPoint,unconstrainedGeometry:o,view:i})}function S(t,n,i){const{constraint:o,elevationAlignedStartPoint:r,elevationAlignedEndPoint:a,unconstrainedGeometry:l,view:c}=i,{dimension:d,previousConstraint:m,preConstraintProperties:u}=t;if(null==r||null==a)return;const P=()=>{\"startPoint\"in n?d.startPoint=n.startPoint:\"endPoint\"in n&&(d.endPoint=n.endPoint)};if(null==o)P(),null!=m&&null!=u&&(d.measureType=u.measureType,d.orientation=u.orientation);else switch(d.measureType=e.Direct,o){case p.Horizontal:if(o!==m&&(d.orientation=0),\"startPoint\"in n){const e=n.startPoint;null!=e&&(e.z=a.z),d.startPoint=e}else if(\"endPoint\"in n){const e=n.endPoint;null!=e&&(e.z=r.z),d.endPoint=e}break;case p.Vertical:if(o!==m&&(d.orientation=s(l,c)),\"startPoint\"in n){const e=n.startPoint;null!=e&&(e.x=a.x,e.y=a.y),d.startPoint=e}else if(\"endPoint\"in n){const e=n.endPoint;null!=e&&(e.x=r.x,e.y=r.y),d.endPoint=e}break;case p.Direct:o!==m&&null!=u&&(d.orientation=u.orientation),P()}t.previousConstraint=o,t.unconstrainedGeometry=l}!function(e){e[e.Horizontal=0]=\"Horizontal\",e[e.Vertical=1]=\"Vertical\",e[e.Direct=2]=\"Direct\"}(p||(p={}));export{p as LengthDimensionConstraint,S as applyConstraint,f as computeConstraint,P as constraintDependencies,g as reapplyConstraint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Color.js\";import\"../../../../geometry.js\";import{LengthDimensionMeasureType as i}from\"../../../../analysis/dimensionUtils.js\";import a from\"../../../../analysis/LengthDimension.js\";import n from\"../../../../core/Accessor.js\";import s from\"../../../../core/Handles.js\";import{destroyHandle as o}from\"../../../../core/handleUtils.js\";import{equals as r}from\"../../../../core/lang.js\";import{destroyMaybe as p}from\"../../../../core/maybe.js\";import{memoize as l}from\"../../../../core/memoize.js\";import{ignoreAbortErrors as u}from\"../../../../core/promiseUtils.js\";import{watch as d,initial as c,mapCollection as m,sync as h,syncAndInitial as g,when as f}from\"../../../../core/reactiveUtils.js\";import{property as _}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{subclass as M}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as v}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{UpdatingHandles as y}from\"../../../../core/support/UpdatingHandles.js\";import{clonePoint as C}from\"../../../../layers/graphics/hydratedFeatures.js\";import{reapplyConstraint as S,LengthDimensionConstraint as w,applyConstraint as b,computeConstraint as P,constraintDependencies as O}from\"./lengthDimensionConstraintUtils.js\";import{LengthDimensionManipulators as D,LengthDimensionPointManipulator as j,pointManipulatorHandles as H,createOffsetManipulator as T,offsetManipulatorHandles as G,LineOfSightOrientationManipulator as x,headingManipulatorHandles as z,rotationManipulatorHandles as I,createMeasureTypeManipulator as U,measureTypeManipulatorHandles as V,updateOffsetManipulatorTransform as R,updateHeadingManipulatorTransform as A,updateRotationManipulatorTransform as E,updateMeasureTypeManipulatorTransform as k,unfocusedOffsetWidth as F,focusedOffsetWidth as L}from\"./lengthDimensionManipulatorUtils.js\";import{isValidComputation as q,arePointsVerticallyAligned as B,computeGeometryFromDimension as N,computationToGeometryDependencies as J}from\"./lengthDimensionUtils.js\";import{disabledPointColor as K,pointRadius as Q,getTransparentAccentColor as W,getContrastColor as X,initialOffsetPx as Y}from\"./settings.js\";import{getRotateHeadingTexture as Z}from\"../images/Factory.js\";import{SnappingVisualizer3D as $}from\"../../interactive/SnappingVisualizer3D.js\";import{LineVisualElement as tt}from\"../../interactive/visualElements/LineVisualElement.js\";import{VerticesVisualElement as et}from\"../../interactive/visualElements/VerticesVisualElement.js\";import{RenderOccludedFlag as it}from\"../../webgl-engine/lib/Material.js\";import{ImageMaterial as at}from\"../../webgl-engine/materials/ImageMaterial.js\";import{createStipplePatternSimple as nt}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{RibbonLineMaterial as st}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{createCoordinateHelper as ot}from\"../../../interactive/coordinateHelper.js\";import{EditGeometry as rt}from\"../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as pt}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as lt}from\"../../../interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as ut}from\"../../../interactive/snapping/SnappingDragPipelineStep.js\";import{acquire as dt}from\"../../../interactive/snapping/SnappingManagerPool.js\";import{SnappingOperation as ct}from\"../../../interactive/snapping/SnappingOperation.js\";import{setupSnappingToggleHandles as mt}from\"../../../interactive/snapping/snappingUtils.js\";import ht from\"../../../../geometry/Point.js\";let gt=class extends n{constructor(t){super(t),this._stagedDimension=null,this._computationManipulators=new Map,this._computationHandles=new s,this._orientationManipulatorTexture=null,this._updatingHandles=new y,this._getSnappingContext=l((t=>new lt({elevationInfo:{mode:\"absolute-height\",offset:0},pointer:t,editGeometryOperations:new pt(new rt(\"point\",ot(!0,!1,this.view.spatialReference)),this.view.state.viewingMode),visualizer:new $})));const{view:i}=t;this._snappingManagerResult=dt(i),this.addHandles(this._snappingManagerResult),this._unfocusedOffsetManipulatorMaterial=this._createOffsetManipulatorMaterial(),this._focusedOffsetManipulatorMaterial=this._createOffsetManipulatorMaterial(),this._thinOffsetManipulatorMaterial=this._createOffsetManipulatorMaterial(),this._thinOffsetManipulatorMaterial.setParameters({stipplePattern:nt(2)}),this._constraintSnappingIndicator=new tt({view:i,attached:!0,width:1,renderOccluded:it.OccludeAndTransparent,stipplePattern:nt(5),isDecoration:!0});const a=e.toUnitRGBA(K);this._stagedStartIndicator=new et({view:i,attached:!1,elevationInfo:{mode:\"absolute-height\",offset:0},spatialReference:t.view.renderCoordsHelper.spatialReference,color:a,size:2*Q,outlineSize:0,renderOccluded:it.OccludeAndTransparent,isDecoration:!0})}initialize(){const{view:t}=this;this._snappingOperation=new ct({view:t});const i=!t._stage?.renderView.renderingContext.driverTest.svgPremultipliesAlpha.result;this._orientationManipulatorMaterial=new at({transparent:!0,writeDepth:!1,renderOccluded:it.Opaque,isDecoration:!0}),this.addHandles(d((()=>({accentColor:W(t.effectiveTheme),contrastColor:X(t.effectiveTheme)})),(({accentColor:a,contrastColor:n})=>{const s=this._orientationManipulatorTexture,o=Z(t.textures,{accentColor:a,contrastColor:n,preMultiplyAlpha:i});this._orientationManipulatorMaterial.setParameters({textureId:o.texture.id}),this._orientationManipulatorTexture=o,s?.release();const r=e.toUnitRGBA(a);this._unfocusedOffsetManipulatorMaterial.setParameters({color:r}),this._focusedOffsetManipulatorMaterial.setParameters({color:r}),this._thinOffsetManipulatorMaterial.setParameters({color:r}),this._constraintSnappingIndicator.color=r}),c));const a=m((()=>this.analysisViewData.computations),(({computation:t})=>this._createManipulators(t)));this.addHandles(o(a)),this.addHandles([d((()=>({stagedPoint:this._snappingOperation.stagedPoint,stagedComputation:this._stagedComputation})),(({stagedPoint:t,stagedComputation:e})=>{if(null==e||null==t)return;const i=C(t,new ht);this._applyPointUpdate(e,{endPoint:i})}),h),d((()=>({stagedDimension:this._stagedDimension,selectedComputation:this.analysisViewData.selectedComputation,firstGrabbedManipulator:this.firstGrabbedManipulator})),((t,e)=>{const{stagedDimension:i,selectedComputation:a,firstGrabbedManipulator:n}=t;if(i===e?.stagedDimension&&n===e?.firstGrabbedManipulator){for(const s of[a,e?.selectedComputation])if(null!=s){const e=this._computationManipulators.get(s);null!=e&&this._updateManipulators(s,e,t)}}else for(const[s,o]of this._computationManipulators)this._updateManipulators(s,o,t)}),g),d((()=>this.analysis.style.lineSize),(t=>{this._updateManipulatorStyle(t)}),c),d((()=>this.view.state.camera),(()=>{null!=this._stagedComputation&&this._updateStagedDimensionOffset(this._stagedComputation)})),d((()=>{const t=this._stagedComputation;if(!t)return null;const e=t.elevationAlignedStartPoint,i=v();return null!=e&&this.view.renderCoordsHelper.toRenderCoords(e,i)?i:null}),(t=>{null!=t?(this._stagedStartIndicator.vertices=[t],this._stagedStartIndicator.attached=!0):this._stagedStartIndicator.attached=!1}))]),this.addHandles(this._constraintHandles),this.addHandles(this._snappingIndicatorHandles),mt(this,(()=>{const t=this._activeComputation,e=this._stagedComputation;if(null==t||null!=e){const t=this.view.inputManager.latestPointerType??\"mouse\",e=this._getSnappingContext(t);this._updatingHandles.addPromise(u(this._snappingOperation.snapAgainNearPreviousMapPoint(this._snappingManager,e)))}if(null!=t){const{start:e,end:i}=this._computationManipulators.get(t);if(e.grabbing||i.grabbing){const i=e.grabbing?\"start\":\"end\",a=this._computeConstraint(t);S(t,i,{constraint:a,view:this.view})}}}))}destroy(){this._snappingOperation=p(this._snappingOperation),this._computationHandles.destroy(),this._constraintSnappingIndicator.destroy(),this._stagedStartIndicator.destroy(),this._orientationManipulatorTexture?.release()}get updating(){return this._updatingHandles.updating||this._snappingManager.updating}get firstGrabbedManipulator(){return this.parentTool.firstGrabbedManipulator}get hasGrabbedManipulators(){return this.parentTool.hasGrabbedManipulators}get snappingOptions(){return this._snappingManager.options}get _snappingManager(){return this._snappingManagerResult.snappingManager}get _activeComputation(){if(null!=this._stagedComputation)return this._stagedComputation;const{selectedComputation:t}=this.analysisViewData;return this.hasGrabbedManipulators&&null!=t?t:null}get _stagedComputation(){const t=this._stagedDimension,e=this.analysisViewData.computations.at(-1)?.computation;return null==t||null==e||e.dimension!==t?null:e}get _constraintHandles(){return[f((()=>this.analysisViewData.selectedComputation),(t=>{t.previousConstraint=this._computeConstraint(t)}),{...g,equals:r}),d((()=>{const t=this._activeComputation;if(null==t)return null;const{measureType:e,orientation:i}=t.dimension;return{measureType:e,orientation:i,computation:t}}),((t,e)=>{if(null!=t&&null==e){const{measureType:e,orientation:a,computation:n}=t;switch(n.previousConstraint){case w.Horizontal:n.preConstraintProperties={measureType:i.Horizontal,orientation:0};break;case w.Vertical:n.preConstraintProperties={measureType:i.Vertical,orientation:0};break;case w.Direct:n.preConstraintProperties={measureType:i.Direct,orientation:a};break;default:n.preConstraintProperties={measureType:e,orientation:a}}}null==t&&null!=e&&(e.computation.preConstraintProperties=null)}),h)]}get _snappingIndicatorHandles(){const t=\"snapping-indicator-event-handles\";return[d((()=>({stagedComputation:this._stagedComputation,activeComputation:this._activeComputation})),(({stagedComputation:e,activeComputation:i})=>{const a=this._constraintSnappingIndicator;if(this.removeHandles(t),null!=i)if(i===e)a.attached=!0;else{const{start:e,end:n}=this._computationManipulators.get(i),s=()=>{a.attached=e.grabbing||n.grabbing};s(),this.addHandles([e.events.on(\"grab-changed\",s),n.events.on(\"grab-changed\",s)],t)}else a.attached=!1})),d((()=>{const t=this._activeComputation;return null!=t?{geometry:t.geometry,constraint:t.previousConstraint}:{}}),(({geometry:t,constraint:e})=>{const i=this._constraintSnappingIndicator;null!=t&&null!=e&&e!==w.Direct?(i.visible=!0,i.setGeometryFromSegment(t.directSegment)):i.visible=!1}))]}removeStaged(){return null!=this._stagedDimension&&(this.analysis.dimensions.remove(this._stagedDimension),this._stagedDimension=null,!0)}onDeactivate(){this.removeStaged(),this._resetSnappingState()}onClick(t){const{_stagedDimension:e}=this;if(null==e){const e=this._onUnstagedClick(t);return this.analysis.dimensions.add(e),null}return this._onStagedClick(t),e}onPointerMove({mapPoint:t,pointerType:e}){if(\"touch\"===e)return;const i=this._getSnappingContext(e);this._updatingHandles.addPromise(u(this._snappingOperation.snap({point:t},this._snappingManager,i)))}onManipulatorSelectionChanged(){if(null!=this.analysisViewData.selectedComputation){this._computationManipulators.get(this.analysisViewData.selectedComputation).offset.selected||(this.analysisViewData.selectedDimension=null)}}_onUnstagedClick({mapPoint:t,pointerType:e}){let n=t;if(\"mouse\"===e){const i=this._getSnappingContext(e);n=this._snappingManager.update({point:t,context:i})}const s=new a({startPoint:C(n,new ht),endPoint:null,measureType:i.Horizontal});return this._stagedDimension=s,this._resetSnappingState(),s}_onStagedClick({mapPoint:t,pointerType:e}){const i=this._stagedComputation;if(null==i)return;let a=t;if(\"mouse\"===e){const i=this._getSnappingContext(e);a=this._snappingManager.update({point:t,context:i})}const n=C(a,new ht);this._applyPointUpdate(i,{endPoint:n}),this._stagedDimension=null,this._resetSnappingState()}_resetSnappingState(){this._snappingManager.doneSnapping(),this._snappingOperation.abort(),this._snappingOperation.stagedPoint=null}_createManipulators(t){const e=this._setupPointManipulator(t,{isStart:!0}),a=this._setupPointManipulator(t,{isStart:!1}),n=this._setupOffsetManipulator(t),s=this._setupHeadingManipulator(t),o=this._setupRotationManipulator(t),r=this._setupMeasureTypeManipulator(t,i.Direct),p=this._setupMeasureTypeManipulator(t,i.Horizontal),l=this._setupMeasureTypeManipulator(t,i.Vertical),u=new D({start:e,end:a,offset:n,heading:s,rotation:o,direct:r,horizontal:p,vertical:l});return this._setupComputationToManipulatorsSync(t,u),this._computationManipulators.set(t,u),this.manipulators.addMany(u.values()),{manipulators:u,remove:()=>{this._computationHandles.remove(t),this._computationManipulators.delete(t);for(const t of u.values())this.manipulators.remove(t)}}}_setupComputationToManipulatorsSync(t,e){this._computationHandles.add([d((()=>t.geometry),(()=>this._updateManipulators(t,e)),{...g,equals:r})],t)}_setupPointManipulator(t,e){const{view:i}=this,{dimension:a}=t,n=new j(i,{metadata:a}),s=H(n,{isStart:e.isStart,createSnappingPipelineStep:t=>ut({snappingContext:this._getSnappingContext(t),snappingManager:this._snappingManager,updatingHandles:this._updatingHandles}),dimension:a,onUpdate:e=>this._applyPointUpdate(t,e),view:i});return this._computationHandles.add(s,t),n}_setupOffsetManipulator(t){const{view:e}=this,i=T(e,{lineSizePt:this.analysis.style.lineSize,unfocusedMaterial:this._unfocusedOffsetManipulatorMaterial,focusedMaterial:this._focusedOffsetManipulatorMaterial,metadata:t.dimension}),a=G(i,{computation:t,view:e});return this._computationHandles.add(a,t),i}_setupHeadingManipulator(t){const{view:e}=this,i=new x(e,{lineSizePt:this.analysis.style.lineSize,material:this._orientationManipulatorMaterial,metadata:t.dimension}),a=z(i,{computation:t,view:e});return this._computationHandles.add(a,t),i}_setupRotationManipulator(t){const{view:e}=this,i=new x(e,{lineSizePt:this.analysis.style.lineSize,material:this._orientationManipulatorMaterial,metadata:t.dimension}),a=I(i,{computation:t,view:e});return this._computationHandles.add(a,t),i}_setupMeasureTypeManipulator(t,e){const{view:i}=this,a=U(i,{lineSizePt:this.analysis.style.lineSize,unfocusedMaterial:this._unfocusedOffsetManipulatorMaterial,focusedMaterial:this._focusedOffsetManipulatorMaterial,thinOffsetManipulatorMaterial:this._thinOffsetManipulatorMaterial,metadata:t.dimension}),n=V(a,{computation:t,manipulatorMeasureType:e,view:i});return this._computationHandles.add(n,t),a}_updateManipulators(t,e,a={stagedDimension:this._stagedDimension,selectedComputation:this.analysisViewData.selectedComputation,firstGrabbedManipulator:this.firstGrabbedManipulator}){const{stagedDimension:n,selectedComputation:s,firstGrabbedManipulator:o}=a,{start:r,end:p,offset:l,heading:u,rotation:d}=e,c=s===t,m=q(t),{dimension:h}=t;for(const i of e.values()){const t=m&&null==n&&(null==o||i===o);i===l?(i.available=t,i.selected=c):i.available=t&&c}if(!m)return;null!=this._computeConstraint(t)?e.forEachMeasureTypeManipulator((t=>t.available=!1)):e.manipulatorForMeasureType(h.measureType).available=!1;for(const _ of[u,d])h.measureType===i.Direct&&0!==h.offset||(_.available=!1);B(t)?d.available=!1:u.available=!1;const{geometry:g}=t;r.renderLocation=g.directSegment.startRenderSpace,p.renderLocation=g.directSegment.endRenderSpace;const{renderCoordsHelper:f}=this.view;R(l,g,f),u.available&&A(u,t,f),d.available&&E(d,t,f),e.forEachMeasureTypeManipulator(((e,i)=>{e.available&&k(e,t,i,f)}))}_updateManipulatorStyle(t){const e=F(t),i=L(t),a={lineSizePt:t,material:this._orientationManipulatorMaterial};for(const{offset:n,heading:s,rotation:o}of this._computationManipulators.values())n.radius=i/2,s.update(a),o.update(a);this._unfocusedOffsetManipulatorMaterial.setParameters({width:e}),this._focusedOffsetManipulatorMaterial.setParameters({width:i})}_applyPointUpdate(t,e){const{view:i}=this,a=J(t);\"startPoint\"in e&&(a.elevationAlignedStartPoint=e.startPoint),\"endPoint\"in e&&(a.elevationAlignedEndPoint=e.endPoint);const n=N(a,i.renderCoordsHelper);if(null==n)return;const s=this._computeConstraint({...a,geometry:n});b(t,e,{...a,constraint:s,unconstrainedGeometry:n,view:i}),t===this._stagedComputation&&this._updateStagedDimensionOffset(t)}_updateStagedDimensionOffset(t){if(null==t.geometry)return;t.geometry.directSegment.eval(.5,ft);const e=this.view.state.camera.computeScreenPixelSizeAt(ft);t.dimension.offset=Y*e}_computeConstraint(t){return P(O(t,this._snappingManager.options),this.view)}_createOffsetManipulatorMaterial(){return new st({width:1,renderOccluded:it.OccludeAndTransparent,writeDepth:!1,hasPolygonOffset:!0,isDecoration:!0})}get testInfo(){const t=t=>this.analysisViewData.computations.find((({computation:e})=>e.dimension===t))?.computation;return{disableManipulatorPartialOcclusion:()=>{this._stagedStartIndicator.renderOccluded=it.Occlude,this.manipulators.forEach((({manipulator:t})=>{for(const{geometry:e}of t.renderObjects)e.material.setParameters({renderOccluded:it.Occlude})}))},getManipulatorsForDimension:e=>this._computationManipulators.get(t(e)),getComputationForDimension:e=>t(e),getConstraintForDimension:e=>{const i=t(e);return null!=i?this._computeConstraint(i):null},stagedDimension:this._stagedDimension,stagedStartIndicator:this._stagedStartIndicator,constraintSnappingIndicator:this._constraintSnappingIndicator,snappingManager:this._snappingManager}}};t([_({constructOnly:!0})],gt.prototype,\"analysis\",void 0),t([_({constructOnly:!0})],gt.prototype,\"analysisViewData\",void 0),t([_({constructOnly:!0})],gt.prototype,\"manipulators\",void 0),t([_({constructOnly:!0})],gt.prototype,\"parentTool\",void 0),t([_({constructOnly:!0,nonNullable:!0})],gt.prototype,\"view\",void 0),t([_({readOnly:!0})],gt.prototype,\"updating\",null),t([_()],gt.prototype,\"firstGrabbedManipulator\",null),t([_()],gt.prototype,\"hasGrabbedManipulators\",null),t([_()],gt.prototype,\"snappingOptions\",null),t([_()],gt.prototype,\"_stagedDimension\",void 0),t([_()],gt.prototype,\"_activeComputation\",null),t([_()],gt.prototype,\"_stagedComputation\",null),gt=t([M(\"esri.views.3d.analysis.Dimension.LengthDimensionSubTool\")],gt);const ft=v();export{gt as LengthDimensionSubTool};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import{clock as t}from\"../../../../core/clock.js\";import{destroyHandle as i,makeHandle as o}from\"../../../../core/handleUtils.js\";import{removeMaybe as s}from\"../../../../core/maybe.js\";import{watch as n,syncAndInitial as r,when as a}from\"../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{sv3d as u}from\"../../../../geometry/support/vectorStacks.js\";import{DidPointerMoveRecentlyFlag as m}from\"./lengthDimensionManipulatorUtils.js\";import{LengthDimensionSubTool as p}from\"./LengthDimensionSubTool.js\";import{pointerMoveTimeoutMs as h}from\"./settings.js\";import{AnalysisToolBase as d}from\"../../../interactive/AnalysisToolBase.js\";import{sketchKeys as v}from\"../../../interactive/keybindings.js\";import{newToolIntersector as _}from\"../../../interactive/ToolIntersector.js\";import{createScreenPointArrayFromEvent as y}from\"../../../support/screenUtils.js\";import T from\"../../../../geometry/Point.js\";var g;!function(e){e.Ready=\"ready\",e.Creating=\"creating\",e.Created=\"created\"}(g||(g={}));let S=class extends d{constructor(e){super(e),this.automaticManipulatorSelection=!1,this.removeIncompleteOnCancel=!1,this._pointerMoveTimerMs=h,this._prevPointerMoveTimeout=null}initialize(){this._intersector=_(this.view.state.viewingMode),this._lengthDimensionSubTool=new p({analysis:this.analysis,analysisViewData:this.analysisViewData,manipulators:this.manipulators,parentTool:this,view:this.view}),this.addHandles([i(this._lengthDimensionSubTool),o((()=>this._clearPointerMoveTimeout())),n((()=>this.state),(e=>{e===g.Created&&this.finishToolCreation()}),r),a((()=>this.firstGrabbedManipulator),(e=>{this.selectedDimension=e.metadata}),r),n((()=>this.selectedDimension),(()=>this._resetPointerMoveTimeout()),r)])}get state(){return this.analysis.dimensions.some((e=>\"length\"===e.type))?null!=this._activeSubTool?g.Creating:g.Created:g.Ready}get updating(){return this._lengthDimensionSubTool.updating}get cursor(){return this.active?\"crosshair\":null}get selectedDimension(){return this.analysisViewData.selectedDimension}set selectedDimension(e){this.analysisViewData.selectedDimension=e}onInputEvent(e){switch(e.type){case\"immediate-click\":this._clickHandler(e);break;case\"immediate-double-click\":this._doubleClickHandler(e);break;case\"pointer-move\":this._pointerMoveHandler(e);break;case\"key-down\":if(v.cancel===e.key){if(null!=this._activeSubTool&&this._activeSubTool.removeStaged())return void e.stopPropagation();this.active||(this.selectedDimension=null)}else v.delete.includes(e.key)&&this._deleteKeyHandler()}}onActivate(){this._activeSubTool=this._lengthDimensionSubTool}onDeactivate(){null!=this._activeSubTool&&(this._activeSubTool.onDeactivate(),this._activeSubTool=null)}onShow(){this._resetPointerMoveTimeout()}onManipulatorSelectionChanged(){this._lengthDimensionSubTool.onManipulatorSelectionChanged()}onHide(){this.selectedDimension=null}_clickHandler(e){if(this.hasFocusedManipulators)return void e.stopPropagation();if(null==this._activeSubTool)return;const t=this._intersectScreen(e);null!=t&&(this.selectedDimension=this._activeSubTool.onClick({mapPoint:t,pointerType:e.pointerType}),e.stopPropagation())}_doubleClickHandler(e){this.active&&(this.view.activeTool=null,e.stopPropagation())}_pointerMoveHandler(e){if(this._resetPointerMoveTimeout(),null==this._activeSubTool)return;if(this.hasFocusedManipulators)return;const t=this._intersectScreen(e);null!=t&&this._activeSubTool.onPointerMove({mapPoint:t,pointerType:e.pointerType})}_deleteKeyHandler(){null!=this._activeSubTool&&this._activeSubTool.removeStaged(),this._removeSelected()}_intersectScreen(e){const t=y(e);this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(t,this._intersector);const i=this._intersector.results.min,o=u.get();return i.getIntersectionPoint(o)?this.view.renderCoordsHelper.fromRenderCoords(o,new T({spatialReference:this.view.spatialReference})):null}_removeSelected(){null!=this.selectedDimension&&(this.analysis.dimensions.remove(this.selectedDimension),this.selectedDimension=null)}_clearPointerMoveTimeout(){this._prevPointerMoveTimeout=s(this._prevPointerMoveTimeout)}_resetPointerMoveTimeout(){this._clearPointerMoveTimeout(),this.manipulators.forEach((e=>e.manipulator.state|=m)),this._prevPointerMoveTimeout=t.setTimeout((()=>{this.manipulators.forEach((e=>e.manipulator.state&=~m))}),this._pointerMoveTimerMs)}get testInfo(){return{...this._lengthDimensionSubTool.testInfo,setManipulatorAutoHideDelay:e=>{this._pointerMoveTimerMs=e,this._resetPointerMoveTimeout()}}}};e([l({constructOnly:!0})],S.prototype,\"view\",void 0),e([l({constructOnly:!0})],S.prototype,\"analysis\",void 0),e([l({readOnly:!0})],S.prototype,\"state\",null),e([l({readOnly:!0})],S.prototype,\"updating\",null),e([l({readOnly:!0})],S.prototype,\"cursor\",null),e([l({constructOnly:!0})],S.prototype,\"analysisViewData\",void 0),e([l()],S.prototype,\"selectedDimension\",null),e([l()],S.prototype,\"automaticManipulatorSelection\",void 0),e([l()],S.prototype,\"_activeSubTool\",void 0),e([l()],S.prototype,\"_lengthDimensionSubTool\",void 0),S=e([c(\"esri.views.3d.analysis.Dimension.DimensionTool\")],S);export{S as DimensionTool};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{fromTranslation as e}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{fromValues as r,clone as i}from\"../../../../core/libs/gl-matrix-2/factories/vec4f32.js\";import{Object3DVisualElement as a}from\"./Object3DVisualElement.js\";import{lineStripsToParameters as s,createGeometry as l}from\"../../support/engineContent/line.js\";import{RenderOccludedFlag as m}from\"../../webgl-engine/lib/Material.js\";import{LineMarkerMaterial as o}from\"../../webgl-engine/materials/LineMarkerMaterial.js\";class n extends a{constructor(e,t){super(e),this._hasExternalMaterial=!1,this._renderOccluded=m.OccludeAndTransparent,this._width=1,this._color=r(1,0,1,1),this._placement=\"end\",this._markerPrimitive=\"arrow\",this._material=t,this._hasExternalMaterial=null!=t,this.applyProperties(e)}setGeometryFromSegment(t,r){const i=t.endRenderSpace;this.transform=e(h,i),this._normal=r;const{points:a}=t.createRenderGeometry(i,this.view.renderCoordsHelper);this.geometry=[a]}get renderOccluded(){return null!=this._material?this._material.parameters.renderOccluded:this._renderOccluded}set renderOccluded(e){this._renderOccluded=e,null!=this._material&&this._material.setParameters({renderOccluded:e})}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get normal(){return this._normal}set normal(e){this._normal=e,this.recreateGeometry()}get width(){return null!=this._material?this._material.parameters.width:this._width}set width(e){this._width=e,null!=this._material&&this._material.setParameters({width:e})}get color(){return null!=this._material?this._material.parameters.color:this._color}set color(e){this._color=i(e),null!=this._material&&this._material.setParameters({color:this._color})}get placement(){return null!=this._material?this._material.parameters.placement:this._placement}set placement(e){this._placement=e,null!=this._material&&this._material.setParameters({placement:this._placement})}get markerPrimitive(){return this._material?.parameters.markerPrimitive??this._markerPrimitive}set markerPrimitive(e){this._markerPrimitive=e,null!=this._material&&this._material.setParameters({markerPrimitive:e})}createExternalResources(){this._hasExternalMaterial||(this._material=new o({width:this._width,color:this._color,placement:this._placement,renderOccluded:this._renderOccluded,markerPrimitive:this._markerPrimitive,isDecoration:this.isDecoration}))}destroyExternalResources(){this._hasExternalMaterial||(this._material=null)}createGeometries(e){for(const t of s(this.geometry,this.normal)){const r=l(this._material,t);e.addGeometry(r)}}forEachExternalMaterial(e){this._hasExternalMaterial||e(this._material)}}const h=t();export{n as MarkerVisualElement};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{equals as t}from\"../../../../core/lang.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{formatDecimal as i}from\"../../../../core/quantityFormatUtils.js\";import{watch as n,initial as l}from\"../../../../core/reactiveUtils.js\";import{pt2px as a}from\"../../../../core/screenUtils.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{computeSpanningSegment as m,OffsetSegmentLocation as r,maxScreenLengthSquaredFromGeometry as f,offsetSegment as d}from\"./lengthDimensionUtils.js\";import{smallScreenLengthLineSizeFactor as c,minScreenLengthFontSizeFactor as h,labelMarginPx as u}from\"./settings.js\";import{LabelVisualElement as S}from\"../../interactive/visualElements/LabelVisualElement.js\";import{LineVisualElement as g}from\"../../interactive/visualElements/LineVisualElement.js\";import{MarkerVisualElement as v}from\"../../interactive/visualElements/MarkerVisualElement.js\";import{EuclideanSegment as p}from\"../../interactive/visualElements/support/Segment.js\";class b{set visible(e){for(const t of this._visualElements.values())t.attached=e}constructor(s){this.destroyed=!1,this._handles=new e,this._messages=null,this._labelSegment=new p;const{analysis:i,computation:o,view:m,messages:r,isDecoration:f}=s;this.analysis=i,this.computation=o,this.view=m,this._messages=r;const d=s.visible,c={view:m,attached:d,isDecoration:f},{fontSize:h,textColor:u,textBackgroundColor:b}=i.style;this._visualElements=new w({marker:new v(c,s.markerMaterial),dimension:new g(c,s.dimensionLineMaterial),startOffset:new g(c,s.offsetLineMaterial),endOffset:new g(c,s.offsetLineMaterial),dimensionSmall:new g(c,s.smallDimensionLineMaterial),startOffsetSmall:new g(c,s.smallOffsetLineMaterial),endOffsetSmall:new g(c,s.smallOffsetLineMaterial),label:new S({view:m,attached:d,distance:0,geometry:{type:\"segment\",sampleLocation:\"center\",segment:this._labelSegment,callout:!1},fontSize:a(h),textColor:u.clone(),backgroundColor:b.clone(),isDecoration:f})}),this._handles.add([n((()=>o.geometry),(e=>{this.updateCameraDependentElements(m.state.camera,e,i.style),null!=o.geometry&&this._updateLines(o.geometry)}),{...l,equals:t}),n((()=>o.length),(e=>this._updateLabelContent(e)),l)])}destroy(){this.destroyed=!0,this._handles=s(this._handles);for(const e of this._visualElements.values())e.destroy()}get testInfo(){return{dimensionVisualElement:this._visualElements.dimension,label:this._visualElements.label}}_updateLines(e){const t=m(_,r.Start,e.directSegment,e.dimensionSegment),s=m(y,r.End,e.directSegment,e.dimensionSegment),i=this._visualElements;i.marker.setGeometryFromSegment(e.dimensionSegment,e.primaryOffsetAxis),i.dimension.setGeometryFromSegment(e.dimensionSegment),i.startOffset.setGeometryFromSegment(t),i.endOffset.setGeometryFromSegment(s),i.dimensionSmall.setGeometryFromSegment(e.dimensionSegment),i.startOffsetSmall.setGeometryFromSegment(t),i.endOffsetSmall.setGeometryFromSegment(s)}updateCameraDependentElements(e,t,s){const i=this._visualElements;if(null==t){for(const e of i.values())e.visible=!1;return}const n=e.computeScreenPixelSizeAt(t.dimensionSegment.eval(.5,E)),l=f(t,n),o=l<(a(s.lineSize)*c)**2,m=!o;i.marker.visible=m,i.dimension.visible=m,i.startOffset.visible=m,i.endOffset.visible=m,i.dimensionSmall.visible=o,i.startOffsetSmall.visible=o,i.endOffsetSmall.visible=o;const r=a(s.fontSize)*h,{label:u}=i;if(u.visible=l>=r**2,!u.visible)return;const{dimensionSegment:S,primaryOffsetAxis:g}=t,{offset:v}=this.computation.dimension,p=(Math.sign(v)>=0?1:-1)*O(s)*n;d(this._labelSegment,S,g,p),u.updateLabelPosition()}updateLabelStyle(e){const{label:t}=this._visualElements;t.fontSize=a(e.fontSize),t.textColor=e.textColor,t.backgroundColor=e.textBackgroundColor}updateUnitsMessages(e){this._messages=e;const{length:t}=this.computation;this._updateLabelContent(t)}_updateLabelContent(e){const{label:t}=this._visualElements;null!=e&&null!=this._messages?t.text=i(this._messages,e,e.unit):t.text=\"\"}}function O(e){return 1.5*a(e.fontSize)+u+a(e.lineSize/2)}const _=new p,y=new p,E=o();class w{constructor(e){this.marker=e.marker,this.dimension=e.dimension,this.startOffset=e.startOffset,this.endOffset=e.endOffset,this.dimensionSmall=e.dimensionSmall,this.startOffsetSmall=e.startOffsetSmall,this.endOffsetSmall=e.endOffsetSmall,this.label=e.label}values(){return[this.marker,this.dimension,this.startOffset,this.endOffset,this.dimensionSmall,this.startOffsetSmall,this.endOffsetSmall,this.label]}}export{w as LengthDimensionVisualElements,b as LengthDimensionVisualization};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../Color.js\";import\"../../../../intl.js\";import s from\"../../../../core/Accessor.js\";import{makeHandle as t,destroyHandle as a}from\"../../../../core/handleUtils.js\";import{mapCollection as r,watch as n,syncAndInitial as o,when as l,sync as m}from\"../../../../core/reactiveUtils.js\";import{pt2px as c}from\"../../../../core/screenUtils.js\";import{property as d}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ZEROS as p}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{LengthDimensionVisualization as u}from\"./LengthDimensionVisualization.js\";import{markerLineSizeFraction as f,offsetLineSizeFraction as g}from\"./settings.js\";import{RenderOccludedFlag as M}from\"../../webgl-engine/lib/Material.js\";import{LineMarkerMaterial as _}from\"../../webgl-engine/materials/LineMarkerMaterial.js\";import{createStipplePatternSimple as y}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{RibbonLineMaterial as w}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{LineMarkerAnchor as v}from\"../../webgl-engine/shaders/LineMarkerTechniqueConfiguration.js\";import{onLocaleChange as L}from\"../../../../intl/locale.js\";import{fetchMessageBundle as b}from\"../../../../intl/messages.js\";let j=class extends s{get analysis(){return this.analysisViewData.analysis}get visible(){return this.analysisViewData.visible}constructor(e){super(e),this.loadingMessages=!1,this._messages=null}initialize(){const e=this.isDecoration;this._markerMaterial=new _({width:1,anchor:v.Tip,color:p,placement:\"begin-end\",worldSpace:!0,hideOnShortSegments:!0,hasTip:!0,renderOccluded:M.OccludeAndTransparent,markerPrimitive:\"triangle\",isDecoration:e}),this._dimensionLineMaterial=new w({width:1,color:p,renderOccluded:M.OccludeAndTransparent,markerParameters:this._markerMaterial.parameters,isDecoration:e}),this._offsetLineMaterial=new w({width:1,color:p,renderOccluded:M.OccludeAndTransparent,stipplePattern:y(5),isDecoration:e}),this._smallDimensionLineMaterial=new w({width:1,color:p,renderOccluded:M.OccludeAndTransparent,isDecoration:e}),this._smallOffsetLineMaterial=new w({width:1,color:p,renderOccluded:M.OccludeAndTransparent,stipplePattern:y(5),isDecoration:e});for(const i of this._lineMaterials())this.view._stage.add(i),this.addHandles(t((()=>{this.view._stage?.remove(i)})));const s=r((()=>this.analysisViewData.computations),(({computation:e})=>this._createVisualization(e)));this._dimensionVisualizations=s,this.addHandles([a(s),n((()=>i.toUnitRGBA(this.analysis.style.color)),(e=>{for(const i of this._lineMaterials())i.setParameters({color:e})}),o),n((()=>this.analysis.style.lineSize),(e=>{const i=c(e);this._markerMaterial.setParameters({width:i*f}),this._dimensionLineMaterial.setParameters({width:i,markerParameters:this._markerMaterial.parameters});const s=Math.max(i*g,1);this._offsetLineMaterial.setParameters({width:s})}),o),n((()=>({camera:this.view.state.camera,style:z(this.analysis)})),(({camera:e,style:i})=>{for(const{visualization:s}of this._dimensionVisualizations)s.updateCameraDependentElements(e,s.computation.geometry,i),s.updateLabelStyle(i)})),n((()=>this.visible),(e=>{for(const{visualization:i}of this._dimensionVisualizations)i.visible=e}))]),this.addHandles([L((()=>this._updateMessageBundle())),l((()=>!this.loadingMessages),(()=>{for(const{visualization:e}of this._dimensionVisualizations)e.updateUnitsMessages(this._messages)}),m)]),this._updateMessageBundle()}get testInfo(){return{visualizations:this._dimensionVisualizations.items.map((({visualization:e})=>e)),disablePartialOcclusion:()=>{for(const e of this._lineMaterials())e.setParameters({renderOccluded:M.Occlude})}}}_createVisualization(e){const i=new u({analysis:this.analysis,computation:e,view:this.view,visible:this.visible,markerMaterial:this._markerMaterial,dimensionLineMaterial:this._dimensionLineMaterial,offsetLineMaterial:this._offsetLineMaterial,smallDimensionLineMaterial:this._smallDimensionLineMaterial,smallOffsetLineMaterial:this._smallOffsetLineMaterial,messages:this._messages,isDecoration:this.isDecoration});return{visualization:i,remove:()=>i.destroy()}}_lineMaterials(){return[this._markerMaterial,this._dimensionLineMaterial,this._offsetLineMaterial,this._smallDimensionLineMaterial,this._smallOffsetLineMaterial]}async _updateMessageBundle(){this.loadingMessages=!0;try{this._messages=await b(\"esri/core/t9n/Units\")}finally{this.loadingMessages=!1}}};function z(e){const{fontSize:i,lineSize:s,textColor:t,textBackgroundColor:a}=e.style;return{fontSize:i,lineSize:s,textBackgroundColor:a.clone(),textColor:t.clone()}}e([d({constructOnly:!0})],j.prototype,\"analysisViewData\",void 0),e([d({constructOnly:!0,nonNullable:!0})],j.prototype,\"view\",void 0),e([d({constructOnly:!0})],j.prototype,\"isDecoration\",void 0),e([d()],j.prototype,\"analysis\",null),e([d()],j.prototype,\"visible\",null),e([d()],j.prototype,\"loadingMessages\",void 0),j=e([h(\"esri.views.3d.analysis.Dimension.DimensionVisualization\")],j);export{j as DimensionVisualization};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import s from\"../../core/Accessor.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends s{constructor(o){super(o),this.dimension=null,this.length=null}};o([r({constructOnly:!0,nonNullable:!0})],t.prototype,\"dimension\",void 0),o([r()],t.prototype,\"length\",void 0),t=o([e(\"esri.views.analysis.LengthDimensionResult\")],t);const c=t;export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import{watch as e,syncAndInitial as n}from\"../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../analysis/LengthDimensionResult.js\";let l=class extends o{constructor(t){super(t),this.geometry=null,this.unconstrainedGeometry=null,this.elevationAlignedStartPoint=null,this.elevationAlignedEndPoint=null}normalizeCtorArgs(t){const{dimension:o,...e}=t;return{result:new s({dimension:o}),...e}}initialize(){this.addHandles([e((()=>this.dimension.startPoint),(t=>this.elevationAlignedStartPoint=this.projectAndAlignPoint(t)),n),e((()=>this.dimension.endPoint),(t=>this.elevationAlignedEndPoint=this.projectAndAlignPoint(t)),n)])}get dimension(){return this.result.dimension}get length(){return this.result.length}};t([i({constructOnly:!0,nonNullable:!0})],l.prototype,\"result\",void 0),t([i({constructOnly:!0,nonNullable:!0})],l.prototype,\"projectAndAlignPoint\",void 0),t([i()],l.prototype,\"dimension\",null),t([i()],l.prototype,\"length\",null),t([i()],l.prototype,\"geometry\",void 0),t([i()],l.prototype,\"unconstrainedGeometry\",void 0),t([i()],l.prototype,\"elevationAlignedStartPoint\",void 0),t([i()],l.prototype,\"elevationAlignedEndPoint\",void 0),t([i()],l.prototype,\"preConstraintProperties\",void 0),t([i()],l.prototype,\"previousConstraint\",void 0),l=t([r(\"esri.views.3d.analysis.Dimension.LengthDimensionComputation\")],l);export{l as LengthDimensionComputation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";const r=r=>{let i=class extends r{constructor(...o){super(...o),this.analysis=null,this.tool=null,this.selectedDimension=null,this.interactive=!1,this.visible=null}get results(){return new e}createLengthDimensions(o){throw new Error(\"Method not implemented.\")}};return o([t({constructOnly:!0})],i.prototype,\"view\",void 0),o([t({constructOnly:!0,nonNullable:!0})],i.prototype,\"analysis\",void 0),o([t()],i.prototype,\"tool\",void 0),o([t({readOnly:!0})],i.prototype,\"results\",null),o([t()],i.prototype,\"selectedDimension\",void 0),o([t()],i.prototype,\"interactive\",void 0),o([t()],i.prototype,\"visible\",void 0),i=o([s(\"esri.views.analysis.DimensionAnalysisView\")],i),i};export{r as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import{destroyHandle as t}from\"../../../core/handleUtils.js\";import o from\"../../../core/Logger.js\";import{abortMaybe as e,destroyMaybe as n}from\"../../../core/maybe.js\";import{mapCollection as a}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView3D as m}from\"./AnalysisView3D.js\";import{DimensionController as p}from\"./Dimension/DimensionController.js\";import{DimensionTool as c}from\"./Dimension/DimensionTool.js\";import{DimensionVisualization as u}from\"./Dimension/DimensionVisualization.js\";import{LengthDimensionComputation as d}from\"./Dimension/LengthDimensionComputation.js\";import{applyProjectionAndElevationAlignment as h,logFailedGeometryProjectionError as y}from\"./support/projectionUtils.js\";import{connectAnalysisViewToTool as _,removeAnalysisViewTool as j,activateAnalysisViewTool as v}from\"../../analysis/analysisViewUtils.js\";import D from\"../../analysis/DimensionAnalysisView.js\";let f=class extends(D(m(s))){constructor(i){super(i),this.type=\"dimension-view-3d\",this.tool=null,this.selectedDimension=null,this._dimensionsToComputations=new Map,this._placementTask=null,this._projectAndAlignPoint=null}initialize(){this._projectAndAlignPoint=i=>{if(null==i)return null;const{spatialReference:s,elevationProvider:t}=this.view,e=h(i,s,t);return null==e&&y(this.analysis,i.spatialReference,o.getLogger(this)),e};const i=a((()=>this.analysis.dimensions),(i=>this._createComputation(i)));this.computations=i,this.addHandles([_(this,c),t(i)]),this._analysisVisualization=new u({analysisViewData:this,view:this.view,isDecoration:!this.parent}),this._analysisController=new p({analysisViewData:this,view:this.view})}destroy(){this._placementTask=e(this._placementTask),this._analysisVisualization=n(this._analysisVisualization),j(this)}get updating(){return this._analysisVisualization?.loadingMessages??!1}get results(){return this.analysis.dimensions.map((i=>this._dimensionsToComputations.get(i).result))}get selectedComputation(){const{selectedDimension:i}=this;return null==i?null:this._dimensionsToComputations.get(i)}get testInfo(){return{visualization:this._analysisVisualization,controller:this._analysisController}}async createLengthDimensions(i){return this.selectedDimension=null,this._placementTask=e(this._placementTask),this._placementTask=v(this,i),this._placementTask.promise}_createComputation(i){const{_dimensionsToComputations:s}=this,t=new d({dimension:i,projectAndAlignPoint:this._projectAndAlignPoint});return s.set(i,t),{computation:t,remove:()=>this._removeComputation(t)}}_removeComputation(i){const{dimension:s}=i;s===this.selectedDimension&&(this.selectedDimension=null),this._dimensionsToComputations.delete(s),i.destroy()}};i([r({readOnly:!0})],f.prototype,\"type\",void 0),i([r()],f.prototype,\"tool\",void 0),i([r()],f.prototype,\"updating\",null),i([r({readOnly:!0})],f.prototype,\"results\",null),i([r()],f.prototype,\"computations\",void 0),i([r()],f.prototype,\"selectedDimension\",void 0),i([r()],f.prototype,\"selectedComputation\",null),i([r()],f.prototype,\"_analysisVisualization\",void 0),i([r()],f.prototype,\"_analysisController\",void 0),i([r()],f.prototype,\"_dimensionsToComputations\",void 0),i([r()],f.prototype,\"_placementTask\",void 0),f=i([l(\"esri.views.3d.analysis.DimensionAnalysisView3D\")],f);const g=f;export{g as default};\n"],
  "mappings": "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",
  "names": ["w", "t", "o", "a", "s", "m", "e", "n", "d", "z", "r", "i", "C", "l", "V", "c", "p", "G", "U", "b", "M", "O", "u", "x", "I", "P", "q", "f", "v", "y", "E", "j", "F", "h", "K", "N", "X", "Z", "_", "g", "t", "l", "e", "d", "z", "s", "o", "j", "i", "C", "w", "n", "o", "c", "G", "e", "i", "u", "l", "f", "m", "s", "p", "C", "a", "j", "w", "x", "U", "b", "d", "g", "h", "k", "e", "t", "r", "n", "f", "u", "i", "d", "g", "b", "p", "l", "C", "a", "j", "o", "s", "c", "A", "m", "h", "F", "x", "_", "z", "M", "w", "V", "K", "N", "P", "O", "H", "p", "P", "e", "t", "f", "s", "u", "K", "g", "N", "S", "v", "y", "A", "R", "j", "z", "d", "n", "i", "o", "r", "a", "l", "c", "m", "gt", "t", "h", "e", "E", "p", "P", "O", "i", "a", "f", "u", "d", "n", "c", "s", "o", "l", "r", "x", "N", "g", "m", "_", "G", "z", "C", "S", "H", "g", "e", "S", "o", "t", "gt", "l", "d", "p", "c", "i", "n", "a", "e", "t", "h", "r", "i", "q", "v", "R", "b", "e", "t", "s", "i", "o", "m", "r", "f", "d", "c", "h", "u", "w", "n", "U", "_", "y", "E", "l", "X", "k", "S", "g", "v", "p", "O", "x", "j", "e", "v", "s", "_", "h", "H", "i", "l", "d", "u", "w", "z", "b", "t", "a", "t", "o", "c", "l", "t", "o", "e", "c", "d", "r", "i", "o", "f", "r", "s", "i", "t", "e", "a", "S", "l", "j", "g", "v"]
}
