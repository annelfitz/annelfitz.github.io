{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/terrain/RenderOrder.js", "../../@arcgis/core/views/3d/terrain/tileUtils.js", "../../@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexBufferLayouts.js", "../../@arcgis/core/views/3d/webgl-engine/lib/glUtil3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar O;!function(O){O[O.BACK_TO_FRONT=-1]=\"BACK_TO_FRONT\",O[O.NONE=0]=\"NONE\",O[O.FRONT_TO_BACK=1]=\"FRONT_TO_BACK\"}(O||(O={}));export{O as RenderOrder};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/PooledArray.js\";import{RenderOrder as e}from\"./RenderOrder.js\";class n{constructor(){this._queue=new t,this.remove=()=>{}}get done(){return 0===this._queue.length&&(!this._last||this._last.isLeaf)}resetOne(t){this._queue.clear(),this._queue.push(t),this._last=void 0}reset(t=null){this._queue.clear(),null!=t&&this._queue.pushArray(t),this._last=void 0}skipSubtree(){this._last=void 0}next(){const t=this._last?.children;return t?.[0]&&this._queue.pushArray(t),this._last=this._queue.pop(),this._last}}class r{constructor(){this._q=new t}get done(){return 0===this._q.length}reset(t){if(this._q.clear(),null!=t){this._q.pushArray(t);for(let t=0;t<this._q.length;++t){const e=this._q.data[t];e.isLeaf||this._q.pushArray(e.children)}}}next(){return this._q.pop()}}function s(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)i(t[n],e);else i(t,e)}function i(t,e){if(e(t),!t.isLeaf)for(const n of t.children)i(n,e)}function o(t,e,n){if(null==e?.fullExtent)return!1;const r=e.fullExtent,s=t.extent;if(n){if(s[0]<r.xmin||s[1]<r.ymin||s[2]>r.xmax||s[3]>r.ymax)return!1}else if(r.xmin>s[2]||r.ymin>s[3]||r.xmax<s[0]||r.ymax<s[1])return!1;const i=t.surface.tilingScheme.levels[t.level].scale,o=e.minScale;if(o>0&&i>1.00000001*o)return!1;const u=e.maxScale;return!(u>0&&i<.99999999*u)}function u(t,e){const n=t.lij,r=e.lij;return n[0]-r[0]||n[1]-r[1]||n[2]-r[2]}function l(t,n,r=null){null==r||0===r.length?t===e.BACK_TO_FRONT?n.sort(c):n.sort(f):n.sort(((e,n)=>a(e,n,t,r)))}function c(t,e){const n=e.screenDepth-t.screenDepth;if(0!==n)return n;const r=t.lij,s=e.lij;return r[0]-s[0]||r[1]-s[1]||r[2]-s[2]}function f(t,e){const n=t.screenDepth-e.screenDepth;if(0!==n)return n;const r=t.lij,s=e.lij;return r[0]-s[0]||r[1]-s[1]||r[2]-s[2]}function h(t,e,n){const r=t.screenDepth,s=e.screenDepth;return r<s?-n:r>s?n:u(t,e)}function a(t,e,n,r){return _(t,r)===_(e,r)?h(t,e,n):t?n:-n}function _(t,e){for(const n of e)if(t.intersectsExtent(n))return!0;return!1}function p(t,e){const n=t.distanceToPOI-e.distanceToPOI;if(0!==n)return n;const r=t.lij,s=e.lij;return r[0]-s[0]||r[1]-s[1]||r[2]-s[2]}function d(t,e){const n=t.length;for(let r=0;r<n;++r){t.at(r).updateDistanceToPOI(e)}t.sort(p)}function m(t,e,n){let r=1,s=0,i=0;for(;t!==e;)if(r*=.5,s*=.5,i*=.5,1&t.lij[2]&&(s+=.5),1&t.lij[1]||(i+=.5),null==(t=t.parent))throw new Error(\"tile was not a descendant of upsampleTile\");n.init(e,s,i,r)}function q(t){for(let e=0;e<t.length;e++){const n=t[e],r=n.parent;if(r)for(let t=0;t<4;t++){const e=r.children[t];if(e&&e!==n)return!0}}return!1}function x(t,e){if(!t||!e||t[0]===e[0])return!1;const n=t[0]<e[0],r=n?t:e,s=n?e:t,i=1<<s[0]-r[0];return Math.floor(s[1]/i)===r[1]&&Math.floor(s[2]/i)===r[2]}export{r as IteratorPostorder,n as IteratorPreorder,h as compareTiles,u as compareTilesByLij,a as compareTilesWithStencil,m as computeUpsampleInfo,o as fallsWithinLayer,q as hasLoadableSiblings,l as sortTiles,d as sortTilesByPOI,x as tilesAreRelated,s as traverseTilesPreorder};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{VertexAttribute as e}from\"./VertexAttribute.js\";import{DataType as r}from\"../../../webgl/enums.js\";import{VertexElementDescriptor as t}from\"../../../webgl/VertexElementDescriptor.js\";const O=[new t(e.POSITION,3,r.FLOAT,0,12)],o=[new t(e.POSITION,2,r.FLOAT,0,8)],m=[new t(e.POSITION,2,r.FLOAT,0,16),new t(e.UV0,2,r.FLOAT,8,16)];export{o as Pos2,m as Pos2Tex,O as Pos3};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{Default3D as e}from\"./DefaultVertexAttributeLocations.js\";import{Pos2 as r,Pos2Tex as t}from\"./DefaultVertexBufferLayouts.js\";import{VertexArrayObject as o}from\"./VertexArrayObject.js\";import{BufferObject as m}from\"../../../webgl/BufferObject.js\";import{Usage as n,TextureSamplingMode as f}from\"../../../webgl/enums.js\";import{Texture as s}from\"../../../webgl/Texture.js\";import{TextureDescriptor as u}from\"../../../webgl/TextureDescriptor.js\";function i(f,s=r,u=e,i=-1,l=1){let a=null;if(s===t)a=new Float32Array([i,i,0,0,l,i,1,0,i,l,0,1,l,l,1,1]);else a=new Float32Array([i,i,l,i,i,l,l,l]);return new o(f,u,{geometry:s},{geometry:m.createVertex(f,n.STATIC_DRAW,a)})}const l=4;function a(e){const r=new u(l);return r.samplingMode=f.NEAREST,new s(e,r)}export{a as createEmptyTexture,i as createQuadVAO};\n"],
  "mappings": "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",
  "names": ["O", "t", "r", "e", "t", "e", "n", "r", "i", "o", "u", "l", "O", "h", "m", "O", "o", "m", "f", "o", "u", "i", "l", "a", "m", "e", "r"]
}
