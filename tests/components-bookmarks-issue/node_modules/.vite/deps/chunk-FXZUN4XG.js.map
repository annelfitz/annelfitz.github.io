{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/analysis/support/projectionUtils.js", "../../@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{tryProjectWithZConversion as o}from\"../../../../geometry/projection.js\";import{getElevationAtPoint as e}from\"../../support/ElevationProvider.js\";function r(r,t,i,n=!1){const l=o(r,t);return null==l?null:(l.hasZ&&!n||null==i||(l.z=e(i,l)??0),l)}function t(o,e,r){r.warnOnce(`Failed to project analysis geometry (id: '${o.id}'), projection from spatial reference (wkid: '${e.wkid}') to view spatial reference is not supported. Projection may be possible after calling projection.load().`)}export{r as applyProjectionAndElevationAlignment,t as logFailedGeometryProjectionError};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{fromTranslation as e}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{s as r,e as s}from\"../../../../chunks/vec32.js\";import{ZEROS as o,create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as a,clone as n}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{Object3DVisualElement as l}from\"./Object3DVisualElement.js\";import{lineStripsToParameters as m,createGeometry as p}from\"../../support/engineContent/line.js\";import{RenderOccludedFlag as h}from\"../../webgl-engine/lib/Material.js\";import{RibbonLineMaterial as d}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class f extends l{constructor(e,t){super(e),this._hasExternalMaterial=!1,this._hasExternalMaterial=null!=t,this._material=null!=t?t:new d({width:1,color:a(1,0,1,1),stippleOffColor:null,stipplePattern:null,stipplePreferContinuous:!0,isClosed:!1,falloff:0,innerColor:null,innerWidth:1,hasPolygonOffset:!1,renderOccluded:h.OccludeAndTransparent,isDecoration:!!e.isDecoration,writeDepth:!0}),this.applyProperties(e)}setGeometryFromRenderSpacePoint(e,t=1e3){this.geometry=[[[e[0]-t,e[1],e[2]],[e[0]+t,e[1],e[2]]],[[e[0],e[1]-t,e[2]],[e[0],e[1]+t,e[2]]],[[e[0],e[1],e[2]-t],[e[0],e[1],e[2]+t]]]}setGeometryFromExtent(e){const t=this.view.spatialReference,s=i(),o=i(),a=100,n=[];r(s,e[0],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[2],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[2],e[3],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[0],e[3],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[0],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[0],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),this.geometry=[n]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,s=e.basis1,o=e.basis2,a=.5,n=i(),l=i(),m=i(),p=i();n[0]=r[0]-s[0]*a-o[0]*a,n[1]=r[1]-s[1]*a-o[1]*a,n[2]=r[2]-s[2]*a-o[2]*a,l[0]=r[0]-s[0]*a+o[0]*a,l[1]=r[1]-s[1]*a+o[1]*a,l[2]=r[2]-s[2]*a+o[2]*a,m[0]=r[0]+s[0]*a+o[0]*a,m[1]=r[1]+s[1]*a+o[1]*a,m[2]=r[2]+s[2]*a+o[2]*a,p[0]=r[0]+s[0]*a-o[0]*a,p[1]=r[1]+s[1]*a-o[1]*a,p[2]=r[2]+s[2]*a-o[2]*a,t.push([n[0],n[1],n[2]]),t.push([l[0],l[1],l[2]]),t.push([m[0],m[1],m[2]]),t.push([p[0],p[1],p[2]]),t.push([n[0],n[1],n[2]]),this.geometry=[t]}setGeometryFromSegment(t){const r=t.endRenderSpace;this.transform=e(u,r);const{points:s}=t.createRenderGeometry(r,this.view.renderCoordsHelper);this.geometry=[s]}setGeometryFromSegments(t,r=o){this.transform=e(u,r),this.geometry=t.map((e=>e.createRenderGeometry(r,this.view.renderCoordsHelper).points))}getTransformedGeometry(){return null==this._geometry?null:this._geometry.map((e=>e.map((e=>s(i(),e,this.transform)))))}get renderOccluded(){return this._material.parameters.renderOccluded}set renderOccluded(e){this._material.setParameters({renderOccluded:e})}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._material.parameters.width}set width(e){this._material.setParameters({width:e})}get color(){return this._material.parameters.color}set color(e){const t=1===e[3];this._material.setParameters({color:n(e),writeDepth:t})}get innerWidth(){return this._material.parameters.innerWidth}set innerWidth(e){this._material.setParameters({innerWidth:e})}get innerColor(){return this._material.parameters.innerColor}set innerColor(e){this._material.setParameters({innerColor:null!=e?n(e):null})}get stipplePattern(){return this._material.parameters.stipplePattern}set stipplePattern(e){null!=this._material&&this._material.setParameters({stipplePattern:e})}get stippleOffColor(){return this._material.parameters.stippleOffColor}set stippleOffColor(e){this._material.setParameters({stippleOffColor:null!=e?n(e):null})}get stipplePreferContinuous(){return this._material.parameters.stipplePreferContinuous}set stipplePreferContinuous(e){this._material.setParameters({stipplePreferContinuous:e})}get falloff(){return this._material.parameters.falloff}set falloff(e){this._material.setParameters({falloff:e})}get polygonOffset(){return this._material.parameters.hasPolygonOffset}set polygonOffset(e){this._material.setParameters({hasPolygonOffset:e})}createExternalResources(){}destroyExternalResources(){}createGeometries(e){for(const t of m(this.geometry)){const r=p(this._material,t);e.addGeometry(r)}}forEachExternalMaterial(e){this._hasExternalMaterial||e(this._material)}}const u=t();export{f as LineVisualElement};\n"],
  "mappings": "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",
  "names": ["r", "t", "n", "l", "o", "e", "a", "e", "t", "o", "n", "r", "l"]
}
