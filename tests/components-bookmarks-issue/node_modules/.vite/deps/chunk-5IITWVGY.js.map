{
  "version": 3,
  "sources": ["../../@arcgis/core/chunks/ImageMaterial.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as o}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as d}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as l}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as n}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as p}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{TransparencyPassType as g}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as c}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function v(v){const m=new n,{vertex:f,fragment:u}=m;return t(f,v),m.include(i,v),m.attributes.add(c.POSITION,\"vec3\"),m.attributes.add(c.UV0,\"vec2\"),v.perspectiveInterpolation&&m.attributes.add(c.PERSPECTIVEDIVIDE,\"float\"),m.varyings.add(\"vpos\",\"vec3\"),v.multipassEnabled&&m.varyings.add(\"depth\",\"float\"),f.code.add(l`\n    void main(void) {\n      vpos = position;\n      ${v.multipassEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0;\n      gl_Position = transformPosition(proj, view, vpos);\n\n      ${v.perspectiveInterpolation?\"gl_Position *= perspectiveDivide;\":\"\"}\n    }\n  `),m.include(r,v),m.include(o,v),u.uniforms.add(new p(\"tex\",(e=>e.texture)),new d(\"opacity\",(e=>e.opacity))),m.varyings.add(\"vTexCoord\",\"vec2\"),v.output===e.Alpha?u.code.add(l`\n    void main() {\n      discardBySlice(vpos);\n      ${v.multipassEnabled?\"terrainDepthTest(depth);\":\"\"}\n\n      float alpha = texture(tex, vTexCoord).a * opacity;\n      if (alpha  < ${l.float(s)}) {\n        discard;\n      }\n\n      fragColor = vec4(alpha);\n    }\n    `):(u.include(a),u.code.add(l`\n    void main() {\n      discardBySlice(vpos);\n      ${v.multipassEnabled?\"terrainDepthTest(depth);\":\"\"}\n      fragColor = texture(tex, vTexCoord) * opacity;\n\n      if (fragColor.a < ${l.float(s)}) {\n        discard;\n      }\n\n      fragColor = highlightSlice(fragColor, vpos);\n      ${v.transparencyPassType===g.Color?\"fragColor = premultiplyAlpha(fragColor);\":\"\"}\n    }\n    `)),m}const m=Object.freeze(Object.defineProperty({__proto__:null,build:v},Symbol.toStringTag,{value:\"Module\"}));export{m as I,v as b};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIwuC,SAAS,EAAEA,IAAE;AAAC,QAAMC,KAAE,IAAIC,MAAE,EAAC,QAAO,GAAE,UAAS,EAAC,IAAED;AAAE,SAAO,EAAE,GAAED,EAAC,GAAEC,GAAE,QAAQC,IAAEF,EAAC,GAAEC,GAAE,WAAW,IAAI,EAAE,UAAS,MAAM,GAAEA,GAAE,WAAW,IAAI,EAAE,KAAI,MAAM,GAAED,GAAE,4BAA0BC,GAAE,WAAW,IAAI,EAAE,mBAAkB,OAAO,GAAEA,GAAE,SAAS,IAAI,QAAO,MAAM,GAAED,GAAE,oBAAkBC,GAAE,SAAS,IAAI,SAAQ,OAAO,GAAE,EAAE,KAAK,IAAI;AAAA;AAAA;AAAA,QAG3hDD,GAAE,mBAAiB,wCAAsC,EAAE;AAAA;AAAA;AAAA;AAAA,QAI3DA,GAAE,2BAAyB,sCAAoC,EAAE;AAAA;AAAA,GAEtE,GAAEC,GAAE,QAAQ,GAAED,EAAC,GAAEC,GAAE,QAAQC,IAAEF,EAAC,GAAE,EAAE,SAAS,IAAI,IAAI,EAAE,OAAO,CAAAG,OAAGA,GAAE,OAAQ,GAAE,IAAID,GAAE,WAAW,CAAAC,OAAGA,GAAE,OAAQ,CAAC,GAAEF,GAAE,SAAS,IAAI,aAAY,MAAM,GAAED,GAAE,WAASE,GAAE,QAAM,EAAE,KAAK,IAAI;AAAA;AAAA;AAAA,QAGxKF,GAAE,mBAAiB,6BAA2B,EAAE;AAAA;AAAA;AAAA,qBAGnC,EAAE,MAAME,EAAC,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAM1B,KAAG,EAAE,QAAQC,EAAC,GAAE,EAAE,KAAK,IAAI;AAAA;AAAA;AAAA,QAGxBH,GAAE,mBAAiB,6BAA2B,EAAE;AAAA;AAAA;AAAA,0BAG9B,EAAE,MAAME,EAAC,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,QAK5BF,GAAE,yBAAuBE,GAAE,QAAM,6CAA2C,EAAE;AAAA;AAAA,KAEjF,IAAGD;AAAC;AAAC,IAAM,IAAE,OAAO,OAAO,OAAO,eAAe,EAAC,WAAU,MAAK,OAAM,EAAC,GAAE,OAAO,aAAY,EAAC,OAAM,SAAQ,CAAC,CAAC;",
  "names": ["v", "m", "o", "e"]
}
