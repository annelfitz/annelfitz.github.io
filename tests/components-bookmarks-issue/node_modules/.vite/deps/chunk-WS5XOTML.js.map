{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/layers/graphics/ElevationQuery.js", "../../@arcgis/core/views/3d/layers/graphics/enums.js", "../../@arcgis/core/views/3d/webgl-engine/lib/GeometryWithMapPositions.js", "../../@arcgis/core/views/3d/layers/graphics/ElevationAligners.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DGraphicCreationContext.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObject3DGraphicLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObjectMetadata.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPathSymbolLayerConstants.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodResources.js", "../../@arcgis/core/views/3d/layers/graphics/primitiveObjectSymbolUtils.js", "../../@arcgis/core/views/3d/layers/graphics/SymbolComplexity.js", "../../@arcgis/core/views/3d/layers/graphics/defaultSymbolComplexity.js", "../../@arcgis/core/views/3d/layers/graphics/interfaces.js", "../../@arcgis/core/views/3d/layers/graphics/Loadable.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/pointUtils.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LineCalloutTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LineCalloutTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/LineCalloutMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DLineCalloutSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DCalloutSymbolLayerFactory.js", "../../@arcgis/core/renderers/support/renderingInfoUtils.js", "../../@arcgis/core/views/3d/layers/graphics/constants.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextHelperCanvas.js", "../../@arcgis/core/views/3d/webgl-engine/lib/FontMetrics.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextRenderer.js", "../../@arcgis/core/views/3d/layers/graphics/placementUtils.js", "../../@arcgis/core/views/3d/layers/graphics/LabelParameters.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextRenderParameters.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextTextureAtlas.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolCreationContext.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DGraphic.js", "../../@arcgis/core/views/3d/support/renderInfoUtils/polygon.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DExtrudeSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DDrapedGraphicLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DIconSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/lineUtils.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DLineSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DMeshObject3DGraphicLayer.js", "../../@arcgis/core/views/3d/layers/graphics/MeshFastUpdateProcessor.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/NativeLineMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DMeshFillSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DLodInstanceGraphicLayer.js", "../../@arcgis/core/views/3d/layers/graphics/lodResourceUtils.js", "../../@arcgis/core/views/3d/layers/graphics/webStyleUtils.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/BackedBufferObject.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/RenderInstanceData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceOctree.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LevelSelector.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodComponentData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodLevel.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodRenderer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObjectSymbolLayer.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Path.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathBuilder.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathCapBuilder.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathExtruder.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathGeometry.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathGeometryData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/pathGeometryUtils.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathProfile.js", "../../@arcgis/core/core/libs/gl-matrix-2/math/mat2.js", "../../@arcgis/core/core/libs/gl-matrix-2/factories/mat2f64.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathVertex.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PathTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PathMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPathSymbolLayer.js", "../../@arcgis/core/views/3d/layers/support/uvUtils.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/PatternTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PatternMaterial.js", "../../@arcgis/core/views/3d/layers/support/patternUtils.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPolygonFillSymbolLayer.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextTextureFactory.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DTextSymbolLayer.js", "../../@arcgis/core/views/3d/webgl-engine/materials/WaterTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/WaterGLMaterial.js", "../../@arcgis/core/views/3d/webgl-engine/materials/WaterMaterial.js", "../../@arcgis/core/views/3d/webgl-engine/materials/internal/waterMaterialUtils.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DWaterSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayerFactory.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbol.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DWebStyleSymbol.js", "../../@arcgis/core/views/3d/support/intersectionUtils.js", "../../@arcgis/core/views/3d/support/FrustumExtentIntersection.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import{remove as e}from\"../../../../core/arrayUtils.js\";import{createAbortError as t,createResolver as r,onAbort as s}from\"../../../../core/promiseUtils.js\";import{TaskPriority as i,noBudget as n}from\"../../../support/Scheduler.js\";import o from\"../../../../geometry/Multipoint.js\";class l{constructor(e,t){this.spatialReference=e,this._view=t}getElevation(e,t,r){return this._view.elevationProvider.getElevation(e,t,0,this.spatialReference,r)}async queryElevation(e,t,r,s,i){return this._view.elevationProvider.queryElevation(e,t,0,this.spatialReference,i,r,s)}}class a{constructor(e,t,r,s){this.spatialReference=t,this._getElevationQueryProvider=r,this._queries=new Array,this._queryOptions={...s,ignoreInvisibleLayers:!0},this._frameTask=e.registerTask(i.ELEVATION_QUERY,this)}destroy({completeTasks:e}={completeTasks:!1}){if(this._frameTask.remove(),this.running)if(e)this.runTask(n);else for(const r of this._queries)r.result.reject(t())}queryElevation(i,n,o,l=0){const a=r(),u={x:i,y:n,minDemResolution:l,result:a,signal:o};return this._queries.push(u),s(o,(()=>{e(this._queries,u),a.reject(t())})),a.promise}get running(){return this._queries.length>0}runTask(e){const r=this._queries;this._queries=[];const i=this._getElevationQueryProvider();if(!i)return r.forEach((e=>e.result.reject())),void e.madeProgress();const n=r.map((e=>[e.x,e.y])),l=r.reduce(((e,t)=>Math.min(e,t.minDemResolution)),1/0),a=new o({points:n,spatialReference:this.spatialReference}),u=r.length>1&&r.some((e=>!!e.signal))?new AbortController:null,c=null!=u?u.signal:r[0].signal;if(null!=u){let e=0;r.forEach((i=>s(i.signal,(()=>{e++,i.result.reject(t()),e===r.length&&u.abort()}))))}const h={...this._queryOptions,minDemResolution:l,signal:c};i.queryElevation(a,h).then((e=>{r.forEach(((r,s)=>{null!=r.signal&&r.signal.aborted?r.result.reject(t()):r.result.resolve(e.geometry.points[s][2])}))})).catch((e=>{r.forEach((t=>t.result.reject(e)))})),e.madeProgress()}get test(){const e=this;return{update:()=>e._queries.length>0&&e.runTask(n)}}}export{a as ElevationQuery,l as ViewElevationProvider};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar L,A;!function(L){L[L.USER=1]=\"USER\",L[L.SCALE_RANGE=2]=\"SCALE_RANGE\",L[L.FILTER=4]=\"FILTER\",L[L.DECONFLICTION=8]=\"DECONFLICTION\",L[L.ALL_GRAPHIC=15]=\"ALL_GRAPHIC\",L[L.ALL_LABEL=255]=\"ALL_LABEL\"}(L||(L={})),function(L){L[L.GRAPHIC=1]=\"GRAPHIC\",L[L.LABEL=16]=\"LABEL\"}(A||(A={}));export{L as VisibilityFlag,A as VisibilityGroup};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{Geometry as o}from\"./Geometry.js\";class t extends o{}function e(o){return null!=o.mapPositions}export{t as GeometryWithMapPositions,e as isGeometryWithMapPositions};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{copy as t}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as e}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{s as o}from\"../../../../chunks/vec32.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{computeTranslationToOriginAndRotation as r}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectBuffer as a}from\"../../../../geometry/projection/projectBuffer.js\";import{updateVertexPointGroundDistance as s,SampleElevationInfo as i}from\"./elevationAlignmentUtils.js\";import{debugFlags as l}from\"../../support/debugFlags.js\";import{SamplePosition as m}from\"../../support/ElevationProvider.js\";import{isGeometryWithMapPositions as f}from\"../../webgl-engine/lib/GeometryWithMapPositions.js\";import{VertexAttribute as c}from\"../../webgl-engine/lib/VertexAttribute.js\";function u(t,e,o,n,r){const a=t.stageObject,s=a.geometries;let i=0;for(const l of s){if(!f(l))continue;const{update:t,averageGeometrySampledElevation:s}=M(l,e,o,n,r);i+=s,t&&a.geometryVertexAttributeUpdated(l,c.POSITION)}return i/s.length}function p(e,n,a,i,m,f){const c=e.stageObject,u=n.centerPointInElevationSR;let p=0;if(c.usesVerticalDistanceToGround)i(u,E),s(c,E.verticalDistanceToGround),p=E.sampledElevation;else{i(u,E);\"absolute-height\"!==n.mode&&(p=E.sampledElevation)}const b=t(g,f??c.transformation),I=o(v,b[12],b[13],b[14]);l.TESTS_DISABLE_OPTIMIZATIONS?(T[0]=u.x,T[1]=u.y,T[2]=E.z,r(u.spatialReference,T,b,m.spatialReference)&&(f?t(f,b):c.transformation=b)):m.setAltitudeOfTransformation(E.z,b);const S=d/m.unitInMeters;return(Math.abs(b[12]-I[0])>=S||Math.abs(b[13]-I[1])>=S||Math.abs(b[14]-I[2])>=S)&&(f?t(f,b):c.transformation=b),p}const g=e();function b(t,e,n,a,s){const i=t.graphics3DSymbolLayer.lodRenderer;if(null==i)return 0;const m=e.centerPointInElevationSR;a(m,E);const f=\"absolute-height\"!==e.mode?E.sampledElevation:0,c=i.instanceData,u=t.instanceIndex,p=h;c.getGlobalTransform(u,p);const g=o(v,p[12],p[13],p[14]);l.TESTS_DISABLE_OPTIMIZATIONS?(T[0]=m.x,T[1]=m.y,T[2]=E.z,r(m.spatialReference,T,p,s.spatialReference)&&c.setGlobalTransform(u,p)):s.setAltitudeOfTransformation(E.z,p);const b=d/s.unitInMeters;return(l.TESTS_DISABLE_OPTIMIZATIONS||Math.abs(p[12]-g[0])>=b||Math.abs(p[13]-g[1])>=b||Math.abs(p[14]-g[2])>=b)&&c.setGlobalTransform(u,p),f}function I(t,e,o,n,r){const a=t.stageObject,s=a.geometries;if(0===s.length)return 0;let i=0,l=null,m=0,u=!1;for(const p of s){if(!f(p))continue;const t=p.attributes.get(c.POSITION);if(t!==l){const{update:a,averageGeometrySampledElevation:s}=M(p,e,o,n,r);m=s,l=t,u=a}u&&a.geometryVertexAttributeUpdated(p,c.POSITION),i+=m}return i/s.length}const d=.01,T=n(),S=n(),O=n(),h=e(),v=n(),E=new i;function M(t,e,o,n,r){let s=!1;const i=t.transformation,f=e.requiresSampledElevationInfo;S[0]=i[12],S[1]=i[13],S[2]=i[14],t.invalidateBoundingInfo();const u=t.getMutableAttribute(c.POSITION),p=u.data,g=u.size,b=p.length/g,I=new m(t.mapPositions,o);let h=0,v=0;for(let m=0;m<b;m++){if(O[0]=p[h],O[1]=p[h+1],O[2]=p[h+2],n(I,E),f&&(v+=E.sampledElevation),l.TESTS_DISABLE_OPTIMIZATIONS)p[h]=I.array[I.offset],p[h+1]=I.array[I.offset+1],p[h+2]=E.z,a(p,o,h,p,r.spatialReference,h,1),p[h]-=S[0],p[h+1]-=S[1],p[h+2]-=S[2],s=!0;else{T[0]=p[h]+S[0],T[1]=p[h+1]+S[1],T[2]=p[h+2]+S[2],r.setAltitude(T,E.z),p[h]=T[0]-S[0],p[h+1]=T[1]-S[1],p[h+2]=T[2]-S[2];const t=d/r.unitInMeters;(Math.abs(O[0]-p[h])>=t||Math.abs(O[1]-p[h+1])>=t||Math.abs(O[2]-p[h+2])>=t)&&(s=!0)}h+=g,I.offset+=3}return v/=b,{update:s,averageGeometrySampledElevation:v}}export{b as perLodInstanceElevationAligner,p as perObjectElevationAligner,u as perVertexElevationAligner,I as sharedGeometryElevationAligner};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass r{constructor(r,s,t){this.graphic=r,this.renderingInfo=s,this.layer=t}}export{r as Graphics3DGraphicCreationContext};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{c as e,e as t,g as i}from\"../../../../chunks/vec32.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{setMin as a,setMax as n,create as r,isPoint as o,empty as l,center as c,offset as g}from\"../../../../geometry/support/aaBoundingBox.js\";import{g as d}from\"../../../../chunks/sphere.js\";import{evaluateElevationInfoAtPoint as h}from\"./elevationAlignmentUtils.js\";import{setContextFeature as u}from\"./featureExpressionInfoUtils.js\";import{demResolutionForBoundingBox as b}from\"./graphicUtils.js\";import{Object3DState as m}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Transparency as O}from\"../../webgl-engine/lib/edgeRendering/interfaces.js\";class j{constructor(e,t,i){this.baseMaterial=e,this.edgeMaterials=t,this.properties=i}}class p{get isElevationSource(){return!!this.stageObject.lastValidElevationBB}constructor(e,t,i,s,a,n,r,o=null){this.graphics3DSymbolLayer=e,this.stageObject=t,this._uniqueGeometries=i,this._uniqueMaterials=s,this._sharedResource=a,this.elevationAligner=n,this.elevationContext=r,this._edgeState=o,this.type=\"object3d\",this._stageLayer=null,this._visible=!1,this._addedToStage=!1,this.alignedSampledElevation=0,this.needsElevationUpdates=!1,this.useObjectOriginAsAttachmentOrigin=!1}initialize(e){this._stageLayer=e;const t=e.stage;t.addMany(this._uniqueMaterials),t.addMany(this._uniqueGeometries),t.add(this.stageObject)}destroy(){if(!this._stageLayer)return;const e=this._stageLayer.stage;e.removeMany(this._uniqueMaterials),e.removeMany(this._uniqueGeometries),e.remove(this.stageObject),this._addedToStage&&(this._stageLayer.remove(this.stageObject),this._addedToStage=!1),e.renderer.edgeView?.removeObject(this.stageObject),this.stageObject.dispose(),this._sharedResource?.release(),this._visible=!1,this._stageLayer=null}layerOpacityChanged(e,t){const{stageObject:i,_edgeState:s,_stageLayer:a}=this;if(null==s)return;const n=v(s.baseMaterial);let r=!1;for(const o of s.edgeMaterials)o.objectTransparency!==n&&(o.objectTransparency=n,r=!0);r&&this.resetEdgeObject(t),a.stage.renderer.withEdgeView((t=>{t.updateAllComponentOpacities(i,[e])}))}slicePlaneEnabledChanged(e,t){const{stageObject:i,_edgeState:s,_stageLayer:a}=this;null!=s&&a.stage.renderer.withEdgeView((a=>{a.updateAllComponentMaterials(i,s.edgeMaterials,{hasSlicePlane:e},!t),s.properties.hasSlicePlane=e}))}setVisibility(e){const{_edgeState:t,stageObject:i,_stageLayer:s}=this;null!=s&&this.visible!==e&&(this._visible=e,i.visible=e,e&&!this._addedToStage&&(s.add(i),this._addedToStage=!0),null!=t&&s.stage.renderer.withEdgeView((s=>{s.hasObject(i)?s.updateObjectVisibility(i,e):e&&this._addOrUpdateEdgeObject(t,s,!1)})))}get visible(){return this._visible}alignWithElevation(e,t,i,s){if(null==this.elevationAligner)return;null!=i&&u(this.elevationContext.featureExpressionInfoContext,i);const a=(i,s)=>h(i,e,this.elevationContext,t,s);this.alignedSampledElevation=this.elevationAligner(this,this.elevationContext,e.spatialReference,a,t),this.resetEdgeObject(s)}alignWithAbsoluteElevation(e,t,i){const s=(t,i)=>{i.sampledElevation=e,i.verticalDistanceToGround=0,i.z=e};this.alignedSampledElevation=this.elevationAligner(this,this.elevationContext,null,s,t),this.resetEdgeObject(i)}getCenterObjectSpace(t=s()){return e(t,d(this.stageObject.boundingVolumeObjectSpace.bounds))}getBoundingBoxObjectSpace(e=r()){const t=this.stageObject.boundingVolumeObjectSpace;return a(e,t.min),n(e,t.max),e}computeAttachmentOrigin(e){const s=this.stageObject.effectiveTransformation;if(this.useObjectOriginAsAttachmentOrigin)e.render.origin[0]+=s[12],e.render.origin[1]+=s[13],e.render.origin[2]+=s[14],e.render.num++;else for(const a of this.stageObject.geometries)a.computeAttachmentOrigin(y)&&(t(y,y,s),i(e.render.origin,e.render.origin,y),e.render.num++)}async getProjectedBoundingBox(e,i,s,a,n){const r=this.getBoundingBoxObjectSpace(n),d=E,h=o(r)?1:d.length;for(let o=0;o<h;o++){const e=d[o];_[0]=r[e[0]],_[1]=r[e[1]],_[2]=r[e[2]],t(_,_,this.stageObject.transformation),f[3*o]=_[0],f[3*o+1]=_[1],f[3*o+2]=_[2]}if(!e(f,0,h))return null;l(r);let u=null;this.calculateRelativeScreenBounds&&(u=this.calculateRelativeScreenBounds());for(let t=0;t<3*h;t+=3){for(let e=0;e<3;e++)r[e]=Math.min(r[e],f[t+e]),r[e+3]=Math.max(r[e+3],f[t+e]);u&&s.push({location:f.slice(t,t+3),screenSpaceBoundingRect:u})}if(i?.service&&\"absolute-height\"!==this.elevationContext.mode){c(r,y);const e=\"relative-to-scene\"===this.elevationContext.mode?\"scene\":\"ground\";let t=0;if(i.useViewElevation)t=i.service.getElevation(y[0],y[1],e)??0;else try{const s=b(r,i.service.spatialReference,i);t=await i.service.queryElevation(y[0],y[1],a,s,e)??0}catch(m){}g(r,0,0,-this.alignedSampledElevation+t)}return r}addObjectState(e,t){e===m.Highlight&&t.addObject(this.stageObject,this.stageObject.highlight()),e===m.MaskOccludee&&t.addObject(this.stageObject,this.stageObject.maskOccludee())}removeObjectState(e){e.removeObject(this.stageObject)}resetEdgeObject(e){const{_edgeState:t,stageObject:i,_stageLayer:s,_visible:a}=this;null!=t&&s.stage.renderer.withEdgeView((s=>{a?this._addOrUpdateEdgeObject(t,s,e):s.removeObject(i)}))}_addOrUpdateEdgeObject(e,t,i){const s=v(e.baseMaterial);for(const a of e.edgeMaterials)a.objectTransparency=s;t.addOrUpdateObject3D(this.stageObject,e.edgeMaterials,e.properties,!i).then((()=>this._stageLayer?.sync()))}}function v(e){return e.isVisible()?e.parameters.transparent?O.TRANSPARENT:O.OPAQUE:O.INVISIBLE}const f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_=s(),y=s(),E=[[0,1,2],[3,1,2],[0,4,2],[3,4,2],[0,1,5],[3,1,5],[0,4,5],[3,4,5]];export{p as Graphics3DObject3DGraphicLayer,j as Object3DEdgeState};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e=null){this.labelText=e,this.elevationOffset=t??0}}export{t as Graphics3DObjectMetadata};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst o=3,t=3,c=10;export{c as pathNumCircleProfileSubdivisions,t as pathNumRoundCapExtrusionSubdivisions,o as pathNumRoundJoinSubdivisions};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{unique as e}from\"../../../../../core/arrayUtils.js\";import{VertexAttribute as t}from\"../VertexAttribute.js\";class s{constructor(e,t=null){this.geometry=e,this.textures=t}}class r{constructor(e,s,r){this.components=e,this.minScreenSpaceRadius=s,this.pivotOffset=r;const n=this.geometries;this.numVertices=n.reduce(((e,s)=>e+s.attributes.get(t.POSITION).indices.length),0)}get geometries(){return e(this.components.map((e=>e.geometry)))}}class n{constructor(e){this.levels=e,this.levels.sort(((e,t)=>e.minScreenSpaceRadius===t.minScreenSpaceRadius?e.numVertices-t.numVertices:e.minScreenSpaceRadius-t.minScreenSpaceRadius))}}function c(t){const s=[];return t.levels.forEach((e=>e.components.forEach((e=>s.push(e.geometry.material))))),e(s)}function o(t){const s=new Array;return t.levels.forEach((e=>e.components.forEach((e=>{null!=e.textures&&s.push(...e.textures)})))),e(s)}function i(t){const s=new Array;return t.levels.forEach((e=>e.components.forEach((e=>s.push(e.geometry))))),e(s)}export{s as LodComponentResources,r as LodLevelResources,n as LodResources,i as geometriesFromLodResources,c as materialsFromLodResources,o as texturesFromLodResources};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{cgToGIS as e,createDiamondGeometry as n,createTetrahedronGeometry as s,createCylinderGeometry as a,createConeGeometry as c,createBoxGeometry as i,createPolySphereGeometry as t}from\"../../webgl-engine/lib/GeometryUtil.js\";import{LodResources as r,LodLevelResources as o,LodComponentResources as u}from\"../../webgl-engine/lib/lodRendering/LodResources.js\";function d(e){switch(e){case\"sphere\":case\"cube\":case\"diamond\":case\"cylinder\":case\"cone\":case\"inverted-cone\":case\"tetrahedron\":return!0}return!1}function S(d,S){const m=(n,s,a=!1)=>new r(n.map((n=>{const c=s(n.tesselation);return a&&e(c),new o([new u(c)],n.minScreenSpaceRadius)})));switch(d){case\"sphere\":return m([{tesselation:0,minScreenSpaceRadius:0},{tesselation:1,minScreenSpaceRadius:8},{tesselation:2,minScreenSpaceRadius:16},{tesselation:3,minScreenSpaceRadius:50},{tesselation:4,minScreenSpaceRadius:250}],(e=>t(S,.5,e,!0)));case\"cube\":return m([{tesselation:0,minScreenSpaceRadius:0}],(()=>i(S,1)));case\"cone\":return m(l,(e=>c(S,1,.5,e,!1)),!0);case\"inverted-cone\":return m(l,(e=>c(S,1,.5,e,!0)),!0);case\"cylinder\":return m(l,(e=>a(S,1,.5,e,[0,0,1],[0,0,.5])));case\"tetrahedron\":return m([{tesselation:0,minScreenSpaceRadius:0}],(()=>s(S,1)),!0);case\"diamond\":return m([{tesselation:0,minScreenSpaceRadius:0}],(()=>n(S,1)),!0);default:return}}const l=[{tesselation:6,minScreenSpaceRadius:0},{tesselation:18,minScreenSpaceRadius:7},{tesselation:64,minScreenSpaceRadius:65}];export{d as isValidPrimitive,S as primitiveLodResources};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.estimated=!1,this.verticesPerFeature=e.verticesPerFeature??0,this.verticesPerCoordinate=e.verticesPerCoordinate??0,this.drawCallsPerFeature=e.drawCallsPerFeature??0,this.memory=e.memory??new a}}class t extends e{constructor(e){super(e),this.estimated=!0}}class s extends e{constructor(e,t){super(t),this.numComplexities=e}}class r extends t{constructor(e,t){super(t),this.numComplexities=e}}class a{constructor(){this.bytesPerFeature=0,this.bytesPerFeatureLabel=0,this.resourceBytes=0,this.draped={bytesPerFeature:0,bytesPerFeatureLabel:0}}}export{s as AggregateSymbolComplexity,r as EstimatedAggregateSymbolComplexity,t as EstimatedSymbolComplexity,e as SymbolComplexity,a as SymbolComplexityMemory};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";import{defaultPrimitive as r}from\"../../../../symbols/support/ObjectSymbol3DLayerResource.js\";import{pathNumRoundCapExtrusionSubdivisions as t,pathNumCircleProfileSubdivisions as a,pathNumRoundJoinSubdivisions as s}from\"./Graphics3DPathSymbolLayerConstants.js\";import{primitiveLodResources as u}from\"./primitiveObjectSymbolUtils.js\";import{EstimatedSymbolComplexity as o,EstimatedAggregateSymbolComplexity as b,AggregateSymbolComplexity as i,SymbolComplexity as y,SymbolComplexityMemory as c}from\"./SymbolComplexity.js\";import{hasEdges as n}from\"../support/edgeUtils.js\";import{DefaultMaterial as l}from\"../../webgl-engine/materials/DefaultMaterial.js\";const P=new o({});function m(e){if(\"web-style\"===e.type)return P;return F(e.symbolLayers.toArray().map((r=>L(e,r))))}function F(e){let r=0,t=0,a=0,s=!1,u=0;const o=new c;for(const b of e)null!=b&&(r+=b.verticesPerFeature,t+=b.verticesPerCoordinate,a+=b.drawCallsPerFeature,o.bytesPerFeature+=b.memory.bytesPerFeature,o.bytesPerFeatureLabel+=b.memory.bytesPerFeatureLabel,o.resourceBytes+=b.memory.resourceBytes,o.draped.bytesPerFeature+=b.memory.bytesPerFeature,o.draped.bytesPerFeatureLabel+=b.memory.bytesPerFeatureLabel,s=s||b.estimated,++u);return s?new b(u,{verticesPerFeature:r,verticesPerCoordinate:t,drawCallsPerFeature:a,memory:o}):new i(u,{verticesPerFeature:r,verticesPerCoordinate:t,drawCallsPerFeature:a,memory:o})}function d(e){const r=F(e);return r.numComplexities>0&&(r.verticesPerFeature/=r.numComplexities,r.verticesPerCoordinate/=r.numComplexities,r.drawCallsPerFeature/=r.numComplexities,r.memory.bytesPerFeature/=r.numComplexities,r.memory.bytesPerFeatureLabel/=r.numComplexities,r.memory.resourceBytes/=r.numComplexities,r.memory.draped.bytesPerFeature/=r.numComplexities,r.memory.draped.bytesPerFeatureLabel/=r.numComplexities),r}const p={};function L(u,b){const i=C(u,b),c=n(b)?2:0;switch(b.type){case\"extrude\":return new y({verticesPerFeature:-12,verticesPerCoordinate:12,drawCallsPerFeature:c,memory:i});case\"fill\":if(\"mesh-3d\"===u.type)return new y({drawCallsPerFeature:c,memory:i});if(null!=b.outline&&b.outline.size>0)return new y({verticesPerFeature:-12,verticesPerCoordinate:9,memory:i});case\"water\":return new y({verticesPerFeature:-6,verticesPerCoordinate:3,memory:i});case\"line\":return new y({verticesPerFeature:-6,verticesPerCoordinate:6,memory:i});case\"object\":return b.resource?.href?new o({verticesPerFeature:100,memory:i}):{...f(b.resource?.primitive??r),memory:i};case\"path\":{let r=0,u=0;switch(b.profile){case\"circle\":r=a;break;case\"quad\":r=4;break;default:return void e(b.profile)}switch(b.join??\"simple\"){case\"round\":u=s;break;case\"miter\":case\"bevel\":u=1;break;default:return}const o=2*r,c=r*u*2,n=c+o;let l=-2*c-o;switch(b.cap){case\"none\":break;case\"butt\":case\"square\":l+=2*(r-1);break;case\"round\":l+=2*(r*(t-1)*2+r);break;default:return}return new y({verticesPerFeature:l,verticesPerCoordinate:n,memory:i})}case\"text\":case\"icon\":return new y({verticesPerFeature:6,memory:i});default:return}}function C(r,t){const a=\"point-3d\"===r.type;switch(t.type){case\"extrude\":return t.edges&&t.edges.size>0?E.EXTRUDE_EDGES:E.EXTRUDE;case\"fill\":return null!=t.outline&&t.outline.size>0?E.FILL_OUTLINE:E.FILL;case\"water\":return E.FILL;case\"line\":return\"round\"===t.join?E.LINE_ROUND:E.LINE_MITER;case\"path\":switch(t.join){case\"round\":switch(t.profile){case\"circle\":return E.PATH_ROUND_CIRCLE;case\"quad\":return E.PATH_ROUND_QUAD;default:return void e(t.profile)}case\"miter\":case\"bevel\":switch(t.profile){case\"circle\":return E.PATH_MITER_CIRCLE;case\"quad\":return E.PATH_MITER_QUAD;default:return void e(t.profile)}default:return}case\"object\":return a?E.OBJECT_POINT:E.OBJECT_POLYGON;case\"icon\":case\"text\":return a?E.ICON_POINT:E.ICON_POLYGON;default:return}}function f(e){const r=p[e];if(r)return r;const t=w(u(e,new l({})).levels);return p[e]=new y({verticesPerFeature:t}),p[e]}function w(e){return e.reduce(((e,r,t)=>e+r.numVertices*(1/10**t)),0)/e.reduce(((e,r,t)=>e+1/10**t),0)}const E={ICON_POINT:{bytesPerFeature:2379.8272296852992,bytesPerFeatureLabel:852.246235,resourceBytes:0,draped:{bytesPerFeature:1868.2382921559424,bytesPerFeatureLabel:839.205415}},ICON_POLYGON:{bytesPerFeature:2957.8429876524656,bytesPerFeatureLabel:862.5307816666666,resourceBytes:0,draped:{bytesPerFeature:2579.7767085451133,bytesPerFeatureLabel:856.9298550000001}},OBJECT_POINT:{bytesPerFeature:603.543820573039,bytesPerFeatureLabel:717.4551849999999,resourceBytes:0,draped:{bytesPerFeature:603.543820573039,bytesPerFeatureLabel:717.4551849999999}},OBJECT_POLYGON:{bytesPerFeature:1111.1693389308373,bytesPerFeatureLabel:707.4535949999998,resourceBytes:0,draped:{bytesPerFeature:1111.1693389308373,bytesPerFeatureLabel:707.4535949999998}},LINE_MITER:{bytesPerFeature:3081.208408220661,bytesPerFeatureLabel:858.6749016666668,resourceBytes:0,draped:{bytesPerFeature:2682.57863388475,bytesPerFeatureLabel:844.6118016666666}},LINE_ROUND:{bytesPerFeature:3209.3236242927915,bytesPerFeatureLabel:858.1810416666667,resourceBytes:0,draped:{bytesPerFeature:2687.6256038096126,bytesPerFeatureLabel:849.578535}},PATH_MITER_CIRCLE:{bytesPerFeature:38708.74276663992,bytesPerFeatureLabel:858.70415,resourceBytes:0,draped:{bytesPerFeature:38708.74276663992,bytesPerFeatureLabel:858.70415}},PATH_ROUND_CIRCLE:{bytesPerFeature:42098.00590216518,bytesPerFeatureLabel:868.3632500000001,resourceBytes:0,draped:{bytesPerFeature:42098.00590216518,bytesPerFeatureLabel:868.3632500000001}},PATH_MITER_QUAD:{bytesPerFeature:25037.823002405767,bytesPerFeatureLabel:835.93355,resourceBytes:0,draped:{bytesPerFeature:25037.823002405767,bytesPerFeatureLabel:835.93355}},PATH_ROUND_QUAD:{bytesPerFeature:40320.254760224525,bytesPerFeatureLabel:851.66955,resourceBytes:0,draped:{bytesPerFeature:40320.254760224525,bytesPerFeatureLabel:851.66955}},FILL:{bytesPerFeature:3147.43349219103,bytesPerFeatureLabel:850.7598550000001,resourceBytes:0,draped:{bytesPerFeature:2673.7898488975106,bytesPerFeatureLabel:846.6459950000002}},FILL_OUTLINE:{bytesPerFeature:4565.099993465867,bytesPerFeatureLabel:855.334515,resourceBytes:0,draped:{bytesPerFeature:3904.46969705314,bytesPerFeatureLabel:844.7081016666667}},EXTRUDE:{bytesPerFeature:7551.2282834569505,bytesPerFeatureLabel:849.5513283333333,resourceBytes:0,draped:{bytesPerFeature:7551.2282834569505,bytesPerFeatureLabel:849.5513283333333}},EXTRUDE_EDGES:{bytesPerFeature:2959.8379634500698,bytesPerFeatureLabel:602.0969283333335,resourceBytes:0,draped:{bytesPerFeature:2959.8379634500698,bytesPerFeatureLabel:602.0969283333335}}};export{d as averageSymbolComplexities,m as defaultSymbolComplexity,L as defaultSymbolLayerComplexity,C as defaultSymbolLayerMemoryComplexity,P as emptySymbolComplexity,w as estimateNumVerticesForLods,E as memoryEstimators,F as totalSymbolComplexities};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar e;!function(e){e[e.RecreateSymbol=0]=\"RecreateSymbol\",e[e.RecreateGraphics=1]=\"RecreateGraphics\",e[e.FastUpdate=2]=\"FastUpdate\"}(e||(e={}));export{e as ApplyRendererDiffResult};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{abortMaybe as t}from\"../../../../core/maybe.js\";import{isAbortError as o}from\"../../../../core/promiseUtils.js\";class r{constructor(t){this.schedule=t,this._abortController=null,this._loadStatus=l.LOADING,this._loadError=null,this._loader=null,this.logger=null}destroy(){this.abortLoad()}get loadStatus(){return this._loadStatus}load(t,r){return this._loadStatus===l.LOADED?(t&&t(),this._loader??Promise.resolve()):this._loadStatus===l.FAILED?(r&&r(this._loadError),this._loader??Promise.resolve()):(null==this._loader&&(this._abortController=new AbortController,this._loader=this.doLoad(this._abortController.signal).then((()=>{this._abortController=null,this._loadStatus=l.LOADED}),(t=>{throw this._loadError=t,this._abortController=null,this._loadStatus=l.FAILED,!o(t)&&this.logger&&t.message&&this.logger.warn(t.message),t}))),this._loader.then(t,r).catch((()=>{})),this._loader)}abortLoad(){null!=this._abortController?this._abortController=t(this._abortController):this._loadStatus===l.LOADING&&(this._loadStatus=l.FAILED),this._loader=null}}var l;!function(t){t[t.LOADING=0]=\"LOADING\",t[t.LOADED=1]=\"LOADED\",t[t.FAILED=2]=\"FAILED\"}(l||(l={}));export{l as LoadStatus,r as Loadable};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import\"../../../../core/has.js\";import t from\"../../../../core/Logger.js\";import{ONES as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as r}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{defaultSymbolLayerComplexity as o}from\"./defaultSymbolComplexity.js\";import{SymbolUpdateType as n}from\"./elevationAlignmentUtils.js\";import{ElevationContext as s}from\"./ElevationContext.js\";import{zeroContext as a}from\"./featureExpressionInfoUtils.js\";import{mixinColorAndOpacity as l}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as p}from\"./interfaces.js\";import{Loadable as d}from\"./Loadable.js\";import{getAttributeValue as c}from\"../support/FastSymbolUpdates.js\";const u=()=>t.getLogger(\"esri.views.3d.layers.graphics.Graphics3DSymbolLayer\");class h extends d{constructor(e,t,i,r){super(i.schedule),this.symbol=e,this.symbolLayer=t,this._context=i,this.ignoreDrivers=!1,this._drivenProperties={color:!1,opacity:!1,opacityAlwaysOpaque:!0,size:!1},this._materials=[],this.usedMemory=0,this.logger=u(),this._elevationOptions={supportsOffsetAdjustment:!1,supportsOnTheGround:!0},this.skipHighSymbolLodsChanged=!0,this._renderPriority=r.renderPriority,this._renderPriorityStep=r.renderPriorityStep,this._elevationContext=new s,this.complexity=this.computeComplexity(),this.ignoreDrivers=r.ignoreDrivers,this.ignoreDrivers||(this._drivenProperties=f(this._context.renderer)),this._updateElevationContext()}getCachedSize(){return null}get extentPadding(){return 0}get materials(){return this._materials}_drivenPropertiesChanged(e){if(this.ignoreDrivers)return!1;const t=this._drivenProperties,i=f(e);return i.color!==t.color||i.opacity!==t.opacity||i.opacityAlwaysOpaque!==t.opacityAlwaysOpaque||i.size!==t.size}get needsDrivenTransparentPass(){return this._drivenProperties.opacity&&!this._drivenProperties.opacityAlwaysOpaque}_logGeometryCreationWarnings(e,t,i,r){const o=e.projectionSuccess,n=\"polygons\"in e?e.polygons:null,s=`${r} geometry failed to be created`;let a=null;o?!this._logGeometryValidationWarnings(t,i,r)&&n&&0===n.length&&\"rings\"===i&&t.length>0&&t[0].length>2&&(a=`${s} (filled rings should use clockwise winding - try reversing the order of vertices)`):a=`${s} (failed to project geometry to view spatial reference)`,a&&u().warnOncePerTick(a)}_logGeometryValidationWarnings(e,t,i){const r=`${i} geometry failed to be created`;return!e.length||1===e.length&&!e[0].length?(u().warnOncePerTick(`${r} (no ${t} were defined)`),!0):(!Array.isArray(e)||!Array.isArray(e[0]))&&(u().warnOncePerTick(`${r} (${t} should be defined as a 2D array)`),!0)}_validateGeometry(e,t=null,i=null){if(null!=t&&!t.includes(e.type))return this.logger.warn(\"unsupported geometry type for \"+i+` symbol: ${e.type}`),!1;if(\"point\"===e.type){const t=e;if(!isFinite(t.x)||!isFinite(t.y))return u().warn(\"point coordinate is not a valid number, graphic skipped\"),!1}return!0}_defaultElevationInfoNoZ(){return y}_defaultElevationInfoZ(){return g}_updateElevationContext(){null!=this._elevationInfoOverride?(this._elevationContext.setFromElevationInfo(this._elevationInfoOverride),this._elevationContext.updateFeatureExpressionInfoContext(null)):this._context.layer.elevationInfo?(this._elevationContext.setFromElevationInfo(this._context.layer.elevationInfo),this._elevationContext.updateFeatureExpressionInfoContext(this._context.featureExpressionInfoContext)):this._elevationContext.reset()}getDefaultElevationInfo(e){return e.hasZ?this._defaultElevationInfoZ():this._defaultElevationInfoNoZ()}getGeometryElevationMode(e,t=this.getDefaultElevationInfo(e)){return this._elevationContext.mode||t.mode}setElevationInfoOverride(e){this._elevationInfoOverride=e,this._updateElevationContext()}setGraphicElevationContext(e,t=new s){const i=e.geometry,r=this.getDefaultElevationInfo(i);t.unit=null!=this._elevationContext.unit?this._elevationContext.unit:r.unit,t.mode=this.getGeometryElevationMode(i,r),t.offsetMeters=this._elevationContext.meterUnitOffset??r.offset??0;const o=!this._elevationOptions.supportsOnTheGround&&\"on-the-ground\"===t.mode;o&&(t.mode=\"relative-to-ground\",t.offsetMeters=0);const n=o?a:this._elevationContext.featureExpressionInfoContext;return t.updateFeatureExpressionInfoContext(n,e,this._context.layer),t}prepareSymbolLayerPatch(e){}updateGeometry(e,t){return!1}updateTransform(e,t,i,r){return!1}onRemoveGraphic(e){}_getLayerOpacity(){if(this._context.graphicsCoreOwner&&\"fullOpacity\"in this._context.graphicsCoreOwner)return this._context.graphicsCoreOwner.fullOpacity??0;const e=this._context.layer.opacity;return e??1}_getCombinedOpacity(e,t=m){let i=1;return this.draped||(i*=this._getLayerOpacity()),this._drivenProperties.opacity||(null!=e?i*=e.a:t.hasIntrinsicColor||(i=0)),i}_getCombinedOpacityAndColor(t,r=m){const o=this._getCombinedOpacity(t,r);if(this._drivenProperties.color)return l(null,o);const n=null!=t?e.toUnitRGB(t):i;return l(n,o)}_getVertexOpacityAndColor(e,t=null){const i=this._drivenProperties.color?e.color:null,r=this._drivenProperties.opacity?e.opacity:null,o=l(i,r);return t&&(o[0]*=t,o[1]*=t,o[2]*=t,o[3]*=t),o}isFastUpdatesEnabled(){return null!=this._fastUpdates}computeComplexity(){return o(this.symbol,this.symbolLayer)}globalPropertyChanged(e,t,i){switch(e){case\"opacity\":return this.layerOpacityChanged(t,i),!0;case\"elevationInfo\":{const e=this._elevationContext.mode;this._updateElevationContext();return this.layerElevationInfoChanged(t,i,e)!==n.RECREATE}case\"slicePlaneEnabled\":return this.slicePlaneEnabledChanged(t,i);case\"physicalBasedRenderingEnabled\":return this.physicalBasedRenderingChanged();case\"pixelRatio\":return this.pixelRatioChanged;case\"skipHighSymbolLods\":return this.skipHighSymbolLodsChanged;default:return!1}}get pixelRatioChanged(){return!0}updateGraphics3DGraphicElevationInfo(e,t,i){let r=n.UPDATE;return e.forEach((e=>{const o=t(e);if(null!=o){const t=e.graphic;this.setGraphicElevationContext(t,o.elevationContext),o.needsElevationUpdates=i(o.elevationContext.mode)}else r=n.RECREATE})),r}applyRendererDiff(e,t){return p.RecreateSymbol}getFastUpdateAttrValues(e){if(!this._fastUpdates)return null;const t=this._fastUpdates.visualVariables,i=t.size?c(t.size.field,e):0,o=t.color?c(t.color.field,e):0,n=t.opacity?c(t.opacity.field,e):0;return r(i,o,n,0)}get draped(){return this._draped}ensureDrapedStatus(e){return null==this._draped?(this._draped=e,!0):(e!==this.draped&&u().warnOnce(\"A symbol can only produce either draped or non-draped visualizations. Use two separate symbol instances for draped and non-draped graphics if necessary.\"),!1)}test(){const e=()=>({size:this._fastUpdates?.visualVariables.size?.field??null,color:this._fastUpdates?.visualVariables.color?.field??null,opacity:this._fastUpdates?.visualVariables.opacity?.field??null,rotation:this._fastUpdates?.visualVariables.rotation?.field??null});return{drivenProperties:this._drivenProperties,getVisVarFields:e}}}function f(e){const t={color:!1,opacity:!1,opacityAlwaysOpaque:!0,size:!1};return e&&\"visualVariables\"in e&&e.visualVariables&&e.visualVariables.forEach((e=>{switch(e.type){case\"color\":if(t.color=!0,e.stops)for(let i=0;i<e.stops.length;i++){const r=e.stops[i].color;r&&(t.opacity=!0,r.a<1&&(t.opacityAlwaysOpaque=!1))}break;case\"opacity\":t.opacity=!0,t.opacityAlwaysOpaque=!1;break;case\"size\":t.size=!0}})),t}const y={mode:\"on-the-ground\",offset:0,unit:\"meters\"},g={mode:\"absolute-height\",offset:0,unit:\"meters\"},m={hasIntrinsicColor:!1};export{h as Graphics3DSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectPointToVector as r}from\"../../../../geometry/projection/projectPointToVector.js\";import{containsPoint as t}from\"../../../../geometry/support/aaBoundingBox.js\";import{getPointOnPath as o,getPathLength as n}from\"../../../../geometry/support/coordsUtils.js\";import{makeDehydratedPoint as i}from\"../../../../layers/graphics/dehydratedPoint.js\";import{applyElevationAlignmentForHUD as l}from\"./elevationAlignmentUtils.js\";import{computeCentroid as s}from\"./graphicUtils.js\";import{Object3D as a}from\"../../webgl-engine/lib/Object3D.js\";function c(e,o,n,i,s){const c=e.clippingExtent;if(r(o,u,e.elevationProvider.spatialReference),null!=c&&!t(c,u))return null;r(o,u,e.renderCoordsHelper.spatialReference),n.localOrigin=e.localOriginFactory.getOrigin(u);const p=new a({geometries:[n],castShadow:!1,layerUid:e.layer.uid,graphicUid:s,usesVerticalDistanceToGround:!0});return{object:p,sampledElevation:l(p,o,e.elevationProvider,e.renderCoordsHelper,i)}}function p(e,t,o){const n=e.elevationContext,l=o.spatialReference;r(t,u,l),n.centerPointInElevationSR=i(u[0],u[1],t.hasZ?u[2]:0,null!=l?l:null)}function m(e){switch(e.type){case\"point\":return e;case\"polygon\":case\"extent\":return s(e);case\"polyline\":{const r=e.paths[0];if(!r||0===r.length)return null;const t=o(r,n(r)/2);return i(t[0],t[1],t[2],e.spatialReference)}case\"mesh\":return e.origin}return null}const u=e();export{c as createStageObject,p as extendPointGraphicElevationContext,m as placePointOnGeometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ViewingMode as e}from\"../../../ViewingMode.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as r}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../lib/Program.js\";import{L as n}from\"../../../../chunks/LineCallout.glsl.js\";import{CompareFunction as s,BlendFactor as l}from\"../../../webgl/enums.js\";import{makePipelineState as a,defaultDepthWriteParams as u,separateBlendingParams as d,defaultColorWriteParams as m}from\"../../../webgl/renderState.js\";class h extends t{initializeConfiguration(i,t){t.spherical=i.viewingMode===e.Global}initializeProgram(e){return new o(e.rctx,h.shader.get().build(this.configuration),r)}setPipelineState(e){const i=e?s.ALWAYS:s.LESS;return this.configuration.depthHudEnabled?a({depthTest:{func:i},depthWrite:u}):a({blending:d(l.ONE,l.SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),depthTest:{func:i},colorWrite:m})}initializePipeline(){return this.setPipelineState(this.configuration.multipassEnabled)}}h.shader=new i(n,(()=>import(\"./LineCallout.glsl.js\")));export{h as LineCalloutTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as o}from\"../materials/DefaultTechniqueConfiguration.js\";class s extends o{constructor(){super(...arguments),this.screenCenterOffsetUnitsEnabled=!1,this.spherical=!1,this.occlusionTestEnabled=!0,this.hasVerticalOffset=!1,this.hasScreenSizePerspective=!1,this.depthHudEnabled=!1,this.depthHudAlignStartEnabled=!1,this.hasSlicePlane=!1,this.multipassEnabled=!1}}e([t()],s.prototype,\"screenCenterOffsetUnitsEnabled\",void 0),e([t()],s.prototype,\"spherical\",void 0),e([t()],s.prototype,\"occlusionTestEnabled\",void 0),e([t()],s.prototype,\"hasVerticalOffset\",void 0),e([t()],s.prototype,\"hasScreenSizePerspective\",void 0),e([t()],s.prototype,\"depthHudEnabled\",void 0),e([t()],s.prototype,\"depthHudAlignStartEnabled\",void 0),e([t()],s.prototype,\"hasSlicePlane\",void 0),e([t()],s.prototype,\"multipassEnabled\",void 0),e([t({constValue:!0})],s.prototype,\"hasSliceInVertexProgram\",void 0),e([t({constValue:!1})],s.prototype,\"draped\",void 0);export{s as LineCalloutTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{fromValues as e}from\"../../../../core/libs/gl-matrix-2/factories/vec2f32.js\";import{newLayout as t}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as r}from\"../core/shaderLibrary/ShaderOutput.js\";import i from\"../lib/GLMaterial.js\";import{Material as s,MaterialParameters as n}from\"../lib/Material.js\";import{RenderSlot as a}from\"../lib/RenderSlot.js\";import{VertexAttribute as o}from\"../lib/VertexAttribute.js\";import{writePosition as u,writeNormal as l,writeBufferVec4 as f}from\"./internal/bufferWriterUtils.js\";import{LineCalloutTechnique as c}from\"../shaders/LineCalloutTechnique.js\";import{LineCalloutTechniqueConfiguration as h}from\"../shaders/LineCalloutTechniqueConfiguration.js\";class d extends s{get uniqueMaterialIdentifier(){return this._uniqueMaterialIdentifier}constructor(e){super(e,new m),this.produces=new Map([[a.LINE_CALLOUTS,e=>e===r.Color],[a.LINE_CALLOUTS_HUD_DEPTH,e=>e===r.Color]]),this._configuration=new h,this._uniqueMaterialIdentifier=d.uniqueMaterialIdentifier(this.parameters)}passParameters(){return this.parameters}getConfiguration(e,t){const r=t?.slot!==a.LINE_CALLOUTS;return this._configuration.occlusionTestEnabled=this.parameters.occlusionTest,this._configuration.hasVerticalOffset=null!=this.parameters.verticalOffset,this._configuration.hasScreenSizePerspective=null!=this.parameters.screenSizePerspective,this._configuration.depthHudEnabled=r,this._configuration.depthHudAlignStartEnabled=!!this.parameters.depthHUDAlignStart,this._configuration.screenCenterOffsetUnitsEnabled=\"screen\"===this.parameters.centerOffsetUnits,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration}intersect(){}createGLMaterial(e){return new p(e)}createBufferWriter(){return new S}validateParameters(e){const t=d.uniqueMaterialIdentifier(e);t!==this._uniqueMaterialIdentifier&&(this._uniqueMaterialIdentifier=t)}static uniqueMaterialIdentifier(e){return JSON.stringify({horizontalScreenOffset:e.horizontalScreenOffset??0,centerOffsetUnits:e.centerOffsetUnits||\"world\"})}}class p extends i{beginSlot(e){return this.ensureTechnique(c,e)}}class m extends n{constructor(){super(...arguments),this.horizontalScreenOffset=0,this.color=[0,0,0,1],this.size=1,this.occlusionTest=!1,this.shaderPolygonOffset=1e-5,this.depthHUDAlignStart=!1,this.centerOffsetUnits=\"world\",this.hasSlicePlane=!1}}const g=t().vec3f(o.POSITION).vec3f(o.NORMAL).vec2f(o.UV0).vec4f(o.CENTEROFFSETANDDISTANCE),O=[e(0,0),e(1,0),e(0,1),e(1,0),e(1,1),e(0,1)];class S{constructor(){this.vertexBufferLayout=g}elementCount(e){return 6*e.attributes.get(o.POSITION).indices.length}write(e,t,r,i,s){u(r.attributes.get(o.POSITION),e,i.position,s,6),l(r.attributes.get(o.NORMAL),t,i.normal,s,6),f(r.attributes.get(o.CENTEROFFSETANDDISTANCE),i.centerOffsetAndDistance,s,6);for(let n=0;n<O.length;++n)i.uv0.setVec(s+n,O[n])}}export{d as LineCalloutMaterial,m as Parameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{pt2px as t}from\"../../../../core/screenUtils.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{textSymbolLayerSupportsVerticalOffset as n}from\"../../../../symbols/callouts/calloutUtils.js\";import{perObjectElevationAligner as a}from\"./ElevationAligners.js\";import{SymbolUpdateType as o,elevationModeChangeUpdateType as s,needsElevationUpdates2D as l}from\"./elevationAlignmentUtils.js\";import{ElevationContext as c}from\"./ElevationContext.js\";import{Graphics3DGraphicCreationContext as m}from\"./Graphics3DGraphicCreationContext.js\";import{Graphics3DObject3DGraphicLayer as h}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DObjectMetadata as d}from\"./Graphics3DObjectMetadata.js\";import{Graphics3DSymbolLayer as p}from\"./Graphics3DSymbolLayer.js\";import{computeCentroid as f}from\"./graphicUtils.js\";import{createStageObject as u,extendPointGraphicElevationContext as g}from\"./pointUtils.js\";import{SymbolComplexity as y}from\"./SymbolComplexity.js\";import{Attribute as v}from\"../../webgl-engine/lib/Attribute.js\";import{ContentObjectType as b}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Geometry as C}from\"../../webgl-engine/lib/Geometry.js\";import{VertexAttribute as x}from\"../../webgl-engine/lib/VertexAttribute.js\";import{LineCalloutMaterial as O,Parameters as _}from\"../../webgl-engine/materials/LineCalloutMaterial.js\";class E extends p{constructor(e,t){super(e,null,t,w),this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!1},this.ensureDrapedStatus(!1)}async doLoad(){this._materials[0]=new O(this._materialParameters),this._context.stage.add(this._materials[0])}destroy(){super.destroy(),this._context.stage.remove(this._materials[0]),this._materials.length=0}_perInstanceMaterialParameters(e){const t=this._materialParameters;return t.horizontalScreenOffset=e.horizontalScreenOffset??0,t.centerOffsetUnits=e.centerOffsetUnits||\"world\",t}get _materialParameters(){const r=new _,i=this.symbol,n=i.callout;if(r.color=null!=n.color?e.toUnitRGBA(n.color):[0,0,0,0],r.color[3]*=this._getLayerOpacity(),r.size=t(n.size||0),i.verticalOffset){const{screenLength:e,minWorldLength:n,maxWorldLength:a}=i.verticalOffset;r.verticalOffset={screenLength:t(e),minWorldLength:n||0,maxWorldLength:null!=a?a:1/0}}r.borderColor=null!=n.border?.color?e.toUnitRGBA(n.border.color):null;const a=\"object\"===i.symbolLayers.at(0).type,o=\"label-3d\"===i.type;return r.occlusionTest=!a,r.shaderPolygonOffset=a?0:void 0,r.depthHUDAlignStart=o,r.hasSlicePlane=this._context.slicePlaneEnabled,r.screenSizePerspective=this._context.screenSizePerspectiveEnabled?this._context.sharedResources.screenSizePerspectiveSettings:null,r}_defaultElevationInfoNoZ(){return U}createGraphics3DGraphic(e){const t=e.renderingInfo,r=e.graphic,i=this.setGraphicElevationContext(r,new c,t.elevationOffset||0),a=t.symbol,o=\"on-the-ground\"===this._elevationContext.mode&&(\"cim\"===a.type||!a.symbolLayers.some((e=>\"object\"===e.type||\"text\"===e.type)));if(\"label-3d\"!==a.type&&o)return null;if(\"point-3d\"===a.type&&a.symbolLayers.every((e=>\"text\"===e.type&&!n(e))))return null;const s=f(r.geometry);return null==s?null:this._createAs3DShape(s,i,t,r.uid)}layerOpacityChanged(){this._materials[0]?.setParameters(this._materialParameters)}layerElevationInfoChanged(e,t,r){const i=this._elevationContext.mode,n=s(E.elevationModeChangeTypes,r,i);return n!==o.UPDATE||e.forEach((e=>{const r=t(e);null!=r&&this.updateGraphicElevationContext(e.graphic,r)})),n}slicePlaneEnabledChanged(){return this._materials[0]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return!0}setGraphicElevationContext(e,t,r=0){return super.setGraphicElevationContext(e,t),t.addOffsetRenderUnits(r),t}updateGraphicElevationContext(e,t){this.setGraphicElevationContext(e,t.elevationContext,null!=t.metadata?t.metadata.elevationOffset:0),t.needsElevationUpdates=l(t.elevationContext.mode)}computeComplexity(){return new y({verticesPerFeature:6})}_getOrCreateMaterial(e){const t=this._perInstanceMaterialParameters(e),r=O.uniqueMaterialIdentifier(t);if(r===this._materials[0]?.uniqueMaterialIdentifier)return{material:this._materials[0],isUnique:!1};if(null!=e.materialCollection){let i=e.materialCollection.get(r);return null==i&&(i=new O(t),e.materialCollection.add(r,i)),{material:i,isUnique:!1}}return{material:new O(t),isUnique:!0}}_createAs3DShape(e,t,r,i){const n=this._context.layer.uid,o=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:i,layerUid:n}),s=this._getOrCreateMaterial(r),c=new C(s.material,j(r),null,b.Point,o),m=u(this._context,e,c,t,i);if(null==m)return null;const p=new h(this,m.object,[c],s.isUnique?[s.material]:null,null,a,t);return p.metadata=new d(r.elevationOffset),p.alignedSampledElevation=m.sampledElevation,p.needsElevationUpdates=l(t.mode),g(p,e,this._context.elevationProvider),p}}function j(e){const{translation:t,centerOffset:r}=e,i=new v(t?[t[0],t[1],t[2]]:[0,0,0],P,3,!0),n=new v(r?[r[0],r[1],r[2],r[3]]:[0,0,0,1],P,4,!0);return[[x.POSITION,i],[x.NORMAL,new v([0,0,1],P,3,!0)],[x.CENTEROFFSETANDDISTANCE,n]]}E.elevationModeChangeTypes={definedChanged:o.UPDATE,staysOnTheGround:o.UPDATE,onTheGroundChanged:o.RECREATE};const P=[0],U={mode:\"relative-to-ground\",offset:0},w={ignoreDrivers:!0,renderPriority:0,renderPriorityStep:1};class G{constructor(e,t,n=r(),a=i(),o=0,s=\"world\",l=0,c=null){this.renderer=e,this.symbol=t,this.translation=n,this.centerOffset=a,this.horizontalScreenOffset=o,this.centerOffsetUnits=s,this.elevationOffset=l,this.materialCollection=c}}class S extends m{}export{E as Graphics3DLineCalloutSymbolLayer,S as LineCalloutCreationContext,G as LineCalloutSymbolLayerRenderingInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport o from\"../../../../core/Logger.js\";import{hasCalloutSupport as r}from\"../../../../symbols/callouts/calloutUtils.js\";import{Graphics3DLineCalloutSymbolLayer as l}from\"./Graphics3DLineCalloutSymbolLayer.js\";const t=()=>o.getLogger(\"esri.views.3d.layers.graphics.Graphics3DCalloutSymbolLayerFactory\");function e(o,l){if(!r(o))return t().error(\"Graphics3DCalloutSymbolLayerFactory#make\",`symbol of type '${o.type}' does not support callouts`),null;if(!o.callout)return null;const e=a[o.callout.type];return e?new e(o,l):(t().error(\"Graphics3DCalloutSymbolLayerFactory#make\",`unknown or unsupported callout type ${o.callout.type}`),null)}const a={line:l};export{e as make};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import{getVisualVariableValues as e}from\"../visualVariables/support/visualVariableUtils.js\";function o(t,e){if(!t||t.symbol)return null;const o=e?.renderer;return t&&null!=o&&o.getObservationRenderer?o.getObservationRenderer(t):o}function r(t,e){if(null!=t.symbol)return t.symbol;const r=o(t,e);return null!=r&&\"dot-density\"!==r.type?r.getSymbol(t,e):null}function i(t,i){const n=o(t,i),l=r(t,i);if(null==l)return null;const a={renderer:n,symbol:l};if(null==n||!(\"visualVariables\"in n)||!n.visualVariables)return a;const s=e(n,t,i)??[],u=[\"proportional\",\"proportional\",\"proportional\"];for(const{variable:e,value:o}of s)switch(e.type){case\"color\":a.color=o.toRgba();break;case\"size\":if(\"outline\"===e.target)a.outlineSize=o;else{const t=e.axis,r=e.useSymbolValue?\"symbol-value\":o;switch(t){case\"width\":u[0]=r;break;case\"depth\":u[1]=r;break;case\"height\":u[2]=r;break;case\"width-and-depth\":u[0]=u[1]=r;break;default:u[0]=u[1]=u[2]=r}}break;case\"opacity\":a.opacity=o;break;case\"rotation\":switch(e.axis){case\"tilt\":a.tilt=o;break;case\"roll\":a.roll=o;break;default:a.heading=o}}return\"proportional\"===u[0]&&\"proportional\"===u[1]&&\"proportional\"===u[2]||(a.size=u),a}async function n(t,e){if(null!=t.symbol)return t.symbol;const r=o(t,e);return null!=r?r.getSymbolAsync(t,e):null}async function l(r,i){const l=o(r,i),a=await n(r,i);if(!a)return null;const s={renderer:l,symbol:a};if(!l||!(\"visualVariables\"in l)||!l.visualVariables)return s;const u=e(l,r,i)??[],c=[\"proportional\",\"proportional\",\"proportional\"];for(const{variable:e,value:o}of u)if(\"color\"===e.type)s.color=t.toUnitRGBA(o);else if(\"size\"===e.type)if(\"outline\"===e.target)s.outlineSize=o;else{const t=e.axis,r=e.useSymbolValue?\"symbol-value\":o;\"width\"===t?c[0]=r:\"depth\"===t?c[1]=r:\"height\"===t?c[2]=r:c[0]=c[1]=\"width-and-depth\"===t?r:c[2]=r}else\"opacity\"===e.type?s.opacity=o:\"rotation\"===e.type&&\"tilt\"===e.axis?s.tilt=o:\"rotation\"===e.type&&\"roll\"===e.axis?s.roll=o:\"rotation\"===e.type&&(s.heading=o);return(isFinite(c[0])||isFinite(c[1])||isFinite(c[2]))&&(s.size=c),s}function a(t,e=0){const o=t[e];return\"number\"==typeof o&&isFinite(o)?o:null}function s(t){for(let e=0;e<3;e++){const o=t[e];if(\"number\"==typeof o)return isFinite(o)?o:0}return 0}export{a as getDriverAxisSizeValue,s as getDriverAxisSizeValueAny,o as getRenderer,i as getRenderingInfo,l as getRenderingInfoAsync,n as getSymbolAsync};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ZEROS as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";const r=1.2,t=o,c=4;export{c as labelMarginPx,r as suspendResumeExtentOptimism,t as transparentUnit};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction a(a,n,c){return a.canvas||(a.canvas=document.createElement(\"canvas\")),a.canvas.width=n,a.canvas.height=c,a.canvas}export{a as getTextHelperCanvas};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getTextHelperCanvas as t}from\"./TextHelperCanvas.js\";function e(e){const{size:c}=e.definition,a=e.fontString(c);let i=n.get(a);if(!i){const u=t(o,0,0).getContext(\"2d\");e.setFontProperties(u,c);const x=u.measureText(r);i=new s(x.actualBoundingBoxAscent,x.actualBoundingBoxDescent),n.set(a,i)}return i}const n=new Map;class s{get maxHeight(){return this.maxAscent+this.maxDescent}constructor(t,e){this.maxAscent=t,this.maxDescent=e}}const o={canvas:null},r=(()=>{let t=\"\";for(let e=32;e<127;e++)t+=String.fromCharCode(e);return t})();export{e as getFontMetrics};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{debugFlags as e}from\"../../support/debugFlags.js\";import{getFontMetrics as i}from\"./FontMetrics.js\";import{getTextHelperCanvas as n}from\"./TextHelperCanvas.js\";const s=1;class r{constructor(t,e,i,n){this.text=t,this._alignment=e,this._parameters=i,this._maxSize=n,this._textWidths=[],this._lineWidths=[],this._renderPixelRatio=null,this._metricsCached=null,this.key=`TextRenderer-${this._parameters.key}-${this._alignment}--${t}`,this._lines=t.replaceAll(\" \",\" \").split(/\\r?\\n/)}get displayWidth(){return Math.ceil(this._displayWidth+2*this._horizontalPadding)}get displayHeight(){let t=this._metrics.firstLineAscent;for(let e=0;e<this._lines.length-1;e++)t+=this._lineSpacing;return t+=this._metrics.lastLineDescent,Math.ceil(t+2*this._haloSize+2*this._verticalPadding)}get renderedWidth(){return this._toRoundedRenderUnit(this.displayWidth)}get renderedHeight(){return this._toRoundedRenderUnit(this.displayHeight)}get firstRenderedBaselinePosition(){return this._toRenderUnit(this._firstLineYOffset+this._metrics.firstLineAscent)}get _firstLineYOffset(){return this._verticalPadding+this._haloSize}get _metrics(){if(null==this._metricsCached){const t=n(a,l,l).getContext(\"2d\"),e=this._parameters.definition.pixelRatio,s=this._fontSize*e;this._parameters.setFontProperties(t,s);let r=2*this._haloSize;const h=this._parameters.definition.font;\"italic\"!==h.style&&\"oblique\"!==h.style&&\"bold\"!==h.weight&&\"bolder\"!==h.weight||(r+=.3*t.measureText(\"A\").width),this._textWidths.length=0,this._lineWidths.length=0;let o=0,d=0,_=0,g=0,m=0;this._lines.forEach(((i,n)=>{const s=t.measureText(i),h=s.width/e,a=h+r;this._textWidths.push(h),this._lineWidths.push(a),o=Math.max(o,a),g=Math.max(g,s.actualBoundingBoxAscent/e),m=Math.max(m,s.actualBoundingBoxDescent/e),0===n&&(d=s.actualBoundingBoxAscent/e),n===this._lines.length-1&&(_=s.actualBoundingBoxDescent/e)}));const f=i(this._parameters),u=Math.max(g,f.maxAscent),p=Math.max(m,f.maxDescent),x=d,R=\"underline\"===this._parameters.definition.font.decoration?p:_,S=o;this._metricsCached=new c(x,R,u,p,S)}return this._metricsCached}get _lineSpacing(){return(this._midLineHeight+this._linePadding)*this._parameters.definition.lineSpacingFactor}get _midLineHeight(){return this._metrics.midLineHeight}get _linePadding(){return this._midLineHeight*d}get _midLineAscent(){return this._metrics.maxLineAscent}get _renderedFontSize(){return this._toRenderUnit(this._fontSize)}get _fontSize(){return this._parameters.definition.size}get _renderedHaloSize(){return this._toRenderUnit(this._haloSize)}get _haloSize(){return this._parameters.haloSize}get _horizontalPadding(){return this._hasBackground?this._parameters.definition.background.padding[0]:0}get _verticalPadding(){return Math.max(this._hasBackground?this._parameters.definition.background.padding[1]:0,s)}get _hasBackground(){return!!this._parameters.backgroundStyle}get renderPixelRatio(){if(null==this._renderPixelRatio){const t=this._parameters.definition.pixelRatio;this._renderPixelRatio=Math.min(t,Math.min(this._maxSize[0]/this.displayWidth,this._maxSize[1]/this.displayHeight))}return this._renderPixelRatio}_getLineXOffset(t){switch(this._alignment){case o.Left:return this._horizontalPadding;case o.Center:return(this.displayWidth-this._lineWidths[t])/2;case o.Right:return this.displayWidth-this._horizontalPadding-this._lineWidths[t]}}render(t,i,n){t.save();const s=i/=this.renderPixelRatio,r=n/=this.renderPixelRatio,h=this._haloSize,o=this._firstLineYOffset+this._metrics.firstLineAscent;i+=h,n+=o;const a=this._haloSize>0;a&&this._renderHalo(t,s,r,h,o),this._parameters.setFontProperties(t,this._renderedFontSize);for(let e=0;e<this._lines.length;++e){const s=this._lines[e],r=this._getLineXOffset(e);a&&(t.globalCompositeOperation=\"destination-out\",t.fillStyle=\"rgb(0, 0, 0)\",this._fillText(t,s,i+r,n),this._renderLineDecoration(t,i+r,n,this._textWidths[e])),t.globalCompositeOperation=\"source-over\",t.fillStyle=this._parameters.textStyle,this._fillText(t,s,i+this._getLineXOffset(e),n),this._renderLineDecoration(t,i+r,n,this._textWidths[e]),n+=this._lineSpacing}if(e.TEXT_SHOW_BASELINE){t.strokeStyle=_,t.setLineDash([2,2]),t.lineWidth=1;let e=r+o;for(let i=0;i<this._lines.length;++i)this._drawLine(t,[s,e],[s+this.displayWidth,e]),e+=this._lineSpacing}if(e.TEXT_SHOW_BORDER&&(t.strokeStyle=_,t.setLineDash([]),t.lineWidth=1,this._drawBox(t,[s,r],[this.displayWidth,this.displayHeight])),this._hasBackground){const e=this._parameters.definition.background.borderRadius*this.renderPixelRatio;this._roundedRect(t,s,r,e),t.globalCompositeOperation=\"destination-over\",t.fillStyle=this._parameters.backgroundStyle,t.fill()}t.restore()}_renderLineDecoration(t,e,i,n,s=!1){if(\"none\"===this._parameters.definition.font.decoration||0===n)return;const r=1,h=Math.max(this._parameters.definition.size/16,r);switch(this._parameters.definition.font.decoration){case\"underline\":i+=2*h;break;case\"line-through\":i-=.33*this._midLineAscent}const o=s?this._haloSize:0;t.strokeStyle=s?this._parameters.haloStyle:this._parameters.textStyle,t.lineWidth=this._toRenderUnit(h+2*o),t.beginPath(),t.moveTo(this._toRenderUnit(e-o),this._toRenderUnit(i)),t.lineTo(this._toRenderUnit(e+n+o),this._toRenderUnit(i)),t.stroke()}_roundedRect(e,i,n,s){i=this._toRenderUnit(i),n=this._toRenderUnit(n);const r=this.renderedWidth,h=this.renderedHeight;0!==s?(s=t(s,0,Math.floor(h/2)),e.beginPath(),e.moveTo(i,n+s),e.arcTo(i,n,i+s,n,s),e.lineTo(i+r-s,n),e.arcTo(i+r,n,i+r,n+s,s),e.lineTo(i+r,n+h-s),e.arcTo(i+r,n+h,i+r-s,n+h,s),e.lineTo(i+s,n+h),e.arcTo(i,n+h,i,n+h-s,s),e.closePath()):e.rect(i,n,r,h)}_renderHalo(t,e,i,s,r){const h=this.renderedWidth,o=this.renderedHeight,d=n(a,Math.max(h,l),Math.max(o,l)),_=d.getContext(\"2d\");_.clearRect(0,0,h,o),this._parameters.setFontProperties(_,this._renderedFontSize),_.fillStyle=this._parameters.haloStyle,_.strokeStyle=this._parameters.haloStyle;const c=this._renderedHaloSize<3;_.lineJoin=c?\"miter\":\"round\",c?this._renderHaloEmulated(_,s,r):this._renderHaloNative(_,s,r);let g=r;for(let n=0;n<this._lines.length;++n){const t=this._getLineXOffset(n);this._renderLineDecoration(_,s+t,g,this._textWidths[n],!0),g+=this._lineSpacing}t.globalAlpha=this._parameters.definition.halo.color[3],t.drawImage(d,0,0,h,o,this._toRenderUnit(e),this._toRenderUnit(i),h,o),t.globalAlpha=1}_renderHaloEmulated(t,e,i){for(let n=0;n<this._lines.length;++n){const s=this._lines[n],r=this._getLineXOffset(n);for(const[n,o]of h)this._fillText(t,s,e+r+this._haloSize*n,i+this._haloSize*o);i+=this._lineSpacing}}_renderHaloNative(t,e,i){const n=2*this._haloSize;for(let s=0;s<this._lines.length;++s){const r=this._lines[s],h=this._getLineXOffset(s),o=5,a=.1;for(let s=0;s<o;s++){const d=1-(o-1)*a+s*a;t.lineWidth=this._toRenderUnit(d*n),this._strokeText(t,r,e+h,i)}i+=this._lineSpacing}}get _displayWidth(){return this._metrics.displayWidth}_toRenderUnit(t){return t*this.renderPixelRatio}_toRoundedRenderUnit(t){return Math.round(t*this.renderPixelRatio)}_fillText(t,e,i,n){t.fillText(e,this._toRenderUnit(i),this._toRenderUnit(n))}_strokeText(t,e,i,n){t.strokeText(e,this._toRenderUnit(i),this._toRenderUnit(n))}_drawLine(t,e,i){t.beginPath(),t.moveTo(this._toRoundedRenderUnit(e[0])+.5,this._toRoundedRenderUnit(e[1])+.5),t.lineTo(this._toRoundedRenderUnit(i[0])+.5,this._toRoundedRenderUnit(i[1])+.5),t.stroke()}_drawBox(t,e,i){const n=this._toRenderUnit(e[0]),s=this._toRenderUnit(e[1]),r=this._toRenderUnit(i[0]),h=this._toRenderUnit(i[1]),o=Math.floor(n)+.5,a=Math.ceil(n+r)-.5,d=Math.floor(s)+.5,l=Math.ceil(s+h)-.5;t.beginPath(),t.moveTo(o,d),t.lineTo(a,d),t.lineTo(a,l),t.lineTo(o,l),t.lineTo(o,d),t.stroke()}}const h=[];{const t=16;for(let e=0;e<360;e+=360/t)h.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}var o;!function(t){t[t.Left=0]=\"Left\",t[t.Center=1]=\"Center\",t[t.Right=2]=\"Right\"}(o||(o={}));const a={canvas:null},d=.2,l=512,_=\"rgb(255, 0, 255, 0.5)\";class c{get firstLineHeight(){return this.firstLineAscent+this.maxLineDescent}get midLineHeight(){return this.maxLineAscent+this.maxLineDescent}get lastLineHeight(){return this.maxLineAscent+this.lastLineDescent}constructor(t,e,i,n,s){this.firstLineAscent=t,this.lastLineDescent=e,this.maxLineAscent=i,this.maxLineDescent=n,this.displayWidth=s}}export{o as TextRenderAlignment,r as TextRenderer,s as textVerticalPaddingPx};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{copy as t,set as e}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{fromValues as r,ZEROS as o}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{TextRenderAlignment as c,textVerticalPaddingPx as n}from\"../../webgl-engine/lib/TextRenderer.js\";const i=Object.freeze({left:0,center:.5,right:1}),s=Object.freeze({\"bottom-left\":r(0,0),bottom:r(.5,0),\"bottom-right\":r(1,0),left:r(0,.5),center:r(.5,.5),right:r(1,.5),\"top-left\":r(0,1),top:r(.5,1),\"top-right\":r(1,1)});function f(t){switch(t){case\"left\":return c.Left;case\"right\":return c.Right;default:return c.Center}}function a(t){switch(t){case\"bottom-left\":case\"left\":case\"top-left\":return\"left\";case\"bottom\":case\"center\":case\"top\":return\"center\";case\"bottom-right\":case\"right\":case\"top-right\":return\"right\"}}function l(t){switch(t){case\"bottom-left\":case\"bottom\":case\"bottom-right\":return\"bottom\";case\"left\":case\"center\":case\"right\":return\"center\";case\"top-left\":case\"top\":case\"top-right\":return\"top\"}}function m(t,e){switch(e){case\"bottom\":return\"left\"===t?\"bottom-left\":\"right\"===t?\"bottom-right\":\"bottom\";case\"center\":return t;case\"top\":return\"left\"===t?\"top-left\":\"right\"===t?\"top-right\":\"top\"}}function u(t){return\"middle\"===t?\"center\":t}function h(r,c){switch(r){case\"top\":return e(c,0,n);case\"bottom\":return e(c,0,-n);default:return t(c,o)}}export{m as anchorFromPlacements,a as horizontalPlacementFromAnchor,i as horizontalPlacementToAnchorX,s as namedAnchorToHUDMaterialAnchorPos,f as textRenderAlignmentFromHorizontalPlacement,u as verticalPlacementFromAlignment,l as verticalPlacementFromAnchor,h as verticalScreenOffsetFromAlignment};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{create as e}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as s}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";class i{constructor(i,r=\"center\",c=!1,a=t(),o=s(0,0,0,-1),l=\"world\",f=e(),n=0){this.verticalOffset=i,this.anchor=r,this.hasLabelVerticalOffset=c,this.screenOffset=a,this.centerOffset=o,this.centerOffsetUnits=l,this.translation=f,this.elevationOffset=n}}class r{constructor(e,s=\"center\",i=\"center\",r=null,c=t()){this.placement=e,this.horizontalPlacement=s,this.verticalPlacement=i,this.text=r,this.displaySize=c}}export{r as LabelParameters,i as LabelPlacement};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport o from\"../../../../Color.js\";import{isCachedFontFace as t,loadFont as e}from\"../../../../core/fontUtils.js\";import i from\"../../../../core/Logger.js\";import{pt2px as r}from\"../../../../core/screenUtils.js\";import{ZEROS as n}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";class s{constructor(o){this.definition=o,this.key=JSON.stringify(o),this.haloSize=Math.round(o.halo.size),this.textStyle=a(o.color),this.haloStyle=l(o.halo.color),this.backgroundStyle=0!==o.background.color[3]?a(o.background.color):null}fontString(o){const t=this.definition.font,e=\"sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji\";return`${t.style} ${t.weight} ${o}px ${t.family}, ${e}`}setFontProperties(o,t){o.font=this.fontString(t),o.textAlign=\"left\",o.textBaseline=\"alphabetic\"}static async fromSymbol(l,a){const f=l?.material?.color,m=o.toUnitRGBA(f)??n,g=null!=l.size?r(l.size):12,u=l.lineHeight,d=null!=l.background?o.toUnitRGBA(l.background.color):n,h={family:l.font?.family??\"sans-serif\",decoration:l.font?.decoration??\"none\",weight:l.font?.weight??\"normal\",style:l.font?.style??\"normal\"},y=l.halo,b=null!=y?.color&&y.size>0?{size:r(y.size),color:o.toUnitRGBA(y.color)}:{size:0,color:n},p=new s({color:m,size:g,background:{color:d,padding:null!=l.background?[.65*g,.5*g]:[0,0],borderRadius:null!=l.background?g*(6/16):0},lineSpacingFactor:u,font:h,halo:b,pixelRatio:a});if(l.font){let o=!1;const r=p.fontString(g);try{o=(await document.fonts.load(r)).some((o=>!t(o)))}catch(S){i.getLogger(\"esri.views.3d.webgl-engine.lib.TextRenderParameters\").warnOnce(`Failed to preload font '${r}'. Some text symbology may be rendered using the default browser font.`)}if(!o&&!c.has(l.font.family))try{await e(l.font)}catch(S){}}return p}}function l(o){return`rgb(${o.slice(0,3).map((o=>Math.floor(255*o))).toString()})`}function a(o){return`rgba(${o.slice(0,3).map((o=>Math.floor(255*o))).toString()},${o[3]})`}const c=new Set([\"Arial\",\"Times New Roman\",\"Courier New\",\"serif\",\"sans-serif\",\"monospace\",\"cursive\",\"fantasy\",\"system-ui\",\"ui-serif\",\"ui-sans-serif\",\"ui-monospace\",\"ui-rounded\",\"math\",\"emoji\",\"fangsong\"]);export{s as TextRenderParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import s from\"../../../../core/Evented.js\";import{disposeMaybe as i,removeMaybe as r}from\"../../../../core/maybe.js\";import{generateUID as n}from\"../../../../core/uid.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{s as o}from\"../../../../chunks/vec42.js\";import{create as _,ZEROS as l}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ContentObjectType as c}from\"./ContentObjectType.js\";import{textTextureAtlas as d}from\"./testUtils.js\";import{applyTextureResizeModulo as u}from\"./textureUtils.js\";import{VertexAttribute as m}from\"./VertexAttribute.js\";import{TaskPriority as g}from\"../../../support/Scheduler.js\";import{Yield as p}from\"../../../support/Yield.js\";import{TextureWrapMode as f,TextureSamplingMode as x}from\"../../../webgl/enums.js\";import{Texture as w}from\"../../../webgl/Texture.js\";import{TextureDescriptor as T}from\"../../../webgl/TextureDescriptor.js\";const b=4096;let j=class extends e{constructor(t){super(t),this.type=c.Texture,this.id=n(),this.events=new s,this._glTexture=null,this._atlas=new k(256,256),this._needsRepack=!1,this._canRepack=!0,this._elementsToRender=new Map,this._elements=new Map,this._stageObjects=new Map,this.updating=!1}initialize(){this._canvas=document.createElement(\"canvas\"),this._canvas.setAttribute(\"id\",\"textAtlasCanvas\"),this._canvas.setAttribute(\"style\",\"display:none\"),this._ctx=this._canvas.getContext(\"2d\"),this._stage=this.view._stage,this._stage.add(this),this._updateCanvasElementSize(this._atlas),this._reset()}unload(){this._glTexture=i(this._glTexture),this.updating=!1,this.events.emit(\"unloaded\")}get glTexture(){return this._glTexture}static get maxSize(){return S=d.stableRendering?A:0,[b-A-S,b-A-S-R]}load(t){if(this._glTexture)return this._glTexture;const e=new T;return e.wrapMode=f.CLAMP_TO_EDGE,e.samplingMode=x.LINEAR_MIPMAP_LINEAR,e.hasMipmap=!0,e.preMultiplyAlpha=!0,e.maxAnisotropy=t.parameters.maxMaxAnisotropy,this._glTexture=new w(t,e,this._canvas),this._frameWorker=this.view.resourceController.scheduler.registerTask(g.TEXT_TEXTURE_ATLAS,this),this.setDirty(),this._glTexture}dispose(){this._elements.clear(),this._elementsToRender.clear(),this._frameWorker=r(this._frameWorker),this._glTexture&&(this._stage.remove(this),this._glTexture=i(this._glTexture)),this._canvas.width=0,this._canvas.height=0,this._canvas=null,this._ctx=null}_updateCanvasElementSize(t){this._canvas.setAttribute(\"width\",t.width.toString()),this._canvas.setAttribute(\"height\",t.height.toString())}_resizeAtlas(t,e){const{width:s,height:i}=this._atlas;s===t&&i===e||(this._atlas.width=t,this._atlas.height=e,this._glTexture?.resize(t,e),this._glTexture?.updateData(0,0,0,s,i,this._canvas),this._updateCanvasElementSize(this._atlas),this._elements.forEach((t=>{const e=this._stageObjects.get(t.textRenderer.key);e?.forEach((e=>y(e,t)))})),this._reset())}_reset(){this._elementsToRender.clear(),this._atlas.reset(),this._needsRepack=!0,this.setDirty()}_addAtlasElement(t,e,s,i){const r=this._atlas;if(r.width<s||r.height<i)return!1;let n=r.cursors.get(i);if(!n){if(r.height<r.nextY+i)return!1;n=[new E(r.nextY)],r.cursors.set(i,n),r.nextY+=i}let h=n.find((t=>r.width>=t.x+s));if(null==h){if(r.height<r.nextY+i)return!1;h=new E(r.nextY),r.nextY+=i,n.push(h)}return t.setNewPosition(h),this._elements.set(e,t),this._elementsToRender.set(e,t),h.x+=s,!0}_ensureStageObjects(t){const e=this._stageObjects.get(t);if(e)return e;const s=new Set;return this._stageObjects.set(t,s),s}_addStageObject(t,e){this._ensureStageObjects(t).add(e)}_removeStageObject(t,e){const s=this._stageObjects.get(t);s?.delete(e)&&(e.geometries[0].setAttributeData(m.SIZE,[0,0]),e.geometryVertexAttributeUpdated(e.geometries[0],m.SIZE),this._elementsToRender.delete(t))}_processAddition(t){const e=t.textRenderer.key;if(this._needsRepack)return void this._elements.set(e,t);const s=this._atlas,i=t.textRenderer.renderedWidth,r=t.textRenderer.renderedHeight,n=i+A,h=r+A+R;if(!this._addAtlasElement(t,e,n,h)){if(this._canRepack)this._reset();else if(s.width<n){const t=Math.min(u(Math.max(n,1.5*s.width)),b);this._resizeAtlas(t,s.height)}else{const t=s.nextY+h,e=Math.min(u(Math.max(t,1.5*s.height)),b);if(e>s.height)this._resizeAtlas(s.width,e);else if(s.width<b){const t=Math.min(u(1.5*s.width),b);this._resizeAtlas(t,s.height)}}this._elements.set(e,t)}}_renderElement(t){const e=t.commitNewPosition(),s=t.textRenderer;this._ctx.clearRect(e[0]-A,e[1]-A,s.renderedWidth+2*A,s.renderedHeight+2*A),s.render(this._ctx,e[0],e[1]);const i=this._stageObjects.get(s.key);i?.forEach((e=>y(e,t)))}get running(){return this.updating}runTask(t){if(null==this._glTexture)return p;for(;this._needsRepack&&(this._canRepack||this._atlas.height<b&&this._atlas.height<b);){this._canRepack=this._needsRepack=!1;const e=this._elements;this._elements=new Map,e.forEach((t=>this._processAddition(t))),t.madeProgress()}if(this._elementsToRender.size>0){for(const[e,s]of this._elementsToRender){if(t.done)break;this._renderElement(s),this._elementsToRender.delete(e),t.madeProgress()}this._glTexture.setData(this._canvas)}this.updating=this._elementsToRender.size>0}addTextTexture(t,e){const s=t.key;this._addStageObject(s,e);let i=this._elements.get(s);null==i&&(i=new O(this._atlas,t),this._processAddition(i),this.setDirty()),v(e,i),y(e,i)}removeTextTexture(t,e){const s=t.key;if(!this._elements.get(s))return;this._removeStageObject(s,e);const i=this._stageObjects.get(s);i&&0!==i.size||this._elements.delete(s),0===i?.size&&this._stageObjects.delete(s),this._canRepack=!0}setDirty(){this._glTexture&&(this.updating=!0)}get test(){const{_elements:t,_stageObjects:e,_atlas:s}=this,i=this;return{elements:t,stageObjects:e,atlas:s,resizeAtlas:(t,e)=>i._resizeAtlas(t,e),run:t=>i.runTask(t)}}};function v(t,e){t.geometries[0].setAttributeData(m.SIZE,[e.textRenderer.displayWidth,e.textRenderer.displayHeight]),t.geometryVertexAttributeUpdated(t.geometries[0],m.SIZE)}function y(t,e){t.geometries[0].setAttributeData(m.UV0,e.uv),t.geometryVertexAttributeUpdated(t.geometries[0],m.UV0,!0)}t([h({constructOnly:!0})],j.prototype,\"view\",void 0),t([h({type:Boolean})],j.prototype,\"updating\",void 0),j=t([a(\"esri.views.3d.webgl-engine.lib.TextTextureAtlas\")],j);const A=2,R=2;class O{constructor(t,e){this._atlas=t,this.textRenderer=e,this._uv=_(),this._newPosition=[0,0]}get uv(){if(null==this._xOffset||null==this._yOffset)return l;const{renderedWidth:t,renderedHeight:e}=this.textRenderer;return o(this._uv,this._xOffset/this._atlas.width,(this._yOffset+e)/this._atlas.height,(this._xOffset+t)/this._atlas.width,this._yOffset/this._atlas.height)}setNewPosition(t){this._newPosition[0]=t.x,this._newPosition[1]=t.y}commitNewPosition(){return this._xOffset=this._newPosition[0],this._yOffset=this._newPosition[1],this._newPosition}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}}class k{constructor(t,e){this.width=t,this.height=e,this.cursors=new Map,this.nextY=0}reset(){this.cursors.clear(),this.nextY=S}}class E{constructor(t){this.y=t,this.x=S}}let S=0;export{j as TextTextureAtlas};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass e{constructor(e,s){this.scheduler=e,this.schedule=s,this.sharedResources=null,this.streamDataRequester=null,this.elevationProvider=null,this.renderer=null,this.stage=null,this.clippingExtent=null,this.renderCoordsHelper=null,this.overlaySR=null,this.layer=null,this.drapeSourceRenderer=null,this.graphicsCoreOwner=null,this.localOriginFactory=null,this.featureExpressionInfoContext=null,this.screenSizePerspectiveEnabled=!0,this.slicePlaneEnabled=!1,this.physicalBasedRenderingEnabled=!1,this.skipHighSymbolLods=!1,this.isAsync=!1}}class s{constructor(){this.renderPriority=0,this.renderPriorityStep=1,this.ignoreDrivers=!1}}export{e as Graphics3DSymbolCreationContext,s as Graphics3DSymbolLayerCreationContext};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{emptyArray as e}from\"../../../../core/arrayUtils.js\";import{forEach as t}from\"../../../../core/asyncUtils.js\";import{estimateAttributesObjectSize as i}from\"../../../../core/byteSizeEstimations.js\";import r from\"../../../../core/ObjectPool.js\";import{scale as s}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{h as o}from\"../../../../chunks/vec32.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import n from\"../../../../geometry/Polygon.js\";import{projectBoundingRect as h}from\"../../../../geometry/projection/projectBoundingRect.js\";import{set as c,zero as p,empty as y,expandWithAABB as m,allFinite as u,toRect as d}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as b,allFinite as g}from\"../../../../geometry/support/aaBoundingRect.js\";import{equals as f}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{computeAABR as L}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{convertFromGeometry as _}from\"../../../../layers/graphics/featureConversionUtils.js\";import{VisibilityFlag as E,VisibilityGroup as G}from\"./enums.js\";import{createFeature as j}from\"./featureExpressionInfoUtils.js\";const x=new r(Array,(e=>c(e,p)),null,10,5),v=b();class A{get labelLayers(){return this._labelLayers||e}get extent(){return this._extent}get isElevationSource(){return this.layers.some((e=>e?.isElevationSource))}constructor(e,t,i,r,s){this.graphic=e,this.graphics3DSymbol=t,this.layers=i,this._visibleFlags=E.ALL_LABEL,this.deconflictionPriority=0,++t.referenced,this._featureExpressionFeature=s?j(s,e,r):null}initialize(e){this._layer=e,this._forEachSymbolLayerGraphic((t=>{t.initialize(e),t.setVisibility(this.isVisible())}))}destroy(){this._forEachSymbolLayerGraphic((e=>e.destroy())),this._calloutLayer=null,--this.graphics3DSymbol.referenced,this.graphics3DSymbol=null}get destroyed(){return null==this.layers}clearLabelGraphics(){this._forEachLabelGraphic((e=>e.destroy())),this._labelLayers=null}addLabelGraphic(e,t){this._labelLayers||(this._labelLayers=new Array),this._labelLayers.push(e),e.initialize(t),e.setVisibility(this.isVisible(G.LABEL))}setCalloutGraphic(e){this._calloutLayer=e,this._layer&&(e.initialize(this._layer),e.setVisibility(this.isVisible()))}get calloutLayer(){return this._calloutLayer}get isDraped(){let e=!1;return this._forEachSymbolLayerGraphic((t=>{\"draped\"===t.type&&(e=!0)})),e}isVisible(e=G.GRAPHIC,t){const i=t?this._visibleFlags|t|G.LABEL*t:this._visibleFlags;return e===G.GRAPHIC?(i&E.ALL_GRAPHIC)===E.ALL_GRAPHIC:(i&E.ALL_LABEL)===E.ALL_LABEL}setVisibilityFlag(e,t,i){const r=this.isVisible(e);i?this._visibleFlags|=e*t:this._visibleFlags&=~(e*t);const s=this.isVisible(e);if(r===s)return!1;if(e===G.LABEL)this._forEachLabelGraphic((e=>e.setVisibility(s)));else{this._forEachSymbolLayerGraphic((e=>e.setVisibility(s)));const e=this.isVisible(G.LABEL);this._forEachLabelGraphic((t=>t.setVisibility(e)))}return!0}getVisibilityFlag(e,t){return!!(this._visibleFlags&e*t)}computeExtent(e){if(!this._extent){const t=this.graphic.geometry;if(null==t)return!1;this._extent=b(),L(t,this._extent);const i=t.spatialReference;if(!f(i,e)&&!h(this._extent,i,this._extent,e))return this._extent=null,!1}return!0}getAsOptimizedGeometry(e,t){return this._optimizedGeometry||(this._optimizedGeometry=this._convertGraphicToOptimizedGeometry(this.graphic,e,t)),this._optimizedGeometry}_convertGraphicToOptimizedGeometry(e,t,i){let r=e.geometry;return\"mesh\"!==r.type&&\"extent\"!==r.type||(r=n.fromExtent(\"mesh\"===r.type?r.extent:r)),_(r,t,i)}get usedMemory(){let e=i(this.graphic.attributes);return this._forEachSymbolLayerGraphic((t=>e+=t.graphics3DSymbolLayer.usedMemory)),e}computeAttachmentOrigin(){const e={render:{origin:l(),num:0},draped:{origin:a(),num:0}};for(const t of this.layers)null!=t&&t.computeAttachmentOrigin(e);return e.render.num>1&&o(e.render.origin,e.render.origin,1/e.render.num),e.draped.num>1&&s(e.draped.origin,e.draped.origin,1/e.draped.num),e}async getProjectedBoundingBox(e,i,r,s,a){return a||(a={boundingBox:null,requiresDrapedElevation:!1,screenSpaceObjects:[]}),a.boundingBox?y(a.boundingBox):a.boundingBox=y(),a.requiresDrapedElevation=!1,await t(this.layers,(async t=>{if(null==t)return;const o=\"draped\"===t.type?i:e,l=x.acquire(),n=await t.getProjectedBoundingBox(o,r,a.screenSpaceObjects,s,l);isFinite(n[2])&&isFinite(n[5])||(a.requiresDrapedElevation=!0),n&&m(a.boundingBox,l),x.release(l)})),u(a.boundingBox)||g(d(a.boundingBox,v))?a:null}needsElevationUpdates(){for(const e of this.layers)if(null!=e&&(\"object3d\"===e.type||\"lod-instance\"===e.type)&&e.needsElevationUpdates)return!0;return this._labelLayers?.some((e=>e?.needsElevationUpdates??!1))??!1}alignWithElevation(e,t,i){this._forEachRenderedGraphic((r=>{\"object3d\"!==r.type&&\"lod-instance\"!==r.type||r.alignWithElevation(e,t,this._featureExpressionFeature,i)}))}alignWithAbsoluteElevation(e,t,i){this._forEachRenderedGraphic((r=>{\"object3d\"===r.type&&r.alignWithAbsoluteElevation(e,t,i)}))}addObjectStateSet(e,t){this._forEachSymbolLayerGraphic((i=>i.addObjectState(e,t)))}removeObjectState(e){this._forEachSymbolLayerGraphic((t=>t.removeObjectState(e)))}_forEachGraphicList(e,t){e?.forEach((e=>e&&t(e)))}_forEachSymbolLayerGraphic(e){this._forEachGraphicList(this.layers,e),this._calloutLayer&&e(this._calloutLayer)}_forEachLabelGraphic(e){this._forEachGraphicList(this._labelLayers,e)}_forEachRenderedGraphic(e){this._forEachSymbolLayerGraphic(e),this._forEachLabelGraphic(e)}get test(){const e=this;return{addLabelLayer:t=>{e._labelLayers||(e._labelLayers=new Array),e._labelLayers.push(t)}}}}export{A as Graphics3DGraphic};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{projectBuffer as o}from\"../../../../geometry/projection/projectBuffer.js\";import{newDoubleArray as t,doubleSubArray as n}from\"../../../../geometry/support/DoubleArray.js\";import{pathsToTriangulationInfo as s,CounterClockwiseMode as i}from\"../../../../geometry/support/triangulationUtils.js\";import{applyPerVertexElevationAlignment as e}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{drapedZ as r}from\"../../terrain/OverlayRenderer.js\";function p(o,n,r,p){const c=s(o.rings,!!o.hasZ&&\"on-the-ground\"!==p.mode,i.CCW_IS_HOLE,o.spatialReference),h=t(c.position.length),a=e(c.position,o.spatialReference,0,h,0,c.position,0,c.position.length/3,n,r,p),g=null!=a;return new f(c.position,h,u(c.polygons,c.position,h),l(c.outlines,c.position,h),g,a)}function c(t,n){const e=s(t.rings,!1,i.CCW_IS_HOLE),p=o(e.position,t.spatialReference,0,e.position,n,0,e.position.length/3);for(let o=2;o<e.position.length;o+=3)e.position[o]=r;return{position:e.position,polygons:u(e.polygons,e.position),outlines:l(e.outlines,e.position),projectionSuccess:p}}function l(o,t,s=null){return o.filter((({count:o})=>o>1)).map((({index:o,count:i})=>{const e=3*o,r=3*i;return null!=s?new a(o,i,n(t,e,r),n(s,e,r)):new h(o,i,n(t,e,r))}))}function u(o,t,s=null){const i=new Array;for(const{index:e,count:r,holeIndices:p,pathLengths:c}of o){if(r<=1)continue;const o=3*e,l=3*r,u=p.map((o=>o-e)),h=null!=s?new g(e,r,n(t,3*e,3*r),n(s,o,l),u,c):new m(e,r,n(t,3*e,3*r),u,c);i.push(h)}return i}class h{constructor(o,t,n){this.index=o,this.count=t,this.position=n}}class a extends h{constructor(o,t,n,s){super(o,t,n),this.mapPositions=s}}class g extends a{constructor(o,t,n,s,i,e){super(o,t,n,s),this.holeIndices=i,this.pathLengths=e}}class m extends h{constructor(o,t,n,s,i){super(o,t,n),this.holeIndices=s,this.pathLengths=i}}class f{constructor(o,t,n,s,i,e){this.position=o,this.mapPositions=t,this.polygons=n,this.outlines=s,this.projectionSuccess=i,this.sampledElevation=e}}export{f as PolygonRenderInfo,g as PolygonVertexData,m as PolygonVertexDataDraped,p as geometryToRenderInfo,c as geometryToRenderInfoDraped};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import t from\"../../../../core/Error.js\";import{clone as e}from\"../../../../core/lang.js\";import{getMetersPerVerticalUnitForSR as r}from\"../../../../core/unitUtils.js\";import{e as s}from\"../../../../chunks/earcut.js\";import{normalFromMat4 as o}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{invert as i,invertOrIdentity as a}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{c,n as m,s as p,f as h,b as g,e as d,z as u}from\"../../../../chunks/vec32.js\";import{fromArray as f,create as y}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{computeTranslationToOriginAndRotation as b}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{create as _,empty as x,expandWithBuffer as S,intersectsClippingArea as j}from\"../../../../geometry/support/aaBoundingBox.js\";import{newDoubleArray as P}from\"../../../../geometry/support/DoubleArray.js\";import{newIndexArray as E,getZeroIndexArray as M}from\"../../../../geometry/support/Indices.js\";import{a as O}from\"../../../../chunks/vec3.js\";import{makeVertexCandidate as w,makeEdgeCandidate as C}from\"../../../../layers/graphics/data/SnappingCandidate.js\";import{getDriverAxisSizeValue as I}from\"../../../../renderers/support/renderingInfoUtils.js\";import{ViewingMode as v}from\"../../../ViewingMode.js\";import{needsElevationUpdates3D as A,SampleElevationInfo as L}from\"./elevationAlignmentUtils.js\";import{Graphics3DObject3DGraphicLayer as z}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as B}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as D,computeCentroid as R}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as T}from\"./interfaces.js\";import{geometryAsPolygon as G}from\"./polygonUtils.js\";import{createMaterial as U}from\"../support/edgeUtils.js\";import{debugFlags as N}from\"../../support/debugFlags.js\";import{SamplePosition as V}from\"../../support/ElevationProvider.js\";import{geometryToRenderInfo as F}from\"../../support/renderInfoUtils/polygon.js\";import{NormalType as k}from\"../../webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{Attribute as H}from\"../../webgl-engine/lib/Attribute.js\";import{CullFaceOptions as W}from\"../../webgl-engine/lib/basicInterfaces.js\";import{ContentObjectType as q}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Geometry as Z}from\"../../webgl-engine/lib/Geometry.js\";import{isGeometryWithMapPositions as J}from\"../../webgl-engine/lib/GeometryWithMapPositions.js\";import{compressNormals as K,compressNormal as Q}from\"../../webgl-engine/lib/Normals.js\";import{Object3D as X}from\"../../webgl-engine/lib/Object3D.js\";import{VertexAttribute as Y}from\"../../webgl-engine/lib/VertexAttribute.js\";import{DefaultMaterial as $}from\"../../webgl-engine/materials/DefaultMaterial.js\";const tt=[\"polygon\",\"extent\"];class et extends B{constructor(t,e,r,s){super(t,e,r,s),this.ensureDrapedStatus(!1)}async doLoad(){if(!this._drivenProperties.size){const e=D(this._getSymbolSize());if(e)throw new t(\"graphics3dextrudesymbollayer:invalid-size\",e)}const e=this.symbolLayer?.material?.color,r=this._getCombinedOpacityAndColor(e),s=f(r),o=r[3],n=o<1||this.needsDrivenTransparentPass,i={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0,diffuse:s,ambient:s,opacity:o,transparent:n,cullFace:n?W.None:W.Back,hasVertexColors:!0,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows,offsetTransparentBackfaces:!0,normalType:k.Compressed};this._materials[wt.Main]=new $(i),this._materials[wt.Bottom]=new $({...i,cullFace:W.Back}),this._context.stage.addMany(this._materials)}destroy(){super.destroy(),this._context.stage.removeMany(this._materials),this._materials.length=0}createGraphics3DGraphic(t){const e=t.graphic;if(!this._validateGeometry(e.geometry,tt,this.symbolLayer.type))return null;const r=this._getVertexOpacityAndColor(t.renderingInfo,255),s=this.setGraphicElevationContext(e);return this._createAs3DShape(e,t.renderingInfo,r,s,e.uid)}layerOpacityChanged(t,e){const r=this.symbolLayer?.material?.color,s=this._getCombinedOpacity(r),o=s<1||this.needsDrivenTransparentPass;this._materials[wt.Main]?.setParameters({opacity:s,transparent:o}),this._materials[wt.Bottom]?.setParameters({opacity:s,transparent:o});const n=this._getLayerOpacity();t.forEach((t=>{const r=e(t);null!=r&&r.layerOpacityChanged(n,this._context.isAsync)}))}layerElevationInfoChanged(t,e){return this.updateGraphics3DGraphicElevationInfo(t,e,A)}slicePlaneEnabledChanged(t,e){return this._materials[wt.Main]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),this._materials[wt.Bottom]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),t.forEach((t=>{const r=e(t);null!=r&&r.slicePlaneEnabledChanged(this._context.slicePlaneEnabled,this._context.isAsync)})),!0}physicalBasedRenderingChanged(){const t={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0};return this._materials[wt.Main]?.setParameters(t),this._materials[wt.Bottom]?.setParameters(t),!0}_getExtrusionSize(t){let e;return e=t.size&&this._drivenProperties.size?I(t.size,2)??0:this._getSymbolSize(),e/=this._context.renderCoordsHelper.unitInMeters,e}applyRendererDiff(t,e){return this._drivenPropertiesChanged(e)?T.RecreateSymbol:T.RecreateGraphics}async queryForSnapping(t,s,o,n){const i=this._getExtrusionSize(o)*this._context.renderCoordsHelper.unitInMeters/r(s),{objectId:a,target:l}=t,c=e(l);switch(c.z=(c.z??0)+i,t.type){case\"edge\":{const{start:r,end:s}=t,o=e(r),n=e(s);return o.z=(o.z??0)+i,n.z=(n.z??0)+i,[C(a,c,1/0,o,n)]}case\"vertex\":return[w(a,c,1/0),C(a,l,1/0,l,c)];default:return[]}}_getSymbolSize(){return this.symbolLayer.size??1}_createAs3DShape(t,e,r,a,c){const m=G(t.geometry);if(null==m)return null;if(0===m.rings.length||!m.rings.some((t=>t.length>0)))return this._logGeometryValidationWarnings(m.rings,\"rings\",\"ExtrudeSymbol3DLayer\"),null;const p=F(m,this._context.elevationProvider,this._context.renderCoordsHelper,a);this._logGeometryCreationWarnings(p,m.rings,\"rings\",\"ExtrudeSymbol3DLayer\");const h=R(m);if(null==h)return null;const g=new Array,d=new Array,u=_(),f=l(),M=y(),w=this._context.renderCoordsHelper.viewingMode===v.Global;w||this._context.renderCoordsHelper.worldUpAtPosition(null,M),b(m.spatialReference,[h.x,h.y,0],f,this._context.renderCoordsHelper.spatialReference);const C=l();i(C,f);const I=n();o(I,C);const{polygons:L,mapPositions:B,position:D}=p,T=new Map,N=this._materials[wt.Main];for(const o of L){const t=o.count;if(this._context.clippingExtent&&(x(u),S(u,o.mapPositions),!j(u,this._context.clippingExtent)))continue;const n=s(o.mapPositions,o.holeIndices,3);if(0===n.length)continue;const i=n.length,a=6*t,l=E(a+i),m=E(i),p=P(3*a),h=P(3*a),y=P(3*a),b=P(a);st(D,B,n,o,p,y,h,b,l,m,this._getExtrusionSize(e),M,w),O(p,p,C);const _=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:c,layerUid:this._context.layer.uid}),I=new Ct(p,y,K(h),b),v=rt(N,l,l.length-m.length,I,r,_),A=t,L=t,z=2*o.count,R=new It(A,L,z,i/3);ft(v,R,f),T.set(v,R),g.push(v,rt(this._materials[wt.Bottom],m,0,I,r,_)),d.push(I.heights)}if(0===g.length)return null;const V=new X({geometries:g,layerUid:this._context.layer.uid,graphicUid:c,isElevationSource:!0});V.transformation=f;const k=U(this.symbolLayer,{opacity:this._getLayerOpacity()}),H=null!=k?{baseMaterial:this._materials[wt.Main],edgeMaterials:[k],properties:{mergeGeometries:!0,hasSlicePlane:this._context.slicePlaneEnabled}}:null,W=new z(this,V,g,null,null,((t,e,r,s,o)=>ut(t,e,r,s,o,d,T)),a,H);return W.alignedSampledElevation=p.sampledElevation,W.needsElevationUpdates=A(a.mode),W}}function rt(t,e,r,s,o,n){const i=M(e.length),a=[[Y.POSITION,new H(s.positions,e,3,!0)],[Y.NORMALCOMPRESSED,new H(s.normals,e,2,!0)],[Y.COLOR,new H(o,i,4,!0)]];return new Z(t,a,s.elevation,q.Mesh,n,r)}function st(t,e,r,s,o,n,i,a,l,c,m,p,h){{const g=r.length/3,d=2*s.count;ot(t,e,s.index,s.count,r,0,g,o,n,i,a,l,c,d,m,p,h)}{let t=0,e=2*s.count,r=0;const c=s.pathLengths[0];at(o,n,a,i,t,c,s.count,e,l,r,m),e+=4*c,r+=2*c,t+=c;for(let p=1;p<s.pathLengths.length;++p){const c=s.pathLengths[p];at(o,n,a,i,t,c,s.count,e,l,r,m),e+=4*c,r+=2*c,t+=c}}}function ot(t,e,r,s,o,n,i,a,l,p,h,g,d,u,f,y,b){c(bt,y);{const o=f>0?1:-1;let n=3*r,i=0,c=3*i,g=s,d=3*g;for(let r=0;r<s;++r){const r=t[n],s=t[n+1],u=t[n+2];b&&(bt[0]=r,bt[1]=s,bt[2]=u,m(bt,bt)),a[c+0]=r,a[c+1]=s,a[c+2]=u;const y=e[n+0],_=e[n+1],x=e[n+2];l[c+0]=y,l[c+1]=_,l[c+2]=x,p[c+0]=-o*bt[0],p[c+1]=-o*bt[1],p[c+2]=-o*bt[2],h[i]=0,a[d+0]=r+f*bt[0],a[d+1]=s+f*bt[1],a[d+2]=u+f*bt[2],l[d+0]=y,l[d+1]=_,l[d+2]=x,h[g]=f,c+=3,d+=3,n+=3,i+=1,g+=1}}{let t=3*n,e=0,r=3*u;const a=f<0?St:xt,l=f<0?xt:St;for(let n=0;n<i;++n)d[e]=o[t+a[0]],d[e+1]=o[t+a[1]],d[e+2]=o[t+a[2]],g[r]=o[t+l[0]]+s,g[r+1]=o[t+l[1]]+s,g[r+2]=o[t+l[2]]+s,e+=3,r+=3,t+=3}}function nt(t,e,r,s,o,n,i){s[n]=s[i],i*=3,t[n*=3]=t[i],t[n+1]=t[i+1],t[n+2]=t[i+2],e[n]=e[i],e[n+1]=e[i+1],e[n+2]=e[i+2],r[n]=o[0],r[n+1]=o[1],r[n+2]=o[2]}const it=y();function at(t,e,r,s,o,n,i,a,l,c,m){let p=o,h=o+1,g=o+i,d=o+i+1,u=a,f=a+1,y=a+2*n,b=a+2*n+1;m<0&&(p=o+i+1,d=o);let _=3*c;for(let x=0;x<n;++x)x===n-1&&(h=o,m>0?d=o+i:p=o+i),gt(t,p,h,g,it),nt(t,e,s,r,it,u,p),nt(t,e,s,r,it,f,h),nt(t,e,s,r,it,y,g),nt(t,e,s,r,it,b,d),l[_]=u,l[_+1]=y,l[_+2]=b,l[_+3]=u,l[_+4]=b,l[_+5]=f,_+=6,p++,h++,g++,d++,u+=2,f+=2,y+=2,b+=2}const lt=y(),ct=y(),mt=y(),pt=y(),ht=y();function gt(t,e,r,s,o){e*=3,r*=3,s*=3,p(lt,t[e++],t[e++],t[e++]),p(ct,t[r++],t[r++],t[r++]),p(mt,t[s++],t[s++],t[s++]),h(pt,ct,lt),h(ht,mt,lt),g(o,ht,pt),m(o,o)}const dt=y();function ut(t,e,r,s,o,n,i){const c=t.stageObject,m=c.geometries,h=m.length,g=\"absolute-height\"!==e.mode;let u=0;const f=c.transformation,y=a(l(),f);for(let a=0;a<h;a+=2){const t=m[a];if(!J(t))continue;const e=t.getMutableAttribute(Y.POSITION).data,l=n[a/2],h=new V(t.mapPositions),b=e.length/3;let _=!1,x=0;{let t=0;for(let n=0;n<b;n++){dt[0]=e[t],dt[1]=e[t+1],dt[2]=e[t+2],s(h,_t),g&&(x+=_t.sampledElevation),N.TESTS_DISABLE_OPTIMIZATIONS?(p(yt,h.array[h.offset],h.array[h.offset+1],_t.z+l[t/3]),null!=r&&o.toRenderCoords(yt,r,yt),d(yt,yt,y)):(p(yt,e[t],e[t+1],e[t+2]),d(yt,yt,f),o.setAltitude(yt,_t.z+l[t/3]),d(yt,yt,y)),e[t]=yt[0],e[t+1]=yt[1],e[t+2]=yt[2];const n=jt/o.unitInMeters;(Math.abs(dt[0]-e[t])>=n||Math.abs(dt[1]-e[t+1])>=n||Math.abs(dt[2]-e[t+2])>=n)&&(_=!0),h.offset+=3,t+=3}}if(_){const e=i.get(t);e&&ft(t,e,f),c.geometryVertexAttributeUpdated(m[a],Y.NORMALCOMPRESSED),t.invalidateBoundingInfo(),c.geometryVertexAttributeUpdated(m[a],Y.POSITION),m[a+1].invalidateBoundingInfo(),c.geometryVertexAttributeUpdated(m[a+1],Y.POSITION)}u+=x/b}return u/h}function ft(t,e,r){const s=t.getMutableAttribute(Y.POSITION),o=t.getMutableAttribute(Y.NORMALCOMPRESSED).data,{topVertexStart:n,topVertexCount:i,topFaceStart:a,topFaceCount:l}=e,c=s.data,h=i,f=t.attributes.get(Y.POSITION).indices,y=a+l,b=n+i,_=P(3*h);for(let m=0;m<h;++m){const t=3*m;_[t+0]=0,_[t+1]=0,_[t+2]=0}const x=Pt,S=Et,j=Mt,E=Ot,M=bt;for(let P=a;P<y;++P){const t=3*P;for(let e=0;e<3;++e){const s=f[t+e];E[e]=s;const o=3*s;p(yt,c[o+0],c[o+1],c[o+2]),d(x[e],yt,r)}u(S,x[1],x[0]),u(j,x[2],x[0]),g(M,S,j),m(M,M);for(let e=0;e<3;++e){const t=3*(E[e]-n);_[t+0]+=M[0],_[t+1]+=M[1],_[t+2]+=M[2]}}for(let m=n;m<b;++m){const t=3*(m-n),e=_[t+0],r=_[t+1],s=_[t+2],i=Math.sqrt(e*e+r*r+s*s);Q(o,m,e/i,r/i,s/i)}}const yt=y(),bt=y(),_t=new L,xt=[0,2,1],St=[0,1,2],jt=.01,Pt=[y(),y(),y()],Et=y(),Mt=y(),Ot=[0,0,0];var wt;!function(t){t[t.Main=0]=\"Main\",t[t.Bottom=1]=\"Bottom\"}(wt||(wt={}));class Ct{constructor(t,e,r,s){this.positions=t,this.elevation=e,this.normals=r,this.heights=s}}class It{constructor(t,e,r,s){this.topVertexStart=t,this.topVertexCount=e,this.topFaceStart=r,this.topFaceCount=s}}export{et as Graphics3DExtrudeSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{s as e}from\"../../../../chunks/vec32.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as r,empty as i,expandWithRect as s,center as o,set as d,toRect as n}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as a}from\"../../../../geometry/support/aaBoundingRect.js\";import{demResolutionForBoundingBox as h}from\"./graphicUtils.js\";import{Object3DState as c}from\"../../webgl-engine/lib/basicInterfaces.js\";import{DirtyOperation as m,DirtyState as g}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";class l{constructor(e,t,r,i){this.graphics3DSymbolLayer=e,this.renderGeometries=t,this.boundingBox=r,this._drapeSourceRenderer=i,this.type=\"draped\",this.stage=null,this._visible=!1,this._addedToStage=!1,this.isElevationSource=!1}initialize(e){this.stage=e.stage}setVisibility(e){if(null!=this.stage&&this._visible!==e){if(this._visible=e,e&&!this._addedToStage)return this._addedToStage=!0,void this._drapeSourceRenderer.addGeometries(this.renderGeometries,m.ADD);if(e||this._addedToStage){for(const e of this.renderGeometries)e.visible=this._visible;this._drapeSourceRenderer.modifyGeometries(this.renderGeometries,g.VISIBILITY)}}}destroy(){this.stage&&this._addedToStage&&this._drapeSourceRenderer.removeGeometries(this.renderGeometries,m.REMOVE),this._addedToStage=!1,this._visible=!1,this.stage=null}getCenterObjectSpace(r=t()){return e(r,0,0,0)}getBoundingBoxObjectSpace(e=r()){return i(e)}addObjectState(e,t){e===c.Highlight&&(this.renderGeometries.forEach((e=>{const r=e.geometry.addHighlight();t.addRenderGeometry(e,r,this)})),this._addedToStage&&this._drapeSourceRenderer.modifyGeometries(this.renderGeometries,g.HIGHLIGHT))}removeObjectState(e){this.renderGeometries.forEach((t=>{e.removeRenderGeometry(t)}))}removeRenderGeometryObjectState(e,t){e.geometry.removeHighlight(t),this._addedToStage&&this._drapeSourceRenderer.modifyGeometries(this.renderGeometries,g.HIGHLIGHT)}computeAttachmentOrigin(e){for(const t of this.renderGeometries)t.geometry.computeAttachmentOrigin(f)&&(e.draped.origin[0]+=f[0],e.draped.origin[1]+=f[1],e.draped.num++)}async getProjectedBoundingBox(e,t,r,d,n){i(n);for(let i=0;i<this.renderGeometries.length;i++){const t=this.renderGeometries[i];this._getRenderGeometryProjectedBoundingRect(t,e,u,r),s(n,u)}if(t){let e;o(n,f);const r=h(n,t.service.spatialReference,t);try{e=await t.service.queryElevation(f[0],f[1],d,r,\"ground\")}catch(a){}null!=e&&(n[2]=Math.min(n[2],e),n[5]=Math.max(n[5],e))}return n}_getRenderGeometryProjectedBoundingRect(e,t,r,i){if(this.boundingBox)d(p,this.boundingBox);else{const t=e.boundingSphere,r=t[3];p[0]=t[0]-r,p[1]=t[1]-r,p[2]=t[2]-r,p[3]=t[0]+r,p[4]=t[1]+r,p[5]=t[2]+r}return t(p,0,2),this.calculateRelativeScreenBounds&&i.push({location:o(p),screenSpaceBoundingRect:this.calculateRelativeScreenBounds()}),n(p,r)}}const u=a(),p=r(),f=t();export{l as Graphics3DDrapedGraphicLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{result as t,createTask as r}from\"../../../../core/asyncUtils.js\";import i from\"../../../../core/Error.js\";import{clone as s}from\"../../../../core/lang.js\";import{abortMaybe as o,releaseMaybe as a}from\"../../../../core/maybe.js\";import{throwIfAbortError as n,throwIfAborted as l}from\"../../../../core/promiseUtils.js\";import{pt2px as c,px2pt as h}from\"../../../../core/screenUtils.js\";import{numericHash as m}from\"../../../../core/string.js\";import{dataComponents as u}from\"../../../../core/urlUtils.js\";import{fromValues as d,create as p}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{create as _,fromValues as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as y}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{projectPointToVector as g}from\"../../../../geometry/projection/projectPointToVector.js\";import{containsPoint as x}from\"../../../../geometry/support/aaBoundingBox.js\";import{createRendererExpression as b}from\"../../../../support/arcadeOnDemand.js\";import{CIMSymbolHelper as S}from\"../../../../symbols/cim/CIMSymbolHelper.js\";import{OverrideHelper as v}from\"../../../../symbols/cim/OverrideHelper.js\";import{evaluateValueOrFunction as P}from\"../../../../symbols/cim/utils.js\";import{scaleCIMSymbol as z}from\"../../../../symbols/support/cimSymbolUtils.js\";import{defaultPrimitive as R}from\"../../../../symbols/support/IconSymbol3DLayerResource.js\";import{Symbol3DAnchorPosition2D as w}from\"../../../../symbols/support/Symbol3DAnchorPosition2D.js\";import{getIconHref as M}from\"../../../../symbols/support/utils.js\";import C from\"../../../2d/arcade/callExpressionWithFeature.js\";import{transparentUnit as O}from\"./constants.js\";import{perObjectElevationAligner as j}from\"./ElevationAligners.js\";import{SymbolUpdateType as I,elevationModeChangeUpdateType as T,needsElevationUpdates2D as E}from\"./elevationAlignmentUtils.js\";import{Graphics3DDrapedGraphicLayer as U}from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as D}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as F}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as L}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as A}from\"./interfaces.js\";import{namedAnchorToHUDMaterialAnchorPos as G}from\"./placementUtils.js\";import{placePointOnGeometry as V,createStageObject as H,extendPointGraphicElevationContext as k}from\"./pointUtils.js\";import{initFastSymbolUpdatesState as B,updateFastSymbolUpdatesState as N,evaluateModelTransformScale as W,ConvertOptions as $}from\"../support/FastSymbolUpdates.js\";import{createTexture as q,requiresHalfTexelOffset as J,defaultSymbolSizeRatio as Z,defaultTexSize as K}from\"../../support/engineContent/sdfPrimitives.js\";import{drapedZ as Q}from\"../../terrain/OverlayRenderer.js\";import{createPointGeometry as X}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderGeometry as Y}from\"../../webgl-engine/lib/RenderGeometry.js\";import{Texture as ee}from\"../../webgl-engine/lib/Texture.js\";import{HUDMaterial as te}from\"../../webgl-engine/materials/HUDMaterial.js\";const re=f(0,0,1),ie=16,se=1.5,oe=Z,ae=[oe/2,oe/2,1-oe/2,1-oe/2],ne=[K*oe,K*oe];class le extends F{getCachedSize(){return{size:this._getIconSize()}}constructor(e,t,r,i){super(e,t,r,i),this._cimSymbolMaterials=new Map,this._cimSymbolTextures=new Map,this._cimMaterialParametersInfo=null,this._size=null,this._symbolTextureRatio=1,this._outlineSize=0,this._patchTask=null,this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!0}}async doLoad(e){this._validateOrThrow();const t=this._prepareMaterialParameters(),r=this._getPrimitive();if(null!=r)this._prepareResourcesPrimitive(t,r);else{const r=M(this.symbolLayer),i=me(r);null!=i?await this._prepareResourcesCIM(t,JSON.parse(i),e):await this._prepareResourcesHref(t,r,e)}}_validateOrThrow(){if(this._drivenProperties.size)return;const e=L(this._getIconSize());if(e)throw new i(\"graphics3diconsymbollayer:invalid-size\",e)}_getIconSize(){const e=this.symbolLayer,t=Math.round(null!=e.size?c(e.size):ie);return this._drivenProperties.size?Math.max(t,64):t}_generateTextureCIM(e){let t=this._cimData;if(t&&t.symbol||this.logger.error(\"Can't create texture, CIM data is undefined\"),t.primitiveOverrides){t=s(t);const r=t.primitiveOverrides;v.evaluateOverrides(r,e,this._arcadeInfo.geometryType,null,null),v.applyOverrides(t.symbol,r)}const r=m(JSON.stringify(t));let i=this._cimSymbolTextures.get(r);if(i)return i;const o=this._context.sharedResources.cimSymbolRasterizer,a=this._context.renderer&&\"dictionary\"===this._context.renderer.type?this._context.renderer.fieldMap:null;a&&v.applyDictionaryTextOverrides(t.symbol,e,a,null);const n=null!=this._cimScaleFactorOrFunction?P(this._cimScaleFactorOrFunction,e):1;1!==n&&t.symbol&&z(t.symbol,n,!0);const l=S.getEnvelope(t,null,o.resourceManager);if(l&&l.width&&l.height){const e=l.x+l.width/2,r=l.y+l.height/2,s=o.rasterize({type:\"cim\",data:t},l.width,l.height,e,r,1,\"esriGeometryPoint\"),a=new w({x:-l.x/l.width-.5,y:(l.height+l.y)/l.height-.5});this._cimMaterialParametersInfo.anchorPosition=ue(\"relative\",a),i=new ee(s,{width:s?.width??1,height:s?.height??1})}else i=new ee(new ImageData(1,1),{width:1,height:1});return this._cimSymbolTextures.set(r,i),this._context.stage.add(i),i}_prepareMaterialParameters(){const e={anchorPosition:ue(this.symbolLayer.anchor,this.symbolLayer.anchorPosition)},t=this.symbol;if(ce(t)){const{screenLength:r,minWorldLength:i,maxWorldLength:s}=t.verticalOffset;e.verticalOffset={screenLength:c(r),minWorldLength:i||0,maxWorldLength:null!=s?s:1/0}}return this._context.screenSizePerspectiveEnabled&&(e.screenSizePerspective=this._context.sharedResources.screenSizePerspectiveSettings),e.occlusionTest=!0,e.hasSlicePlane=this._context.slicePlaneEnabled,e}_prepareResourcesPrimitive(e,t){const r=this._getOutlineSize();if(he(t)&&0===r)throw new Error(\"Nothing to render\");if(this._outlineSize=r,e.color=this._getFillColor(),e.outlineColor=this._getOutlineColor(),e.outlineSize=this._outlineSize,null!=this._context.sharedResources.textures){const r=this._context.sharedResources.textures.fromData(`${t}-icon`,(()=>q(t)));this._textureHandle=r,e.textureId=r.texture.id}e.textureIsSignedDistanceField=!0,e.sampleSignedDistanceFieldTexelCenter=J(t),e.distanceFieldBoundingBox=ae;const i=this._getIconSize();this._size=[i,i],this._symbolTextureRatio=1/oe,this._createMaterialAndAddToStage(e,this._context.stage)}async _prepareResourcesHref(e,r,s){this._outlineSize=this._getOutlineSize(),e.color=this._getFillColor(),e.outlineColor=this._getOutlineColor(),e.outlineSize=this._outlineSize,e.textureIsSignedDistanceField=!1;const o=this._getIconSize(),a=o*this._context.graphicsCoreOwner.view.state.rasterPixelRatio;if(null!=this._context.sharedResources.textures){const l=await t(this._context.sharedResources.textures.fromUrl(r,a,{signal:s}));if(!1===l.ok){n(l.error);throw new i(\"graphics3diconsymbollayer:request-failed\",`Failed to load (Request for icon resource failed: ${r})`)}this._textureHandle=l.value;const c=l.value.texture;this._size=de(c,o),e.textureId=c.id}this._createMaterialAndAddToStage(e,this._context.stage)}async _prepareResourcesCIM(e,t,r){if(this._cimData=t,!this._context.sharedResources.cimSymbolRasterizer){const e=(await import(\"../../../../symbols/cim/CIMSymbolRasterizer.js\")).CIMSymbolRasterizer;l(r),this._context.sharedResources.cimSymbolRasterizer||(this._context.sharedResources.cimSymbolRasterizer=new e(this._context.renderCoordsHelper.spatialReference))}const i=this._context.sharedResources.cimSymbolRasterizer,s=[],o=t,a=o?.symbol;S.fetchResources(a,i.resourceManager,s,r),S.fetchFonts(a,i.resourceManager,s);const n=this._context.layer.fields?this._context.layer.fields.map((e=>e.toJSON())):[],c=this._context.renderCoordsHelper.spatialReference;if(this._arcadeInfo={spatialReference:c,fields:n,geometryType:\"esriGeometryPoint\"},o?.primitiveOverrides&&s.push(v.createRenderExpressions(o.primitiveOverrides,this._arcadeInfo)),s.length>0&&(await Promise.all(s),l(r)),this._context.renderer&&\"dictionary\"===this._context.renderer.type&&this._context.renderer.scaleExpression){const e=this._context.renderer;if(e.scaleExpression){const t=e.scaleExpression,r=await b(t,this._context.layer.spatialReference,n);this._cimScaleFactorOrFunction=(e,t,i)=>{const s=C(r,e,{$view:i},\"esriGeometryPoint\",t);return null!==s?s:1}}}l(r),this._cimMaterialParametersInfo=e,this._cimMaterialParametersInfo.color=this._getFillColor(),this._cimMaterialParametersInfo.outlineColor=[0,0,0,0],this._cimMaterialParametersInfo.outlineSize=0,this._cimMaterialParametersInfo.textureIsSignedDistanceField=!1}_getPrimitive(){return this.symbolLayer.resource&&this.symbolLayer.resource.href?null:this.symbolLayer.resource&&this.symbolLayer.resource.primitive||R}_getOutlineSize(){let e=0;const t=this.symbolLayer;if(null!=t.outline?.size)return Math.max(c(t.outline.size),0);return e=he(this._getPrimitive())?se:0,Math.max(e,0)}_getOutlineColor(){const t=this._getLayerOpacity(),r=this.symbolLayer,i=r?.outline?.color;if(null!=i){const r=e.toUnitRGB(i),s=i.a*t;return[r[0],r[1],r[2],s]}return[0,0,0,0]}_getFillColor(){if(he(this._getPrimitive()))return O;const e=null==this._getPrimitive(),t=this.symbolLayer?.material?.color;return this._getCombinedOpacityAndColor(t,{hasIntrinsicColor:e})}_createMaterialAndAddToStage(e,t){if(this._cimData){this._fastUpdates=null;let r=e.textureId?this._cimSymbolMaterials.get(e.textureId):null;return r||(r=new te(e),this._cimSymbolMaterials.set(e.textureId??0,r),t.add(r)),r}return this._fastUpdates=B(this._context.renderer,this._fastVisualVariableConvertOptions()),this._fastUpdates&&(e={...e,...this._fastUpdates.materialParameters}),this._materials[0]=new te(e),t.add(this._materials[0]),this._materials[0]}_setDrapingDependentMaterialParameters(){this.draped&&(this._forEachMaterial((e=>{e.setParameters({verticalOffset:null,screenSizePerspective:null,occlusionTest:!1,hasSlicePlane:!1,shaderPolygonOffset:0,draped:this.draped})})),this.layerOpacityChanged())}destroy(){super.destroy(),this._patchTask=o(this._patchTask),this._forEachMaterial((e=>this._context.stage.remove(e))),this._materials.length=0,this._cimSymbolMaterials.clear(),this._cimSymbolTextures.forEach((e=>this._context.stage.remove(e))),this._cimSymbolTextures.clear(),this._textureHandle=a(this._textureHandle)}_getScaleFactor(e,t){if(this._drivenProperties.size&&e.size){for(let t=0;t<3;t++){const r=e.size[t];r&&\"symbol-value\"!==r&&\"proportional\"!==r&&(e.size[t]=c(r))}if(\"symbol-value\"===e.size[0])return 1;if(isFinite(+e.size[0]))return+e.size[0]/t;if(isFinite(+e.size[2]))return+e.size[2]/t}return 1}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry))return null;let r,i=[0,0];if(this._cimData){if(!this._cimData.symbol)return null;const e=this._generateTextureCIM(t),s={textureId:e.id,...this._cimMaterialParametersInfo};r=this._createMaterialAndAddToStage(s,this._context.stage);const o=window.devicePixelRatio||1;i=[e.parameters.width/o,e.parameters.height/o]}else i=this._size,r=this._materials[0];const s=V(t.geometry);if(null==s)return this.logger.warn(`unsupported geometry type for icon symbol: ${t.geometry.type}`),null;const o=e.renderingInfo,a=this._getVertexOpacityAndColor(o);let n=1;if(!this._fastUpdates?.visualVariables.size){const e=i[0]>i[1]?i[0]:i[1];n=this._getScaleFactor(o,e)}n*=this._symbolTextureRatio;const l=d(i[0]*n,i[1]*n),c=this.setGraphicElevationContext(t);return this.ensureDrapedStatus(\"on-the-ground\"===c.mode)&&this._setDrapingDependentMaterialParameters(),this.draped?this._createAsOverlay(t,s,r,a,l,e.layer.uid):this._createAs3DShape(t,s,r,a,l,c,t.uid)}layerOpacityChanged(){const e=this._getFillColor(),t=this._getOutlineColor();this._forEachMaterial((r=>{r.setParameters({color:e}),r.setParameters({outlineColor:t})}))}layerElevationInfoChanged(e,t,r){const i=this._elevationContext.mode,s=T(le.elevationModeChangeTypes,r,i);if(s!==I.UPDATE)return s;const o=E(i)||\"absolute-height\"===i;return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>o))}slicePlaneEnabledChanged(){return this.draped||this._forEachMaterial((e=>{e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})})),!0}physicalBasedRenderingChanged(){return!0}get pixelRatioChanged(){return null!=this._getPrimitive()}applyRendererDiff(e,t){for(const r in e.diff){if(\"visualVariables\"!==r)return A.RecreateSymbol;if(!N(this._fastUpdates,t,this._fastVisualVariableConvertOptions()))return A.RecreateSymbol;this._materials[0]?.setParameters(this._fastUpdates.materialParameters)}return A.FastUpdate}prepareSymbolLayerPatch(e){if(this._patchTask?.abort(),\"partial\"!==e.diff.type)return;const t=e.diff.diff;this._preparePatchResource(e,t)}_preparePatchResource(e,s){if(!s.resource||\"partial\"!==s.resource.type)return;const c=s.resource.diff;if(\"complete\"!==c?.href?.type)return;const h=c.href.newValue,{textures:m}=this._context.sharedResources;if(null==h||null==m||null!=me(h))return;const u=this._getIconSize(),d=u*this._context.graphicsCoreOwner.view.state.pixelRatio;e.symbolLayerStatePatches.push((()=>{this._patchTask=o(this._patchTask),this._patchTask=r((e=>this._context.schedule((async(e,r)=>{const s=await t(m.fromUrl(h,d,{signal:r}));l(r);const o=!s.ok;if(o&&n(s.error),this._textureHandle=a(this._textureHandle),this._patchTask=null,o){this._forEachMaterial((e=>{e.visible=!1,e.setParameters({textureId:null})}));const e=`Failed to load (Request for icon resource failed: ${h})`;return void this.logger.error(new i(\"graphics3diconsymbollayer:request-failed\",e))}this._textureHandle=s.value;const c=s.value.texture;this._size=de(c,u),this._forEachMaterial((e=>{e.setParameters({textureId:c.id}),e.visible=!0}))}),e)))})),delete c.href}_defaultElevationInfoNoZ(){return pe}_createAs3DShape(e,t,r,i,s,o,a){const n=this.getFastUpdateAttrValues(e),l=this._context.layer.uid,c=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:a,layerUid:l}),h=X(r,re,null,i,s,_e,null,n,c),m=H(this._context,t,h,o,a);if(null==m)return null;const u=new D(this,m.object,[h],null,null,j,o);return u.alignedSampledElevation=m.sampledElevation,u.needsElevationUpdates=E(o.mode)||\"absolute-height\"===o.mode,u.getScreenSize=this._createScreenSizeGetter(s,n),u.calculateRelativeScreenBounds=e=>r.calculateRelativeScreenBounds(u.getScreenSize(),1,e),k(u,t,this._context.elevationProvider),u}_createAsOverlay(e,t,r,i,s,o){r.renderPriority=this._renderPriority;const a=_();g(t,a,this._context.overlaySR),a[2]=Q;const n=this._context.clippingExtent;if(null!=n&&!x(n,a))return null;const l=this.getFastUpdateAttrValues(e),c=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:e.uid,layerUid:this._context.layer.uid}),h=X(r,re,a,i,s,null,null,l,c),m=new Y(h,{layerUid:o,graphicUid:e.uid}),u=new U(this,[m],null,this._context.drapeSourceRenderer);return u.getScreenSize=this._createScreenSizeGetter(s,l),u.calculateRelativeScreenBounds=e=>r.calculateRelativeScreenBounds(u.getScreenSize(),1,e),u}_createScreenSizeGetter(e,t){const r=this._outlineSize+2;if(this._fastUpdates&&t){const i=e[0]/this._symbolTextureRatio,s=e[1]/this._symbolTextureRatio;return(e=p())=>{const[o,a]=W(fe,this._fastUpdates.materialParameters,t);return e[0]=o*i+r,e[1]=a*s+r,e}}const i=e[0]/this._symbolTextureRatio+r,s=e[1]/this._symbolTextureRatio+r;return(e=p())=>(e[0]=i,e[1]=s,e)}_fastVisualVariableConvertOptions(){const e=Math.max(this._size[0],this._size[1]),t=f(e,e,e),r=h(1),i=e*r,s=f(i,i,i);return new $({size:!0,color:!0,rotation:!0,opacity:!1},t,s,r)}_forEachMaterial(e){this._materials.forEach(e),this._cimSymbolMaterials.forEach(e)}test(){return{...super.test(),material:this._materials[0]}}}function ce(e){return e&&\"point-3d\"===e.type&&e.hasVisibleVerticalOffset()}function he(e){return null!=e&&(\"cross\"===e||\"x\"===e)}function me(e){const t=u(e);return\"application/json\"===t?.mediaType?t.data:void 0}function ue(e,t){return\"relative\"===e?d((t.x||0)+.5,.5-(t.y||0)):e in G?G[e]:G.center}function de({parameters:e},t){const r=(e.width??1)/(e.height??1);return r>1?[t,Math.round(t/r)]:[Math.round(t*r),t]}le.PRIMITIVE_SIZE=ne,le.elevationModeChangeTypes={definedChanged:I.UPDATE,staysOnTheGround:I.NONE,onTheGroundChanged:I.RECREATE};const pe={mode:\"relative-to-ground\",offset:0},_e=y(0,0,0,1),fe=_();export{le as Graphics3DIconSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{CapType as e}from\"../../webgl-engine/shaders/RibbonLineTechniqueConfiguration.js\";function n(n){switch(n){case\"butt\":return e.BUTT;case\"square\":return e.SQUARE;case\"round\":return e.ROUND;default:return null}}function r(e){return\"diamond\"===e?\"kite\":e}export{n as parseCapType,r as parseLineMarkerStyle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import e from\"../../../../core/Error.js\";import{px2pt as t,pt2px as r}from\"../../../../core/screenUtils.js\";import{fromValues as i,clone as a}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{create as s,empty as n,expandWithBuffer as o,intersectsClippingArea as l,expandWithAABB as m}from\"../../../../geometry/support/aaBoundingBox.js\";import{getDriverAxisSizeValueAny as h}from\"../../../../renderers/support/renderingInfoUtils.js\";import{sharedGeometryElevationAligner as p}from\"./ElevationAligners.js\";import{SymbolUpdateType as c,elevationModeChangeUpdateType as d,needsElevationUpdates2D as y}from\"./elevationAlignmentUtils.js\";import{Graphics3DDrapedGraphicLayer as u}from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as _}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as g}from\"./Graphics3DSymbolLayer.js\";import{ApplyRendererDiffResult as f}from\"./interfaces.js\";import{parseCapType as b,parseLineMarkerStyle as M}from\"./lineUtils.js\";import{initFastSymbolUpdatesState as L,updateFastSymbolUpdatesState as E,getAttributeValue as P,ConvertOptions as v}from\"../support/FastSymbolUpdates.js\";import{debugFlags as C}from\"../../support/debugFlags.js\";import{createGeometry as R}from\"../../support/engineContent/line.js\";import{geometryToRenderInfo as w,geometryToRenderInfoDraped as x}from\"../../support/renderInfoUtils/line.js\";import{Object3D as D}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as k}from\"../../webgl-engine/lib/RenderGeometry.js\";import{LineMarkerMaterial as j}from\"../../webgl-engine/materials/LineMarkerMaterial.js\";import{getStipplePatternForLinePattern as S}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{RibbonLineMaterial as A}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import U from\"../../../../geometry/Extent.js\";import z from\"../../../../geometry/Polygon.js\";const W=[\"polyline\",\"polygon\",\"extent\"],G=new v({size:!0,color:!0,rotation:!1,opacity:!0});class O extends g{constructor(e,t,r,i){super(e,t,r,i)}async doLoad(){if(this._fastUpdates=L(this._context.renderer,G),!this._drivenProperties.size){if((null!=this.symbolLayer.size?this.symbolLayer.size:t(1))<0)throw new e(\"graphics3dlinesymbollayer:invalid-size\",\"Symbol sizes may not be negative values\")}}_getMaterialParameters(e,t=!1){const r=this._getCombinedOpacityAndColor(t&&this._markerColor||this._materialColor);this._patternHidesLine&&!t&&(r[3]=0);const i={width:this._computeMaterialWidth(this.symbolLayer?.size),color:r,hasPolygonOffset:!0,join:this.symbolLayer.join||\"miter\",cap:b(this.symbolLayer.cap||\"butt\"),hasSlicePlane:this._context.slicePlaneEnabled,isClosed:e,stipplePattern:S(this.symbolLayer.pattern)};return this._fastUpdates?.visualVariables?{...i,...this._fastUpdates.materialParameters}:i}get _materialColor(){return this.symbolLayer.material?.color}get _markerColor(){return this.symbolLayer.marker?.color}get _lineMaterial(){return null==this._materials[F.Line]&&(this._materials[F.Line]=new A(this._getMaterialParameters(!1)),this._context.stage.add(this._materials[F.Line])),this._materials[F.Line]}get _ringMaterial(){return null==this._materials[F.Ring]&&(this._materials[F.Ring]=new A(this._getMaterialParameters(!0)),this._context.stage.add(this._materials[F.Ring])),this._materials[F.Ring]}get _wireframeLineMaterial(){return null==this._materials[F.LineWireframe]&&(this._materials[F.LineWireframe]=new A({...this._getMaterialParameters(!1),wireframe:!0}),this._context.stage.add(this._materials[F.LineWireframe])),this._materials[F.LineWireframe]}get _wireframeRingMaterial(){return null==this._materials[F.RingWireframe]&&(this._materials[F.RingWireframe]=new A({...this._getMaterialParameters(!0),wireframe:!0}),this._context.stage.add(this._materials[F.RingWireframe])),this._materials[F.RingWireframe]}get _markerMaterial(){return null==this._materials[F.Marker]&&null!=this.symbolLayer.marker&&(this._materials[F.Marker]=new j({...this._getMaterialParameters(!1,!0),placement:this.symbolLayer.marker.placement,markerPrimitive:M(this.symbolLayer.marker.style)}),this._context.stage.add(this._materials[F.Marker])),this._materials[F.Marker]}destroy(){super.destroy(),this._forEachMaterial((e=>this._context.stage.remove(e))),this._materials.length=0}_getDrivenSize(e){return this._drivenProperties.size&&e.size?r(h(e.size)):1}_getDrivenColor(e){const t=i(1,1,1,1);return this._drivenProperties.color&&e.color&&(t[0]=e.color[0],t[1]=e.color[1],t[2]=e.color[2],e.color.length>0&&(t[3]=e.color[3])),this._drivenProperties.opacity&&e.opacity&&(t[3]=e.opacity),t}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,W,this.symbolLayer.type))return null;const r=this.setGraphicElevationContext(t);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this.draped?this._createAsOverlay(e,this._context.layer.uid):this._createAs3DShape(e,r,t.uid)}applyRendererDiff(e,t){for(const r in e.diff){if(\"visualVariables\"!==r)return f.RecreateSymbol;{const e=this._fastUpdates;if(!E(e,t,G))return f.RecreateSymbol;this._forEachMaterial((t=>t?.setParameters(e.materialParameters)))}}return f.FastUpdate}prepareSymbolLayerPatch(e){if(\"partial\"!==e.diff.type)return;const t=e.diff.diff,r={};\"complete\"===t.size?.type&&(r.width=this._computeMaterialWidth(t.size.newValue),delete t.size),\"complete\"===t.cap?.type&&(r.cap=b(t.cap.newValue??\"butt\"),delete t.cap);const i=this._prepareMarkerPatch(e,t);this._prepareMaterialPatch(e,t,i),e.symbolLayerStatePatches.push((()=>this._forEachMaterial((e=>e?.setParameters(r)))))}layerOpacityChanged(){this._forEachMaterial(((e,t)=>this._updateMaterialLayerOpacity(e,t===F.Marker)))}_forEachMaterial(e){this._materials.forEach(e)}_updateMaterialLayerOpacity(e,t=!1){if(null==e)return;const r=e.parameters.color,a=this.symbolLayer?.material?.color,s=this._patternHidesLine&&!t?0:this._getCombinedOpacity(a),n=i(r[0],r[1],r[2],s);e.setParameters({color:n})}layerElevationInfoChanged(e,t,r){const i=this._elevationContext.mode,a=d(O.elevationModeChangeTypes,r,i);if(a!==c.UPDATE)return a;const s=y(i);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>s))}slicePlaneEnabledChanged(){const e={hasSlicePlane:this._context.slicePlaneEnabled};return this._forEachMaterial((t=>t?.setParameters(e))),!0}physicalBasedRenderingChanged(){return!0}_createAs3DShape(e,t,r){const i=V(e.graphic.geometry),a=\"polygon\"===i.type?i.rings:i.paths,m=new Array,h=s(),c=w(i,this._context.elevationProvider,this._context.renderCoordsHelper,t),d=\"polygon\"===i.type?\"rings\":\"paths\";this._logGeometryCreationWarnings(c,a,d,\"LineSymbol3DLayer\");for(let s=0;s<c.lines.length;s++){const t=c.lines[s],a=t.position,p=t.mapPositions;if(null!=this._context.clippingExtent&&(n(h),o(h,p),!l(h,this._context.clippingExtent)))continue;const d=this._createGeometry(\"polygon\"===i.type?this._ringMaterial:this._lineMaterial,e,a,p,i.type,T.ELEVATED,r);m.push(d),C.LINE_WIREFRAMES&&m.push(d.instantiate({material:\"polygon\"===i.type?this._wireframeRingMaterial:this._wireframeLineMaterial})),null!=this._markerMaterial&&m.push(d.instantiate({material:this._markerMaterial}))}if(0===m.length)return null;const u=new D({geometries:m,castShadow:!1,layerUid:this._context.layer.uid,graphicUid:r}),g=new _(this,u,m,null,null,p,t);return g.alignedSampledElevation=c.sampledElevation,g.needsElevationUpdates=y(t.mode),g}_createGeometry(e,t,r,i,a,s,n){const o=s===T.DRAPED?{spatialReference:this._context.overlaySR,renderCoordsHelper:this._context.renderCoordsHelper}:null,l=\"polygon\"===a,m=this._fastUpdates?.visualVariables.color,h=this._fastUpdates?.visualVariables.size,p=this._fastUpdates?.visualVariables.opacity,c=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:n,layerUid:this._context.layer.uid}),d={position:r,size:h?null:this._getDrivenSize(t.renderingInfo),color:m?null:this._getDrivenColor(t.renderingInfo),sizeFeature:h?P(h.field,t.graphic):null,colorFeature:m?P(m.field,t.graphic):null,opacityFeature:p?P(p.field,t.graphic):null};return R(e,{overlayInfo:o,removeDuplicateStartEnd:l,mapPositions:i,attributeData:d},c)}_createAsOverlay(e,t){const r=e.graphic,i=V(r.geometry),a=\"polygon\"===i.type?i.rings:i.paths,h=\"polygon\"===i.type?this._ringMaterial:this._lineMaterial;h.renderPriority=this._renderPriority;const p=C.LINE_WIREFRAMES?\"polygon\"===i.type?this._wireframeRingMaterial:this._wireframeLineMaterial:null,c=this._markerMaterial;null!=p&&(p.renderPriority=this._renderPriority-.001),null!=c&&(c.renderPriority=this._renderPriority-.002);const d=new Array,y=s(),_=n(),g=x(i,this._context.overlaySR),f=\"polygon\"===i.type?\"rings\":\"paths\";this._logGeometryCreationWarnings(g,a,f,\"LineSymbol3DLayer\");for(const s of g.lines){if(n(y),o(y,s.position),!l(y,this._context.clippingExtent))continue;m(_,y);const a=a=>{const n=this._createGeometry(a,e,s.position,void 0,i.type,T.DRAPED,r.uid),o=new k(n,{layerUid:t,graphicUid:r.uid});d.push(o)};if(null!=c){a(c);const e=this.symbolLayer.marker.placement;\"begin\"!==e&&\"begin-end\"!==e||o(y,s.position,0,1),\"end\"!==e&&\"begin-end\"!==e||o(y,s.position,s.position.length-3,1)}a(h),C.LINE_WIREFRAMES&&a(p)}return new u(this,d,_,this._context.drapeSourceRenderer)}get _patternHidesLine(){const e=this.symbolLayer.pattern;return null!=e&&\"style\"===e.type&&\"none\"===e.style}_computeMaterialWidth(e){return e=e??t(1),this._drivenProperties.size?this._fastUpdates?.visualVariables.size?r(1):1:r(e)}_prepareMaterialPatch(e,t,r){const i=t.material;if(null==i)return void(r.changed&&r.useMaterialColor&&I(this._getCombinedOpacityAndColor(this._materialColor),this._materials[F.Marker],e));if(\"collection\"===i.type)return;const s=\"complete\"===i.type?i.newValue?.color:\"complete\"===i.diff.color?.type?i.diff.color.newValue:null,n=this._getCombinedOpacityAndColor(s);r.useMaterialColor&&I(a(n),this._materials[F.Marker],e),this._patternHidesLine&&(n[3]=0),I(n,this._materials[F.Line],e),delete t.material}_prepareMarkerPatch(e,t){const r=t.marker,i=this._markerMaterial;if(null==r||\"partial\"!==r.type||null==r.diff||null!=r.diff.placement||null!=r.diff.style&&\"complete\"!==r.diff.style.type||null!=r.diff.color&&\"complete\"!==r.diff.color.type||null==i)return{changed:!1,useMaterialColor:null==this._markerColor};const a=r.diff.color,s=null!=a,n=s?a.newValue:null,o=null==n&&null==this._markerColor;n&&I(this._getCombinedOpacityAndColor(n),i,e);const l=r.diff.style?.newValue;return l&&e.symbolLayerStatePatches.push((()=>i.setParameters({markerPrimitive:M(l)}))),delete t.marker,{changed:s,useMaterialColor:o}}}function V(e){switch(e.type){case\"extent\":if(e instanceof U)return z.fromExtent(e);break;case\"polygon\":case\"polyline\":return e}return null}function I(e,t,r){null!=t&&r.symbolLayerStatePatches.push((()=>t.setParameters({color:e})))}var T,F;O.elevationModeChangeTypes={definedChanged:c.RECREATE,staysOnTheGround:c.NONE,onTheGroundChanged:c.RECREATE},function(e){e[e.DRAPED=0]=\"DRAPED\",e[e.ELEVATED=1]=\"ELEVATED\"}(T||(T={})),function(e){e[e.Line=0]=\"Line\",e[e.Ring=1]=\"Ring\",e[e.LineWireframe=2]=\"LineWireframe\",e[e.RingWireframe=3]=\"RingWireframe\",e[e.Marker=4]=\"Marker\"}(F||(F={}));export{O as Graphics3DLineSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getTranslation as t,multiply as e,invert as a,copy as r,fromTranslation as s}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as o,create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{h as n}from\"../../../../chunks/vec32.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{perObjectElevationAligner as f}from\"./ElevationAligners.js\";import{evaluateElevationInfoAtPoint as l}from\"./elevationAlignmentUtils.js\";import{setContextFeature as c}from\"./featureExpressionInfoUtils.js\";import{Graphics3DObject3DGraphicLayer as d}from\"./Graphics3DObject3DGraphicLayer.js\";class g extends d{constructor(){super(...arguments),this._originalGeometries=[],this._fastTransformUpdatesEnabled=!1}get fastTransformUpdatesEnabled(){return this._fastTransformUpdatesEnabled}enableFastTransformUpdates(e,a){if(this._fastTransformUpdatesEnabled)return;this._fastTransformUpdatesEnabled=!0;const{stageObject:r}=this,s=r.geometries.slice();r.removeAllGeometries();const o=t(h,r.transformation),i=a.getOrigin(o);for(const t of s){const a=e(t.material),s=t.instantiate({material:a});s.localOrigin=i,r.addGeometry(s)}this._originalGeometries=s}disableFastTransformUpdates(t){if(!this._fastTransformUpdatesEnabled)return;this._fastTransformUpdatesEnabled=!1;const{stageObject:e}=this,a=e.geometries.map((e=>t(e.material)));e.removeAllGeometries();for(let r=0;r<this._originalGeometries.length;r++){const t=this._originalGeometries[r],s=a[r];s.setParameters({modelTransformation:null}),s===t.material?e.addGeometry(t):e.addGeometry(t.instantiate({material:s}))}this._originalGeometries.length=0}updateFastLocalOrigin(e,a,r){if(!this._fastTransformUpdatesEnabled)return;const{stageObject:s}=this;if(0===s.geometries.length)return;const i=s.geometries[0].localOrigin,n=t(h,e),m=r.getOrigin(n);if(m===i)return;const f=a?.localMatrix??o;s.shaderTransformation=null,s.transformation=e,s.geometries.forEach((t=>{t.transformation=f,t.localOrigin=m}))}updateTransform(t,r,s){const{stageObject:i}=this,n=r?.localMatrix??o;if(!this._fastTransformUpdatesEnabled)return i.shaderTransformation=null,i.transformation=t,i.geometries.forEach((t=>t.transformation=n)),void this._updateEdgeTransform(s);const m=i.transformation,f=i.geometries[0].transformation,l=t,c=n,d=e(p,m,f),g=e(T,l,c),h=e(b,g,a(b,f));i.shaderTransformation=h,this._setFastMaterialTransformation({matA:d,matB:g}),this._updateEdgeTransform(s)}alignWithElevation(t,a,s,o){if(!this._fastTransformUpdatesEnabled)return void super.alignWithElevation(t,a,s,o);null!=s&&c(this.elevationContext.featureExpressionInfoContext,s);const i=(e,r)=>l(e,t,this.elevationContext,a,r),{stageObject:n}=this;if(!n.geometries[0].material.parameters.modelTransformation)return;const m=n.transformation,d=n.geometries[0].transformation,g=e(p,m,d),h=n.effectiveTransformation,b=r(u,h);this.alignedSampledElevation=f(this,this.elevationContext,t.spatialReference,i,a,b),n.shaderTransformation=b;const E=n.geometries[0].transformation,_=e(T,b,E);this._setFastMaterialTransformation({matA:g,matB:_}),this._updateEdgeTransform(o)}_setFastMaterialTransformation({matA:t,matB:r}){const{stageObject:o}=this;if(0===o.geometries.length)return;const i=o.geometries[0].localOrigin,m=s(j,n(h,i.vec3,-1)),f=e(E,m,t),l=e(_,m,r),c=a(E,f),d=e(_,l,c);for(const e of o.geometries)e.material.setParameters({modelTransformation:d})}_updateEdgeTransform(t){const{stageObject:e,_stageLayer:a}=this;a.stage.renderer.withEdgeView((a=>{a.fastUpdateObject3DEdgesTransform(e)||this.resetEdgeObject(t)}))}}const h=m(),p=i(),T=i(),u=i(),b=i(),E=i(),_=i(),j=i();export{g as Graphics3DMeshObject3DGraphicLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{DefaultMaterial as a}from\"../../webgl-engine/materials/DefaultMaterial.js\";class r{constructor(){this._fastTransformOriginalMaterials=new Map,this._fastTransformClonedMaterials=new Map,this._graphicReferenceCount=0}enable(r,t,e){r.enableFastTransformUpdates((r=>{if(this._graphicReferenceCount<=1){if(this._fastTransformOriginalMaterials.has(r))return r;const a=t.byMaterial(r);return this._fastTransformOriginalMaterials.set(r,a),t.delete(r),r}const s=new a(r.parameters);return e.stage.add(s),this._fastTransformClonedMaterials.set(s,r),s}),e.localOriginFactory)}disable(a,r,t){const e=new Set,s=new Set;a.disableFastTransformUpdates((a=>{if(!this._fastTransformClonedMaterials.has(a)){const t=a,i=this._fastTransformOriginalMaterials.get(t);return r.has(i.uid)?(e.add(t),r.byUid(i.uid).material):(s.add(t),i.material)}const i=a,n=this._fastTransformClonedMaterials.get(i);return this._fastTransformClonedMaterials.delete(i),t.stage.remove(i),n}));for(const i of e)this._fastTransformOriginalMaterials.delete(i),t.stage.remove(i);for(const i of s){const a=this._fastTransformOriginalMaterials.get(i);this._fastTransformOriginalMaterials.delete(i),r.set(a.uid,a)}}onAddGraphic(){this._graphicReferenceCount++}onRemoveGraphic(a,r,t){this._graphicReferenceCount--,this.disable(a,r,t)}forEachMaterialInfo(a){this._fastTransformOriginalMaterials.forEach(a)}forEachClonedMaterial(a){this._fastTransformClonedMaterials.forEach(a)}destroy(a){a.removeMany(Array.from(this._fastTransformClonedMaterials.keys())),a.removeMany(Array.from(this._fastTransformOriginalMaterials.values(),(({material:a})=>a))),this._fastTransformClonedMaterials.clear(),this._fastTransformOriginalMaterials.clear()}}class t{constructor(){this._byUid=new Map,this._byMaterial=new Map}get materials(){return Array.from(this._byUid.values(),(a=>a.material))}byUid(a){return this._byUid.get(a)}byMaterial(a){return this._byMaterial.get(a)}set(a,r){this._byUid.set(a,r),this._byMaterial.set(r.material,r)}delete(a){const r=this._byMaterial.get(a)?.uid;r&&(this._byUid.delete(r),this._byMaterial.delete(a))}has(a){return this._byUid.has(a)}forEachMaterialInfo(a){this._byUid.forEach(a)}clear(){this._byUid.clear(),this._byMaterial.clear()}}export{t as MaterialInfoCache,r as MeshFastUpdateProcessor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as l}from\"../lib/Program.js\";import{depthCompareLess as n,stencilWriteMaskOn as o,stencilToolMaskBaseParams as s,stencilBaseAllZerosParams as a}from\"../lib/StencilUtils.js\";import{N as u}from\"../../../../chunks/NativeLine.glsl.js\";import{BlendFactor as c,PrimitiveType as p}from\"../../../webgl/enums.js\";import{separateBlendingParams as m,makePipelineState as d,defaultColorWriteParams as h,defaultDepthWriteParams as g}from\"../../../webgl/renderState.js\";class S extends r{initializeProgram(e){return new l(e.rctx,S.shader.get().build(this.configuration),i)}initializePipeline(){const t=this.configuration,r=m(c.SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA),i=(e,r=null,i=null)=>d({blending:r,depthTest:n,depthWrite:i,colorWrite:h,stencilWrite:t.hasOccludees?o:null,stencilTest:t.hasOccludees?e?s:a:null});return t.output===e.Color?(this._occludeePipelineState=i(!0,t.transparent?r:null,g),i(!1,t.transparent?r:null,g)):i(!1)}get primitiveType(){return p.LINES}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}S.shader=new t(u,(()=>import(\"./NativeLine.glsl.js\")));export{S as NativeLineTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{parameter as e}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as r}from\"../materials/DefaultTechniqueConfiguration.js\";class s extends r{constructor(){super(...arguments),this.output=t.Color,this.hasSlicePlane=!1,this.hasVertexColors=!1,this.transparent=!1,this.hasOccludees=!1}}o([e({count:t.COUNT})],s.prototype,\"output\",void 0),o([e()],s.prototype,\"hasSlicePlane\",void 0),o([e()],s.prototype,\"hasVertexColors\",void 0),o([e()],s.prototype,\"transparent\",void 0),o([e()],s.prototype,\"hasOccludees\",void 0);export{s as NativeLineTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{clamp as t}from\"../../../../core/mathUtils.js\";import{createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{copy as s}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{s as o,f as i,k as a,h as n,g as c,c as l,l as m,q as u}from\"../../../../chunks/vec32.js\";import{create as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as h}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{PlaneIndex as p}from\"../../../../geometry/support/frustum.js\";import{create as d,distance2 as g,fromPoints as j,closestLineSegmentPoint as b}from\"../../../../geometry/support/lineSegment.js\";import{create as S,fromPoints as O,signedDistance as _,getNormal as A}from\"../../../../geometry/support/plane.js\";import{ShaderOutput as L}from\"../core/shaderLibrary/ShaderOutput.js\";import x from\"../lib/GLMaterial.js\";import{Material as y,MaterialParameters as N}from\"../lib/Material.js\";import{RenderSlot as R}from\"../lib/RenderSlot.js\";import{isTranslationMatrix as E}from\"../lib/Util.js\";import{VertexAttribute as M}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as T}from\"./DefaultBufferWriter.js\";import{PositionColorLayout as v,PositionLayout as w}from\"./DefaultLayouts.js\";import{NativeLineTechnique as C}from\"../shaders/NativeLineTechnique.js\";import{NativeLineTechniqueConfiguration as P}from\"../shaders/NativeLineTechniqueConfiguration.js\";class V extends y{constructor(e){super(e,new U),this._configuration=new P,this.produces=new Map([[R.OPAQUE_MATERIAL,e=>e===L.Color||e===L.Highlight||e===L.ObjectAndLayerIdColor]])}getConfiguration(e){return this._configuration.output=e,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasVertexColors=this.parameters.hasVertexColors,this._configuration.transparent=this.parameters.color[3]<1||this.parameters.width<1,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration}intersect(t,r,f,h,d,S){if(!f.options.selectionMode||!t.visible)return;if(!E(r))return void e.getLogger(\"esri.views.3d.webgl-engine.materials.NativeLineMaterial\").error(\"intersection assumes a translation-only matrix\");const L=t.attributes.get(M.POSITION).data,x=f.camera,y=Z;s(y,f.point);const N=2;o(z[0],y[0]-N,y[1]+N,0),o(z[1],y[0]+N,y[1]+N,0),o(z[2],y[0]+N,y[1]-N,0),o(z[3],y[0]-N,y[1]-N,0);for(let e=0;e<4;e++)if(!x.unprojectFromRenderScreen(z[e],J[e]))return;O(x.eye,J[0],J[1],K),O(x.eye,J[1],J[2],Y),O(x.eye,J[2],J[3],$),O(x.eye,J[3],J[0],ee);let R=Number.MAX_VALUE,T=0;for(let e=0;e<L.length-5;e+=3){if(q[0]=L[e]+r[12],q[1]=L[e+1]+r[13],q[2]=L[e+2]+r[14],B[0]=L[e+3]+r[12],B[1]=L[e+4]+r[13],B[2]=L[e+5]+r[14],_(K,q)<0&&_(K,B)<0||_(Y,q)<0&&_(Y,B)<0||_($,q)<0&&_($,B)<0||_(ee,q)<0&&_(ee,B)<0)continue;if(x.projectToRenderScreen(q,X),x.projectToRenderScreen(B,k),X[2]<0&&k[2]>0){i(D,q,B);const e=x.frustum,t=-_(e[p.NEAR],q)/a(D,A(e[p.NEAR]));n(D,D,t),c(q,q,D),x.projectToRenderScreen(q,X)}else if(X[2]>0&&k[2]<0){i(D,B,q);const e=x.frustum,t=-_(e[p.NEAR],B)/a(D,A(e[p.NEAR]));n(D,D,t),c(B,B,D),x.projectToRenderScreen(B,k)}else if(X[2]<0&&k[2]<0)continue;X[2]=0,k[2]=0;const t=g(j(X,k,H),y);t<R&&(R=t,l(G,q),l(F,B),T=e/3)}const v=f.rayBegin,w=f.rayEnd;if(R<N*N){let e=Number.MAX_VALUE;if(b(j(G,F,H),j(v,w,Q),W)){i(W,W,v);const t=m(W);n(W,W,1/t),e=t/u(v,w)}S(e,W,T,!1)}}intersectDraped(e,r,s,o,i,a){if(!s.options.selectionMode)return;const n=e.attributes.get(M.POSITION).data,c=e.attributes.get(M.SIZE),l=c?c.data[0]:0,m=o[0],u=o[1],f=((l+1)/2+4)*e.screenToWorldRatio;let h=Number.MAX_VALUE,p=0;for(let d=0;d<n.length-5;d+=3){const e=n[d],r=n[d+1],s=m-e,o=u-r,i=n[d+3]-e,a=n[d+4]-r,c=t((i*s+a*o)/(i*i+a*a),0,1),l=i*c-s,f=a*c-o,g=l*l+f*f;g<h&&(h=g,p=d/3)}h<f*f&&i(a.dist,a.normal,p,!1)}createGLMaterial(e){return new I(e)}createBufferWriter(){const e=this.parameters.hasVertexColors?v:w;return new T(e)}}class I extends x{_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&this._material.setParameters({hasOccludees:e.hasOccludees})}beginSlot(e){return this._output===L.Color&&this._updateOccludeeState(e),this.ensureTechnique(C,e)}}class U extends N{constructor(){super(...arguments),this.color=h,this.hasVertexColors=!1,this.hasSlicePlane=!1,this.width=1,this.hasOccludees=!1}}const q=f(),B=f(),D=f(),W=f(),X=r(),k=r(),G=f(),F=f(),H=d(),Q=d(),Z=f(),z=[r(),r(),r(),r()],J=[f(),f(),f(),f()],K=S(),Y=S(),$=S(),ee=S();export{V as NativeLineMaterial,U as Parameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import\"../../../../core/has.js\";import{deg2rad as t}from\"../../../../core/mathUtils.js\";import{fromMat4 as r,transpose as o}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{fromTranslation as a,multiply as s,invert as i,getTranslation as l}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as c,IDENTITY as u,clone as m}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{ONES as f}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{s as p,g as h,h as d,k as g,n as x,f as _,b as T}from\"../../../../chunks/vec32.js\";import{ZEROS as b,ONES as y,create as v}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as w}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{canProjectWithoutEngine as j}from\"../../../../geometry/projection.js\";import{computeTranslationToOriginAndRotation as C}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectBuffer as R}from\"../../../../geometry/projection/projectBuffer.js\";import{projectVectorToPoint as M}from\"../../../../geometry/projection/projectVectorToPoint.js\";import{create as P,empty as A,expandWithBuffer as E,intersectsClippingArea as O}from\"../../../../geometry/support/aaBoundingBox.js\";import{newFloatArray as I}from\"../../../../geometry/support/FloatArray.js\";import{getZeroIndexArray as S,getContinuousIndexArray as N}from\"../../../../geometry/support/Indices.js\";import B from\"../../../../geometry/support/MeshComponent.js\";import U from\"../../../../geometry/support/MeshMaterialMetallicRoughness.js\";import F from\"../../../../geometry/support/MeshTextureTransform.js\";import{isRelativeVertexSpace as D}from\"../../../../geometry/support/meshVertexSpaceUtils.js\";import{equals as $}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{a as L,b as G}from\"../../../../chunks/vec3.js\";import{project as V}from\"../../../../geometry/support/meshUtils/georeference.js\";import{transformNormal as H,projectNormalToPCPF as k,transformTangent as q,projectTangentToPCPF as z}from\"../../../../geometry/support/meshUtils/projection.js\";import{makeDehydratedPoint as Y}from\"../../../../layers/graphics/dehydratedPoint.js\";import{MeshTransformUpdateAction as W}from\"../../../../layers/graphics/sources/interfaces.js\";import{ViewingMode as J}from\"../../../ViewingMode.js\";import{isEncodedMeshTexture as K}from\"../../glTF/internal/resourceUtils.js\";import{getTransformMatrix as Q}from\"../../glTF/internal/TextureTransformUtils.js\";import{perObjectElevationAligner as X}from\"./ElevationAligners.js\";import{needsElevationUpdates3D as Z,evaluateElevationInfoAtPoint as ee}from\"./elevationAlignmentUtils.js\";import{Graphics3DMeshObject3DGraphicLayer as te}from\"./Graphics3DMeshObject3DGraphicLayer.js\";import{Object3DEdgeState as re}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as oe}from\"./Graphics3DSymbolLayer.js\";import{MaterialInfoCache as ne,MeshFastUpdateProcessor as ae}from\"./MeshFastUpdateProcessor.js\";import{createMaterial as se}from\"../support/edgeUtils.js\";import{parseColorMixMode as ie,encodeSymbolColor as le}from\"../support/symbolColorUtils.js\";import{debugFlags as ce}from\"../../support/debugFlags.js\";import{Attribute as ue}from\"../../webgl-engine/lib/Attribute.js\";import{AlphaDiscardMode as me,CullFaceOptions as fe}from\"../../webgl-engine/lib/basicInterfaces.js\";import{ContentObjectType as pe}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Geometry as he}from\"../../webgl-engine/lib/Geometry.js\";import{Object3D as de}from\"../../webgl-engine/lib/Object3D.js\";import{Texture as ge}from\"../../webgl-engine/lib/Texture.js\";import{VertexAttribute as xe}from\"../../webgl-engine/lib/VertexAttribute.js\";import{DefaultMaterial as _e}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{NativeLineMaterial as Te}from\"../../webgl-engine/materials/NativeLineMaterial.js\";import{useSchematicPBR as be,defaultSchematicMRRFactors as ye,defaultAdvancedMRRFactors as ve}from\"../../webgl-engine/materials/pbrUtils.js\";import{TextureWrapMode as we}from\"../../../webgl/enums.js\";const je=[\"mesh\"];class Ce extends oe{constructor(e,t,r,o){super(e,t,r,o),this._materialInfoCache=new ne,this._fastUpdateProcessor=new ae,this._textures=new Map,this.ensureDrapedStatus(!1)}async doLoad(){ce.DRAW_MESH_GEOMETRY_NORMALS&&(this._debugVertexNormalMaterial=new Te({color:[1,0,1,1]}),this._debugFaceNormalMaterial=new Te({color:[0,1,1,1]}))}destroy(){super.destroy(),this._textures.forEach((e=>e.unload())),this._context.stage.removeMany(this._materialInfoCache.materials),this._context.stage.removeMany(Array.from(this._textures.values())),this._materialInfoCache.clear(),this._textures.clear(),this._fastUpdateProcessor.destroy(this._context.stage)}get materials(){return this._materialInfoCache.materials}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,je,\"fill on mesh-3d\"))return null;const r=this.setGraphicElevationContext(t),o=e.renderingInfo;return this._createAs3DShape(t,o,r,t.uid)}onRemoveGraphic(e){this._fastUpdateProcessor.onRemoveGraphic(e,this._materialInfoCache,this._context)}layerOpacityChanged(e,t){const r=this._getLayerOpacity();this._updateMaterialParameters((e=>{e.material.setParameters({layerOpacity:r});const t=e.material.parameters;this._setMaterialTransparentParameter(t,e),e.material.setParameters({transparent:t.transparent})})),e.forEach((e=>t(e)?.layerOpacityChanged(r,this._context.isAsync)))}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,Z)}slicePlaneEnabledChanged(e,t){return this._updateMaterialParameters((({material:e})=>{e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})})),e.forEach((e=>t(e)?.slicePlaneEnabledChanged(this._context.slicePlaneEnabled,this._context.isAsync))),!0}physicalBasedRenderingChanged(){const e=this._usePBR();return this._updateMaterialParameters((({material:t})=>t.setParameters({usePBR:e}))),!0}updateTransform(e,t,r,o){const n=e.fastTransformUpdatesEnabled;switch(o){case W.EnableFastUpdates:if(n)return!0;break;case W.DisableFastUpdates:if(!n)return!0;break;default:if(!n)return!1}const a=this._context.renderCoordsHelper.spatialReference,s=Xe,{origin:i,transform:l}=r;if(!C(t,p(ze,i.x,i.y,i.z??0),s,a))return!1;switch(o){case W.EnableFastUpdates:this._fastUpdateProcessor.enable(e,this._materialInfoCache,this._context);break;case W.DisableFastUpdates:this._fastUpdateProcessor.disable(e,this._materialInfoCache,this._context);break;case W.UpdateFastLocalOrigin:e.updateFastLocalOrigin(s,l,this._context.localOriginFactory)}const{elevationContext:c}=e;c.centerPointInElevationSR=this._getCenterPointInElevationSR(s);const{elevationProvider:u,renderCoordsHelper:m}=this._context,f=(e,t)=>ee(e,u,c,m,t);return e.alignedSampledElevation=X(e,c,u.spatialReference,f,m,s),e.updateTransform(s,l,this._context.isAsync),!0}_requiresSymbolVertexColors(){return this._drivenProperties.color||this._drivenProperties.opacity}_materialPropertiesDefault(e,t){const r=this._requiresSymbolVertexColors(),o=!!e.vertexAttributes.color,n=!!e.vertexAttributes.tangent;return{hasSymbolVertexColors:r,hasVertexColors:o,hasVertexTangents:n,uid:`vc:${o},vt:${n},vct${t},svc:${r}`}}_materialProperties(e,t,r){const o=this._materialPropertiesDefault(e,r);if(!t.material)return o;const{color:n,colorTexture:a,colorTextureTransform:s,normalTexture:i,normalTextureTransform:l,doubleSided:c,alphaCutoff:u,alphaMode:m}=t.material,f=Ge(n),p=Ge(a),h=Ve(s),d=Ge(i),g=Ve(l);if(o.color=n,o.colorTexture=a,o.normalTexture=i,o.uid=`${o.uid},cmuid:${f},ctmuid:${p},cttuid:${h},ntmuid:${d},nttuid:${g},ds:${c},ac:${u},am:${m}`,t.material instanceof U){const{metallic:e,roughness:r,metallicRoughnessTexture:n,metallicRoughnessTextureTransform:a,emissiveColor:i,emissiveTexture:c,emissiveTextureTransform:u,occlusionTexture:m,occlusionTextureTransform:f}=t.material,p=Ge(n),h=Ve(a),d=Ge(i),g=Ge(c),x=Ve(u),_=Ge(m),T=Ve(f);o.metallic=e,o.roughness=r,o.metallicRoughnessTexture=n,o.emissiveColor=i,o.emissiveTexture=c,o.occlusionTexture=m,o.colorTextureTransform=Be(s),o.normalTextureTransform=Be(l),o.emissiveTextureTransform=Be(u),o.occlusionTextureTransform=Be(f),o.metallicRoughnessTextureTransform=Be(a),o.uid=`${o.uid},mrm:${e},mrr:${r},mrt:${p},mrtt:${h},emuid:${d},etmuid:${g},ett:${x},otmuid:${_},ott:${T}`}return o}_getInternalTextureId(e){const t=this._getInternalTexture(e,me.Opaque);return t?.id}_getInternalTexture(e,t){const r=Le(e);if(!r)return null;const o=`${e.contentHash}/${t}`;let n=this._textures.get(o);if(!n){let a=null;const s=this._context.stage.renderView.renderingContext.parameters.maxMaxAnisotropy,i={wrap:Ue(e.wrap),noUnpackFlip:!0,maxAnisotropy:s,mipmap:s>1};K(r)?(a=r.data,i.preMultiplyAlpha=!1,i.encoding=r.encoding):(a=r,i.preMultiplyAlpha=t!==me.Opaque,i.downsampleUncompressed=this._context.graphicsCoreOwner.view.qualitySettings.graphics3D.uncompressedTextureDownsamplingEnabled),n=new ge(a,i),this._textures.set(o,n),n.load(this._context.stage.renderView.renderingContext),this._context.stage.add(n)}return n}_setInternalMaterialParameters(t,r){if(null!=t.color&&$e(t.color,r),null!=t.colorTexture){const e=this._getInternalTexture(t.colorTexture,r.textureAlphaMode);e?(r.textureId=e.id,r.textureAlphaPremultiplied=!!e.parameters.preMultiplyAlpha):r.textureId=void 0}t.normalTexture&&(r.normalTextureId=this._getInternalTextureId(t.normalTexture)),t.emissiveColor&&(r.emissiveFactor=e.toUnitRGB(t.emissiveColor)),t.emissiveTexture&&(r.emissiveTextureId=this._getInternalTextureId(t.emissiveTexture)),t.occlusionTexture&&(r.occlusionTextureId=this._getInternalTextureId(t.occlusionTexture)),t.metallicRoughnessTexture&&(r.metallicRoughnessTextureId=this._getInternalTextureId(t.metallicRoughnessTexture)),r.colorTextureTransformMatrix=Q(t.colorTextureTransform),r.normalTextureTransformMatrix=Q(t.normalTextureTransform);const o=null!=t.normalTextureTransform?.scale?t.normalTextureTransform?.scale:f;r.scale=[o[0],o[1]],r.occlusionTextureTransformMatrix=Q(t.occlusionTextureTransform),r.emissiveTextureTransformMatrix=Q(t.emissiveTextureTransform),r.metallicRoughnessTextureTransformMatrix=Q(t.metallicRoughnessTextureTransform)}_setExternalMaterialParameters(t){const r=this._drivenProperties.color;let o=this.symbolLayer.material?.colorMixMode??null;if(r)t.externalColor=w;else{const r=this.symbolLayer.material?.color??null;r?t.externalColor=e.toUnitRGBA(r):(o=null,t.externalColor=w)}o&&(t.colorMixMode=o),t.castShadows=!!this.symbolLayer.castShadows}_getOrCreateMaterial(t,r){const o=r.material?.color,n=r.material?.colorTexture,a=r.material?.alphaMode,s=\"blend\"===a,i=!(\"opaque\"===a)&&(De(t)||null!=o&&o.a<1||n?.transparent||s),l=this._materialProperties(t,r,i),c=this._materialInfoCache.byUid(l.uid);if(c)return c.material;const u={uid:l.uid,material:null,isComponentTransparent:i,alphaMode:r.material?r.material.alphaMode:\"opaque\"},m=be({normalTexture:l.normalTexture,metallicRoughnessTexture:l.metallicRoughnessTexture,metallicFactor:l.metallic,roughnessFactor:l.roughness,emissiveTexture:l.emissiveTexture,emissiveFactor:e.toUnitRGB(l.emissiveColor),occlusionTexture:l.occlusionTexture}),f={usePBR:this._usePBR(),isSchematic:m,hasVertexColors:l.hasVertexColors,hasSymbolColors:l.hasSymbolVertexColors,hasVertexTangents:l.hasVertexTangents,ambient:b,diffuse:y,opacity:1,doubleSided:!0,doubleSidedType:\"winding-order\",cullFace:fe.None,layerOpacity:this._getLayerOpacity(),hasSlicePlane:this._context.slicePlaneEnabled,initTextureTransparent:!0};f.mrrFactors=m?[...ye]:[l.metallic,l.roughness,ve[2]],r.material&&(f.doubleSided=r.material.doubleSided,f.cullFace=r.material.doubleSided?fe.None:fe.Back,f.textureAlphaCutoff=r.material.alphaCutoff),this._setExternalMaterialParameters(f),this._setMaterialTransparentParameter(f,u),this._setInternalMaterialParameters(l,f);const p=new _e(f);return u.material=p,this._materialInfoCache.set(l.uid,u),this._context.stage.add(p),p}_usePBR(){return this._context.physicalBasedRenderingEnabled}_setMaterialTransparentParameter(e,t){e.transparent=this.needsDrivenTransparentPass||t.isComponentTransparent||e.layerOpacity<1||e.opacity<1||e.externalColor&&e.externalColor[3]<1,\"auto\"===t.alphaMode?e.textureAlphaMode=e.transparent?me.MaskBlend:me.Opaque:e.textureAlphaMode=\"opaque\"===t.alphaMode?me.Opaque:\"mask\"===t.alphaMode?me.Mask:me.Blend}_addDebugNormals(e,t){const r=t.length,o=e.spatialReference.isGeographic?20015077/180:1,n=.1*Math.max(e.extent.width*o,e.extent.height*o,e.extent.zmax-e.extent.zmin),a=[],s=[],i=[],l=[];for(let f=0;f<r;f++){const e=t[f],r=e.attributes.get(xe.POSITION),o=e.attributes.get(xe.NORMAL),c=r.data,u=r.indices,m=o.data,p=o.indices;for(let t=0;t<u.length;t++){const e=3*u[t],r=3*p[t];for(let t=0;t<3;t++)a.push(c[e+t]);for(let t=0;t<3;t++)a.push(c[e+t]+m[r+t]*n);if(s.push(s.length),s.push(s.length),t%3==0){Se(c,u,t,Je),Ie(c,u,t,ze,Ye,We),h(ze,ze,Ye),h(ze,ze,We),d(ze,ze,1/3);for(let e=0;e<3;e++)i.push(ze[e]);for(let e=0;e<3;e++)i.push(ze[e]+Je[e]*n);l.push(l.length),l.push(l.length)}}}const c=t[0].transformation,u=new he(this._debugVertexNormalMaterial,[[xe.POSITION,new ue(a,s,3,!0)]],null,pe.Line);t.push(u),u.transformation=c;const m=new he(this._debugFaceNormalMaterial,[[xe.POSITION,new ue(i,l,3,!0)]],null,pe.Line);m.transformation=c,t.push(m)}_createAs3DShape(e,t,r,o){const n=e.geometry;if(\"mesh\"!==n.type)return null;const a=this._createGeometryInfo(n,t,o);if(null==a)return null;const{geometries:s,objectTransformation:i}=a;ce.DRAW_MESH_GEOMETRY_NORMALS&&this._addDebugNormals(n,s);const l=new de({geometries:s,layerUid:this._context.layer.uid,graphicUid:o,isElevationSource:!0});l.transformation=i;const c=se(this.symbolLayer,{opacity:this._getLayerOpacity()}),u=c?new re(s[0].material,[c],{mergeGeometries:!0,hasSlicePlane:this._context.slicePlaneEnabled}):null,m=new te(this,l,s,null,null,X,r,u);this._fastUpdateProcessor.onAddGraphic(),m.needsElevationUpdates=Z(r.mode),m.useObjectOriginAsAttachmentOrigin=!0,r.centerPointInElevationSR=this._getCenterPointInElevationSR(l.transformation);const{elevationProvider:f,renderCoordsHelper:p}=this._context,h=(e,t)=>ee(e,f,r,p,t);return m.alignedSampledElevation=X(m,r,f.spatialReference,h,p),m}_getCenterPointInElevationSR(e){const t=Y(0,0,0,null!=this._context.elevationProvider.spatialReference?this._context.elevationProvider.spatialReference:null);return M([e[12],e[13],e[14]],this._context.renderCoordsHelper.spatialReference,t),t}_createPositionBuffer(e,t){let r=e.vertexAttributes.position;const o=t.reprojection===tt.RENDER?t.transformBeforeProject:null;if(o&&(r=L(new Float64Array(r.length),r,o)),t.reprojection===tt.NONE)return t.needsBufferCopy?new Float64Array(r):r;const n=o?r:new Float64Array(r.length);return R(r,e.spatialReference,0,n,this._context.renderCoordsHelper.spatialReference,0,r.length/3),n}_createNormalBuffer(e,t,r){let o=e.vertexAttributes.normal;if(null==o)return null;const n=r.reprojection===tt.RENDER?r.transformBeforeProject:null;n&&(o=H(o,new Float32Array(o.length),n));if(\"local\"===this._context.graphicsCoreOwner.view.viewingMode||r.reprojection===tt.NONE)return r.needsBufferCopy&&e.vertexAttributes.normal===o?new Float32Array(o):o;const a=e.vertexAttributes.position,s=n?o:new Float32Array(o.length);return k(o,a,t,e.spatialReference,s)}_createTangentBuffer(e,t,r){let o=e.vertexAttributes.tangent;if(null==o)return null;const n=r.reprojection===tt.RENDER?r.transformBeforeProject:null;n&&(o=q(o,new Float32Array(o.length),n));if(\"local\"===this._context.graphicsCoreOwner.view.viewingMode||r.reprojection===tt.NONE)return r.needsBufferCopy&&e.vertexAttributes.normal===o?new Float32Array(o):o;const a=e.vertexAttributes.position,s=n?o:new Float32Array(o.length);return z(o,a,t,e.spatialReference,s)}_createSymbolColorBuffer(e){if(this._requiresSymbolVertexColors()){const t=this._getVertexOpacityAndColor(e),r=ie(this.symbolLayer?.material?.colorMixMode),o=new Uint8Array(4);return le(t,r,o),o}return null}_createBuffers(e,t){const r=e.vertexAttributes&&e.vertexAttributes.position;if(!r)return this.logger.warn(\"Mesh geometry must contain position vertex attributes\"),null;const o=e.vertexAttributes.normal,n=e.vertexAttributes.uv,a=e.vertexAttributes.tangent;if(o&&o.length!==r.length)return this.logger.warn(\"Mesh normal vertex buffer must contain the same number of elements as the position buffer\"),null;if(a&&a.length/4!=r.length/3)return this.logger.warn(\"Mesh tangent vertex buffer must contain the same number of elements as the position buffer\"),null;if(n&&n.length/2!=r.length/3)return this.logger.warn(\"Mesh uv vertex buffer must contain the same number of elements as the position buffer\"),null;const s=this._computeReprojectionInfo(e),i=this._createPositionBuffer(e,s),l=He(e),u=this._createSymbolColorBuffer(t),m=this._createNormalBuffer(e,i,s),f=this._createTangentBuffer(e,i,s);return{positionBuffer:i,normalBuffer:m,tangentBuffer:f,uvBuffer:n,colorBuffer:l,symbolColorBuffer:u,objectTransformation:s.reprojection===tt.NONE&&s.objectTransformation?s.objectTransformation:this._transformOriginLocal(e,i,m,f),geometryTransformation:s.reprojection===tt.NONE&&s.geometryTransformation?s.geometryTransformation:c()}}_computeReprojectionInfo(e){const{vertexSpace:t}=e,r=\"georeferenced\"===t.type?$(this._context.renderCoordsHelper.spatialReference,e.spatialReference)?tt.NONE:tt.RENDER:tt.NONE;if(D(t)){const o=t.origin,n=c(),i=e.transform?.localMatrix??u;if(r===tt.NONE){C(e.spatialReference,o,n,this._context.renderCoordsHelper.spatialReference);return{reprojection:r,objectTransformation:n,geometryTransformation:m(i),needsBufferCopy:!1}}const l=a(c(),o);return s(l,l,i),{reprojection:r,transformBeforeProject:l,needsBufferCopy:!0}}return{reprojection:r,needsBufferCopy:!0}}_transformOriginLocal(e,t,n,a){const s=this._context.renderCoordsHelper.spatialReference,l=e.anchor;qe[0]=l.x,qe[1]=l.y,qe[2]=l.z??0;const u=c();return C(e.spatialReference,qe,u,s),i(Ke,u),L(t,t,Ke),(n||a)&&(r(Qe,u),o(Qe,Qe),n&&G(n,n,Qe),a&&G(a,a,Qe,4)),u}_validateFaces(e,t){const r=e.vertexAttributes.position.length/3,o=t.faces;if(o){let e=-1;for(let t=0;t<o.length;t++){const r=o[t];r>e&&(e=r)}if(r<=e)return this.logger.warn(`Vertex index ${e} is out of bounds of the mesh position buffer`),!1}else if(r%3!=0)return this.logger.warn(\"Mesh position buffer length must be a multiple of 9 if no component faces are defined (3 values per vertex * 3 vertices per triangle)\"),!1;return!0}_isOutsideClippingArea(e){if(!this._context.clippingExtent)return!1;const t=e.vertexAttributes?.position;if(!t)return!1;const r=this._context.elevationProvider.spatialReference,o=V({positions:t,transform:e.transform,vertexSpace:e.vertexSpace,inSpatialReference:e.spatialReference,outSpatialReference:r??e.spatialReference,localMode:this._context.stage.viewingMode===J.Local}),n=o.length/3;return A(Ze),E(Ze,o,0,n),!O(Ze,this._context.clippingExtent)}_createGeometryInfo(e,t,r){if(!j(e.spatialReference,this._context.renderCoordsHelper.spatialReference))return this.logger.warn(\"Geometry spatial reference is not compatible with the view\"),null;if(!this._validateVertexSpace(e))return null;if(this._isOutsideClippingArea(e))return null;const o=this._createBuffers(e,t);if(null==o)return null;const{positionBuffer:n,uvBuffer:a,colorBuffer:s,symbolColorBuffer:i,normalBuffer:c,tangentBuffer:u,objectTransformation:m,geometryTransformation:f}=o,p=Ne(e),h=new Array;let d=!1;const g=l(ze,m),x=this._context.localOriginFactory.getOrigin(g);for(const l of p){if(!this._validateFaces(e,l))return null;const t=Me(e,l);if(0===t.length)continue;const o=Pe(n,c,l,t);o.didFlipNormals&&(d=!0);const m=[[xe.POSITION,new ue(n,t,3,!0)],[xe.NORMAL,new ue(o.normals,o.indices,3,!0)]];s&&m.push([xe.COLOR,new ue(s,t,4,!0)]),i&&m.push([xe.SYMBOLCOLOR,new ue(i,S(t.length),4,!0)]),a&&m.push([xe.UV0,new ue(a,t,2,!0)]),u&&m.push([xe.TANGENT,new ue(u,t,4,!0)]);const p=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:r,layerUid:this._context.layer.uid}),g=this._getOrCreateMaterial(e,l),_=new he(g,m,null,pe.Mesh,p);_.transformation=f,_.localOrigin=x,h.push(_)}return d&&this.logger.warn(\"Normals have been automatically flipped to be consistent with the counter clock wise face winding order. It is better to generate mesh geometries that have consistent normals.\"),{geometries:h,objectTransformation:m}}_updateMaterialParameters(e){this._materialInfoCache.forEachMaterialInfo(e),this._fastUpdateProcessor.forEachMaterialInfo(e),this._fastUpdateProcessor.forEachClonedMaterial(((e,t)=>{t.setParameters(e.parameters)}))}_validateVertexSpace(e){const{_context:{graphicsCoreOwner:{view:{state:{viewingMode:t}}}}}=this,{vertexSpace:r}=e;return t!==J.Local||\"local\"!==r.type||(this.logger.warn(\"Displaying a mesh with a local vertex space in a view in local viewing mode is not supported.\"),!1)}test(){return{...super.test(),materials:this._materialInfoCache.materials}}}class Re{constructor(e,t,r){this.normals=e,this.indices=t,this.didFlipNormals=r}}function Me(e,t){return t.faces??N(e.vertexAttributes.position.length/3)}function Pe(e,t,r,o){switch(r.shading||\"flat\"){default:case\"source\":return Ee(e,t,r,o);case\"flat\":return Ae(e,o);case\"smooth\":return Oe(e,o)}}function Ae(e,t){const r=I(t.length),o=new Array(3*t.length);for(let n=0;n<t.length;n+=3){const a=Se(e,t,n,Je);for(let e=0;e<3;e++)r[n+e]=a[e],o[n+e]=n/3}return new Re(r,o,!1)}function Ee(e,t,r,o){if(null==t)return Ae(e,o);let n=!1;if(!r.trustSourceNormals)for(let a=0;a<o.length;a+=3){Se(e,o,a,Je);for(let e=0;e<3;e++){const r=3*o[a+e];ze[0]=t[r],ze[1]=t[r+1],ze[2]=t[r+2],g(Je,ze)<0&&(t[r]=-t[r],t[r+1]=-t[r+1],t[r+2]=-t[r+2],n=!0)}}return new Re(t,o,n)}function Oe(e,t){const r={};for(let a=0;a<t.length;a+=3){const o=Se(e,t,a,Je);for(let e=0;e<3;e++){const n=t[a+e];let s=r[n];s||(s={normal:v(),count:0},r[n]=s),h(s.normal,s.normal,o),s.count++}}const o=I(3*t.length),n=new Array(3*t.length);for(let a=0;a<t.length;a++){const e=r[t[a]];1!==e.count&&(x(e.normal,e.normal),e.count=1);for(let t=0;t<3;t++)o[3*a+t]=e.normal[t];n[a]=a}return new Re(o,n,!1)}function Ie(e,t,r,o,n,a){const s=3*t[r],i=3*t[r+1],l=3*t[r+2];o[0]=e[s],o[1]=e[s+1],o[2]=e[s+2],n[0]=e[i],n[1]=e[i+1],n[2]=e[i+2],a[0]=e[l],a[1]=e[l+1],a[2]=e[l+2]}function Se(e,t,r,o){return Ie(e,t,r,ze,Ye,We),_(Ye,Ye,ze),_(We,We,ze),T(ze,Ye,We),x(o,ze),o}function Ne(e){return e.components??et}function Be(e){if(!e)return null;const{scale:r,offset:o,rotation:n}=e;return{scale:r,offset:o,rotation:t(n)}}function Ue(e=\"repeat\"){if(\"string\"==typeof e){const t=Fe(e);return{s:t,t}}return{s:Fe(e.horizontal),t:Fe(e.vertical)}}function Fe(e){switch(e){case\"clamp\":return we.CLAMP_TO_EDGE;case\"mirror\":return we.MIRRORED_REPEAT;default:return we.REPEAT}}function De(e){const t=e.vertexAttributes.color;if(null==t)return!1;for(let r=3;r<t.length;r+=4)if(255!==t[r])return!0;return!1}function $e(t,r){r.diffuse=e.toUnitRGB(t),r.opacity=t.a}function Le(e){return e.data??e.url}function Ge(t){return null==t?\"-\":t instanceof e?t.toHex():t.contentHash}function Ve(e){const{offset:t,scale:r,rotation:o}=e??ke;return`${t[0]},${t[1]},${o},${r[0]},${r[1]}`}function He(e){return e.vertexAttributes.color}const ke=new F,qe=v(),ze=v(),Ye=v(),We=v(),Je=v(),Ke=c(),Qe=n(),Xe=c(),Ze=P(),et=[new B];var tt;!function(e){e[e.NONE=0]=\"NONE\",e[e.RENDER=1]=\"RENDER\"}(tt||(tt={}));export{Ce as Graphics3DMeshFillSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{e as t,s as i}from\"../../../../chunks/vec32.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{empty as s,expandWithVec3 as a,create as r,isPoint as o,center as l,offset as h}from\"../../../../geometry/support/aaBoundingBox.js\";import{evaluateElevationInfoAtPoint as c}from\"./elevationAlignmentUtils.js\";import{setContextFeature as d}from\"./featureExpressionInfoUtils.js\";import{demResolutionForBoundingBox as g}from\"./graphicUtils.js\";import{Object3DState as m}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3DStateID as f}from\"../../webgl-engine/lib/Object3DStateID.js\";class p{constructor(e,t,i,n){this.graphics3DSymbolLayer=e,this.instanceIndex=t,this.elevationAligner=i,this.elevationContext=n,this.type=\"lod-instance\",this._highlights=new Set,this.alignedSampledElevation=0,this.isElevationSource=!1,this.needsElevationUpdates=!1}initialize(){}setVisibility(e){const t=this._lodRenderer.instanceData;e!==t.getVisible(this.instanceIndex)&&t.setVisible(this.instanceIndex,e)}destroy(){null!=this.instanceIndex&&(this._lodRenderer.instanceData.removeInstance(this.instanceIndex),this.graphics3DSymbolLayer.notifyDestroyGraphicLayer(this))}alignWithElevation(e,t,i){if(this.elevationAligner){d(this.elevationContext.featureExpressionInfoContext,i);const n=(i,n)=>c(i,e,this.elevationContext,t,n),s=this.elevationAligner(this,this.elevationContext,e.spatialReference,n,t);null!=s&&(this.alignedSampledElevation=s)}}getCenterObjectSpace(e=n()){return this._lodRenderer.instanceData.getCombinedLocalTransform(this.instanceIndex,I),t(e,this._lodRenderer.baseBoundingSphere.center,I)}getBoundingBoxObjectSpace(e=r()){this._lodRenderer.instanceData.getCombinedLocalTransform(this.instanceIndex,I);const n=this._lodRenderer.baseBoundingBox;s(e);for(let s=0;s<8;++s)i(x,1&s?n[3]:n[0],2&s?n[4]:n[1],4&s?n[5]:n[2]),t(x,x,I),a(e,x);return e}computeAttachmentOrigin(e){this._lodRenderer.instanceData.getGlobalTransform(this.instanceIndex,I),e.render.origin[0]+=I[12],e.render.origin[1]+=I[13],e.render.origin[2]+=I[14],e.render.num++}async getProjectedBoundingBox(e,i,n,a,r){const c=this.getBoundingBoxObjectSpace(r),d=b,m=o(c)?1:d.length;this._lodRenderer.instanceData.getGlobalTransform(this.instanceIndex,I);for(let s=0;s<m;s++){const e=d[s];x[0]=c[e[0]],x[1]=c[e[1]],x[2]=c[e[2]],t(x,x,I),u[3*s]=x[0],u[3*s+1]=x[1],u[3*s+2]=x[2]}if(!e(u,0,m))return null;s(c);let f=null;this.calculateRelativeScreenBounds&&(f=this.calculateRelativeScreenBounds());for(let t=0;t<3*m;t+=3){for(let e=0;e<3;e++)c[e]=Math.min(c[e],u[t+e]),c[e+3]=Math.max(c[e+3],u[t+e]);f&&n.push({location:u.slice(t,t+3),screenSpaceBoundingRect:f})}if(i&&(l(c,v),\"absolute-height\"!==this.elevationContext.mode)){let e;const t=g(c,i.service.spatialReference,i);try{e=await i.service.queryElevation(v[0],v[1],a,t,\"ground\")}catch(p){}null!=e&&h(c,0,0,-this.alignedSampledElevation+e)}return c}addObjectState(e,t){if(e===m.Highlight){const i=new f(e);this._addHighlightId(i),t.addExternal((e=>{this._removeHighlightId(e)}),i)}}removeObjectState(e){this._highlights.forEach((t=>e.remove(t)))}_addHighlightId(e){this._highlights.add(e),this._lodRenderer.instanceData.setHighlight(this.instanceIndex,!0)}_removeHighlightId(e){this._highlights.delete(e),this._lodRenderer.instanceData.setHighlight(this.instanceIndex,this._highlights.size>0)}get _lodRenderer(){return this.graphics3DSymbolLayer.lodRenderer}}const u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=n(),v=n(),b=[[0,1,2],[3,1,2],[0,4,2],[3,4,2],[0,1,5],[3,1,5],[0,4,5],[3,4,5]],I=e();export{p as Graphics3DLodInstanceGraphicLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{LodResources as e,LodComponentResources as o,LodLevelResources as t}from\"../../webgl-engine/lib/lodRendering/LodResources.js\";function n(e,n){const r=e.stageResources.geometries.map((t=>new o(t,e.stageResources.textures))),u=null==e.lodThreshold||0===e.lodThreshold&&n>0?s(r):e.lodThreshold;return new t(r,u,e.pivotOffset)}function r(o){return new e(o.map(((e,o)=>n(e,o))))}function s(e){const o=e.reduce(((e,{geometry:o})=>e+o.indexCount/3),0);return Math.sqrt(o*u/Math.PI)}const u=20;export{r as makeLodResources};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport l from\"../../../../core/Error.js\";import{fetchStyle as t,symbolUrlFromStyleItem as s}from\"../../../../symbols/support/styleUtils.js\";import{getStyleItemFromStyle as e,fetchSymbolFromStyle as n}from\"../../../../symbols/support/webStyleSymbolUtils.js\";async function r(r){if(null===r||null==r.styleName&&null==r.styleUrl)return null;const o=r.name;if(null==o)throw new l(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\");const u={portal:r.portal},i=await t(r,u).catch((()=>null));if(null===i)return null;const m=e(o,i.data);if(m&&!m.formatInfos?.some((l=>\"gltf_basisu\"===l.type)))return null;const a=await n(i,o,u,\"webRef\",((l,t)=>s(l,t,[\"gltf_basisu\",\"gltf\"]))).catch((()=>null));if(null===a||\"point-3d\"!==a.type)return null;const y=a.symbolLayers.items[0];return\"object\"===y.type?y.resource:null}export{r as getResourceUrlFromSymbolStyle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{BufferObject as e}from\"../../../../webgl/BufferObject.js\";import{Usage as t}from\"../../../../webgl/enums.js\";class r{constructor(r,i,s){this._elementSize=i,this._buffer=e.createVertex(r,t.STATIC_DRAW),this.resize(s)}destroy(){this._buffer.dispose()}get elementSize(){return this._elementSize}get capacity(){return this._capacity}get array(){return this._array}get buffer(){return this._buffer}get usedMemory(){return this._array.byteLength+this._buffer.usedMemory}copyRange(e,t,r,i=0){const s=new Uint8Array(this.array,e*this.elementSize,(t-e)*this.elementSize);new Uint8Array(r.array,i*this.elementSize).set(s)}transferAll(){this._buffer.setData(this._array)}transferRange(e,t){const r=e*this._elementSize,i=t*this._elementSize;this._buffer.setSubData(new Uint8Array(this._array),r,r,i)}resize(e){const t=e*this._elementSize,r=new ArrayBuffer(t);this._array&&(e>=this._capacity?new Uint8Array(r).set(new Uint8Array(this._array)):new Uint8Array(r).set(new Uint8Array(this._array).subarray(0,e*this._elementSize))),this._array=r,this._buffer.setSize(t),this._capacity=e}}export{r as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{reallocShrinkThreshold as t,reallocGrowthFactor as i,reallocShrinkFactor as e}from\"../../../../../core/arrayUtils.js\";import{BufferViewVec3f as s,BufferViewMat3f as a,BufferViewVec4f as r,BufferViewVec4u8 as n}from\"../../../../../geometry/support/buffer/BufferView.js\";import{assert as h}from\"../Util.js\";import{VertexAttribute as d}from\"../VertexAttribute.js\";import _ from\"./BackedBufferObject.js\";class c{constructor(t){this.modelOriginHi=t.getField(d.INSTANCEMODELORIGINHI,s),this.modelOriginLo=t.getField(d.INSTANCEMODELORIGINLO,s),this.model=t.getField(d.INSTANCEMODEL,a),this.modelNormal=t.getField(d.INSTANCEMODELNORMAL,a),this.featureAttribute=t.getField(d.INSTANCEFEATUREATTRIBUTE,r),this.color=t.getField(d.INSTANCECOLOR,n),this.objectAndLayerIdColor=t.getField(d.INSTANCEOBJECTANDLAYERIDCOLOR,n)}}class f{constructor(t,i){this._rctx=t,this._instanceBufferLayout=i,this._headIndex=0,this._tailIndex=0,this._firstIndex=null,this._captureFirstIndex=!0,this._updating=!1,this._prevHeadIndex=0,this._resized=!1,this._capacity=1}destroy(){this._buffer&&this._buffer.destroy()}get buffer(){return this._buffer.buffer}get view(){return this._view}get capacity(){return this._capacity}get size(){const t=this._headIndex,i=this._tailIndex;return t>=i?t-i:t+this._capacity-i}get isEmpty(){return this._headIndex===this._tailIndex}get isFull(){return this._tailIndex===(this._headIndex+1)%this._capacity}get headIndex(){return this._headIndex}get tailIndex(){return this._tailIndex}get firstIndex(){return this._firstIndex}get usedMemory(){return this._buffer?.usedMemory??0}reset(){this._headIndex=0,this._tailIndex=0,this._firstIndex=null}startUpdateCycle(){this._captureFirstIndex=!0}beginUpdate(){h(!this._updating,\"already updating\"),this._updating=!0,this._prevHeadIndex=this._headIndex}endUpdate(){h(this._updating,\"not updating\"),this.size<t*this.capacity&&this._shrink(),this._resized?(this._buffer.transferAll(),this._resized=!1):this._transferRange(this._prevHeadIndex,this._headIndex),this._updating=!1}allocateHead(){h(this._updating,\"not updating\"),this.isFull&&this._grow();const t=this.headIndex;return this._captureFirstIndex&&(this._firstIndex=t,this._captureFirstIndex=!1),this._incrementHead(),h(this._headIndex!==this._tailIndex,\"invalid pointers\"),t}freeTail(){h(this._updating,\"not updating\"),h(this.size>0,\"invalid size\");const t=this._tailIndex===this._firstIndex;this._incrementTail(),t&&(this._firstIndex=this._tailIndex)}_grow(){const t=Math.max(u,Math.floor(this._capacity*i));this._resize(t)}_shrink(){const t=Math.max(u,Math.floor(this._capacity*e));this._resize(t)}_resize(t){if(h(this._updating,\"not updating\"),t===this._capacity)return;const i=new _(this._rctx,this._instanceBufferLayout.stride,t);if(this._buffer){this._firstIndex&&(this._firstIndex=(this._firstIndex+this._capacity-this._tailIndex)%this._capacity);const t=this.size,e=this._compactInstances(i);h(e===t,\"invalid compaction\"),this._buffer.destroy(),this._tailIndex=0,this._headIndex=e,this._prevHeadIndex=0}this._resized=!0,this._capacity=t,this._buffer=i,this._view=new c(this._instanceBufferLayout.createView(this._buffer.array))}_compactInstances(t){const i=this._headIndex,e=this._tailIndex;return e<i?(this._buffer.copyRange(e,i,t),i-e):e>i?(this._buffer.copyRange(e,this._capacity,t),i>0&&this._buffer.copyRange(0,i,t,this._capacity-e),i+(this._capacity-e)):0}_incrementHead(t=1){this._headIndex=(this._headIndex+t)%this._capacity}_incrementTail(t=1){this._tailIndex=(this._tailIndex+t)%this._capacity}_transferRange(t,i){t<i?this._buffer.transferRange(t,i):t>i&&(i>0&&this._buffer.transferRange(0,i),this._buffer.transferRange(t,this._capacity))}}const u=64;export{f as RenderInstanceData,c as RenderInstanceDataView,u as initialCapacity};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Accessor.js\";import{reallocGrowthFactor as s}from\"../../../../../core/arrayUtils.js\";import i from\"../../../../../core/Evented.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{fromMat4 as o,invert as n,transpose as l}from\"../../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as c}from\"../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{multiply as h}from\"../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as m}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{s as g}from\"../../../../../chunks/vec32.js\";import{create as f}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{BufferViewMat4f64 as d,BufferViewVec3f64 as T,BufferViewMat3f as _,BufferViewVec2f as u,BufferViewVec4f64 as L,BufferViewVec4f as A,BufferViewVec4u8 as E,BufferViewUint8 as p}from\"../../../../../geometry/support/buffer/BufferView.js\";import{scaleFromMatrix as O}from\"../../../support/mathUtils.js\";import{newLayout as v}from\"../../../support/buffer/InterleavedLayout.js\";import{assert as I}from\"../Util.js\";import{VertexAttribute as F}from\"../VertexAttribute.js\";import{initialCapacity as S}from\"./RenderInstanceData.js\";var M;function C(t){let e=v().mat4f64(F.LOCALTRANSFORM).mat4f64(F.GLOBALTRANSFORM).vec4f64(F.BOUNDINGSPHERE).vec3f64(F.MODELORIGIN).mat3f(F.INSTANCEMODEL).mat3f(F.INSTANCEMODELNORMAL).vec2f(F.MODELSCALEFACTORS);return t.includes(F.FEATUREATTRIBUTE)&&(e=e.vec4f(F.FEATUREATTRIBUTE)),t.includes(F.COLOR)&&(e=e.vec4u8(F.COLOR)),t.includes(F.OBJECTANDLAYERIDCOLOR)&&(e=e.vec4u8(F.OBJECTANDLAYERIDCOLOR)),e=e.u8(F.STATE).u8(F.LODLEVEL),e}!function(t){t[t.ALLOCATED=1]=\"ALLOCATED\",t[t.DEFAULT_ACTIVE=2]=\"DEFAULT_ACTIVE\",t[t.VISIBLE=4]=\"VISIBLE\",t[t.HIGHLIGHT=8]=\"HIGHLIGHT\",t[t.HIGHLIGHT_ACTIVE=16]=\"HIGHLIGHT_ACTIVE\",t[t.REMOVE=32]=\"REMOVE\",t[t.TRANSFORM_CHANGED=64]=\"TRANSFORM_CHANGED\",t[t.ACTIVE=18]=\"ACTIVE\"}(M||(M={}));class R{constructor(t){this.localTransform=t.getField(F.LOCALTRANSFORM,d),this.globalTransform=t.getField(F.GLOBALTRANSFORM,d),this.modelOrigin=t.getField(F.MODELORIGIN,T),this.model=t.getField(F.INSTANCEMODEL,_),this.modelNormal=t.getField(F.INSTANCEMODELNORMAL,_),this.modelScaleFactors=t.getField(F.MODELSCALEFACTORS,u),this.boundingSphere=t.getField(F.BOUNDINGSPHERE,L),this.featureAttribute=t.getField(F.FEATUREATTRIBUTE,A),this.color=t.getField(F.COLOR,E),this.objectAndLayerIdColor=t.getField(F.OBJECTANDLAYERIDCOLOR,E),this.state=t.getField(F.STATE,p),this.lodLevel=t.getField(F.LODLEVEL,p)}}let b=class extends e{constructor(t,e){super(t),this.events=new i,this._capacity=0,this._size=0,this._next=0,this._layout=C(e),this._capacity=S,this._buffer=this._layout.createBuffer(this._capacity),this._view=new R(this._buffer)}get capacity(){return this._capacity}get size(){return this._size}get view(){return this._view}addInstance(){this._size+1>this._capacity&&this._grow();const t=this._findSlot();return this._view.state.set(t,M.ALLOCATED),this._size++,this.events.emit(\"instances-changed\"),t}removeInstance(t){const e=this._view.state;I(t>=0&&t<this._capacity&&!!(e.get(t)&M.ALLOCATED),\"invalid instance handle\"),this._getStateFlag(t,M.ACTIVE)?this._setStateFlags(t,M.REMOVE):this.freeInstance(t),this.events.emit(\"instances-changed\")}freeInstance(t){const e=this._view.state;I(t>=0&&t<this._capacity&&!!(e.get(t)&M.ALLOCATED),\"invalid instance handle\"),e.set(t,0),this._size--}setLocalTransform(t,e,s=!0){this._view.localTransform.setMat(t,e),s&&this.updateModelTransform(t)}getLocalTransform(t,e){this._view.localTransform.getMat(t,e)}setGlobalTransform(t,e,s=!0){this._view.globalTransform.setMat(t,e),s&&this.updateModelTransform(t)}getGlobalTransform(t,e){this._view.globalTransform.getMat(t,e)}updateModelTransform(t){const e=this._view,s=y,i=D;e.localTransform.getMat(t,N),e.globalTransform.getMat(t,V);const a=h(V,V,N);g(s,a[12],a[13],a[14]),e.modelOrigin.setVec(t,s),o(i,a),e.model.setMat(t,i);const r=O(y,a);r.sort(),e.modelScaleFactors.set(t,0,r[1]),e.modelScaleFactors.set(t,1,r[2]),n(i,i),l(i,i),e.modelNormal.setMat(t,i),this._setStateFlags(t,M.TRANSFORM_CHANGED),this.events.emit(\"instance-transform-changed\",{index:t})}getModelTransform(t,e){const s=this._view;s.model.getMat(t,D),s.modelOrigin.getVec(t,y),e[0]=D[0],e[1]=D[1],e[2]=D[2],e[3]=0,e[4]=D[3],e[5]=D[4],e[6]=D[5],e[7]=0,e[8]=D[6],e[9]=D[7],e[10]=D[8],e[11]=0,e[12]=y[0],e[13]=y[1],e[14]=y[2],e[15]=1}applyShaderTransformation(t,e){null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e)}getCombinedModelTransform(t,e){return this.getModelTransform(t,e),null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e),e}getCombinedLocalTransform(t,e){this._view.localTransform.getMat(t,e),null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e)}getCombinedMaxScaleFactor(t){let e=this._view.modelScaleFactors.get(t,1);return null!=this.shaderTransformation&&(this.shaderTransformation.scaleFactor(y,this,t),e*=Math.max(y[0],y[1],y[2])),e}getCombinedMedianScaleFactor(t){let e=this._view.modelScaleFactors.get(t,0);return null!=this.shaderTransformation&&(this.shaderTransformation.scaleFactor(y,this,t),e*=w(y[0],y[1],y[2])),e}getModel(t,e){this._view.model.getMat(t,e)}setFeatureAttribute(t,e){this._view.featureAttribute.setVec(t,e)}getFeatureAttribute(t,e){this._view.featureAttribute.getVec(t,e)}setColor(t,e){this._view.color.setVec(t,e)}setObjectAndLayerIdColor(t,e){this._view.objectAndLayerIdColor.setVec(t,e)}setVisible(t,e){e!==this.getVisible(t)&&(this._setStateFlag(t,M.VISIBLE,e),this.events.emit(\"instance-visibility-changed\",{index:t}))}getVisible(t){return this._getStateFlag(t,M.VISIBLE)}setHighlight(t,e){e!==this.getHighlight(t)&&(this._setStateFlag(t,M.HIGHLIGHT,e),this.events.emit(\"instance-highlight-changed\"))}getHighlight(t){return this._getStateFlag(t,M.HIGHLIGHT)}getState(t){return this._view.state.get(t)}getLodLevel(t){return this._view.lodLevel.get(t)}countFlags(t){let e=0;for(let s=0;s<this._capacity;++s){this.getState(s)&t&&++e}return e}_setStateFlags(t,e){const s=this._view.state;e=s.get(t)|e,s.set(t,e)}_clearStateFlags(t,e){const s=this._view.state;e=s.get(t)&~e,s.set(t,e)}_setStateFlag(t,e,s){s?this._setStateFlags(t,e):this._clearStateFlags(t,e)}_getStateFlag(t,e){return!!(this._view.state.get(t)&e)}_grow(){this._capacity=Math.max(S,Math.floor(this._capacity*s)),this._buffer=this._layout.createBuffer(this._capacity).copyFrom(this._buffer),this._view=new R(this._buffer)}_findSlot(){const t=this._view.state;let e=this._next;for(;t.get(e)&M.ALLOCATED;)e=e+1===this._capacity?0:e+1;return this._next=e+1===this._capacity?0:e+1,e}};function w(t,e,s){return Math.max(Math.min(t,e),Math.min(Math.max(t,e),s))}t([a({constructOnly:!0})],b.prototype,\"shaderTransformation\",void 0),t([a()],b.prototype,\"_size\",void 0),t([a({readOnly:!0})],b.prototype,\"size\",null),b=t([r(\"esri.views.3d.webgl-engine.lib.lodRendering.InstanceData\")],b);const y=f(),D=c(),N=m(),V=m();export{b as InstanceData,R as InstanceDataView,M as StateFlags};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{e}from\"../../../../../chunks/vec32.js\";import{w as s,c as i,g as r}from\"../../../../../chunks/sphere.js\";import{maxScale as a}from\"../../../support/mathUtils.js\";import h from\"../Octree.js\";class n extends h{constructor(e,r){super((t=>s(this._instanceData.view.boundingSphere.getVec(t,this._tmpSphere))),{maximumDepth:25}),this._instanceData=e,this._boundingSphere=r,this._tmpSphere=i(),this._tmpMat4=t()}addInstance(t){const s=this._instanceData.view.boundingSphere,i=this._instanceData.getCombinedModelTransform(t,this._tmpMat4);e(r(this._tmpSphere),this._boundingSphere.center,i),this._tmpSphere[3]=this._boundingSphere.radius*a(i),s.setVec(t,this._tmpSphere),this.add([t])}removeInstance(t){this.remove([t])}}export{n as InstanceOctree};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass e{constructor(e,i){this._worldSpaceRadius=e,this._minScreenSpaceRadii=i}selectLevel(e,i,t){const c=t.computeScreenPixelSizeAt(e),r=this._worldSpaceRadius*i/c;let s=0;for(let a=1;a<this._minScreenSpaceRadii.length;++a)r>=this._minScreenSpaceRadii[a]&&(s=a);return s}}export{e as LevelSelector};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{glLayout as r}from\"../../../support/buffer/glUtil.js\";import{Default3D as t}from\"../DefaultVertexAttributeLocations.js\";import{GLMaterials as e}from\"../GLMaterials.js\";import{newIntersectorResult as s}from\"../Intersector.js\";import{IntersectorType as o,StoreResults as i}from\"../IntersectorInterfaces.js\";import{VertexArrayObject as a}from\"../VertexArrayObject.js\";import{LodTarget as n}from\"./Intersector.js\";import{BufferObject as m}from\"../../../../webgl/BufferObject.js\";import{Usage as l}from\"../../../../webgl/enums.js\";class u{constructor(s,o){const i=s.renderContext.rctx,n=o.geometry;this._materialRepository=s.materialRepository,n.material.setParameters({instancedDoublePrecision:!0});const u=n.material.createBufferWriter(),f=u.vertexBufferLayout,d=u.elementCount(n),p=f.createBuffer(d);u.write(null,null,n,p,0),this.geometry=n,this.material=n.material,this.glMaterials=new e(n.material,this._materialRepository),this.vertexBufferLayout=f,this.vbo=m.createVertex(i,l.STATIC_DRAW,p.buffer),this.vao=new a(i,t,{geometry:r(f)},{geometry:this.vbo}),this.vertexCount=d}destroy(){this.glMaterials.dispose(),this.vbo.dispose(),this.vao.dispose()}get boundingInfo(){return this.geometry.boundingInfo}get triangleCount(){return this.vertexCount/3}intersect(r,t,e,a,m,l,u,f){const d=this.geometry.id;this.material.intersect(this.geometry,r.transform.transform,r,e,a,((e,a,p,c,y)=>{if(e>=0){if(null!=t&&!t(r.rayBegin,r.rayEnd,e))return;const c=new n(l.layerUid,l.graphicUid(m),d,p,u,f);if((null==r.results.min.drapedLayerOrder||y>=r.results.min.drapedLayerOrder)&&(null==r.results.min.dist||e<r.results.min.dist)&&r.results.min.set(o.LOD,c,e,a,r.transform.transform,y),r.options.store!==i.MIN&&(null==r.results.max.drapedLayerOrder||y>=r.results.max.drapedLayerOrder)&&(null==r.results.max.dist||e>r.results.max.dist)&&r.results.max.set(o.LOD,c,e,a,r.transform.transform,y),r.options.store===i.ALL){const t=s(r.results.min.ray);t.set(o.LOD,c,e,a,r.transform.transform,y),r.results.all.push(t)}}}))}}export{u as LodComponentData};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{isSome as o}from\"../../../../../core/arrayUtils.js\";import{isAborted as n,throwIfAborted as t}from\"../../../../../core/promiseUtils.js\";import{create as e}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{empty as r,expandWithVec3 as i,center as s,diameter as c}from\"../../../../../geometry/support/aaBoundingBox.js\";import{LodComponentData as u}from\"./LodComponentData.js\";class a{static async create(e,r,i){const s=await Promise.allSettled(r.components.map((o=>e.controller.schedule((()=>new u(e,o)),i)))),c=s.map((o=>\"fulfilled\"===o.status?o.value:null)).filter(o);if(n(i)||c.length!==s.length){c.forEach((o=>o.destroy())),t(i);for(const o of s)if(\"rejected\"===o.status)throw o.reason}return new a(r.minScreenSpaceRadius,c)}constructor(o,n){this.minScreenSpaceRadius=o,this.components=n}destroy(){this.components.forEach((o=>o.destroy()))}intersect(o,n,t,e,r,i,s){this.components.forEach((c=>c.intersect(o,n,t,e,r,i,this.boundingSphere,s)))}get boundingBox(){if(null==this._boundingBox){const o=r();this.components.forEach((n=>{null!=n.boundingInfo&&(i(o,n.boundingInfo.bbMin),i(o,n.boundingInfo.bbMax))})),this._boundingBox=o}return this._boundingBox}get boundingSphere(){if(null==this._boundingSphere){const o=this.boundingBox,n=e();s(o,n),this._boundingSphere={center:n,radius:.5*c(o)}}return this._boundingSphere}get triangleCount(){return this.components.reduce(((o,n)=>o+n.triangleCount),0)}}export{a as LodLevel};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../../../core/arrayUtils.js\";import{destroyMaybe as r}from\"../../../../../core/maybe.js\";import{isAborted as a,throwIfAborted as s}from\"../../../../../core/promiseUtils.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{create as o}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{f as l,k as c,e as h}from\"../../../../../chunks/vec32.js\";import{create as d}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as u,fromValues as m}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{debugFlags as f}from\"../../../support/debugFlags.js\";import{glLayout as _}from\"../../../support/buffer/glUtil.js\";import{newLayout as p}from\"../../../support/buffer/InterleavedLayout.js\";import g from\"../../../webgl/RenderCamera.js\";import{ShaderOutput as I}from\"../../core/shaderLibrary/ShaderOutput.js\";import{ASyncPreparesRenderPlugin as C}from\"../../effects/RenderPlugin.js\";import{Default3D as y}from\"../DefaultVertexAttributeLocations.js\";import{IntersectorType as v}from\"../IntersectorInterfaces.js\";import E from\"../Octree.js\";import{RenderSlot as A}from\"../RenderSlot.js\";import{assert as b}from\"../Util.js\";import{VertexAttribute as D}from\"../VertexAttribute.js\";import{InstanceData as R,StateFlags as T}from\"./InstanceData.js\";import{InstanceOctree as L}from\"./InstanceOctree.js\";import{LevelSelector as S}from\"./LevelSelector.js\";import{LodLevel as O}from\"./LodLevel.js\";import{RenderInstanceData as j}from\"./RenderInstanceData.js\";import{colorMixModes as x}from\"../../materials/internal/MaterialUtil.js\";import{encodeDoubleVec3 as N}from\"../../materials/renderers/utils.js\";import{DefaultMaterialDrawParameters as M}from\"../../shaders/DefaultMaterialTechnique.js\";import{TaskPriority as U,noBudget as w}from\"../../../../support/Scheduler.js\";import{bindVertexBufferLayout as F,unbindVertexBufferLayout as H}from\"../../../../webgl/Util.js\";const V=e=>{const t=e.baseBoundingSphere.radius,r=e.levels.map((e=>e.minScreenSpaceRadius));return new S(t,r)};let B=class extends C{constructor(e,t){super(e),this.type=v.LOD,this.isGround=!1,this._levels=[],this._defaultRenderInstanceData=[new Array],this._highlightRenderInstanceData=[new Array],this._allRenderInstanceData=[this._defaultRenderInstanceData[0],this._highlightRenderInstanceData[0]],this._instanceIndex=0,this._cycleStartIndex=0,this._slicePlane=!1,this._camera=new g,this._updateCyclesWithStaticCamera=-1,this._needFullCycle=!1,this.produces=new Map([[A.OPAQUE_MATERIAL,e=>this._produces(e)],[A.TRANSPARENT_MATERIAL,e=>!!this._hasTransparentLevels()&&this._produces(e)]]),this._instanceData=new R({shaderTransformation:e.shaderTransformation},e.optionalFields),this.addHandles(t.registerTask(U.LOD_RENDERER,this))}initialize(){this._instanceBufferLayout=q(this.optionalFields),this._glInstanceBufferLayout=_(this._instanceBufferLayout,1),this.addHandles([this._instanceData.events.on(\"instances-changed\",(()=>this._requestUpdateCycle())),this._instanceData.events.on(\"instance-transform-changed\",(({index:e})=>{this._requestUpdateCycle(),this.metadata.notifyGraphicGeometryChanged(e)})),this._instanceData.events.on(\"instance-visibility-changed\",(({index:e})=>{this._requestUpdateCycle(!0),this.metadata.notifyGraphicVisibilityChanged(e)})),this._instanceData.events.on(\"instance-highlight-changed\",(()=>this._requestUpdateCycle(!0)))])}get _enableLevelSelection(){return this.symbol.levels.length>1}get levels(){return this._levels}get baseBoundingBox(){return this._levels[this._levels.length-1].boundingBox}get baseBoundingSphere(){return this._levels[this._levels.length-1].boundingSphere}get baseMaterial(){return this._levels[this._levels.length-1].components[0].material}get slicePlaneEnabled(){return this._slicePlane}set slicePlaneEnabled(e){this._slicePlane=e}get layerUid(){return this.metadata.layerUid}get instanceData(){return this._instanceData}get usedMemory(){return this._allRenderInstanceData.reduce(((e,t)=>t.reduce(((e,t)=>e+t.usedMemory),e)),0)}get renderStats(){const e=this._instanceData.size,t=[];return this._levels.forEach(((e,r)=>{const a=this._allRenderInstanceData[0][r].size+this._allRenderInstanceData[1][r].size,s=e.triangleCount;t.push({renderedInstances:a,renderedTriangles:a*s,trianglesPerInstance:s})})),{totalInstances:e,renderedInstances:t.reduce(((e,t)=>e+t.renderedInstances),0),renderedTriangles:t.reduce(((e,t)=>e+t.renderedTriangles),0),levels:t}}async initializeRenderContext(e,r){this._context=e;const n=e.renderContext.rctx,i=await Promise.allSettled(this.symbol.levels.map((t=>(this._defaultRenderInstanceData[0].push(new j(n,this._instanceBufferLayout)),this._highlightRenderInstanceData[0].push(new j(n,this._instanceBufferLayout)),O.create(e,t,r))))),o=i.map((e=>\"fulfilled\"===e.status?e.value:null)).filter(t);if(a(r)||o.length!==i.length){o.forEach((e=>e.destroy())),s(r);for(const e of i)if(\"rejected\"===e.status)throw e.reason}this._levels=o,this._levelSelector=V(this)}uninitializeRenderContext(){this._invalidateOctree(),this._levels.forEach((e=>e.destroy())),this._defaultRenderInstanceData[0].forEach((e=>e.destroy())),this._highlightRenderInstanceData[0].forEach((e=>e.destroy()))}_hasTransparentLevels(){return this._levels.some((e=>e.components.some((e=>{const t=e.material.produces.get(A.TRANSPARENT_MATERIAL);return t&&t(I.Color)}))))}hasHighlights(){return this._highlightRenderInstanceData[0].some((e=>e.size>0))}_produces(e){return e!==I.Highlight&&e!==I.ShadowHighlight||this.hasHighlights()}prepareRender(e){if(!f.LOD_INSTANCE_RENDERER_DISABLE_UPDATES){if(this._enableLevelSelection){const t=e.bindParameters.contentCamera.equals(this._camera);this._camera.copyFrom(e.bindParameters.contentCamera),t||this._requestUpdateCycle()}this._needFullCycle&&(this.runTask(w),this._needFullCycle=!1)}}prepareTechniques(e){if(!this.baseMaterial.isVisible()||!this.baseMaterial.isVisibleForOutput(e.output))return null;const t=this._getInstanceDatas(e.output);if(!t)return null;const r=new Array;return t.forEach((t=>this.levels.forEach(((a,s)=>{a.components.forEach((a=>r.push(this._beginComponent(e,t[s],a))))})))),r}renderNode(e,t){const r=this._getInstanceDatas(e.output);if(!r||null==t)return;let a=0;e.rctx.bindVAO(),r.forEach((r=>this.levels.forEach(((s,n)=>{s.components.forEach((s=>this._renderComponent(e,t[a++],r[n],s,n)))}))))}_getInstanceDatas(e){const t=e!==I.Highlight&&e!==I.ShadowHighlight,r=e!==I.ShadowExcludeHighlight;return t&&r?this._allRenderInstanceData:t?this._defaultRenderInstanceData:r?this._highlightRenderInstanceData:null}intersect(e,t,r,a){if(!this.baseMaterial.isVisible()||null==this._octree)return;const s=d();l(s,a,r);const n=s=>{this._instanceData.getCombinedModelTransform(s,W),e.transform.set(W),h(K,r,e.transform.inverse),h(Y,a,e.transform.inverse);const n=this._instanceData.getState(s),i=this._instanceData.getLodLevel(s),o=this._levels.length;b(!!(n&T.ACTIVE),\"invalid instance state\"),b(i>=0&&i<o,\"invaid lod level\"),this._levels[i].intersect(e,t,K,Y,s,this.metadata,o)};this.baseMaterial.parameters.verticalOffset?this._octree.forEach(n):this._octree.forEachAlongRay(r,s,n)}notifyShaderTransformationChanged(){this._invalidateOctree(),this._requestUpdateCycle()}get _octree(){if(null==this._octreeCached){const e=this._instanceData,t=e.view?.state;if(!t)return null;this._octreeCached=new L(e,this.baseBoundingSphere);for(let r=0;r<e.capacity;++r)t.get(r)&T.ACTIVE&&this._octreeCached.addInstance(r)}return this._octreeCached}_invalidateOctree(){this._octreeCached=r(this._octreeCached)}queryDepthRange(e){if(null==this._octree)return{near:1/0,far:-1/0};const t=e.viewForward,r=this._octree.findClosest(t,E.DepthOrder.FRONT_TO_BACK,e.frustum),a=this._octree.findClosest(t,E.DepthOrder.BACK_TO_FRONT,e.frustum);if(null==r||null==a)return{near:1/0,far:-1/0};const s=e.eye,n=this._instanceData.view;n.boundingSphere.getVec(r,k),l(k,k,s);const i=c(k,t)-k[3];n.boundingSphere.getVec(a,k),l(k,k,s);const o=c(k,t)+k[3];return{near:Math.max(e.near,i),far:Math.min(e.far,o)}}_requestUpdateCycle(e=!1){this._updateCyclesWithStaticCamera=-1,this._cycleStartIndex=this._instanceIndex,e&&(this._needFullCycle=!0,this._context.requestRender())}_startUpdateCycle(){this._updateCyclesWithStaticCamera++,this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.startUpdateCycle()))))}get running(){return this._instanceData.size>0&&this._updateCyclesWithStaticCamera<1}runTask(e){const{_enableLevelSelection:t,_camera:r,_levelSelector:a}=this;this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.beginUpdate()))));const s=this._instanceData,n=s.view;let i=s.size;const o=s.capacity;let l=this._instanceIndex;const c=Math.ceil(o/500);for(let h=0;h<i&&!e.done;++h){l===this._cycleStartIndex&&this._startUpdateCycle();const h=n.state.get(l);let d=0;if(!(h&T.ALLOCATED)){l=l+1===o?0:l+1,i++;continue}const u=n.lodLevel.get(l);if(h&T.DEFAULT_ACTIVE&&this._defaultRenderInstanceData[0][u].freeTail(),h&T.HIGHLIGHT_ACTIVE&&this._highlightRenderInstanceData[0][u].freeTail(),h&T.REMOVE)s.freeInstance(l);else if(h&T.VISIBLE){let e=0;t&&(n.modelOrigin.getVec(l,z),e=a.selectLevel(z,s.getCombinedMedianScaleFactor(l),r)),d=h&~(T.ACTIVE|T.TRANSFORM_CHANGED),e>=0&&(h&T.HIGHLIGHT?(P(this._highlightRenderInstanceData[0][e],n,l),d|=T.HIGHLIGHT_ACTIVE):(P(this._defaultRenderInstanceData[0][e],n,l),d|=T.DEFAULT_ACTIVE)),n.state.set(l,d),n.lodLevel.set(l,e)}else d=h&~(T.ACTIVE|T.TRANSFORM_CHANGED),n.state.set(l,d);if(null!=this._octreeCached){const e=!!(h&T.ACTIVE),t=!!(d&T.ACTIVE);!e&&t?this._octreeCached.addInstance(l):e&&!t?this._octreeCached.removeInstance(l):e&&t&&h&T.TRANSFORM_CHANGED&&(this._octreeCached.removeInstance(l),this._octreeCached.addInstance(l))}l=l+1===o?0:l+1,l%c==0&&e.madeProgress()}this._instanceIndex=l,this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.endUpdate())))),this._context.requestRender()}_beginComponent(e,t,r){if(0===t.size)return null;const a=r.glMaterials.load(e.rctx,e.bindParameters.slot,e.output);return null!=a?a.beginSlot(e.bindParameters):null}_renderComponent(e,t,r,a,s){if(!t)return;const{bindParameters:n,rctx:i}=e;i.runAppleAmdDriverHelper();const o=i.bindTechnique(t,n,a.material.parameters,Q);i.bindVAO(a.vao),t.ensureAttributeLocations(a.vao),f.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL&&e.output===I.Color&&(o.setUniform4fv(\"externalColor\",J[Math.min(s,J.length-1)]),o.setUniform1i(\"colorMixMode\",x.replace));const l=r.capacity,c=r.headIndex,h=r.tailIndex,d=r.firstIndex,u=this._glInstanceBufferLayout,m=(e,s)=>{F(i,y,r.buffer,u,e),i.drawArraysInstanced(t.primitiveType,0,a.vertexCount,s-e),H(i,y,r.buffer,u)};a.material.parameters.transparent&&null!=d?c>h?(b(d>=h&&d<=c,\"invalid firstIndex\"),m(d,c),m(h,d)):c<h&&(d<=c?(b(d>=0&&d<=c,\"invalid firstIndex\"),m(d,c),m(h,l),m(0,d)):(b(d>=h&&d<=l,\"invalid firstIndex\"),m(d,l),m(0,c),m(h,d))):c>h?m(h,c):c<h&&(m(0,c),m(h,l)),i.bindVAO(null)}};function P(e,t,r){const a=e.allocateHead();G(t,r,e.view,a)}function G(e,t,r,a){N(e.modelOrigin,t,r.modelOriginHi,r.modelOriginLo,a),r.model.copyFrom(a,e.model,t),r.modelNormal.copyFrom(a,e.modelNormal,t),e.color&&r.color&&r.color.copyFrom(a,e.color,t),e.objectAndLayerIdColor&&r.objectAndLayerIdColor&&r.objectAndLayerIdColor.copyFrom(a,e.objectAndLayerIdColor,t),e.featureAttribute&&r.featureAttribute&&r.featureAttribute.copyFrom(a,e.featureAttribute,t)}function q(e){let t=p().vec3f(D.INSTANCEMODELORIGINHI).vec3f(D.INSTANCEMODELORIGINLO).mat3f(D.INSTANCEMODEL).mat3f(D.INSTANCEMODELNORMAL);return null!=e&&e.includes(\"featureAttribute\")&&(t=t.vec4f(D.INSTANCEFEATUREATTRIBUTE)),null!=e&&e.includes(\"color\")&&(t=t.vec4u8(D.INSTANCECOLOR)),null!=e&&e.includes(\"objectAndLayerIdColor\")&&(t=t.vec4u8(D.INSTANCEOBJECTANDLAYERIDCOLOR)),t}e([n({constructOnly:!0})],B.prototype,\"symbol\",void 0),e([n({constructOnly:!0})],B.prototype,\"optionalFields\",void 0),e([n({constructOnly:!0})],B.prototype,\"metadata\",void 0),e([n({constructOnly:!0})],B.prototype,\"shaderTransformation\",void 0),e([n()],B.prototype,\"_instanceData\",void 0),e([n()],B.prototype,\"_cycleStartIndex\",void 0),e([n({readOnly:!0})],B.prototype,\"_enableLevelSelection\",null),e([n()],B.prototype,\"_updateCyclesWithStaticCamera\",void 0),e([n({readOnly:!0})],B.prototype,\"running\",null),B=e([i(\"esri.views.3d.webgl-engine.lib.lodRendering.LodRenderer\")],B);const z=d(),k=u(),W=o(),K=d(),Y=d(),J=[m(1,0,1,1),m(0,0,1,1),m(0,1,0,1),m(1,1,0,1),m(1,0,0,1)],Q=new M;export{B as LodRenderer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import has from\"../../../../core/has.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import{pt2px as s}from\"../../../../core/screenUtils.js\";import{estimateSize as r}from\"../../../../core/typedArrayUtil.js\";import{identity as i,scale as a,translate as o,copy as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{l as c,F as h,c as d,B as m,g as p,s as u}from\"../../../../chunks/vec32.js\";import{fromArray as y,ONES as f,ZEROS as _,fromValues as g,create as b}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as P,create as R}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{computeTranslationToOriginAndRotation as x}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectPointToVector as v}from\"../../../../geometry/projection/projectPointToVector.js\";import{create as L,size as C,containsPoint as S,center as j}from\"../../../../geometry/support/aaBoundingBox.js\";import{defaultPrimitive as w}from\"../../../../symbols/support/ObjectSymbol3DLayerResource.js\";import{objectSymbolLayerPrimitiveBoundingBox as E,objectSymbolLayerSizeWithResourceSize as U}from\"../../../../symbols/support/symbolLayerUtils3D.js\";import{estimateNumVerticesForLods as T,defaultSymbolLayerMemoryComplexity as O}from\"./defaultSymbolComplexity.js\";import{perLodInstanceElevationAligner as B}from\"./ElevationAligners.js\";import{needsElevationUpdates3D as I,evaluateElevationInfoAtPoint as G,SampleElevationInfo as A}from\"./elevationAlignmentUtils.js\";import{Graphics3DLodInstanceGraphicLayer as D}from\"./Graphics3DLodInstanceGraphicLayer.js\";import{Graphics3DSymbolLayer as F}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as z,mixinColorAndOpacity as V,computeObjectScale as M,computeObjectRotation as H}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as k}from\"./interfaces.js\";import{LoadStatus as W}from\"./Loadable.js\";import{makeLodResources as q}from\"./lodResourceUtils.js\";import{fetch as N}from\"./objectResourceUtils.js\";import{placePointOnGeometry as J,extendPointGraphicElevationContext as Y}from\"./pointUtils.js\";import{isValidPrimitive as $,primitiveLodResources as K}from\"./primitiveObjectSymbolUtils.js\";import{SymbolComplexity as Q}from\"./SymbolComplexity.js\";import{getResourceUrlFromSymbolStyle as X}from\"./webStyleUtils.js\";import{initFastSymbolUpdatesState as Z,updateFastSymbolUpdatesState as ee,ConvertOptions as te,evaluateModelTransform as se,evaluateModelTransformScale as re}from\"../support/FastSymbolUpdates.js\";import{CullFaceOptions as ie}from\"../../webgl-engine/lib/basicInterfaces.js\";import{VertexAttribute as ae}from\"../../webgl-engine/lib/VertexAttribute.js\";import{LodRenderer as oe}from\"../../webgl-engine/lib/lodRendering/LodRenderer.js\";import{materialsFromLodResources as ne,texturesFromLodResources as le,geometriesFromLodResources as ce}from\"../../webgl-engine/lib/lodRendering/LodResources.js\";import{DefaultMaterial as he}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{defaultSchematicMRRFactors as de}from\"../../webgl-engine/materials/pbrUtils.js\";class me{constructor(e,t,s,r,i,a,o,n,l,c,h,d){this.lodResources=e,this.lodRenderer=t,this.stageResources=s,this.originalMaterialParameters=r,this.resourceSize=i,this.isEsriSymbolResource=a,this.isWosr=o,this.resourceBoundingBox=n,this.symbolSize=l,this.extentPadding=c,this.physicalBasedRenderingEnabled=h,this.pivotOffset=d}}class pe extends F{getCachedSize(){const[e,t,s]=null!=this._resources?this._resources.symbolSize:[1,1,1];return{width:e,depth:t,height:s}}constructor(e,t,s,r){super(e,t,s,r),this._resources=null,this._optionalFields=new Array,this._instanceIndexToGraphicUid=new Map,this._hasLoadedPBRTextures=!1,this._disposeResourceHandles=new Array,this.skipHighSymbolLodsChanged=!1,this.ensureDrapedStatus(!1),this._hasLoadedPBRTextures=s.physicalBasedRenderingEnabled}async doLoad(e){if(!this._drivenProperties.size){if(z(this.symbolLayer))throw new Error}if(this._isPrimitive){const t=this.symbolLayer.resource,s=t&&$(t.primitive)?t.primitive:w;this._resources=await this._createResourcesForPrimitive(s,e)}else{const t=await X(this.symbol.styleOrigin),s=t?.href??this.symbolLayer.resource.href;this._resources=await this._createResourcesForUrl(s,e)}this.layerOpacityChanged(),this.slicePlaneEnabledChanged(),this.physicalBasedRenderingChanged(),this.complexity=this.computeComplexity()}get extentPadding(){return null!=this._resources?this._resources.extentPadding:0}get _isPrimitive(){return!this.symbolLayer.resource?.href}get lodRenderer(){return this._resources?.lodRenderer}get materials(){return this._resources?.stageResources.materials??[]}_setMaterialTransparencyParameters(e,t=this.symbolLayer?.material?.color){const s=this._getCombinedOpacity(t),r=s<1||this.needsDrivenTransparentPass;return e.transparent=r,e.opacity=s,e.cullFace=r?ie.None:ie.Back,e}async _createResourcesForPrimitive(t,r){const i=this.symbolLayer,a=L(E(t)),o=y(C(a)),n=y(U(o,i)),l=c(n),h=!1,d=!1,m={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0,mrrFactors:[...de],ambient:f,diffuse:f,hasSlicePlane:this._context.slicePlaneEnabled,hasSliceHighlight:!1,castShadows:this.symbolLayer.castShadows,offsetTransparentBackfaces:!this.symbolLayer.isPrimitive},p=!!m.usePBR;this._setMaterialTransparencyParameters(m);const u=this.symbol;if(\"point-3d\"===u.type&&u.verticalOffset){const{screenLength:e,minWorldLength:t,maxWorldLength:r}=u.verticalOffset;m.verticalOffset={screenLength:s(e),minWorldLength:t||0,maxWorldLength:null!=r?r:1/0},m.castShadows=!1}if(this._context.screenSizePerspectiveEnabled&&(m.screenSizePerspective=this._context.sharedResources.screenSizePerspectiveSettings),this._drivenProperties.color)m.externalColor=P;else{const t=null!=i.material?i.material.color:null,s=null!=t?e.toUnitRGBA(t):P;m.externalColor=s}this._fastUpdates=Z(this._context.renderer,this._fastVisualVariableConvertOptions(a,n,o,null)),m.isInstanced=!0,this._fastUpdates?(Object.assign(m,this._fastUpdates.materialParameters),this._optionalFields.push(ae.FEATUREATTRIBUTE)):this._hasPerInstanceColor()&&(m.hasInstancedColor=!0,this._optionalFields.push(ae.COLOR)),has(\"enable-feature:objectAndLayerId-rendering\")&&this._optionalFields.push(ae.OBJECTANDLAYERIDCOLOR);const _=new he(m),g=K(t,_);if(!g)throw new Error(`Unknown object symbol primitive: ${t}`);const b=ne(g).map((e=>({opacity:1,transparent:e.parameters.transparent}))),R=await this._createStageResources(g,p,r),x=await this._createLodRenderer(g,r);return new me(g,x,R,b,o,h,d,a,n,l,p,null)}async _createResourcesForUrl(e,t){const r={materialParameters:{isInstanced:!0,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows},streamDataRequester:this._context.streamDataRequester,cache:this._context.sharedResources.objectResourceCache};this._fastUpdates=Z(this._context.renderer,this._fastVisualVariableConvertOptions(null,null,null,null)),this._fastUpdates?(Object.assign(r.materialParameters,this._fastUpdates.materialParameters),this._optionalFields.push(ae.FEATUREATTRIBUTE)):this._hasPerInstanceColor()&&(r.materialParameters.hasInstancedColor=!0,this._optionalFields.push(ae.COLOR)),has(\"enable-feature:objectAndLayerId-rendering\")&&this._optionalFields.push(ae.OBJECTANDLAYERIDCOLOR);const i=this.symbol;if(\"point-3d\"===i.type&&i.verticalOffset){const{screenLength:e,minWorldLength:t,maxWorldLength:a}=i.verticalOffset;r.materialParameters.verticalOffset={screenLength:s(e),minWorldLength:t||0,maxWorldLength:null!=a?a:1/0},r.materialParameters.castShadows=!1}const a=this._context.physicalBasedRenderingEnabled;r.signal=t,r.usePBR=a,r.skipHighLods=this._context.skipHighSymbolLods;const o=await N(e,r),n=o.isEsriSymbolResource,l=o.isWosr,h=q(o.lods),d=this._context,m=this.symbolLayer.material,p=this._getExternalColorParameters(m),u=this.symbolLayer?.material?.color,f=this._getCombinedOpacity(u,{hasIntrinsicColor:!0}),_=this.needsDrivenTransparentPass,g=ne(h),b=ne(h).map((e=>({opacity:e.parameters.opacity||1,transparent:e.parameters.transparent})));g.forEach((e=>{const t=e.parameters;e.setParameters(p);const s=t.opacity*f,r=s<1||_||t.transparent;e.setParameters({opacity:s,transparent:r}),d.screenSizePerspectiveEnabled&&e.setParameters({screenSizePerspective:d.sharedResources.screenSizePerspectiveSettings})}));const P=o.referenceBoundingBox,R=y(C(P)),x=y(h.levels[0].pivotOffset),v=y(U(R,this.symbolLayer)),L=c(v),S=this._fastUpdates;ee(S,this._context.renderer,this._fastVisualVariableConvertOptions(P,v,R,x))&&g.forEach((e=>e.setParameters(S.materialParameters)));const j=await this._createStageResources(h,a,t),w=await this._createLodRenderer(h,t);return new me(h,w,j,b,R,n,l,P,v,L,a,x)}_addDisposeResource(e){this._disposeResourceHandles.push(e)}async _createStageResources(e,s,r){const i=this._context.stage,a=ne(e);s!==this._context.physicalBasedRenderingEnabled&&this.physicalBasedRenderingChanged(),i.addMany(a),this._addDisposeResource((()=>i.removeMany(a)));const o=le(e);i.addMany(o),this._addDisposeResource((()=>{o.forEach((e=>e.unload())),i.removeMany(o)})),await Promise.all(o.map((e=>this._context.stage.schedule((()=>e.load(i.renderView.renderingContext)),r)))),t(r);const n=ce(e);return i.addMany(n),this._addDisposeResource((()=>i.removeMany(n))),{materials:a,textures:o,geometries:n}}async _createLodRenderer(e,t){const s=this._context.stage,r={layerUid:this._context.layer.uid,graphicUid:e=>this._instanceIndexToGraphicUid.get(e),notifyGraphicGeometryChanged:e=>this._context.notifyGraphicGeometryChanged(this._instanceIndexToGraphicUid.get(e)),notifyGraphicVisibilityChanged:e=>this._context.notifyGraphicVisibilityChanged(this._instanceIndexToGraphicUid.get(e))},i=this._fastUpdates,a=i?{applyTransform:(e,t,s)=>{e.getFeatureAttribute(t,be),n(s,se(i.materialParameters,be,s))},scaleFactor:(e,t,s)=>{t.getFeatureAttribute(s,be),re(e,i.materialParameters,be)}}:null,o=new oe({symbol:e,optionalFields:this._optionalFields,metadata:r,shaderTransformation:a},this._context.scheduler);return o.slicePlaneEnabled=this._context.slicePlaneEnabled,this._addDisposeResource((()=>{s.removeRenderPlugin(o),o.destroy()})),await s.addRenderPlugin(o,t),o}_getExternalColorParameters(t){const s={};return this._drivenProperties.color?s.externalColor=P:null!=t?.color?s.externalColor=e.toUnitRGBA(t.color):(s.externalColor=P,s.colorMixMode=\"ignore\"),s}destroy(){super.destroy(),this._cleanupResources()}_cleanupResources(){this._disposeResourceHandles.forEach((e=>e())),this._disposeResourceHandles.length=0,this._resources=null}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry))return null;const s=J(t.geometry);if(null==s)return this.logger.warn(`unsupported geometry type for icon symbol: ${t.geometry.type}`),null;const r=this.setGraphicElevationContext(t),i=e.renderingInfo;return this._createAs3DShape(t,s,i,r,t.uid,e.layer.uid)}notifyDestroyGraphicLayer(e){this._instanceIndexToGraphicUid.delete(e.instanceIndex)}graphicLayerToGraphicId(){return 0}layerOpacityChanged(){if(null==this._resources)return;const e=this._drivenProperties.opacity,t=!this._isPrimitive,s=this._resources.stageResources.materials,r=this._resources.originalMaterialParameters;for(let i=0;i<s.length;i++){const a=s[i],o=this.symbolLayer?.material?.color,n=r[i],l=this._getCombinedOpacity(o,{hasIntrinsicColor:t})*n.opacity,c=l<1||e||n.transparent;a.setParameters({opacity:l,transparent:c}),this._isPrimitive&&a.setParameters({cullFace:c?ie.None:ie.Back})}}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,I)}slicePlaneEnabledChanged(){if(null==this._resources)return!0;this._resources.lodRenderer.slicePlaneEnabled=this._context.slicePlaneEnabled;for(const e of this._resources.stageResources.materials)e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled});return!0}physicalBasedRenderingChanged(){if(null==this._resources)return!0;const{stageResources:e,isWosr:t}=this._resources;for(const s of e.materials)this._isPrimitive?s.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}):t||s.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!1});return!1!==this._hasLoadedPBRTextures||!0!==this._context.physicalBasedRenderingEnabled||(this._hasLoadedPBRTextures=!0,!1)}applyRendererDiff(e,t){if(null==this._resources)return k.RecreateSymbol;const{stageResources:{materials:s},lodRenderer:r,resourceBoundingBox:i,symbolSize:a,resourceSize:o,pivotOffset:n}=this._resources;for(const l in e.diff){if(\"visualVariables\"!==l)return k.RecreateSymbol;if(!ee(this._fastUpdates,t,this._fastVisualVariableConvertOptions(i,a,o,n)))return k.RecreateSymbol;for(const e of s)e.setParameters(this._fastUpdates.materialParameters);r.notifyShaderTransformationChanged()}return k.FastUpdate}computeComplexity(){if(null==this._resources)return super.computeComplexity();const e=this._resources.lodResources,t=T(e.levels),s=e=>Array.from(e.attributes.values()).reduce(((e,t)=>e+r(t.data,t.indices)),0),i=ce(e).reduce(((e,t)=>e+s(t)),0),a=le(e).reduce(((e,t)=>e+t.memoryEstimate),0)+i,o={...O(this.symbol,this.symbolLayer),resourceBytes:a};return new Q({verticesPerFeature:t,memory:o})}_hasLodRenderer(){return null!=this._resources}_createAs3DShape(e,t,s,r,i,a){if(!this._hasLodRenderer()||null==this._resources)return null;const o=this.getFastUpdateAttrValues(e),n=this._context.clippingExtent;if(v(t,fe,this._context.elevationProvider.spatialReference),null!=n&&!S(n,fe))return null;const l=ye(r),c=this._computeGlobalTransform(t,r,ge,Pe),h=this._computeLocalTransform(this._resources,this.symbolLayer,s,_e),d=this._resources.lodRenderer.instanceData,m=d.addInstance();this._instanceIndexToGraphicUid.set(m,i),d.setLocalTransform(m,h,!1),d.setGlobalTransform(m,c),o&&d.setFeatureAttribute(m,o),null==this._fastUpdates&&this._hasPerInstanceColor()&&d.setColor(m,V(s.color,s.opacity,255)),null!=this._context.stage.renderView.objectAndLayerIdRenderHelper&&d.setObjectAndLayerIdColor(m,this._context.stage.renderView.objectAndLayerIdRenderHelper.getObjectAndLayerIdColor({graphicUid:i,layerUid:a}));const p=new D(this,m,B,r);return l&&(p.alignedSampledElevation=Pe.sampledElevation),p.needsElevationUpdates=I(r.mode),Y(p,t,this._context.elevationProvider),p}_computeGlobalTransform(e,t,s,r){return G(e,this._context.elevationProvider,t,this._context.renderCoordsHelper,r),fe[0]=e.x,fe[1]=e.y,fe[2]=r.z,x(e.spatialReference,fe,s,this._context.renderCoordsHelper.spatialReference),s}_computeLocalTransform(e,t,s,r){return i(r),this._applyObjectRotation(s,!1,r),this._applyObjectRotation(t,!0,r),this._applyObjectScale(e,s,r),this._applyAnchor(e,t,r),r}_applyObjectScale(e,t,s){if(this._fastUpdates?.requiresShaderTransformation)return;const r=this._drivenProperties.size&&t.size?t.size:e.symbolSize,i=M(r,e.symbolSize,e.resourceSize,this._context.renderCoordsHelper.unitInMeters);1===i[0]&&1===i[1]&&1===i[2]||a(s,s,i)}prepareSymbolLayerPatch(e){if(\"partial\"!==e.diff.type)return;const t=e.diff.diff;this._preparePatchTransform(e,t),this._preparePatchColor(e,t)}updateGeometry(e,t){if(null==this._resources)return!0;const s=t&&J(t);if(null==s)return!1;const r=this.getGeometryElevationMode(t);return e.elevationContext.mode===r&&(this._computeGlobalTransform(s,e.elevationContext,ge,Pe),ye(e.elevationContext)&&(e.alignedSampledElevation=Pe.sampledElevation),this._resources.lodRenderer.instanceData.setGlobalTransform(e.instanceIndex,ge,!0),Y(e,s,this._context.elevationProvider),!0)}_preparePatchTransform(e,t){if(!(t.heading||t.tilt||t.roll||t.width||t.height||t.depth||t.anchor||t.anchorPosition))return;if(null==this._resources)return;const s=(e,t,s)=>(null!=e&&\"complete\"===e.type?e.newValue:t)??s,r=s(t.heading,this.symbolLayer.heading,0),i=s(t.tilt,this.symbolLayer.tilt,0),a=s(t.roll,this.symbolLayer.roll,0),o=s(t.width,this.symbolLayer.width,void 0),n=s(t.height,this.symbolLayer.height,void 0),l=s(t.depth,this.symbolLayer.depth,void 0),c=s(t.anchor,this.symbolLayer.anchor,void 0),h=s(t.anchorPosition,this.symbolLayer.anchorPosition,void 0);delete t.heading,delete t.tilt,delete t.roll,delete t.width,delete t.height,delete t.depth,delete t.anchor,delete t.anchorPosition;const d={heading:r,tilt:i,roll:a,anchor:c,anchorPosition:h},m=this._resources;this.loadStatus===W.LOADED&&e.symbolLayerStatePatches.push((()=>{m.symbolSize=y(U(m.resourceSize,{width:o,height:n,depth:l,isPrimitive:this.symbolLayer.isPrimitive}))})),e.graphics3DGraphicPatches.push(((e,t)=>{const s=this._computeLocalTransform(m,d,t,_e),r=e.instanceIndex;m.lodRenderer.instanceData.setLocalTransform(r,s,!0)}))}_preparePatchColor(t,s){if(!s.material||\"partial\"!==s.material.type)return;const r=s.material.diff;if(!r.color||\"complete\"!==r.color.type||null==r.color.newValue||null==r.color.oldValue)return;const i=r.color.newValue,a=null!=i?e.toUnitRGBA(i):P;delete r.color;const o=this._resources;null!=o&&t.graphics3DGraphicPatches.push((e=>{let t;this._hasPerInstanceColor()?(o.lodRenderer.instanceData.setColor(e.instanceIndex,a),t=this._setMaterialTransparencyParameters({},i)):t=this._setMaterialTransparencyParameters({externalColor:a},i);for(const s of o.stageResources.materials)s.setParameters(t)}))}_applyObjectRotation(e,t,s){if(!this._fastUpdates?.requiresShaderTransformation||!t)return H(e.heading,e.tilt,e.roll,s)}_applyAnchor(e,t,s){if(this._fastUpdates?.requiresShaderTransformation)return;const r=ue(e.resourceBoundingBox,e.pivotOffset,t);r&&o(s,s,r)}_hasPerInstanceColor(){return this._drivenProperties.color||this._drivenProperties.opacity}_fastVisualVariableConvertOptions(e,t,s,r){const i=null!=e?y(C(e)):f,a=null!=e?ue(e,r,this.symbolLayer):_,o=this._context.renderCoordsHelper.unitInMeters,n=M(null!=t?t:void 0,t,s,o),l=g(this.symbolLayer.tilt||0,this.symbolLayer.roll||0,this.symbolLayer.heading||0);return new te({size:!0,color:!0,rotation:!0,opacity:!1},i,t??f,o,a,n,l)}}function ue(e,t,s){const r=b();switch(s.anchor){case\"center\":d(r,j(e)),h(r,r);break;case\"top\":{const t=j(e);u(r,-t[0],-t[1],-e[5]);break}case\"bottom\":{const t=j(e);u(r,-t[0],-t[1],-e[2]);break}case\"relative\":{const t=j(e),i=C(e),a=s.anchorPosition,o=a?g(a.x,a.y,a.z):_;m(r,i,o),p(r,r,t),h(r,r);break}default:null!=t?h(r,t):d(r,_)}return r}function ye(e){return\"absolute-height\"!==e.mode}const fe=b(),_e=l(),ge=l(),be=R(),Pe=new A;export{pe as Graphics3DObjectSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{estimateSize as t}from\"../../../../core/typedArrayUtil.js\";import{l as i,n as s,c as o}from\"../../../../chunks/vec32.js\";import{fromValues as e}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{newFloatArray as h}from\"../../../../geometry/support/FloatArray.js\";class r{constructor(t,i,s,o){this.vertices=t,this.positionsES=i,this.offset=o;const r=t.length,n=Math.floor(r/2),g=this.offset+3*n,v=s[g],f=s[g+1],c=s[g+2];this.origin=e(v,f,c),this.positions=h(3*r);const l=this.offset+3*r;for(let e=this.offset;e<l;e+=3)this.positions[e]=s[e]-v,this.positions[e+1]=s[e+1]-f,this.positions[e+2]=s[e+2]-c;this.updatePathVertexInformation()}get usedMemory(){return t(this.positions)}updatePathVertexInformation(){const t=this.vertices.length,e=this.vertices[0];let h=this.offset;const r=this.positions;e.vRight[0]=r[h+3]-r[h],e.vRight[1]=r[h+4]-r[h+1],e.vRight[2]=r[h+5]-r[h+2],h+=3;let n=i(e.vRight);e.vMinSiblingLength=n,s(e.vRight,e.vRight);let g=e;for(let v=1;v<t;++v){const e=this.vertices[v];if(e.vLeft=g.vRight,v<t-1){e.vRight[0]=r[h+3]-r[h],e.vRight[1]=r[h+4]-r[h+1],e.vRight[2]=r[h+5]-r[h+2];const t=i(e.vRight);e.vMinSiblingLength=Math.min(n,t),n=t,s(e.vRight,e.vRight)}else o(e.vRight,e.vLeft),e.vMinSiblingLength=n;g=e,h+=3}}}export{r as Path};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{estimateSize as t}from\"../../../../core/typedArrayUtil.js\";import{newFloatArray as e,floatSubArray as i}from\"../../../../geometry/support/FloatArray.js\";import{newIntArray as s,compactIndices as r}from\"../../../../geometry/support/Indices.js\";class h{constructor(t,r,h,o,p,n={}){this.path=t,this.profile=r,this.extruder=h,this.startCap=o,this.endCap=p,this.options=n,this._extrusionVertexCount=0;const l=this.path.vertices.length-2;this.numExtrusionProfiles=h.numProfilesPerJoin()*l+2,this.numVerticesTotal=r.vertices.length*this.numExtrusionProfiles,this.startCap.vertexBufferStart=this.numVerticesTotal;const a=this.startCap.numVertices;this.numVerticesTotal+=a,this.endCap.vertexBufferStart=this.numVerticesTotal;const u=this.endCap.numVertices;this.numVerticesTotal+=u,this.pathVertexData=s(1*this.numVerticesTotal),this.profileRightAxes=e(4*this.numVerticesTotal),this.profileUpAxes=e(4*this.numVerticesTotal),this.profileVertexAndNormals=e(4*this.numVerticesTotal),this.positions=i(t.positions,t.offset,3*t.vertices.length),this._rebuildGeometry(),this.buildTopology()}get usedMemory(){return t(this.pathVertexData,this.profileRightAxes,this.profileUpAxes,this.profileVertexAndNormals)+this.path.usedMemory+this.profile.usedMemory}emitVertex(t,e,i,s,r){const h=4*this._extrusionVertexCount;if(this.profileRightAxes[h]=e.right[0],this.profileRightAxes[h+1]=e.right[1],this.profileRightAxes[h+2]=e.right[2],this.profileUpAxes[h]=e.up[0],this.profileUpAxes[h+1]=e.up[1],this.profileUpAxes[h+2]=e.up[2],this.profileVertexAndNormals[h]=i[0],this.profileVertexAndNormals[h+1]=i[1],this.profileVertexAndNormals[h+2]=s[0],this.profileVertexAndNormals[h+3]=s[1],this.pathVertexData[this._extrusionVertexCount]=t,r){const e=this.path.vertices[t],i=e.maxStretchDistance;this.profileRightAxes[h+3]=e.rotationRight[0]*i,this.profileUpAxes[h+3]=e.rotationRight[1]*i}else this.profileRightAxes[h+3]=0,this.profileUpAxes[h+3]=0;++this._extrusionVertexCount}emitCapVertex(t,e,i,s,r,h){const o=4*this._extrusionVertexCount;this.profileRightAxes[o]=e.right[0],this.profileRightAxes[o+1]=e.right[1],this.profileRightAxes[o+2]=e.right[2],this.profileRightAxes[o+3]=r,this.profileUpAxes[o]=e.up[0],this.profileUpAxes[o+1]=e.up[1],this.profileUpAxes[o+2]=e.up[2],this.profileUpAxes[o+3]=h,this.profileVertexAndNormals[o]=i[0],this.profileVertexAndNormals[o+1]=i[1],this.profileVertexAndNormals[o+2]=s[0],this.profileVertexAndNormals[o+3]=s[1],this.pathVertexData[this._extrusionVertexCount]=t,++this._extrusionVertexCount}_rebuildGeometry(){this._extrusionVertexCount=0;const{positions:t,offset:e,vertices:s}=this.path;this.positions=i(t,e,3*s.length);let r=0;const h=(t,e,i,s,h)=>this.emitCapVertex(r,t,e,i,s,h),o=(t,e,i,s)=>this.emitVertex(r,t,e,i,s);for(this.startCap.rebuildConnectingProfileGeometry(s[r],this.profile,h),r=1;r<s.length-1;++r)this.extruder.extrude(s[r],this.profile,o);this.endCap.rebuildConnectingProfileGeometry(s[r],this.profile,h),r=0,this.startCap.rebuildCapGeometry(s[r],h),r=s.length-1,this.endCap.rebuildCapGeometry(s[r],h)}buildTopology(){const t=this.profile.vertices.length,e=this.profile.numSegments,i=this.numExtrusionProfiles-1;let s=3*(2*(e*i));this.startCap.indexBufferStart=s,this.startCap.firstProfileVertexIndex=0,s+=this.startCap.numIndices,this.endCap.indexBufferStart=s,this.endCap.firstProfileVertexIndex=t*(this.numExtrusionProfiles-1);const h=new Array,o=new Array,p=new Array,n=(t,e,i)=>{h.push(t),h.push(e),h.push(i),o.push(t),o.push(e),o.push(i),p.push(this.pathVertexData[t]),p.push(this.pathVertexData[e]),p.push(this.pathVertexData[i])};for(let r=0;r<e;++r){const e=this.profile.indices[2*r],s=this.profile.indices[2*r+1];for(let r=0;r<i;++r){const i=r*t+e,h=(r+1)*t+s,o=r*t+s;n(i,(r+1)*t+e,h),n(i,h,o)}}this.startCap.buildTopology(this.path.vertices[0],n),this.endCap.buildTopology(this.path.vertices[this.path.vertices.length-1],n),this.vertexIndices=r(h),this.normalIndices=r(o),this.pathVertexIndices=r(p)}onPathChanged(){this._rebuildGeometry()}}export{h as PathBuilder};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{set as e,subtract as t,scale as s,add as i,normalize as r}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";class o{rebuildConnectingProfileGeometry(e,t,s){for(let i=0;i<t.vertices.length;++i)s(e.frame,t.vertices[i],t.normals[i],0,0)}}class l extends o{constructor(){super(),this.numVertices=0,this.numIndices=0}rebuildCapGeometry(){}buildTopology(){}}class f extends o{constructor(e,t=0,s=!1){super(),this.profile=e,this.profilePlaneOffset=t,this.flip=s}get numVertices(){return this.profile.vertices.length}get numIndices(){return 3*this.profile.numSegments}rebuildConnectingProfileGeometry(e,t,s){const i=this.profilePlaneOffset;for(let r=0;r<t.vertices.length;++r)s(e.frame,t.vertices[r],t.normals[r],i,0)}rebuildCapGeometry(t,s){const i=this.profile,r=this.flip?1:-1,n=this.profilePlaneOffset,o=m;e(o,0,0);for(let e=0;e<i.vertices.length;++e)s(t.frame,i.vertices[e],o,n,r)}buildTopology(e,t){const s=this.profile,i=this.vertexBufferStart+s.indices[0];for(let r=1;r<s.numSegments;++r){const e=s.indices[2*r],n=s.indices[2*r+1],o=this.vertexBufferStart+e,l=this.vertexBufferStart+n;this.flip?t(l,o,i):t(i,o,l)}}}class h extends o{constructor(e){super(),this.flip=!1,this.sign=0,this.breakNormals=!1,this.numSegments=3,this.profile=e.profile,this.flip=e.flip,this.sign=this.flip?1:-1,this.breakNormals=e.breakNormals,this.numSegments=e.subdivisions}get numVertices(){let e=this.profile.vertices.length*(this.numSegments-1)+this.profile.poles.length;return this.breakNormals&&(e+=this.profile.vertices.length),e}get numIndices(){let e=0;const t=this.profile;e+=2*t.numSegments*(this.numSegments-1);for(let s=0;s<t.numSegments;++s){const i=t.indices[2*s],r=t.indices[2*s+1];t.poleIndices[i]===t.poleIndices[r]?e+=1:e+=2}return 3*e}rebuildCapGeometry(n,o){const l=this.profile,f=n.frame,h=.5*this.sign,p=c,a=m;e(a,0,0);for(const e of l.poles)e.normal?o(f,e.position,e.normal,h,0):o(f,e.position,a,h,this.sign);if(this.breakNormals)for(let e=0;e<l.vertices.length;++e)o(f,l.vertices[e],l.normals[e],0,0);for(let e=0;e<this.numSegments-1;++e){const n=(1-(e+1)/this.numSegments)*Math.PI*.5,c=Math.sin(n),m=Math.cos(n);for(let e=0;e<l.vertices.length;++e){const n=l.poles[l.poleIndices[e]];t(p,l.vertices[e],n.position),s(p,p,c),n.normal?(i(p,p,n.position),o(f,p,n.normal,h*m,0)):(r(a,p),s(a,a,c),i(p,p,n.position),o(f,p,a,h*m,this.sign*m))}}}buildTopology(e,t){const s=this.profile,i=this.breakNormals?this.vertexBufferStart+s.poles.length:this.firstProfileVertexIndex,r=this.breakNormals?this.vertexBufferStart+s.poles.length+s.vertices.length:this.vertexBufferStart+s.poles.length;for(let n=0;n<s.numSegments;++n){const e=s.indices[2*n],o=s.indices[2*n+1],l=this.vertexBufferStart+s.poleIndices[e],f=this.vertexBufferStart+s.poleIndices[o];let h=i+e,c=i+o;for(let i=0;i<this.numSegments-1;++i){const n=r+i*s.vertices.length+e,l=r+i*s.vertices.length+o;this.flip?(t(n,c,h),t(c,n,l)):(t(h,c,n),t(l,n,c)),h=n,c=l}this.flip?(t(l,c,h),l!==f&&t(l,f,c)):(t(h,c,l),l!==f&&t(c,f,l))}}}const c=n(),m=n();export{l as NoCapBuilder,o as PathCapBuilder,h as RoundCapBuilder,f as TriangulationCapBuilder};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{fromRotation as t}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as e}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{dot as r}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{e as i}from\"../../../../chunks/vec32.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";class n{}class c{numProfilesPerJoin(){return 1}extrude(t,e,r){for(let s=0;s<e.vertices.length;++s)r(t.frame,e.vertices[s],e.normals[s],!1)}}class a{constructor(t,e){this.cutoffAngle=t,this.numBendSubdivisions=e}numProfilesPerJoin(){return this.numBendSubdivisions+1}extrude(e,s,i){const o=h,{rotationAngle:n,rotationRight:c,frame:a}=e;if(Math.abs(n)>=this.cutoffAngle){const l=e.rotationFrameUp;for(let h=0;h<this.numBendSubdivisions+1;++h){t(u,.5*-n+h*n/this.numBendSubdivisions,l),m(o,a,u);for(let t=0;t<s.vertices.length;++t){if(r(s.vertices[t],c)*n>=0)i(o,s.vertices[t],s.normals[t],!1);else{i(a,e.applyMiterStretch(f,s.vertices[t]),s.normals[t],!0)}}}}else for(let t=0;t<this.numBendSubdivisions+1;++t)for(let o=0;o<s.vertices.length;++o){const t=r(s.vertices[o],c)*n>=0;i(a,e.applyMiterStretch(f,s.vertices[o]),s.normals[o],!t)}}}class l{constructor(){this.up=o(),this.right=o()}}function m(t,e,r){i(t.up,e.up,r),i(t.right,e.right,r)}const f=s(),u=e(),h=new l;export{l as Frame2D,a as MiterExtruder,n as PathExtruder,c as SimpleExtruder};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ContentObjectType as t}from\"./ContentObjectType.js\";import{Geometry as r}from\"./Geometry.js\";class e extends r{constructor(r,e,o,n,s,i){super(r,e,null,t.Mesh,i),this.path=o,this.geometrySR=n,this.stencilWidth=s}}var o;function n(t){return\"path\"in t}!function(t){t[t.World=0]=\"World\",t[t.Path=1]=\"Path\"}(o||(o={}));export{e as PathGeometry,o as UpVectorAlignment,n as isPathGeometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{set as t,length as e,normalize as r,dot as i,scale as s,add as o}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{s as n,b as h}from\"../../../../chunks/vec32.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as c}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{newFloatArray as u}from\"../../../../geometry/support/FloatArray.js\";import{getZeroIndexArray as b}from\"../../../../geometry/support/Indices.js\";import{Attribute as v,Vertices as m}from\"./Attribute.js\";import{compressNormal as p}from\"./Normals.js\";import{intersectTriangles as x}from\"./RayIntersections.js\";import{VertexAttribute as A}from\"./VertexAttribute.js\";class d{constructor(t){this.builder=t}onPathChanged(t){this.builder.onPathChanged()}}class f extends d{constructor(t){super(t),this.vertexAttributeColor=c(255,255,255,255),this.size=new Array,this.vertexAttributePosition=u(3*this.builder.numVerticesTotal),this.vertexAttributeNormal=new Int16Array(2*this.builder.numVerticesTotal)}bakeVertexColors(t){this.vertexAttributeColor[0]=255*t[0],this.vertexAttributeColor[1]=255*t[1],this.vertexAttributeColor[2]=255*t[2],this.vertexAttributeColor[3]=255*(t.length>3?t[3]:1)}bake(a){this.size=a;const{numVerticesTotal:l,pathVertexData:c,path:u,positions:b,profileRightAxes:v,profileUpAxes:m,profileVertexAndNormals:x}=this.builder;for(let A=0;A<l;++A){let l=c[A];const d=0===l||l===u.vertices.length-1;l*=3;const f=V;let g=0,D=0;const N=4*A,j=n(R,v[N],v[N+1],v[N+2]),E=n(w,m[N],m[N+1],m[N+2]),y=t(P,x[N]*a[0],x[N+1]*a[1]);if(d)h(f,E,j),g=v[N+3]*a[0],D=m[N+3];else{const a=I,h=C;t(a,v[N+3],m[N+3]);const l=e(a);r(a,a);const c=i(y,a);if(Math.abs(c)>l){t(h,-a[1],a[0]);const e=i(y,h);s(a,a,l*Math.sign(c)),s(h,h,e),o(y,a,h)}n(f,0,0,0)}const T=n(O,j[0]*y[0]+E[0]*y[1],j[1]*y[0]+E[1]*y[1],j[2]*y[0]+E[2]*y[1]),L=3*A;this.vertexAttributePosition[L]=b[l]+T[0]+f[0]*g,this.vertexAttributePosition[L+1]=b[l+1]+T[1]+f[1]*g,this.vertexAttributePosition[L+2]=b[l+2]+T[2]+f[2]*g;const M=t(P,x[N+2],x[N+3]);p(this.vertexAttributeNormal,A,j[0]*M[0]+E[0]*M[1]+f[0]*D,j[1]*M[0]+E[1]*M[1]+f[1]*D,j[2]*M[0]+E[2]*M[1]+f[2]*D)}}createGeometryData(){const t=this.builder.vertexIndices.length,{normalIndices:e,vertexIndices:r}=this.builder;return[[A.POSITION,new v(this.vertexAttributePosition,r,3,!0)],[A.NORMALCOMPRESSED,new v(this.vertexAttributeNormal,e,2,!0)],[A.COLOR,new v(this.vertexAttributeColor,b(t),4)]]}onPathChanged(t){super.onPathChanged(t),this.bake(this.size)}intersect(t,e,r,i){const s=this.builder.vertexIndices,o=new m(this.vertexAttributePosition,3),a=s.length/3;x(t,e,0,a,s,o,void 0,r,((t,e,r)=>{i(t,r,e,!1)}))}}class g extends d{constructor(t,e,r,i){super(t),this.sizeAttributeValue=e,this.colorAttributeValue=r,this.opacityAttributeValue=i,this.vvData=null,this.baked=new f(t),this.vvData=u(4*this.builder.path.vertices.length);for(let s=0;s<this.builder.path.vertices.length;++s){this.vvData[4*s]=e,this.vvData[4*s+1]=r,this.vvData[4*s+2]=i;const t=0===s||s===this.builder.path.vertices.length-1;this.vvData[4*s+3]=t?1:0}}createGeometryData(){const{positions:t,profileRightAxes:e,profileUpAxes:r,profileVertexAndNormals:i,pathVertexIndices:s,vertexIndices:o}=this.builder;return[[A.POSITION,new v(t,s,3,!0)],[A.PROFILERIGHT,new v(e,o,4,!0)],[A.PROFILEUP,new v(r,o,4,!0)],[A.PROFILEVERTEXANDNORMAL,new v(i,o,4,!0)],[A.FEATUREVALUE,new v(this.vvData,s,4,!0)]]}onPathChanged(t){super.onPathChanged(t);const e=t.getMutableAttribute(A.POSITION);e&&(e.data=this.builder.positions)}}const P=a(),I=a(),C=a(),O=l(),V=l(),R=l(),w=l();export{g as FastUpdatePathGeometry,d as PathGeometryData,f as StaticPathGeometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{c as t,s as e,g as r,l as s,n as o,b as i}from\"../../../../chunks/vec32.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as a,fromPositionAndNormal as f,intersectRay as p}from\"../../../../geometry/support/plane.js\";import{wrap as c}from\"../../../../geometry/support/ray.js\";import{makeOrthoBasisDirUpFallback as g}from\"./GeometryUtil.js\";function l(l,v){let h=null;const u=l.vertices.length,j=.99619469809,R=m(),y=m(),b=m(),x=m(),L=m(),k=m(),q=a();let G=l.vertices[0];t(y,v),e(R,0,1,0),g(G.vRight,y,R,R,b,y,j),t(G.frame.up,y),t(G.frame.right,b);const M=l.positions;let U=l.offset;h=G;for(let m=1;m<u;++m){G=l.vertices[m],r(L,G.vLeft,G.vRight);let a=s(L);a>0?(a=1/Math.sqrt(a),L[0]=L[0]*a,L[1]=L[1]*a,L[2]=L[2]*a):(L[0]=G.vRight[0],L[1]=G.vRight[1],L[2]=G.vRight[2]),k[0]=M[U]+h.frame.up[0],k[1]=M[U+1]+h.frame.up[1],k[2]=M[U+2]+h.frame.up[2],U+=3;const v=e(n,M[U],M[U+1],M[U+2]);f(v,L,q);p(q,c(k,G.vLeft),x)?(x[0]-=M[U],x[1]-=M[U+1],x[2]-=M[U+2],o(y,x),i(b,L,y),o(b,b)):g(L,h.frame.up,h.frame.right,R,b,y,j),t(G.frame.up,y),t(G.frame.right,b),h=G}}const n=m();export{l as computeMinimumRotationTangentFrame};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{estimateSize as t}from\"../../../../core/typedArrayUtil.js\";import{fromValues as e,clone as s}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{pathNumCircleProfileSubdivisions as r}from\"../../layers/graphics/Graphics3DPathSymbolLayerConstants.js\";class o{constructor(){this.vertices=new Array,this.normals=new Array,this.indices=new Array,this.poles=new Array,this.poleIndices=new Array}addVertex(t,e){return this.vertices.push(s(t)),this.normals.push(s(e)),this.vertices.length-1}addPole(t,e=null){return this.poles.push({position:s(t),normal:e?s(e):null}),this.poles.length-1}addSegment(t,e=null){this.indices.push(t.v0),this.indices.push(t.v1),e&&(this.poleIndices.push(e.v0),this.poleIndices.push(e.v1))}get numSegments(){return this.indices.length/2}translate(t,e){for(const s of this.vertices)s[0]+=t,s[1]+=e;for(const s of this.poles)s.position[0]+=t,s.position[1]+=e}get usedMemory(){return this.vertices.length*t(this.vertices[0])*2+t(this.indices)}}const n={top:[0,-.5],bottom:[0,.5]};function i(t){const s=.5,i=r,d=new o,a={v0:0,v1:0};d.addPole(e(0,0));for(let r=0;r<i;++r){const t=2*r*Math.PI/i,o=Math.cos(t),n=Math.sin(t),a=e(o*s,n*s),c=e(o,n);d.addVertex(a,c)}for(let e=0;e<i-1;++e){const t={v0:e,v1:e+1};d.addSegment(t,a)}const c={v0:i-1,v1:0};if(d.addSegment(c,a),\"center\"!==t){const e=n[t];d.translate(e[0],e[1])}return d}const d={center:i(\"center\"),top:i(\"top\"),bottom:i(\"bottom\")},a={center:c(\"center\"),top:c(\"top\"),bottom:c(\"bottom\")};function c(t){const s=1,r=1,i=new o,d=e(.5*-s,.5*-r),a=e(.5*s,.5*-r),c=e(.5*s,.5*r),h=e(.5*-s,.5*r),l=e(0,-1),v=e(1,0),p=e(0,1),m=e(-1,0);if(i.addPole(e(0,.5*r),p),i.addPole(e(0,.5*r)),i.addPole(e(0,.5*-r)),i.addPole(e(0,.5*-r),l),i.addVertex(d,l),i.addVertex(a,l),i.addSegment({v0:0,v1:1},{v0:3,v1:3}),i.addVertex(a,v),i.addVertex(c,v),i.addSegment({v0:2,v1:3},{v0:2,v1:1}),i.addVertex(c,p),i.addVertex(h,p),i.addSegment({v0:4,v1:5},{v0:0,v1:0}),i.addVertex(h,m),i.addVertex(d,m),i.addSegment({v0:6,v1:7},{v0:1,v1:2}),\"center\"!==t){const e=n[t];i.translate(e[0],e[1])}return i}export{o as PathProfile,d as circleProfiles,a as quadProfiles};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getEpsilon as t}from\"./common.js\";function n(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function a(t,n,r,a,u){return t[0]=n,t[1]=r,t[2]=a,t[3]=u,t}function u(t,n){if(t===n){const r=n[1];t[1]=n[2],t[2]=r}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function o(t,n){const r=n[0],a=n[1],u=n[2],o=n[3];let e=r*o-u*a;return e?(e=1/e,t[0]=o*e,t[1]=-a*e,t[2]=-u*e,t[3]=r*e,t):null}function e(t,n){const r=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=r,t}function c(t){return t[0]*t[3]-t[2]*t[1]}function s(t,n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=r[0],s=r[1],i=r[2],f=r[3];return t[0]=a*c+o*s,t[1]=u*c+e*s,t[2]=a*i+o*f,t[3]=u*i+e*f,t}function i(t,n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=Math.sin(r),s=Math.cos(r);return t[0]=a*s+o*c,t[1]=u*s+e*c,t[2]=a*-c+o*s,t[3]=u*-c+e*s,t}function f(t,n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=r[0],s=r[1];return t[0]=a*c,t[1]=u*c,t[2]=o*s,t[3]=e*s,t}function l(t,n){const r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=r,t[2]=-r,t[3]=a,t}function M(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function h(t){return\"mat2(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}function b(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2)}function m(t,n,r,a){return t[2]=a[2]/a[0],r[0]=a[0],r[1]=a[1],r[3]=a[3]-t[2]*r[1],[t,n,r]}function d(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t}function p(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t}function y(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function x(n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=r[0],s=r[1],i=r[2],f=r[3],l=t();return Math.abs(a-c)<=l*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(u-s)<=l*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(o-i)<=l*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(e-f)<=l*Math.max(1,Math.abs(e),Math.abs(f))}function S(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t}function j(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t}const _=s,g=p,q=Object.freeze(Object.defineProperty({__proto__:null,LDU:m,add:d,adjoint:e,copy:n,determinant:c,equals:x,exactEquals:y,frob:b,fromRotation:l,fromScaling:M,identity:r,invert:o,mul:_,multiply:s,multiplyScalar:S,multiplyScalarAndAdd:j,rotate:i,scale:f,set:a,str:h,sub:g,subtract:p,transpose:u},Symbol.toStringTag,{value:\"Module\"}));export{m as LDU,d as add,e as adjoint,n as copy,c as determinant,x as equals,y as exactEquals,b as frob,l as fromRotation,M as fromScaling,r as identity,o as invert,q as m,_ as mul,s as multiply,S as multiplyScalar,j as multiplyScalarAndAdd,i as rotate,f as scale,a as set,h as str,g as sub,p as subtract,u as transpose};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function t(e,r,t,n){return[e,r,t,n]}function n(e,r){return new Float64Array(e,r,4)}const o=Object.freeze(Object.defineProperty({__proto__:null,clone:r,create:e,createView:n,fromValues:t},Symbol.toStringTag,{value:\"Module\"}));export{r as clone,e as create,n as createView,t as fromValues,o as m};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{acosClamped as t,reciprocalClamped as i}from\"../../../../core/mathUtils.js\";import{set as r}from\"../../../../core/libs/gl-matrix-2/math/mat2.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat2f64.js\";import{set as e,transformMat2 as a}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{UNIT_X as h,create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{c as n,g as m,n as g,h as f,k as c,f as u,b as l,F as p}from\"../../../../chunks/vec32.js\";import{create as v}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Frame2D as M}from\"./PathExtruder.js\";import{UpVectorAlignment as b}from\"./PathGeometry.js\";class R{constructor(){this.vLeft=v(),this.vRight=v(),this.vMinSiblingLength=0,this.frame=new M}setFrameFromUpVector(t){n(this.frame.up,t),m(k,this.vLeft,this.vRight),g(k,k),f(I,this.frame.up,c(k,this.frame.up)),u(D,k,I),g(D,D),l(this.frame.right,D,this.frame.up)}get foldingAngle(){return Math.PI-this.rotationAngle}}class x extends R{get rotationFrameUp(){return this.frame.up}get rotationRight(){return h}get rotationAngle(){f(w,this.frame.up,c(this.frame.up,this.vLeft)),u(w,this.vLeft,w),p(w,w),g(w,w),f(y,this.frame.up,c(this.frame.up,this.vRight)),u(y,this.vRight,y),g(y,y),l(U,this.rotationFrameUp,this.vLeft);return Math.sign(c(U,this.vRight))*(Math.PI-t(c(w,y)))}get maxStretchDistance(){return Math.abs(this.vMinSiblingLength/Math.cos(.5*this.foldingAngle))}applyMiterStretch(t,r){const s=this.rotationAngle;if(Math.abs(s)<=0)return r;const a=i(Math.cos(.5*s));return e(t,(a-1+1)*r[0],r[1])}}class L extends R{get rotationFrameUp(){const t=Math.sign(c(this.frame.right,this.vRight));return l(d,this.vRight,this.vLeft),f(d,d,t),g(d,d)}get rotationRight(){const t=this.rotationFrameUp,i=c(t,this.frame.up),r=c(t,this.frame.right);return f(S,this.frame.up,-r),f(P,this.frame.right,i),m(S,S,P),g(S,S),j(F,this.frame,S),F}get rotationAngle(){const i=Math.sign(c(this.frame.right,this.vRight));return p(U,this.vLeft),-i*(Math.PI-t(c(U,this.vRight)))}get maxStretchDistance(){return Math.abs(this.vMinSiblingLength*i(Math.cos(.5*this.foldingAngle)))}applyMiterStretch(t,s){const e=this.rotationAngle;if(0===Math.abs(e))return s;const h=i(Math.cos(.5*e)),o=this.rotationRight,n=r(E,1+(h-1)*o[0]*o[0],(h-1)*o[0]*o[1],(h-1)*o[0]*o[1],1+(h-1)*o[1]*o[1]);return a(t,s,n)}}function j(t,i,r){e(t,c(r,i.right),c(r,i.up))}function A(t){switch(t){case b.World:return new x;case b.Path:return new L}}const d=v(),F=o(),S=v(),P=v(),U=v(),w=v(),y=v(),I=v(),k=v(),D=v(),E=s();export{R as PathVertex,A as newPathVertex};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{fromValues as o,create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ViewingMode as i}from\"../../../ViewingMode.js\";import{ShaderOutput as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{PathVertexPositionPassParameters as s}from\"../core/shaderLibrary/attributes/PathVertexPosition.glsl.js\";import{NormalsDoubleSidedMode as n}from\"../core/shaderLibrary/shading/Normals.glsl.js\";import{PBRMode as a}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{ReloadableShaderModule as l}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as p}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as c}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{blendingDefault as u,oitBlending as d,oitDepthTest as h,OITPolygonOffset as m}from\"../lib/OrderIndependentTransparency.js\";import{Program as v}from\"../lib/Program.js\";import{stencilWriteMaskOn as y,stencilBaseAllZerosParams as b}from\"../lib/StencilUtils.js\";import{TransparencyPassType as f}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as g}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as P}from\"./DefaultTechniqueConfiguration.js\";import{P as O}from\"../../../../chunks/Path.glsl.js\";import{makePipelineState as T,frontFaceCullingParams as j,defaultDepthWriteParams as S,defaultColorWriteParams as R}from\"../../../webgl/renderState.js\";const E=new Map([[g.POSITION,0],[g.PROFILERIGHT,1],[g.PROFILEUP,2],[g.PROFILEVERTEXANDNORMAL,3],[g.FEATUREVALUE,4]]);class N extends s{constructor(){super(...arguments),this.ambient=o(.2,.2,.2),this.diffuse=o(.8,.8,.8),this.specular=o(0,0,0),this.opacity=1,this.origin=t(),this.modelTransformation=null}}class C extends p{initializeConfiguration(e,o){o.spherical=e.viewingMode===i.Global,o.doublePrecisionRequiresObfuscation=e.rctx.driverTest.doublePrecisionRequiresObfuscation.result}initializeProgram(e){return new v(e.rctx,C.shader.get().build(this.configuration),E)}initializePipeline(){const e=this.configuration.transparencyPassType,o=this.configuration,t=e===f.NONE,i=e===f.FrontFace;return T({blending:o.output!==r.Color&&o.output!==r.Alpha||!o.transparent?null:t?u:d(e),culling:o.hasSlicePlane&&!o.transparent&&o.doubleSidedMode!==n.None?j:null,depthTest:{func:h(e)},depthWrite:t||i?S:null,colorWrite:R,stencilWrite:o.hasOccludees?y:null,stencilTest:o.hasOccludees?b:null,polygonOffset:t||i?null:m})}}C.shader=new l(O,(()=>import(\"../shaders/Path.glsl.js\")));class V extends P{constructor(){super(...arguments),this.output=r.Color,this.doubleSidedMode=n.None,this.transparencyPassType=f.NONE,this.spherical=!1,this.receiveShadows=!1,this.receiveAmbientOcclusion=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.hasSlicePlane=!1,this.transparent=!1,this.hasOccludees=!1,this.multipassEnabled=!1,this.cullAboveGround=!1,this.doublePrecisionRequiresObfuscation=!1}}e([c({count:r.COUNT})],V.prototype,\"output\",void 0),e([c({count:n.COUNT})],V.prototype,\"doubleSidedMode\",void 0),e([c({count:f.COUNT})],V.prototype,\"transparencyPassType\",void 0),e([c()],V.prototype,\"spherical\",void 0),e([c()],V.prototype,\"receiveShadows\",void 0),e([c()],V.prototype,\"receiveAmbientOcclusion\",void 0),e([c()],V.prototype,\"vvSize\",void 0),e([c()],V.prototype,\"vvColor\",void 0),e([c()],V.prototype,\"vvOpacity\",void 0),e([c()],V.prototype,\"hasSlicePlane\",void 0),e([c()],V.prototype,\"transparent\",void 0),e([c()],V.prototype,\"hasOccludees\",void 0),e([c()],V.prototype,\"multipassEnabled\",void 0),e([c()],V.prototype,\"cullAboveGround\",void 0),e([c()],V.prototype,\"doublePrecisionRequiresObfuscation\",void 0),e([c({constValue:!1})],V.prototype,\"occlusionPass\",void 0),e([c({constValue:a.Disabled})],V.prototype,\"pbrMode\",void 0),e([c({constValue:!0})],V.prototype,\"hasVvInstancing\",void 0),e([c({constValue:!1})],V.prototype,\"useCustomDTRExponentForWater\",void 0),e([c({constValue:!1})],V.prototype,\"useFillLights\",void 0),e([c({constValue:!1})],V.prototype,\"hasColorTexture\",void 0);export{N as PathPassParameters,C as PathTechnique,V as PathTechniqueConfiguration,E as vertexAttributeLocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{clamp as e}from\"../../../../core/mathUtils.js\";import{fromValues as t}from\"../../../../geometry/support/aaBoundingBox.js\";import{newLayout as r}from\"../../support/buffer/InterleavedLayout.js\";import{isShadowRelatedOutput as i,is3DGeometryOutput as s,ShaderOutput as a}from\"../core/shaderLibrary/ShaderOutput.js\";import{NormalsDoubleSidedMode as o}from\"../core/shaderLibrary/shading/Normals.glsl.js\";import n from\"../lib/GLMaterial.js\";import{Material as h}from\"../lib/Material.js\";import{isPathGeometry as u}from\"../lib/PathGeometry.js\";import{MeshIntersectionOptions as c,intersectAabbInvDir as d}from\"../lib/RayIntersections.js\";import{RenderSlot as l}from\"../lib/RenderSlot.js\";import{VertexAttribute as p}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as m}from\"./DefaultBufferWriter.js\";import{vertexAttributeLocations as f,PathTechniqueConfiguration as b,PathTechnique as S,PathPassParameters as v}from\"./PathTechnique.js\";class g extends h{constructor(e){super(e,new O),this.supportsEdges=!0,this.produces=new Map([[l.OPAQUE_MATERIAL,e=>(this.parameters.castShadows&&i(e)||s(e))&&!this.parameters.transparent],[l.TRANSPARENT_MATERIAL,e=>(this.parameters.castShadows&&i(e)||s(e))&&this.parameters.transparent]]),this._vertexAttributeLocations=f,this._configuration=new b,this._vertexBufferLayout=g.getVertexBufferLayout()}getConfiguration(e,t){return this._configuration.output=e,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.vvOpacity=!!this.parameters.vvOpacity,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.hasOccludees=this.parameters.hasOccludees,e!==a.Color&&e!==a.Alpha||(this._configuration.doubleSidedMode=this.parameters.doubleSided&&\"normal\"===this.parameters.doubleSidedType?o.View:this.parameters.doubleSided&&\"winding-order\"===this.parameters.doubleSidedType?o.WindingOrder:o.None,this._configuration.receiveShadows=this.parameters.receiveShadows,this._configuration.receiveAmbientOcclusion=null!=t.ssao),this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}isVisibleForOutput(e){return e!==a.Shadow&&e!==a.ShadowExcludeHighlight&&e!==a.ShadowHighlight||this.parameters.castShadows}isVisible(){return super.isVisible()&&this.parameters.opacity>0}intersect(r,i,s,a,o,n){const h=r;if(!u(h))return;const l=h.path,p=[this.parameters.size[0],this.parameters.size[1]];if(this.parameters.vvSize){const{offset:t,factor:r,minSize:i,maxSize:s}=this.parameters.vvSize,a=l.sizeAttributeValue;p[0]*=e(t[0]+a*r[0],i[0],s[0]),p[1]*=e(t[2]+a*r[2],i[2],s[2])}const m=new c(!1,s.options.normalRequired),f=Math.max(p[0],p[1]),b=r.boundingInfo;if(null==b)return void w(l,p,a,o,m,n);const S=t(b.bbMin[0]-f,b.bbMin[1]-f,b.bbMin[2]-f,b.bbMax[0]+f,b.bbMax[1]+f,b.bbMax[2]+f),v=[o[0]-a[0],o[1]-a[1],o[2]-a[2]],g=Math.sqrt(v[0]*v[0]+v[1]*v[1]+v[2]*v[2]),_=[g/v[0],g/v[1],g/v[2]];d(S,a,_,s.tolerance)&&w(l,p,a,o,m,n)}createBufferWriter(){return new m(this._vertexBufferLayout)}createGLMaterial(e){return new _(e)}static getVertexBufferLayout(){return r().vec3f(p.POSITION).vec4f(p.PROFILERIGHT).vec4f(p.PROFILEUP).vec4f(p.PROFILEVERTEXANDNORMAL).vec4f(p.FEATUREVALUE)}}class _ extends n{_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&this._material.setParameters({hasOccludees:e.hasOccludees})}_updateShadowState(e){null!=this.technique&&e.shadowMap.enabled===this.technique.configuration.receiveShadows||this._material.setParameters({receiveShadows:e.shadowMap.enabled})}beginSlot(e){return this._output!==a.Color&&this._output!==a.Alpha||(this._updateShadowState(e),this._updateOccludeeState(e)),this.ensureTechnique(S,e)}}function w(e,t,r,i,s,a){e.baked.size&&e.baked.size[0]===t[0]&&e.baked.size[1]===t[1]||e.baked.bake(t),e.baked.intersect(r,i,s,a)}class O extends v{constructor(){super(...arguments),this.doubleSided=!1,this.doubleSidedType=\"normal\",this.receiveShadows=!1,this.castShadows=!0,this.hasSlicePlane=!1,this.transparent=!1,this.hasOccludees=!1}}export{g as PathMaterial,O as PathMaterialParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../core/Error.js\";import{translate as t}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as i,create as r}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as s,scale as a}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{fromValues as o,fromArray as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{s as l}from\"../../../../chunks/vec32.js\";import{fromArray as h,create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectBuffer as p}from\"../../../../geometry/projection/projectBuffer.js\";import{create as m,empty as f,expandWithBuffer as d,intersectsClippingArea as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{newDoubleArray as b,doubleArrayFrom as y}from\"../../../../geometry/support/DoubleArray.js\";import{needsElevationUpdates3D as g,evaluateElevationAlignmentAtPoint as _,SampleElevationInfo as v}from\"./elevationAlignmentUtils.js\";import{Graphics3DObject3DGraphicLayer as w}from\"./Graphics3DObject3DGraphicLayer.js\";import{pathNumRoundJoinSubdivisions as x,pathNumRoundCapExtrusionSubdivisions as P}from\"./Graphics3DPathSymbolLayerConstants.js\";import{Graphics3DSymbolLayer as j}from\"./Graphics3DSymbolLayer.js\";import{isValidSize as S}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as D}from\"./interfaces.js\";import{ConvertOptions as C,initFastSymbolUpdatesState as L,updateFastSymbolUpdatesState as V,getAttributeValue as U}from\"../support/FastSymbolUpdates.js\";import{SamplePosition as A}from\"../../support/ElevationProvider.js\";import{NormalType as E}from\"../../webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{CullFaceOptions as R}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3D as z}from\"../../webgl-engine/lib/Object3D.js\";import{Path as k}from\"../../webgl-engine/lib/Path.js\";import{PathBuilder as I}from\"../../webgl-engine/lib/PathBuilder.js\";import{RoundCapBuilder as G,TriangulationCapBuilder as B,NoCapBuilder as O}from\"../../webgl-engine/lib/PathCapBuilder.js\";import{SimpleExtruder as M,MiterExtruder as q}from\"../../webgl-engine/lib/PathExtruder.js\";import{UpVectorAlignment as F,PathGeometry as H,isPathGeometry as N}from\"../../webgl-engine/lib/PathGeometry.js\";import{FastUpdatePathGeometry as T,StaticPathGeometry as W}from\"../../webgl-engine/lib/PathGeometryData.js\";import{computeMinimumRotationTangentFrame as Z}from\"../../webgl-engine/lib/pathGeometryUtils.js\";import{quadProfiles as J,circleProfiles as K}from\"../../webgl-engine/lib/PathProfile.js\";import{newPathVertex as Q}from\"../../webgl-engine/lib/PathVertex.js\";import{VertexAttribute as X}from\"../../webgl-engine/lib/VertexAttribute.js\";import{DefaultMaterial as Y}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{PathMaterial as $}from\"../../webgl-engine/materials/PathMaterial.js\";const ee=[\"polyline\"];class te extends j{constructor(e,t,i,r){super(e,t,i,r),this._intrinsicSize=o(1,1),this._upVectorAlignment=F.Path,this._stencilWidth=.1,this.usedMemory=0,this.ensureDrapedStatus(!1)}async doLoad(){const t=null!=this.symbolLayer.width?this.symbolLayer.width:this.symbolLayer.height,i=null!=this.symbolLayer.height?this.symbolLayer.height:t;this._vvConvertOptions=new C({size:!0,color:!0,rotation:!1,opacity:!0},[1,1,1],[t,1,i],this._context.renderCoordsHelper.unitInMeters),this._fastUpdates=this._context.renderer?.visualVariables?.length>0?L(this._context.renderer,this._vvConvertOptions):null;const r=this.symbolLayer.anchor||\"center\";this._upVectorAlignment=\"heading\"===this.symbolLayer.profileRotation?F.World:F.Path;const o=this.symbolLayer.profile||\"circle\";switch(o){default:case\"circle\":this._profile=K[r];break;case\"quad\":this._profile=J[r]}switch(this.symbolLayer.join){case\"round\":this._extruder=new q(0,x);break;case\"bevel\":this._extruder=new q(0,1);break;case\"miter\":this._extruder=new q(.8*Math.PI,1);break;default:this._extruder=new M}const l=this.symbolLayer.cap||\"butt\";switch(l){case\"none\":this._startCap=new O,this._endCap=new O;break;case\"butt\":default:this._startCap=new B(this._profile,0),this._endCap=new B(this._profile,0,!0);break;case\"square\":this._startCap=new B(this._profile,-.5),this._endCap=new B(this._profile,.5,!0);break;case\"round\":{const e=\"quad\"===o;this._startCap=new G({profile:this._profile,flip:!1,breakNormals:e,subdivisions:P}),this._endCap=new G({profile:this._profile,flip:!0,breakNormals:e,subdivisions:P});break}}const c=this.symbolLayer?.material?.color,p=this._getCombinedOpacityAndColor(c),m=h(p),f=p[3],d=f<1||this.needsDrivenTransparentPass,u={diffuse:m,ambient:m,opacity:f,transparent:d,hasVertexColors:!1,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows,cullFace:d||\"none\"===l?R.None:R.Back,offsetTransparentBackfaces:!0};if(!this._drivenProperties.size&&(s(this._intrinsicSize,t,i),!S(this._intrinsicSize[0])||!S(this._intrinsicSize[1])))throw new e(\"graphics3dpathsymbollayer:invalid-size\",\"Symbol sizes may not be negative values\");if(this._fastUpdates?.visualVariables.size||a(this._intrinsicSize,this._intrinsicSize,1/this._context.renderCoordsHelper.unitInMeters),this._fastUpdates){const e={...u,...this._fastUpdates.materialParameters,size:n(this._intrinsicSize)};this._materials[0]=new $(e)}else u.hasVertexColors=this._drivenProperties.color||this._drivenProperties.opacity,u.normalType=E.Compressed,this._materials[0]=new Y(u);this._materials[0].setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}),this._context.stage.add(this._materials[0])}destroy(){super.destroy(),this._context.stage.remove(this._materials[0]),this._materials[0]=null,this._materials.length=0}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,ee,this.symbolLayer.type))return null;const i=this.setGraphicElevationContext(t),r=e.renderingInfo;return this._createAs3DShape(t,r,i,t.uid)}layerOpacityChanged(){const e=this.symbolLayer?.material?.color,t=this._getCombinedOpacity(e),i=t<1||this.needsDrivenTransparentPass;this._materials[0]?.setParameters({opacity:t,transparent:i})}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,g)}slicePlaneEnabledChanged(){return this._materials[0]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return this._materials[0]?.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}),!0}applyRendererDiff(e,t){for(const i in e.diff){if(\"visualVariables\"!==i)return D.RecreateSymbol;if(!V(this._fastUpdates,t,this._vvConvertOptions))return D.RecreateSymbol;this._materials[0]?.setParameters(this._fastUpdates.materialParameters)}return D.FastUpdate}_getVertexData(e){let t=0;const i=e.paths,r=[],s=e.spatialReference,a=this._context.elevationProvider.spatialReference,o=this._context.renderCoordsHelper.spatialReference;for(const c of i)t+=c.length;const n=b(3*t);let l,h=0;for(const c of i){r.push({offset:h,numVertices:c.length});for(const t of c)n[h++]=t[0],n[h++]=t[1],n[h++]=e.hasZ?t[2]:0}return null==a||s.equals(a)||p(n,s,0,n,a,0,t)?(null==a||a.equals(o)?l=y(n):(l=b(3*t),p(n,a,0,l,o,0,t)),{pathVertexDataInfos:r,vertexDataES:n,vertexDataRS:l}):null}_createAs3DShape(e,s,a,o){this.usedMemory=0;const n=e.geometry,h=this._getVertexData(n);if(null==h)return this.logger.warn(\"PathSymbol3DLayer geometry failed to be created (failed to project geometry to view spatial reference)\"),null;if(0===h.pathVertexDataInfos.length)return 0!==n.paths.length&&n.paths.some((e=>e.length>0))||this.logger.warn(\"PathSymbol3DLayer geometry failed to be created (no paths were defined)\"),null;const c=new Array,p=n.spatialReference,b=m(),y=this._context.renderCoordsHelper,v=new A(h.vertexDataES);for(const m of h.pathVertexDataInfos){const n=m.numVertices;if(n<2)continue;const g=m.offset;if(null!=this._context.clippingExtent&&(f(b),d(b,h.vertexDataES,g,n),!u(b,this._context.clippingExtent)))continue;const w=new Array,x=g+3*n;for(let e=g;e<x;e+=3){v.offset=e;const t=_(v,this._context.elevationProvider,a,y);l(oe,h.vertexDataRS[e],h.vertexDataRS[e+1],h.vertexDataRS[e+2]),y.setAltitude(oe,t),h.vertexDataRS[e]=oe[0],h.vertexDataRS[e+1]=oe[1],h.vertexDataRS[e+2]=oe[2],w.push(Q(this._upVectorAlignment))}const P=new k(w,h.vertexDataES,h.vertexDataRS,g);ie(P,this._upVectorAlignment,this._context.renderCoordsHelper);const j=new I(P,this._profile,this._extruder,this._startCap,this._endCap);let S=null;if(this._fastUpdates){const t=this._fastUpdates.visualVariables,i=U(t.size?.field,e)??0,r=U(t.color?.field,e)??0,s=U(t.opacity?.field,e)??0;S=new T(j,i,r,s)}else{const e=[this._intrinsicSize[0],this._intrinsicSize[1]];if(this._drivenProperties.size){const t=s.size;e[0]*=re(t[0],\"symbol-value\"===t[2]?this.symbolLayer.height||0:t[2],this.symbolLayer.width||0),e[1]*=re(t[2],\"symbol-value\"===t[0]?this.symbolLayer.width||0:t[0],this.symbolLayer.height||0)}let t;this._drivenProperties.color&&(t=s.color),this._drivenProperties.opacity&&null!=s.opacity&&(t=t?[t[0],t[1],t[2],s.opacity]:[1,1,1,s.opacity]);const i=new W(j);i.bake(e),t&&i.bakeVertexColors(t),S=i}const D=S.createGeometryData(),C=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:o,layerUid:this._context.layer.uid}),L=new H(this._materials[0],D,S,p,this._stencilWidth,C);L.transformation=t(r(),i,j.path.origin),c.push(L),this.usedMemory+=j.usedMemory}if(0===c.length)return null;const x=new z({geometries:c,layerUid:this._context.layer.uid,graphicUid:o}),P=new w(this,x,c,null,null,((e,t,i,r,s)=>ae(e,t,r,s,this._upVectorAlignment)),a);return P.alignedSampledElevation=0,P.needsElevationUpdates=g(a.mode),P}}function ie(e,t,i){const{origin:r,positions:s}=e;let a=e.offset;switch(t){default:case F.World:for(const t of e.vertices)oe[0]=s[a++]+r[0],oe[1]=s[a++]+r[1],oe[2]=s[a++]+r[2],i.worldUpAtPosition(oe,oe),t.setFrameFromUpVector(oe);break;case F.Path:oe[0]=s[a]+r[0],oe[1]=s[a+1]+r[1],oe[2]=s[a+2]+r[2],i.worldUpAtPosition(oe,oe),Z(e,oe)}}function re(e,t,i){switch(e){case\"symbol-value\":return i;case\"proportional\":return t;default:return e}}function se(e,t,i,r){let s=0;const{origin:a,vertices:o,positions:n,positionsES:h}=e,c=e.offset+3*o.length;for(let p=e.offset;p<c;p+=3)l(oe,h[p],h[p+1],h[p+2]),i(oe,ne),s+=ne.sampledElevation,oe[0]=n[p]+a[0],oe[1]=n[p+1]+a[1],oe[2]=n[p+2]+a[2],r.setAltitude(oe,ne.z),n[p]=oe[0]-a[0],n[p+1]=oe[1]-a[1],n[p+2]=oe[2]-a[2];return e.updatePathVertexInformation(),s/o.length}function ae(e,t,i,r,s){const a=e.stageObject,o=a.geometries;let n=0;for(const l of o){if(!N(l))continue;const e=l.path,o=e.builder.path;n+=se(o,t,i,r),s!==F.World&&ie(o,s,r),e.onPathChanged(l),l.invalidateBoundingInfo(),a.geometryVertexAttributeUpdated(l,X.POSITION)}return n/o.length}const oe=c(),ne=new v;export{te as Graphics3DPathSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as o}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{s as e,k as s,f as i,h as a,g as m,c as n,r as c,n as l,b as f}from\"../../../../chunks/vec32.js\";import{create as I}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as h}from\"../../../../geometry/ellipsoidUtils.js\";import{lonLatToWebMercatorComparable as p}from\"../../../../geometry/projection/projectors.js\";import{newDoubleArray as N}from\"../../../../geometry/support/DoubleArray.js\";import{create as g,fromArray as b,getNormal as u}from\"../../../../geometry/support/plane.js\";import{ViewingMode as j}from\"../../../ViewingMode.js\";function T(t,r,e,s,i=1){if(e.isGeographic&&s===j.Global){const t=N(r.length),o=r.length,s=h(e);for(let e=0;e<o;e+=3)p(r,e,t,e,s);r=t}o(y,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);for(let o=0;o<r.length;o+=3)y[0]=Math.min(y[0],r[o]),y[1]=Math.min(y[1],r[o+1]);const a=y[0]%i,m=y[1]%i,n=y[0]-a,c=y[1]-m;for(let o=0;o<r.length;o+=3){const e=o/3*4;t[e]=(r[o]-n)/i,t[e+1]=(r[o+1]-c)/i,t[e+2]=n/i,t[e+3]=c/i}}function M(t,r,n,c,l=1){e(F,1,0,0),e(Y,0,1,0),e(_,0,0,1),D(x,n),b(V,n)&&O(V,F,Y,_,c,x),o(y,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),o(P,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);for(let o=0;o<n.length;o+=3){e(E,n[o],n[o+1],n[o+2]);const t=s(F,E),r=s(Y,E);y[0]=Math.min(y[0],t),y[1]=Math.min(y[1],r),P[0]=Math.max(P[0],t),P[1]=Math.max(P[1],r)}const f=s(_,x);q(v,y[0],y[1],f,F,Y,_),q(A,P[0],y[1],f,F,Y,_),q(G,y[0],P[1],f,F,Y,_),i(A,A,v),a(A,A,.5),i(G,G,v),a(G,G,.5),m(v,v,A),m(v,v,G);const I=y[0]%l,h=y[1]%l,p=y[0]-I,N=y[1]-h;for(let o=0;o<n.length;o+=3){e(E,n[o],n[o+1],n[o+2]);const i=o/3,a=4*i;t[a]=(s(F,E)-p)/l,t[a+1]=(s(Y,E)-N)/l,t[a+2]=p/l,t[a+3]=N/l;const m=9*i;for(let t=0;t<3;t++)r[m+t]=v[t],r[m+t+3]=A[t],r[m+t+6]=G[t]}}const x=I(),E=I(),V=g(),F=I(),Y=I(),_=I(),y=r(),P=r(),v=I(),A=I(),G=I();function O(t,o,r,i,m,I){null!=m?(m.basisMatrixAtPosition(I,S),e(d,S[0],S[1],S[2]),e(k,S[4],S[5],S[6]),e(w,S[8],S[9],S[10])):(e(d,1,0,0),e(k,0,1,0),e(w,0,0,1));const h=u(t);s(h,w)<0&&a(h,h,-1),n(i,h);const p=s(h,k),N=s(h,d);Math.abs(p)>Math.abs(N)?(c(o,d,h,-N),l(o,o),f(r,o,h),l(r,r),a(r,r,-1)):(c(r,k,h,-p),l(r,r),f(o,r,h),l(o,o))}const S=t(),d=I(),k=I(),w=I();function D(t,o){e(U,0,0,0);for(let r=0;r<o.length-3;r+=3)U[0]+=o[r],U[1]+=o[r+1],U[2]+=o[r+2];a(t,U,1/(o.length/3-1))}const U=I();function q(t,o,r,s,i,a,m){e(t,o*i[0]+r*a[0]+s*m[0],o*i[1]+r*a[1]+s*m[1],o*i[2]+r*a[2]+s*m[2])}export{M as createMapSpaceUVCoords,T as createMapSpaceUVCoordsDraped};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import has from\"../../../../core/has.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as o}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as s}from\"../lib/basicInterfaces.js\";import{blendingDefault as n,oitBlending as a,oitDepthTest as p,oitDepthWrite as l,getOITPolygonOffset as c}from\"../lib/OrderIndependentTransparency.js\";import{Program as u}from\"../lib/Program.js\";import{stencilWriteMaskOn as d,stencilToolMaskBaseParams as h,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{TransparencyPassType as y}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as O}from\"../materials/DefaultTechniqueConfiguration.js\";import{Style as T}from\"../materials/PatternStyle.js\";import{P as v}from\"../../../../chunks/Pattern.glsl.js\";import{makePipelineState as P,cullingParams as b,defaultDepthWriteParams as g,defaultColorWriteParams as C}from\"../../../webgl/renderState.js\";class S extends r{initializeProgram(e){return new u(e.rctx,S.shader.get().build(this.configuration),has(\"enable-feature:objectAndLayerId-rendering\")?N:E)}_setPipelineState(e,o){const r=this.configuration,i=e===y.NONE,s=e===y.FrontFace;return P({blending:r.output===t.Color||r.output===t.Alpha?i?n:a(e):null,culling:b(r.cullFace),depthTest:r.draped?null:{func:p(e)},depthWrite:r.draped?null:i?g:l(e),colorWrite:C,stencilWrite:r.hasOccludees?d:null,stencilTest:r.hasOccludees?o?h:f:null,polygonOffset:i||s?r.polygonOffset?j:null:c(r.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}S.shader=new o(v,(()=>import(\"./Pattern.glsl.js\")));const j={factor:1,units:1};class A extends O{constructor(){super(...arguments),this.output=t.Color,this.cullFace=s.None,this.transparencyPassType=y.NONE,this.hasSlicePlane=!1,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasOccludees=!1,this.enableOffset=!0,this.multipassEnabled=!1,this.cullAboveGround=!1,this.vvColor=!1,this.objectAndLayerIdColorInstanced=!1}}e([i({count:t.COUNT})],A.prototype,\"output\",void 0),e([i({count:s.COUNT})],A.prototype,\"cullFace\",void 0),e([i({count:T.COUNT})],A.prototype,\"style\",void 0),e([i({count:y.COUNT})],A.prototype,\"transparencyPassType\",void 0),e([i()],A.prototype,\"hasSlicePlane\",void 0),e([i()],A.prototype,\"hasVertexColors\",void 0),e([i()],A.prototype,\"polygonOffset\",void 0),e([i()],A.prototype,\"hasOccludees\",void 0),e([i()],A.prototype,\"patternSpacing\",void 0),e([i()],A.prototype,\"lineWidth\",void 0),e([i()],A.prototype,\"enableOffset\",void 0),e([i()],A.prototype,\"draped\",void 0),e([i()],A.prototype,\"multipassEnabled\",void 0),e([i()],A.prototype,\"cullAboveGround\",void 0),e([i()],A.prototype,\"vvColor\",void 0),e([i({constValue:!0})],A.prototype,\"writeDepth\",void 0),e([i({constValue:!1})],A.prototype,\"occlusionPass\",void 0),e([i({constValue:!1})],A.prototype,\"hasVvInstancing\",void 0),e([i({constValue:!1})],A.prototype,\"vvSize\",void 0),e([i({constValue:!1})],A.prototype,\"vvOpacity\",void 0);const E=new Map([[m.POSITION,0],[m.COLOR,3],[m.UVMAPSPACE,4],[m.COLORFEATUREATTRIBUTE,5],[m.BOUNDINGRECT,6]]),N=new Map([[m.POSITION,0],[m.COLOR,3],[m.UVMAPSPACE,4],[m.COLORFEATUREATTRIBUTE,5],[m.BOUNDINGRECT,6],[m.OBJECTANDLAYERIDCOLOR,9]]);export{S as PatternTechnique,A as PatternTechniqueConfiguration,E as vertexAttributeLocations,N as vertexAttributeLocationsOID};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{fromValues as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{BufferViewMat3f as t,BufferViewVec4f as r}from\"../../../../geometry/support/buffer/BufferView.js\";import{newLayout as s}from\"../../support/buffer/InterleavedLayout.js\";import{isOIDorHighlight as i,isColorOrAlpha as a,ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as n}from\"../lib/basicInterfaces.js\";import c from\"../lib/GLMaterial.js\";import{OITPolygonOffsetLimit as l}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as u}from\"../lib/RenderSlot.js\";import{assert as p}from\"../lib/Util.js\";import{VertexAttribute as f}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as h}from\"./DefaultBufferWriter.js\";import{Style as m}from\"./PatternStyle.js\";import{TriangleMaterial as d}from\"./TriangleMaterial.js\";import{VisualVariablePassParameters as g}from\"./VisualVariablePassParameters.js\";import{writeDefaultAttributes as _,writeBufferVec4 as b}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocationsOID as A,vertexAttributeLocations as O,PatternTechniqueConfiguration as T,PatternTechnique as y}from\"../shaders/PatternTechnique.js\";class P extends d{constructor(e){super(e,new j),this.supportsEdges=!0,this.produces=new Map([[u.OPAQUE_MATERIAL,e=>i(e)],[u.TRANSPARENT_MATERIAL,e=>a(e)],[u.TRANSPARENT_NO_SSAO_DEPTH,e=>e===o.LinearDepth&&this.parameters.writeLinearDepth],[u.DRAPED_MATERIAL,e=>this.parameters.draped&&e===o.Color||i(e)]]),this._vertexAttributeLocations=has(\"enable-feature:objectAndLayerId-rendering\")?A:O,this._configuration=new T}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.style=this.parameters.style,this._configuration.patternSpacing=this.parameters.patternSpacing,this._configuration.lineWidth=this.parameters.lineWidth,this._configuration.draped=this.parameters.draped,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<l,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration}createGLMaterial(e){return new v(e)}createBufferWriter(){const e=s().vec3f(f.POSITION).vec4f(f.UVMAPSPACE);return this.parameters.draped||e.mat3f(f.BOUNDINGRECT),this.parameters.vvColor?e.f32(f.COLORFEATUREATTRIBUTE):e.vec4u8(f.COLOR),has(\"enable-feature:objectAndLayerId-rendering\")&&e.vec4u8(f.OBJECTANDLAYERIDCOLOR),new E(e)}}class v extends c{_updateParameters(e){return this.ensureTechnique(y,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&this._material.setParameters({hasOccludees:e.hasOccludees})}beginSlot(e){return this._output!==o.Color&&this._output!==o.Alpha||this._updateOccludeeState(e),this._updateParameters(e)}}class E extends h{write(e,s,i,a,o){_(i,this.vertexBufferLayout,e,s,a,o);for(const n of this.vertexBufferLayout.fields.keys()){const s=i.attributes.get(n),c=s?.indices;if(s&&c)switch(n){case f.UVMAPSPACE:{p(4===s.size);const e=a.getField(n,r);e&&b(s,e,o);break}case f.BOUNDINGRECT:{p(9===s.size);const r=a.getField(n,t);r&&S(s,e,r,o);break}}}}}function S(e,t,r,s){const{data:i,indices:a}=e,o=t,n=r.typedBuffer,c=r.typedBufferStride,l=a.length;s*=c;for(let u=0;u<l;++u){const e=9*a[u],t=i[e],r=i[e+1],l=i[e+2];n[s]=o[0]*t+o[4]*r+o[8]*l+o[12],n[s+1]=o[1]*t+o[5]*r+o[9]*l+o[13],n[s+2]=o[2]*t+o[6]*r+o[10]*l+o[14];for(let a=3;a<9;++a)n[s+a]=i[e+a];s+=c}}class j extends g{constructor(){super(...arguments),this.color=e(1,1,1,1),this.writeLinearDepth=!1,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=n.None,this.hasOccludees=!1,this.style=m.Cross,this.patternSpacing=10,this.lineWidth=1,this.draped=!0}}export{j as Parameters,P as PatternMaterial};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{fromValues as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{perVertexElevationAligner as e}from\"../graphics/ElevationAligners.js\";import{createMapSpaceUVCoords as r}from\"./uvUtils.js\";import{VertexAttribute as a}from\"../../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as n}from\"../../webgl-engine/materials/ColorMaterial.js\";import{PatternMaterial as o}from\"../../webgl-engine/materials/PatternMaterial.js\";import{Style as i}from\"../../webgl-engine/materials/PatternStyle.js\";function s(e,r){const a=e?.pattern??null;return null==a?new n(r):\"none\"===a.style||\"solid\"===a.style?(\"none\"===a.style&&(r.color=t(0,0,0,0),r.forceTransparentMode=!0),new n(r)):(r.style=l(a.style),new o(r))}function l(t){switch(t){case\"horizontal\":return i.Horizontal;case\"vertical\":return i.Vertical;case\"cross\":return i.Cross;case\"forward-diagonal\":return i.ForwardDiagonal;case\"backward-diagonal\":return i.BackwardDiagonal;case\"diagonal-cross\":return i.DiagonalCross;default:return}}function c(t){return t.material instanceof o&&!t.material.parameters.draped}function u(t,e){if(c(t)){const n=t.attributes.get(a.POSITION).data,o=t.getMutableAttribute(a.UVMAPSPACE).data,i=t.getMutableAttribute(a.BOUNDINGRECT).data;r(o,i,n,e)}}function m(t,r,a,n,o){const i=e(t,r,a,n,o),s=t.stageObject.geometries;for(const e of s)u(e,o);return i}export{s as createMaterial,l as parsePatternStyle,c as requiresUVUpdates,u as updateMapSpaceUVCoords,m as uvElevationAligner};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{pt2px as t}from\"../../../../core/screenUtils.js\";import{e as i}from\"../../../../chunks/earcut.js\";import{create as r,empty as o,expandWithBuffer as s,intersectsClippingArea as n,expandWithAABB as a}from\"../../../../geometry/support/aaBoundingBox.js\";import{newDoubleArray as l,doubleSubArray as c}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as p,floatSubArray as h}from\"../../../../geometry/support/FloatArray.js\";import{SymbolUpdateType as u,elevationModeChangeUpdateType as d,needsElevationUpdates2D as m}from\"./elevationAlignmentUtils.js\";import{Graphics3DDrapedGraphicLayer as y}from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as _}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as g}from\"./Graphics3DSymbolLayer.js\";import{mixinColorAndOpacity as f}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as b}from\"./interfaces.js\";import{parseCapType as x}from\"./lineUtils.js\";import{geometryAsPolygon as O,createIndices3D as v,createColorGeometry as D,PolygonCreationDataBase as C}from\"./polygonUtils.js\";import{initFastSymbolUpdatesState as S,updateFastSymbolUpdatesState as j,getAttributeValue as A,ConvertOptions as P}from\"../support/FastSymbolUpdates.js\";import{createMaterial as U,uvElevationAligner as E}from\"../support/patternUtils.js\";import{createMapSpaceUVCoords as G,createMapSpaceUVCoordsDraped as L}from\"../support/uvUtils.js\";import{createGeometry as F}from\"../../support/engineContent/line.js\";import{geometryToRenderInfo as w,geometryToRenderInfoDraped as R}from\"../../support/renderInfoUtils/polygon.js\";import{Object3D as M}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as I}from\"../../webgl-engine/lib/RenderGeometry.js\";import{getStipplePatternForLinePattern as V}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{PatternMaterial as B}from\"../../webgl-engine/materials/PatternMaterial.js\";import{RibbonLineMaterial as T}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";const z=[\"polyline\",\"polygon\",\"extent\"],H=new P({size:!1,color:!0,rotation:!1,opacity:!1});class N extends g{constructor(e,t,i,r){super(e,t,i,r),this._needsUV=!1}async doLoad(){this._fastUpdates=S(this._context.renderer,H)}_createMaterials(){if(this._materials.length>0)return;const e=this.symbolLayer?.material?.color,i=this._getCombinedOpacityAndColor(e);this._materials[J.Fill]=U(this.symbolLayer,{color:i,forceTransparentMode:this.needsDrivenTransparentPass,polygonOffset:!1,hasVertexColors:!0,writeLinearDepth:!0,draped:this.draped,hasSlicePlane:this._context.slicePlaneEnabled,...this._fastUpdates?.materialParameters}),this._needsUV=this._materials[J.Fill]instanceof B;const r=this.symbolLayer.outline;if(K(r)){const e=V(r.pattern);this._materials[J.Outline]=new T({width:t(r.size),color:this._getOutlineColor(),hasPolygonOffset:!0,hasSlicePlane:this._context.slicePlaneEnabled,isClosed:!0,stipplePattern:e,cap:x(r.patternCap||\"butt\")})}this._context.stage.addMany(this._materials)}destroy(){super.destroy(),this._context.stage.removeMany(this._materials),this._materials.length=0}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,z,this.symbolLayer.type))return null;const i=this._getVertexOpacityAndColor(e.renderingInfo,255),r=this.setGraphicElevationContext(t);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this._createMaterials(),this.draped?this._createAsOverlay(t,i):this._createAs3DShape(t,i,r)}applyRendererDiff(e,t){for(const i in e.diff){if(\"visualVariables\"!==i)return b.RecreateSymbol;if(!j(this._fastUpdates,t,H))return b.RecreateSymbol;this._materials[J.Fill]?.setParameters(this._fastUpdates.materialParameters)}return b.FastUpdate}layerOpacityChanged(){if(null!=this._materials[J.Fill]){const e=this._materials[J.Fill].parameters.color,t=this.symbolLayer?.material?.color,i=this._getCombinedOpacity(t);this._materials[J.Fill].setParameters({color:[e[0],e[1],e[2],i],forceTransparentMode:this.needsDrivenTransparentPass})}if(null!=this._materials[J.Outline]){const e=this._materials[J.Outline].parameters.color;this._materials[J.Outline].setParameters({color:[e[0],e[1],e[2],this._getOutlineOpacity()]})}}layerElevationInfoChanged(e,t,i){const r=this._elevationContext.mode,o=d(N.elevationModeChangeTypes,i,r);if(o!==u.UPDATE)return o;const s=m(r);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>s))}slicePlaneEnabledChanged(){if(this._materials[J.Fill]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),this._materials[J.Outline]){const e={hasSlicePlane:this._context.slicePlaneEnabled};this._materials[J.Outline].setParameters(e)}return!0}physicalBasedRenderingChanged(){return!0}_createAs3DShape(e,t,i){const r=O(e.geometry);if(!r)return null;const o=w(r,this._context.elevationProvider,this._context.renderCoordsHelper,i),s=new k(o,t,this._context.layer.uid,e.uid),n=s.renderData.position.length/3;if(this._needsUV&&(s.uvMapSpace=p(4*n,!0),s.boundingRect=l(9*n,!0),G(s.uvMapSpace,s.boundingRect,s.renderData.position,this._context.renderCoordsHelper)),s.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(s),this._createAs3DShapeFill(e,s),this._materials[J.Outline]&&this._createAs3DShapeOutline(s),this._logGeometryCreationWarnings(s.renderData,r.rings,\"rings\",\"FillSymbol3DLayer\"),0===s.outGeometries.length)return null;const a=new M({geometries:s.outGeometries,castShadow:!1,layerUid:this._context.layer.uid,graphicUid:e.uid}),c=new _(this,a,s.outGeometries,null,null,E,i);return c.alignedSampledElevation=s.renderData.sampledElevation,c.needsElevationUpdates=m(i.mode),c}_createAs3DShapeFill(e,t){const i=t.renderData.polygons;for(const{position:r,mapPositions:a,holeIndices:l,index:p,count:u}of i){if(null!=this._context.clippingExtent&&(o(W),s(W,a),!n(W,this._context.clippingExtent)))continue;const i=v(a,l,this._context.elevationProvider.spatialReference);if(0===i.length)continue;const d=this._fastUpdates?.visualVariables.color,m=D({material:this._materials[J.Fill],indices:i,mapPositions:a,attributeData:{position:r,color:d?null:t.color,colorFeature:d?A(d.field,e):null,uvMapSpace:this._needsUV?h(t.uvMapSpace,4*p,4*u):null,boundingRect:this._needsUV?c(t.boundingRect,9*p,9*u):null,objectAndLayerIdColor:t.objectAndLayerIdColor}});t.outGeometries.push(m)}}_createAs3DShapeOutline(e){if(null==this._materials[J.Outline])return;const t=e.renderData.outlines;for(const{mapPositions:i,position:r}of t){if(null!=this._context.clippingExtent&&(o(W),s(W,i),!n(W,this._context.clippingExtent)))continue;const t=F(this._materials[J.Outline],{overlayInfo:null,removeDuplicateStartEnd:!0,mapPositions:i,attributeData:{position:r}},e.objectAndLayerIdColor);e.outGeometries.push(t)}}_createAsOverlay(e,t){const i=O(e.geometry);if(null==i)return null;this._materials[J.Fill].renderPriority=this._renderPriority+this._renderPriorityStep/2,null!=this._materials[J.Outline]&&(this._materials[J.Outline].renderPriority=this._renderPriority);const r=R(i,this._context.overlaySR),s=new q(r,t,this._context.layer.uid,e.uid),n=s.renderData.position.length/3;return this._needsUV&&(s.uvMapSpace=p(4*n,!0),L(s.uvMapSpace,s.renderData.position,this._context.overlaySR,this._context.graphicsCoreOwner.view.state.viewingMode)),s.outBoundingBox=o(),s.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(s),this._createAsOverlayFill(e,s),this._materials[J.Outline]&&this._createAsOverlayOutline(s),this._logGeometryCreationWarnings(s.renderData,i.rings,\"rings\",\"FillSymbol3DLayer\"),0===s.outGeometries.length?null:new y(this,s.outGeometries,s.outBoundingBox,this._context.drapeSourceRenderer)}_createAsOverlayFill(e,t){const r=t.renderData.polygons;for(const{position:l,holeIndices:c,index:p,count:u}of r){const r=o(W);if(s(r,l),!n(r,this._context.clippingExtent))continue;const d=i(l,c,3);if(0===d.length)continue;a(t.outBoundingBox,r);const m=this._fastUpdates?.visualVariables.color,y=D({material:this._materials[J.Fill],indices:d,attributeData:{position:l,color:m?null:t.color,colorFeature:m?A(m.field,e):null,uvMapSpace:this._needsUV?h(t.uvMapSpace,4*p,4*u):null,objectAndLayerIdColor:t.objectAndLayerIdColor}});t.outGeometries.push(new I(y,t))}}_createAsOverlayOutline(e){if(null==this._materials[J.Outline])return;const t=e.renderData.outlines;for(let i=0;i<t.length;++i){const{position:r}=t[i];if(o(W),s(W,r),!n(W,this._context.clippingExtent))continue;a(e.outBoundingBox,W);const l=F(this._materials[J.Outline],{overlayInfo:{spatialReference:this._context.overlaySR,renderCoordsHelper:this._context.renderCoordsHelper},removeDuplicateStartEnd:!0,attributeData:{position:r}},e.objectAndLayerIdColor);e.outGeometries.push(new I(l,e))}}_getOutlineOpacity(){const e=this.symbolLayer?.outline?.color;return(this.draped?1:this._getLayerOpacity())*(null!=e?e.a:0)}_getOutlineColor(){const t=this.symbolLayer?.outline?.color,i=this._getOutlineOpacity();return f(null!=t?e.toUnitRGB(t):null,i)}test(){return{...super.test(),createAsOverlay:(e,t)=>this._createAsOverlay(e,t),createAs3DShape:(e,t,i)=>this._createAs3DShape(e,t,i)}}}N.elevationModeChangeTypes={definedChanged:u.RECREATE,staysOnTheGround:u.NONE,onTheGroundChanged:u.RECREATE};const W=r();class k extends C{constructor(e,t,i,r){super(e,i,r),this.color=t}}class q extends C{constructor(e,t,i,r){super(e,i,r),this.color=t}}var J;function K(e){return null!=e?.size&&e.size>0&&null!=e.color&&(null==e.pattern||\"style\"!==e.pattern.type||\"none\"!==e.pattern.style)}!function(e){e[e.Fill=0]=\"Fill\",e[e.Outline=1]=\"Outline\"}(J||(J={}));export{N as Graphics3DPolygonFillSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getTextHelperCanvas as e}from\"./TextHelperCanvas.js\";import{TextRenderer as r}from\"./TextRenderer.js\";import{TextTextureAtlas as t}from\"./TextTextureAtlas.js\";import{Texture as n}from\"./Texture.js\";import{TextureWrapMode as s}from\"../../../webgl/enums.js\";class i{constructor(e,n,s){this._renderer=new r(e,n,s,t.maxSize)}get key(){return this._renderer.key}get baselineAnchorY(){return 1-this._renderer.firstRenderedBaselinePosition/this._renderer.renderedHeight}get displayWidth(){return this._renderer.displayWidth}get displayHeight(){return this._renderer.displayHeight}create(){const r=e(d,this._renderer.renderedWidth,this._renderer.renderedHeight),t=r.getContext(\"2d\");return t.save(),this._renderer.render(t,0,0),t.restore(),new n(r,{wrap:{s:s.CLAMP_TO_EDGE,t:s.CLAMP_TO_EDGE},noUnpackFlip:!1,mipmap:!0,preMultiplyAlpha:!0})}}const d={canvas:null};export{i as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{isPromiseLike as t}from\"../../../../core/promiseUtils.js\";import{pt2px as r}from\"../../../../core/screenUtils.js\";import{fromValues as n,ZEROS as s,create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{fromValues as o}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{hasCalloutSupport as l,textSymbolLayerSupportsVerticalOffset as a}from\"../../../../symbols/callouts/calloutUtils.js\";import{perObjectElevationAligner as c}from\"./ElevationAligners.js\";import{SymbolUpdateType as m,needsElevationUpdates2D as h}from\"./elevationAlignmentUtils.js\";import{ElevationContext as p}from\"./ElevationContext.js\";import{Graphics3DObject3DGraphicLayer as f}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DObjectMetadata as u}from\"./Graphics3DObjectMetadata.js\";import{Graphics3DSymbolLayer as d}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as g}from\"./graphicUtils.js\";import{LabelParameters as y,LabelPlacement as x}from\"./LabelParameters.js\";import{verticalScreenOffsetFromAlignment as v,verticalPlacementFromAlignment as b,textRenderAlignmentFromHorizontalPlacement as P,horizontalPlacementToAnchorX as O,anchorFromPlacements as j,namedAnchorToHUDMaterialAnchorPos as w}from\"./placementUtils.js\";import{placePointOnGeometry as S,createStageObject as E,extendPointGraphicElevationContext as _}from\"./pointUtils.js\";import{getFontMetrics as L}from\"../../webgl-engine/lib/FontMetrics.js\";import{createPointGeometry as z}from\"../../webgl-engine/lib/GeometryUtil.js\";import{TextRenderParameters as C}from\"../../webgl-engine/lib/TextRenderParameters.js\";import G from\"../../webgl-engine/lib/TextTextureFactory.js\";import{HUDMaterial as U}from\"../../webgl-engine/materials/HUDMaterial.js\";const R=o(0,0,1);class D extends d{constructor(e,t,r,n){super(e,t,r,n),this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!1},this.ensureDrapedStatus(!1)}async doLoad(){if(!this._drivenProperties.size){const t=g(this.symbolLayer.size);if(t)throw new e(\"graphics3dtextsymbollayer:invalid-size\",t)}await this._createTextRenderParameters()}async _createTextRenderParameters(){const e=this._context.graphicsCoreOwner.view.state.rasterPixelRatio;this._textRenderParameters=await C.fromSymbol(this.symbolLayer,e)}destroy(){super.destroy()}createGraphics3DGraphic(e){const t=e.graphic,r=S(t.geometry);if(null==r)return this.logger.warn(`unsupported geometry type for text symbol: ${t.geometry.type}`),null;const n=this.symbolLayer.text;if(null==n||\"\"===n)return null;const s=l(this.symbol)&&this.symbol.hasVisibleVerticalOffset()?this.symbol.verticalOffset:null;if(null!=s&&!a(this.symbolLayer))return this.logger.errorOncePerTick(`Callouts and vertical offset on text symbols are currently only supported with 'center' horizontal alignment (not with '${this.symbolLayer.horizontalAlignment}' alignment)`),null;const{verticalAlignment:i}=this.symbolLayer,o=new x(s);v(i,o.screenOffset);const c=new y(o,this.symbolLayer.horizontalAlignment,b(i));return this._createAs3DShape(t,r,n,c)}createLabel(e,t,r,n,s){const i=e.graphic,o=S(i.geometry);if(null==o)return this.logger.warn(`unsupported geometry type for label: ${i.geometry.type}`),null;const l=t.text;return!l||/^\\s+$/.test(l)?null:this._createAs3DShape(i,o,l,t,r,n,s)}setGraphicElevationContext(e,t,r=0){return super.setGraphicElevationContext(e,t),t.addOffsetRenderUnits(r),t}layerOpacityChanged(){return this.logger.warn(\"layer opacity change not yet implemented in Graphics3DTextSymbolLayer\"),!1}layerElevationInfoChanged(e,t){return A(e,t,((e,t)=>{this.updateGraphicElevationContext(t,e)})),m.UPDATE}slicePlaneEnabledChanged(e,t){return A(e,t,(e=>{for(const t of e.stageObject.geometries)t.material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})})),!0}physicalBasedRenderingChanged(){return!0}get pixelRatioChanged(){return!1}updateGraphicElevationContext(e,t){const r=t.elevationContext;this.setGraphicElevationContext(e,r,null!=t.metadata?t.metadata.elevationOffset:0),t.needsElevationUpdates=h(r.mode)||\"absolute-height\"===r.mode}_defaultElevationInfoNoZ(){return W}_createAs3DShape(e,o,l,a,m=null,d=null,g=(()=>a.placement.elevationOffset)){const y=this.setGraphicElevationContext(e,new p,a.placement.elevationOffset),x=\"polyline\"===e.geometry?.type,v=e.uid;let b=null,O=null;if(null==d){const e=P(a.horizontalPlacement);b=new G(l,e,this._textRenderParameters);let r=null;if(null!=this._context.sharedResources.textures){O=this._context.sharedResources.textures.fromData(b.key,(()=>b.create())),O.texture.events.on(\"unloaded\",(()=>r?.release()));const e=this._context.stage.renderView.textureRepository.acquire(O.texture.id);if(null==e||t(e))return O.release(),null;r=e}}const j=T(b,a),w={occlusionTest:!0,screenOffset:a.placement.screenOffset,anchorPosition:j,polygonOffset:!0,color:[1,1,1,1],centerOffsetUnits:a.placement.centerOffsetUnits,drawInSecondSlot:!0};if(d?w.textureId=d.id:O&&(w.textureId=O.texture.id),null!=a.placement.verticalOffset){const{screenLength:e,minWorldLength:t,maxWorldLength:n}=a.placement.verticalOffset;w.verticalOffset={screenLength:r(e),minWorldLength:t||0,maxWorldLength:null!=n?n:1/0}}if(this._context.screenSizePerspectiveEnabled){const{screenSizePerspectiveSettings:e,screenSizePerspectiveSettingsLabels:t}=this._context.sharedResources,r=L(this._textRenderParameters);w.screenSizePerspective=t.overrideFontHeight(r.maxHeight),w.screenSizePerspectiveAlignment=e}x&&(w.shaderPolygonOffset=1e-4),w.hasSlicePlane=this._context.slicePlaneEnabled;const S=(e,t)=>{const r=JSON.stringify(t);let n=e.get(r);return null==n&&(n=new U(t),e.add(r,n)),n},C=m?S(m,w):new U(w),D=a.placement.translation,A=b?n(b.displayWidth,b.displayHeight):s,W=a.placement.centerOffset,H=R,I=i(),V=z(C,H,D,null,A,W,I,null),$=E(this._context,o,V,y,v);if(null==$)return null;const F=(t,r,n,s,i,o)=>{const l=g()||a.placement.elevationOffset,m=this.setGraphicElevationContext(e,r,l);return c(t,m,n,s,i,o)},M=new f(this,$.object,[V],null==m?[C]:null,O,F,y);M.alignedSampledElevation=$.sampledElevation,M.needsElevationUpdates=h(y.mode)||\"absolute-height\"===y.mode,M.getScreenSize=(e=i())=>(e[0]=b?b.displayWidth:a.displaySize[0],e[1]=b?b.displayHeight:a.displaySize[1],e);const k=new u(a.placement.elevationOffset,l);return M.metadata=k,_(M,o,this._context.elevationProvider),M}}function A(e,t,r){e&&e.forEach((e=>{const n=t(e);null!=n&&r(n,e.graphic)}))}function T(e,t){if(\"baseline\"===t.verticalPlacement){const r=O[t.horizontalPlacement],s=null!=e?e.baselineAnchorY:0;return n(r,s)}const r=j(t.horizontalPlacement,t.verticalPlacement);return w[r]}const W={mode:\"relative-to-ground\",offset:0};export{D as Graphics3DTextSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ViewingMode as t}from\"../../../ViewingMode.js\";import{ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{PBRMode as r}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{WaterDistortionPassParameters as i}from\"../core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{ReloadableShaderModule as s}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as a}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as n}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as p}from\"../lib/DefaultVertexAttributeLocations.js\";import{blendingDefault as l,oitBlending as d,oitDepthTest as u,oitDepthWrite as c,getOITPolygonOffset as h}from\"../lib/OrderIndependentTransparency.js\";import{Program as f}from\"../lib/Program.js\";import{TransparencyPassType as m}from\"../lib/TransparencyPassType.js\";import{DefaultTechniqueConfiguration as y}from\"./DefaultTechniqueConfiguration.js\";import{W as b}from\"../../../../chunks/WaterSurface.glsl.js\";import{makePipelineState as v,defaultDepthWriteParams as g,defaultColorWriteParams as j}from\"../../../webgl/renderState.js\";class P extends i{}class S extends a{initializeConfiguration(e,o){o.spherical=e.viewingMode===t.Global,o.doublePrecisionRequiresObfuscation=e.rctx.driverTest.doublePrecisionRequiresObfuscation.result}initializeProgram(e){return new f(e.rctx,S.shader.get().build(this.configuration),p)}_setPipelineState(e){const t=this.configuration,r=e===m.NONE,i=e===m.FrontFace;return v({blending:t.output!==o.Normal&&t.output!==o.Highlight&&t.output!==o.ObjectAndLayerIdColor&&t.transparent?r?l:d(e):null,depthTest:t.draped?null:{func:u(e)},depthWrite:t.draped?null:r?t.writeDepth?g:null:c(e),colorWrite:j,polygonOffset:r||i?null:h(t.enableOffset)})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}}S.shader=new s(b,(()=>import(\"../shaders/WaterSurface.glsl.js\")));class T extends y{constructor(){super(...arguments),this.output=o.Color,this.transparencyPassType=m.NONE,this.spherical=!1,this.receiveShadows=!1,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!1,this.hasScreenSpaceReflections=!1,this.doublePrecisionRequiresObfuscation=!1,this.hasCloudsReflections=!1,this.objectAndLayerIdColorInstanced=!1,this.draped=!1,this.multipassEnabled=!1,this.cullAboveGround=!1}}e([n({count:o.COUNT})],T.prototype,\"output\",void 0),e([n({count:m.COUNT})],T.prototype,\"transparencyPassType\",void 0),e([n()],T.prototype,\"spherical\",void 0),e([n()],T.prototype,\"receiveShadows\",void 0),e([n()],T.prototype,\"hasSlicePlane\",void 0),e([n()],T.prototype,\"transparent\",void 0),e([n()],T.prototype,\"enableOffset\",void 0),e([n()],T.prototype,\"writeDepth\",void 0),e([n()],T.prototype,\"hasScreenSpaceReflections\",void 0),e([n()],T.prototype,\"doublePrecisionRequiresObfuscation\",void 0),e([n()],T.prototype,\"hasCloudsReflections\",void 0),e([n()],T.prototype,\"objectAndLayerIdColorInstanced\",void 0),e([n()],T.prototype,\"draped\",void 0),e([n()],T.prototype,\"multipassEnabled\",void 0),e([n()],T.prototype,\"cullAboveGround\",void 0),e([n({constValue:!1})],T.prototype,\"occlusionPass\",void 0),e([n({constValue:r.Water})],T.prototype,\"pbrMode\",void 0),e([n({constValue:!0})],T.prototype,\"useCustomDTRExponentForWater\",void 0),e([n({constValue:!0})],T.prototype,\"highStepCount\",void 0),e([n({constValue:!1})],T.prototype,\"useFillLights\",void 0);export{P as WaterMaterialPassParameters,S as WaterTechnique,T as WaterTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import t from\"../lib/GLMaterial.js\";import{WaterTechnique as a}from\"./WaterTechnique.js\";class s extends t{_updateShadowState(e){e.shadowMap.enabled!==this._material.parameters.receiveShadows&&this._material.setParameters({receiveShadows:e.shadowMap.enabled})}_updateSSRState(e){const t=null!=e.ssr.lastFrameColor;t!==this._material.parameters.hasScreenSpaceReflections&&this._material.setParameters({hasScreenSpaceReflections:t})}_updateCloudsReflectionState(e){const t=null!=e.cloudsFade.data;t!==this._material.parameters.hasCloudsReflections&&this._material.setParameters({hasCloudsReflections:t})}ensureResources(e){return this._techniqueRepository.constructionContext.waterTextureRepository.ensureResources(e)}beginSlot(t){return this._output===e.Color&&(this._updateShadowState(t),this._updateSSRState(t),this._updateCloudsReflectionState(t)),this._material.setParameters(this._techniqueRepository.constructionContext.waterTextureRepository.passParameters),this.ensureTechnique(a,t)}}export{s as WaterGLMaterial};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{secondsFromMilliseconds as e}from\"../../../../core/time.js\";import{fromValues as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as a}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{isColorOrAlpha as i,isOIDorHighlight as s,ShaderOutput as n}from\"../core/shaderLibrary/ShaderOutput.js\";import{AnimationTimer as o}from\"../lib/AnimationTimer.js\";import{MaterialParameters as h}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as m}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as c}from\"../lib/RenderSlot.js\";import{DefaultBufferWriter as l}from\"./DefaultBufferWriter.js\";import{PositionUVLayoutObjectAndLayerId as p,PositionUVLayout as f}from\"./DefaultLayouts.js\";import{TriangleMaterial as u}from\"./TriangleMaterial.js\";import{WaterGLMaterial as d}from\"./WaterGLMaterial.js\";import{WaterTechniqueConfiguration as g}from\"./WaterTechnique.js\";class _ extends u{constructor(e){super(e,new S),this._configuration=new g,this._animation=new o,this.produces=new Map([[c.OPAQUE_MATERIAL,e=>i(e)&&!this.parameters.transparent||s(e)],[c.TRANSPARENT_MATERIAL,e=>i(e)&&this.parameters.transparent||s(e)],[c.DRAPED_MATERIAL,e=>this.parameters.draped&&e===n.Color||s(e)],[c.DRAPED_WATER,e=>e===n.Normal]])}getConfiguration(e,t){return this._configuration.output=e,this._configuration.writeDepth=!0,this._configuration.receiveShadows=this.parameters.receiveShadows,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.hasScreenSpaceReflections=this.parameters.hasScreenSpaceReflections,this._configuration.hasCloudsReflections=this.parameters.hasCloudsReflections,this._configuration.draped=this.parameters.draped,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<m,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}update(t){const r=Math.min(t.camera.relativeElevation,t.camera.distance);this._animation.enabled=Math.sqrt(this.parameters.waveTextureRepeat/this.parameters.waveStrength)*r<b;const a=this._animation.advance(t);return this.setParameters({timeElapsed:e(this._animation.time)*this.parameters.animationSpeed},!1),this._animation.enabled&&a}createGLMaterial(e){return new d(e)}createBufferWriter(){return new l(has(\"enable-feature:objectAndLayerId-rendering\")?p:f)}get test(){return{animationEnabled:this._animation.enabled}}}class S extends h{constructor(){super(...arguments),this.waveStrength=.06,this.waveTextureRepeat=32,this.waveDirection=t(1,0),this.waveVelocity=.05,this.flowStrength=.015,this.flowOffset=-.5,this.animationSpeed=.35,this.timeElapsed=0,this.color=a(0,0,0,0),this.transparent=!0,this.hasSlicePlane=!1,this.draped=!1,this.receiveShadows=!0,this.hasScreenSpaceReflections=!1,this.hasCloudsReflections=!1,this.origin=r(),this.modelTransformation=null}}const b=35e3;export{_ as WaterMaterial,S as WaterMaterialParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst e={\"calm-small\":{waveStrength:.005,perturbationStrength:.02,textureRepeat:12,waveVelocity:.01},\"rippled-small\":{waveStrength:.02,perturbationStrength:.09,textureRepeat:32,waveVelocity:.07},\"slight-small\":{waveStrength:.05,perturbationStrength:.07,textureRepeat:28,waveVelocity:.1},\"moderate-small\":{waveStrength:.075,perturbationStrength:.07,textureRepeat:24,waveVelocity:.1},\"calm-medium\":{waveStrength:.003125,perturbationStrength:.01,textureRepeat:8,waveVelocity:.02},\"rippled-medium\":{waveStrength:.035,perturbationStrength:.015,textureRepeat:12,waveVelocity:.07},\"slight-medium\":{waveStrength:.06,perturbationStrength:.015,textureRepeat:8,waveVelocity:.12},\"moderate-medium\":{waveStrength:.09,perturbationStrength:.03,textureRepeat:4,waveVelocity:.12},\"calm-large\":{waveStrength:.01,perturbationStrength:0,textureRepeat:4,waveVelocity:.05},\"rippled-large\":{waveStrength:.025,perturbationStrength:.01,textureRepeat:8,waveVelocity:.11},\"slight-large\":{waveStrength:.06,perturbationStrength:.02,textureRepeat:3,waveVelocity:.13},\"moderate-large\":{waveStrength:.14,perturbationStrength:.03,textureRepeat:2,waveVelocity:.15}};export{e as wavePresets};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{getMetersPerUnitForSR as t}from\"../../../../core/unitUtils.js\";import{e as r}from\"../../../../chunks/earcut.js\";import{set as o}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{fromValues as i,create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{b as s}from\"../../../../chunks/vec42.js\";import{toRadian as a}from\"../../../../core/libs/gl-matrix-2/math/common.js\";import{create as l,empty as c,expandWithBuffer as h,intersectsClippingArea as m,expandWithAABB as p}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as u,empty as d,expandPointInPlace as g}from\"../../../../geometry/support/aaBoundingRect.js\";import{newDoubleArray as y,doubleSubArray as f}from\"../../../../geometry/support/DoubleArray.js\";import{perVertexElevationAligner as _}from\"./ElevationAligners.js\";import{SymbolUpdateType as x,elevationModeChangeUpdateType as v,needsElevationUpdates2D as b}from\"./elevationAlignmentUtils.js\";import{Graphics3DDrapedGraphicLayer as C}from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as D}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as j}from\"./Graphics3DSymbolLayer.js\";import{geometryAsPolygon as S,createWaterGeometry as w,PolygonCreationDataBase as G}from\"./polygonUtils.js\";import{geometryToRenderInfo as A,geometryToRenderInfoDraped as E}from\"../../support/renderInfoUtils/polygon.js\";import{Object3D as L}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as O}from\"../../webgl-engine/lib/RenderGeometry.js\";import{WaterMaterialParameters as P,WaterMaterial as T}from\"../../webgl-engine/materials/WaterMaterial.js\";import{wavePresets as R}from\"../../webgl-engine/materials/internal/waterMaterialUtils.js\";const I=[\"polyline\",\"polygon\",\"extent\"];class B extends j{constructor(e,t,r,o){super(e,t,r,o)}async doLoad(){}destroy(){super.destroy(),this._context.stage.remove(this._materials[0]),this._materials.length=0}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,I,this.symbolLayer.type))return null;const r=this.setGraphicElevationContext(t);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this.ensureMaterial(),this.draped?this._createAsOverlay(t):this._createAs3DShape(t,r,t.uid)}ensureMaterial(){if(this._materials[0])return;const t=new P,r=this.symbolLayer.color;null!=r&&(t.color=e.toUnitRGBA(r));const o=this._getCombinedOpacity(r,{hasIntrinsicColor:!0});t.color=[t.color[0],t.color[1],t.color[2],o],t.transparent=o<1||this.needsDrivenTransparentPass,t.waveDirection=null!=this.symbolLayer.waveDirection?B.headingVectorFromAngle(this.symbolLayer.waveDirection):i(0,0);const n=this.symbolLayer.waveStrength+\"-\"+this.symbolLayer.waterbodySize,s=R[n];t.waveStrength=s.waveStrength,t.waveTextureRepeat=s.textureRepeat,t.waveVelocity=s.waveVelocity,t.flowStrength=s.perturbationStrength,t.hasSlicePlane=this._context.slicePlaneEnabled,t.draped=this.draped,this._materials[0]=new T(t),this._context.stage.add(this._materials[0])}layerOpacityChanged(){if(null==this._materials[0])return;const e=this._materials[0].parameters.color,t=this._getCombinedOpacity(this.symbolLayer.color,{hasIntrinsicColor:!0}),r=t<1||this.needsDrivenTransparentPass;this._materials[0].setParameters({color:[e[0],e[1],e[2],t],transparent:r})}layerElevationInfoChanged(e,t,r){const o=this._elevationContext.mode,i=v(B.elevationModeChangeTypes,r,o);if(i!==x.UPDATE)return i;const n=b(o);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>n))}slicePlaneEnabledChanged(){return this._materials[0]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return!0}_createAs3DShape(e,t,r){const o=S(e.geometry);if(null==o)return null;const i=A(o,this._context.elevationProvider,this._context.renderCoordsHelper,t),n=i.position.length/3,s=y(2*n);U(s,i.mapPositions,n,this._context.elevationProvider.spatialReference);const a=new k(i,s,this._context.layer.uid,e.uid);if(a.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(a),this._create3DShapeGeometries(a),this._logGeometryCreationWarnings(a.renderData,o.rings,\"rings\",\"WaterSymbol3DLayer\"),0===a.outGeometries.length)return null;const l=new L({geometries:a.outGeometries,castShadow:!1,layerUid:this._context.layer.uid,graphicUid:r}),c=new D(this,l,a.outGeometries,null,null,_,t);return c.alignedSampledElevation=a.renderData.sampledElevation,c.needsElevationUpdates=b(t.mode),c}_create3DShapeGeometries(e){const t=e.renderData.polygons,o=e.uvCoords;for(const{count:i,index:n,position:s,mapPositions:a,holeIndices:l}of t){if(null!=this._context.clippingExtent&&(c(V),h(V,a),!m(V,this._context.clippingExtent)))continue;const t=r(a,l,3);if(0===t.length)continue;const p=f(o,2*n,2*i),u=w({material:this._materials[0],indices:t,mapPositions:a,attributeData:{position:s,uv0:p}},e.objectAndLayerIdColor);e.outGeometries.push(u)}}_createAsOverlay(e){const t=S(e.geometry);if(null==t)return null;this._materials[0].renderPriority=this._renderPriority;const r=E(t,this._context.overlaySR),o=r.position.length/3,i=y(2*o);U(i,r.position,o,this._context.overlaySR);const n=new F(r,i,this._context.layer.uid,e.uid);return n.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(n),n.outBoundingBox=c(),this._createAsOverlayWater(n),this._logGeometryCreationWarnings(n.renderData,t.rings,\"rings\",\"WaterSymbol3DLayer\"),0===n.outGeometries.length?null:new C(this,n.outGeometries,n.outBoundingBox,this._context.drapeSourceRenderer)}_createAsOverlayWater(e){const t=e.uvCoords,o=e.renderData.polygons;for(const{position:i,holeIndices:n,index:s,count:a}of o){if(c(V),h(V,i),!m(V,this._context.clippingExtent))continue;p(e.outBoundingBox,V);const o=r(i,n,3);if(0===o.length)continue;const l=f(t,2*s,2*a),u=w({material:this._materials[0],indices:o,attributeData:{position:i,uv0:l}},e.objectAndLayerIdColor);e.outGeometries.push(new O(u,e))}}static headingVectorFromAngle(e){const t=n(),r=a(e);return t[0]=Math.sin(r),t[1]=Math.cos(r),t}test(){return{...super.test(),create3DShape:e=>this._createAs3DShape(e.graphic,e.elevationContext,e.graphicUid),ensureMaterial:()=>this.ensureMaterial()}}}function U(e,r,i,n){const a=t(n);d(W);for(let t=0;t<i;t++)o(z,r[3*t],r[3*t+1]),g(W,z);s(W,W,a);const l=W[0]%B.unitSizeOfTexture,c=W[1]%B.unitSizeOfTexture;M[0]=W[0]-l,M[1]=W[1]-c;for(let t=0;t<i;t++)e[2*t]=(r[3*t]*a-M[0])/B.unitSizeOfTexture,e[2*t+1]=(r[3*t+1]*a-M[1])/B.unitSizeOfTexture}B.unitSizeOfTexture=100,B.elevationModeChangeTypes={definedChanged:x.RECREATE,staysOnTheGround:x.NONE,onTheGroundChanged:x.RECREATE};const M=n(),W=u(),z=n(),V=l();class k extends G{constructor(e,t,r,o){super(e,r,o),this.uvCoords=t}}class F extends G{constructor(e,t,r,o){super(e,r,o),this.uvCoords=t}}export{B as Graphics3DWaterSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport r from\"../../../../core/Logger.js\";import{Graphics3DExtrudeSymbolLayer as o}from\"./Graphics3DExtrudeSymbolLayer.js\";import{Graphics3DIconSymbolLayer as e}from\"./Graphics3DIconSymbolLayer.js\";import{Graphics3DLineSymbolLayer as t}from\"./Graphics3DLineSymbolLayer.js\";import{Graphics3DMeshFillSymbolLayer as i}from\"./Graphics3DMeshFillSymbolLayer.js\";import{Graphics3DObjectSymbolLayer as m}from\"./Graphics3DObjectSymbolLayer.js\";import{Graphics3DPathSymbolLayer as a}from\"./Graphics3DPathSymbolLayer.js\";import{Graphics3DPolygonFillSymbolLayer as s}from\"./Graphics3DPolygonFillSymbolLayer.js\";import{Graphics3DTextSymbolLayer as y}from\"./Graphics3DTextSymbolLayer.js\";import{Graphics3DWaterSymbolLayer as p}from\"./Graphics3DWaterSymbolLayer.js\";function c(o,e,t,i){const m=h[o.type]?.[e.type]||l[e.type];return m?new m(o,e,t,i):(r.getLogger(\"esri.views.3d.layers.graphics.Graphics3DSymbolLayerFactory\").error(\"GraphicsLayerFactory#make\",`unknown symbol type ${e.type}`),null)}const l={icon:e,object:m,line:t,path:a,fill:s,extrude:o,text:y,water:p};function n(r,o){l[r]=o}const h={\"mesh-3d\":{fill:i}};export{c as make,n as setSymbolClass};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/arrayUtils.js\";import{forEach as t}from\"../../../../core/asyncUtils.js\";import{onAbortOrThrow as r,throwIfAborted as s}from\"../../../../core/promiseUtils.js\";import{totalSymbolComplexities as o}from\"./defaultSymbolComplexity.js\";import{Graphics3DGraphic as a}from\"./Graphics3DGraphic.js\";import{Graphics3DObject3DGraphicLayer as l}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayerCreationContext as n}from\"./Graphics3DSymbolCreationContext.js\";import{make as i}from\"./Graphics3DSymbolLayerFactory.js\";import{ApplyRendererDiffResult as y}from\"./interfaces.js\";import{Loadable as h,LoadStatus as c}from\"./Loadable.js\";class m extends h{set symbol(e){this._symbol=e,e.symbolLayers.forEach(((t,r)=>{const s=this.symbolLayers[r];null!=s&&(s.symbol=e,s.symbolLayer=t)}))}get symbol(){return this._symbol}constructor(e,t,r){super(t.schedule),this._symbol=e,this._context=t,this._backgroundLayers=r,this._destroyed=!1,this.symbolLayers=new Array,this.referenced=0,this._extentPadding=0}async doLoad(e){let o=this._symbol.symbolLayers;this._extentPadding=0,this._backgroundLayers&&(o=this._backgroundLayers.concat(o));const a=o.length;for(;this.symbolLayers.length<o.length;)this.symbolLayers.push(null);this.symbolLayers.length=o.length;const l=[];for(let t=0;t<a;t++){const s=o.at(t);if(!1===s.enabled)continue;p.renderPriority=1-(1+t)/a,p.renderPriorityStep=1/a,p.ignoreDrivers=s.ignoreDrivers;const n=i(this.symbol,s,this._context,p),y=r(e,(()=>{this.symbolLayers[t]=null,n.destroy()}));y&&l.push(y),this.symbolLayers[t]=n}if(await t(this.symbolLayers,(async(e,t)=>{if(null!=e)try{await e.load(),this._extentPadding+=Math.max(this._extentPadding,e.extentPadding)}catch{this.symbolLayers[t]=null}})),l.forEach((e=>e.remove())),s(e),this.symbolLayers.length&&!this.symbolLayers.some((e=>!!e)))throw new Error}getSymbolLayerSize(e){const t=this.symbolLayers[e];return null!=t?t.getCachedSize():null}get extentPadding(){return this._extentPadding}get symbologySnappingSupported(){return this.symbolLayers.some((e=>e?.queryForSnapping))}createGraphics3DGraphic(e,t){const r=e.graphic,s=this.symbolLayers.map((t=>t?.createGraphics3DGraphic(e)??null)),o=this._context.arcade||this._context.featureExpressionInfoContext?.arcade?.modules||null;return new a(r,t||this,s,e.layer,o)}get complexity(){return o(this.symbolLayers.map((e=>null!=e?e.complexity:null)))}globalPropertyChanged(e,t){const r=this.symbolLayers.length;for(let s=0;s<r;s++){const r=this.symbolLayers[s],o=e=>{const t=e.layers[s];return t instanceof l?t:null};if(null!=r&&!r.globalPropertyChanged(e,t,o))return!1}return!0}applyRendererDiff(e,t){return this.loadStatus!==c.LOADED?y.RecreateSymbol:this.symbolLayers.reduce(((r,s)=>r!==y.RecreateSymbol&&null!=s?Math.min(r,s.applyRendererDiff(e,t)):r),y.FastUpdate)}prepareSymbolPatch(e){if(this.loadStatus===c.FAILED)return;if(\"partial\"!==e.diff.type)return;const t=e.diff.diff;if(!t.symbolLayers||\"partial\"!==t.symbolLayers.type)return;const r=t.symbolLayers.diff;this.symbolLayers.forEach(((t,s)=>{if(null==t)return;const o=r[s];if(o){const r={diff:o,graphics3DGraphicPatches:[],symbolLayerStatePatches:[]};t.prepareSymbolLayerPatch(r),e.symbolStatePatches.push(...r.symbolLayerStatePatches),r.graphics3DGraphicPatches.length&&e.graphics3DGraphicPatches.push(((e,t)=>{const o=e.layers[s];null!=o&&r.graphics3DGraphicPatches.forEach((e=>e(o,t)))}))}}))}updateGeometry(e,t){return this._updateGeometryOrTransform(e,((e,r)=>e.updateGeometry(r,t)))}updateTransform(e,t,r,s){return this._updateGeometryOrTransform(e,((e,o)=>e.updateTransform(o,t,r,s)))}_updateGeometryOrTransform(e,t){for(let r=0;r<this.symbolLayers.length;r++){const s=this.symbolLayers[r];if(null==s)continue;const o=e.layers[r];if(!o||!t(s,o))return!1}return!0}onRemoveGraphic(e){for(let t=0;t<this.symbolLayers.length;t++){const r=this.symbolLayers[t];if(null==r)continue;const s=e.layers[t];null!=s&&r.onRemoveGraphic(s)}}getFastUpdateStatus(){let e=0,t=0,r=0;return this.symbolLayers.forEach((s=>{null!=s&&(s.loadStatus===c.LOADING?e++:s.isFastUpdatesEnabled()?r++:t++)})),{loading:e,slow:t,fast:r}}async queryForSnapping(t,r,o,a){const l=this.symbolLayers.filter(e).filter((e=>null!=e.queryForSnapping)).map((e=>e.queryForSnapping(t,r,o,a))),n=await Promise.all(l);return s(a),n.flat()}destroy(){if(this.destroyed)console.error(\"Graphics3DSymbol.destroy called when already destroyed!\");else{super.destroy();for(const e of this.symbolLayers)null!=e&&e.destroy();this.symbolLayers.length=0,this._destroyed=!0}}get destroyed(){return this._destroyed}}const p=new n;export{m as Graphics3DSymbol};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{emptySymbolComplexity as t}from\"./defaultSymbolComplexity.js\";import{ApplyRendererDiffResult as r}from\"./interfaces.js\";import{Loadable as s}from\"./Loadable.js\";class i extends s{constructor(t,r,s){super(r),this.symbol=t,this._convert=s,this.symbologySnappingSupported=!1,this.graphics3DSymbol=null,this.referenced=0}getSymbolLayerSize(t){return null!=this.graphics3DSymbol?this.graphics3DSymbol.getSymbolLayerSize(t):null}get symbolLayers(){return null!=this.graphics3DSymbol?this.graphics3DSymbol.symbolLayers:[]}get extentPadding(){return null!=this.graphics3DSymbol?this.graphics3DSymbol.extentPadding:0}async doLoad(t){const r=await this.symbol.fetchSymbol({signal:t});r.id=this.symbol.id,this.graphics3DSymbol=this._convert(r),null!=this.graphics3DSymbol&&await this.graphics3DSymbol.load()}createGraphics3DGraphic(t){return null!=this.graphics3DSymbol?this.graphics3DSymbol.createGraphics3DGraphic(t,this):null}get complexity(){return null!=this.graphics3DSymbol?this.graphics3DSymbol.complexity:t}globalPropertyChanged(t,r){return null!=this.graphics3DSymbol&&this.graphics3DSymbol.globalPropertyChanged(t,r)}applyRendererDiff(t,s){return null!=this.graphics3DSymbol?this.graphics3DSymbol.applyRendererDiff(t,s):r.RecreateSymbol}prepareSymbolPatch(t){null!=this.graphics3DSymbol&&this.graphics3DSymbol.prepareSymbolPatch(t)}updateGeometry(t,r){return null!=this.graphics3DSymbol&&this.graphics3DSymbol.updateGeometry(t,r)}updateTransform(t,r,s,i){return this.graphics3DSymbol?.updateTransform(t,r,s,i)??!1}onRemoveGraphic(){}getFastUpdateStatus(){return null!=this.graphics3DSymbol?this.graphics3DSymbol.getFastUpdateStatus():{loading:1,fast:0,slow:0}}destroy(){null!=this.graphics3DSymbol&&this.graphics3DSymbol.destroy(),this.graphics3DSymbol=void 0,super.destroy()}get destroyed(){return void 0===this.graphics3DSymbol}}export{i as Graphics3DWebStyleSymbol};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{create as r}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{k as n,f as t,g as i,h as e,q as c,c as o,n as u}from\"../../../chunks/vec32.js\";import{create as f}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{signedDistance as l,getNormal as s}from\"../../../geometry/support/plane.js\";function p(r,n,t){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]+r[3]<t}function a(r,n,t){const i=n[0],e=n[1],c=n[2];return!(r[0][0]*i+r[0][1]*e+r[0][2]*c+r[0][3]>t)&&(!(r[1][0]*i+r[1][1]*e+r[1][2]*c+r[1][3]>t)&&(!(r[2][0]*i+r[2][1]*e+r[2][2]*c+r[2][3]>t)&&(!(r[3][0]*i+r[3][1]*e+r[3][2]*c+r[3][3]>t)&&(!(r[4][0]*i+r[4][1]*e+r[4][2]*c+r[4][3]>t)&&!(r[5][0]*i+r[5][1]*e+r[5][2]*c+r[5][3]>t)))))}function m(r,n,t,i){return x(r,n,null,h(i,n,t,!1))}function d(r,n){for(let t=0;t<6;t++){if(l(r[t],n)>0)return!1}return!0}function g(r,n,t,i){return x(r,n,t,h(i,n,t,!0))}function j(r,c,o,u){const f=n(o,t(r,u,c));return i(r,c,e(r,o,f))}const b={dir:f(),len:0,clip:r()};function h(r,n,i,f){const l=b;return r?(i&&f&&(l.len=c(n,i)),o(l.dir,r)):f?(l.len=c(n,i),t(l.dir,i,n),e(l.dir,l.dir,1/l.len)):(t(l.dir,i,n),u(l.dir,l.dir)),l}function v(r,t,i){const e=n(s(r),i.dir),c=-l(r,t);if(c<0&&e>=0)return!1;if(e>-1e-6&&e<1e-6)return c>0;if((c<0||e<0)&&!(c<0&&e<0))return!0;const o=c/e;return e>0?o<i.clip[1]&&(i.clip[1]=o):o>i.clip[0]&&(i.clip[0]=o),i.clip[0]<=i.clip[1]}function x(r,n,t,i){i.clip[0]=0,i.clip[1]=t?i.len:Number.MAX_VALUE;for(let e=0;e<r.length;e++)if(!v(r[e],n,i))return!1;return!0}export{j as closestPointOnRay,g as frustumLineSegment,d as frustumPoint,m as frustumRay,a as frustumSphere,p as planeSphere};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{neverReached as t}from\"../../../core/compilerUtils.js\";import{lerp as e}from\"../../../core/mathUtils.js\";import{invert as i}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as r}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{g as n,h as o,E as s,e as a,s as c,k as l}from\"../../../chunks/vec32.js\";import{create as p}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as h}from\"../../../geometry/ellipsoidUtils.js\";import{computeTranslationToOriginAndRotation as d}from\"../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectBoundingRect as m}from\"../../../geometry/projection/projectBoundingRect.js\";import{projectVectorToVector as _}from\"../../../geometry/projection/projectVectorToVector.js\";import{create as g,empty as f,expandWithVec3 as u}from\"../../../geometry/support/aaBoundingBox.js\";import{create as x,center as R}from\"../../../geometry/support/aaBoundingRect.js\";import{PlaneIndex as y}from\"../../../geometry/support/frustum.js\";import{create as j,fromPoints as b}from\"../../../geometry/support/lineSegment.js\";import{create as A,fromVectorsAndPoint as E,copy as S,negate as B,signedDistance as C}from\"../../../geometry/support/plane.js\";import{wrap as H}from\"../../../geometry/support/ray.js\";import{ViewingMode as w}from\"../../ViewingMode.js\";import{frustumLineSegment as G}from\"./intersectionUtils.js\";const M=.5*Math.PI,F=M/Math.PI*180;class N{constructor(t){this._renderCoordsHelper=t.renderCoordsHelper,this._extent=new Array(4),this._planes=new Array(6),this._maxSpan=0,this._center={origin:p(),direction:p()};for(let e=0;e<4;e++)this._extent[e]={origin:p(),direction:p(),cap:{next:null,direction:p()}},this._planes[e]=A();this._planes[y.NEAR]=A(),this._planes[y.FAR]=A(),this._planesWithoutFar=this._planes.slice(0,5)}update(t,e,i,r=!0){const a=this._extent;this._toRenderBoundingExtent(t,e,i),n(this._center.origin,a[0].origin,a[2].origin),o(this._center.origin,this._center.origin,.5),this._renderCoordsHelper.worldUpAtPosition(this._center.origin,this._center.direction),r||o(this._center.direction,this._center.direction,-1);for(let n=0;n<4;n++){const t=a[n];this._renderCoordsHelper.worldUpAtPosition(t.origin,t.direction);const e=a[3===n?0:n+1];t.cap.next=e.origin,s(t.cap.direction,t.origin,e.origin),E(t.direction,t.cap.direction,t.origin,this._planes[n]),r||o(t.direction,t.direction,-1)}E(a[0].cap.direction,a[1].cap.direction,a[0].origin,this._planes[y.NEAR]),r?B(this._planes[y.NEAR],this._planes[y.FAR]):(S(this._planes[y.FAR],this._planes[y.NEAR]),B(this._planes[y.NEAR],this._planes[y.NEAR])),this._maxSpan=Math.max(Math.abs(t[0]-t[2]),Math.abs(t[1]-t[3])),this._maxSpanSpatialReference=e,this._minGlobalAltitude=.9*h(this._maxSpanSpatialReference).radius}isVisibleInFrustum(t,e,i=!1){if(null==t)return!1;if(this._renderCoordsHelper.viewingMode===w.Global){const i=this._maxSpanSpatialReference.isGeographic?F:M*e;if(this._maxSpan>i)return!0;if(null!=t.altitude&&t.altitude>=this._minGlobalAltitude)return this._isVisibleInFrustumGlobal(t)}if(0===this._maxSpan){const e=this._extent[0];return!(i||!t.intersectsRay(H(e.origin,e.direction)))}for(let n=0;n<this._extent.length;n++){const e=this._extent[n];if(!i&&t.intersectsRay(H(e.origin,e.direction)))return!0;if(t.intersectsLineSegment(b(e.origin,e.cap.next,P),e.cap.direction))return!0}const r=i?this._planes:this._planesWithoutFar;for(let n=0;n<t.lines.length;n++){const e=t.lines[n];if(G(r,e.origin,e.endpoint,e.direction))return!0}return!1}_toRenderBoundingExtentGlobal(t,r,n){const o=5;R(t,V),V[2]=n,d(r,V,v,this._renderCoordsHelper.spatialReference),i(I,v),f(k);for(const{x0:i,x1:s,y0:c,y1:l}of U)for(let p=0;p<o;p++){const h=p/(o-1);V[0]=e(t[i],t[s],h),V[1]=e(t[c],t[l],h),V[2]=n,_(V,r,V,this._renderCoordsHelper.spatialReference),a(V,V,I),u(k,V)}c(this._extent[0].origin,k[0],k[1],k[2]),c(this._extent[1].origin,k[3],k[1],k[2]),c(this._extent[2].origin,k[3],k[4],k[2]),c(this._extent[3].origin,k[0],k[4],k[2]);for(let e=0;e<4;++e)a(this._extent[e].origin,this._extent[e].origin,v)}_toRenderBoundingExtentLocal(t,e,i){m(t,e,L,this._renderCoordsHelper.spatialReference),c(this._extent[0].origin,L[0],L[1],i),c(this._extent[1].origin,L[2],L[1],i),c(this._extent[2].origin,L[2],L[3],i),c(this._extent[3].origin,L[0],L[3],i)}_toRenderBoundingExtent(e,i,r){switch(this._renderCoordsHelper.viewingMode){case w.Global:this._toRenderBoundingExtentGlobal(e,i,r);break;case w.Local:this._toRenderBoundingExtentLocal(e,i,r);break;default:t(this._renderCoordsHelper.viewingMode)}}_isVisibleInFrustumGlobal(t){if(C(t.planes[y.NEAR],this._center.origin)<0&&l(this._center.direction,t.direction)<0)return!0;for(let e=0;e<4;e++){const i=this._extent[e];if(C(t.planes[y.NEAR],i.origin)<0&&l(i.direction,t.direction)<0)return!0}return!1}}const U=[{x0:0,y0:1,x1:2,y1:1},{x0:0,y0:3,x1:2,y1:3},{x0:0,y0:1,x1:0,y1:3},{x0:2,y0:1,x1:2,y1:3}],V=p(),v=r(),I=r(),k=g(),L=x(),P=j();export{N as FrustumExtentIntersection};\n"],
  "mappings": "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",
  "names": ["l", "e", "t", "r", "s", "i", "a", "I", "u", "n", "o", "c", "h", "L", "A", "e", "o", "u", "t", "e", "o", "n", "r", "a", "s", "i", "l", "M", "p", "m", "f", "c", "E", "b", "g", "I", "v", "T", "S", "d", "h", "O", "R", "r", "s", "t", "j", "e", "t", "i", "p", "s", "a", "n", "r", "o", "v", "l", "c", "A", "G", "y", "O", "u", "d", "E", "h", "w", "_", "f", "P", "k", "m", "t", "e", "o", "t", "c", "s", "e", "t", "r", "n", "c", "o", "i", "d", "e", "S", "m", "n", "s", "a", "c", "r", "G", "l", "ot", "z", "e", "a", "t", "s", "r", "P", "t", "m", "e", "F", "r", "L", "a", "s", "u", "o", "b", "d", "p", "i", "C", "c", "f", "n", "l", "E", "w", "S", "e", "r", "t", "l", "e", "u", "h", "r", "e", "t", "i", "o", "f", "n", "s", "a", "y", "g", "m", "F", "_", "L", "b", "_e", "_h", "c", "e", "o", "n", "i", "s", "u", "y", "p", "O", "t", "l", "m", "b", "r", "h", "h", "r", "i", "t", "l", "e", "O", "S", "o", "R", "_", "s", "t", "r", "d", "c", "e", "m", "A", "o", "s", "t", "r", "p", "S", "h", "u", "g", "H", "O", "i", "b", "n", "E", "h", "e", "t", "w", "d", "r", "m", "i", "n", "u", "a", "o", "U", "l", "s", "b", "c", "I", "j", "p", "P", "G", "S", "t", "e", "o", "l", "a", "E", "o", "t", "e", "r", "i", "n", "l", "a", "s", "u", "c", "r", "t", "_", "c", "a", "n", "c", "e", "c", "a", "i", "n", "u", "o", "x", "r", "s", "t", "s", "r", "t", "e", "i", "n", "a", "l", "h", "o", "d", "_", "g", "m", "f", "u", "p", "x", "R", "S", "c", "i", "s", "r", "f", "t", "o", "a", "l", "m", "e", "u", "h", "c", "i", "r", "c", "a", "n", "o", "l", "f", "e", "s", "s", "o", "a", "l", "t", "e", "_e", "f", "m", "u", "_", "g", "d", "h", "y", "b", "p", "r", "i", "S", "c", "b", "j", "S", "t", "e", "k", "r", "n", "A", "R", "D", "L", "m", "I", "s", "i", "y", "E", "h", "o", "O", "v", "a", "_", "e", "s", "x", "e", "O", "D", "v", "u", "A", "t", "i", "r", "s", "L", "F", "j", "ot", "n", "l", "a", "P", "o", "S", "p", "o", "n", "r", "c", "g", "u", "h", "t", "a", "f", "l", "e", "s", "i", "m", "h", "t", "e", "r", "s", "I", "o", "n", "i", "a", "E", "g", "L", "l", "c", "m", "A", "p", "b", "d", "u", "f", "M", "w", "C", "j", "B", "D", "T", "N", "P", "y", "_", "v", "rt", "z", "R", "ft", "V", "O", "k", "H", "W", "ot", "at", "x", "it", "ht", "S", "Ot", "l", "e", "t", "r", "i", "E", "I", "n", "o", "P", "f", "d", "u", "k", "a", "O", "p", "S", "r", "o", "e", "h", "t", "i", "p", "I", "s", "u", "f", "a", "n", "l", "K", "c", "j", "Q", "O", "m", "b", "d", "G", "y", "W", "n", "r", "e", "W", "G", "O", "h", "e", "t", "r", "i", "s", "n", "F", "H", "v", "u", "a", "m", "b", "d", "V", "c", "p", "P", "T", "g", "I", "o", "l", "y", "_", "f", "w", "j", "g", "p", "e", "a", "r", "s", "o", "h", "i", "t", "n", "m", "f", "l", "c", "d", "T", "b", "u", "E", "_", "q", "j", "r", "t", "e", "a", "s", "E", "i", "n", "S", "r", "e", "O", "t", "l", "R", "i", "_", "o", "f", "E", "m", "s", "t", "o", "r", "V", "c", "e", "U", "s", "A", "o", "t", "r", "f", "h", "d", "S", "m", "L", "x", "y", "Z", "N", "z", "J", "b", "K", "Y", "R", "T", "q", "B", "X", "k", "D", "j", "F", "u", "M", "H", "G", "v", "w", "Q", "W", "i", "a", "n", "l", "p", "g", "I", "E", "h", "e", "t", "r", "o", "V", "g", "n", "a", "s", "i", "l", "c", "u", "m", "f", "p", "d", "x", "_", "T", "E", "I", "O", "j", "tt", "M", "R", "q", "G", "P", "F", "A", "et", "D", "p", "e", "t", "i", "n", "l", "c", "s", "I", "O", "P", "o", "x", "h", "a", "r", "d", "b", "m", "w", "u", "f", "v", "k", "n", "e", "r", "t", "s", "u", "o", "r", "o", "s", "u", "i", "c", "m", "j", "l", "a", "h", "t", "d", "y", "r", "i", "s", "h", "F", "e", "t", "c", "t", "e", "i", "l", "x", "f", "s", "u", "r", "M", "C", "t", "e", "H", "R", "b", "T", "l", "u", "h", "c", "x", "d", "S", "s", "y", "i", "D", "N", "V", "a", "o", "n", "r", "g", "w", "n", "Y", "e", "r", "t", "k", "w", "s", "i", "O", "m", "e", "i", "t", "c", "r", "s", "a", "u", "s", "o", "i", "n", "f", "d", "p", "t", "h", "F", "r", "O", "e", "a", "m", "l", "c", "y", "G", "a", "e", "r", "i", "s", "o", "u", "c", "n", "t", "P", "h", "V", "e", "t", "r", "B", "p", "i", "A", "b", "I", "q", "a", "s", "n", "f", "o", "c", "W", "O", "K", "Y", "M", "k", "l", "h", "d", "u", "z", "P", "Q", "J", "m", "E", "_", "G", "H", "me", "e", "t", "s", "r", "i", "a", "o", "n", "l", "c", "h", "d", "pe", "I", "m", "_", "p", "u", "O", "E", "g", "S", "b", "R", "x", "Y", "f", "P", "v", "L", "G", "j", "w", "W", "B", "C", "fe", "y", "Pe", "_e", "F", "U", "ue", "r", "t", "i", "s", "o", "n", "g", "v", "f", "c", "l", "e", "h", "h", "t", "r", "o", "p", "n", "l", "a", "u", "f", "e", "i", "s", "o", "e", "t", "s", "i", "l", "f", "r", "n", "m", "h", "p", "c", "a", "u", "v", "c", "t", "e", "r", "s", "a", "i", "o", "h", "n", "l", "p", "u", "m", "j", "f", "O", "e", "I", "r", "o", "n", "s", "i", "t", "d", "t", "f", "r", "a", "l", "c", "u", "b", "v", "m", "x", "A", "V", "g", "D", "N", "j", "o", "R", "E", "w", "y", "P", "_", "I", "h", "C", "q", "e", "T", "O", "L", "M", "s", "i", "n", "l", "v", "h", "u", "j", "R", "n", "y", "b", "x", "L", "k", "q", "E", "G", "r", "o", "M", "U", "m", "a", "s", "S", "p", "_", "o", "t", "e", "s", "n", "i", "c", "d", "a", "r", "h", "l", "v", "p", "m", "n", "t", "r", "a", "u", "o", "e", "c", "s", "i", "f", "l", "M", "h", "b", "m", "d", "p", "y", "x", "S", "j", "_", "g", "q", "e", "r", "t", "n", "o", "R", "n", "l", "t", "r", "u", "k", "I", "e", "D", "_", "x", "s", "w", "y", "U", "m", "a", "b", "o", "L", "d", "i", "S", "P", "j", "F", "h", "E", "A", "E", "e", "N", "n", "r", "C", "o", "l", "t", "i", "S", "c", "A", "a", "_", "f", "D", "V", "g", "c", "e", "O", "A", "t", "n", "E", "V", "o", "i", "r", "s", "a", "h", "l", "p", "m", "f", "b", "w", "S", "v", "_", "k", "H", "C", "N", "ee", "te", "h", "e", "t", "i", "r", "o", "_e", "O", "d", "a", "c", "l", "f", "p", "m", "u", "S", "s", "g", "E", "G", "n", "b", "y", "v", "P", "w", "x", "oe", "A", "ie", "j", "re", "D", "C", "L", "ae", "se", "ne", "R", "T", "t", "r", "e", "s", "i", "l", "o", "y", "a", "m", "n", "c", "M", "F", "Y", "_", "D", "x", "d", "V", "O", "P", "E", "f", "q", "v", "A", "G", "u", "I", "h", "p", "N", "S", "k", "w", "U", "S", "r", "e", "N", "E", "o", "i", "s", "c", "A", "h", "l", "_", "f", "j", "a", "t", "R", "P", "e", "j", "A", "i", "o", "N", "E", "t", "S", "v", "H", "r", "s", "a", "n", "c", "p", "l", "u", "s", "e", "r", "a", "_", "l", "P", "t", "c", "u", "n", "o", "i", "M", "m", "z", "H", "N", "h", "e", "t", "i", "r", "O", "J", "s", "P", "K", "n", "u", "G", "o", "m", "b", "d", "A", "p", "k", "M", "a", "c", "l", "W", "w", "q", "T", "y", "F", "i", "e", "n", "s", "r", "j", "a", "d", "t", "D", "R", "r", "D", "h", "e", "t", "n", "I", "s", "m", "o", "l", "i", "c", "u", "A", "b", "d", "W", "a", "g", "y", "x", "v", "O", "f", "j", "T", "w", "S", "Q", "C", "H", "V", "$", "F", "p", "M", "k", "S", "r", "e", "o", "l", "O", "t", "i", "c", "A", "E", "_", "a", "M", "T", "s", "t", "e", "o", "S", "_", "e", "S", "T", "A", "i", "o", "t", "r", "b", "a", "u", "s", "I", "f", "n", "e", "I", "B", "h", "e", "t", "r", "o", "S", "u", "n", "s", "_", "i", "m", "b", "d", "A", "p", "U", "a", "k", "l", "O", "c", "P", "V", "D", "F", "W", "z", "f", "M", "c", "o", "e", "t", "i", "m", "h", "l", "pe", "O", "te", "N", "D", "B", "h", "m", "r", "e", "t", "s", "o", "a", "l", "p", "n", "c", "y", "A", "F", "i", "r", "t", "s", "P", "e", "g", "r", "n", "t", "i", "x", "h", "j", "c", "o", "u", "f", "e", "b", "l", "v", "F", "V", "M", "F", "N", "t", "n", "e", "E", "j", "i", "r", "a", "u", "q", "A", "s", "l", "p", "b", "P", "g", "o", "V", "v", "h", "I", "k", "c", "U", "O", "L"]
}
