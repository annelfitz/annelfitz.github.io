{
  "version": 3,
  "sources": ["../../@arcgis/core/views/layers/WMSLayerView.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{destroyMaybe as t}from\"../../core/maybe.js\";import{throwIfAborted as o}from\"../../core/promiseUtils.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as p}from\"../../layers/support/commonProperties.js\";import{ExportWMSImageParameters as i}from\"../../layers/support/ExportWMSImageParameters.js\";const m=m=>{let n=class extends m{initialize(){this.exportImageParameters=new i({layer:this.layer})}destroy(){this.exportImageParameters=t(this.exportImageParameters)}get exportImageVersion(){return this.exportImageParameters?.commitProperty(\"version\"),this.commitProperty(\"timeExtent\"),(this._get(\"exportImageVersion\")||0)+1}async fetchPopupFeaturesAtLocation(e,t){const{layer:s}=this;if(!e)throw new r(\"wmslayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:s});const{popupEnabled:a}=s;if(!a)throw new r(\"wmslayerview:fetchPopupFeatures\",\"popupEnabled should be true\",{popupEnabled:a});const p=this.createFetchPopupFeaturesQuery(e);if(!p)return[];const{extent:i,width:m,height:n,x:c,y:u}=p;if(!(i&&m&&n))throw new r(\"wmslayerview:fetchPopupFeatures\",\"WMSLayer does not support fetching features.\",{extent:i,width:m,height:n});const h=await s.fetchFeatureInfo(i,m,n,c,u);return o(t),h}};return e([s()],n.prototype,\"exportImageParameters\",void 0),e([s({readOnly:!0})],n.prototype,\"exportImageVersion\",null),e([s()],n.prototype,\"layer\",void 0),e([s(p)],n.prototype,\"timeExtent\",void 0),n=e([a(\"esri.views.layers.WMSLayerView\")],n),n};export{m as default};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;AAI4mB,IAAM,IAAE,CAAAA,OAAG;AAAC,MAAI,IAAE,cAAcA,GAAC;AAAA,IAAC,aAAY;AAAC,WAAK,wBAAsB,IAAIC,GAAE,EAAC,OAAM,KAAK,MAAK,CAAC;AAAA,IAAC;AAAA,IAAC,UAAS;AAAC,WAAK,wBAAsB,EAAE,KAAK,qBAAqB;AAAA,IAAC;AAAA,IAAC,IAAI,qBAAoB;AAJ3yB;AAI4yB,cAAO,UAAK,0BAAL,mBAA4B,eAAe,YAAW,KAAK,eAAe,YAAY,IAAG,KAAK,KAAK,oBAAoB,KAAG,KAAG;AAAA,IAAC;AAAA,IAAC,MAAM,6BAA6BC,IAAE,GAAE;AAAC,YAAK,EAAC,OAAMC,GAAC,IAAE;AAAK,UAAG,CAACD;AAAE,cAAM,IAAI,EAAE,mCAAkC,iCAAgC,EAAC,OAAMC,GAAC,CAAC;AAAE,YAAK,EAAC,cAAaF,GAAC,IAAEE;AAAE,UAAG,CAACF;AAAE,cAAM,IAAI,EAAE,mCAAkC,+BAA8B,EAAC,cAAaA,GAAC,CAAC;AAAE,YAAM,IAAE,KAAK,8BAA8BC,EAAC;AAAE,UAAG,CAAC;AAAE,eAAM,CAAC;AAAE,YAAK,EAAC,QAAO,GAAE,OAAMF,IAAE,QAAOI,IAAE,GAAE,GAAE,GAAEC,GAAC,IAAE;AAAE,UAAG,EAAE,KAAGL,MAAGI;AAAG,cAAM,IAAI,EAAE,mCAAkC,gDAA+C,EAAC,QAAO,GAAE,OAAMJ,IAAE,QAAOI,GAAC,CAAC;AAAE,YAAM,IAAE,MAAMD,GAAE,iBAAiB,GAAEH,IAAEI,IAAE,GAAEC,EAAC;AAAE,aAAOF,GAAE,CAAC,GAAE;AAAA,IAAC;AAAA,EAAC;AAAE,SAAO,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,yBAAwB,MAAM,GAAE,EAAE,CAAC,EAAE,EAAC,UAAS,KAAE,CAAC,CAAC,GAAE,EAAE,WAAU,sBAAqB,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,SAAQ,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,CAAC,GAAE,EAAE,WAAU,cAAa,MAAM,GAAE,IAAE,EAAE,CAAC,EAAE,gCAAgC,CAAC,GAAE,CAAC,GAAE;AAAC;",
  "names": ["m", "a", "e", "s", "n", "u"]
}
