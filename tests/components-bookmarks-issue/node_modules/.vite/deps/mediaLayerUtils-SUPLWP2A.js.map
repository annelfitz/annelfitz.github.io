{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/save/mediaLayerUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as r}from\"./utils.js\";import{createForItemWrite as t}from\"../../portal/support/jsonContext.js\";import{getWGS84ExtentForItem as a,removeTypeKeyword as s,typeKeyword as o}from\"../../portal/support/portalItemUtils.js\";import{saveResources as n}from\"../../webdoc/support/resourceUtils.js\";const i=\"Media Layer\",u=\"media-layer-save\",p=\"media-layer-save-as\",l=[\"media-layer:unsupported-source\"];function m(e){return{isValid:\"media\"===e.type,errorMessage:\"Layer.type should be 'media'\"}}function c(e){return t(e,\"portal-item\",!0)}function y(e){return e.layerJSON}async function f(e,r){r.extent=e.fullExtent?await a(e.fullExtent):null}async function d(e,r){r.title||=e.title,await f(e,r),s(r,o.METADATA)}async function x(r,t){return e({layer:r,itemType:i,validateLayer:m,createJSONContext:e=>c(e),createItemData:y,errorNamePrefix:u,supplementalUnsupportedErrors:l,setItemProperties:f,saveResources:(e,t)=>n(r.resourceReferences,t)},t)}async function v(e,t,a){return r({layer:e,itemType:i,validateLayer:m,createJSONContext:e=>c(e),createItemData:y,errorNamePrefix:p,supplementalUnsupportedErrors:l,newItem:t,setItemProperties:d,saveResources:(r,t)=>n(e.resourceReferences,t)},a)}export{x as save,v as saveAs};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIqT,IAAM,IAAE;AAAR,IAAsB,IAAE;AAAxB,IAA2CA,KAAE;AAA7C,IAAmEC,KAAE,CAAC,gCAAgC;AAAE,SAAS,EAAE,GAAE;AAAC,SAAM,EAAC,SAAQ,YAAU,EAAE,MAAK,cAAa,+BAA8B;AAAC;AAAC,SAAS,EAAE,GAAE;AAAC,SAAO,EAAE,GAAE,eAAc,IAAE;AAAC;AAAC,SAAS,EAAE,GAAE;AAAC,SAAO,EAAE;AAAS;AAAC,eAAeC,GAAE,GAAE,GAAE;AAAC,IAAE,SAAO,EAAE,aAAW,MAAM,EAAE,EAAE,UAAU,IAAE;AAAI;AAAC,eAAe,EAAE,GAAE,GAAE;AAAC,IAAE,UAAF,EAAE,QAAQ,EAAE,QAAM,MAAMA,GAAE,GAAE,CAAC,GAAE,EAAE,GAAE,EAAE,QAAQ;AAAC;AAAC,eAAe,EAAE,GAAE,GAAE;AAAC,SAAO,EAAE,EAAC,OAAM,GAAE,UAAS,GAAE,eAAc,GAAE,mBAAkB,OAAG,EAAE,CAAC,GAAE,gBAAe,GAAE,iBAAgB,GAAE,+BAA8BD,IAAE,mBAAkBC,IAAE,eAAc,CAAC,GAAEC,OAAI,EAAE,EAAE,oBAAmBA,EAAC,EAAC,GAAE,CAAC;AAAC;AAAC,eAAe,EAAE,GAAE,GAAEC,IAAE;AAAC,SAAO,EAAE,EAAC,OAAM,GAAE,UAAS,GAAE,eAAc,GAAE,mBAAkB,CAAAC,OAAG,EAAEA,EAAC,GAAE,gBAAe,GAAE,iBAAgBL,IAAE,+BAA8BC,IAAE,SAAQ,GAAE,mBAAkB,GAAE,eAAc,CAAC,GAAEE,OAAI,EAAE,EAAE,oBAAmBA,EAAC,EAAC,GAAEC,EAAC;AAAC;",
  "names": ["p", "l", "f", "t", "a", "e"]
}
