{
  "version": 3,
  "sources": ["../../@arcgis/core/views/layers/ImageryLayerView.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Error.js\";import{throwIfAborted as r}from\"../../core/promiseUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import p from\"../../geometry/Point.js\";import{combinedViewLayerTimeExtentProperty as i}from\"../../layers/support/commonProperties.js\";import a from\"../../rest/support/Query.js\";import{getFetchPopupTemplate as n}from\"./support/popupUtils.js\";const u=u=>{let m=class extends u{constructor(){super(...arguments),this.view=null}async fetchPopupFeaturesAtLocation(e,o){const{layer:s}=this;if(!e)throw new t(\"imagerylayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:s});const{popupEnabled:i}=s,u=n(s,o);if(!i||null==u)throw new t(\"imagerylayerview:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:i,popupTemplate:u});const m=await u.getRequiredFields();r(o);const c=new a;c.timeExtent=this.timeExtent,c.geometry=e,c.outFields=m,c.outSpatialReference=e.spatialReference;const{resolution:l,spatialReference:y}=this.view,d=\"2d\"===this.view.type?new p(l,l,y):new p(.5*l,.5*l,y),{returnTopmostRaster:h,showNoDataRecords:w}=u.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},f={returnDomainValues:!0,returnTopmostRaster:h,pixelSize:d,showNoDataRecords:w,signal:o?.signal};return s.queryVisibleRasters(c,f).then((e=>e))}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return e([o()],m.prototype,\"layer\",void 0),e([o()],m.prototype,\"suspended\",void 0),e([o(i)],m.prototype,\"timeExtent\",void 0),e([o()],m.prototype,\"view\",void 0),m=e([s(\"esri.views.layers.ImageryLayerView\")],m),m};export{u as default};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAI+mB,IAAM,IAAE,CAAAA,OAAG;AAAC,MAAI,IAAE,cAAcA,GAAC;AAAA,IAAC,cAAa;AAAC,YAAM,GAAG,SAAS,GAAE,KAAK,OAAK;AAAA,IAAI;AAAA,IAAC,MAAM,6BAA6BC,IAAE,GAAE;AAAC,YAAK,EAAC,OAAMC,GAAC,IAAE;AAAK,UAAG,CAACD;AAAE,cAAM,IAAI,EAAE,uCAAsC,iCAAgC,EAAC,OAAMC,GAAC,CAAC;AAAE,YAAK,EAAC,cAAa,EAAC,IAAEA,IAAEF,KAAE,EAAEE,IAAE,CAAC;AAAE,UAAG,CAAC,KAAG,QAAMF;AAAE,cAAM,IAAI,EAAE,uCAAsC,kDAAiD,EAAC,cAAa,GAAE,eAAcA,GAAC,CAAC;AAAE,YAAMG,KAAE,MAAMH,GAAE,kBAAkB;AAAE,MAAAE,GAAE,CAAC;AAAE,YAAM,IAAE,IAAI;AAAE,QAAE,aAAW,KAAK,YAAW,EAAE,WAASD,IAAE,EAAE,YAAUE,IAAE,EAAE,sBAAoBF,GAAE;AAAiB,YAAK,EAAC,YAAW,GAAE,kBAAiBG,GAAC,IAAE,KAAK,MAAK,IAAE,SAAO,KAAK,KAAK,OAAK,IAAI,EAAE,GAAE,GAAEA,EAAC,IAAE,IAAI,EAAE,MAAG,GAAE,MAAG,GAAEA,EAAC,GAAE,EAAC,qBAAoB,GAAE,mBAAkB,EAAC,IAAEJ,GAAE,gBAAc,EAAC,qBAAoB,MAAG,mBAAkB,MAAE,GAAE,IAAE,EAAC,oBAAmB,MAAG,qBAAoB,GAAE,WAAU,GAAE,mBAAkB,GAAE,QAAO,uBAAG,OAAM;AAAE,aAAOE,GAAE,oBAAoB,GAAE,CAAC,EAAE,KAAM,CAAAD,OAAGA,EAAE;AAAA,IAAC;AAAA,IAAC,YAAW;AAJ5hD;AAI6hD,aAAM,CAAC,CAAC,MAAM,UAAU,KAAG,GAAC,UAAK,eAAL,mBAAiB;AAAA,IAAO;AAAA,EAAC;AAAE,SAAO,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,SAAQ,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,aAAY,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,CAAC,GAAE,EAAE,WAAU,cAAa,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,QAAO,MAAM,GAAE,IAAE,EAAE,CAAC,EAAE,oCAAoC,CAAC,GAAE,CAAC,GAAE;AAAC;",
  "names": ["u", "e", "s", "m", "y"]
}
