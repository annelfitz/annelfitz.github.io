self.webpackChunkRemoteClient([56],{161:function(e,r,t){"use strict";t.d(r,"a",(function(){return l})),t.d(r,"b",(function(){return c}));var a=t(1),s=t(62),i=t(109),o=t(134);async function l(e,r){return await e.load(),c(e,r)}async function c(e,r){const t=[],l=(...e)=>{for(const r of e)Object(a.f)(r)||(Array.isArray(r)?l(...r):s.a.isCollection(r)?r.forEach(e=>l(e)):i.a.isLoadable(r)&&t.push(r))};r(l);let c=null;if(await Object(o.b)(t,async e=>{var r;!1!==(await Object(o.c)((r=e,"loadAll"in r&&"function"==typeof r.loadAll?e.loadAll():e.load()))).ok||c||(c=e)}),c)throw c.loadError;return e}},261:function(e,r,t){"use strict";t.d(r,"a",(function(){return d}));var a=t(5),s=t(9),i=t(1),o=t(31),l=t(14);const c=new Set(["bing-maps","open-street-map","tile","unknown","unsupported","vector-tile","web-tile"]),n=new Set(["csv","feature","group","tile","unknown","unsupported","vector-tile","web-tile"]);function y(e){return!("feature"!==e.type||e.url||!e.source||"memory"!==e.source.type)}function p(e,r){if(r.restrictedWebMapWriting){const t=function(e){return"basemap"===e.layerContainerType?c:"operational-layers"===e.layerContainerType?n:null}(r);return!Object(i.g)(t)||t.has(e.type)&&!y(e)}return!0}function d(e,r,t){if(!("write"in e)||!e.write)return t&&t.messages&&t.messages.push(new l.a("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(p(e,t)){const r={};return e.write(r,t)?r:null}return Object(i.g)(r)&&function(e,r){if(function(e,r){if(y(e)){const t=Object(s.b)("featureCollection.layers",r),a=t&&t[0]&&t[0].layerDefinition;a&&("maxScale"in e&&(a.maxScale=Object(o.b)(e.maxScale)),"minScale"in e&&(a.minScale=Object(o.b)(e.minScale)))}else"group"!==e.type&&("maxScale"in e&&(r.maxScale=Object(o.b)(e.maxScale)),"minScale"in e&&(r.minScale=Object(o.b)(e.minScale)))}(e,r),"blendMode"in e&&(r.blendMode=e.blendMode,"normal"===r.blendMode&&delete r.blendMode),r.opacity=Object(o.b)(e.opacity),r.title=e.title||"Layer",r.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type)if(y(e)){const t=r.featureCollection;t&&(t.showLegend=e.legendEnabled)}else r.showLegend=e.legendEnabled}(e,r=Object(a.a)(r)),r}},317:function(e,r,t){"use strict";t.d(r,"a",(function(){return o})),t.d(r,"b",(function(){return i}));var a=t(75),s=t(138);async function i(e){if(!e)return;const r=e.indexOf("-vector")>-1?e.slice(0,e.indexOf("-vector")):e,t=await Object(a.a)("esri/t9n/basemaps");return t[e]||t[r]}const o={streets:{id:"streets",thumbnailUrl:Object(s.a)("esri/images/basemap/streets.jpg"),baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",thumbnailUrl:Object(s.a)("esri/images/basemap/satellite.jpg"),baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",thumbnailUrl:Object(s.a)("esri/images/basemap/hybrid.jpg"),baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",thumbnailUrl:Object(s.a)("esri/images/basemap/terrain.jpg"),baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",thumbnailUrl:Object(s.a)("esri/images/basemap/topo.jpg"),baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",thumbnailUrl:Object(s.a)("esri/images/basemap/gray.jpg"),baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",thumbnailUrl:Object(s.a)("esri/images/basemap/dark-gray.jpg"),baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",thumbnailUrl:Object(s.a)("esri/images/basemap/oceans.jpg"),baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",thumbnailUrl:Object(s.a)("esri/images/basemap/national-geographic.jpg"),baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",thumbnailUrl:Object(s.a)("esri/images/basemap/osm.jpg"),baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",thumbnailUrl:Object(s.a)("esri/images/basemap/dark-gray-vector.jpg"),baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",thumbnailUrl:Object(s.a)("esri/images/basemap/gray-vector.jpg"),baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",thumbnailUrl:Object(s.a)("esri/images/basemap/streets-vector.jpg"),baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",thumbnailUrl:Object(s.a)("esri/images/basemap/topo-vector.jpg"),baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",thumbnailUrl:Object(s.a)("esri/images/basemap/streets-night.jpg"),baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",thumbnailUrl:Object(s.a)("esri/images/basemap/streets-relief.jpg"),baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",showLegend:!1,visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",thumbnailUrl:Object(s.a)("esri/images/basemap/streets-navigation.jpg"),baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]}}},415:function(e,r,t){"use strict";t.r(r);var a,s=t(18),i=(t(7),t(5)),o=t(1),l=t(3),c=(t(4),t(20)),n=t(19),y=t(57),p=t(24),d=(t(34),t(35),t(2)),b=t(50),u=t(55),g=t(62),h=t(167),m=t(109),f=t(104),v=t(161),L=t(121),j=t(317),S=t(261);let O=0;const w=l.a.getLogger("esri.Basemap");let M=a=class extends(Object(b.b)(m.a)){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+O++,this.baseLayers=new g.a,this.referenceLayers=new g.a;const r=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"===e.type&&w.error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a basemap layer and will therefore be ignored.`)},t=e=>{e.parent=null};this.baseLayers.on("after-add",e=>r(e.item)),this.referenceLayers.on("after-add",e=>r(e.item)),this.baseLayers.on("after-remove",e=>t(e.item)),this.referenceLayers.on("after-remove",e=>t(e.item))}initialize(){this.when().catch(e=>{w.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var e;const r=this.baseLayers.removeAll();for(const e of r)e.destroy();const t=this.referenceLayers.removeAll();for(const e of t)e.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),null==(e=this.portalItem)||e.destroy(),this.portalItem=null}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",Object(h.b)(e,this._get("baseLayers")))}_writeBaseLayers(e,r,t){const a=[];e?(t={...t,layerContainerType:"basemap"},this.baseLayers.forEach(e=>{const r=Object(S.a)(e,t.webmap?t.webmap.getLayerJSONFromResourceInfo(e):null,t);Object(o.g)(r)&&a.push(r)}),this.referenceLayers.forEach(e=>{const r=Object(S.a)(e,t.webmap?t.webmap.getLayerJSONFromResourceInfo(e):null,t);Object(o.g)(r)&&(r.isReference=!0,a.push(r))}),r.baseMapLayers=a):r.baseMapLayers=a}set referenceLayers(e){this._set("referenceLayers",Object(h.b)(e,this._get("referenceLayers")))}writeTitle(e,r){r.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Object(d.s)(this)}loadAll(){return Object(v.a)(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(e.loadStatus="loaded"),new a({resourceInfo:this.resourceInfo}).set(e)}read(e,r){this.resourceInfo||this._set("resourceInfo",{data:e,context:r}),super.read(e,r)}write(e,r){return e=e||{},r&&r.origin||(r={origin:"web-map",...r}),super.write(e,r),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(e=>{const r=Object(i.a)(e);return r.url&&Object(p.u)(r.url)&&(r.url="https:"+r.url),r.templateUrl&&Object(p.u)(r.templateUrl)&&(r.templateUrl="https:"+r.templateUrl),r})),e}async _loadFromSource(e){const{resourceInfo:r,portalItem:t}=this;Object(d.u)(e);const a=[];if(r){const t=r.context?r.context.url:null;if(a.push(this._loadLayersFromJSON(r.data,t,e)),r.data.id&&!r.data.title){const e=r.data.id;a.push(Object(j.b)(e).then(e=>{e&&this.read({title:e},r.context)}))}}else t&&a.push(this._loadFromItem(t,e));await Object(d.b)(a)}async _loadLayersFromJSON(e,r,a){const s=this.resourceInfo&&this.resourceInfo.context,i=this.portalItem&&this.portalItem.portal||s&&s.portal||null,o=s&&"web-scene"===s.origin?"web-scene":"web-map",{populateOperationalLayers:l}=await t.e(21).then(t.bind(null,528)),c=[];if(Object(d.u)(a),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const t={context:{origin:o,url:r,portal:i,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},a=l(this.baseLayers,e.baseMapLayers.filter(e=>!e.isReference),t);c.push(a);const s=l(this.referenceLayers,e.baseMapLayers.filter(e=>e.isReference),t);c.push(s)}await Object(d.i)(c)}async _loadFromItem(e,r){const t=await e.load(r),a=await t.fetchData("json",r),s=Object(p.H)(e.itemUrl);return this._set("resourceInfo",{data:a.baseMap,context:{origin:"web-map",portal:e.portal||f.a.getDefault(),url:s}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:a.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||f.a.getDefault(),url:s}),this._loadLayersFromJSON(this.resourceInfo.data,s,r)}static fromId(e){const r=j.a[e];return r?a.fromJSON(r):null}};Object(s.a)([Object(c.b)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,r,t,a){this._writeBaseLayers(e,r,a)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:g.a}},writer(e,r,t,a){this._writeBaseLayers(e,r,a)}}}}}})],M.prototype,"baseLayers",null),Object(s.a)([Object(c.b)({type:String,json:{origins:{"web-scene":{write:!0}}}})],M.prototype,"id",void 0),Object(s.a)([Object(c.b)({type:L.default})],M.prototype,"portalItem",void 0),Object(s.a)([Object(c.b)()],M.prototype,"referenceLayers",null),Object(s.a)([Object(c.b)({readOnly:!0})],M.prototype,"resourceInfo",void 0),Object(s.a)([Object(c.b)({type:u.a})],M.prototype,"spatialReference",void 0),Object(s.a)([Object(c.b)()],M.prototype,"thumbnailUrl",void 0),Object(s.a)([Object(c.b)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],M.prototype,"title",void 0),Object(s.a)([Object(y.a)("title")],M.prototype,"writeTitle",null),M=a=Object(s.a)([Object(n.a)("esri.Basemap")],M);var I=M;r.default=I}});