"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[788,8407],{9762:(n,e,t)=>{t.r(e),t.d(e,{projectBuffer:()=>l});var r=t(37539);function l(n,e,t,l,i,u,s=Math.floor(n.length/3)){const o=(0,r.jd)(e,i);if(null==o)return!1;if(o===r.pO){if(n===l&&t===u)return!0;const e=t+3*s;for(let r=t,i=u;r<e;r++,i++)l[i]=n[r];return!0}const a=t+3*s;for(let e=t,r=u;e<a;e+=3,r+=3)o(n,e,l,r);return!0}},10407:(n,e,t)=>{t.d(e,{It:()=>h,LG:()=>u,OM:()=>a,Sm:()=>c,Y:()=>s,bK:()=>o,mm:()=>p,sQ:()=>f});var r=t(98988),l=t(16930),i=t(28735);function u(n,e){if(!s(n,e)){const t=n.typeKeywords;t?t.push(e):n.typeKeywords=[e]}}function s(n,e){return!!n.typeKeywords?.includes(e)}function o(n){return s(n,p.HOSTED_SERVICE)}function a(n,e){const t=n.typeKeywords;if(t){const n=t.indexOf(e);n>-1&&t.splice(n,1)}}function c(n,e,t){t?u(n,e):a(n,e)}async function f(n){const e=n.clone().normalize();let t;if(e.length>1)for(const n of e)t?n.width>t.width&&(t=n):t=n;else t=e[0];return async function(n){const e=n.spatialReference;if(e.isWGS84)return n.clone();if(e.isWebMercator)return(0,i.ci)(n);const t=l.A.WGS84;return await(0,r.initializeProjection)(e,t),(0,r.project)(n,t)}(t)}const p={CHARTS:"Charts",DYNAMIC:"Dynamic",DEVELOPER_BASEMAP:"DeveloperBasemap",GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",LOCAL_SCENE:"ViewingMode-Local",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function h(n){const{portal:e,isOrgItem:t,itemControl:r}=n,l=e.user?.privileges;let i=!l||l.includes("features:user:edit"),u=!!t&&!!l?.includes("features:user:fullEdit");const s="update"===r||"admin"===r;return s?u=i=!0:u&&(i=!0),{features:{edit:i,fullEdit:u},content:{updateItem:s}}}},36708:(n,e,t)=>{t.d(e,{C_:()=>p,OH:()=>y,Vh:()=>g,on:()=>f,pc:()=>m,wB:()=>o,z7:()=>a});var r=t(37955),l=t(36563),i=t(97768),u=t(74887),s=t(14012);function o(n,e,t={}){return c(n,e,t,h)}function a(n,e,t={}){return c(n,e,t,d)}function c(n,e,t={},r){let l=null;const u=t.once?(n,t)=>{r(n)&&((0,i.xt)(l),e(n,t))}:(n,t)=>{r(n)&&e(n,t)};if(l=(0,s.Cn)(n,u,t.sync,t.equals),t.initial){const e=n();u(e,e)}return l}function f(n,e,t,u={}){let s=null,a=null,c=null;function f(){s&&a&&(a.remove(),u.onListenerRemove?.(s),s=null,a=null)}function p(n){u.once&&u.once&&(0,i.xt)(c),t(n)}const h=o(n,(n,t)=>{f(),(0,r.wb)(n)&&(s=n,a=(0,r.on)(n,e,p),u.onListenerAdd?.(n))},{sync:u.sync,initial:!0});return c=(0,l.hA)(()=>{h.remove(),f()}),c}function p(n,e){return function(n,e,t){if((0,u.G4)(t))return Promise.reject((0,u.NK)());const r=n();if(e?.(r))return Promise.resolve(r);let s=null;function o(){s=(0,i.xt)(s)}return new Promise((r,i)=>{s=(0,l.vE)([(0,u.u7)(t,()=>{o(),i((0,u.NK)())}),c(n,n=>{o(),r(n)},{sync:!1,once:!0},e??h)])})}(n,d,e)}function h(n){return!0}function d(n){return!!n}t(80559);const y={sync:!0},g={initial:!0},m={sync:!0,initial:!0}},37539:(n,e,t)=>{t.d(e,{pO:()=>y,jd:()=>p,Tp:()=>h,w5:()=>f});var r=t(34727),l=t(83047),i=t(73941),u=t(79258);Math.PI;const s=u.$O.radius,o=u.$O.eccentricitySquared,a={a1:s*o,a2:s*o*s*o,a3:s*o*o/2,a4:s*o*s*o*2.5,a5:s*o+s*o*o/2,a6:1-o};u.$O.radius,u.$O.flattening,u.Sw.radius,u.Sw.flattening,u.sH.radius,u.sH.flattening,u.sH.radius;var c=t(21325);const f={2:{5:y,7:null,9:null,10:y,1:I,6:null,8:null,0:null,3:m,11:w,2:y,4:S},5:{5:y,7:null,9:null,10:y,1:I,6:null,8:null,0:null,3:m,11:w,2:y,4:S},7:{5:null,7:y,9:null,10:y,1:null,6:M,8:null,0:null,3:null,11:null,2:null,4:null},9:{5:null,7:null,9:y,10:y,1:null,6:null,8:v,0:null,3:null,11:null,2:null,4:null},3:{5:g,7:null,9:null,10:g,1:function(n,e,t,r){const l=n[e]/O,i=L-2*Math.atan(Math.exp(-n[e+1]/O)),u=O+n[e+2],s=Math.cos(i)*u;t[r]=Math.cos(l)*s,t[r+1]=Math.sin(l)*s,t[r+2]=Math.sin(i)*u},6:null,8:null,0:null,3:y,11:function(n,e,t,r){g(n,e,t,r),w(t,r,t,r)},2:g,4:function(n,e,t,r){g(n,e,t,r),S(t,r,t,r)}},4:{5:A,7:null,9:null,10:A,1:function(n,e,t,r){A(n,e,t,r),I(t,r,t,r)},6:null,8:null,0:null,3:function(n,e,t,r){A(n,e,t,r),m(t,r,t,r)},11:function(n,e,t,r){A(n,e,t,r),w(t,r,t,r)},2:A,4:y},1:{5:E,7:null,9:null,10:E,1:y,6:null,8:null,0:null,3:function(n,e,t,r){E(n,e,t,r),m(t,r,t,r)},11:function(n,e,t,r){E(n,e,t,r),w(t,r,t,r)},2:E,4:function(n,e,t,r){E(n,e,t,r),S(t,r,t,r)}},6:{5:null,7:j,9:null,10:j,1:null,6:y,8:null,0:null,3:null,11:null,2:null,4:null},8:{5:null,7:null,9:P,10:P,1:null,6:null,8:y,0:null,3:null,11:null,2:null,4:null},0:{5:null,7:null,9:null,10:null,1:null,6:null,8:null,0:y,3:null,11:null,2:null,4:null},10:{5:y,7:y,9:y,10:y,1:I,6:M,8:v,0:null,3:m,11:w,2:y,4:S},11:{5:_,7:null,9:null,10:_,1:function(n,e,t,r){_(n,e,t,r),I(t,r,t,r)},6:null,8:null,0:null,3:function(n,e,t,r){_(n,e,t,r),m(t,r,t,r)},11:y,2:_,4:function(n,e,t,r){_(n,e,t,r),S(t,r,t,r)}}};function p(n,e){return h(n,e)?.projector}function h(n,e){if(null==n||null==e)return null;if(x.source.spatialReference===n&&x.dest.spatialReference===e)return x;const t=d(n,x.source),r=d(e,x.dest);return 0===t&&0===r?(0,c.aI)(n,e)?x.projector=y:x.projector=null:x.projector=f[t][r],x}function d(n,e){return n?e.spatialReference===n?e.spatialReferenceId:(e.spatialReference=n,"metersPerUnit"in e&&(e.metersPerUnit=(0,l.GA)(n,1)),(0,i.jA)(n)?e.spatialReferenceId=1:(0,c.oT)(n)?e.spatialReferenceId=2:(0,c.K8)(n)?e.spatialReferenceId=3:(0,c.r1)(n)?e.spatialReferenceId=11:n.wkt===i.Ro.wkt?e.spatialReferenceId=4:4490===n.wkid?e.spatialReferenceId=5:n.wkt===i.FY.wkt?e.spatialReferenceId=6:n.wkt===i.LJ.wkt?e.spatialReferenceId=8:(0,c.q8)(n)?e.spatialReferenceId=7:(0,c.KQ)(n)?e.spatialReferenceId=9:e.spatialReferenceId=0):0}function y(n,e,t,r){n!==t&&(t[r++]=n[e++],t[r++]=n[e++],t[r]=n[e])}function g(n,e,t,r){t[r]=C*(n[e]/O),t[r+1]=C*(L-2*Math.atan(Math.exp(-n[e+1]/O))),t[r+2]=n[e+2]}function m(n,e,t,l){!function(n,e,t,l,i){const u=.4999999*Math.PI,s=(0,r.qE)(b*n[e+1],-u,u),o=Math.sin(s);t[l++]=b*n[e]*i.radius,t[l++]=i.halfSemiMajorAxis*Math.log((1+o)/(1-o)),t[l]=n[e+2]}(n,e,t,l,u.$O)}function w(n,e,t,r){t[r]=n[e]*G,t[r+1]=n[e+1]*G,t[r+2]=n[e+2]}function _(n,e,t,r){t[r]=n[e]*T,t[r+1]=n[e+1]*T,t[r+2]=n[e+2]}function R(n,e,t,r,l){const i=l+n[e+2],u=b*n[e+1],s=b*n[e],o=Math.cos(u)*i;t[r]=Math.cos(s)*o,t[r+1]=Math.sin(s)*o,t[r+2]=Math.sin(u)*i}function v(n,e,t,r){R(n,e,t,r,u.Sw.radius)}function M(n,e,t,r){R(n,e,t,r,u.sH.radius)}function I(n,e,t,r){R(n,e,t,r,u.$O.radius)}function k(n,e,t,l,i){const u=n[e],s=n[e+1],o=n[e+2],a=Math.sqrt(u*u+s*s+o*o),c=(0,r.YN)(o/(0===a?1:a)),f=Math.atan2(s,u);t[l++]=C*f,t[l++]=C*c,t[l]=a-i}function P(n,e,t,r){k(n,e,t,r,u.Sw.radius)}function j(n,e,t,r){k(n,e,t,r,u.sH.radius)}function E(n,e,t,r){k(n,e,t,r,u.$O.radius)}function S(n,e,t,r){!function(n,e,t,r,l){const i=b*n[e],u=b*n[e+1],s=n[e+2],o=Math.sin(u),a=Math.cos(u),c=l.radius/Math.sqrt(1-l.eccentricitySquared*o*o);t[r++]=(c+s)*a*Math.cos(i),t[r++]=(c+s)*a*Math.sin(i),t[r++]=(c*(1-l.eccentricitySquared)+s)*o}(n,e,t,r,u.$O)}function A(n,e,t,r){const l=a,i=n[e],s=n[e+1],o=n[e+2];let c,f,p,h,d,y,g,m,w,_,R,v,M,I,k,P,j,E,S,A,x;c=Math.abs(o),f=i*i+s*s,p=Math.sqrt(f),h=f+o*o,d=Math.sqrt(h),A=Math.atan2(s,i),y=o*o/h,g=f/h,I=l.a2/d,k=l.a3-l.a4/d,g>.3?(m=c/d*(1+g*(l.a1+I+y*k)/d),S=Math.asin(m),_=m*m,w=Math.sqrt(1-_)):(w=p/d*(1-y*(l.a5-I-g*k)/d),S=Math.acos(w),_=1-w*w,m=Math.sqrt(_)),R=1-u.$O.eccentricitySquared*_,v=u.$O.radius/Math.sqrt(R),M=l.a6*v,I=p-v*w,k=c-M*m,j=w*I+m*k,P=w*k-m*I,E=P/(M/R+j),S+=E,x=j+P*E/2,o<0&&(S=-S),t[r++]=C*A,t[r++]=C*S,t[r]=x}const x={source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:y},b=(0,r.kU)(1),C=(0,r.KJ)(1),L=.5*Math.PI,O=u.$O.radius,G=O*Math.PI/180,T=180/(O*Math.PI)},60999:(n,e,t)=>{t.d(e,{DZ:()=>d,Ke:()=>h,Tj:()=>c,UT:()=>y,jJ:()=>a});var r=t(31635),l=t(65008),i=t(97768),u=t(74887),s=t(10107),o=t(40608);function a(n,e,t){return(0,u.Lx)(n.map((n,r)=>e.apply(t,[n,r])))}async function c(n,e,t){return(await(0,u.Lx)(n.map((n,r)=>e.apply(t,[n,r])))).map(n=>n.value)}function f(n){return{ok:!0,value:n}}function p(n){return{ok:!1,error:n}}async function h(n){if(null==n)return{ok:!1,error:new Error("no promise provided")};try{return f(await n)}catch(n){return p(n)}}async function d(n){try{return f(await n)}catch(n){return(0,u.QP)(n),p(n)}}function y(n,e){return new g(n,e)}let g=class extends l.A{get value(){return null!=(n=this._result)&&!0===n.ok?n.value:null;var n}get error(){return null!=(n=this._result)&&!1===n.ok?n.error:null;var n}get finished(){return null!=this._result}constructor(n,e){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=(0,i.DC)(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:t}=this._abortController;this.promise=n(t),this.promise.then(n=>{this._result=f(n),this._cleanup()},n=>{this._result=p(n),this._cleanup()}),this._abortHandle=(0,u.u7)(e,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=(0,i.xt)(this._abortHandle),this._abortController=null}};(0,r.Cg)([(0,s.MZ)()],g.prototype,"value",null),(0,r.Cg)([(0,s.MZ)()],g.prototype,"error",null),(0,r.Cg)([(0,s.MZ)()],g.prototype,"finished",null),(0,r.Cg)([(0,s.MZ)()],g.prototype,"promise",void 0),(0,r.Cg)([(0,s.MZ)()],g.prototype,"_result",void 0),g=(0,r.Cg)([(0,o.$)("esri.core.asyncUtils.ReactiveTask")],g)},62815:(n,e,t)=>{t.d(e,{N:()=>u});var r=t(83047),l=t(73941),i=t(21325);function u(n,e,t){if(null==e||null==t||t.vcsWkid||(0,i.aI)(e,t)||(0,l.xP)(e)||(0,l.xP)(t))return null;const u=(0,r.G9)(e)/(0,r.G9)(t);if(1===u)return null;switch(n){case"point":case"esriGeometryPoint":return n=>function(n,e){null!=n?.z&&(n.z*=e)}(n,u);case"polyline":case"esriGeometryPolyline":return n=>function(n,e){if(n)for(const t of n.paths)for(const n of t)n.length>2&&(n[2]*=e)}(n,u);case"polygon":case"esriGeometryPolygon":return n=>function(n,e){if(n)for(const t of n.rings)for(const n of t)n.length>2&&(n[2]*=e)}(n,u);case"multipoint":case"esriGeometryMultipoint":return n=>function(n,e){if(n)for(const t of n.points)t.length>2&&(t[2]*=e)}(n,u);case"extent":case"esriGeometryEnvelope":return n=>function(n,e){n&&null!=n.zmin&&null!=n.zmax&&(n.zmin*=e,n.zmax*=e)}(n,u);default:return null}}},77548:(n,e,t)=>{t.d(e,{Gh:()=>y,tk:()=>f,BR:()=>c,wI:()=>a,G$:()=>h,$x:()=>p,Ov:()=>s,W_:()=>o,OP:()=>d,TU:()=>u,XX:()=>i});var r=t(70333),l=t(78888);t(7762),t(84952),t(36563),t(36708),new WeakMap;const i={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function u(n){const e=n?.type;return"building-scene"===e||"integrated-mesh"===e||"point-cloud"===e||"scene"===e}function s(n){return"feature"===n?.type&&!n.url&&"memory"===n.source?.type}function o(n){const e=n?.type;return("feature"===e||"subtype-group"===e||"oriented-imagery"===e)&&"feature-layer"===n?.source?.type}async function a(n,e){const t=r.id?.findServerInfo(n);if(null!=t?.currentVersion)return t.owningSystemUrl||null;const i=n.toLowerCase().indexOf("/rest/services");if(-1===i)return null;const u=`${n.slice(0,i)}/rest/info`,s=null!=e?e.signal:null,{data:o}=await(0,l.A)(u,{query:{f:"json"},responseType:"json",signal:s});return o?.owningSystemUrl||null}function c(n){return function(n){if(!("capabilities"in n))return!1;switch(n.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}(n)?"effectiveCapabilities"in n?n.effectiveCapabilities:n.capabilities:null}function f(n){return!!function(n){if(!("editingEnabled"in n))return!1;switch(n.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}(n)&&("effectiveEditingEnabled"in n?n.effectiveEditingEnabled:n.editingEnabled)}function p(n,e){return null}function h(n){return null}function d(n){return!n||"Feature Service"===n.type&&!n.sourceUrl}function y(n,e){if(!e||!d(n))return;const t=(n.url,null);t&&(n.url=t)}},98988:(n,e,t)=>{t.r(e),t.d(e,{canProjectWithoutEngine:()=>D,getTransformation:()=>K,getTransformations:()=>U,initializeProjection:()=>V,isEqualBaseGCS:()=>N,isLoaded:()=>b,isLoadedOrLoad:()=>C,isLoadedOrLoadFor:()=>L,load:()=>G,project:()=>T,projectExtent:()=>un,projectMany:()=>z,projectMultipoint:()=>X,projectOrLoad:()=>q,projectOrLoadMany:()=>B,projectPoint:()=>F,projectPolygon:()=>rn,projectPolyline:()=>en,projectWithZConversion:()=>Y,projectWithoutEngine:()=>J,requiresLoad:()=>O,test:()=>$,tryProjectWithZConversion:()=>W,unload:()=>H});var r=t(49186),l=t(74887),i=t(62788),u=t(95488),s=t(51850),o=t(21276),a=t(73941),c=t(5443),f=t(48526),p=t(83290),h=t(86738),d=t(39829),y=t(82799),g=t(16930),m=t(9762),w=t(37539);function _(n,e,t,r,l,i){return R[0]=n,R[1]=e,R[2]=t,(0,m.projectBuffer)(R,r,0,l,i,0)}const R=(0,s.vt)();let v=0;class M{static fromGE(n){const e=new M;return e._wkt=n.wkt,e._wkid=n.wkid,e._isInverse=n.isInverse,e}constructor(n){this.uid=v++,n?(this._wkt=null!=n.wkt?n.wkt:null,this._wkid=null!=n.wkid?n.wkid:-1,this._isInverse=null!=n.isInverse&&!0===n.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(n){this._wkt=n,this.uid=v++}get wkid(){return this._wkid}set wkid(n){this._wkid=n,this.uid=v++}get isInverse(){return this._isInverse}set isInverse(n){this._isInverse=n,this.uid=v++}getInverse(){const n=new M;return n._wkt=this.wkt,n._wkid=this._wkid,n._isInverse=!this.isInverse,n}}class I{static cacheKey(n,e){return[n.wkid?.toString()??"-1",n.wkt?.toString()??"",n.wkt2?.toString()??"",e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??""].join()}static fromGE(n){const e=new I;let t="";for(const r of n.steps){const n=M.fromGE(r);e.steps.push(n),t+=n.uid.toString()+","}return e._cachedProjection={},e._gtlistentry=null,e._chain=t,e}constructor(n){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,n?.steps)for(const e of n.steps)e instanceof M?this.steps.push(e):this.steps.push(new M({wkid:e.wkid,wkt:e.wkt,isInverse:e.isInverse}))}getInverse(){const n=new I;n.steps=[];for(let e=this.steps.length-1;e>=0;e--){const t=this.steps[e];n.steps.push(t.getInverse())}return n}getGTListEntry(){let n="";for(const e of this.steps)n+=e.uid.toString()+",";return n!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=n),this._gtlistentry}assignCachedGe(n,e,t){this._cachedProjection[I.cacheKey(n,e)]=t}getCachedGeTransformation(n,e){let t="";for(const n of this.steps)t+=n.uid.toString()+",";t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t);const r=this._cachedProjection[I.cacheKey(n,e)];return void 0===r?null:r}}var k=t(21325),P=t(62815);let j=null,E=null,S=null,A={};const x=new u.I;function b(){return!!j&&(0,p.i)()}function C(){return!!b()||((0,i.gc)(x),G(),!1)}function L(n,e){return!n||!e||D(n,e)||C()}function O(n,e){return!D(n,e)&&!b()}function G(n){return null==S&&(S=Promise.all([(0,p.l)(),t.e(9930).then(t.bind(t,49930)).then(n=>n.g),t.e(2731).then(t.bind(t,12731))])),S.then(([,e,{hydratedAdapter:t}])=>{(0,l.Te)(n),E=t,j=e.default,j._enableProjection(p.p),x.notify()})}function T(n,e,t=null,r=null){return Array.isArray(n)?0===n.length?[]:((0,o.H)(n),z(E,n,n[0].spatialReference,e,t,r)):((0,o.f)(n),z(E,[n],n.spatialReference,e,t,r)[0])}function z(n,e,t,r,l=null,i=null){if(null==t||null==r)return e;if(D(t,r,l))return e.map(n=>J(n,t,r));if(null==l&&(0,a.jA)(t))return e.map(n=>J(n,t,g.A.WGS84)).map(n=>W(n,r));if(null==l&&(0,a.jA)(r))return e.map(n=>W(n,g.A.WGS84)).map(n=>J(n,g.A.WGS84,r));if(null==l){const n=I.cacheKey(t,r);void 0!==A[n]?l=A[n]:(null==(l=K(t,r,void 0))&&(l=new I),A[n]=l)}if(null==j||null==n)throw new Z;return null!=i?j._project(n,e,t,r,l,i):j._project(n,e,t,r,l)}function q(n,e){const t=B([n],e);return null!=t.pending?{pending:t.pending,geometry:null}:null!=t.geometries?{pending:null,geometry:t.geometries[0]}:{pending:null,geometry:null}}function B(n,e){if(!b())for(const t of n)if(null!=t&&!(0,k.aI)(t.spatialReference,e)&&(0,k.fn)(t.spatialReference)&&(0,k.fn)(e)&&!D(t.spatialReference,e))return(0,i.gc)(x),{pending:G(),geometries:null};return{pending:null,geometries:n.map(n=>null==n?null:(0,k.aI)(n.spatialReference,e)?n:(0,k.fn)(n.spatialReference)&&(0,k.fn)(e)?W(n,e):null)}}function K(n,e,t=null){if(null==n||null==e)return null;if(null==j||null==E)throw new Z;const r=j._getTransformation(E,n,e,t,t?.spatialReference);return null!==r?I.fromGE(r):null}function U(n,e,t=null){if(null==j||null==E)throw new Z;const r=j._getTransformationBySuitability(E,n,e,t,t?.spatialReference);if(null!==r){const n=[];for(const e of r)n.push(I.fromGE(e));return n}return[]}class Z extends r.A{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function H(){j=null,E=null,S=null,A={}}const $={get loadPromise(){return S}};function W(n,e){try{const t=T(n,e);if(null==t)return null;"xmin"in n&&"xmin"in t&&(t.zmin=n.zmin,t.zmax=n.zmax);const r=(0,P.N)(t.type,n.spatialReference,e);return null!=r&&r(t),t}catch(n){if(!(n instanceof Z))throw n;return null}}async function Y(n,e,t){const r=n.spatialReference;return null!=r&&null!=e&&await V(r,e,null,t),W(n,e)}function D(n,e,t){return!t&&(!!(0,k.aI)(n,e)||(0,k.fn)(n)&&(0,k.fn)(e)&&!!(0,w.jd)(n,e))}function N(n,e){if((0,k.aI)(n,e))return!0;if(!(0,k.fn)(n)||!(0,k.fn)(e))return!1;const t=(0,k.oT)(n)||(0,k.K8)(n)||(0,k.x1)(n),r=(0,k.oT)(e)||(0,k.K8)(e)||(0,k.x1)(e);return t&&r}async function V(n,e,t,r){if(b())return(0,l.NO)(r);if(Array.isArray(n)){for(const{source:e,dest:t,geographicTransformation:l}of n)if(e&&t&&!D(e,t,l))return G(r)}else if(n&&e&&!D(n,e,t))return G(r);return(0,l.NO)(r)}function J(n,e,t){return n?"x"in n?Q(n,e,new h.A,t,0):"xmin"in n?sn(n,e,new c.A,t,0):"rings"in n?ln(n,e,new d.A,t,0):"paths"in n?tn(n,e,new y.A,t,0):"points"in n?nn(n,e,new f.A,t,0):null:null}function F(n,e,t=e.spatialReference,r=0){return null!=t&&null!=n.spatialReference&&null!=Q(n,n.spatialReference,e,t,r)}function Q(n,e,t,r,l){an[0]=n.x,an[1]=n.y;const i=n.z;return an[2]=void 0!==i?i:l,(0,m.projectBuffer)(an,e,0,an,r,0)?(t.x=an[0],t.y=an[1],t.spatialReference=r,void 0!==i||(0,a.xP)(r)?(t.z=an[2],t.hasZ=!0):(t.z=void 0,t.hasZ=!1),void 0===n.m?(t.m=void 0,t.hasM=!1):(t.m=n.m,t.hasM=!0),t):null}function X(n,e,t=e.spatialReference,r=0){return null!=n.spatialReference&&null!=t&&null!=nn(n,n.spatialReference,e,t,r)}function nn(n,e,t,r,l){const{points:i,hasZ:u,hasM:s}=n,o=[],c=i.length,f=[];for(const n of i)f.push(n[0],n[1],u?n[2]:l);if(!(0,m.projectBuffer)(f,e,0,f,r,0,c))return null;const p=u||(0,a.xP)(r);for(let n=0;n<c;++n){const e=3*n,t=f[e],r=f[e+1];p&&s?o.push([t,r,f[e+2],i[n][3]]):p?o.push([t,r,f[e+2]]):s?o.push([t,r,i[n][2]]):o.push([t,r])}return t.points=o,t.spatialReference=r,t.hasZ=u,t.hasM=s,t}function en(n,e,t=e.spatialReference,r=0){return null!=n.spatialReference&&null!=t&&null!=tn(n,n.spatialReference,e,t,r)}function tn(n,e,t,r,l){const{paths:i,hasZ:u,hasM:s}=n,o=[];if(!on(i,u??!1,s??!1,e,o,r,l))return null;const c=u||(0,a.xP)(r);return t.paths=o,t.spatialReference=r,t.hasZ=c,t.hasM=s,t}function rn(n,e,t=e.spatialReference,r=0){return null!=n.spatialReference&&null!=t&&null!=ln(n,n.spatialReference,e,t,r)}function ln(n,e,t,r,l){const{rings:i,hasZ:u,hasM:s}=n,o=[];if(!on(i,u??!1,s??!1,e,o,r,l))return null;const c=u||(0,a.xP)(r);return t.rings=o,t.spatialReference=r,t.hasZ=c,t.hasM=s,t}function un(n,e,t=e.spatialReference,r=0){return null!=n.spatialReference&&null!=t&&null!=sn(n,n.spatialReference,e,t,r)}function sn(n,e,t,r,l){const{xmin:i,ymin:u,xmax:s,ymax:o,hasZ:c,hasM:f}=n;if(!_(i,u,c?n.zmin:l,e,an,r))return null;const p=c||(0,a.xP)(r);return t.xmin=an[0],t.ymin=an[1],p&&(t.zmin=an[2]),_(s,o,c?n.zmax:l,e,an,r)?(t.xmax=an[0],t.ymax=an[1],p&&(t.zmax=an[2]),f&&(t.mmin=n.mmin,t.mmax=n.mmax),t.spatialReference=r,t):null}function on(n,e,t,r,l,i,u=0){const s=new Array;for(const t of n)for(const n of t)s.push(n[0],n[1],e?n[2]:u);if(!(0,m.projectBuffer)(s,r,0,s,i,0))return!1;let o=0;l.length=0;const c=e||(0,a.xP)(i);for(const e of n){const n=new Array;for(const r of e)c&&t?n.push([s[o++],s[o++],s[o++],r[3]]):c?n.push([s[o++],s[o++],s[o++]]):t?(n.push([s[o++],s[o++],r[2]]),o++):(n.push([s[o++],s[o++]]),o++);l.push(n)}return!0}const an=(0,s.vt)()}}]);