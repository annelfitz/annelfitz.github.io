self.webpackChunkRemoteClient([20],{161:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return o}));var r=i(1),s=i(62),a=i(109),n=i(134);async function l(e,t){return await e.load(),o(e,t)}async function o(e,t){const i=[],l=(...e)=>{for(const t of e)Object(r.f)(t)||(Array.isArray(t)?l(...t):s.a.isCollection(t)?t.forEach(e=>l(e)):a.a.isLoadable(t)&&i.push(t))};t(l);let o=null;if(await Object(n.b)(i,async e=>{var t;!1!==(await Object(n.c)((t=e,"loadAll"in t&&"function"==typeof t.loadAll?e.loadAll():e.load()))).ok||o||(o=e)}),o)throw o.loadError;return e}},261:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var r=i(5),s=i(9),a=i(1),n=i(31),l=i(14);const o=new Set(["bing-maps","open-street-map","tile","unknown","unsupported","vector-tile","web-tile"]),c=new Set(["csv","feature","group","tile","unknown","unsupported","vector-tile","web-tile"]);function b(e){return!("feature"!==e.type||e.url||!e.source||"memory"!==e.source.type)}function d(e,t){if(t.restrictedWebMapWriting){const i=function(e){return"basemap"===e.layerContainerType?o:"operational-layers"===e.layerContainerType?c:null}(t);return!Object(a.g)(i)||i.has(e.type)&&!b(e)}return!0}function y(e,t,i){if(!("write"in e)||!e.write)return i&&i.messages&&i.messages.push(new l.a("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(d(e,i)){const t={};return e.write(t,i)?t:null}return Object(a.g)(t)&&function(e,t){if(function(e,t){if(b(e)){const i=Object(s.b)("featureCollection.layers",t),r=i&&i[0]&&i[0].layerDefinition;r&&("maxScale"in e&&(r.maxScale=Object(n.b)(e.maxScale)),"minScale"in e&&(r.minScale=Object(n.b)(e.minScale)))}else"group"!==e.type&&("maxScale"in e&&(t.maxScale=Object(n.b)(e.maxScale)),"minScale"in e&&(t.minScale=Object(n.b)(e.minScale)))}(e,t),"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=Object(n.b)(e.opacity),t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type)if(b(e)){const i=t.featureCollection;i&&(i.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}(e,t=Object(r.a)(t)),t}},267:function(e,t,i){"use strict";i.r(t);var r=i(18),s=(i(7),i(1)),a=(i(3),i(4),i(6)),n=i(20),l=i(19),o=i(57),c=(i(24),i(34),i(35),i(2)),b=i(161),d=i(261),y=i(80),u=i(428),h=i(429),p=i(81),f=i(110),v=i(91),O=i(89);let m=class extends(Object(f.a)(Object(v.a)(Object(O.a)(Object(h.a)(Object(u.a)(Object(p.a)(y.a))))))){constructor(e){super(e),this._visibilityHandles={},this.fullExtent=void 0,this.operationalLayerType="GroupLayer",this.spatialReference=void 0,this.type="group",this._visibilityWatcher=this._visibilityWatcher.bind(this)}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch("visible",this._visibleWatcher.bind(this),!0)}_writeLayers(e,t,i,r){const a=[];if(!e)return a;e.forEach(e=>{const t=Object(d.a)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);Object(s.g)(t)&&t.layerType&&a.push(t)}),t.layers=a}set portalItem(e){this._set("portalItem",e)}set visibilityMode(e){const t=this._get("visibilityMode")!==e;this._set("visibilityMode",e),t&&this._enforceVisibility(e,this.visible)}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},e)),Object(c.s)(this)}loadAll(){return Object(b.a)(this,e=>{e(this.layers)})}layerAdded(e){e.visible&&"exclusive"===this.visibilityMode?this._turnOffOtherLayers(e):"inherited"===this.visibilityMode&&(e.visible=this.visible),this._visibilityHandles[e.uid]=e.watch("visible",this._visibilityWatcher,!0)}layerRemoved(e){const t=this._visibilityHandles[e.uid];t&&(t.remove(),delete this._visibilityHandles[e.uid]),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(e){this.layers.forEach(t=>{t!==e&&(t.visible=!1)})}_enforceVisibility(e,t){if(!Object(a.a)(this).initialized)return;const i=this.layers;let r=i.find(e=>e.visible);switch(e){case"exclusive":i.length&&!r&&(r=i.getItemAt(0),r.visible=!0),this._turnOffOtherLayers(r);break;case"inherited":i.forEach(e=>{e.visible=t})}}_visibleWatcher(e){"inherited"===this.visibilityMode&&this.layers.forEach(t=>{t.visible=e})}_visibilityWatcher(e,t,i,r){const s=r;switch(this.visibilityMode){case"exclusive":e?this._turnOffOtherLayers(s):this._isAnyLayerVisible()||(s.visible=!0);break;case"inherited":s.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some(e=>e.visible)}};Object(r.a)([Object(n.b)()],m.prototype,"fullExtent",void 0),Object(r.a)([Object(n.b)({json:{read:!1,write:{ignoreOrigin:!0}}})],m.prototype,"layers",void 0),Object(r.a)([Object(o.a)("layers")],m.prototype,"_writeLayers",null),Object(r.a)([Object(n.b)({type:["GroupLayer"]})],m.prototype,"operationalLayerType",void 0),Object(r.a)([Object(n.b)({json:{origins:{"web-document":{read:!1,write:!1}}}})],m.prototype,"portalItem",null),Object(r.a)([Object(n.b)()],m.prototype,"spatialReference",void 0),Object(r.a)([Object(n.b)({json:{read:!1},readOnly:!0,value:"group"})],m.prototype,"type",void 0),Object(r.a)([Object(n.b)({type:["independent","inherited","exclusive"],value:"independent",json:{write:!0,origins:{"web-map":{read:!1,write:!1}}}})],m.prototype,"visibilityMode",null),m=Object(r.a)([Object(l.a)("esri.layers.GroupLayer")],m);var j=m;t.default=j},428:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var r=i(18),s=(i(7),i(3)),a=(i(4),i(20)),n=i(19),l=(i(24),i(34),i(35),i(2)),o=i(62),c=i(167),b=i(80);function d(e){return e&&"group"===e.type}function y(e,t,i){let r,s;if(e)for(let a=0,n=e.length;a<n;a++){if(r=e.getItemAt(a),r[t]===i)return r;if(d(r)&&(s=y(r.layers,t,i),s))return s}}const u=s.a.getLogger("esri.support.LayersMixin"),h=e=>{let t=class extends e{constructor(...e){super(...e),this.layers=new o.a;const t=e=>{e.parent=this,this.layerAdded(e),"elevation"!==e.type&&"base-elevation"!==e.type||u.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},i=e=>{e.parent=null,this.layerRemoved(e)};this.layers.on("before-add",e=>{var t;(t=e.item).parent&&"remove"in t.parent&&t.parent.remove(t)}),this.layers.on("after-add",e=>t(e.item)),this.layers.on("after-remove",e=>i(e.item))}destroy(){const e=this.layers.removeAll();for(const t of e)this.layerRemoved(t),t.destroy();this.layers.destroy()}set layers(e){this._set("layers",Object(c.b)(e,this._get("layers")))}add(e,t){const i=this.layers;t=i.getNextIndex(t),e instanceof b.a?e.parent===this?this.reorder(e,t):i.add(e,t):Object(l.n)(e)?e.then(e=>{this.destroyed||this.add(e,t)}):u.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(e,t){const i=this.layers;t=i.getNextIndex(t),e.slice().forEach(e=>{e.parent!==this?(i.add(e,t),t+=1):this.reorder(e,t)})}findLayerById(e){return y(this.layers,"id",e)}findLayerByUid(e){return y(this.layers,"uid",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,t){return this.layers.reorder(e,t)}layerAdded(e){}layerRemoved(e){}};return Object(r.a)([Object(a.b)()],t.prototype,"layers",null),t=Object(r.a)([Object(n.a)("esri.support.LayersMixin")],t),t}},429:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var r=i(18),s=(i(7),i(3)),a=(i(4),i(20)),n=i(19),l=(i(24),i(34),i(35),i(62)),o=i(167);const c=s.a.getLogger("esri.support.TablesMixin"),b=e=>{let t=class extends e{constructor(...e){super(...e),this.tables=new l.a,this.tables.on("after-add",e=>{const t=e.item;t.parent&&t.parent!==this&&"tables"in t.parent&&t.parent.tables.remove(t),t.parent=this,"feature"!==t.type&&c.error(`Layer 'title:${t.title}, id:${t.id}' of type '${t.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",e=>{e.item.parent=null})}destroy(){const e=this.tables.removeAll();for(const t of e)t.destroy();this.tables.destroy()}set tables(e){this._set("tables",Object(o.b)(e,this._get("tables")))}};return Object(r.a)([Object(a.b)()],t.prototype,"tables",null),t=Object(r.a)([Object(n.a)("esri.support.TablesMixin")],t),t}}});