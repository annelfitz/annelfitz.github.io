"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[3474],{4902:(e,t,r)=>{r.d(t,{PH:()=>n,sA:()=>l});var i=r(31635),s=r(40608);let o=0;const l=e=>{const t=e;let r=class extends t{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+o++})}};return r=(0,i.Cg)([(0,s.$)("esri.core.Identifiable")],r),r},n=e=>{const t=e;let r=class extends t{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:o++})}};return r=(0,i.Cg)([(0,s.$)("esri.core.Identifiable.NumericIdentifiable")],r),r};l(class{})},8303:(e,t,r)=>{r.d(t,{A:()=>b});var i=r(31635),s=r(92602),o=r(70333),l=r(78888),n=r(60999),a=r(49186),u=r(53966),h=r(97768),p=r(74887),d=r(84952),c=r(10107),y=(r(44208),r(87811),r(36005)),g=r(40608),m=r(43937),f=r(77548),S=r(20655),w=r(80812),C=r(41318),v=r(10407);const b=e=>{const t=e;let b=class extends t{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,h.pR)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}readPortalItem(e,t,r){if(t.itemId)return new w.default({id:t.itemId,portal:r?.portal})}writePortalItem(e,t){e?.id&&(t.itemId=e.id)}async loadFromPortal(e,t){if(this.portalItem?.id)try{const{load:i}=await r.e(1204).then(r.bind(r,41204));return(0,p.Te)(t),await i({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData,layerModuleTypeMap:e.layerModuleTypeMap,populateGroupLayer:e.populateGroupLayer},t)}catch(e){throw(0,p.zf)(e)||u.A.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${e}`),e}}async finishLoadEditablePortalLayer(e){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(e).catch(e=>((0,p.QP)(e),!0)))}async setUserPrivileges(e,t){if(!s.A.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(t);if(this.url)try{const{features:{edit:r,fullEdit:i},content:{updateItem:s}}=await this._fetchUserPrivileges(e,t);this._set("userHasEditingPrivileges",r),this._set("userHasFullEditingPrivileges",i),this._set("userHasUpdateItemPrivileges",s)}catch(e){(0,p.QP)(e)}}async _fetchUserPrivileges(e,t){let r=this.portalItem;if(!e||!r||!r.loaded||r.sourceUrl)return this._fetchFallbackUserPrivileges(t);const i=!o.id?.findCredential(this.url),s=e===r.id;if(s&&r.portal.user)return this._getUserPrivileges(r,i);let l,n;if(s)l=r.portal.url;else try{l=await(0,f.wI)(this.url,t)}catch(e){(0,p.QP)(e)}if(!l||!(0,d.b8)(l,r.portal.url))return this._fetchFallbackUserPrivileges(t);try{const e=null!=t?t.signal:null;n=await(o.id?.getCredential(`${l}/sharing`,{prompt:!1,signal:e}))}catch(e){(0,p.QP)(e)}const a=!0,u=!1,h=!1;if(!n)return{features:{edit:a,fullEdit:u},content:{updateItem:h}};try{if(s?await r.reload():(r=new w.default({id:e,portal:{url:l}}),await r.load(t)),r.portal.user)return this._getUserPrivileges(r,i)}catch(e){(0,p.QP)(e)}return{features:{edit:a,fullEdit:u},content:{updateItem:h}}}_getUserPrivileges(e,t){const r=(0,v.It)(e);return t&&(r.features.edit=!0),r}async _fetchFallbackUserPrivileges(e){let t=!0;try{t=await this._fetchUserHasEditingPrivileges(e)}catch(e){(0,p.QP)(e)}return{features:{edit:t,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(e){const t=this.url?o.id?.findCredential(this.url):null;if(!t)return!0;const r=M.credential===t?M.user:await this._fetchEditingUser(e);return M.credential=t,M.user=r,null==r?.privileges||r.privileges.includes("features:user:edit")}async _fetchEditingUser(e){const t=this.portalItem?.portal?.user;if(t)return t;const r=o.id?.findServerInfo(this.url??"");if(!r?.owningSystemUrl)return null;const i=`${r.owningSystemUrl}/sharing/rest`,s=S.A.getDefault();if(s&&s.loaded&&(0,d.S8)(s.restUrl)===(0,d.S8)(i))return s.user;const a=`${i}/community/self`,u=null!=e?e.signal:null,h=await(0,n.Ke)((0,l.A)(a,{authMode:"no-prompt",query:{f:"json"},signal:u}));return h.ok?C.A.fromJSON(h.value.data):null}read(e,t){t&&(t.layer=this),super.read(e,t)}write(e,t){const r=t?.portal,i=this.portalItem?.id&&(this.portalItem.portal||S.A.getDefault());return r&&i&&!(0,d.ut)(i.restUrl,r.restUrl)?(t.messages&&t.messages.push(new a.A("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(e,{...t,layer:this})}};return(0,i.Cg)([(0,c.MZ)({type:w.default})],b.prototype,"portalItem",null),(0,i.Cg)([(0,y.w)("web-document","portalItem",["itemId"])],b.prototype,"readPortalItem",null),(0,i.Cg)([(0,m.K)("web-document","portalItem",{itemId:{type:String}})],b.prototype,"writePortalItem",null),(0,i.Cg)([(0,c.MZ)({clonable:!1})],b.prototype,"resourceReferences",void 0),(0,i.Cg)([(0,c.MZ)({type:Boolean,readOnly:!0})],b.prototype,"userHasEditingPrivileges",void 0),(0,i.Cg)([(0,c.MZ)({type:Boolean,readOnly:!0})],b.prototype,"userHasFullEditingPrivileges",void 0),(0,i.Cg)([(0,c.MZ)({type:Boolean,readOnly:!0})],b.prototype,"userHasUpdateItemPrivileges",void 0),b=(0,i.Cg)([(0,g.$)("esri.layers.mixins.PortalLayer")],b),b},M={credential:null,user:null}},20378:(e,t,r)=>{r.d(t,{A:()=>d});var i=r(31635),s=r(68197),o=r(66552),l=r(25482),n=r(10107),a=(r(44208),r(53966),r(87811),r(36005)),u=r(40608);const h=new o.J({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let p=0,d=class extends l.o{constructor(e){super(e),this.id="sym"+p++,this.type=null,this.color=new s.A([0,0,0,1])}readColor(e){return null!=e?.[0]?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};(0,i.Cg)([(0,n.MZ)({type:h.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:h.write,isRequired:!0}}})],d.prototype,"type",void 0),(0,i.Cg)([(0,n.MZ)({type:s.A,json:{write:{allowNull:!0}}})],d.prototype,"color",void 0),(0,i.Cg)([(0,a.w)("color")],d.prototype,"readColor",null),d=(0,i.Cg)([(0,u.$)("esri.symbols.Symbol")],d)},31593:(e,t,r)=>{r.d(t,{A:()=>b});var i=r(31635),s=r(66552),o=r(4718),l=r(90629),n=r(10107),a=(r(44208),r(53966),r(93223)),u=r(40608),h=(r(87811),r(20378));let p=class extends h.A{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};(0,i.Cg)([(0,a.e)({esriSLS:"simple-line"},{readOnly:!0})],p.prototype,"type",void 0),(0,i.Cg)([(0,n.MZ)({type:Number,cast:l.cr,json:{write:!0}})],p.prototype,"width",void 0),p=(0,i.Cg)([(0,u.$)("esri.symbols.LineSymbol")],p);var d,c=r(68197),y=r(25482),g=r(36005),m=r(43937),f=r(83213);let S=d=class extends y.o{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,i){t[r]="web-map"===i?.origin?"arrow":e}set color(e){this._set("color",e)}readColor(e){return null!=e?.[0]?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,i){"web-map"===i?.origin||(t[r]=e)}clone(){return new d({color:(0,o.o8)(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};(0,i.Cg)([(0,n.MZ)({type:["begin","end","begin-end"],json:{write:!0}})],S.prototype,"placement",void 0),(0,i.Cg)([(0,a.e)({"line-marker":"line-marker"},{readOnly:!0}),(0,n.MZ)({json:{origins:{"web-map":{write:!1}}}})],S.prototype,"type",void 0),(0,i.Cg)([(0,n.MZ)({type:f.z})],S.prototype,"style",void 0),(0,i.Cg)([(0,m.K)("style")],S.prototype,"writeStyle",null),(0,i.Cg)([(0,n.MZ)({type:c.A,value:null,json:{write:{allowNull:!0}}})],S.prototype,"color",null),(0,i.Cg)([(0,g.w)("color")],S.prototype,"readColor",null),(0,i.Cg)([(0,m.K)("color")],S.prototype,"writeColor",null),S=d=(0,i.Cg)([(0,u.$)("esri.symbols.LineSymbolMarker")],S);const w=S;var C;const v=new s.J({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let b=C=class extends p{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,i,s,o){if(e&&"string"!=typeof e)return e;const n={};return null!=e&&(n.style=e),null!=t&&(n.color=t),null!=r&&(n.width=(0,l.cr)(r)),null!=i&&(n.cap=i),null!=s&&(n.join=s),null!=o&&(n.miterLimit=(0,l.cr)(o)),n}clone(){return new C({color:(0,o.o8)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};(0,i.Cg)([(0,a.e)({esriSLS:"simple-line"},{readOnly:!0})],b.prototype,"type",void 0),(0,i.Cg)([(0,n.MZ)({type:v.apiValues,json:{read:v.read,write:v.write}})],b.prototype,"style",void 0),(0,i.Cg)([(0,n.MZ)({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:"round"!==e&&null==r?.origin})}}})],b.prototype,"cap",void 0),(0,i.Cg)([(0,n.MZ)({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:"round"!==e&&null==r?.origin})}}})],b.prototype,"join",void 0),(0,i.Cg)([(0,n.MZ)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":w}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],b.prototype,"marker",void 0),(0,i.Cg)([(0,n.MZ)({type:Number,json:{read:!1,write:!1}})],b.prototype,"miterLimit",void 0),b=C=(0,i.Cg)([(0,u.$)("esri.symbols.SimpleLineSymbol")],b)},53930:(e,t,r)=>{r.d(t,{A:()=>m});var i,s=r(31635),o=r(68197),l=r(66552),n=r(4718),a=r(90629),u=r(10107),h=(r(44208),r(53966),r(93223)),p=r(40608),d=r(43937),c=r(89420),y=r(31593);const g=new l.J({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let m=i=class extends c.A{constructor(...e){super(...e),this.color=new o.A([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new y.A}normalizeCtorArgs(e,t,r,i){if(e&&"string"!=typeof e)return e;const s={};return e&&(s.style=e),null!=t&&(s.size=(0,a.cr)(t)),r&&(s.outline=r),i&&(s.color=i),s}writeColor(e,t){e&&"x"!==this.style&&"cross"!==this.style&&(t.color=e.toJSON()),null===e&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new i({angle:this.angle,color:(0,n.o8)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};(0,s.Cg)([(0,u.MZ)()],m.prototype,"color",void 0),(0,s.Cg)([(0,d.K)("color")],m.prototype,"writeColor",null),(0,s.Cg)([(0,h.e)({esriSMS:"simple-marker"},{readOnly:!0})],m.prototype,"type",void 0),(0,s.Cg)([(0,u.MZ)()],m.prototype,"size",void 0),(0,s.Cg)([(0,u.MZ)({type:g.apiValues,json:{read:g.read,write:g.write}})],m.prototype,"style",void 0),(0,s.Cg)([(0,u.MZ)({type:String,json:{write:!0}})],m.prototype,"path",null),(0,s.Cg)([(0,u.MZ)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":y.A}},json:{default:null,write:!0}})],m.prototype,"outline",void 0),m=i=(0,s.Cg)([(0,p.$)("esri.symbols.SimpleMarkerSymbol")],m)},58592:(e,t,r)=>{r.d(t,{A:()=>c});var i,s=r(31635),o=r(4718),l=r(90629),n=r(10107),a=(r(44208),r(53966),r(93223)),u=r(36005),h=r(40608),p=r(89420),d=r(77040);let c=i=class extends p.A{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&"string"!=typeof e&&null==e.imageData)return e;const i={};return e&&(i.url=e),null!=t&&(i.width=(0,l.cr)(t)),null!=r&&(i.height=(0,l.cr)(r)),i}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new i({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",(0,o.o8)(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};(0,s.Cg)([(0,n.MZ)({json:{write:!1}})],c.prototype,"color",void 0),(0,s.Cg)([(0,a.e)({esriPMS:"picture-marker"},{readOnly:!0})],c.prototype,"type",void 0),(0,s.Cg)([(0,n.MZ)(d.ku)],c.prototype,"url",void 0),(0,s.Cg)([(0,n.MZ)(d.k7)],c.prototype,"source",void 0),(0,s.Cg)([(0,n.MZ)({type:Number,cast:l.cr,json:{write:!0}})],c.prototype,"height",void 0),(0,s.Cg)([(0,u.w)("height",["height","size"])],c.prototype,"readHeight",null),(0,s.Cg)([(0,n.MZ)({type:Number,cast:l.cr,json:{write:!0}})],c.prototype,"width",void 0),(0,s.Cg)([(0,n.MZ)({json:{write:!1}})],c.prototype,"size",void 0),c=i=(0,s.Cg)([(0,h.$)("esri.symbols.PictureMarkerSymbol")],c)},63201:(e,t,r)=>{r.r(t),r.d(t,{default:()=>k});var i=r(31635),s=r(92602),o=r(78888),l=r(92071),n=r(74887),a=r(84952),u=r(10107),h=(r(44208),r(53966),r(87811),r(36005)),p=r(40608),d=r(5443),c=r(21325),y=r(4146),g=r(63074),m=r(16131),f=r(8303),S=r(54310),w=r(25036),C=r(10873),v=r(58592),b=r(94985),M=r(31593),A=r(53930),P=r(20378);const $=["atom","xml"],D={base:P.A,key:"type",typeMap:{"simple-line":M.A},errorContext:"symbol"},Z={base:P.A,key:"type",typeMap:{"picture-marker":v.A,"simple-marker":A.A},errorContext:"symbol"},T={base:P.A,key:"type",typeMap:{"simple-fill":b.A},errorContext:"symbol"};let j=class extends((0,g.dM)((0,S.J)((0,m.q)((0,f.A)((0,w.j)((0,l.P)(y.A))))))){constructor(...e){super(...e),this.description=null,this.fullExtent=null,this.legendEnabled=!0,this.lineSymbol=null,this.pointSymbol=null,this.polygonSymbol=null,this.operationalLayerType="GeoRSS",this.url=null,this.type="geo-rss"}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}readFeatureCollections(e,t){return t.featureCollection.layers.forEach(e=>{const t=e.layerDefinition.drawingInfo.renderer.symbol;t&&"esriSFS"===t.type&&t.outline?.style.includes("esriSFS")&&(t.outline.style="esriSLSSolid")}),t.featureCollection.layers}get hasPoints(){return this._hasGeometry("esriGeometryPoint")}get hasPolylines(){return this._hasGeometry("esriGeometryPolyline")}get hasPolygons(){return this._hasGeometry("esriGeometryPolygon")}get title(){const e=this._get("title");return e&&"defaults"!==this.originOf("title")?e:this.url?(0,a.e7)(this.url,$)||"GeoRSS":e}set title(e){this._set("title",e)}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service","Feature Service","Feature Collection","Scene Service"]},e).catch(n.QP).then(()=>this._fetchService(t)).then(e=>{this.read(e,{origin:"service"})})),Promise.resolve(this)}async hasDataChanged(){const e=await this._fetchService();return this.read(e,{origin:"service",ignoreDefaults:!0}),!0}async _fetchService(e){const t=this.spatialReference,{data:r}=await(0,o.A)(s.A.geoRSSServiceUrl,{query:{url:this.url,refresh:!!this.loaded||void 0,outSR:(0,c.oT)(t)?void 0:t.wkid??JSON.stringify(t)},signal:e});return r}_hasGeometry(e){return this.featureCollections?.some(t=>t.featureSet?.geometryType===e&&t.featureSet.features?.length>0)??!1}};(0,i.Cg)([(0,u.MZ)()],j.prototype,"description",void 0),(0,i.Cg)([(0,u.MZ)()],j.prototype,"featureCollections",void 0),(0,i.Cg)([(0,h.w)("service","featureCollections",["featureCollection.layers"])],j.prototype,"readFeatureCollections",null),(0,i.Cg)([(0,u.MZ)({type:d.A,json:{name:"lookAtExtent"}})],j.prototype,"fullExtent",void 0),(0,i.Cg)([(0,u.MZ)(C.id)],j.prototype,"id",void 0),(0,i.Cg)([(0,u.MZ)(C.fV)],j.prototype,"legendEnabled",void 0),(0,i.Cg)([(0,u.MZ)({types:D,json:{write:!0}})],j.prototype,"lineSymbol",void 0),(0,i.Cg)([(0,u.MZ)({type:["show","hide"]})],j.prototype,"listMode",void 0),(0,i.Cg)([(0,u.MZ)({types:Z,json:{write:!0}})],j.prototype,"pointSymbol",void 0),(0,i.Cg)([(0,u.MZ)({types:T,json:{write:!0}})],j.prototype,"polygonSymbol",void 0),(0,i.Cg)([(0,u.MZ)({type:["GeoRSS"]})],j.prototype,"operationalLayerType",void 0),(0,i.Cg)([(0,u.MZ)(C.OZ)],j.prototype,"url",void 0),(0,i.Cg)([(0,u.MZ)({json:{origins:{service:{read:{source:"name",reader:e=>e||void 0}}}}})],j.prototype,"title",null),(0,i.Cg)([(0,u.MZ)({readOnly:!0,json:{read:!1},value:"geo-rss"})],j.prototype,"type",void 0),j=(0,i.Cg)([(0,p.$)("esri.layers.GeoRSSLayer")],j);const k=j},64272:(e,t,r)=>{r.d(t,{T:()=>d});var i,s=r(31635),o=r(25482),l=r(88930),n=r(10107),a=(r(44208),r(53966),r(87811),r(36005)),u=r(40608),h=r(43937),p=r(98623);let d=class extends o.o{static{i=this}static get allTime(){return c}static get empty(){return y}static fromArray(e){return new i({start:null!=e[0]?new Date(e[0]):e[0],end:null!=e[1]?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?.getTime()??null}get isAllTime(){return this.equals(i.allTime)}get isEmpty(){return this.equals(i.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?.getTime()??null}clone(){return new i({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=this.start?.getTime()??this.start,r=this.end?.getTime()??this.end,i=e.start?.getTime()??e.start,s=e.end?.getTime()??e.end;return t===i&&r===s}expandTo(e,t=p.qU){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=(0,l.lL)(r,e,t));let s=this.end;if(s){const r=(0,l.lL)(s,e,t);s=s.getTime()===r.getTime()?r:(0,l.S1)(r,1,e,t)}return new i({start:r,end:s})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return i.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=this.start?.getTime()??-1/0,r=this.end?.getTime()??1/0,s=e.start?.getTime()??-1/0,o=e.end?.getTime()??1/0;let l,n;return s>=t&&s<=r?l=s:t>=s&&t<=o&&(l=t),r>=s&&r<=o?n=r:o>=t&&o<=r&&(n=o),null==l||null==n||isNaN(l)||isNaN(n)?i.empty:new i({start:l===-1/0?null:new Date(l),end:n===1/0?null:new Date(n)})}offset(e,t,r=p.qU){if(this.isEmpty||this.isAllTime)return this.clone();const s=new i,{start:o,end:n}=this;return null!=o&&(s.start=(0,l.S1)(o,e,t,r)),null!=n&&(s.end=(0,l.S1)(n,e,t,r)),s}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return c.clone();const t=null!=this.start&&null!=e.start?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=null!=this.end&&null!=e.end?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new i({start:t,end:r})}};(0,s.Cg)([(0,n.MZ)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"end",void 0),(0,s.Cg)([(0,a.w)("end")],d.prototype,"readEnd",null),(0,s.Cg)([(0,h.K)("end")],d.prototype,"writeEnd",null),(0,s.Cg)([(0,n.MZ)({readOnly:!0,json:{read:!1}})],d.prototype,"isAllTime",null),(0,s.Cg)([(0,n.MZ)({readOnly:!0,json:{read:!1}})],d.prototype,"isEmpty",null),(0,s.Cg)([(0,n.MZ)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"start",void 0),(0,s.Cg)([(0,a.w)("start")],d.prototype,"readStart",null),(0,s.Cg)([(0,h.K)("start")],d.prototype,"writeStart",null),d=i=(0,s.Cg)([(0,u.$)("esri.time.TimeExtent")],d);const c=new d,y=new d({start:void 0,end:void 0})},65851:(e,t,r)=>{r.d(t,{A:()=>a});var i=r(31635),s=r(10107),o=(r(44208),r(53966),r(87811),r(40608)),l=r(31593),n=r(20378);let a=class extends n.A{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};(0,i.Cg)([(0,s.MZ)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":l.A}},json:{default:null,write:!0}})],a.prototype,"outline",void 0),(0,i.Cg)([(0,s.MZ)({type:["simple-fill","picture-fill"],readOnly:!0})],a.prototype,"type",void 0),a=(0,i.Cg)([(0,o.$)("esri.symbols.FillSymbol")],a)},68197:(e,t,r)=>{r.d(t,{A:()=>a});var i=r(40876),s=r(34727),o=r(56507);function l(e){return(0,s.qE)((0,o.Vr)(e),0,255)}function n(e,t){const r=e.toString(16).padStart(2,"0");return t?r.slice(0,1):r}class a{static blendColors(e,t,r,i=new a){return i.r=Math.round(e.r+(t.r-e.r)*r),i.g=Math.round(e.g+(t.g-e.g)*r),i.b=Math.round(e.b+(t.b-e.b)*r),i.a=e.a+(t.a-e.a)*r,i._sanitize()}static fromRgb(e,t){const r=(0,i.lT)(e);return r?a.fromArray(r,t):null}static fromHex(e,t=new a){const r=(0,i.oW)(e);return r?a.fromArray(r,t):null}static fromArray(e,t=new a){return t._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(t.a)&&(t.a=1),t._sanitize()}static fromString(e,t){const r=(0,i.Eq)(e);return r?a.fromArray(r,t):null}static fromJSON(e){return null!=e?new a([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return null!=e?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return null!=e?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return"string"==typeof e?a.fromString(e,this):Array.isArray(e)?a.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof a||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const t=e?.capitalize??!1,r=e?.digits??6,i=3===r||4===r,s=4===r||8===r,o=`#${n(this.r,i)}${n(this.g,i)}${n(this.b,i)}${s?n(Math.round(255*this.a),i):""}`;return t?o.toUpperCase():o}toCss(e=!1){const t=this.r+", "+this.g+", "+this.b;return e?`rgba(${t}, ${this.a})`:`rgb(${t})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=0){const t=l(this.r),r=l(this.g),i=l(this.b);return 0===e||1!==this.a?[t,r,i,l(255*this.a)]:[t,r,i]}clone(){return new a(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return null!=e&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=(0,i.c1)(this.r),this.g=(0,i.c1)(this.g),this.b=(0,i.c1)(this.b),this.a=(0,i.G1)(this.a),this}_set(e,t,r,i){this.r=e,this.g=t,this.b=r,this.a=i}}a.prototype.declaredClass="esri.Color"},69540:(e,t,r)=>{r.d(t,{O:()=>u,P:()=>h});var i=r(31635),s=r(65008),o=(r(44208),r(4718)),l=(r(53966),r(97768)),n=r(88620),a=r(40608);const u=e=>{const t=e;let r=class extends t{clone(e){const t=(0,n.oY)(this);(0,l.Lw)(t,"unable to clone instance of non-accessor class");const r=t.metadata,i=t.store,s={},a=new Map;for(const t in r){const l=r[t],n=i?.originOf(t),u=l.clonable;if(l.readOnly||!1===u||7!==n&&0!==n&&5!==n&&4!==n)continue;const h=this[t];let p=null;if("function"==typeof u)p=u(h,e);else if("reference"===u)p=h;else if(p=(0,o.TU)(h,e),null!=h&&null==p)continue;0===n?a.set(t,p):s[t]=p}const u=new(0,Object.getPrototypeOf(this).constructor)(s);if(a.size){const e=(0,n.oY)(u)?.store;if(e)for(const[t,r]of a)e.set(t,r,0)}return u}};return r=(0,i.Cg)([(0,a.$)("esri.core.Clonable")],r),r},h=u(s.A)},77040:(e,t,r)=>{r.d(t,{k7:()=>n,ku:()=>l});var i=r(84952),s=r(97159);function o(e,t){if(!(0,i.oP)(e)){const r=function(e){if(!e)return null;const{origin:t,layer:r}=e;if("service"!==t&&"portal-item"!==t)return null;const i=r?.type;return"feature"===i||"stream"===i?r.parsedUrl?.path:"map-image"===i||"tile"===i?e.url?.path:null}(t);if(r)return(0,i.fj)(r,"images",e)}return(0,s.f)(e,t)}const l={json:{read:{source:["imageData","url"],reader:function(e,t,r){return t.imageData?(0,i.Hg)({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):o(t.url,r)}},write:{writer(e,t,r,o){!function(e,t,r,o){if((0,i.DB)(e)){const l=(0,i.r$)(e);if(!l)return;t.contentType=l.mediaType,t.imageData=l.data,r&&r.imageData===t.imageData&&r.url&&(0,s.w)(r.url,t,"url",o)}else(0,s.w)(e,t,"url",o)}(e,t,this.source,o)}}}},n={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const i={};return t.imageData&&(i.imageData=t.imageData),t.contentType&&(i.contentType=t.contentType),t.url&&(i.url=o(t.url,r)),i}}}}},78553:(e,t,r)=>{r.d(t,{D:()=>o,p:()=>s});var i=r(56507);function s(e){const t=(0,i.Vr)(100*(1-e));return Math.max(0,Math.min(t,100))}function o(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}},83213:(e,t,r)=>{r.d(t,{x:()=>i,z:()=>s});const i=["begin","end","begin-end"],s=["arrow","circle","square","diamond","cross","x"]},89420:(e,t,r)=>{r.d(t,{A:()=>u});var i=r(31635),s=r(90629),o=r(10107),l=r(56507),n=(r(44208),r(87811),r(40608)),a=r(20378);let u=class extends a.A{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};(0,i.Cg)([(0,o.MZ)({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],u.prototype,"angle",void 0),(0,i.Cg)([(0,o.MZ)({type:["simple-marker","picture-marker"],readOnly:!0})],u.prototype,"type",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,cast:s.cr,json:{write:!0}})],u.prototype,"xoffset",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,cast:s.cr,json:{write:!0}})],u.prototype,"yoffset",void 0),(0,i.Cg)([(0,o.MZ)({cast:e=>"auto"===e?e:(0,l.GB)((0,s.cr)(e)),json:{write:!0}})],u.prototype,"size",void 0),u=(0,i.Cg)([(0,n.$)("esri.symbols.MarkerSymbol")],u)},94985:(e,t,r)=>{r.d(t,{A:()=>y});var i,s=r(31635),o=r(68197),l=r(66552),n=r(4718),a=r(10107),u=(r(44208),r(53966),r(93223)),h=r(40608),p=r(65851),d=r(31593);const c=new l.J({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let y=i=class extends p.A{constructor(...e){super(...e),this.color=new o.A([0,0,0,.25]),this.outline=new d.A,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&"string"!=typeof e)return e;const i={};return e&&(i.style=e),t&&(i.outline=t),r&&(i.color=r),i}clone(){return new i({color:(0,n.o8)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};(0,s.Cg)([(0,a.MZ)()],y.prototype,"color",void 0),(0,s.Cg)([(0,a.MZ)()],y.prototype,"outline",void 0),(0,s.Cg)([(0,u.e)({esriSFS:"simple-fill"},{readOnly:!0})],y.prototype,"type",void 0),(0,s.Cg)([(0,a.MZ)({type:c.apiValues,json:{read:c.read,write:c.write}})],y.prototype,"style",void 0),y=i=(0,s.Cg)([(0,h.$)("esri.symbols.SimpleFillSymbol")],y)}}]);