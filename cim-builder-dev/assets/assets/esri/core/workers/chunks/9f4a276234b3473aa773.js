"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[2319,4889],{84552:(e,t,r)=>{r.d(t,{Z:()=>c});var n,o=r(43697),i=r(10736),s=r(35463),l=r(5600),a=(r(80442),r(75215),r(92604),r(52525)),u=r(78981);let p=n=class extends i.wq{constructor(e){super(e),this.value=0,this.unit="milliseconds"}toMilliseconds(){return(0,s.rJ)(this.value,this.unit,"milliseconds")}clone(){return new n({value:this.value,unit:this.unit})}};(0,o._)([(0,l.Cb)({type:Number,json:{write:!0},nonNullable:!0})],p.prototype,"value",void 0),(0,o._)([(0,l.Cb)({type:u.v.apiValues,json:{type:u.v.jsonValues,read:u.v.read,write:u.v.write},nonNullable:!0})],p.prototype,"unit",void 0),p=n=(0,o._)([(0,a.j)("esri.TimeInterval")],p);var c=p},66577:(e,t,r)=>{r.d(t,{qM:()=>p});var n=r(75215),o=r(6570),i=r(9361),s=r(65091),l=r(13473),a=r(17332),u=r(58901);r(82971),r(86973),r(33955);const p={base:i.Z,key:"type",typeMap:{extent:o.Z,multipoint:s.Z,point:l.Z,polyline:u.Z,polygon:a.Z}};(0,n.N7)(p)},33955:(e,t,r)=>{r.d(t,{im:()=>h,q9:()=>v,Ji:()=>m,YX:()=>p,aW:()=>c,wp:()=>d,oU:()=>f,l9:()=>y});var n=r(70586),o=r(6570),i=r(9361),s=r(65091),l=r(13473),a=r(17332),u=r(58901);function p(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function c(e){return void 0!==e.points}function d(e){return void 0!==e.x&&void 0!==e.y}function y(e){return void 0!==e.paths}function f(e){return void 0!==e.rings}function h(e){return(0,n.Wi)(e)?null:e instanceof i.Z?e:d(e)?l.Z.fromJSON(e):y(e)?u.Z.fromJSON(e):f(e)?a.Z.fromJSON(e):c(e)?s.Z.fromJSON(e):p(e)?o.Z.fromJSON(e):null}function m(e){return e?d(e)?"esriGeometryPoint":y(e)?"esriGeometryPolyline":f(e)?"esriGeometryPolygon":p(e)?"esriGeometryEnvelope":c(e)?"esriGeometryMultipoint":null:null}const g={esriGeometryPoint:l.Z,esriGeometryPolyline:u.Z,esriGeometryPolygon:a.Z,esriGeometryEnvelope:o.Z,esriGeometryMultipoint:s.Z};function v(e){return e&&g[e]||null}},86973:(e,t,r)=>{r.d(t,{Mk:()=>o,P$:()=>i});var n=r(35454);const o=(0,n.wY)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),i=(0,n.wY)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},40330:(e,t,r)=>{r.d(t,{Dp:()=>u,id:()=>l,qh:()=>a,i8:()=>i,Nv:()=>s});var n=r(80442),o=r(17452);const i="4.21",s={request(e,t){var n;const o=null==(n=e.options)?void 0:n.responseType;return r.e(3172).then(r.bind(r,3172)).then((({default:r})=>{const n=e.options||{};return n.responseType="native"===o||"native-request-init"===o?"native-request-init":"array-buffer",n.signal=null==t?void 0:t.signal,r(e.url,n)})).then((e=>{const t={data:e.data,ssl:e.ssl};return"native-request-init"===e.requestOptions.responseType?(delete t.data.signal,t):{result:t,transferList:[t.data]}}))}};let l;function a(e){l=e}function u(e){const t=l&&l.findCredential(e);return t&&t.token?(0,o.ZN)(e,"token",t.token):e}(0,n.Z)("host-webworker")||((0,n.Z)("edge")||(0,n.Z)("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser")},88068:(e,t,r)=>{r.r(t),r.d(t,{default:()=>k});var n=r(43697),o=(r(66577),r(51773)),i=(r(16050),r(12501),r(95088),r(79056),r(5499),r(84382),r(30687),r(91423)),s=r(32400),l=r(16453),a=r(5600),u=(r(80442),r(75215),r(92604),r(52525)),p=r(30556),c=r(86973),d=r(29600),y=r(20102),f=r(83379),h=r(70586),m=r(16467),g=r(74889),v=r(82971);const b="http://www.opengis.net/def/crs/OGC/1.3/CRS84";let w=class extends f.Z{constructor(){super(...arguments),this.featureDefinition=null,this.type="ogc-feature"}load(e){return this.addResolvingPromise(this._loadOGCServices(this.layer,e)),this.when()}getFeatureDefinition(){const{featureDefinition:{collection:e,layerDefinition:t,spatialReference:r,supportedCrs:n},layer:{apiKey:o,capabilities:i,customParameters:s}}=this;return{capabilities:i,collection:e,layerDefinition:t,queryParameters:{apiKey:o,customParameters:s},spatialReference:r,supportedCrs:n}}queryExtent(e,t={}){return null}queryFeatureCount(e,t={}){return null}queryFeatures(e,t={}){return this.queryFeaturesJSON(e,t).then((e=>g.default.fromJSON(e)))}queryFeaturesJSON(e,t={}){const r=this.getFeatureDefinition();return this.load(t).then((()=>(0,m.yN)(r,e,t)))}queryObjectIds(e,t={}){return null}supportsSpatialReference(e){return!(!e.isWGS84&&!e.isWebMercator&&!this.featureDefinition.supportedCrs[e.wkid])}_conformsToType(e,t){var r;const n=new RegExp(`^${t}$`,"i");return null!=(r=e.conformsTo.some((e=>n.test(e))))&&r}_getCapabilities(e,t){var r,n,o,i,s,l,a;const u=(0,h.pC)(t)?null==(r=t.components)?void 0:r.parameters:null;return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1},query:{maxRecordCount:null!=(n=null!=(o=null==u||null==(i=u.limit)||null==(s=i.schema)?void 0:s.maximum)?o:null==u||null==(l=u.limitFeatures)||null==(a=l.schema)?void 0:a.maximum)?n:5e3,maxRecordCountFactor:void 0,standardMaxRecordCount:void 0,supportsCacheHint:!1,supportsCentroid:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsStatistics:!1,supportsSqlExpression:!1,tileMaxRecordCount:void 0},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUploadWithItemId:!1,supportsUpdateWithoutM:!1}}}_getExtent(e){var t;const r=null==(t=e.extent)?void 0:t.spatial;if(!r)return null;const n=r.bbox[0],o=4===n.length,i=n[0],s=n[1],l=o?void 0:n[2];return{xmin:i,ymin:s,xmax:o?n[2]:n[3],ymax:o?n[3]:n[4],zmin:l,zmax:o?void 0:n[5],spatialReference:v.Z.WGS84.toJSON()}}_getStorageSpatialReference(e){var t;const r=null!=(t=e.storageCrs)?t:b,n=(0,m.d)(r);return(0,h.Wi)(n)?v.Z.WGS84:new v.Z({wkid:n})}_getSupportedSpatialReferences(e,t){var r;const n="#/crs",o=null!=(r=e.crs)?r:[b],i=o.includes(n)?o.filter((e=>e!==n)).concat(t.crs):o,s=/^http:\/\/www\.opengis.net\/def\/crs\/epsg\/.*\/3785$/i;return i.filter((e=>!s.test(e)))}async _loadOGCServices(e,t){const r=(0,h.pC)(t)?t.signal:null,{apiKey:n,collectionId:o,customParameters:i,fields:s,geometryType:l,hasZ:a,objectIdField:u,timeInfo:p,url:d}=e,f={fields:null==s?void 0:s.map((e=>e.toJSON())),geometryType:c.P$.toJSON(l),hasZ:a,objectIdField:u,timeInfo:null==p?void 0:p.toJSON()},g={apiKey:n,customParameters:i,signal:r},v=await(0,m.gp)(d,g),[b,w]=await Promise.all([(0,m.G4)(v,g),(0,m.j)(v,g)]);if(!this._conformsToType(b,"http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/geojson"))throw new y.Z("ogc-feature-layer:no-geojson-support","Server does not support geojson");const _=w.collections.find((e=>e.id===o));if(!_)throw new y.Z("ogc-feature-layer:collection-not-found","Server does not contain the named collection");const F=this._conformsToType(b,"http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/oas30")?await(0,m.eS)(v,g):null,T=await(0,m.w9)(_,f,g),x=this._getCapabilities(T.hasZ,F),C=this._getExtent(_),S=this._getStorageSpatialReference(_).toJSON(),I=this._getSupportedSpatialReferences(_,w),Z={};for(const e of I){const t=(0,m.d)(e);(0,h.pC)(t)&&(Z[t]=e)}T.extent=C,this.featureDefinition={capabilities:x,collection:_,layerDefinition:T,queryParameters:{},spatialReference:S,supportedCrs:Z}}};(0,n._)([(0,a.Cb)()],w.prototype,"featureDefinition",void 0),(0,n._)([(0,a.Cb)({constructOnly:!0})],w.prototype,"layer",void 0),(0,n._)([(0,a.Cb)()],w.prototype,"type",void 0),w=(0,n._)([(0,u.j)("esri.layers.graphics.sources.OGCFeatureSource")],w);var _=w,F=r(54295),T=r(78096),x=r(17017),C=r(38009),S=r(68825),I=r(16859),Z=r(34760),O=r(72965),N=r(28294),j=r(21506),R=r(55785),E=r(16451),D=r(1231),G=r(53518),P=r(35671),M=r(54306),q=r(30707),A=r(57444),U=r(32163),L=r(6570);const V=(0,G.v)();let z=class extends((0,F.V)((0,x.N)((0,T.h)((0,S.c)((0,N.n)((0,O.M)((0,C.q)((0,I.I)((0,Z.Q)((0,l.R)(d.Z))))))))))){constructor(e){super(e),this.collectionId=null,this.copyright=null,this.definitionExpression=null,this.description=null,this.displayField=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.hasZ=void 0,this.labelingInfo=null,this.labelsVisible=!0,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="OGCFeatureLayer",this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new _({layer:this}),this.spatialReference=null,this.title=null,this.type="ogc-feature",this.typeIdField=null,this.types=null,this.url=null}destroy(){var e;null==(e=this.source)||e.destroy()}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["OGCFeatureServer"]},e).then((()=>this._fetchService(e)))),this.when()}get defaultPopupTemplate(){return this.createPopupTemplate()}writeWebSceneFeatureReduction(e,t,r,n){(0,R.Q6)(e,t,"layerDefinition.featureReduction",n)}get isTable(){return this.loaded&&null==this.geometryType}set renderer(e){(0,P.YN)(e,this.fieldsIndex),this._set("renderer",e)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return(0,U.eZ)(this,e)}createQuery(){return new A.Z}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,t){var r;let n,o=!1;const i=null==t||null==(r=t.feature)?void 0:r.attributes,s=this.typeIdField&&(null==i?void 0:i[this.typeIdField]);return null!=s&&this.types&&(o=this.types.some((t=>{var r,o;return t.id==s&&(n=null==(r=t.domains)?void 0:r[e],"inherited"===(null==(o=n)?void 0:o.type)&&(n=this._getLayerDomain(e)),!0)}))),o||n||(n=this._getLayerDomain(e)),n}queryFeatures(e,t){return this.load().then((()=>this.source.queryFeatures(A.Z.from(e)||this.createQuery(),t))).then((e=>{var t;return null==e||null==(t=e.features)||t.forEach((e=>{e.layer=e.sourceLayer=this})),e}))}async _fetchService(e){await this.source.load(e),this.read(this.source.featureDefinition,{origin:"service"}),(0,P.YN)(this.renderer,this.fieldsIndex),(0,P.UF)(this.timeInfo,this.fieldsIndex)}_getLayerDomain(e){if(!this.fields)return null;for(const t of this.fields)if(t.name===e&&t.domain)return t.domain;return null}};(0,n._)([(0,a.Cb)({readOnly:!0,json:{origins:{service:{read:!0}}}})],z.prototype,"capabilities",void 0),(0,n._)([(0,a.Cb)({type:String,json:{write:!0}})],z.prototype,"collectionId",void 0),(0,n._)([(0,a.Cb)({type:String})],z.prototype,"copyright",void 0),(0,n._)([(0,a.Cb)({readOnly:!0})],z.prototype,"defaultPopupTemplate",null),(0,n._)([(0,a.Cb)({type:String})],z.prototype,"definitionExpression",void 0),(0,n._)([(0,a.Cb)({readOnly:!0,type:String,json:{origins:{service:{name:"collection.description"}}}})],z.prototype,"description",void 0),(0,n._)([(0,a.Cb)({type:String})],z.prototype,"displayField",void 0),(0,n._)([(0,a.Cb)(j.PV)],z.prototype,"elevationInfo",void 0),(0,n._)([(0,a.Cb)(R.dm)],z.prototype,"featureReduction",void 0),(0,n._)([(0,p.c)("web-scene","featureReduction",{"layerDefinition.featureReduction":{types:R.Gx}})],z.prototype,"writeWebSceneFeatureReduction",null),(0,n._)([(0,a.Cb)({type:[D.Z],json:{origins:{service:{name:"layerDefinition.fields"}}}})],z.prototype,"fields",void 0),(0,n._)([(0,a.Cb)(V.fieldsIndex)],z.prototype,"fieldsIndex",void 0),(0,n._)([(0,a.Cb)({readOnly:!0,type:L.Z,json:{origins:{service:{name:"layerDefinition.extent"}}}})],z.prototype,"fullExtent",void 0),(0,n._)([(0,a.Cb)({type:c.Mk.apiValues,json:{origins:{service:{name:"layerDefinition.geometryType",read:{reader:c.Mk.read}}}}})],z.prototype,"geometryType",void 0),(0,n._)([(0,a.Cb)({type:Boolean,json:{origins:{service:{name:"layerDefinition.hasZ"}}}})],z.prototype,"hasZ",void 0),(0,n._)([(0,a.Cb)({type:Boolean,readOnly:!0})],z.prototype,"isTable",null),(0,n._)([(0,a.Cb)({type:[M.Z],json:{origins:{"web-document":{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:q.r},write:!0}}}})],z.prototype,"labelingInfo",void 0),(0,n._)([(0,a.Cb)(j.iR)],z.prototype,"labelsVisible",void 0),(0,n._)([(0,a.Cb)(j.rn)],z.prototype,"legendEnabled",void 0),(0,n._)([(0,a.Cb)({type:String,json:{origins:{service:{name:"layerDefinition.objectIdField"}}}})],z.prototype,"objectIdField",void 0),(0,n._)([(0,a.Cb)({type:["OGCFeatureLayer"]})],z.prototype,"operationalLayerType",void 0),(0,n._)([(0,a.Cb)(j.C_)],z.prototype,"popupEnabled",void 0),(0,n._)([(0,a.Cb)({type:o.Z,json:{name:"popupInfo",write:!0}})],z.prototype,"popupTemplate",void 0),(0,n._)([(0,a.Cb)({types:s.A,json:{origins:{service:{name:"layerDefinition.drawingInfo.renderer",write:!1},"web-scene":{types:s.o,name:"layerDefinition.drawingInfo.renderer",write:{writer:i.cW}}},name:"layerDefinition.drawingInfo.renderer",write:!0}})],z.prototype,"renderer",null),(0,n._)([(0,a.Cb)({type:Boolean})],z.prototype,"screenSizePerspectiveEnabled",void 0),(0,n._)([(0,a.Cb)({readOnly:!0})],z.prototype,"source",void 0),(0,n._)([(0,a.Cb)({readOnly:!0,type:v.Z,json:{origins:{service:{read:!0}}}})],z.prototype,"spatialReference",void 0),(0,n._)([(0,a.Cb)({type:String,json:{write:{enabled:!0,ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"collection.title"}}}})],z.prototype,"title",void 0),(0,n._)([(0,a.Cb)({readOnly:!0,json:{read:!1}})],z.prototype,"type",void 0),(0,n._)([(0,a.Cb)({type:String,readOnly:!0})],z.prototype,"typeIdField",void 0),(0,n._)([(0,a.Cb)({type:[E.Z]})],z.prototype,"types",void 0),(0,n._)([(0,a.Cb)(j.HQ)],z.prototype,"url",void 0),z=(0,n._)([(0,u.j)("esri.layers.OGCFeatureLayer")],z);var k=z},70272:(e,t,r)=>{r.d(t,{nd:()=>s,ZP:()=>o,S6:()=>i});var n=r(70586);class o{constructor(e=null,t={},r,n){this.geometry=e,this.attributes=t,this.centroid=r,this.objectId=n,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const e=new o(this.geometry,this.attributes,this.centroid,this.objectId);return e.displayId=this.displayId,e.geohashX=this.geohashX,e.geohashY=this.geohashY,e}}function i(e){return!((0,n.Wi)(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)}class s extends o{}},44876:(e,t,r)=>{r.d(t,{Z:()=>n});class n{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const e=new n;return e.objectIdFieldName=this.objectIdFieldName,e.globalIdFieldName=this.globalIdFieldName,e.geohashFieldName=this.geohashFieldName,e.geometryProperties=this.geometryProperties,e.geometryType=this.geometryType,e.spatialReference=this.spatialReference,e.hasZ=this.hasZ,e.hasM=this.hasM,e.features=this.features,e.fields=this.fields,e.transform=this.transform,e.exceededTransferLimit=this.exceededTransferLimit,e.uniqueIdField=this.uniqueIdField,e.queryGeometry=this.queryGeometry,e.queryGeometryType=this.queryGeometryType,e}}},5428:(e,t,r)=>{r.d(t,{Z:()=>n});class n{constructor(e=[],t=[],r=!1){this.lengths=null!=e?e:[],this.coords=null!=t?t:[],this.hasIndeterminateRingOrder=r}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((e,t)=>e+t))}forEachVertex(e){let t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(let r=0;r<this.lengths.length;r++){const n=this.lengths[r];for(let r=0;r<n;r++)e(this.coords[2*(r+t)],this.coords[2*(r+t)+1]);t+=n}}clone(e){return e?(e.set(this.coords),new n(this.lengths.slice(),e,this.hasIndeterminateRingOrder)):new n(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}},61159:(e,t,r)=>{r.d(t,{g:()=>n});const n={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}},98732:(e,t,r)=>{r.d(t,{XA:()=>U,h_:()=>B,Yn:()=>L,GH:()=>z,Uy:()=>M,EI:()=>V,cn:()=>$,di:()=>k,Iv:()=>R,fQ:()=>F,eG:()=>P,J6:()=>D,oB:()=>ie,zj:()=>K,$:()=>ee,lz:()=>oe,RZ:()=>W,Nh:()=>Y,Jd:()=>v,IN:()=>b,hY:()=>re,lM:()=>Q,$g:()=>te});var n=r(20102),o=r(92604),i=r(70586),s=r(33955),l=r(70272),a=r(44876),u=r(5428);function p(e,t){return e?t?4:3:t?3:2}const c=o.Z.getLogger("esri.tasks.support.optimizedFeatureSet"),d={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},y=(e,t,r,n,o,i)=>{e[r]=o,e[r+1]=i},f=(e,t,r,n,o,i)=>{e[r]=o,e[r+1]=i,e[r+2]=t[n+2]},h=(e,t,r,n,o,i)=>{e[r]=o,e[r+1]=i,e[r+2]=t[n+3]},m=(e,t,r,n,o,i)=>{e[r]=o,e[r+1]=i,e[r+2]=t[n+2],e[r+3]=t[n+3]};function g(e,t,r,n){if(e){if(r)return t&&n?m:f;if(t&&n)return h}else if(t&&n)return f;return y}function v({scale:e,translate:t},r){return Math.round((r-t[0])/e[0])}function b({scale:e,translate:t},r){return Math.round((t[1]-r)/e[1])}function w({scale:e,translate:t},r){return r*e[0]+t[0]}function _({scale:e,translate:t},r){return t[1]-r*e[1]}function F(e,t,r){return e?t?r?O(e):C(e):r?I(e):T(e):null}function T(e){const t=e.coords;return{x:t[0],y:t[1]}}function x(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function C(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function S(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function I(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function Z(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function O(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function N(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function j(e,t){return e&&t?N:e?S:t?Z:x}function R(e,t,r){if((0,i.Wi)(e))return null;const n=p(t,r),o=[];for(let t=0;t<e.coords.length;t+=n){const r=[];for(let o=0;o<n;o++)r.push(e.coords[t+o]);o.push(r)}return t?r?{points:o,hasZ:t,hasM:r}:{points:o,hasZ:t}:r?{points:o,hasM:r}:{points:o}}function E(e,t,r=p(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const n=e.coords;let o=0;for(const e of t.points)for(let t=0;t<r;t++)n[o++]=e[t];return e}function D(e,t,r){if(!e)return null;const n=p(t,r),{coords:o,lengths:i}=e,s=[];let l=0;for(const e of i){const t=[];for(let r=0;r<e;r++){const e=[];for(let t=0;t<n;t++)e.push(o[l++]);t.push(e)}s.push(t)}return t?r?{paths:s,hasZ:t,hasM:r}:{paths:s,hasZ:t}:r?{paths:s,hasM:r}:{paths:s}}function G(e,t,r=p(t.hasZ,t.hasM)){const{lengths:n,coords:o}=e;let i=0;for(const e of t.paths){for(const t of e)for(let e=0;e<r;e++)o[i++]=t[e];n.push(e.length)}return e}function P(e,t,r){if(!e)return null;const n=p(t,r),{coords:o,lengths:i}=e,s=[];let l=0;for(const e of i){const t=[];for(let r=0;r<e;r++){const e=[];for(let t=0;t<n;t++)e.push(o[l++]);t.push(e)}s.push(t)}return t?r?{rings:s,hasZ:t,hasM:r}:{rings:s,hasZ:t}:r?{rings:s,hasM:r}:{rings:s}}function M(e,t,r=t.hasZ,n=t.hasM){return function(e,t,r,n){const o=p(r,n),{lengths:i,coords:s}=e;let l=0;i.length=s.length=0;for(const e of t){for(const t of e)for(let e=0;e<o;e++)s[l++]=t[e];i.push(e.length)}}(e,t.rings,r,n),e}const q=[],A=[];function U(e,t,r,n,o){q[0]=e;const[i]=L(A,q,t,r,n,o);return q.length=A.length=0,i}function L(e,t,r,o,s,a){if(e.length=0,!r){for(const r of t){const t=r.attributes[a];e.push(new l.ZP(null,r.attributes,null,t))}return e}switch(r){case"esriGeometryPoint":return function(e,t,r,n,o){const i=j(r,n);for(const r of t){const{geometry:t,attributes:n}=r;let s;t&&(s=i(new u.Z,t)),e.push(new l.ZP(s,n,null,n[o]))}return e}(e,t,o,s,a);case"esriGeometryMultipoint":return function(e,t,r,n,o){const i=p(r,n);for(const r of t){const t=r.geometry,n=r.attributes;let s;t&&(s=E(new u.Z,t,i)),e.push(new l.ZP(s,n,null,n[o]))}return e}(e,t,o,s,a);case"esriGeometryPolyline":return function(e,t,r,n,o){const i=p(r,n);for(const r of t){const t=r.geometry,n=r.attributes;let s;t&&(s=G(new u.Z,t,i)),e.push(new l.ZP(s,n,null,n[o]))}return e}(e,t,o,s,a);case"esriGeometryPolygon":return function(e,t,r,n,o){for(const s of t){const t=s.geometry,a=s.centroid,p=s.attributes;let c;t&&(c=M(new u.Z,t,r,n)),(0,i.pC)(a)?e.push(new l.ZP(c,p,x(new u.Z,a),p[o])):e.push(new l.ZP(c,p,null,p[o]))}return e}(e,t,o,s,a);default:c.error("convertToFeatureSet:unknown-geometry",new n.Z(`Unable to parse unknown geometry type '${r}'`)),e.length=0}return e}function V(e,t,r,n){A[0]=e,J(q,A,t,r,n);const o=q[0];return q.length=A.length=0,o}function z(e,t,r){if((0,i.Wi)(e))return null;const o=new u.Z;return"hasZ"in e&&null==t&&(t=e.hasZ),"hasM"in e&&null==r&&(r=e.hasM),(0,s.wp)(e)?j(null!=t?t:null!=e.z,null!=r?r:null!=e.m)(o,e):(0,s.oU)(e)?M(o,e,t,r):(0,s.l9)(e)?G(o,e,p(t,r)):(0,s.aW)(e)?E(o,e,p(t,r)):void c.error("convertFromGeometry:unknown-geometry",new n.Z(`Unable to parse unknown geometry type '${e}'`))}function k(e,t,r,o){const s=e&&("coords"in e?e:e.geometry);if((0,i.Wi)(s))return null;switch(t){case"esriGeometryPoint":{let e=T;return r&&o?e=O:r?e=C:o&&(e=I),e(s)}case"esriGeometryMultipoint":return R(s,r,o);case"esriGeometryPolyline":return D(s,r,o);case"esriGeometryPolygon":return P(s,r,o);default:return void c.error("convertToGeometry:unknown-geometry",new n.Z(`Unable to parse unknown geometry type '${t}'`))}}function J(e,t,r,o,s){if(e.length=0,(0,i.Wi)(r))return function(e,t){for(const r of t)e.push({attributes:r.attributes});return e}(e,t);switch(r){case"esriGeometryPoint":return function(e,t,r,n){let o=T;r&&n?o=O:r?o=C:n&&(o=I);for(const r of t){const{geometry:t,attributes:n}=r,s=(0,i.pC)(t)?o(t):null;e.push({attributes:n,geometry:s})}return e}(e,t,o,s);case"esriGeometryMultipoint":return function(e,t,r,n){for(const o of t){const{geometry:t,attributes:i}=o;let s;t&&(s=R(t,r,n)),e.push({attributes:i,geometry:s})}return e}(e,t,o,s);case"esriGeometryPolyline":return function(e,t,r,n){for(const o of t){const{geometry:t,attributes:s}=o;let l;(0,i.pC)(t)&&(l=D(t,r,n)),e.push({attributes:s,geometry:l})}return e}(e,t,o,s);case"esriGeometryPolygon":return function(e,t,r,n){for(const o of t){const{geometry:t,attributes:s,centroid:l}=o;let a;if((0,i.pC)(t)&&(a=P(t,r,n)),l){const t=T(l);e.push({attributes:s,centroid:t,geometry:a})}else e.push({attributes:s,geometry:a})}return e}(e,t,o,s);default:c.error("convertToFeatureSet:unknown-geometry",new n.Z(`Unable to parse unknown geometry type '${r}'`))}return e}function $(e){const{objectIdFieldName:t,spatialReference:r,transform:n,fields:o,hasM:i,hasZ:s,features:l,geometryType:a,exceededTransferLimit:u,uniqueIdField:p,queryGeometry:c,queryGeometryType:d}=e,y={features:J([],l,a,s,i),fields:o,geometryType:a,objectIdFieldName:t,spatialReference:r,uniqueIdField:p,queryGeometry:k(c,d,!1,!1)};return n&&(y.transform=n),u&&(y.exceededTransferLimit=u),i&&(y.hasM=i),s&&(y.hasZ=s),y}function B(e,t){const r=new a.Z,{hasM:o,hasZ:i,features:s,objectIdFieldName:l,spatialReference:u,geometryType:p,exceededTransferLimit:d,transform:y,fields:f}=e;return f&&(r.fields=f),r.geometryType=p,r.objectIdFieldName=l||t,r.spatialReference=u,r.objectIdFieldName?(s&&L(r.features,s,p,i,o,r.objectIdFieldName),d&&(r.exceededTransferLimit=d),o&&(r.hasM=o),i&&(r.hasZ=i),y&&(r.transform=y),r):(c.error(new n.Z("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),r)}function Q(e){const{transform:t,features:r,hasM:n,hasZ:o}=e;if(!t)return e;for(const e of r)(0,i.pC)(e.geometry)&&te(e.geometry,e.geometry,n,o,t),e.centroid&&te(e.centroid,e.centroid,n,o,t);return e.transform=null,e}function W(e,t){const{geometryType:r,features:n,hasM:o,hasZ:i}=t;if(!e)return t;for(let t=0;t<n.length;t++){const s=n[t],l=s.weakClone();l.geometry=new u.Z,Y(l.geometry,s.geometry,o,i,r,e),s.centroid&&(l.centroid=new u.Z,Y(l.centroid,s.centroid,o,i,"esriGeometryPoint",e)),n[t]=l}return t.transform=e,t}function Y(e,t,r,n,o,s,l=r,a=n){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),(0,i.Wi)(t)||!t.coords.length)return null;const u=d[o],{coords:c,lengths:y}=t,f=p(r,n),h=p(r&&l,n&&a),m=g(r,n,l,a);if(!y.length)return m(e.coords,c,0,0,v(s,c[0]),b(s,c[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=f,e;let w,_,F,T,x=0,C=0,S=C;for(const t of y){if(t<u)continue;let r=0;C=S,F=w=v(s,c[x]),T=_=b(s,c[x+1]),m(e.coords,c,C,x,F,T),r++,x+=f,C+=h;for(let n=1;n<t;n++,x+=f)F=v(s,c[x]),T=b(s,c[x+1]),F===w&&T===_||(m(e.coords,c,C,x,F-w,T-_),C+=h,r++,w=F,_=T);r>=u&&(e.lengths.push(r),S=C)}return e.coords.length=S,e.coords.length?e:null}function K(e,t,r,n,o,i,s=r,l=n){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;const a=d[o],{coords:u,lengths:c}=t,y=p(r,n),f=p(r&&s,n&&l),h=g(r,n,s,l);if(!c.length)return h(e.coords,u,0,0,u[0],u[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=y,e;let m=0;const v=i*i;for(const t of c){if(t<a){m+=t*y;continue}const r=e.coords.length/f,n=m,o=m+(t-1)*y;h(e.coords,u,e.coords.length,n,u[n],u[n+1]),X(e.coords,u,y,v,h,n,o),h(e.coords,u,e.coords.length,o,u[o],u[o+1]);const i=e.coords.length/f-r;i>=a?e.lengths.push(i):e.coords.length=r*f,m+=t*y}return e.coords.length?e:null}function H(e,t,r,n){const o=e[t],i=e[t+1],s=e[r],l=e[r+1],a=e[n],u=e[n+1];let p=s,c=l,d=a-p,y=u-c;if(0!==d||0!==y){const e=((o-p)*d+(i-c)*y)/(d*d+y*y);e>1?(p=a,c=u):e>0&&(p+=d*e,c+=y*e)}return d=o-p,y=i-c,d*d+y*y}function X(e,t,r,n,o,i,s){let l,a=n,u=0;for(let e=i+r;e<s;e+=r)l=H(t,e,i,s),l>a&&(u=e,a=l);a>n&&(u-i>r&&X(e,t,r,n,o,i,u),o(e,t,e.length,u,t[u],t[u+1]),s-u>r&&X(e,t,r,n,o,u,s))}function ee(e,t,r,n){if((0,i.Wi)(t)||!t.coords||!t.coords.length)return null;const o=p(r,n);let s=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;if(t&&t.coords){const e=t.coords;for(let t=0;t<e.length;t+=o){const r=e[t],n=e[t+1];s=Math.min(s,r),a=Math.max(a,r),l=Math.min(l,n),u=Math.max(u,n)}}return e[0]=s,e[1]=l,e[2]=a,e[3]=u,e}function te(e,t,r,n,o){const{coords:i,lengths:s}=t,l=r?n?m:f:n?f:y,a=p(r,n);if(!i.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!s.length)return l(e.coords,i,0,0,w(o,i[0]),_(o,i[1])),e!==t&&(e.lengths.length=0,e.coords.length=a),e;const[u,c]=o.scale;let d=0;for(let t=0;t<s.length;t++){const r=s[t];e.lengths[t]=r;let n=w(o,i[d]),p=_(o,i[d+1]);l(e.coords,i,d,d,n,p),d+=a;for(let t=1;t<r;t++,d+=a)n+=i[d]*u,p-=i[d+1]*c,l(e.coords,i,d,d,n,p)}return e!==t&&(e.lengths.length=s.length,e.coords.length=i.length),e}function re(e,t,r,n,o,i){const s=p(r,n),l=g(r,n,o,i),a=t.coords;e.coords.length=0,e.lengths.length=0,e.lengths.push(...t.lengths);for(let t=0;t<a.length;t+=s)l(e.coords,a,e.coords.length,t,a[t],a[t+1]);return e}function ne(e,t,r,n){let o=0,i=e[n*t],s=e[n*(t+1)];for(let l=1;l<r;l++){const r=i+e[n*(t+l)],a=s+e[n*(t+l)+1],u=(r-i)*(a+s);i=r,s=a,o+=u}return.5*o}function oe(e,t){const{coords:r,lengths:n}=e;let o=0,i=0;for(let e=0;e<n.length;e++)i+=ne(r,o,n[e],t),o+=e;return Math.abs(i)}function ie(e,t){if((0,i.Wi)(e))return null;const r=e.clone(),n=e.coords,o=e.lengths;let s=0;for(let e=0;e<o.length;e++){const i=o[e];let l=n[t*s],a=n[t*s+1];for(let e=1;e<i;e++){const o=l+n[t*(s+e)],i=a+n[t*(s+e)+1];r.coords[t*(s+e)]=o,r.coords[t*(s+e)+1]=i,l=o,a=i}s+=i}return r}},54295:(e,t,r)=>{r.d(t,{V:()=>s});var n=r(43697),o=r(5600),i=(r(80442),r(75215),r(92604),r(52525));const s=e=>{let t=class extends e{get apiKey(){var e;return this._isOverridden("apiKey")?this._get("apiKey"):function(e){return"portalItem"in e}(this)?null==(e=this.portalItem)?void 0:e.apiKey:null}set apiKey(e){null!=e?this._override("apiKey",e):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,n._)([(0,o.Cb)({type:String})],t.prototype,"apiKey",null),t=(0,n._)([(0,i.j)("esri.layers.mixins.APIKeyMixin")],t),t}},17017:(e,t,r)=>{r.d(t,{N:()=>s});var n=r(43697),o=r(5600),i=(r(80442),r(75215),r(92604),r(52525));const s=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return(0,n._)([(0,o.Cb)({type:Object,json:{write:{overridePolicy:e=>({enabled:!!(e&&Object.keys(e).length>0)})}}})],t.prototype,"customParameters",void 0),t=(0,n._)([(0,i.j)("esri.layers.mixins.CustomParametersMixin")],t),t}},68825:(e,t,r)=>{r.d(t,{c:()=>h});var n,o=r(43697),i=r(78286),s=r(5600),l=(r(80442),r(75215),r(92604),r(52525)),a=r(35454),u=r(10736);const p=new a.Xn({asc:"ascending",desc:"descending"});let c=n=class extends u.wq{constructor(){super(...arguments),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new n({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,o._)([(0,s.Cb)({type:String,json:{write:!0}})],c.prototype,"field",void 0),(0,o._)([(0,s.Cb)({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0),(0,o._)([(0,s.Cb)({type:p.apiValues,json:{read:p.read,write:p.write}})],c.prototype,"order",void 0),c=n=(0,o._)([(0,l.j)("esri.layers.support.OrderByInfo")],c);var d=c;function y(e,t,r){if(!e)return null;const n=e.find((e=>!!e.field));if(!n)return null;const o=new d;return o.read(n,r),[o]}function f(e,t,r,n){const o=e.find((e=>!!e.field));o&&(0,i.RB)(r,[o.toJSON()],t)}const h=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return(0,o._)([(0,s.Cb)({type:[d],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:y},write:{target:"layerDefinition.orderBy",writer:f}}})],t.prototype,"orderBy",void 0),t=(0,o._)([(0,l.j)("esri.layers.mixins.OrderedLayer")],t),t}},28294:(e,t,r)=>{r.d(t,{n:()=>d});var n=r(43697),o=r(92835),i=r(84552),s=r(5600),l=(r(80442),r(75215),r(92604),r(71715)),a=r(52525),u=r(30547),p=r(35671),c=r(78981);const d=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(e,t){const r=t.timeInfo.exportOptions;if(!r)return null;const n=r.timeOffset,o=c.v.fromJSON(r.timeOffsetUnits);return n&&o?new i.Z({value:n,unit:o}):null}set timeInfo(e){(0,p.UF)(e,this.fieldsIndex),this._set("timeInfo",e)}};return(0,n._)([(0,s.Cb)({type:o.Z,json:{write:!1}})],t.prototype,"timeExtent",void 0),(0,n._)([(0,s.Cb)({type:i.Z})],t.prototype,"timeOffset",void 0),(0,n._)([(0,l.r)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),(0,n._)([(0,s.Cb)({value:null,type:u.Z,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),(0,n._)([(0,s.Cb)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=(0,n._)([(0,a.j)("esri.layers.mixins.TemporalLayer")],t),t}},61960:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(43697),o=r(10736),i=r(5600),s=(r(80442),r(75215),r(92604),r(52525));let l=class extends o.wq{constructor(){super(...arguments),this.type=null}};(0,n._)([(0,i.Cb)({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],l.prototype,"type",void 0),l=(0,n._)([(0,s.j)("esri.layers.support.FeatureReduction")],l);var a=l},85857:(e,t,r)=>{r.d(t,{Z:()=>u});var n,o=r(43697),i=r(5600),s=(r(80442),r(75215),r(92604),r(52525)),l=r(61960);let a=n=class extends l.Z{constructor(e){super(e),this.type="selection"}clone(){return new n}};(0,o._)([(0,i.Cb)({type:["selection"]})],a.prototype,"type",void 0),a=n=(0,o._)([(0,s.j)("esri.layers.support.FeatureReductionSelection")],a);var u=a},70082:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(43697),o=r(35454),i=r(10736),s=r(22974),l=r(5600),a=(r(75215),r(80442),r(92604),r(52525)),u=r(30556);const p=new o.Xn({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let c=class extends i.wq{constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}writeDrawingTool(e,t){t.drawingTool=p.toJSON(e)}writePrototype(e,t){t.prototype=(0,s.yd)((0,s.d9)(e),!0)}writeThumbnail(e,t){t.thumbnail=(0,s.yd)((0,s.d9)(e))}};(0,n._)([(0,l.Cb)({json:{write:!0}})],c.prototype,"name",void 0),(0,n._)([(0,l.Cb)({json:{write:!0}})],c.prototype,"description",void 0),(0,n._)([(0,l.Cb)({json:{read:p.read,write:p.write}})],c.prototype,"drawingTool",void 0),(0,n._)([(0,u.c)("drawingTool")],c.prototype,"writeDrawingTool",null),(0,n._)([(0,l.Cb)({json:{write:!0}})],c.prototype,"prototype",void 0),(0,n._)([(0,u.c)("prototype")],c.prototype,"writePrototype",null),(0,n._)([(0,l.Cb)({json:{write:!0}})],c.prototype,"thumbnail",void 0),(0,n._)([(0,u.c)("thumbnail")],c.prototype,"writeThumbnail",null),c=(0,n._)([(0,a.j)("esri.layers.support.FeatureTemplate")],c);var d=c},16451:(e,t,r)=>{r.d(t,{Z:()=>h});var n=r(43697),o=r(10736),i=r(22974),s=r(5600),l=(r(75215),r(80442),r(92604),r(71715)),a=r(52525),u=r(30556),p=r(35643),c=(r(6933),r(91764)),d=r(69150),y=r(70082);let f=class extends o.wq{constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const r in e)if(e.hasOwnProperty(r)){const n=e[r];switch(n.type){case"range":t[r]=d.Z.fromJSON(n);break;case"codedValue":t[r]=p.Z.fromJSON(n);break;case"inherited":t[r]=c.Z.fromJSON(n)}}return t}writeDomains(e,t){const r={};for(const t in e)e.hasOwnProperty(t)&&(r[t]=e[t]&&e[t].toJSON());(0,i.yd)(r),t.domains=r}readTemplates(e){return e&&e.map((e=>new y.Z(e)))}writeTemplates(e,t){t.templates=e&&e.map((e=>e.toJSON()))}};(0,n._)([(0,s.Cb)({json:{write:!0}})],f.prototype,"id",void 0),(0,n._)([(0,s.Cb)({json:{write:!0}})],f.prototype,"name",void 0),(0,n._)([(0,s.Cb)({json:{write:!0}})],f.prototype,"domains",void 0),(0,n._)([(0,l.r)("domains")],f.prototype,"readDomains",null),(0,n._)([(0,u.c)("domains")],f.prototype,"writeDomains",null),(0,n._)([(0,s.Cb)({json:{write:!0}})],f.prototype,"templates",void 0),(0,n._)([(0,l.r)("templates")],f.prototype,"readTemplates",null),(0,n._)([(0,u.c)("templates")],f.prototype,"writeTemplates",null),f=(0,n._)([(0,a.j)("esri.layers.support.FeatureType")],f);var h=f},30547:(e,t,r)=>{r.d(t,{Z:()=>b});var n,o=r(43697),i=r(92835),s=r(84552),l=r(10736),a=r(22974),u=r(70586),p=r(5600),c=(r(75215),r(80442),r(92604),r(71715)),d=r(52525),y=r(30556);let f=n=class extends l.wq{constructor(e){super(e),this.respectsDaylightSaving=!1,this.timezone=null}readRespectsDaylightSaving(e,t){return void 0!==t.respectsDaylightSaving?t.respectsDaylightSaving:void 0!==t.respectDaylightSaving&&t.respectDaylightSaving}clone(){const{respectsDaylightSaving:e,timezone:t}=this;return new n({respectsDaylightSaving:e,timezone:t})}};(0,o._)([(0,p.Cb)({type:Boolean,json:{write:!0}})],f.prototype,"respectsDaylightSaving",void 0),(0,o._)([(0,c.r)("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],f.prototype,"readRespectsDaylightSaving",null),(0,o._)([(0,p.Cb)({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],f.prototype,"timezone",void 0),f=n=(0,o._)([(0,d.j)("esri.layers.support.TimeReference")],f);var h,m=f,g=r(78981);let v=h=class extends l.wq{constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||2!==t.timeExtent.length)return null;const r=new Date(t.timeExtent[0]),n=new Date(t.timeExtent[1]);return new i.Z({start:r,end:n})}writeFullTimeExtent(e,t){e&&(0,u.pC)(e.start)&&(0,u.pC)(e.end)?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?new s.Z({value:t.timeInterval,unit:g.v.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new s.Z({value:t.defaultTimeInterval,unit:g.v.fromJSON(t.defaultTimeIntervalUnits)}):null}writeInterval(e,t){if(e){const r=e.toJSON();t.timeInterval=r.value,t.timeIntervalUnits=r.unit}else t.timeInterval=null,t.timeIntervalUnits=null}clone(){const{cumulative:e,endField:t,hasLiveData:r,interval:n,startField:o,timeReference:i,fullTimeExtent:s,trackIdField:l,useTime:u}=this;return new h({cumulative:e,endField:t,hasLiveData:r,interval:n,startField:o,timeReference:(0,a.d9)(i),fullTimeExtent:(0,a.d9)(s),trackIdField:l,useTime:u})}};(0,o._)([(0,p.Cb)({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],v.prototype,"cumulative",void 0),(0,o._)([(0,p.Cb)({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],v.prototype,"endField",void 0),(0,o._)([(0,p.Cb)({type:i.Z,json:{write:{enabled:!0,allowNull:!0}}})],v.prototype,"fullTimeExtent",void 0),(0,o._)([(0,c.r)("fullTimeExtent",["timeExtent"])],v.prototype,"readFullTimeExtent",null),(0,o._)([(0,y.c)("fullTimeExtent")],v.prototype,"writeFullTimeExtent",null),(0,o._)([(0,p.Cb)({type:Boolean,json:{write:!0}})],v.prototype,"hasLiveData",void 0),(0,o._)([(0,p.Cb)({type:s.Z,json:{write:{enabled:!0,allowNull:!0}}})],v.prototype,"interval",void 0),(0,o._)([(0,c.r)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],v.prototype,"readInterval",null),(0,o._)([(0,y.c)("interval")],v.prototype,"writeInterval",null),(0,o._)([(0,p.Cb)({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],v.prototype,"startField",void 0),(0,o._)([(0,p.Cb)({type:m,json:{write:{enabled:!0,allowNull:!0}}})],v.prototype,"timeReference",void 0),(0,o._)([(0,p.Cb)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],v.prototype,"trackIdField",void 0),(0,o._)([(0,p.Cb)({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],v.prototype,"useTime",void 0),v=h=(0,o._)([(0,d.j)("esri.layers.support.TimeInfo")],v);var b=v},55785:(e,t,r)=>{r.d(t,{dm:()=>O,ij:()=>I,Gx:()=>S,Q6:()=>Z});var n,o=r(20102),i=r(78286),s=r(61960),l=r(43697),a=r(51773),u=r(78223),p=r(10736),c=r(22974),d=r(62357),y=r(5600),f=(r(75215),r(80442),r(92604),r(52525));let h=n=class extends p.wq{constructor(){super(...arguments),this.statisticType=null,this.onStatisticField=null,this.onStatisticValueExpression=null}clone(){return new n({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}};(0,l._)([(0,y.Cb)({type:String,json:{write:!0}})],h.prototype,"statisticType",void 0),(0,l._)([(0,y.Cb)({type:String,json:{write:!0}})],h.prototype,"onStatisticField",void 0),(0,l._)([(0,y.Cb)({type:String,json:{write:!0}})],h.prototype,"onStatisticValueExpression",void 0),h=n=(0,l._)([(0,f.j)("esri.layers.support.OutStatistic")],h);var m,g=h;let v=m=class extends p.wq{constructor(){super(...arguments),this.name=null}clone(){return new m({name:this.name,outStatistic:this.outStatistic.clone()})}};(0,l._)([(0,y.Cb)({type:String,json:{write:!0}})],v.prototype,"name",void 0),(0,l._)([(0,y.Cb)({type:g,json:{write:!0}})],v.prototype,"outStatistic",void 0),v=m=(0,l._)([(0,f.j)("esri.layers.support.AggregateField")],v);var b,w=v,_=r(21506),F=r(54306);let T=b=class extends p.wq{constructor(e){super(e),this.type="cluster",this.clusterRadius=(0,d.t_)("80px"),this.clusterMinSize=(0,d.t_)("12px"),this.clusterMaxSize=(0,d.t_)("50px"),this.popupEnabled=!0,this.popupTemplate=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}clone(){return new b({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,c.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,c.d9)(this.fields),popupEnabled:this.popupEnabled,popupTemplate:(0,c.d9)(this.popupTemplate)})}};(0,l._)([(0,y.Cb)({type:["cluster"],readOnly:!0,json:{write:!0}})],T.prototype,"type",void 0),(0,l._)([(0,y.Cb)({type:Number,cast:e=>"auto"===e?e:(0,d.t_)(e),json:{write:!0}})],T.prototype,"clusterRadius",void 0),(0,l._)([(0,y.Cb)({type:Number,cast:d.t_,json:{write:!0}})],T.prototype,"clusterMinSize",void 0),(0,l._)([(0,y.Cb)({type:Number,cast:d.t_,json:{write:!0}})],T.prototype,"clusterMaxSize",void 0),(0,l._)([(0,y.Cb)(_.C_)],T.prototype,"popupEnabled",void 0),(0,l._)([(0,y.Cb)({type:a.Z,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],T.prototype,"popupTemplate",void 0),(0,l._)([(0,y.Cb)({types:u.AH})],T.prototype,"symbol",void 0),(0,l._)([(0,y.Cb)({type:[F.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],T.prototype,"labelingInfo",void 0),(0,l._)([(0,y.Cb)(_.iR)],T.prototype,"labelsVisible",void 0),(0,l._)([(0,y.Cb)({type:[w],json:{write:!0}})],T.prototype,"fields",void 0),T=b=(0,l._)([(0,f.j)("esri.layers.support.FeatureReductionCluster")],T);var x=T,C=r(85857);const S={key:"type",base:s.Z,typeMap:{selection:C.Z}};function I(e,t){const r=(t=t.layerDefinition||t).featureReduction;if(r)switch(r.type){case"selection":return C.Z.fromJSON(r);case"cluster":return x.fromJSON(r)}return null}function Z(e,t,r,n){const s=function(e,t,r){return e?"selection"!==e.type?(r.messages&&r.messages.push(new o.Z("featureReduction:unsupported",`FeatureReduction of type '${e.declaredClass}' are not supported in scenes.`,{featureReduction:e,context:r})),null):e.write({},r):null}(e,0,n);s&&(0,i.RB)(r,s,t)}const O={types:{key:"type",base:s.Z,typeMap:{selection:C.Z,cluster:x}},json:{write:{target:"layerDefinition.featureReduction",allowNull:!0}}}},53518:(e,t,r)=>{r.d(t,{v:()=>a});var n=r(92604),o=r(1231),i=r(99514),s=r(35671);const l=n.Z.getLogger("esri.layers.support.fieldProperties");function a(){return{fields:{type:[o.Z],value:null},fieldsIndex:{readOnly:!0,get(){return new i.Z(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const t of e)this.fieldsIndex.has(t)||l.error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e});return(0,s.Q0)(this.fieldsIndex,e)}}}}},35671:(e,t,r)=>{r.d(t,{io:()=>m,AB:()=>h,gd:()=>f,Q0:()=>y,YN:()=>u,UF:()=>c,O5:()=>g,os:()=>b,H7:()=>O,qN:()=>N,Pz:()=>E,Qc:()=>D,vP:()=>U}),r(20102);var n,o,i=r(78286);(o=n||(n={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",o.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";var s=r(59266);const l=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],a=["field","normalizationField"];function u(e,t){if(null!=e&&null!=t)for(const r of Array.isArray(e)?e:[e])if(p(l,r,t),"visualVariables"in r&&r.visualVariables)for(const e of r.visualVariables)p(a,e,t)}function p(e,t,r){if(e)for(const n of e){const e=(0,i.hS)(n,t),o=e&&"function"!=typeof e&&r.get(e);o&&(0,i.RB)(n,o.name,t)}}function c(e,t){if(null!=e&&null!=t&&t.fields.length)if("startField"in e){const r=t.get(e.startField),n=t.get(e.endField);e.startField=r&&r.name||null,e.endField=n&&n.name||null}else{const r=t.get(e.startTimeField),n=t.get(e.endTimeField);e.startTimeField=r&&r.name||null,e.endTimeField=n&&n.name||null}}const d=new Set;function y(e,t){return e&&t?(d.clear(),f(d,e,t),Array.from(d).sort()):[]}function f(e,t,r){var n;if(r)if(null!=t&&null!=(n=t.fields)&&n.length)if(r.includes("*"))for(const{name:r}of t.fields)e.add(r);else for(const n of r)h(e,t,n);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const t of r)e.add(t)}}function h(e,t,r){if("string"==typeof r)if(t){const n=t.get(r);n&&e.add(n.name)}else e.add(r)}async function m(e,t,r){var n;if(!r)return;const{arcadeUtils:o}=await(0,s.LC)(),i=o.extractFieldNames(r,null==t||null==(n=t.fields)?void 0:n.map((e=>e.name)));for(const r of i)h(e,t,r)}function g({displayField:e,fields:t}){return e||(t&&t.length?v(t,"name-or-title")||v(t,"unique-identifier")||v(t,"type-or-category")||function(e){for(const t of e){if(!t||!t.name)continue;const e=t.name.toLowerCase();if(e.indexOf("name")>-1||e.indexOf("title")>-1)return t.name}return null}(t):null)}function v(e,t){for(const r of e)if(r&&r.valueType&&r.valueType===t)return r.name;return null}function b(e){const t=e.defaultValue;return void 0!==t&&I(e,t)?t:e.nullable?null:void 0}function w(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function _(e){return null===e||w(e)}const F="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function T(e){return null===e||F(e)}function x(e){return null!=e&&"string"==typeof e}function C(e){return null===e||x(e)}function S(){return!0}function I(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":r=e.nullable?T:F;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?_:w;break;case"string":case"esriFieldTypeString":r=e.nullable?C:x;break;default:r=S}return 1===arguments.length?r:r(t)}const Z=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function O(e){return null!=e&&Z.has(e.type)}function N(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}var j,R;function E(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function D(e,t){return e.nullable&&null===t?null:O(e)&&!function(e,t){const r="string"==typeof e?G(e):e;return!!r&&(r.isInteger?F(t)&&t>=r.min&&t<=r.max:t>=r.min&&t<=r.max)}(e.type,Number(t))?j.OUT_OF_RANGE:I(e,t)?e.domain?function(e,t){switch(e.type){case"range":{const r="range"in e?e.range[0]:e.minValue,o="range"in e?e.range[1]:e.maxValue;if(+t<r||+t>o)return n.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==e.codedValues||e.codedValues.every((e=>null==e||e.code!==t)))return n.INVALID_CODED_VALUE}return null}(e.domain,t):null:R.INVALID_TYPE}function G(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return P;case"esriFieldTypeInteger":case"integer":return M;case"esriFieldTypeSingle":case"single":return q;case"esriFieldTypeDouble":case"double":return A}}!function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"}(j||(j={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(R||(R={}));const P={min:-32768,max:32767,isInteger:!0},M={min:-2147483648,max:2147483647,isInteger:!0},q={min:-34e37,max:12e37,isInteger:!1},A={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function U(e,t,r){switch(e){case n.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case n.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case R.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case j.OUT_OF_RANGE:{const{min:e,max:n}=G(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${n}`}}}},30707:(e,t,r)=>{r.d(t,{r:()=>i});var n=r(54306);const o=/\[([^\[\]]+)\]/gi;function i(e,t,r){return e?e.map((e=>{const i=new n.Z;if(i.read(e,r),i.labelExpression){const e=t.fields||t.layerDefinition&&t.layerDefinition.fields||this.fields;i.labelExpression=i.labelExpression.replace(o,((t,r)=>`[${function(e,t){if(!t)return e;const r=e.toLowerCase();for(let e=0;e<t.length;e++){const n=t[e].name;if(n.toLowerCase()===r)return n}return e}(r,e)}]`))}return i})):null}},78981:(e,t,r)=>{r.d(t,{v:()=>n});const n=(0,r(35454).wY)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},74889:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v});var n=r(43697),o=r(66577),i=r(38171),s=r(35454),l=r(10736),a=r(70586),u=r(5600),p=(r(80442),r(75215),r(92604),r(71715)),c=r(52525),d=r(30556),y=r(82971),f=r(33955),h=r(1231);const m=new s.Xn({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let g=class extends l.wq{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const r=y.Z.fromJSON(t.spatialReference),n=[];for(let t=0;t<e.length;t++){const o=e[t],s=i.Z.fromJSON(o),l=o.geometry&&o.geometry.spatialReference;(0,a.pC)(s.geometry)&&!l&&(s.geometry.spatialReference=r),n.push(s)}return n}writeGeometryType(e,t,r,n){if(e)return void m.write(e,t,r,n);const{features:o}=this;if(o)for(const e of o)if(e&&(0,a.pC)(e.geometry))return void m.write(e.geometry.type,t,r,n)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,n=(0,f.im)(e);return!r&&t.spatialReference&&(n.spatialReference=y.Z.fromJSON(t.spatialReference)),n}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r)for(const e of r)if(e&&(0,a.pC)(e.geometry)&&e.geometry.spatialReference)return void(t.spatialReference=e.geometry.spatialReference.toJSON())}toJSON(e){const t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const n=t.features[r];if(n.geometry){const t=e&&e[r];n.geometry=t&&t.toJSON()||n.geometry}}return t}quantize(e){const{scale:[t,r],translate:[n,o]}=e,i=this.features,s=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-n)/t)),(e=>Math.round((o-e)/r)));for(let e=0,t=i.length;e<t;e++)s((0,a.Wg)(i[e].geometry))||(i.splice(e,1),e--,t--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[n,o],scale:[i,s]}=r,l=this._getHydrationFunction(e,(e=>e*i+n),(e=>o-e*s));for(const{geometry:e}of t)(0,a.pC)(e)&&l(e);return this.transform=null,this}_quantizePoints(e,t,r){let n,o;const i=[];for(let s=0,l=e.length;s<l;s++){const l=e[s];if(s>0){const e=t(l[0]),s=r(l[1]);e===n&&s===o||(i.push([e-n,s-o]),n=e,o=s)}else n=t(l[0]),o=r(l[1]),i.push([n,o])}return i.length>0?i:null}_getQuantizationFunction(e,t,r){return"point"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):"polyline"===e||"polygon"===e?e=>{const n=(0,f.oU)(e)?e.rings:e.paths,o=[];for(let e=0,i=n.length;e<i;e++){const i=n[e],s=this._quantizePoints(i,t,r);s&&o.push(s)}return o.length>0?((0,f.oU)(e)?e.rings=o:e.paths=o,e):null}:"multipoint"===e?e=>{const n=this._quantizePoints(e.points,t,r);return n.length>0?(e.points=n,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,r){return"point"===e?e=>{e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?e=>{const n=(0,f.oU)(e)?e.rings:e.paths;let o,i;for(let e=0,s=n.length;e<s;e++){const s=n[e];for(let e=0,n=s.length;e<n;e++){const n=s[e];e>0?(o+=n[0],i+=n[1]):(o=n[0],i=n[1]),n[0]=t(o),n[1]=r(i)}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?e=>{const n=e.points;let o,i;for(let e=0,s=n.length;e<s;e++){const s=n[e];e>0?(o+=s[0],i+=s[1]):(o=s[0],i=s[1]),s[0]=t(o),s[1]=r(i)}}:void 0}};(0,n._)([(0,u.Cb)({type:String,json:{write:!0}})],g.prototype,"displayFieldName",void 0),(0,n._)([(0,u.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"exceededTransferLimit",void 0),(0,n._)([(0,u.Cb)({type:[i.Z],json:{write:!0}})],g.prototype,"features",void 0),(0,n._)([(0,p.r)("features")],g.prototype,"readFeatures",null),(0,n._)([(0,u.Cb)({type:[h.Z],json:{write:!0}})],g.prototype,"fields",void 0),(0,n._)([(0,u.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:m.read}}})],g.prototype,"geometryType",void 0),(0,n._)([(0,d.c)("geometryType")],g.prototype,"writeGeometryType",null),(0,n._)([(0,u.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"hasM",void 0),(0,n._)([(0,u.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"hasZ",void 0),(0,n._)([(0,u.Cb)({types:o.qM,json:{write:!0}})],g.prototype,"queryGeometry",void 0),(0,n._)([(0,p.r)("queryGeometry")],g.prototype,"readQueryGeometry",null),(0,n._)([(0,u.Cb)({type:y.Z,json:{write:!0}})],g.prototype,"spatialReference",void 0),(0,n._)([(0,d.c)("spatialReference")],g.prototype,"writeSpatialReference",null),(0,n._)([(0,u.Cb)({json:{write:!0}})],g.prototype,"transform",void 0),g=(0,n._)([(0,c.j)("esri.rest.support.FeatureSet")],g),g.prototype.toJSON.isDefaultToJSON=!0,g||(g={});var v=g},59266:(e,t,r)=>{r.d(t,{mz:()=>p,pp:()=>u,WW:()=>l,Yi:()=>a,LC:()=>s}),r(66577);var n=r(70586),o=r(82971);let i;function s(){return i||(i=(async()=>{const e=await Promise.all([r.e(9490),r.e(6690)]).then(r.bind(r,96690));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),i}const l=(e,t,r)=>p.create(e,t,r,null,["$feature"]),a=(e,t,r)=>p.create(e,t,r,null,["$feature","$view"]),u=(e,t,r,n)=>p.create(e,t,r,n,["$feature","$view"]);class p{constructor(e,t,r,n,o,i,s,l){this.script=e,this.evaluate=o;const a=Array.isArray(s)?s:s.fields;this.fields=a,this._syntaxTree=n,this._arcade=t,this._arcadeDictionary=r,this._arcadeFeature=i,this._spatialReference=l,this._referencesGeometry=t.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(e,t,r,i,l,a){const{arcade:u,Feature:c,Dictionary:d}=await s(),y=o.Z.fromJSON(t),f=u.parseScript(e,a),h=l.reduce(((e,t)=>({...e,[t]:null})),{});let m=null;(0,n.pC)(i)&&(m=new d(i),m.immutable=!0,h.$config=null);const g=u.scriptUsesGeometryEngine(f)&&u.enableGeometrySupport(),v=u.scriptUsesFeatureSet(f)&&u.enableFeatureSetSupport(),b=u.scriptIsAsync(f)&&u.enableAsyncSupport(),w={vars:h,spatialReference:y,useAsync:!!b},_=new d;_.immutable=!1,_.setField("scale",0);const F=u.compileScript(f,w);return await Promise.all([g,v,b]),new p(e,u,d,f,(e=>("$view"in e&&e.$view&&(_.setField("scale",e.$view.scale),e.$view=_),m&&(e.$config=m),F({vars:e,spatialReference:y}))),new c,r,y)}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}repurposeAdapter(e){return this._arcadeFeature.repurposeFromAdapter(e,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(e){return this._arcade.referencesMember(this._syntaxTree,e)}referencesFunction(e){return this._arcade.referencesFunction(this._syntaxTree,e)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}}}]);