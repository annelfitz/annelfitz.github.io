"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[9509,5732],{92835:(e,t,i)=>{i.d(t,{Z:()=>p});var r,s=i(43697),n=i(10736),a=i(70586),l=i(35463),o=i(5600),h=(i(80442),i(75215),i(92604),i(71715)),u=i(52525),c=i(30556);let d=r=class extends n.wq{constructor(e){super(e),this.end=null,this.start=null}static get allTime(){return f}static get empty(){return m}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(r.allTime)}get isEmpty(){return this.equals(r.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new r({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=(0,a.pC)(this.start)?this.start.getTime():this.start,i=(0,a.pC)(this.end)?this.end.getTime():this.end,r=(0,a.pC)(e.start)?e.start.getTime():e.start,s=(0,a.pC)(e.end)?e.end.getTime():e.end;return t===r&&i===s}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();const t=(0,a.Po)(this.start,(t=>(0,l.JE)(t,e))),i=(0,a.Po)(this.end,(t=>(0,l.Nm)((0,l.JE)(t,e),1,e)));return new r({start:t,end:i})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return r.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=(0,a.R2)(this.start,-1/0,(e=>e.getTime())),i=(0,a.R2)(this.end,1/0,(e=>e.getTime())),s=(0,a.R2)(e.start,-1/0,(e=>e.getTime())),n=(0,a.R2)(e.end,1/0,(e=>e.getTime()));let l,o;if(s>=t&&s<=i?l=s:t>=s&&t<=n&&(l=t),i>=s&&i<=n?o=i:n>=t&&n<=i&&(o=n),!isNaN(l)&&!isNaN(o)){const e=new r;return e.start=l===-1/0?null:new Date(l),e.end=o===1/0?null:new Date(o),e}return r.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const i=new r,{start:s,end:n}=this;return(0,a.pC)(s)&&(i.start=(0,l.Nm)(s,e,t)),(0,a.pC)(n)&&(i.end=(0,l.Nm)(n,e,t)),i}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return f.clone();const t=(0,a.pC)(this.start)&&(0,a.pC)(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,i=(0,a.pC)(this.end)&&(0,a.pC)(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new r({start:t,end:i})}};(0,s._)([(0,o.Cb)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"end",void 0),(0,s._)([(0,h.r)("end")],d.prototype,"readEnd",null),(0,s._)([(0,c.c)("end")],d.prototype,"writeEnd",null),(0,s._)([(0,o.Cb)({readOnly:!0,json:{read:!1}})],d.prototype,"isAllTime",null),(0,s._)([(0,o.Cb)({readOnly:!0,json:{read:!1}})],d.prototype,"isEmpty",null),(0,s._)([(0,o.Cb)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"start",void 0),(0,s._)([(0,h.r)("start")],d.prototype,"readStart",null),(0,s._)([(0,c.c)("start")],d.prototype,"writeStart",null),d=r=(0,s._)([(0,u.j)("esri.TimeExtent")],d);const f=new d,m=new d({start:void 0,end:void 0});var p=d},5732:(e,t,i)=>{i.d(t,{a:()=>n,c:()=>r,g:()=>s});var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}},46851:(e,t,i)=>{i.d(t,{E:()=>r,R:()=>s});const r=1e-6,s=Math.random,n=Math.PI/180,a=180/Math.PI;Object.freeze({__proto__:null,EPSILON:r,RANDOM:s,toRadian:function(e){return e*n},toDegree:function(e){return e*a},equals:function(e,t){return Math.abs(e-t)<=r*Math.max(1,Math.abs(e),Math.abs(t))}})},52138:(e,t,i)=>{i.d(t,{a:()=>l,b:()=>o,d:()=>d,f:()=>c,g:()=>b,h:()=>y,i:()=>a,m:()=>h,o:()=>f,q:()=>_,s:()=>n,t:()=>u});var r=i(65617),s=i(46851);function n(e,t,i,r,s,n,a,l,o,h,u,c,d,f,m,p,g){return e[0]=t,e[1]=i,e[2]=r,e[3]=s,e[4]=n,e[5]=a,e[6]=l,e[7]=o,e[8]=h,e[9]=u,e[10]=c,e[11]=d,e[12]=f,e[13]=m,e[14]=p,e[15]=g,e}function a(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function l(e,t){if(e===t){const i=t[1],r=t[2],s=t[3],n=t[6],a=t[7],l=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=n,e[11]=t[14],e[12]=s,e[13]=a,e[14]=l}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function o(e,t){const i=t[0],r=t[1],s=t[2],n=t[3],a=t[4],l=t[5],o=t[6],h=t[7],u=t[8],c=t[9],d=t[10],f=t[11],m=t[12],p=t[13],g=t[14],y=t[15],b=i*l-r*a,_=i*o-s*a,v=i*h-n*a,M=r*o-s*l,w=r*h-n*l,E=s*h-n*o,I=u*p-c*m,T=u*g-d*m,C=u*y-f*m,A=c*g-d*p,F=c*y-f*p,x=d*y-f*g;let L=b*x-_*F+v*A+M*C-w*T+E*I;return L?(L=1/L,e[0]=(l*x-o*F+h*A)*L,e[1]=(s*F-r*x-n*A)*L,e[2]=(p*E-g*w+y*M)*L,e[3]=(d*w-c*E-f*M)*L,e[4]=(o*C-a*x-h*T)*L,e[5]=(i*x-s*C+n*T)*L,e[6]=(g*v-m*E-y*_)*L,e[7]=(u*E-d*v+f*_)*L,e[8]=(a*F-l*C+h*I)*L,e[9]=(r*C-i*F-n*I)*L,e[10]=(m*w-p*v+y*b)*L,e[11]=(c*v-u*w-f*b)*L,e[12]=(l*T-a*A-o*I)*L,e[13]=(i*A-r*T+s*I)*L,e[14]=(p*_-m*M-g*b)*L,e[15]=(u*M-c*_+d*b)*L,e):null}function h(e,t,i){const r=t[0],s=t[1],n=t[2],a=t[3],l=t[4],o=t[5],h=t[6],u=t[7],c=t[8],d=t[9],f=t[10],m=t[11],p=t[12],g=t[13],y=t[14],b=t[15];let _=i[0],v=i[1],M=i[2],w=i[3];return e[0]=_*r+v*l+M*c+w*p,e[1]=_*s+v*o+M*d+w*g,e[2]=_*n+v*h+M*f+w*y,e[3]=_*a+v*u+M*m+w*b,_=i[4],v=i[5],M=i[6],w=i[7],e[4]=_*r+v*l+M*c+w*p,e[5]=_*s+v*o+M*d+w*g,e[6]=_*n+v*h+M*f+w*y,e[7]=_*a+v*u+M*m+w*b,_=i[8],v=i[9],M=i[10],w=i[11],e[8]=_*r+v*l+M*c+w*p,e[9]=_*s+v*o+M*d+w*g,e[10]=_*n+v*h+M*f+w*y,e[11]=_*a+v*u+M*m+w*b,_=i[12],v=i[13],M=i[14],w=i[15],e[12]=_*r+v*l+M*c+w*p,e[13]=_*s+v*o+M*d+w*g,e[14]=_*n+v*h+M*f+w*y,e[15]=_*a+v*u+M*m+w*b,e}function u(e,t,i){const r=i[0],s=i[1],n=i[2];let a,l,o,h,u,c,d,f,m,p,g,y;return t===e?(e[12]=t[0]*r+t[4]*s+t[8]*n+t[12],e[13]=t[1]*r+t[5]*s+t[9]*n+t[13],e[14]=t[2]*r+t[6]*s+t[10]*n+t[14],e[15]=t[3]*r+t[7]*s+t[11]*n+t[15]):(a=t[0],l=t[1],o=t[2],h=t[3],u=t[4],c=t[5],d=t[6],f=t[7],m=t[8],p=t[9],g=t[10],y=t[11],e[0]=a,e[1]=l,e[2]=o,e[3]=h,e[4]=u,e[5]=c,e[6]=d,e[7]=f,e[8]=m,e[9]=p,e[10]=g,e[11]=y,e[12]=a*r+u*s+m*n+t[12],e[13]=l*r+c*s+p*n+t[13],e[14]=o*r+d*s+g*n+t[14],e[15]=h*r+f*s+y*n+t[15]),e}function c(e,t,i){const r=i[0],s=i[1],n=i[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function d(e,t,i,r){let n,a,l,o,h,u,c,d,f,m,p,g,y,b,_,v,M,w,E,I,T,C,A,F,x=r[0],L=r[1],S=r[2],D=Math.sqrt(x*x+L*L+S*S);return D<s.E?null:(D=1/D,x*=D,L*=D,S*=D,n=Math.sin(i),a=Math.cos(i),l=1-a,o=t[0],h=t[1],u=t[2],c=t[3],d=t[4],f=t[5],m=t[6],p=t[7],g=t[8],y=t[9],b=t[10],_=t[11],v=x*x*l+a,M=L*x*l+S*n,w=S*x*l-L*n,E=x*L*l-S*n,I=L*L*l+a,T=S*L*l+x*n,C=x*S*l+L*n,A=L*S*l-x*n,F=S*S*l+a,e[0]=o*v+d*M+g*w,e[1]=h*v+f*M+y*w,e[2]=u*v+m*M+b*w,e[3]=c*v+p*M+_*w,e[4]=o*E+d*I+g*T,e[5]=h*E+f*I+y*T,e[6]=u*E+m*I+b*T,e[7]=c*E+p*I+_*T,e[8]=o*C+d*A+g*F,e[9]=h*C+f*A+y*F,e[10]=u*C+m*A+b*F,e[11]=c*C+p*A+_*F,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function f(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function m(e,t,i){const r=t[0],s=t[1],n=t[2],a=t[3],l=r+r,o=s+s,h=n+n,u=r*l,c=r*o,d=r*h,f=s*o,m=s*h,p=n*h,g=a*l,y=a*o,b=a*h;return e[0]=1-(f+p),e[1]=c+b,e[2]=d-y,e[3]=0,e[4]=c-b,e[5]=1-(u+p),e[6]=m+g,e[7]=0,e[8]=d+y,e[9]=m-g,e[10]=1-(u+f),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}const p=(0,r.c)();function g(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}function y(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function b(e,t){const i=e[0],r=e[1],n=e[2],a=e[3],l=e[4],o=e[5],h=e[6],u=e[7],c=e[8],d=e[9],f=e[10],m=e[11],p=e[12],g=e[13],y=e[14],b=e[15],_=t[0],v=t[1],M=t[2],w=t[3],E=t[4],I=t[5],T=t[6],C=t[7],A=t[8],F=t[9],x=t[10],L=t[11],S=t[12],D=t[13],O=t[14],N=t[15];return Math.abs(i-_)<=s.E*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(r-v)<=s.E*Math.max(1,Math.abs(r),Math.abs(v))&&Math.abs(n-M)<=s.E*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(a-w)<=s.E*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(l-E)<=s.E*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(o-I)<=s.E*Math.max(1,Math.abs(o),Math.abs(I))&&Math.abs(h-T)<=s.E*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(u-C)<=s.E*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(c-A)<=s.E*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(d-F)<=s.E*Math.max(1,Math.abs(d),Math.abs(F))&&Math.abs(f-x)<=s.E*Math.max(1,Math.abs(f),Math.abs(x))&&Math.abs(m-L)<=s.E*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(p-S)<=s.E*Math.max(1,Math.abs(p),Math.abs(S))&&Math.abs(g-D)<=s.E*Math.max(1,Math.abs(g),Math.abs(D))&&Math.abs(y-O)<=s.E*Math.max(1,Math.abs(y),Math.abs(O))&&Math.abs(b-N)<=s.E*Math.max(1,Math.abs(b),Math.abs(N))}function _(e){const t=s.E,i=e[0],r=e[1],n=e[2],a=e[4],l=e[5],o=e[6],h=e[8],u=e[9],c=e[10];return Math.abs(1-(i*i+a*a+h*h))<=t&&Math.abs(1-(r*r+l*l+u*u))<=t&&Math.abs(1-(n*n+o*o+c*c))<=t}const v=h,M=g;Object.freeze({__proto__:null,copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},set:n,identity:a,transpose:l,invert:o,adjoint:function(e,t){const i=t[0],r=t[1],s=t[2],n=t[3],a=t[4],l=t[5],o=t[6],h=t[7],u=t[8],c=t[9],d=t[10],f=t[11],m=t[12],p=t[13],g=t[14],y=t[15];return e[0]=l*(d*y-f*g)-c*(o*y-h*g)+p*(o*f-h*d),e[1]=-(r*(d*y-f*g)-c*(s*y-n*g)+p*(s*f-n*d)),e[2]=r*(o*y-h*g)-l*(s*y-n*g)+p*(s*h-n*o),e[3]=-(r*(o*f-h*d)-l*(s*f-n*d)+c*(s*h-n*o)),e[4]=-(a*(d*y-f*g)-u*(o*y-h*g)+m*(o*f-h*d)),e[5]=i*(d*y-f*g)-u*(s*y-n*g)+m*(s*f-n*d),e[6]=-(i*(o*y-h*g)-a*(s*y-n*g)+m*(s*h-n*o)),e[7]=i*(o*f-h*d)-a*(s*f-n*d)+u*(s*h-n*o),e[8]=a*(c*y-f*p)-u*(l*y-h*p)+m*(l*f-h*c),e[9]=-(i*(c*y-f*p)-u*(r*y-n*p)+m*(r*f-n*c)),e[10]=i*(l*y-h*p)-a*(r*y-n*p)+m*(r*h-n*l),e[11]=-(i*(l*f-h*c)-a*(r*f-n*c)+u*(r*h-n*l)),e[12]=-(a*(c*g-d*p)-u*(l*g-o*p)+m*(l*d-o*c)),e[13]=i*(c*g-d*p)-u*(r*g-s*p)+m*(r*d-s*c),e[14]=-(i*(l*g-o*p)-a*(r*g-s*p)+m*(r*o-s*l)),e[15]=i*(l*d-o*c)-a*(r*d-s*c)+u*(r*o-s*l),e},determinant:function(e){const t=e[0],i=e[1],r=e[2],s=e[3],n=e[4],a=e[5],l=e[6],o=e[7],h=e[8],u=e[9],c=e[10],d=e[11],f=e[12],m=e[13],p=e[14],g=e[15];return(t*a-i*n)*(c*g-d*p)-(t*l-r*n)*(u*g-d*m)+(t*o-s*n)*(u*p-c*m)+(i*l-r*a)*(h*g-d*f)-(i*o-s*a)*(h*p-c*f)+(r*o-s*l)*(h*m-u*f)},multiply:h,translate:u,scale:c,rotate:d,rotateX:function(e,t,i){const r=Math.sin(i),s=Math.cos(i),n=t[4],a=t[5],l=t[6],o=t[7],h=t[8],u=t[9],c=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=n*s+h*r,e[5]=a*s+u*r,e[6]=l*s+c*r,e[7]=o*s+d*r,e[8]=h*s-n*r,e[9]=u*s-a*r,e[10]=c*s-l*r,e[11]=d*s-o*r,e},rotateY:function(e,t,i){const r=Math.sin(i),s=Math.cos(i),n=t[0],a=t[1],l=t[2],o=t[3],h=t[8],u=t[9],c=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=n*s-h*r,e[1]=a*s-u*r,e[2]=l*s-c*r,e[3]=o*s-d*r,e[8]=n*r+h*s,e[9]=a*r+u*s,e[10]=l*r+c*s,e[11]=o*r+d*s,e},rotateZ:function(e,t,i){const r=Math.sin(i),s=Math.cos(i),n=t[0],a=t[1],l=t[2],o=t[3],h=t[4],u=t[5],c=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=n*s+h*r,e[1]=a*s+u*r,e[2]=l*s+c*r,e[3]=o*s+d*r,e[4]=h*s-n*r,e[5]=u*s-a*r,e[6]=c*s-l*r,e[7]=d*s-o*r,e},fromTranslation:function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},fromScaling:function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromRotation:function(e,t,i){let r,n,a,l=i[0],o=i[1],h=i[2],u=Math.sqrt(l*l+o*o+h*h);return u<s.E?null:(u=1/u,l*=u,o*=u,h*=u,r=Math.sin(t),n=Math.cos(t),a=1-n,e[0]=l*l*a+n,e[1]=o*l*a+h*r,e[2]=h*l*a-o*r,e[3]=0,e[4]=l*o*a-h*r,e[5]=o*o*a+n,e[6]=h*o*a+l*r,e[7]=0,e[8]=l*h*a+o*r,e[9]=o*h*a-l*r,e[10]=h*h*a+n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},fromXRotation:f,fromYRotation:function(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromZRotation:function(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromRotationTranslation:m,fromQuat2:function(e,t){const i=p,r=-t[0],s=-t[1],n=-t[2],a=t[3],l=t[4],o=t[5],h=t[6],u=t[7],c=r*r+s*s+n*n+a*a;return c>0?(i[0]=2*(l*a+u*r+o*n-h*s)/c,i[1]=2*(o*a+u*s+h*r-l*n)/c,i[2]=2*(h*a+u*n+l*s-o*r)/c):(i[0]=2*(l*a+u*r+o*n-h*s),i[1]=2*(o*a+u*s+h*r-l*n),i[2]=2*(h*a+u*n+l*s-o*r)),m(e,t,i),e},getTranslation:function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},getScaling:function(e,t){const i=t[0],r=t[1],s=t[2],n=t[4],a=t[5],l=t[6],o=t[8],h=t[9],u=t[10];return e[0]=Math.sqrt(i*i+r*r+s*s),e[1]=Math.sqrt(n*n+a*a+l*l),e[2]=Math.sqrt(o*o+h*h+u*u),e},getRotation:function(e,t){const i=t[0]+t[5]+t[10];let r=0;return i>0?(r=2*Math.sqrt(i+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e},fromRotationTranslationScale:function(e,t,i,r){const s=t[0],n=t[1],a=t[2],l=t[3],o=s+s,h=n+n,u=a+a,c=s*o,d=s*h,f=s*u,m=n*h,p=n*u,g=a*u,y=l*o,b=l*h,_=l*u,v=r[0],M=r[1],w=r[2];return e[0]=(1-(m+g))*v,e[1]=(d+_)*v,e[2]=(f-b)*v,e[3]=0,e[4]=(d-_)*M,e[5]=(1-(c+g))*M,e[6]=(p+y)*M,e[7]=0,e[8]=(f+b)*w,e[9]=(p-y)*w,e[10]=(1-(c+m))*w,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e},fromRotationTranslationScaleOrigin:function(e,t,i,r,s){const n=t[0],a=t[1],l=t[2],o=t[3],h=n+n,u=a+a,c=l+l,d=n*h,f=n*u,m=n*c,p=a*u,g=a*c,y=l*c,b=o*h,_=o*u,v=o*c,M=r[0],w=r[1],E=r[2],I=s[0],T=s[1],C=s[2],A=(1-(p+y))*M,F=(f+v)*M,x=(m-_)*M,L=(f-v)*w,S=(1-(d+y))*w,D=(g+b)*w,O=(m+_)*E,N=(g-b)*E,R=(1-(d+p))*E;return e[0]=A,e[1]=F,e[2]=x,e[3]=0,e[4]=L,e[5]=S,e[6]=D,e[7]=0,e[8]=O,e[9]=N,e[10]=R,e[11]=0,e[12]=i[0]+I-(A*I+L*T+O*C),e[13]=i[1]+T-(F*I+S*T+N*C),e[14]=i[2]+C-(x*I+D*T+R*C),e[15]=1,e},fromQuat:function(e,t){const i=t[0],r=t[1],s=t[2],n=t[3],a=i+i,l=r+r,o=s+s,h=i*a,u=r*a,c=r*l,d=s*a,f=s*l,m=s*o,p=n*a,g=n*l,y=n*o;return e[0]=1-c-m,e[1]=u+y,e[2]=d-g,e[3]=0,e[4]=u-y,e[5]=1-h-m,e[6]=f+p,e[7]=0,e[8]=d+g,e[9]=f-p,e[10]=1-h-c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},frustum:function(e,t,i,r,s,n,a){const l=1/(i-t),o=1/(s-r),h=1/(n-a);return e[0]=2*n*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*n*o,e[6]=0,e[7]=0,e[8]=(i+t)*l,e[9]=(s+r)*o,e[10]=(a+n)*h,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*n*2*h,e[15]=0,e},perspective:function(e,t,i,r,s){const n=1/Math.tan(t/2);let a;return e[0]=n/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=s&&s!==1/0?(a=1/(r-s),e[10]=(s+r)*a,e[14]=2*s*r*a):(e[10]=-1,e[14]=-2*r),e},perspectiveFromFieldOfView:function(e,t,i,r){const s=Math.tan(t.upDegrees*Math.PI/180),n=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),l=Math.tan(t.rightDegrees*Math.PI/180),o=2/(a+l),h=2/(s+n);return e[0]=o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=h,e[6]=0,e[7]=0,e[8]=-(a-l)*o*.5,e[9]=(s-n)*h*.5,e[10]=r/(i-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*i/(i-r),e[15]=0,e},ortho:function(e,t,i,r,s,n,a){const l=1/(t-i),o=1/(r-s),h=1/(n-a);return e[0]=-2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*h,e[11]=0,e[12]=(t+i)*l,e[13]=(s+r)*o,e[14]=(a+n)*h,e[15]=1,e},lookAt:function(e,t,i,r){let n,l,o,h,u,c,d,f,m,p;const g=t[0],y=t[1],b=t[2],_=r[0],v=r[1],M=r[2],w=i[0],E=i[1],I=i[2];return Math.abs(g-w)<s.E&&Math.abs(y-E)<s.E&&Math.abs(b-I)<s.E?a(e):(d=g-w,f=y-E,m=b-I,p=1/Math.sqrt(d*d+f*f+m*m),d*=p,f*=p,m*=p,n=v*m-M*f,l=M*d-_*m,o=_*f-v*d,p=Math.sqrt(n*n+l*l+o*o),p?(p=1/p,n*=p,l*=p,o*=p):(n=0,l=0,o=0),h=f*o-m*l,u=m*n-d*o,c=d*l-f*n,p=Math.sqrt(h*h+u*u+c*c),p?(p=1/p,h*=p,u*=p,c*=p):(h=0,u=0,c=0),e[0]=n,e[1]=h,e[2]=d,e[3]=0,e[4]=l,e[5]=u,e[6]=f,e[7]=0,e[8]=o,e[9]=c,e[10]=m,e[11]=0,e[12]=-(n*g+l*y+o*b),e[13]=-(h*g+u*y+c*b),e[14]=-(d*g+f*y+m*b),e[15]=1,e)},targetTo:function(e,t,i,r){const s=t[0],n=t[1],a=t[2],l=r[0],o=r[1],h=r[2];let u=s-i[0],c=n-i[1],d=a-i[2],f=u*u+c*c+d*d;f>0&&(f=1/Math.sqrt(f),u*=f,c*=f,d*=f);let m=o*d-h*c,p=h*u-l*d,g=l*c-o*u;return f=m*m+p*p+g*g,f>0&&(f=1/Math.sqrt(f),m*=f,p*=f,g*=f),e[0]=m,e[1]=p,e[2]=g,e[3]=0,e[4]=c*g-d*p,e[5]=d*m-u*g,e[6]=u*p-c*m,e[7]=0,e[8]=u,e[9]=c,e[10]=d,e[11]=0,e[12]=s,e[13]=n,e[14]=a,e[15]=1,e},str:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)},add:function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e},subtract:g,multiplyScalar:function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e},multiplyScalarAndAdd:function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e[6]=t[6]+i[6]*r,e[7]=t[7]+i[7]*r,e[8]=t[8]+i[8]*r,e[9]=t[9]+i[9]*r,e[10]=t[10]+i[10]*r,e[11]=t[11]+i[11]*r,e[12]=t[12]+i[12]*r,e[13]=t[13]+i[13]*r,e[14]=t[14]+i[14]*r,e[15]=t[15]+i[15]*r,e},exactEquals:y,equals:b,isOrthoNormal:_,mul:v,sub:M})},65617:(e,t,i)=>{function r(){return[0,0,0]}function s(e){return[e[0],e[1],e[2]]}function n(e,t,i){return[e,t,i]}function a(e){const t=[0,0,0],i=Math.min(3,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function l(e,t){return new Float64Array(e,t,3)}function o(){return n(1,1,1)}function h(){return n(1,0,0)}function u(){return n(0,1,0)}function c(){return n(0,0,1)}i.d(t,{O:()=>f,Z:()=>d,a:()=>s,b:()=>l,c:()=>r,d:()=>a,f:()=>n});const d=[0,0,0],f=o(),m=h(),p=u(),g=c();Object.freeze({__proto__:null,create:r,clone:s,fromValues:n,fromArray:a,createView:l,zeros:function(){return[0,0,0]},ones:o,unitX:h,unitY:u,unitZ:c,ZEROS:d,ONES:f,UNIT_X:m,UNIT_Y:p,UNIT_Z:g})},81049:(e,t,i)=>{i.d(t,{Z:()=>x});var r,s=i(43697),n=i(3894),a=i(32448),l=i(22974),o=i(70586),h=i(71143),u=i(90584),c=i(75215),d=i(58971),f=i(5600),m=i(52525),p=i(39020);class g{constructor(){this._observers=[]}observe(e){return this._observers.includes(e)||this._observers.push(e),new p.X(this._observers,e)}notify(){const e=this._observers.slice();for(let t=0;t<e.length;++t){const i=e[t];i.onInvalidated(),i.onCommitted()}}}const y=new h.Z(class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},void 0,(e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1})),b=()=>{};function _(e){return e?e instanceof F?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function v(e){if(e&&e.length)return e[0]}function M(e,t,i,r){const s=Math.min(e.length-i,t.length-r);let n=0;for(;n<s&&e[i+n]===t[r+n];)n++;return n}function w(e,t,i,r){t&&t.forEach(((t,s,n)=>{e.push(t),w(e,i.call(r,t,s,n),i,r)}))}const E=new Set,I=new Set,T=new Set,C=new Map;let A=0,F=r=class extends a.Z.EventedAccessor{constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new g,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:A++})}static isCollection(e){return null!=e&&e instanceof r}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof r?{items:e}:e:{}}*[Symbol.iterator](){yield*this.items}get items(){return(0,d.it)(this._observable),this._items}set items(e){this._emitBeforeChanges(1)||(this._splice(0,this.length,..._(e)),this._emitAfterChanges(1))}hasEventListener(e){return"change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if("change"===e){const e=this._chgListeners,i={removed:!1,callback:t};return e.push(i),this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=b,i.removed=!0,e.splice(e.indexOf(i),1)}}}return this._emitter.on(e,t)}once(e,t){const i=this.on(e,t);return{remove(){i.remove()}}}add(e,t){if((0,d.it)(this._observable),this._emitBeforeChanges(1))return this;const i=this.getNextIndex(null!=t?t:null);return this._splice(i,0,e),this._emitAfterChanges(1),this}addMany(e,t=this._items.length){if((0,d.it)(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(1))return this;const i=this.getNextIndex(t);return this._splice(i,0,..._(e)),this._emitAfterChanges(1),this}removeAll(){if((0,d.it)(this._observable),!this.length||this._emitBeforeChanges(2))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(2),e}clone(){return(0,d.it)(this._observable),this._createNewInstance({items:this._items.map(l.d9)})}concat(...e){(0,d.it)(this._observable);const t=e.map(_);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if((0,d.it)(this._observable),!this.length||this._emitBeforeChanges(2))return;const i=(0,o.j0)(this._splice(0,this.length)),r=i.length;for(let s=0;s<r;s++)e.call(t,i[s],s,i);this._emitAfterChanges(2)}every(e,t){return(0,d.it)(this._observable),this._items.every(e,t)}filter(e,t){let i;return(0,d.it)(this._observable),i=2===arguments.length?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:i})}find(e,t){return(0,d.it)(this._observable),this._items.find(e,t)}findIndex(e,t){return(0,d.it)(this._observable),this._items.findIndex(e,t)}flatten(e,t){(0,d.it)(this._observable);const i=[];return w(i,this,e,t),new r(i)}forEach(e,t){return(0,d.it)(this._observable),this._items.forEach(e,t)}getItemAt(e){return(0,d.it)(this._observable),this._items[e]}getNextIndex(e){(0,d.it)(this._observable);const t=this.length;return(e=null==e?t:e)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return(0,d.it)(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return(0,d.it)(this._observable),this._items.indexOf(e,t)}join(e=","){return(0,d.it)(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return(0,d.it)(this._observable),this._items.lastIndexOf(e,t)}map(e,t){(0,d.it)(this._observable);const i=this._items.map(e,t);return new r({items:i})}reorder(e,t=this.length-1){(0,d.it)(this._observable);const i=this.indexOf(e);if(-1!==i){if(t<0?t=0:t>=this.length&&(t=this.length-1),i!==t){if(this._emitBeforeChanges(4))return e;this._splice(i,1),this._splice(t,0,e),this._emitAfterChanges(4)}return e}}pop(){if((0,d.it)(this._observable),!this.length||this._emitBeforeChanges(2))return;const e=v(this._splice(this.length-1,1));return this._emitAfterChanges(2),e}push(...e){return(0,d.it)(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,...e),this._emitAfterChanges(1)),this.length}reduce(e,t){(0,d.it)(this._observable);const i=this._items;return 2===arguments.length?i.reduce(e,t):i.reduce(e)}reduceRight(e,t){(0,d.it)(this._observable);const i=this._items;return 2===arguments.length?i.reduceRight(e,t):i.reduceRight(e)}remove(e){return(0,d.it)(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if((0,d.it)(this._observable),e<0||e>=this.length||this._emitBeforeChanges(2))return;const t=v(this._splice(e,1));return this._emitAfterChanges(2),t}removeMany(e){if((0,d.it)(this._observable),!e||!e.length||this._emitBeforeChanges(2))return[];const t=e instanceof r?e.toArray():e,i=this._items,s=[],n=t.length;for(let e=0;e<n;e++){const r=t[e],n=i.indexOf(r);if(n>-1){const r=1+M(t,i,e+1,n+1),a=this._splice(n,r);a&&a.length>0&&s.push.apply(s,a),e+=r-1}}return this._emitAfterChanges(2),s}reverse(){if((0,d.it)(this._observable),this._emitBeforeChanges(4))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,...e)),this._emitAfterChanges(4),this}shift(){if((0,d.it)(this._observable),!this.length||this._emitBeforeChanges(2))return;const e=v(this._splice(0,1));return this._emitAfterChanges(2),e}slice(e=0,t=this.length){return(0,d.it)(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return(0,d.it)(this._observable),this._items.some(e,t)}sort(e){if((0,d.it)(this._observable),!this.length||this._emitBeforeChanges(4))return this;const t=(0,o.j0)(this._splice(0,this.length));return arguments.length?t.sort(e):t.sort(),this._splice(0,0,...t),this._emitAfterChanges(4),this}splice(e,t,...i){(0,d.it)(this._observable);const r=(t?2:0)|(i.length?1:0);if(this._emitBeforeChanges(r))return[];const s=this._splice(e,t,...i)||[];return this._emitAfterChanges(r),s}toArray(){return(0,d.it)(this._observable),this._items.slice()}toJSON(){return(0,d.it)(this._observable),this.toArray()}toLocaleString(){return(0,d.it)(this._observable),this._items.toLocaleString()}toString(){return(0,d.it)(this._observable),this._items.toString()}unshift(...e){return(0,d.it)(this._observable),!e.length||this._emitBeforeChanges(1)||(this._splice(0,0,...e),this._emitAfterChanges(1)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,...i){const r=this._items,s=this.constructor.prototype.itemType;let n,a;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=(0,u.Os)((()=>this._dispatchChange()))),t){if(a=r.splice(e,t),this.hasEventListener("before-remove")){const t=y.acquire();t.target=this,t.cancellable=!0;for(let i=0,s=a.length;i<s;i++)n=a[i],t.reset(n),this.emit("before-remove",t),t.defaultPrevented&&(a.splice(i,1),r.splice(e,0,n),e+=1,i-=1,s-=1);y.release(t)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const e=y.acquire();e.target=this,e.cancellable=!1;const t=a.length;for(let i=0;i<t;i++)e.reset(a[i]),this.emit("after-remove",e);y.release(e)}}if(i&&i.length){if(s){const e=[];for(const t of i){const i=s.ensureType(t);null==i&&null!=t||e.push(i)}i=e}const t=this.hasEventListener("before-add"),n=this.hasEventListener("after-add"),a=e===this.length;if(t||n){const s=y.acquire();s.target=this,s.cancellable=!0;const l=y.acquire();l.target=this,l.cancellable=!1;for(const o of i)t?(s.reset(o),this.emit("before-add",s),s.defaultPrevented||(a?r.push(o):r.splice(e++,0,o),this._set("length",r.length),n&&(l.reset(o),this.emit("after-add",l)))):(a?r.push(o):r.splice(e++,0,o),this._set("length",r.length),l.reset(o),this.emit("after-add",l));y.release(l),y.release(s)}else{if(a)for(const e of i)r.push(e);else r.splice(e,0,...i);this._set("length",r.length)}}return(i&&i.length||a&&a.length)&&this._notifyChangeEvent(i,a),a}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const i=y.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),t=i.defaultPrevented,y.release(i)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=y.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),y.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const e=t.changes;E.clear(),I.clear(),T.clear();for(const{added:t,removed:i}of e){if(t)if(0===T.size&&0===I.size)for(const e of t)E.add(e);else for(const e of t)I.has(e)?(T.add(e),I.delete(e)):T.has(e)||E.add(e);if(i)if(0===T.size&&0===E.size)for(const e of i)I.add(e);else for(const e of i)E.has(e)?E.delete(e):(T.delete(e),I.add(e))}const i=n.Z.acquire();E.forEach((e=>{i.push(e)}));const r=n.Z.acquire();I.forEach((e=>{r.push(e)}));const s=this._items,a=t.items,l=n.Z.acquire();if(T.forEach((e=>{a.indexOf(e)!==s.indexOf(e)&&l.push(e)})),t.listeners&&(i.length||r.length||l.length)){const e={target:this,added:i,removed:r,moved:l},s=t.listeners.length;for(let i=0;i<s;i++){const r=t.listeners[i];r.removed||r.callback.call(this,e)}}n.Z.release(i),n.Z.release(r),n.Z.release(l)}E.clear(),I.clear(),T.clear()}};F.ofType=e=>{if(!e)return r;if(C.has(e))return C.get(e);let t=null;if("function"==typeof e)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const i in e.typeMap){const r=e.typeMap[i].prototype.declaredClass;t?t+=` | ${r}`:t=r}let i=class extends r{};i=(0,s._)([(0,m.j)(`esri.core.Collection<${t}>`)],i);const n={Type:e,ensureType:"function"==typeof e?(0,c.se)(e):(0,c.N7)(e)};return Object.defineProperty(i.prototype,"itemType",{value:n}),C.set(e,i),i},(0,s._)([(0,f.Cb)()],F.prototype,"length",void 0),(0,s._)([(0,f.Cb)()],F.prototype,"items",null),F=r=(0,s._)([(0,m.j)("esri.core.Collection")],F);var x=F},68668:(e,t,i)=>{i.d(t,{GZ:()=>l,wF:()=>o});var r=i(66643),s=i(81049),n=i(83379),a=i(70586);async function l(e,t){return await e.load(),o(e,t)}async function o(e,t){const i=[],l=(...e)=>{for(const t of e)(0,a.Wi)(t)||(Array.isArray(t)?l(...t):s.Z.isCollection(t)?t.forEach((e=>l(e))):n.Z.isLoadable(t)&&i.push(t))};t(l);let o=null;if(await(0,r.UI)(i,(async e=>{!1!==(await(0,r.q6)(function(e){return"loadAll"in e&&"function"==typeof e.loadAll}(e)?e.loadAll():e.load())).ok||o||(o=e)})),o)throw o.loadError;return e}},35463:(e,t,i)=>{i.d(t,{rJ:()=>l,Nm:()=>n,JE:()=>a}),i(80442);const r={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},s={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function n(e,t,i){const r=new Date(e.getTime());if(t&&i){const e=s[i],{getter:n,setter:a,multiplier:l}=e;r[a](r[n]()+t*l)}return r}function a(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function l(e,t,i){return 0===e?0:e*r[t]/r[i]}},63144:(e,t,i)=>{i.r(t),i.d(t,{default:()=>S});var r=i(43697),s=i(68668),n=i(70586),a=i(16453),l=i(5600),o=(i(80442),i(1153)),h=(i(75215),i(92604)),u=i(52525),c=i(30556),d=i(29600),f=i(78096),m=i(38009),p=i(16859),g=i(72965),y=i(81049),b=i(70921),_=i(95330);function v(e){return e&&"group"===e.type}function M(e,t,i){let r,s;if(e)for(let n=0,a=e.length;n<a;n++){if(r=e.getItemAt(n),r[t]===i)return r;if(v(r)&&(s=M(r.layers,t,i),s))return s}}const w=h.Z.getLogger("esri.support.LayersMixin"),E=e=>{let t=class extends e{constructor(...e){super(...e),this.layers=new y.Z;const t=e=>{e.parent=this,this.layerAdded(e),"elevation"!==e.type&&"base-elevation"!==e.type||w.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},i=e=>{e.parent=null,this.layerRemoved(e)};this.layers.on("before-add",(e=>(e=>{e.parent&&"remove"in e.parent&&e.parent.remove(e)})(e.item))),this.layers.on("after-add",(e=>t(e.item))),this.layers.on("after-remove",(e=>i(e.item)))}destroy(){const e=this.layers.removeAll();for(const t of e)this.layerRemoved(t),t.destroy();this.layers.destroy()}set layers(e){this._set("layers",(0,b.Z)(e,this._get("layers")))}add(e,t){const i=this.layers;if(t=i.getNextIndex(t),e instanceof d.Z){const r=e;r.parent===this?this.reorder(r,t):i.add(r,t)}else(0,_.y8)(e)?e.then((e=>{this.destroyed||this.add(e,t)})):w.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(e,t){const i=this.layers;t=i.getNextIndex(t),e.slice().forEach((e=>{e.parent!==this?(i.add(e,t),t+=1):this.reorder(e,t)}))}findLayerById(e){return M(this.layers,"id",e)}findLayerByUid(e){return M(this.layers,"uid",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,t){return this.layers.reorder(e,t)}layerAdded(e){}layerRemoved(e){}};return(0,r._)([(0,l.Cb)()],t.prototype,"layers",null),t=(0,r._)([(0,u.j)("esri.support.LayersMixin")],t),t},I="esri.support.TablesMixin",T=h.Z.getLogger(I);function C(e){return e&&"group"===e.type}function A(e,t,i){if(e)for(let r=0,s=e.length;r<s;r++){const s=e.getItemAt(r);if(s[t]===i)return s;if(C(s)){const e=A(s.tables,t,i);if(e)return e}}}const F=e=>{let t=class extends e{constructor(...e){super(...e),this.tables=new y.Z,this.tables.on("after-add",(e=>{const t=e.item;t.parent&&t.parent!==this&&"tables"in t.parent&&t.parent.tables.remove(t),t.parent=this,"feature"!==t.type&&T.error(`Layer 'title:${t.title}, id:${t.id}' of type '${t.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on("after-remove",(e=>{e.item.parent=null}))}destroy(){const e=this.tables.removeAll();for(const t of e)t.destroy();this.tables.destroy()}set tables(e){this._set("tables",(0,b.Z)(e,this._get("tables")))}findTableById(e){return A(this.tables,"id",e)}findTableByUid(e){return A(this.tables,"uid",e)}};return(0,r._)([(0,l.Cb)()],t.prototype,"tables",null),t=(0,r._)([(0,u.j)(I)],t),t};var x=i(15650);let L=class extends((0,f.h)((0,g.M)((0,m.q)((0,p.I)(F(E((0,a.R)(d.Z)))))))){constructor(e){super(e),this._visibilityHandles={},this.fullExtent=void 0,this.operationalLayerType="GroupLayer",this.spatialReference=void 0,this.type="group",this._visibilityWatcher=this._visibilityWatcher.bind(this)}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch("visible",this._visibleWatcher.bind(this),!0)}_writeLayers(e,t,i,r){const s=[];if(!e)return s;e.forEach((e=>{const t=(0,x.Nw)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);(0,n.pC)(t)&&t.layerType&&s.push(t)})),t.layers=s}set portalItem(e){this._set("portalItem",e)}set visibilityMode(e){const t=this._get("visibilityMode")!==e;this._set("visibilityMode",e),t&&this._enforceVisibility(e,this.visible)}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},e)),Promise.resolve(this)}loadAll(){return(0,s.GZ)(this,(e=>{e(this.layers)}))}layerAdded(e){e.visible&&"exclusive"===this.visibilityMode?this._turnOffOtherLayers(e):"inherited"===this.visibilityMode&&(e.visible=this.visible),this._visibilityHandles[e.uid]=e.watch("visible",this._visibilityWatcher,!0)}layerRemoved(e){const t=this._visibilityHandles[e.uid];t&&(t.remove(),delete this._visibilityHandles[e.uid]),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(e){this.layers.forEach((t=>{t!==e&&(t.visible=!1)}))}_enforceVisibility(e,t){if(!(0,o.vw)(this).initialized)return;const i=this.layers;let r=i.find((e=>e.visible));switch(e){case"exclusive":i.length&&!r&&(r=i.getItemAt(0),r.visible=!0),this._turnOffOtherLayers(r);break;case"inherited":i.forEach((e=>{e.visible=t}))}}_visibleWatcher(e){"inherited"===this.visibilityMode&&this.layers.forEach((t=>{t.visible=e}))}_visibilityWatcher(e,t,i,r){const s=r;switch(this.visibilityMode){case"exclusive":e?this._turnOffOtherLayers(s):this._isAnyLayerVisible()||(s.visible=!0);break;case"inherited":s.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some((e=>e.visible))}};(0,r._)([(0,l.Cb)()],L.prototype,"fullExtent",void 0),(0,r._)([(0,l.Cb)({json:{read:!1,write:{ignoreOrigin:!0}}})],L.prototype,"layers",void 0),(0,r._)([(0,c.c)("layers")],L.prototype,"_writeLayers",null),(0,r._)([(0,l.Cb)({type:["GroupLayer"]})],L.prototype,"operationalLayerType",void 0),(0,r._)([(0,l.Cb)({json:{origins:{"web-document":{read:!1,write:!1}}}})],L.prototype,"portalItem",null),(0,r._)([(0,l.Cb)()],L.prototype,"spatialReference",void 0),(0,r._)([(0,l.Cb)({json:{read:!1},readOnly:!0,value:"group"})],L.prototype,"type",void 0),(0,r._)([(0,l.Cb)({type:["independent","inherited","exclusive"],value:"independent",json:{write:!0,origins:{"web-map":{read:!1,write:!1}}}})],L.prototype,"visibilityMode",null),L=(0,r._)([(0,u.j)("esri.layers.GroupLayer")],L);var S=L},16859:(e,t,i)=>{i.d(t,{I:()=>v});var r=i(43697),s=i(40330),n=i(3172),a=i(66643),l=i(20102),o=i(92604),h=i(70586),u=i(95330),c=i(17452),d=i(5600),f=(i(80442),i(75215),i(71715)),m=i(52525),p=i(30556),g=i(65587),y=i(15235),b=i(86082);const _=o.Z.getLogger("esri.layers.mixins.PortalLayer"),v=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0}destroy(){var e;null==(e=this.portalItem)||e.destroy(),this.portalItem=null}set portalItem(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}readPortalItem(e,t,i){if(t.itemId)return new y.default({id:t.itemId,portal:i&&i.portal})}writePortalItem(e,t){e&&e.id&&(t.itemId=e.id)}async loadFromPortal(e,t){if(this.portalItem&&this.portalItem.id)try{const r=await i.e(8062).then(i.bind(i,18062));return(0,u.k_)(t),await r.load({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData},t)}catch(e){throw(0,u.D_)(e)||_.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${e}`),e}}async finishLoadEditablePortalLayer(e){this._set("userHasEditingPrivileges",await this.fetchUserHasEditingPrivileges(e).catch((e=>((0,u.r9)(e),!0))))}async fetchUserHasEditingPrivileges(e){const t=this.url?null==s.id?void 0:s.id.findCredential(this.url):null;if(!t)return!0;const i=M.credential===t?M.user:await this.fetchEditingUser(e);return M.credential=t,M.user=i,(0,h.Wi)(i)||null==i.privileges||i.privileges.includes("features:user:edit")}async fetchEditingUser(e){var t,i;const r=null==(t=this.portalItem)||null==(i=t.portal)?void 0:i.user;if(r)return r;const l=s.id.findServerInfo(this.url);if(null==l||!l.owningSystemUrl)return null;const o=`${l.owningSystemUrl}/sharing/rest`,u=g.Z.getDefault();if(u&&u.loaded&&(0,c.Fv)(u.restUrl)===(0,c.Fv)(o))return u.user;const d=`${o}/community/self`,f=(0,h.pC)(e)?e.signal:null,m=await(0,a.q6)((0,n.default)(d,{authMode:"no-prompt",query:{f:"json"},signal:f}));return m.ok?b.default.fromJSON(m.value.data):null}read(e,t){t&&(t.layer=this),super.read(e,t)}write(e,t){const i=t&&t.portal,r=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||g.Z.getDefault());return i&&r&&!(0,c.tm)(r.restUrl,i.restUrl)?(t.messages&&t.messages.push(new l.Z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(e,{...t,layer:this})}};return(0,r._)([(0,d.Cb)({type:y.default})],t.prototype,"portalItem",null),(0,r._)([(0,f.r)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),(0,r._)([(0,p.c)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),(0,r._)([(0,d.Cb)()],t.prototype,"resourceReferences",void 0),(0,r._)([(0,d.Cb)({readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),t=(0,r._)([(0,m.j)("esri.layers.mixins.PortalLayer")],t),t},M={credential:null,user:null}},35671:(e,t,i)=>{i.d(t,{io:()=>g,AB:()=>p,gd:()=>m,Q0:()=>f,YN:()=>h,UF:()=>c,O5:()=>y,os:()=>_,H7:()=>x,qN:()=>L,Pz:()=>O,Qc:()=>N,vP:()=>U}),i(20102);var r,s,n=i(78286);(s=r||(r={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",s.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";var a=i(59266);const l=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],o=["field","normalizationField"];function h(e,t){if(null!=e&&null!=t)for(const i of Array.isArray(e)?e:[e])if(u(l,i,t),"visualVariables"in i&&i.visualVariables)for(const e of i.visualVariables)u(o,e,t)}function u(e,t,i){if(e)for(const r of e){const e=(0,n.hS)(r,t),s=e&&"function"!=typeof e&&i.get(e);s&&(0,n.RB)(r,s.name,t)}}function c(e,t){if(null!=e&&null!=t&&t.fields.length)if("startField"in e){const i=t.get(e.startField),r=t.get(e.endField);e.startField=i&&i.name||null,e.endField=r&&r.name||null}else{const i=t.get(e.startTimeField),r=t.get(e.endTimeField);e.startTimeField=i&&i.name||null,e.endTimeField=r&&r.name||null}}const d=new Set;function f(e,t){return e&&t?(d.clear(),m(d,e,t),Array.from(d).sort()):[]}function m(e,t,i){var r;if(i)if(null!=t&&null!=(r=t.fields)&&r.length)if(i.includes("*"))for(const{name:i}of t.fields)e.add(i);else for(const r of i)p(e,t,r);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const t of i)e.add(t)}}function p(e,t,i){if("string"==typeof i)if(t){const r=t.get(i);r&&e.add(r.name)}else e.add(i)}async function g(e,t,i){var r;if(!i)return;const{arcadeUtils:s}=await(0,a.LC)(),n=s.extractFieldNames(i,null==t||null==(r=t.fields)?void 0:r.map((e=>e.name)));for(const i of n)p(e,t,i)}function y({displayField:e,fields:t}){return e||(t&&t.length?b(t,"name-or-title")||b(t,"unique-identifier")||b(t,"type-or-category")||function(e){for(const t of e){if(!t||!t.name)continue;const e=t.name.toLowerCase();if(e.indexOf("name")>-1||e.indexOf("title")>-1)return t.name}return null}(t):null)}function b(e,t){for(const i of e)if(i&&i.valueType&&i.valueType===t)return i.name;return null}function _(e){const t=e.defaultValue;return void 0!==t&&A(e,t)?t:e.nullable?null:void 0}function v(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function M(e){return null===e||v(e)}const w="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function E(e){return null===e||w(e)}function I(e){return null!=e&&"string"==typeof e}function T(e){return null===e||I(e)}function C(){return!0}function A(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":i=e.nullable?E:w;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?M:v;break;case"string":case"esriFieldTypeString":i=e.nullable?T:I;break;default:i=C}return 1===arguments.length?i:i(t)}const F=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function x(e){return null!=e&&F.has(e.type)}function L(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}var S,D;function O(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function N(e,t){return e.nullable&&null===t?null:x(e)&&!function(e,t){const i="string"==typeof e?R(e):e;return!!i&&(i.isInteger?w(t)&&t>=i.min&&t<=i.max:t>=i.min&&t<=i.max)}(e.type,Number(t))?S.OUT_OF_RANGE:A(e,t)?e.domain?function(e,t){switch(e.type){case"range":{const i="range"in e?e.range[0]:e.minValue,s="range"in e?e.range[1]:e.maxValue;if(+t<i||+t>s)return r.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==e.codedValues||e.codedValues.every((e=>null==e||e.code!==t)))return r.INVALID_CODED_VALUE}return null}(e.domain,t):null:D.INVALID_TYPE}function R(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return $;case"esriFieldTypeInteger":case"integer":return P;case"esriFieldTypeSingle":case"single":return q;case"esriFieldTypeDouble":case"double":return V}}!function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"}(S||(S={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(D||(D={}));const $={min:-32768,max:32767,isInteger:!0},P={min:-2147483648,max:2147483647,isInteger:!0},q={min:-34e37,max:12e37,isInteger:!1},V={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function U(e,t,i){switch(e){case r.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case r.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case D.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case S.OUT_OF_RANGE:{const{min:e,max:r}=R(t.type);return`Value ${i} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${r}`}}}},59266:(e,t,i)=>{i.d(t,{mz:()=>u,pp:()=>h,WW:()=>l,Yi:()=>o,LC:()=>a}),i(66577);var r=i(70586),s=i(82971);let n;function a(){return n||(n=(async()=>{const e=await Promise.all([i.e(9490),i.e(6690)]).then(i.bind(i,96690));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),n}const l=(e,t,i)=>u.create(e,t,i,null,["$feature"]),o=(e,t,i)=>u.create(e,t,i,null,["$feature","$view"]),h=(e,t,i,r)=>u.create(e,t,i,r,["$feature","$view"]);class u{constructor(e,t,i,r,s,n,a,l){this.script=e,this.evaluate=s;const o=Array.isArray(a)?a:a.fields;this.fields=o,this._syntaxTree=r,this._arcade=t,this._arcadeDictionary=i,this._arcadeFeature=n,this._spatialReference=l,this._referencesGeometry=t.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(e,t,i,n,l,o){const{arcade:h,Feature:c,Dictionary:d}=await a(),f=s.Z.fromJSON(t),m=h.parseScript(e,o),p=l.reduce(((e,t)=>({...e,[t]:null})),{});let g=null;(0,r.pC)(n)&&(g=new d(n),g.immutable=!0,p.$config=null);const y=h.scriptUsesGeometryEngine(m)&&h.enableGeometrySupport(),b=h.scriptUsesFeatureSet(m)&&h.enableFeatureSetSupport(),_=h.scriptIsAsync(m)&&h.enableAsyncSupport(),v={vars:p,spatialReference:f,useAsync:!!_},M=new d;M.immutable=!1,M.setField("scale",0);const w=h.compileScript(m,v);return await Promise.all([y,b,_]),new u(e,h,d,m,(e=>("$view"in e&&e.$view&&(M.setField("scale",e.$view.scale),e.$view=M),g&&(e.$config=g),w({vars:e,spatialReference:f}))),new c,i,f)}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}repurposeAdapter(e){return this._arcadeFeature.repurposeFromAdapter(e,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(e){return this._arcade.referencesMember(this._syntaxTree,e)}referencesFunction(e){return this._arcade.referencesFunction(this._syntaxTree,e)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}},15650:(e,t,i)=>{i.d(t,{Nw:()=>f});var r=i(20102),s=i(22974),n=i(70586),a=i(78286),l=i(827);const o=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),h=new Set(["csv","feature","geo-rss","group","imagery","imagery-tile","kml","map-image","map-notes","ogc-feature","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function u(e){return!("feature"!==e.type||e.url||!e.source||"memory"!==e.source.type)}function c(e,t){if(t.restrictedWebMapWriting){const i=function(e){return"basemap"===e.layerContainerType?o:"operational-layers"===e.layerContainerType?h:null}(t);return!(0,n.pC)(i)||i.has(e.type)&&!u(e)}return!0}function d(e,t){"maxScale"in e&&(t.maxScale=(0,l.k)(e.maxScale)),"minScale"in e&&(t.minScale=(0,l.k)(e.minScale))}function f(e,t,i){if(!("write"in e)||!e.write)return i&&i.messages&&i.messages.push(new r.Z("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(c(e,i)){const t={};return e.write(t,i)?t:null}return(0,n.pC)(t)&&function(e,t){if(function(e,t){if(u(e)){const i=(0,a.hS)("featureCollection.layers",t),r=i&&i[0]&&i[0].layerDefinition;r&&d(e,r)}else"stream"===e.type?d(e,t.layerDefinition=t.layerDefinition||{}):"group"!==e.type&&d(e,t)}(e,t),"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=(0,l.k)(e.opacity),t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type)if(u(e)){const i=t.featureCollection;i&&(i.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}(e,t=(0,s.d9)(t)),t}}}]);