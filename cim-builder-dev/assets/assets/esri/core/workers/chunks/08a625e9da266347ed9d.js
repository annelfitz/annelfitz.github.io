"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[5191],{68773:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(16358),o=(n(80442),n(78286));const i={apiKey:void 0,applicationUrl:r.Z.location&&r.Z.location.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(r.Z.esriConfig&&((0,o.RH)(i,r.Z.esriConfig,!0),delete i.has),!i.assetsPath){const e="4.21.2";i.assetsPath=`https://js.arcgis.com/${e.slice(0,-2)}/@arcgis/core/assets`}i.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(i,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),i.request.corsEnabledServers=[],i.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0}},20102:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(22974),o=n(92604),i=n(58896);class s extends i.Z{constructor(e,t,n){if(super(e,t,n),!(this instanceof s))return new s(e,t,n)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((e,t)=>{if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return(0,r.d9)(t)}catch(e){return"[object]"}})))}}catch(e){throw o.Z.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new s(e.name,e.message,e.details)}}s.prototype.type="error"},92604:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(68773),o=(n(80442),n(70586)),i=n(19153);const s={info:0,warn:1,error:2,none:3};class c{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=e.level&&(this.level=e.level),null!=e.writer&&(this.writer=e.writer),this._module=e.module,c._loggers[this.module]=this;const t=this.module.lastIndexOf(".");-1!==t&&(this._parent=c.getLogger(this.module.slice(0,t)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){const e=this;return{loggedMessages:e._loggedMessages,clearLoggedWarnings:()=>e._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(e={}){const t=c._loggers;return c._loggers=e,t},set throttlingDisabled(e){c._throttlingDisabled=e}}}static getLogger(e){let t=c._loggers[e];return t||(t=new c({module:e})),t}_log(e,t,...n){if(this._matchLevel(e)){if("always"!==t&&!c._throttlingDisabled){const r=this._argsToKey(n),o=this._loggedMessages[e].get(r);if("once"===t&&null!=o||"oncePerTick"===t&&o&&o>=c._tickCounter)return;this._loggedMessages[e].set(r,c._tickCounter),c._scheduleTickCounterIncrement()}for(const t of r.Z.log.interceptors)if(t(e,this.module,...n))return;this._inheritedWriter()(e,this.module,...n)}}_parentWithMember(e,t){let n=this;for(;(0,o.pC)(n);){const t=n[e];if((0,o.pC)(t))return t;n=n.parent}return t}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(e,t,...n){console[e](`[${t}]`,...n)}_matchLevel(e){const t=r.Z.log.level?r.Z.log.level:"warn";return s[this._parentWithMember("level",t)]<=s[e]}_argsToKey(...e){return(0,i.hP)(JSON.stringify(e,((e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]")))}static _scheduleTickCounterIncrement(){c._tickCounterScheduled||(c._tickCounterScheduled=!0,Promise.resolve().then((()=>{c._tickCounter++,c._tickCounterScheduled=!1})))}}c._loggers={},c._tickCounter=0,c._tickCounterScheduled=!1,c._throttlingDisabled=!1},58896:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(78286);class o{constructor(e,t,n){this.name=e,this.details=n,this.message=void 0,this instanceof o&&(this.message=t&&function(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(function(e,n){if(""===n)return"$";const o=(0,r.hS)(n,t),i=null==o?"":o;if(void 0===i)throw new Error(`could not find key "${n}" in template`);return i.toString()}))}(t,n)||"")}toString(){return"["+this.name+"]: "+this.message}}},91460:(e,t,n)=>{function r(e){return e&&("function"==typeof e.on||"function"==typeof e.addEventListener)}function o(e,t,n){if(!r(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,n);if(Array.isArray(t)){const r=t.slice();for(const t of r)e.addEventListener(t,n);return{remove(){for(const t of r)e.removeEventListener(t,n)}}}return e.addEventListener(t,n),{remove(){e.removeEventListener(t,n)}}}function i(e,t,n){if(!r(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,n);const i=o(e,t,(t=>{i.remove(),n.call(e,t)}));return{remove(){i.remove()}}}n.d(t,{vT:()=>r,on:()=>o,IH:()=>i})},16358:(e,t,n)=>{n.d(t,{Z:()=>r});const r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0},80442:(e,t,n)=>{n.d(t,{Z:()=>u});var r,o,i=n(16358);let s;var c,a;function u(e){return"function"==typeof s[e]?s[e]=s[e](i.Z):s[e]}s=null!=(r=i.Z.dojoConfig)&&r.has||null!=(o=i.Z.esriConfig)&&o.has?{...null==(c=i.Z.dojoConfig)?void 0:c.has,...null==(a=i.Z.esriConfig)?void 0:a.has}:{},u.add=(e,t,n,r)=>((r||void 0===s[e])&&(s[e]=t),n&&u(e)),u.cache=s,u.add("esri-deprecation-warnings",!0),(()=>{u.add("host-webworker",void 0!==i.Z.WorkerGlobalScope&&self instanceof i.Z.WorkerGlobalScope);const e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(u.add("host-browser",e),u.add("host-node","object"==typeof i.Z.process&&i.Z.process.versions&&i.Z.process.versions.node&&i.Z.process.versions.v8),u.add("dom",e),u("host-browser")){const e=navigator,t=e.userAgent,n=e.appVersion,r=parseFloat(n);if(u.add("wp",parseFloat(t.split("Windows Phone")[1])||void 0),u.add("msapp",parseFloat(t.split("MSAppHost/")[1])||void 0),u.add("khtml",n.includes("Konqueror")?r:void 0),u.add("edge",parseFloat(t.split("Edge/")[1])||void 0),u.add("opr",parseFloat(t.split("OPR/")[1])||void 0),u.add("webkit",!u("wp")&&!u("edge")&&parseFloat(t.split("WebKit/")[1])||void 0),u.add("chrome",!u("edge")&&!u("opr")&&parseFloat(t.split("Chrome/")[1])||void 0),u.add("android",!u("wp")&&parseFloat(t.split("Android ")[1])||void 0),u.add("safari",!n.includes("Safari")||u("wp")||u("chrome")||u("android")||u("edge")||u("opr")?void 0:parseFloat(n.split("Version/")[1])),u.add("mac",n.includes("Macintosh")),!u("wp")&&t.match(/(iPhone|iPod|iPad)/)){const e=RegExp.$1.replace(/P/,"p"),n=t.match(/OS ([\d_]+)/)?RegExp.$1:"1",r=parseFloat(n.replace(/_/,".").replace(/_/g,""));u.add(e,r),u.add("ios",r)}u.add("trident",parseFloat(n.split("Trident/")[1])||void 0),u("webkit")||(!t.includes("Gecko")||u("wp")||u("khtml")||u("trident")||u("edge")||u.add("mozilla",r),u("mozilla")&&u.add("ff",parseFloat(t.split("Firefox/")[1]||t.split("Minefield/")[1])||void 0))}})(),(()=>{if(i.Z.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),n=/iPhone/i.test(e);t&&u.add("esri-mobile",t),n&&u.add("esri-iPhone",n),u.add("esri-geolocation",!!navigator.geolocation)}u.add("esri-canvas-svg-support",!u("trident")),u.add("esri-wasm","WebAssembly"in i.Z),u.add("esri-shared-array-buffer",(()=>{const e="SharedArrayBuffer"in i.Z,t=!1===i.Z.crossOriginIsolated;return e&&!t})),u.add("esri-atomics","Atomics"in i.Z),u.add("esri-workers","Worker"in i.Z),u.add("esri-text-decoder","TextDecoder"in i.Z),u.add("esri-text-encoder","TextEncoder"in i.Z),u.add("web-feat:cache","caches"in i.Z),u.add("esri-workers-arraybuffer-transfer",!u("safari")||Number(u("safari"))>=12),u.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),u.add("featurelayer-simplify-payload-size-factors",[1,1,4]),u.add("featurelayer-snapshot-enabled",!0),u.add("featurelayer-snapshot-point-min-threshold",8e4),u.add("featurelayer-snapshot-point-max-threshold",4e5),u.add("featurelayer-snapshot-point-coverage",.1),u.add("featurelayer-advanced-symbols",!1),u.add("featurelayer-pbf",!0),u.add("featurelayer-pbf-statistics",!1),u.add("feature-layers-workers",!0),u.add("mapview-transitions-duration",200),u.add("mapserver-pbf-enabled",!1),u("host-webworker")||u("host-browser")&&(u.add("csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),u.add("esri-image-decode",(()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{u.add("esri-image-decode",!0,!0,!0)})).catch((()=>{u.add("esri-image-decode",!1,!0,!0)}))}return!1})),u.add("esri-url-encodes-apostrophe",(()=>{const e=i.Z.document.createElement("a");return e.href="?'",e.href.includes("?%27")})),u.add("vectortilelayer-max-buffers",u("ff")?160:Number.POSITIVE_INFINITY))})()},22974:(e,t,n)=>{n.d(t,{d9:()=>i,fS:()=>s,yd:()=>o}),n(80442);var r=n(1533);function o(e,t){let n;if(t)for(n in e)e.hasOwnProperty(n)&&(void 0===e[n]?delete e[n]:e[n]instanceof Object&&o(e[n],!0));else for(n in e)e.hasOwnProperty(n)&&void 0===e[n]&&delete e[n];return e}function i(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;if((0,r.W0)(e)||(0,r.lq)(e)||(0,r.KZ)(e)||(0,r.z3)(e)||(0,r.Uc)(e)||(0,r.Hx)(e)||(0,r.ZY)(e)||(0,r.xZ)(e)||(0,r.fS)(e))return(0,r.tP)(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;return e.forEach(((e,n)=>{t.set(n,i(e))})),t}if(e instanceof Set){const t=new Set;return e.forEach((e=>{t.add(i(e))})),t}let t;const n=e;if("function"==typeof n.clone)t=n.clone();else if("function"==typeof n.map&&"function"==typeof n.forEach)t=n.map(i);else if("function"==typeof n.notifyChange&&"function"==typeof n.watch)t=n.clone();else{t={};for(const n of Object.getOwnPropertyNames(e))t[n]=i(e[n])}return t}function s(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof(e||{}).getTime&&"function"==typeof(t||{}).getTime&&e.getTime()===t.getTime()||!1}},70586:(e,t,n)=>{function r(e){return null!=e}function o(e){return null==e}function i(e){return void 0===e}function s(e,t){return r(e)?t(e):null}function c(e){return e}function a(e,t){if(o(e))throw new Error(t);return e}function u(e,t){return r(e)?e:"function"==typeof t?t():t}function l(e){return r(e)&&e.destroy(),null}function f(e){return r(e)&&e.dispose(),null}function d(e){return r(e)&&e.remove(),null}function h(e){return r(e)&&e.release(),null}function p(e){return null}function g(e,t){const n=new Array;for(const r of e)n.push(y(r,null,t));return n}function m(e,t){for(const n of e)y(n,null,t)}function y(e,t,n){return r(e)?n(e):t}function w(e,t){return r(e)?t(e):null}function v(e){return e.filter((e=>r(e)))}function b(e,...t){let n=e;for(let e=0;e<t.length&&n;++e)n=n[t[e]];return n}function x(e){return e}n.d(t,{Po:()=>w,yw:()=>s,j0:()=>x,SC:()=>l,O3:()=>f,lV:()=>v,JR:()=>m,U2:()=>b,Wi:()=>o,pC:()=>r,o8:()=>i,Fd:()=>g,R2:()=>y,Bd:()=>p,RY:()=>h,hw:()=>d,Wg:()=>c,Pt:()=>u,s3:()=>a})},78286:(e,t,n)=>{n.d(t,{RH:()=>o,hS:()=>i,RB:()=>s});var r=n(22974);function o(e,t,n=!1){return a(e,t,n)}function i(e,t){if(null!=t)return t[e]||c(e.split("."),!1,t)}function s(e,t,n){const r=e.split("."),o=r.pop(),i=c(r,!0,n);i&&o&&(i[o]=t)}function c(e,t,n){let r=n;for(const n of e){if(null==r)return;if(!(n in r)){if(!t)return;r[n]={}}r=r[n]}return r}function a(e,t,n){return t?Object.keys(t).reduce((function(e,o){let i=e[o],s=t[o];return i===s?e:void 0===i?(e[o]=(0,r.d9)(s),e):(Array.isArray(s)||Array.isArray(e)?(i=i?Array.isArray(i)?e[o]=i.concat():e[o]=[i]:e[o]=[],s&&(Array.isArray(s)||(s=[s]),n?s.forEach((e=>{-1===i.indexOf(e)&&i.push(e)})):e[o]=s.concat())):s&&"object"==typeof s?e[o]=a(i,s,n):e.hasOwnProperty(o)&&!t.hasOwnProperty(o)||(e[o]=s),e)}),e||{}):e}},95330:(e,t,n)=>{n.d(t,{e4:()=>$,$6:()=>a,Ue:()=>u,yi:()=>f,zE:()=>l,dD:()=>O,hh:()=>j,vr:()=>E,Ds:()=>U,as:()=>P,WW:()=>A,R8:()=>x,D_:()=>b,Hc:()=>p,tI:()=>Z,y8:()=>k,fu:()=>y,$F:()=>w,d1:()=>C,DB:()=>_,r9:()=>g,k_:()=>d,H9:()=>m,gx:()=>S,Hl:()=>v});var r,o=(r=n(16358).Z,{setTimeout:(e,t)=>{const n=r.setTimeout(e,t);return{remove:()=>r.clearTimeout(n)}}}),i=n(20102),s=n(91460),c=(n(92604),n(70586));function a(e){return Promise.all(e)}function u(e){return new Promise(((t,n)=>{try{e(t,n)}catch(e){Promise.resolve().then((()=>n(e)))}}))}function l(e="Aborted"){return new i.Z("AbortError",e)}function f(){return new AbortController}function d(e,t="Aborted"){if(p(e))throw l(t)}function h(e){return(0,c.pC)(e)?"aborted"in e?e:e.signal:e}function p(e){const t=h(e);return(0,c.pC)(t)&&t.aborted}function g(e){if(b(e))throw e}function m(e){if(!b(e))throw e}function y(e,t){const n=h(e);if(!(0,c.Wi)(n)){if(!n.aborted)return(0,s.IH)(n,"abort",(()=>t()));t()}}function w(e,t){const n=h(e);if(!(0,c.Wi)(n))return d(n),(0,s.IH)(n,"abort",(()=>t(l())))}function v(e,t){const n=h(t);return(0,c.Wi)(n)?e:new Promise(((n,r)=>{let o=y(t,(()=>r(l())));const i=()=>o=(0,c.hw)(o);e.then(i,i),e.then(n,r)}))}function b(e){return e&&"AbortError"===e.name}function x(e){return e.catch((e=>{if(!b(e))throw e}))}function O(){let e=null;const t=new Promise(((t,n)=>{e={promise:void 0,resolve:t,reject:n}}));return e.promise=t,e}function P(e){if(!e)return;if("function"!=typeof e.forEach){const t=Object.keys(e);return P(t.map((t=>e[t]))).then((e=>{const n={};return t.forEach(((t,r)=>n[t]=e[r])),n}))}const t=e;return u((e=>{const n=[];let r=t.length;0===r&&e(n),t.forEach((t=>{const o={promise:t||Promise.resolve(t)};n.push(o),o.promise.then((e=>{o.value=e})).catch((e=>{o.error=e})).then((()=>{--r,0===r&&e(n)}))}))}))}function A(e){return P(e).then((e=>e.filter((e=>!!e.value)).map((e=>e.value))))}function C(e){return Promise.reject(e)}function _(e){return Promise.resolve(e)}function $(e,t,n){const r=f();return y(n,(()=>r.abort())),new Promise(((n,o)=>{let i=setTimeout((()=>{i=0,n(t)}),e);y(r,(()=>{i&&(clearTimeout(i),o(l()))}))}))}function k(e){return e&&"function"==typeof e.then}function S(e){return Z(e)?e:Promise.resolve(e)}function Z(e){return e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}function U(e,t=-1){let n,r,o,i,s=null;const a=(...u)=>{if(n){r=u,i&&i.reject(l()),i=O();const e=(0,c.j0)(i.promise);if(s){const e=s;s=null,e.abort()}return e}if(o=i||O(),i=null,t>0){const r=f();n=S(e(...u,r.signal));const o=n;$(t).then((()=>{n===o&&(i?r.abort():s=r)}))}else n=1,n=S(e(...u));const d=()=>{const e=r;r=o=n=s=null,null!=e&&a(...e)},h=n,p=o;return h.then(d,d),h.then(p.resolve,p.reject),(0,c.j0)(p.promise)};return a}function j(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r})),r=t=>{e(t)};return r.resolve=t=>e(t),r.reject=e=>t(e),r.timeout=(e,t)=>o.setTimeout((()=>r.reject(t)),e),r.promise=n,r}function E(e){let t=f();const n=e(t.signal);let r={promise:n,finished:!1,abort:()=>{t&&(t.abort(),t=null)}};const o=()=>{r&&(r.finished=!0,r=null),t=null};return n.then(o,o),r}},19153:(e,t,n)=>{n.d(t,{Qs:()=>c,hP:()=>a,gx:()=>s,Cb:()=>u});var r=n(78286);const o=/\{([^\}]+)\}/g;function i(e){return null==e?"":e}function s(e,t){return e.replace(o,"object"==typeof t?(e,n)=>i((0,r.hS)(n,t)):(e,n)=>i(t(n)))}function c(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,(e=>t&&-1!==t.indexOf(e)?e:`\\${e}`))}function a(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}function u(e){return(new DOMParser).parseFromString(e||"","text/html").body.innerText||""}},1533:(e,t,n)=>{function r(e,t){if(e.forEach)e.forEach(t);else for(let n=0;n<e.length;n++)t(e[n],n,e)}function o(e,t,n){if(e.slice)return e.slice(t,n);void 0===t?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),void 0===n?n=e.length:(n<0&&(n+=e.length),n=Math.min(e.length,Math.max(0,n)));const r=Math.max(0,n-t),o=new(0,e.constructor)(r);for(let n=0;n<r;n++)o[n]=e[t+n];return o}function i(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name}function s(e){return e instanceof Int8Array||e&&e.constructor&&"Int8Array"===e.constructor.name}function c(e){return e instanceof Uint8Array||e&&e.constructor&&"Uint8Array"===e.constructor.name}function a(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&"Uint8ClampedArray"===e.constructor.name}function u(e){return e instanceof Int16Array||e&&e.constructor&&"Int16Array"===e.constructor.name}function l(e){return e instanceof Uint16Array||e&&e.constructor&&"Uint16Array"===e.constructor.name}function f(e){return e instanceof Int32Array||e&&e.constructor&&"Int32Array"===e.constructor.name}function d(e){return e instanceof Uint32Array||e&&e.constructor&&"Uint32Array"===e.constructor.name}function h(e){return e instanceof Float32Array||e&&e.constructor&&"Float32Array"===e.constructor.name}function p(e){return e instanceof Float64Array||e&&e.constructor&&"Float64Array"===e.constructor.name}n.d(t,{Ed:()=>r,eP:()=>i,xZ:()=>h,fS:()=>p,z3:()=>u,Hx:()=>f,W0:()=>s,Uc:()=>l,ZY:()=>d,lq:()=>c,KZ:()=>a,tP:()=>o})},17452:(e,t,n)=>{n.d(t,{R9:()=>w,qg:()=>$,tD:()=>U,ZN:()=>ue,fl:()=>le,AX:()=>x,Gd:()=>v,Ie:()=>se,sJ:()=>G,AH:()=>z,vt:()=>oe,oh:()=>I,P$:()=>D,Ml:()=>fe,ed:()=>j,b7:()=>_,D6:()=>R,tm:()=>E,YP:()=>H,jc:()=>B,HK:()=>J,$U:()=>X,oC:()=>V,kl:()=>q,v_:()=>N,hF:()=>W,_l:()=>Y,PF:()=>F,Fv:()=>L,B7:()=>C,u0:()=>P,Yd:()=>re,Hu:()=>ae,Qj:()=>ie,hO:()=>ee,mN:()=>O});var r=n(68773),o=n(20102),i=(n(16358),n(92604)),s=n(70586);const c=i.Z.getLogger("esri.core.urlUtils"),a=r.Z.request,u="esri/config: esriConfig.request.proxyUrl is not set.",l=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,f=/^\s*http:/i,d=/^\s*https:/i,h=/^\s*file:/i,p=/:\d+$/,g=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,m=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),y=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class w{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let t=(0,s.j0)(this.uri.match(m));this.scheme=t[2]||(t[1]?"":null),this.authority=t[4]||(t[3]?"":null),this.path=t[5],this.query=t[7]||(t[6]?"":null),this.fragment=t[9]||(t[8]?"":null),null!=this.authority&&(t=(0,s.j0)(this.authority.match(y)),this.user=t[3]||null,this.password=t[4]||null,this.host=t[6]||t[7],this.port=t[9]||null)}toString(){return this.uri}}const v=new w(r.Z.applicationUrl),b={},x=(()=>{const e=(0,s.j0)(v.path),t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${v.scheme}://${v.host}${null!=v.port?`:${v.port}`:""}${t}`})();function O(e){const t={path:null,query:null},n=new w(e),r=e.indexOf("?");return null===n.query?t.path=e:(t.path=e.substring(0,r),t.query=P(n.query)),n.fragment&&(t.hash=n.fragment,null===n.query&&(t.path=t.path.substring(0,t.path.length-(n.fragment.length+1)))),t}function P(e){const t=e.split("&"),n={};for(const e of t){if(!e)continue;const t=e.indexOf("=");let r,o;t<0?(r=decodeURIComponent(e),o=""):(r=decodeURIComponent(e.slice(0,t)),o=decodeURIComponent(e.slice(t+1)));let i=n[r];"string"==typeof i&&(i=n[r]=[i]),Array.isArray(i)?i.push(o):n[r]=o}return n}function A(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON}function C(e,t){return e?t&&"function"==typeof t?Object.keys(e).map((n=>encodeURIComponent(n)+"="+encodeURIComponent(t(n,e[n])))).join("&"):Object.keys(e).map((n=>{const r=e[n];if(null==r)return"";const o=encodeURIComponent(n)+"=",i=t&&t[n];return i?o+encodeURIComponent(i(r)):Array.isArray(r)?r.map((e=>A(e)?o+encodeURIComponent(JSON.stringify(e)):o+encodeURIComponent(e))).join("&"):A(r)?o+encodeURIComponent(JSON.stringify(r)):o+encodeURIComponent(r)})).filter((e=>e)).join("&"):""}function _(e=!1){let t,n=a.proxyUrl;if("string"==typeof e){t=X(e);const r=j(e);r&&(n=r.proxyUrl)}else t=!!e;if(!n)throw c.warn(u),new o.Z("urlutils:proxy-not-set",u);return t&&te()&&(n=ee(n)),O(n)}function $(e){const t=j(e);let n,r;if(t){const e=S(t.proxyUrl);n=e.path,r=e.query?P(e.query):null}if(n){const t=O(e);e=n+"?"+t.path;const o=C({...r,...t.query});o&&(e=`${e}?${o}`)}return e}const k={path:"",query:""};function S(e){const t=e.indexOf("?");return-1!==t?(k.path=e.slice(0,t),k.query=e.slice(t+1)):(k.path=e,k.query=null),k}function Z(e){return(e=ne(e=function(e){return e&&"/"===e[e.length-1]?e:`${e}/`}(e=S(e).path),!0)).toLowerCase()}function U(e){const t={proxyUrl:e.proxyUrl,urlPrefix:Z(e.urlPrefix)},n=a.proxyRules,r=t.urlPrefix;let o=n.length;for(let e=0;e<n.length;e++){const t=n[e].urlPrefix;if(0===r.indexOf(t)){if(r.length===t.length)return-1;o=e;break}0===t.indexOf(r)&&(o=e+1)}return n.splice(o,0,t),o}function j(e){const t=a.proxyRules,n=Z(e);for(let e=0;e<t.length;e++)if(0===n.indexOf(t[e].urlPrefix))return t[e]}function E(e,t){return e=T(e),t=T(t),ne(e)===ne(t)}function T(e){const t=(e=L(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function I(e){const t=t=>null==t||t instanceof RegExp&&t.test(e)||"string"==typeof t&&e.startsWith(t),n=a.interceptors;if(n)for(const e of n)if(Array.isArray(e.urls)){if(e.urls.some(t))return e}else if(t(e.urls))return e;return null}function R(e,t,n=!1){const r=ce(e),o=ce(t);return!(!n&&r.scheme!==o.scheme)&&null!=r.host&&null!=o.host&&r.host.toLowerCase()===o.host.toLowerCase()&&r.port===o.port}function q(e){if("string"==typeof e){if(!H(e))return!0;e=ce(e)}if(R(e,v))return!0;const t=a.trustedServers||[];for(let n=0;n<t.length;n++){const r=M(t[n]);for(let t=0;t<r.length;t++)if(R(e,r[t]))return!0}return!1}function M(e){return b[e]||(Q(e)||V(e)?b[e]=[new w(W(e))]:b[e]=[new w(`http://${e}`),new w(`https://${e}`)]),b[e]}function W(e,t=x,n){return V(e)?n&&n.preserveProtocolRelative?e:"http"===v.scheme&&v.authority===D(e).slice(2)?`http:${e}`:`https:${e}`:Q(e)?e:(0,s.j0)(N("/"===e[0]?function(e){const t=e.indexOf("//"),n=e.indexOf("/",t+2);return-1===n?e:e.slice(0,n)}(t):t,e))}function F(e,t=x,n){if(!H(e))return e;const r=L(e),o=r.toLowerCase(),i=L(t).toLowerCase().replace(/\/+$/,""),s=n?L(n).toLowerCase().replace(/\/+$/,""):null;if(s&&0!==i.indexOf(s))return e;const c=(e,t,n)=>-1===(n=e.indexOf(t,n))?e.length:n;let a=c(o,"/",o.indexOf("//")+2),u=-1;for(;o.slice(0,a+1)===i.slice(0,a)+"/"&&(u=a+1,a!==o.length);)a=c(o,"/",a+1);if(-1===u)return e;if(s&&u<s.length)return e;e=r.slice(u);const l=i.slice(u-1).replace(/[^/]+/g,"").length;if(l>0)for(let t=0;t<l;t++)e=`../${e}`;else e=`./${e}`;return e}function L(e){return function(e){const t=a.httpsDomains;if(!function(e){return f.test(e)||"http"===v.scheme&&V(e)}(e))return e;const n=e.indexOf("/",7);let r;if(r=-1===n?e:e.slice(0,n),r=r.toLowerCase().slice(7),p.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return"http"===v.scheme&&r===v.authority&&!g.test(e)||(te()&&r===v.authority||t&&t.some((e=>r===e||r.endsWith(`.${e}`)))||te()&&!j(e))&&(e=ee(e)),e}(e=function(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(e=function(e){if(/^https?:\/\//i.test(e)){const t=S(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}(e=W(e=e.trim()))))}function N(...e){const t=e.filter(s.pC);if(!t||!t.length)return;const n=[];if(H(t[0])){const e=t[0],r=e.indexOf("//");-1!==r&&(n.push(e.slice(0,r+1)),function(e){return h.test(e)}(t[0])&&(n[0]+="/"),t[0]=e.slice(r+2))}else"/"===t[0][0]&&n.push("");const r=t.reduce(((e,t)=>t?e.concat(t.split("/")):e),[]);for(let e=0;e<r.length;e++){const t=r[e];".."===t&&n.length>0&&".."!==n[n.length-1]?n.pop():(!t&&e===r.length-1||t&&("."!==t||0===n.length))&&n.push(t)}return n.join("/")}function D(e,t=!1){if(B(e)||J(e))return null;let n=e.indexOf("://");if(-1===n&&V(e))n=2;else{if(-1===n)return null;n+=3}const r=e.indexOf("/",n);return-1!==r&&(e=e.slice(0,r)),t&&(e=ne(e,!0)),e}function H(e){return V(e)||Q(e)}function B(e){return null!=e&&"blob:"===e.slice(0,5)}function J(e){return"data:"===e.slice(0,5)}function z(e){const t=G(e);if(!t||!t.isBase64)return null;const n=atob(t.data),r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r.buffer}const K=/^data:(.*?)(;base64)?,(.*)$/;function G(e){const t=e.match(K);if(!t)return null;const[,n,r,o]=t;return{mediaType:n,isBase64:!!r,data:o}}function Y(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}function V(e){return null!=e&&void 0!==e&&"/"===e[0]&&"/"===e[1]}function Q(e){return l.test(e)}function X(e){return d.test(e)||"https"===v.scheme&&V(e)}function ee(e){return V(e)?`https:${e}`:e.replace(f,"https:")}function te(){return"https"===v.scheme}function ne(e,t=!1){return V(e)?e.slice(2):(e=e.replace(l,""),t&&e.length>1&&"/"===e[0]&&"/"===e[1]&&(e=e.slice(2)),e)}function re(e){let t=0;if(H(e)){const n=e.indexOf("//");-1!==n&&(t=n+2)}const n=e.lastIndexOf("/");return n<t?e:e.slice(0,n+1)}function oe(e,t){if(!e)return"";const n=O(e).path.replace(/\/+$/,""),r=n.substring(n.lastIndexOf("/")+1);if(null==t||!t.length)return r;const o=new RegExp(`.(${t.join("|")})$`,"ig");return r.replace(o,"")}function ie(e){return e.replace(/\/+$/,"")}function se(e,t,n){if(!(t&&n&&e&&H(e)))return e;const r=e.indexOf("//"),o=e.indexOf("/",r+2),i=e.indexOf(":",r+2),s=Math.min(o<0?e.length:o,i<0?e.length:i);return e.slice(r+2,s).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,r+2)}${n}${e.slice(s)}`}function ce(e){return"string"==typeof e?new w(W(e)):(e.scheme||(e.scheme=v.scheme),e)}function ae(e,t){const n=O(e),r=Object.keys(n.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),n.path}function ue(e,t,n){const r=O(e),o=r.query||{};return o[t]=String(n),`${r.path}?${C(o)}`}function le(e,t){const n=O(e),r=n.query||{};for(const e in t)r[e]=t[e];const o=C(r);return o?`${n.path}?${o}`:n.path}function fe(e){if((0,s.Wi)(e))return null;const t=e.match(de);return t?t[1]:null}const de=/.*?\.([^\/]*)$/}}]);