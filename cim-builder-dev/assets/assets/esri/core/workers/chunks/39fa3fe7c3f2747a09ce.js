"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[5606,3172],{66748:(e,n,t)=>{t.r(n),t.d(n,{registerFunctions:()=>E});var r=t(40330),o=t(77286),s=t(61363),a=t(71201),i=t(95330),l=t(6570),u=t(9361),c=t(8667),f=t(65091),d=t(13473),h=t(17332),p=t(58901),g=t(33955),m=t(67900);function w(e){return 0===r.i8.indexOf("4.")?h.Z.fromExtent(e):new h.Z({spatialReference:e.spatialReference,rings:[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]})}function y(e){if((0,s.p)(e,2,2),e[0]instanceof u.Z&&e[1]instanceof u.Z);else if(e[0]instanceof u.Z&&null===e[1]);else if(e[1]instanceof u.Z&&null===e[0]);else if(null!==e[0]||null!==e[1])throw new Error("Illegal Argument")}function b(e,n){if("polygon"!==e.type&&"polyline"!==e.type&&"extent"!==e.type)return(0,i.DB)(0);let t=1;(e.spatialReference.vcsWkid||e.spatialReference.latestVcsWkid)&&(t=(0,a._R)(e.spatialReference)/(0,m.c9)(e.spatialReference));let r=0;if("polyline"===e.type)for(const n of e.paths)for(let e=1;e<n.length;e++)r+=(0,a.AW)(n[e],n[e-1],t);else if("polygon"===e.type)for(const n of e.rings){for(let e=1;e<n.length;e++)r+=(0,a.AW)(n[e],n[e-1],t);(n[0][0]!==n[n.length-1][0]||n[0][1]!==n[n.length-1][1]||void 0!==n[0][2]&&n[0][2]!==n[n.length-1][2])&&(r+=(0,a.AW)(n[0],n[n.length-1],t))}else"extent"===e.type&&(r+=2*(0,a.AW)([e.xmin,e.ymin,0],[e.xmax,e.ymin,0],t),r+=2*(0,a.AW)([e.xmin,e.ymin,0],[e.xmin,e.ymax,0],t),r*=2,r+=4*Math.abs((0,s.C)(e.zmax,0)*t-(0,s.C)(e.zmin,0)*t));const o=new p.Z({hasZ:!1,hasM:!1,spatialReference:e.spatialReference,paths:[[0,0],[0,r]]});return(0,c.sz)(o,n)}function E(e){"async"===e.mode&&(e.functions.disjoint=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){return y(t=(0,s.H)(t)),null===t[0]||null===t[1]||(0,c.ED)(t[0],t[1])}))},e.functions.intersects=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){return y(t=(0,s.H)(t)),null!==t[0]&&null!==t[1]&&(0,c.kK)(t[0],t[1])}))},e.functions.touches=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){return y(t=(0,s.H)(t)),null!==t[0]&&null!==t[1]&&(0,c.W4)(t[0],t[1])}))},e.functions.crosses=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){return y(t=(0,s.H)(t)),null!==t[0]&&null!==t[1]&&(0,c.jU)(t[0],t[1])}))},e.functions.within=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){return y(t=(0,s.H)(t)),null!==t[0]&&null!==t[1]&&(0,c.uh)(t[0],t[1])}))},e.functions.contains=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){return y(t=(0,s.H)(t)),null!==t[0]&&null!==t[1]&&(0,c.r3)(t[0],t[1])}))},e.functions.overlaps=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){return y(t=(0,s.H)(t)),null!==t[0]&&null!==t[1]&&(0,c.Nm)(t[0],t[1])}))},e.functions.equals=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){return(0,s.p)(t,2,2),t[0]===t[1]||(t[0]instanceof u.Z&&t[1]instanceof u.Z?(0,c.fS)(t[0],t[1]):!(!(0,s.n)(t[0])||!(0,s.n)(t[1]))&&t[0].getTime()===t[1].getTime())}))},e.functions.relate=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){if(t=(0,s.H)(t),(0,s.p)(t,3,3),t[0]instanceof u.Z&&t[1]instanceof u.Z)return(0,c.LV)(t[0],t[1],(0,s.d)(t[2]));if(t[0]instanceof u.Z&&null===t[1])return!1;if(t[1]instanceof u.Z&&null===t[0])return!1;if(null===t[0]&&null===t[1])return!1;throw new Error("Illegal Argument")}))},e.functions.intersection=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){return y(t=(0,s.H)(t)),null===t[0]||null===t[1]?null:(0,c.wf)(t[0],t[1])}))},e.functions.union=function(n,t){return e.standardFunctionAsync(n,t,(function(e,t,r){const a=[];if(0===(r=(0,s.H)(r)).length)throw new Error("Function called with wrong number of Parameters");if(1===r.length)if((0,s.a)(r[0])){const e=(0,s.H)(r[0]);for(let n=0;n<e.length;n++)if(null!==e[n]){if(!(e[n]instanceof u.Z))throw new Error("Illegal Argument");a.push(e[n])}}else{if(!(0,s.b)(r[0])){if(r[0]instanceof u.Z)return(0,s.r)((0,o.r1)(r[0]),n.spatialReference);if(null===r[0])return null;throw new Error("Illegal Argument")}{const e=(0,s.H)(r[0].toArray());for(let n=0;n<e.length;n++)if(null!==e[n]){if(!(e[n]instanceof u.Z))throw new Error("Illegal Argument");a.push(e[n])}}}else for(let e=0;e<r.length;e++)if(null!==r[e]){if(!(r[e]instanceof u.Z))throw new Error("Illegal Argument");a.push(r[e])}return 0===a.length?null:(0,c.G0)(a)}))},e.functions.difference=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){return y(t=(0,s.H)(t)),null!==t[0]&&null===t[1]?(0,o.r1)(t[0]):null===t[0]?null:(0,c.e5)(t[0],t[1])}))},e.functions.symmetricdifference=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){return y(t=(0,s.H)(t)),null===t[0]&&null===t[1]?null:null===t[0]?(0,o.r1)(t[1]):null===t[1]?(0,o.r1)(t[0]):(0,c.Sp)(t[0],t[1])}))},e.functions.clip=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){if(t=(0,s.H)(t),(0,s.p)(t,2,2),!(t[1]instanceof l.Z)&&null!==t[1])throw new Error("Illegal Argument");if(null===t[0])return null;if(!(t[0]instanceof u.Z))throw new Error("Illegal Argument");return null===t[1]?null:(0,c.oq)(t[0],t[1])}))},e.functions.cut=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){if(t=(0,s.H)(t),(0,s.p)(t,2,2),!(t[1]instanceof p.Z)&&null!==t[1])throw new Error("Illegal Argument");if(null===t[0])return[];if(!(t[0]instanceof u.Z))throw new Error("Illegal Argument");return null===t[1]?[(0,o.r1)(t[0])]:(0,c.z7)(t[0],t[1])}))},e.functions.area=function(n,t){return e.standardFunctionAsync(n,t,(function(e,t,r){if((0,s.p)(r,1,2),null===(r=(0,s.H)(r))[0])return 0;if((0,s.o)(r[0]))return r[0].sumArea((0,o.EI)((0,s.C)(r[1],-1)),!1,n.abortSignal).then((e=>{if(n.abortSignal.aborted)throw new Error("Operation has been cancelled.");return e}));if((0,s.a)(r[0])||(0,s.b)(r[0])){const e=(0,s.K)(r[0],n.spatialReference);return null===e?0:(0,c.CJ)(e,(0,o.EI)((0,s.C)(r[1],-1)))}if(!(r[0]instanceof u.Z))throw new Error("Illegal Argument");return(0,c.CJ)(r[0],(0,o.EI)((0,s.C)(r[1],-1)))}))},e.functions.areageodetic=function(n,t){return e.standardFunctionAsync(n,t,(function(e,t,r){if((0,s.p)(r,1,2),null===(r=(0,s.H)(r))[0])return 0;if((0,s.o)(r[0]))return r[0].sumArea((0,o.EI)((0,s.C)(r[1],-1)),!0,n.abortSignal).then((e=>{if(n.abortSignal.aborted)throw new Error("Operation has been cancelled.");return e}));if((0,s.a)(r[0])||(0,s.b)(r[0])){const e=(0,s.K)(r[0],n.spatialReference);return null===e?0:(0,c.Y4)(e,(0,o.EI)((0,s.C)(r[1],-1)))}if(!(r[0]instanceof u.Z))throw new Error("Illegal Argument");return(0,c.Y4)(r[0],(0,o.EI)((0,s.C)(r[1],-1)))}))},e.functions.length=function(n,t){return e.standardFunctionAsync(n,t,(function(e,t,r){if((0,s.p)(r,1,2),null===(r=(0,s.H)(r))[0])return 0;if((0,s.o)(r[0]))return r[0].sumLength((0,o.Lz)((0,s.C)(r[1],-1)),!1,n.abortSignal).then((e=>{if(n.abortSignal.aborted)throw new Error("Operation has been cancelled.");return e}));if((0,s.a)(r[0])||(0,s.b)(r[0])){const e=(0,s.J)(r[0],n.spatialReference);return null===e?0:(0,c.sz)(e,(0,o.Lz)((0,s.C)(r[1],-1)))}if(!(r[0]instanceof u.Z))throw new Error("Illegal Argument");return(0,c.sz)(r[0],(0,o.Lz)((0,s.C)(r[1],-1)))}))},e.functions.length3d=function(n,t){return e.standardFunctionAsync(n,t,(function(e,t,r){if((0,s.p)(r,1,2),null===(r=(0,s.H)(r))[0])return 0;if((0,s.a)(r[0])||(0,s.b)(r[0])){const e=(0,s.J)(r[0],n.spatialReference);return null===e?0:!0===e.hasZ?b(e,(0,o.Lz)((0,s.C)(r[1],-1))):(0,c.sz)(e,(0,o.Lz)((0,s.C)(r[1],-1)))}if(!(r[0]instanceof u.Z))throw new Error("Illegal Argument");return!0===r[0].hasZ?b(r[0],(0,o.Lz)((0,s.C)(r[1],-1))):(0,c.sz)(r[0],(0,o.Lz)((0,s.C)(r[1],-1)))}))},e.functions.lengthgeodetic=function(n,t){return e.standardFunctionAsync(n,t,(function(e,t,r){if((0,s.p)(r,1,2),null===(r=(0,s.H)(r))[0])return 0;if((0,s.o)(r[0]))return r[0].sumLength((0,o.Lz)((0,s.C)(r[1],-1)),!0,n.abortSignal).then((e=>{if(n.abortSignal.aborted)throw new Error("Operation has been cancelled.");return e}));if((0,s.a)(r[0])||(0,s.b)(r[0])){const e=(0,s.J)(r[0],n.spatialReference);return null===e?0:(0,c.kQ)(e,(0,o.Lz)((0,s.C)(r[1],-1)))}if(!(r[0]instanceof u.Z))throw new Error("Illegal Argument");return(0,c.kQ)(r[0],(0,o.Lz)((0,s.C)(r[1],-1)))}))},e.functions.distance=function(n,t){return e.standardFunctionAsync(n,t,(function(e,t,r){r=(0,s.H)(r),(0,s.p)(r,2,3);let a=r[0];((0,s.a)(r[0])||(0,s.b)(r[0]))&&(a=(0,s.L)(r[0],n.spatialReference));let i=r[1];if(((0,s.a)(r[1])||(0,s.b)(r[1]))&&(i=(0,s.L)(r[1],n.spatialReference)),!(a instanceof u.Z))throw new Error("Illegal Argument");if(!(i instanceof u.Z))throw new Error("Illegal Argument");return(0,c.TE)(a,i,(0,o.Lz)((0,s.C)(r[2],-1)))}))},e.functions.distancegeodetic=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){t=(0,s.H)(t),(0,s.p)(t,2,3);const r=t[0],a=t[1];if(!(r instanceof d.Z))throw new Error("Illegal Argument");if(!(a instanceof d.Z))throw new Error("Illegal Argument");const i=new p.Z({paths:[],spatialReference:r.spatialReference});return i.addPath([r,a]),(0,c.kQ)(i,(0,o.Lz)((0,s.C)(t[2],-1)))}))},e.functions.densify=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){if(t=(0,s.H)(t),(0,s.p)(t,2,3),null===t[0])return null;if(!(t[0]instanceof u.Z))throw new Error("Illegal Argument");const r=(0,s.t)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");if(r<=0)throw new Error("Illegal Argument");return t[0]instanceof h.Z||t[0]instanceof p.Z?(0,c.Cz)(t[0],r,(0,o.Lz)((0,s.C)(t[2],-1))):t[0]instanceof l.Z?(0,c.Cz)(w(t[0]),r,(0,o.Lz)((0,s.C)(t[2],-1))):t[0]}))},e.functions.densifygeodetic=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){if(t=(0,s.H)(t),(0,s.p)(t,2,3),null===t[0])return null;if(!(t[0]instanceof u.Z))throw new Error("Illegal Argument");const r=(0,s.t)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");if(r<=0)throw new Error("Illegal Argument");return t[0]instanceof h.Z||t[0]instanceof p.Z?(0,c.j2)(t[0],r,(0,o.Lz)((0,s.C)(t[2],-1))):t[0]instanceof l.Z?(0,c.j2)(w(t[0]),r,(0,o.Lz)((0,s.C)(t[2],-1))):t[0]}))},e.functions.generalize=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){if(t=(0,s.H)(t),(0,s.p)(t,2,4),null===t[0])return null;if(!(t[0]instanceof u.Z))throw new Error("Illegal Argument");const r=(0,s.t)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");return(0,c.D$)(t[0],r,(0,s.u)((0,s.C)(t[2],!0)),(0,o.Lz)((0,s.C)(t[3],-1)))}))},e.functions.buffer=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){if(t=(0,s.H)(t),(0,s.p)(t,2,3),null===t[0])return null;if(!(t[0]instanceof u.Z))throw new Error("Illegal Argument");const r=(0,s.t)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");return 0===r?(0,o.r1)(t[0]):(0,c.f3)(t[0],r,(0,o.Lz)((0,s.C)(t[2],-1)))}))},e.functions.buffergeodetic=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){if(t=(0,s.H)(t),(0,s.p)(t,2,3),null===t[0])return null;if(!(t[0]instanceof u.Z))throw new Error("Illegal Argument");const r=(0,s.t)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");return 0===r?(0,o.r1)(t[0]):(0,c.rd)(t[0],r,(0,o.Lz)((0,s.C)(t[2],-1)))}))},e.functions.offset=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){if(t=(0,s.H)(t),(0,s.p)(t,2,6),null===t[0])return null;if(!(t[0]instanceof h.Z||t[0]instanceof p.Z))throw new Error("Illegal Argument");const r=(0,s.t)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");const a=(0,s.t)((0,s.C)(t[4],10));if(isNaN(a))throw new Error("Illegal Argument");const i=(0,s.t)((0,s.C)(t[5],0));if(isNaN(i))throw new Error("Illegal Argument");return(0,c.cv)(t[0],r,(0,o.Lz)((0,s.C)(t[2],-1)),(0,s.d)((0,s.C)(t[3],"round")).toLowerCase(),a,i)}))},e.functions.rotate=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){t=(0,s.H)(t),(0,s.p)(t,2,3);let r=t[0];if(null===r)return null;if(!(r instanceof u.Z))throw new Error("Illegal Argument");r instanceof l.Z&&(r=h.Z.fromExtent(r));const o=(0,s.t)(t[1]);if(isNaN(o))throw new Error("Illegal Argument");const a=(0,s.C)(t[2],null);if(null===a)return(0,c.U1)(r,o);if(a instanceof d.Z)return(0,c.U1)(r,o,a);throw new Error("Illegal Argument")}))},e.functions.centroid=function(n,t){return e.standardFunctionAsync(n,t,(function(e,t,r){if(r=(0,s.H)(r),(0,s.p)(r,1,1),null===r[0])return null;let i=r[0];if(((0,s.a)(r[0])||(0,s.b)(r[0]))&&(i=(0,s.L)(r[0],n.spatialReference)),null===i)return null;if(!(i instanceof u.Z))throw new Error("Illegal Argument");return i instanceof d.Z?(0,s.r)((0,o.r1)(r[0]),n.spatialReference):i instanceof h.Z?i.centroid:i instanceof p.Z?(0,a.s9)(i):i instanceof f.Z?(0,a.Ay)(i):i instanceof l.Z?i.center:null}))},e.functions.multiparttosinglepart=function(n,t){return e.standardFunctionAsync(n,t,(function(e,t,r){r=(0,s.H)(r),(0,s.p)(r,1,1);const a=[];if(null===r[0])return null;if(!(r[0]instanceof u.Z))throw new Error("Illegal Argument");return r[0]instanceof d.Z||r[0]instanceof l.Z?[(0,s.r)((0,o.r1)(r[0]),n.spatialReference)]:(0,c.og)(r[0]).then((e=>{if(e instanceof h.Z){const n=[],t=[];for(let r=0;r<e.rings.length;r++)if(e.isClockwise(e.rings[r])){const t=(0,g.im)({rings:[e.rings[r]],hasZ:!0===e.hasZ,hazM:!0===e.hasM,spatialReference:e.spatialReference.toJSON()});n.push(t)}else t.push({ring:e.rings[r],pt:e.getPoint(r,0)});for(let e=0;e<t.length;e++)for(let r=0;r<n.length;r++)if(n[r].contains(t[e].pt)){n[r].addRing(t[e].ring);break}return n}if(e instanceof p.Z){const n=[];for(let t=0;t<e.paths.length;t++){const r=(0,g.im)({paths:[e.paths[t]],hasZ:!0===e.hasZ,hazM:!0===e.hasM,spatialReference:e.spatialReference.toJSON()});n.push(r)}return n}if(r[0]instanceof f.Z){const e=(0,s.r)((0,o.r1)(r[0]),n.spatialReference);for(let n=0;n<e.points.length;n++)a.push(e.getPoint(n));return a}return null}))}))},e.functions.issimple=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){if(t=(0,s.H)(t),(0,s.p)(t,1,1),null===t[0])return!0;if(!(t[0]instanceof u.Z))throw new Error("Illegal Argument");return(0,c.Gg)(t[0])}))},e.functions.simplify=function(n,t){return e.standardFunctionAsync(n,t,(function(e,n,t){if(t=(0,s.H)(t),(0,s.p)(t,1,1),null===t[0])return null;if(!(t[0]instanceof u.Z))throw new Error("Illegal Argument");return(0,c.og)(t[0])}))})}},78346:(e,n,t)=>{t.d(n,{bA:()=>z});var r=t(20102),o=t(80442),s=t(95330),a=t(80903),i=t(25045),l=t(40330),u=t(92604),c=t(94362),f=t(99880),d=t(68773),h=(t(2587),t(17452));const p={};function g(e){var n;const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:e.packages&&e.packages.concat()||[],paths:{...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=p.baseUrl),null==(n=p.packages)||n.forEach((e=>{!function(e,n){for(const t of e)if(t.name===n.name)return;e.push(n)}(t.packages,e)})),t}var m=t(16358);class w{constructor(){const e=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach((n=>{this[n]=(...t)=>e[n](...t)}))}}const y=m.Z.MutationObserver||m.Z.WebKitMutationObserver,b=function(){let e;if(m.Z.process&&m.Z.process.nextTick)e=e=>{m.Z.process.nextTick(e)};else if(m.Z.Promise)e=e=>{m.Z.Promise.resolve().then(e)};else if(y){const n=[],t=document.createElement("div");new y((()=>{for(;n.length>0;)n.shift()()})).observe(t,{attributes:!0}),e=e=>{n.push(e),t.setAttribute("queueStatus","1")}}return e}(),E=(()=>{const e=m.Z.MessageEvent;try{new e("message",{data:null})}catch{return(e,n={})=>{const{data:t,bubbles:r=!1,cancelable:o=!1}=n,s=document.createEvent("Event");return s.initEvent(e,r,o),s.data=t,s}}return(n,t)=>new e(n,t)})();class k{constructor(){this._dispatcher=new w,this._workerPostMessage({type:c.Cs.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}postMessage(e){b((()=>{this._workerMessageHandler(E("message",{data:e}))}))}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,n,t){this._dispatcher.addEventListener(e,n,t)}removeEventListener(e,n,t){this._dispatcher.removeEventListener(e,n,t)}_workerPostMessage(e){b((()=>{this.dispatchEvent(E("message",{data:e}))}))}async _workerMessageHandler(e){const n=(0,c.QM)(e);if(n&&n.type===c.Cs.OPEN){const{modulePath:e,jobId:t}=n;let r=await i.default.loadWorker(e);r||(r=await import(e));const o=i.default.connect(r);this._workerPostMessage({type:c.Cs.OPENED,jobId:t,data:o})}}}var v=t(70171),Z=t(17202);const A=u.Z.getLogger("esri.core.workers"),{HANDSHAKE:C}=c.Cs;let I,L;const O="Failed to create Worker. Fallback to execute module in main thread";async function S(e){return new Promise((n=>{function t(o){const s=(0,c.QM)(o);s&&s.type===C&&(e.removeEventListener("message",t),e.removeEventListener("error",r),n(e))}function r(n){n.preventDefault(),e.removeEventListener("message",t),e.removeEventListener("error",r),A.warn("Failed to create Worker. Fallback to execute module in main thread",n),(e=new k).addEventListener("message",t),e.addEventListener("error",r)}e.addEventListener("message",t),e.addEventListener("error",r)}))}let H=0;const P=u.Z.getLogger("esri.core.workers"),{ABORT:R,INVOKE:_,OPEN:x,OPENED:q,RESPONSE:N}=c.Cs;class F{constructor(e,n){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=n,e.addEventListener("message",this._onMessage.bind(this)),e.addEventListener("error",(e=>{e.preventDefault(),P.error(e)}))}static async create(e){const n=await async function(){if(!(0,o.Z)("esri-workers"))return S(new k);if(!I&&!L)try{const e='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'.replace('"{CONFIGURATION}"',`'${function(){let e;if(null!=d.Z.default){const n={...d.Z};delete n.default,e=JSON.parse(JSON.stringify(n))}else e=JSON.parse(JSON.stringify(d.Z));e.assetsPath=(0,h.hF)(e.assetsPath),e.request.interceptors=[],e.log.interceptors=[],e.locale=(0,v.Kd)(),e.has={"csp-restrictions":(0,o.Z)("csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,o.Z)("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":(0,o.Z)("esri-2d-query-centroid-enabled"),"featurelayer-pbf":(0,o.Z)("featurelayer-pbf"),"featurelayer-simplify-thresholds":(0,o.Z)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,o.Z)("featurelayer-simplify-payload-size-factors"),"esri-atomics":(0,o.Z)("esri-atomics"),"esri-shared-array-buffer":(0,o.Z)("esri-shared-array-buffer"),"esri-tiles-debug":(0,o.Z)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,o.Z)("esri-workers-arraybuffer-transfer"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=(0,h.hF)(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=(0,h.hF)(e.workers.workerPath):e.workers.workerPath=(0,h.hF)((0,f.V)("esri/core/workers/RemoteClient.js"));const n=d.Z.workers.loaderConfig,t=g({baseUrl:null==n?void 0:n.baseUrl,locale:(0,v.Kd)(),has:{"csp-restrictions":(0,o.Z)("csp-restrictions"),"dojo-test-sniff":0,"host-webworker":1,...null==n?void 0:n.has},map:{...null==n?void 0:n.map},paths:{...null==n?void 0:n.paths},packages:(null==n?void 0:n.packages)||[]}),r={version:l.i8,buildDate:Z.r,revision:Z.$};return JSON.stringify({esriConfig:e,loaderConfig:t,kernelInfo:r})}()}'`);I=URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}catch(e){L=e||{}}let e;if(I)try{e=new Worker(I,{name:"esri-worker-"+H++})}catch(n){A.warn(O,L),e=new k}else A.warn(O,L),e=new k;return S(e)}();return new F(n,e)}terminate(){this.worker.terminate()}async open(e,n={}){const{signal:t}=n,r=(0,c.jt)();return new Promise(((n,o)=>{const a={resolve:n,reject:o,abortHandle:(0,s.$F)(t,(()=>{this._outJobs.delete(r),this._post({type:R,jobId:r})}))};this._outJobs.set(r,a),this._post({type:x,jobId:r,modulePath:e})}))}_onMessage(e){const n=(0,c.QM)(e);if(n)switch(n.type){case q:this._onOpenedMessage(n);break;case N:this._onResponseMessage(n);break;case R:this._onAbortMessage(n);break;case _:this._onInvokeMessage(n)}}_onAbortMessage(e){const n=this._inJobs,t=e.jobId,r=n.get(t);r&&(r.controller&&r.controller.abort(),n.delete(t))}_onInvokeMessage(e){const{methodName:n,jobId:t,data:r,abortable:o}=e,a=o?(0,s.yi)():null,i=this._inJobs,u=l.Nv[n];let f;try{if("function"!=typeof u)throw new TypeError(`${n} is not a function`);f=u.call(null,r,{signal:a?a.signal:null})}catch(e){return void this._post({type:N,jobId:t,error:(0,c.AB)(e)})}(0,s.y8)(f)?(i.set(t,{controller:a,promise:f}),f.then((e=>{i.has(t)&&(i.delete(t),this._post({type:N,jobId:t},e))}),(e=>{i.has(t)&&(i.delete(t),e||(e={message:"Error encountered at method"+n}),(0,s.D_)(e)||this._post({type:N,jobId:t,error:(0,c.AB)(e||{message:`Error encountered at method ${n}`})}))}))):this._post({type:N,jobId:t},f)}_onOpenedMessage(e){var n;const{jobId:t,data:r}=e,o=this._outJobs.get(t);o&&(this._outJobs.delete(t),null==(n=o.abortHandle)||n.remove(),o.resolve(r))}_onResponseMessage(e){var n;const{jobId:t,error:o,data:s}=e,a=this._outJobs.get(t);a&&(this._outJobs.delete(t),null==(n=a.abortHandle)||n.remove(),o?a.reject(r.Z.fromJSON(JSON.parse(o))):a.resolve(s))}_post(e,n,t){return(0,c.oi)(this.worker,e,n,t)}}let T=(0,o.Z)("esri-workers-debug")?1:(0,o.Z)("host-browser")?navigator.hardwareConcurrency-1:0;T||(T=(0,o.Z)("safari")&&(0,o.Z)("mac")||(0,o.Z)("trident")?7:2);let M=0;const j=[];async function D(e,n){const t=new a.Z;return await t.open(e,n),t}async function z(e,n={}){if("string"!=typeof e)throw new r.Z("workers:undefined-module","modulePath is missing");let t=n.strategy||"distributed";if((0,o.Z)("host-webworker")&&!(0,o.Z)("esri-workers")&&(t="local"),"local"===t){let t=await i.default.loadWorker(e);t||(t=await import(e)),(0,s.k_)(n.signal);const r=n.client||t;return D([i.default.connect(t)],{...n,client:r})}if(await async function(){if(W)return W;U=(0,s.yi)();const e=[];for(let n=0;n<T;n++){const t=F.create(n).then((e=>(j[n]=e,e)));e.push(t)}return W=Promise.all(e),W}(),(0,s.k_)(n.signal),"dedicated"===t){const t=M++%T;return D([await j[t].open(e,n)],n)}if(n.maxNumWorkers&&n.maxNumWorkers>0){const t=Math.min(n.maxNumWorkers,T);if(t<T){const r=new Array(t);for(let o=0;o<t;++o){const t=M++%T;r[o]=j[t].open(e,n)}return D(r,n)}}return D(j.map((t=>t.open(e,n))),n)}let U,W=null},3172:(e,n,t)=>{t.r(n),t.d(n,{default:()=>p});var r=t(68773),o=t(40330),s=t(20102),a=t(16358),i=t(80442),l=t(22974),u=t(70586),c=t(95330),f=t(17452),d=t(71058),h=t(85958);async function p(e,n){const l=(0,f.HK)(e),h=(0,f.jc)(e);h||l||(e=(0,f.Fv)(e));const y={url:e,requestOptions:{...(0,u.Wg)(n)}};let b=(0,f.oh)(e);if(b){const e=await async function(e,n){if(null!=e.responseData)return e.responseData;if(e.headers&&(n.requestOptions.headers={...n.requestOptions.headers,...e.headers}),e.query&&(n.requestOptions.query={...n.requestOptions.query,...e.query}),e.before){let t,r;try{r=await e.before(n)}catch(e){t=A("request:interceptor",e,n)}if((r instanceof Error||r instanceof s.Z)&&(t=A("request:interceptor",r,n)),t)throw e.error&&e.error(t),t;return r}}(b,y);if(null!=e)return{data:e,getHeader:k,requestOptions:y.requestOptions,url:y.url};b.after||b.error||(b=null)}if(e=y.url,"image"===(n=y.requestOptions).responseType){if((0,i.Z)("host-webworker")||(0,i.Z)("host-node"))throw A("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),y)}else if(l)throw A("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+n.responseType),y);if("head"===n.method){if(n.body)throw A("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),y);if(l||h)throw A("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),y)}if(await async function(){(0,i.Z)("host-webworker")?g||(g=await t.e(9884).then(t.bind(t,29884))):p._abortableFetch||(p._abortableFetch=a.Z.fetch.bind(a.Z))}(),g)return g.execute(e,n);const E=(0,c.yi)();(0,c.fu)(n,(()=>E.abort()));const v={controller:E,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:b,params:y,redoRequest:!1,useIdentity:m.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},Z=await async function(e){var n,t;let s,i;await async function(e){const n=e.params.url,t=e.params.requestOptions,s=e.controller.signal,i=t.body;let l=null,u=null,f=null;if(w&&"HTMLFormElement"in a.Z&&(i instanceof FormData?l=i:i instanceof HTMLFormElement&&(u=i,l=new FormData(u))),"string"==typeof i&&(f=i),e.fetchOptions={cache:t.cacheBust&&!p._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:t.headers||{},method:"head"===t.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:s},(l||f)&&(e.fetchOptions.body=l||f),"anonymous"===t.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(n)||t.query&&t.query.token||l&&l.get&&l.get("token")||u&&u.elements.token),!e.hasToken&&r.Z.apiKey&&(0,d.r)(n)&&(t.query||(t.query={}),t.query.token=r.Z.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!I(n)&&!(0,c.Hc)(s)){let r;"immediate"===t.authMode?(await C(),r=await o.id.getCredential(n,{signal:s}),e.credential=r):"no-prompt"===t.authMode?(await C(),r=await o.id.getCredential(n,{prompt:!1,signal:s}).catch((()=>{})),e.credential=r):o.id&&(r=o.id.findCredential(n)),r&&(e.credentialToken=r.token,e.useSSL=!!r.ssl)}}(e);try{do{[s,i]=await L(e)}while(!await S(e,s,i))}catch(n){const t=A("request:server",n,e.params,s);throw t.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(t),t}const l=e.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(l)&&!e.hasToken&&!e.credentialToken&&null!=(n=i)&&null!=(t=n.user)&&t.username&&!(0,f.kl)(l)){const e=(0,f.P$)(l,!0);e&&m.trustedServers.push(e)}const u=e.credential;if(u&&o.id){const e=o.id.findServerInfo(u.server);let n=e&&e.owningSystemUrl;if(n){n=n.replace(/\/?$/,"/sharing");const e=o.id.findCredential(n,u.userId);e&&-1===o.id._getIdenticalSvcIdx(n,e)&&e.resources.unshift(n)}}return{data:i,getHeader:s?e=>s.headers.get(e):k,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}(v);return b&&b.after&&b.after(Z),Z}let g;const m=r.Z.request,w="FormData"in a.Z,y=[499,498,403,401],b=["COM_0056","COM_0057","SB_0008"],E=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],k=()=>null,v=Symbol();function Z(e){const n=(0,f.P$)(e);return!n||n.endsWith(".arcgis.com")||p._corsServers.includes(n)||(0,f.kl)(n)}function A(e,n,t,r){let o="Error";const a={url:t.url,requestOptions:t.requestOptions,getHeader:k,ssl:!1};if(n instanceof s.Z)return n.details?(n.details=(0,l.d9)(n.details),n.details.url=t.url,n.details.requestOptions=t.requestOptions):n.details=a,n;if(n){const e=r&&(e=>r.headers.get(e)),t=r&&r.status,s=n.message;s&&(o=s),e&&(a.getHeader=e),a.httpStatus=(null!=n.httpCode?n.httpCode:n.code)||t||0,a.subCode=n.subcode,a.messageCode=n.messageCode,"string"==typeof n.details?a.messages=[n.details]:a.messages=n.details,a.raw=v in n?n[v]:n}return(0,c.D_)(n)?(0,c.zE)():new s.Z(e,o,a)}async function C(){o.id||await Promise.all([t.e(7824),t.e(8778),t.e(9625)]).then(t.bind(t,79339))}function I(e){return E.some((n=>n.test(e)))}async function L(e){let n=e.params.url;const t=e.params.requestOptions,r=e.fetchOptions,s=(0,f.jc)(n)||(0,f.HK)(n),a=t.responseType||"json",l=s?0:null!=t.timeout?t.timeout:m.timeout;let u=!1;if(!s){e.useSSL&&(n=(0,f.hO)(n)),t.cacheBust&&"default"===r.cache&&(n=(0,f.ZN)(n,"request.preventCache",Date.now()));let s={...t.query};e.credentialToken&&(s.token=e.credentialToken);let a=(0,f.B7)(s);(0,i.Z)("esri-url-encodes-apostrophe")&&(a=a.replace(/'/g,"%27"));const l=n.length+1+a.length;let c;u="delete"===t.method||"post"===t.method||"put"===t.method||!!t.body||l>m.maxUrlLength;const d=t.useProxy||!!(0,f.ed)(n);if(d){const e=(0,f.b7)(n);c=e.path,!u&&c.length+1+l>m.maxUrlLength&&(u=!0),e.query&&(s={...e.query,...s})}if("HEAD"===r.method&&(u||d)){if(u){if(l>m.maxUrlLength)throw A("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw A("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(d)throw A("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(u?(r.method="delete"===t.method?"DELETE":"put"===t.method?"PUT":"POST",t.body?n=(0,f.fl)(n,s):(r.body=(0,f.B7)(s),r.headers["Content-Type"]="application/x-www-form-urlencoded")):n=(0,f.fl)(n,s),d&&(e.useProxy=!0,n=`${c}?${n}`),s.token&&w&&r.body instanceof FormData){const e=r.body;e.set?e.set("token",s.token):e.append("token",s.token)}if(t.hasOwnProperty("withCredentials"))e.withCredentials=t.withCredentials;else if(!(0,f.D6)(n,f.Gd))if((0,f.kl)(n))e.withCredentials=!0;else if(o.id){const t=o.id.findServerInfo(n);t&&t.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(r.credentials="include")}let d,h,g=0,y=!1;l>0&&(g=setTimeout((()=>{y=!0,e.controller.abort()}),l));try{if("native-request-init"===t.responseType)h=r,h.url=n;else if("image"!==t.responseType||"default"!==r.cache||"GET"!==r.method||u||function(e){if(e)for(const n of Object.getOwnPropertyNames(e))if(e[n])return!0;return!1}(t.headers)||!s&&!e.useProxy&&m.proxyUrl&&!Z(n)){if(d=await p._abortableFetch(n,r),e.useProxy||function(e){const n=(0,f.P$)(e);n&&!p._corsServers.includes(n)&&p._corsServers.push(n)}(n),"native"===t.responseType)h=d;else if("HEAD"!==r.method)if(d.ok){switch(a){case"array-buffer":h=await d.arrayBuffer();break;case"blob":case"image":h=await d.blob();break;default:h=await d.text()}if(g&&(clearTimeout(g),g=0),"json"===a||"xml"===a||"document"===a)if(h)switch(a){case"json":h=JSON.parse(h);break;case"xml":h=O(h,"application/xml");break;case"document":h=O(h,"text/html")}else h=null;if(h){if("array-buffer"===a||"blob"===a){const e=d.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(e)&&h["blob"===a?"size":"byteLength"]<=750)try{const e=await new Response(h).json();e.error&&(h=e)}catch{}}"image"===a&&h instanceof Blob&&(h=await H(URL.createObjectURL(h),e,!0))}}else h=await d.text()}else h=await H(n,e)}catch(r){if("AbortError"===r.name){if(y)throw new Error("Timeout exceeded");throw(0,c.zE)("Request canceled")}if(!(!d&&r instanceof TypeError&&m.proxyUrl)||t.body||"delete"===t.method||"head"===t.method||"post"===t.method||"put"===t.method||e.useProxy||Z(n))throw r;e.redoRequest=!0,(0,f.tD)({proxyUrl:m.proxyUrl,urlPrefix:(0,f.P$)(n)})}finally{g&&clearTimeout(g)}return[d,h]}function O(e,n){let t;try{t=(new DOMParser).parseFromString(e,n)}catch{}if(!t||t.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return t}async function S(e,n,t){if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!n||"native"===r.responseType||"native-request-init"===r.responseType)return!0;let s,a,i,l;if(!n.ok)throw s=new Error(`Unable to load ${n.url} status: ${n.status}`),s[v]=t,s;null!=t&&t.error&&(s=t.error),s&&(a=Number(s.code),i=s.hasOwnProperty("subcode")?Number(s.subcode):null,l=s.messageCode,l=l&&l.toUpperCase());const u=r.authMode;if(403===a&&(4===i||s.message&&s.message.toLowerCase().indexOf("ssl")>-1&&-1===s.message.toLowerCase().indexOf("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==u||498===a)&&-1!==y.indexOf(a)&&!I(e.params.url)&&(403!==a||-1===b.indexOf(l)&&(null==i||2===i&&e.credentialToken))){await C();try{const n=await o.id.getCredential(e.params.url,{error:A("request:server",s,e.params),prompt:"no-prompt"!==u,signal:e.controller.signal,token:e.credentialToken});return e.credential=n,e.credentialToken=n.token,e.useSSL=e.useSSL||n.ssl,!1}catch(n){if("no-prompt"===u)return e.credential=null,e.credentialToken=null,!1;s=n}}if(s)throw s;return!0}function H(e,n,t=!1){const r=n.controller.signal,o=new Image;return n.withCredentials?o.crossOrigin="use-credentials":o.crossOrigin="anonymous",o.alt="",o.src=e,(0,h.f)(o,e,t,r)}p._abortableFetch=null,p._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]},71058:(e,n,t)=>{t.d(n,{r:()=>s});var r=t(17452);const o=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function s(e){const n=(0,r.P$)(e,!0);return n&&n.endsWith(".arcgis.com")&&!o.includes(n)&&!e.endsWith("/sharing/rest/generateToken")}},85958:(e,n,t)=>{t.d(n,{f:()=>a});var r=t(80442),o=t(70586),s=t(95330);function a(e,n,t=!1,a){return new Promise(((l,u)=>{if((0,s.Hc)(a))return void u(i());let c=()=>{h(),u(new Error(`Unable to load ${n}`))},f=()=>{const n=e;h(),l(n)},d=()=>{if(!e)return;const n=e;h(),n.src="",u(i())};const h=()=>{(0,r.Z)("esri-image-decode")||(e.removeEventListener("error",c),e.removeEventListener("load",f)),c=null,f=null,e=null,(0,o.pC)(a)&&a.removeEventListener("abort",d),d=null,t&&URL.revokeObjectURL(n)};(0,o.pC)(a)&&a.addEventListener("abort",d),(0,r.Z)("esri-image-decode")?e.decode().then(f,c):(e.addEventListener("error",c),e.addEventListener("load",f))}))}function i(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}}}]);