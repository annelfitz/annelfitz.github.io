{"version":3,"sources":["../node_modules/@arcgis/core/layers/GraphicsLayer.js","../node_modules/@arcgis/core/layers/MapNotesLayer.js","../node_modules/@arcgis/core/layers/graphics/objectIdUtils.js"],"names":["n","i","p","s","constructor","r","super","this","elevationInfo","graphics","a","screenSizePerspectiveEnabled","type","internal","destroy","removeAll","add","addMany","remove","removeMany","on","e","graphicChanged","emit","t","prototype","c","readOnly","constructOnly","o","h","F","layers","some","layerDefinition","visibilityField","G","T","name","alias","nullable","editable","_","P","E","arguments","visibilityMode","initialize","sourceLayer","layer","item","l","k","geometryType","geometryTypeJSON","layerId","title","identifyingSymbol","g","toJSON","d","b","S","z","C","I","J","M","j","O","capabilities","operations","supportsMapNotesEditing","featureCollections","featureCollectionJSON","featureCollectionType","legendEnabled","minScale","maxScale","spatialReference","u","WGS84","sublayers","f","map","id","readCapabilities","origin","readFeatureCollections","R","read","items","readLegacyfeatureCollectionJSON","featureCollection","readFullExtent","length","xmin","ymin","xmax","ymax","fromJSON","reduce","extent","union","readMinScale","readMaxScale","_findSublayer","readSpatialReference","readSublayers","featureSet","find","drawingInfo","renderer","symbol","features","geometry","attributes","popupInfo","popupTemplate","push","writeSublayers","m","messages","y","_writeMapNoteSublayer","load","addResolvingPromise","loadFromPortal","supportedTypes","Promise","resolve","Object","assign","w","N","L","v","x","forEach","_writeMapNote","_normalizeObjectIds","objectIdField","fields","graphic","D","Set","has","json","origins","write","enabled","target","ignoreOrigin","overridePolicy","Number","nonNullable","value","B","isFinite","Math","max"],"mappings":"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","file":"static/js/131.3a6efddb.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import s from\"./Layer.js\";import t from\"../symbols/support/ElevationInfo.js\";import{BlendLayer as i}from\"./mixins/BlendLayer.js\";import{ScaleRangeLayer as p}from\"./mixins/ScaleRangeLayer.js\";import a,{graphicsCollectionProperty as c}from\"../support/GraphicsCollection.js\";let n=class extends(i(p(s))){constructor(r){super(r),this.elevationInfo=null,this.graphics=new a,this.screenSizePerspectiveEnabled=!0,this.type=\"graphics\",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(r){return this.graphics.add(r),this}addMany(r){return this.graphics.addMany(r),this}removeAll(){return this.graphics.removeAll(),this}remove(r){this.graphics.remove(r)}removeMany(r){this.graphics.removeMany(r)}on(r,e){return super.on(r,e)}graphicChanged(r){this.emit(\"graphic-update\",r)}};r([e({type:t})],n.prototype,\"elevationInfo\",void 0),r([e(c())],n.prototype,\"graphics\",void 0),r([e({type:[\"show\",\"hide\"]})],n.prototype,\"listMode\",void 0),r([e()],n.prototype,\"screenSizePerspectiveEnabled\",void 0),r([e({readOnly:!0})],n.prototype,\"type\",void 0),r([e({constructOnly:!0})],n.prototype,\"internal\",void 0),n=r([o(\"esri.layers.GraphicsLayer\")],n);var h=n;export default h;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{clone as t}from\"../core/lang.js\";import{setDeepValue as r}from\"../core/object.js\";import{isNone as o,isSome as i}from\"../core/maybe.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as l}from\"../core/accessorSupport/decorators/property.js\";import{reader as a}from\"../core/accessorSupport/decorators/reader.js\";import n from\"../core/Warning.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../core/accessorSupport/decorators/writer.js\";import y from\"../core/Error.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{equals as m}from\"../geometry/support/spatialReferenceUtils.js\";import u from\"../geometry/SpatialReference.js\";import c from\"../geometry/Extent.js\";import\"../geometry.js\";import f from\"../core/Collection.js\";import d from\"../symbols/SimpleLineSymbol.js\";import g from\"../symbols/SimpleFillSymbol.js\";import b from\"../symbols/SimpleMarkerSymbol.js\";import S from\"../symbols/TextSymbol.js\";import\"../symbols.js\";import h from\"../Graphic.js\";import O from\"./Layer.js\";import{MultiOriginJSONMixin as j}from\"../core/MultiOriginJSONSupport.js\";import{canProjectWithoutEngine as w,isLoaded as N,load as L,project as v}from\"../geometry/projection.js\";import{OperationalLayer as J}from\"./mixins/OperationalLayer.js\";import{normalizeCentralMeridian as x}from\"../geometry/support/normalizeUtils.js\";import T from\"./support/Field.js\";import{BlendLayer as C}from\"./mixins/BlendLayer.js\";import{PortalLayer as M}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as I}from\"./mixins/ScaleRangeLayer.js\";import R from\"./FeatureLayer.js\";import E from\"./GraphicsLayer.js\";import{findLastObjectIdFromFeatures as D}from\"./graphics/objectIdUtils.js\";function F(e){return e.layers.some((e=>null!=e.layerDefinition.visibilityField))}const G=new T({name:\"OBJECTID\",alias:\"OBJECTID\",type:\"oid\",nullable:!1,editable:!1}),_=new T({name:\"title\",alias:\"Title\",type:\"string\",nullable:!0,editable:!0});let P=class extends E{constructor(){super(...arguments),this.visibilityMode=\"inherited\"}initialize(){for(const e of this.graphics)e.sourceLayer=this.layer;this.graphics.on(\"after-add\",(e=>{e.item.sourceLayer=this.layer})),this.graphics.on(\"after-remove\",(e=>{e.item.sourceLayer=null}))}get sublayers(){return this.graphics}};e([l({readOnly:!0})],P.prototype,\"sublayers\",null),e([l()],P.prototype,\"layer\",void 0),e([l({readOnly:!0})],P.prototype,\"visibilityMode\",void 0),P=e([s(\"esri.layers.MapNotesLayer.MapNotesSublayer\")],P);const k=[{geometryType:\"polygon\",geometryTypeJSON:\"esriGeometryPolygon\",layerId:\"polygonLayer\",title:\"Polygons\",identifyingSymbol:(new g).toJSON()},{geometryType:\"polyline\",geometryTypeJSON:\"esriGeometryPolyline\",layerId:\"polylineLayer\",title:\"Polylines\",identifyingSymbol:(new d).toJSON()},{geometryType:\"multipoint\",geometryTypeJSON:\"esriGeometryMultipoint\",layerId:\"multipointLayer\",title:\"Multipoints\",identifyingSymbol:(new b).toJSON()},{geometryType:\"point\",geometryTypeJSON:\"esriGeometryPoint\",layerId:\"pointLayer\",title:\"Points\",identifyingSymbol:(new b).toJSON()},{geometryType:\"point\",geometryTypeJSON:\"esriGeometryPoint\",layerId:\"textLayer\",title:\"Text\",identifyingSymbol:(new S).toJSON()}];let z=class extends(C(I(J(M(j(O)))))){constructor(e){super(e),this.capabilities={operations:{supportsMapNotesEditing:!0}},this.featureCollections=null,this.featureCollectionJSON=null,this.featureCollectionType=\"notes\",this.legendEnabled=!1,this.minScale=0,this.maxScale=0,this.spatialReference=u.WGS84,this.sublayers=new f(k.map((e=>new P({id:e.layerId,title:e.title,layer:this})))),this.title=\"Map Notes\",this.type=\"map-notes\",this.visibilityMode=\"inherited\"}readCapabilities(e,t,r){return{operations:{supportsMapNotesEditing:!F(t)&&\"portal-item\"!==(null==r?void 0:r.origin)}}}readFeatureCollections(e,t,r){if(!F(t))return null;const o=t.layers.map((e=>{const t=new R;return t.read(e,r),t}));return new f({items:o})}readLegacyfeatureCollectionJSON(e,r){return F(r)?t(r.featureCollection):null}readFullExtent(e,t){if(!t.layers.length)return new c({xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:u.WGS84});const r=u.fromJSON(t.layers[0].layerDefinition.spatialReference);return t.layers.reduce(((e,t)=>{const r=t.layerDefinition.extent;return r?c.fromJSON(r).union(e):e}),new c({spatialReference:r}))}readMinScale(e,t){for(const r of t.layers)if(null!=r.layerDefinition.minScale)return r.layerDefinition.minScale;return 0}readMaxScale(e,t){for(const r of t.layers)if(null!=r.layerDefinition.maxScale)return r.layerDefinition.maxScale;return 0}get multipointLayer(){return this._findSublayer(\"multipointLayer\")}get pointLayer(){return this._findSublayer(\"pointLayer\")}get polygonLayer(){return this._findSublayer(\"polygonLayer\")}get polylineLayer(){return this._findSublayer(\"polylineLayer\")}readSpatialReference(e,t){return t.layers.length?u.fromJSON(t.layers[0].layerDefinition.spatialReference):u.WGS84}readSublayers(e,t,r){if(F(t))return null;const o=[];for(let l=0;l<t.layers.length;l++){var i;const{layerDefinition:e,featureSet:r}=t.layers[l],a=null!=(i=e.geometryType)?i:r.geometryType,n=k.find((t=>{var r,o,i;return a===t.geometryTypeJSON&&(null==(r=e.drawingInfo)||null==(o=r.renderer)||null==(i=o.symbol)?void 0:i.type)===t.identifyingSymbol.type}));if(n){const t=new P({id:n.layerId,title:e.name,layer:this,graphics:r.features.map((({geometry:e,symbol:t,attributes:r,popupInfo:o})=>h.fromJSON({attributes:r,geometry:e,symbol:t,popupTemplate:o})))});o.push(t)}}return new f(o)}writeSublayers(e,t,l,a){const{minScale:n,maxScale:s}=this;if(o(e))return;const p=e.some((e=>e.graphics.length>0));if(!this.capabilities.operations.supportsMapNotesEditing){var m;if(p)null==a||null==(m=a.messages)||m.push(new y(\"map-notes-layer:editing-not-supported\",\"New map notes cannot be added to this layer\"));return}const u=[];let c=this.spatialReference.toJSON();e:for(const r of e)for(const e of r.graphics)if(i(e.geometry)){c=e.geometry.spatialReference.toJSON();break e}for(const r of k){const t=e.find((e=>r.layerId===e.id));this._writeMapNoteSublayer(u,t,r,n,s,c,a)}r(\"featureCollection.layers\",u,t)}get textLayer(){return this._findSublayer(\"textLayer\")}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Feature Collection\"]},e)),Promise.resolve(this)}read(e,r){\"featureCollection\"in e&&(e=t(e),Object.assign(e,e.featureCollection)),super.read(e,r)}async beforeSave(){if(o(this.sublayers))return;let e=null;const t=[];for(const o of this.sublayers)for(const r of o.graphics)if(i(r.geometry)){const o=r.geometry;e?m(o.spatialReference,e)||(w(o.spatialReference,e)||N()||await L(),r.geometry=v(o,e)):e=o.spatialReference,t.push(r)}const r=await x(t.map((e=>e.geometry)));t.forEach(((e,t)=>e.geometry=r[t]))}_findSublayer(e){var t,r;return o(this.sublayers)?null:null!=(t=null==(r=this.sublayers)?void 0:r.find((t=>t.id===e)))?t:null}_writeMapNoteSublayer(e,r,i,l,a,n,s){const p=[];if(!o(r)){for(const e of r.graphics)this._writeMapNote(p,e,i.geometryType,s);this._normalizeObjectIds(p,G),e.push({layerDefinition:{name:r.title,drawingInfo:{renderer:{type:\"simple\",symbol:t(i.identifyingSymbol)}},geometryType:i.geometryTypeJSON,minScale:l,maxScale:a,objectIdField:\"OBJECTID\",fields:[G.toJSON(),_.toJSON()],spatialReference:n},featureSet:{features:p,geometryType:i.geometryTypeJSON}})}}_writeMapNote(e,t,r,l){if(o(t))return;const{geometry:a,symbol:s,popupTemplate:p}=t;if(o(a))return;var y,m;if(a.type!==r)return void(null==l||null==(y=l.messages)||y.push(new n(\"map-notes-layer:invalid-geometry-type\",`Geometry \"${a.type}\" cannot be saved in \"${r}\" layer`,{graphic:t})));if(o(s))return void(null==l||null==(m=l.messages)||m.push(new n(\"map-notes-layer:no-symbol\",\"Skipping map notes with no symbol\",{graphic:t})));const u={attributes:{...t.attributes},geometry:a.toJSON(),symbol:s.toJSON()};i(p)&&(u.popupInfo=p.toJSON()),e.push(u)}_normalizeObjectIds(e,t){const r=t.name;let o=D(r,e)+1;const i=new Set;for(const l of e){l.attributes||(l.attributes={});const{attributes:e}=l;(null==e[r]||i.has(e[r]))&&(e[r]=o++),i.add(e[r])}}};e([l({readOnly:!0})],z.prototype,\"capabilities\",void 0),e([a([\"portal-item\",\"web-map\"],\"capabilities\",[\"layers\"])],z.prototype,\"readCapabilities\",null),e([l({readOnly:!0})],z.prototype,\"featureCollections\",void 0),e([a([\"web-map\",\"portal-item\"],\"featureCollections\",[\"layers\"])],z.prototype,\"readFeatureCollections\",null),e([l({readOnly:!0,json:{origins:{\"web-map\":{write:{enabled:!0,target:\"featureCollection\"}}}}})],z.prototype,\"featureCollectionJSON\",void 0),e([a([\"web-map\",\"portal-item\"],\"featureCollectionJSON\",[\"featureCollection\"])],z.prototype,\"readLegacyfeatureCollectionJSON\",null),e([l({readOnly:!0,json:{read:!1,write:{enabled:!0,ignoreOrigin:!0}}})],z.prototype,\"featureCollectionType\",void 0),e([l({json:{write:!1}})],z.prototype,\"fullExtent\",void 0),e([a([\"web-map\",\"portal-item\"],\"fullExtent\",[\"layers\"])],z.prototype,\"readFullExtent\",null),e([l({readOnly:!0,json:{origins:{\"web-map\":{write:{target:\"featureCollection.showLegend\",overridePolicy(){return{enabled:null!=this.featureCollectionJSON}}}}}}})],z.prototype,\"legendEnabled\",void 0),e([l({type:[\"show\",\"hide\"]})],z.prototype,\"listMode\",void 0),e([l({type:Number,nonNullable:!0,json:{write:!1}})],z.prototype,\"minScale\",void 0),e([a([\"web-map\",\"portal-item\"],\"minScale\",[\"layers\"])],z.prototype,\"readMinScale\",null),e([l({type:Number,nonNullable:!0,json:{write:!1}})],z.prototype,\"maxScale\",void 0),e([a([\"web-map\",\"portal-item\"],\"maxScale\",[\"layers\"])],z.prototype,\"readMaxScale\",null),e([l({readOnly:!0})],z.prototype,\"multipointLayer\",null),e([l({value:\"ArcGISFeatureLayer\",type:[\"ArcGISFeatureLayer\"]})],z.prototype,\"operationalLayerType\",void 0),e([l({readOnly:!0})],z.prototype,\"pointLayer\",null),e([l({readOnly:!0})],z.prototype,\"polygonLayer\",null),e([l({readOnly:!0})],z.prototype,\"polylineLayer\",null),e([l({type:u})],z.prototype,\"spatialReference\",void 0),e([a([\"web-map\",\"portal-item\"],\"spatialReference\",[\"layers\"])],z.prototype,\"readSpatialReference\",null),e([l({readOnly:!0,json:{origins:{\"web-map\":{write:{ignoreOrigin:!0}}}}})],z.prototype,\"sublayers\",void 0),e([a(\"web-map\",\"sublayers\",[\"layers\"])],z.prototype,\"readSublayers\",null),e([p(\"web-map\",\"sublayers\")],z.prototype,\"writeSublayers\",null),e([l({readOnly:!0})],z.prototype,\"textLayer\",null),e([l()],z.prototype,\"title\",void 0),e([l({readOnly:!0,json:{read:!1}})],z.prototype,\"type\",void 0),z=e([s(\"esri.layers.MapNotesLayer\")],z);var B=z;export default B;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst t=1;function n(t,n){let o=0;for(const r of n){var e;const n=null==(e=r.attributes)?void 0:e[t];\"number\"==typeof n&&isFinite(n)&&(o=Math.max(o,n))}return o}export{n as findLastObjectIdFromFeatures,t as initialObjectId};\n"],"sourceRoot":""}