{"version":3,"file":"static/js/30550.24beae73.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/arcade.js","../node_modules/@arcgis/core/arcade/ImmutableArray.js","../node_modules/@arcgis/core/arcade/arcadeEnvironment.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"./Graphic.js\";import{ArcadeDate as t}from\"./arcade/ArcadeDate.js\";import{toSymbolId as r}from\"./arcade/arcadeEnvironment.js\";import a from\"./arcade/ImmutableArray.js\";import\"./core/has.js\";import{deprecated as n}from\"./core/deprecate.js\";import o from\"./core/Error.js\";import{clone as c}from\"./core/lang.js\";import i from\"./core/Logger.js\";import{DateOnly as s}from\"./core/sql/DateOnly.js\";import{TimeOnly as p}from\"./core/sql/TimeOnly.js\";import u from\"./layers/FeatureLayer.js\";import l from\"./portal/Portal.js\";import m from\"./rest/support/FeatureSet.js\";import{loadArcade as y}from\"./support/loadArcade.js\";let f=null;function d(e,t,r,n={}){const o=t.elementType,c=\"value\",i=\"array\"===o.type?[{name:c,type:o.type,elementType:o.elementType}]:\"dictionary\"===o.type?[{name:c,type:o.type,properties:o.properties}]:[{name:c,type:o.type}];return new a(e.map(e=>{const t={};return S(t,i,{[c]:e},r,n),t[c]}))}function b(e,t,r={}){const a=e instanceof m?new u({source:e.features,geometryType:e.geometryType,fields:e.fields,spatialReference:e.spatialReference}):e;return t.constructFeatureSet(a,r.spatialReference,null,!0,r.lruCache,r.interceptor)}function v(e,t,r={}){const{spatialReference:a,interceptor:n,lruCache:o}=r;return\"string\"==typeof e?t.createFeatureSetCollectionFromService(e,a,o,n):t.createFeatureSetCollectionFromMap(e,a,o,n)}function g(e,t,r,a={}){const n=Object.create(null);return S(n,t.properties,e,r,a),new f.Dictionary(n)}function S(e,r,a,n,o={}){const c={};for(const t of Object.keys(a))c[t.toLowerCase()]=a[t];for(const i of r){const r=i.name.toLowerCase();if(o.variablesPreProcessed)e[r]=c[r];else switch(i.type){case\"array\":{const t=c[r];e[r]=null==t?null:d(t,i,n,o);break}case\"feature\":{const t=c[r];e[r]=null==t?null:f.Feature.createFromGraphic(t,o?.timeZone);break}case\"featureSet\":{const t=c[r];e[r]=null==t?null:n?b(t,n,o):null;break}case\"featureSetCollection\":{const t=c[r];e[r]=null==t?null:n?v(t,n,o):null;break}case\"dictionary\":{const t=c[r];e[r]=null==t?null:g(t,i,n,o);break}case\"date\":{const a=c[r];e[r]=a?a instanceof t?a:o?.timeZone?t.dateJSAndZoneToArcadeDate(a,o?.timeZone):t.dateJSToArcadeDate(a):null;break}case\"dateOnly\":{const t=c[r];e[r]=t?t instanceof s?t:s.fromReader(t):null;break}case\"time\":{const t=c[r];e[r]=t?t instanceof p?t:p.fromReader(t):null;break}case\"knowledgeGraph\":case\"geometry\":case\"boolean\":case\"text\":case\"number\":e[r]=c[r];break;case\"voxel\":{const t=c[r];e[r]=null==t?null:new f.Voxel(t,o?.timeZone);break}}}}function w(e,t){for(const r of e)t.push(r),\"dictionary\"===r.type&&w(r.properties,t);return t}function h(e,t,r,a,n){const{spatialReference:o,interceptor:c,lruCache:i,console:s,abortSignal:p,timeZone:u,services:m={portal:l.getDefault()},track:y}=r,f={vars:{},spatialReference:o,interceptor:c,timeZone:u,lrucache:i,useAsync:n,services:m,console:s,abortSignal:p,track:y};return t?(S(f.vars,e.variables,t,a,r),f):f}function $(t,r){switch(r.getArcadeType(t)){case\"number\":case\"text\":case\"boolean\":case\"point\":case\"polygon\":case\"polyline\":case\"multipoint\":case\"extent\":return t;case\"date\":return t.toJSDate();case\"time\":case\"dateOnly\":return t.toString();case\"feature\":{const r=(t.type,t),a=\"geometry\"in r?r.geometry():null,n=\"readAttributes\"in r?r.readAttributes():r.attributes;return new e({geometry:a,attributes:n})}case\"dictionary\":{const e=t,a=e.attributes,n={};for(const t of Object.keys(a))n[t]=$(e.field(t),r);return n}case\"array\":return(\"toArray\"in t?t.toArray():t).map(e=>$(e,r))}return t}const x={variables:[{name:\"$feature\",type:\"feature\"},{name:\"$layer\",type:\"featureSet\"},{name:\"$datastore\",type:\"featureSetCollection\"},{name:\"$map\",type:\"featureSetCollection\"},{name:\"$userInput\",type:\"geometry\"},{name:\"$graph\",type:\"knowledgeGraph\"},{name:\"$view\",type:\"dictionary\",properties:[{name:\"scale\",type:\"number\"},{name:\"timeProperties\",type:\"dictionary\",properties:[{name:\"currentStart\",type:\"date\"},{name:\"currentEnd\",type:\"date\"},{name:\"startIncluded\",type:\"boolean\"},{name:\"endIncluded\",type:\"boolean\"}]}]}]},j={variables:[{name:\"$feature\",type:\"feature\"},{name:\"$aggregatedFeatures\",type:\"featureSet\"},{name:\"$view\",type:\"dictionary\",properties:[{name:\"scale\",type:\"number\"},{name:\"timeProperties\",type:\"dictionary\",properties:[{name:\"currentStart\",type:\"date\"},{name:\"currentEnd\",type:\"date\"},{name:\"startIncluded\",type:\"boolean\"},{name:\"endIncluded\",type:\"boolean\"}]}]}]},C={variables:[{name:\"$voxel\",type:\"voxel\"}]},A=new Map([[\"aggregate-field\",{variables:[{name:\"$feature\",type:\"feature\"}]}],[\"form-constraint\",{variables:[{name:\"$feature\",type:\"feature\"}]}],[\"feature-z\",{variables:[{name:\"$feature\",type:\"feature\"}]}],[\"field-calculation\",{variables:[{name:\"$feature\",type:\"feature\"},{name:\"$datastore\",type:\"featureSetCollection\"}]}],[\"form-calculation\",{variables:[{name:\"$feature\",type:\"feature\"},{name:\"$originalFeature\",type:\"feature\"},{name:\"$layer\",type:\"featureSet\"},{name:\"$featureSet\",type:\"featureSet\"},{name:\"$datastore\",type:\"featureSetCollection\"},{name:\"$map\",type:\"featureSetCollection\"},{name:\"$editContext\",type:\"dictionary\",properties:[{name:\"editType\",type:\"text\"}]}]}],[\"labeling\",{variables:[{name:\"$feature\",type:\"feature\"},{name:\"$view\",type:\"dictionary\",properties:[{name:\"scale\",type:\"number\"},{name:\"timeProperties\",type:\"dictionary\",properties:[{name:\"currentStart\",type:\"date\"},{name:\"currentEnd\",type:\"date\"},{name:\"startIncluded\",type:\"boolean\"},{name:\"endIncluded\",type:\"boolean\"}]}]}]}],[\"popup\",x],[\"popup-element\",x],[\"popup-feature-reduction\",j],[\"popup-element-feature-reduction\",j],[\"visualization\",{variables:[{name:\"$feature\",type:\"feature\"},{name:\"$view\",type:\"dictionary\",properties:[{name:\"scale\",type:\"number\"},{name:\"timeProperties\",type:\"dictionary\",properties:[{name:\"currentStart\",type:\"date\"},{name:\"currentEnd\",type:\"date\"},{name:\"startIncluded\",type:\"boolean\"},{name:\"endIncluded\",type:\"boolean\"}]}]}]}],[\"popup-voxel\",C],[\"popup-element-voxel\",C]]);function k(e){\"feature-reduction-popup\"===e?(n(i.getLogger(\"esri.arcade\"),'profile name: \"feature-reduction-popup\"',{replacement:'\"popup-feature-reduction\"',version:\"4.32\",warnOnce:!0}),e=\"popup-feature-reduction\"):\"feature-reduction-popup-element\"===e&&(n(i.getLogger(\"esri.arcade\"),'profile name: \"feature-reduction-popup-element\"',{replacement:'\"popup-element-feature-reduction\"',version:\"4.32\",warnOnce:!0}),e=\"popup-element-feature-reduction\");const t=A.get(e);if(!t){const t=Array.from(A.keys()).map(e=>`'${e}'`).join(\", \");throw new o(\"createArcadeProfile:invalid-profile-name\",`Invalid profile name '${e}'. You must specify one of the following values: ${t}`)}return c(t)}async function T(e,t,a={}){f||(f=await y());const{arcade:n,arcadeUtils:c,batchExec:{createBatchExecutor:i},aiServices:{BatchTranslationServiceFactory:s,PortalTranslationService:p}}=f,{loadScriptDependencies:u,referencesMember:m,scriptIsAsync:d}=n,b=w(t.variables,[]).filter(e=>\"featureSet\"===e.type||\"featureSetCollection\"===e.type).map(e=>r(e.name)),v=n.parseScript(e,b);if(!v)throw new o(\"arcade:invalid-script\",\"Unable to create SyntaxTree\");const g=c.extractFieldNames(v),S=n.scriptTouchesGeometry(v),x=t.variables.map(e=>r(e.name)).filter(e=>m(v,e)),j=d(v,b);await u(v,j,b);const C=n.compileScript(v,{vars:Object.fromEntries(x.map(e=>[e,!0])),useAsync:j}),{lruCache:A,services:k}=a,T=n.featureSetUtils(),F=(e,r={})=>{if(j)throw new o(\"arcade:invalid-execution-mode\",\"Cannot execute the script in synchronous mode\");const a={...k,...r.services},n={lruCache:A,...r,services:a},i=C(h(t,e,n,T,j));return r.rawOutput?i:$(i,c)},O=async(e,r={})=>{const a={...k,...r.services},n={lruCache:A,...r,services:a},o=await C(h(t,e,n,T,j));return r.rawOutput?o:$(o,c)},I=async(e,r,a={})=>{const n=[],o=i(e,async(e,o)=>{const i=r(e);try{const e={...u,translation:m.create(o)},r={lruCache:A,...a,services:e},s=await C(h(t,i,r,T,j)),p=a.rawOutput?s:$(s,c);n.push({id:o.id,result:{status:\"fulfilled\",value:p}})}catch(s){throw n.push({id:o.id,result:{status:\"rejected\",reason:s}}),s}},a.maxConcurrency??64,a.abortSignal),u={...k,...a.services},m=new s(o,u.translation??new p(u.portal??l.getDefault(),a.console));return await o.run(),n.sort(({id:e},{id:t})=>e-t).map(({result:e})=>e)};return{execute:F,executeAsync:O,executeAsyncBatch:I,isAsync:j,variablesUsed:x,fieldsUsed:g,geometryUsed:S,syntaxTree:v}}export{T as createArcadeExecutor,k as createArcadeProfile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass t{constructor(t=[]){this._elements=t}length(){return this._elements.length}get(t){return this._elements[t]}toArray(){return this.slice()}slice(t=0,e=this.length()){const s=[];for(let r=t;r<e;r++)s.push(this.get(r));return s}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ArcadeExecutionError as e}from\"./executionError.js\";function r(r){if(\"string\"==typeof r)return r.toLowerCase();if(\"name\"in r)return r.name.toLowerCase();if(\"string\"!=typeof r.value)throw new e(null,\"InvalidIdentifier\",null);return r.value.toLowerCase()}const t=Object.freeze({aborted:!1});export{t as neverAbortedSignal,r as toSymbolId};\n"],"names":["f","d","e","t","r","n","o","elementType","c","i","type","name","properties","a","map","S","b","m","u","source","features","geometryType","fields","spatialReference","constructFeatureSet","lruCache","interceptor","v","createFeatureSetCollectionFromService","createFeatureSetCollectionFromMap","g","Object","create","Dictionary","keys","toLowerCase","variablesPreProcessed","Feature","createFromGraphic","timeZone","dateJSAndZoneToArcadeDate","dateJSToArcadeDate","s","fromReader","p","Voxel","w","push","h","console","abortSignal","services","portal","l","getDefault","track","y","vars","lrucache","useAsync","variables","$","getArcadeType","toJSDate","toString","geometry","readAttributes","attributes","field","toArray","x","j","C","A","Map","k","getLogger","replacement","version","warnOnce","get","Array","from","join","async","T","arcade","arcadeUtils","batchExec","createBatchExecutor","aiServices","BatchTranslationServiceFactory","PortalTranslationService","loadScriptDependencies","referencesMember","scriptIsAsync","filter","parseScript","extractFieldNames","scriptTouchesGeometry","compileScript","fromEntries","featureSetUtils","execute","F","rawOutput","executeAsync","executeAsyncBatch","translation","id","result","status","value","reason","maxConcurrency","run","sort","isAsync","variablesUsed","fieldsUsed","geometryUsed","syntaxTree","constructor","this","_elements","length","slice","freeze","aborted"],"sourceRoot":""}