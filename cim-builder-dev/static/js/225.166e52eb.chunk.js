(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[225],{956:function(t,e,a){"use strict";a.r(e),a.d(e,"previewCIMSymbol",(function(){return o}));var n=a(18),l=a(393),i=a(261);const c=new l.a(null,!0);async function o(t,e={}){const{size:a,maxSize:l,node:o,opacity:s}=e,p=e.cimOptions||e,{feature:u,fieldMap:d,geometryType:m,style:h}=p,r=Object(i.b)(t),y=Math.min(null!=a?a:r,null!=l?l:Object(n.d)(120));y!==r&&(t=t.clone(),Object(i.d)(t,y,{preserveOutlineWidth:!0}));let b=3;t&&t.data&&t.data.symbol&&"CIMPointSymbol"!==t.data.symbol.type&&(b=1);const g=await c.rasterizeCIMSymbolAsync(t,u,d,m,{scaleFactor:b,style:h}),w=document.createElement("canvas");w.width=g.imageData.width,w.height=g.imageData.height,w.getContext("2d").putImageData(g.imageData,0,0);let M=w.width/b,f=w.height/b;if(null!=a&&(null==(null==e?void 0:e.scale)||(null==e?void 0:e.scale))){const t=M/f;M=t<=1?Math.ceil(y*t):y,f=t<=1?y:Math.ceil(y/t)}const v=new Image(M,f);return v.src=w.toDataURL(),null!=s&&(v.style.opacity=""+s),o&&o.appendChild(v),v}}}]);
//# sourceMappingURL=225.166e52eb.chunk.js.map