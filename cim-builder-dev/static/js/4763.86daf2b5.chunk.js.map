{"version":3,"file":"static/js/4763.86daf2b5.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{px2pt as e,pt2px as t}from\"../../core/screenUtils.js\";import{OverrideHelper as i,CIMSymbolHelper as n}from\"../cim/CIMSymbolHelper.js\";import{CIMSymbolRasterizer as l,GeometryStyle as o}from\"../cim/CIMSymbolRasterizer.js\";import{mapCIMSymbolToGeometryType as r}from\"../cim/utils.js\";import{SymbolSizeDefaults as s}from\"./previewUtils.js\";import{renderSymbol as a}from\"./renderUtils.js\";const m=new l(null,!0),h=e(s.size),c=e(s.maxSize),u=e(s.lineWidth);function f(e){const t=e?.size,i=e.maxSize??c;if(\"number\"==typeof t){const e=Math.min(t,i);return{width:e,height:e}}return{width:null!=t&&\"object\"==typeof t&&\"width\"in t?Math.min(t.width,i):null,height:null!=t&&\"object\"==typeof t&&\"height\"in t?Math.min(t.height,i):null}}async function y(e,l={}){const{node:s,opacity:y,symbolConfig:d}=l,p=\"object\"==typeof d&&\"isSquareFill\"in d&&d.isSquareFill,g=l.cimOptions||l,w=g.geometryType||r(e?.data?.symbol),b=f(l),{feature:M,fieldMap:j}=g;if(null==b.width||null==b.height){const t=await i.resolveSymbolOverrides(e.data,M,null,j,w);if(!t)return null;(e=e.clone()).data={type:\"CIMSymbolReference\",symbol:t},e.data.primitiveOverrides=null;const l=[];n.fetchResources(t,m.resourceManager,l),l.length>0&&await Promise.all(l);const{width:o,height:r}=n.getEnvelope(t,null,m.resourceManager);b.width=\"esriGeometryPolygon\"===w?h:\"esriGeometryPolyline\"===w?u:null!=o&&isFinite(o)?Math.min(o,c):h,b.height=\"esriGeometryPolygon\"===w?h:null!=r&&isFinite(r)?Math.min(r,c):h}const S=await m.rasterizeCIMSymbolAsync(e,M,b,p||\"esriGeometryPolygon\"!==w?o.Preview:o.Legend,j,w);if(!S)return null;const{width:v,height:C}=S,z=document.createElement(\"canvas\");z.width=v,z.height=C;z.getContext(\"2d\").putImageData(S,0,0);const I=t(b.width),P=t(b.height),x=new Image(I,P);x.src=z.toDataURL(),null!=y&&(x.style.opacity=`${y}`);let F=x;if(null!=l.effectView){const e={shape:{type:\"image\",x:0,y:0,width:I,height:P,src:x.src},fill:null,stroke:null,offset:[0,0]};F=a([[e]],[I,P],{effectView:l.effectView})}return s&&F&&s.appendChild(F),F}export{y as previewCIMSymbol};\n"],"names":["m","l","h","e","s","c","u","f","t","size","i","maxSize","Math","min","width","height","async","y","node","opacity","symbolConfig","d","p","isSquareFill","g","cimOptions","w","geometryType","r","data","symbol","b","feature","M","fieldMap","j","clone","type","primitiveOverrides","n","resourceManager","length","Promise","all","o","isFinite","S","rasterizeCIMSymbolAsync","v","C","z","document","createElement","getContext","putImageData","I","P","x","Image","src","toDataURL","style","F","effectView","shape","fill","stroke","offset","a","appendChild"],"sourceRoot":""}