{"version":3,"file":"static/js/28675.ce2f88ef.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{pt2px as e,px2pt as t}from\"../../core/screenUtils.js\";import{CIMSymbolHelper as i}from\"../cim/CIMSymbolHelper.js\";import{CIMSymbolRasterizer as o}from\"../cim/CIMSymbolRasterizer.js\";import{OverrideHelper as l}from\"../cim/OverrideHelper.js\";import{mapCIMSymbolToGeometryType as n}from\"../cim/utils.js\";import{renderSymbol as r}from\"./renderUtils.js\";const a=new o(null),s=t(22),m=t(120),h=t(50),c=1;async function y(e,t,i){const o=t?.size;let l=null!=o&&\"object\"==typeof o&&\"width\"in o?o.width:o,n=null!=o&&\"object\"==typeof o&&\"height\"in o?o.height:o;if(!l||!n)if(\"esriGeometryPolygon\"===i)l=n=t.maxSize?Math.min(t.maxSize,s):s;else{const o=await u(e,t,i);o&&(l=o.width,n=o.height),\"esriGeometryPolyline\"===i&&(l=t.maxSize?Math.min(t.maxSize,h):h),l=null!=l&&isFinite(l)?Math.min(l,m):s,n=null!=n&&isFinite(n)?Math.max(Math.min(n,m),c):s}return\"legend\"===t.style&&\"esriGeometryPolyline\"===i&&(l=h),{width:l,height:n}}async function u(e,t={},o){const r=t.cimOptions||t;o??=r.geometryType||n(e?.data?.symbol);const{feature:s,fieldMap:m,viewParams:h}=r,c=await l.resolveSymbolOverrides(e.data,s,null,m,o,null,h);if(!c)return null;(e=e.clone()).data={type:\"CIMSymbolReference\",symbol:c},e.data.primitiveOverrides=void 0;const y=[];return i.fetchResources(c,a.resourceManager,y),i.fetchFonts(c,a.resourceManager,y),y.length>0&&await Promise.all(y),i.getEnvelope(c,null,a.resourceManager)}async function g(i,o={}){const{node:l,opacity:s,symbolConfig:m}=o,h=null!=m&&\"object\"==typeof m&&\"isSquareFill\"in m&&m.isSquareFill,c=o.cimOptions||o,u=c.geometryType||n(i?.data?.symbol),g=await y(i,o,u),{feature:d,fieldMap:f}=c,p=o?.geometry||h||\"esriGeometryPolygon\"!==u?\"preview\":\"legend\";let w=g;const b=g;if(o?.geometry&&(\"esriGeometryPolygon\"===u||\"esriGeometryPolyline\"===u)){const i=200;if(e(g.width)<i||e(g.height)<i){const e=g.width>g.height?t(i)*g.height/g.width:t(i);w={width:g.width>g.height?t(i):t(i)*g.width/g.height,height:e}}}const M=await a.rasterizeCIMSymbolAsync(i,d,w,p,f,u,null,c.viewParams,c.allowScalingUp,o?.geometry?.toJSON());if(!M)return null;const{width:S,height:v}=M,j=document.createElement(\"canvas\");j.width=S,j.height=v;j.getContext(\"2d\").putImageData(M,0,0);const P=e(b.width),x=e(b.height),z=new Image(P,x);z.src=j.toDataURL(),z.ariaLabel=o.ariaLabel??null,z.alt=o.ariaLabel??\"\",null!=s&&(z.style.opacity=`${s}`);let C=z;if(null!=o.effectView){const e={shape:{type:\"image\",x:0,y:0,width:P,height:x,src:z.src},fill:null,stroke:null,offset:[0,0]};C=r([[e]],[P,x],o)}return l&&C&&l.appendChild(C),C}export{u as getCIMSymbolPreviewSize,g as previewCIMSymbol};\n"],"names":["a","o","s","t","m","h","c","async","y","e","i","size","l","width","n","height","maxSize","Math","min","u","isFinite","max","style","r","cimOptions","geometryType","data","symbol","feature","fieldMap","viewParams","resolveSymbolOverrides","clone","type","primitiveOverrides","fetchResources","resourceManager","fetchFonts","length","Promise","all","getEnvelope","g","node","opacity","symbolConfig","isSquareFill","d","f","p","geometry","w","b","M","rasterizeCIMSymbolAsync","allowScalingUp","toJSON","S","v","j","document","createElement","getContext","putImageData","P","x","z","Image","src","toDataURL","ariaLabel","alt","C","effectView","shape","fill","stroke","offset","appendChild"],"sourceRoot":""}