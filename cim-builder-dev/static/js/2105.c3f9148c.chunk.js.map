{"version":3,"file":"static/js/2105.c3f9148c.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/support/colorUtils.js","../node_modules/@arcgis/core/symbols/support/previewSymbol2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(r){await r.whenReady();const n=r.basemapView.baseLayerViews.map((t=>t.layer));if(!n.length){const n=getComputedStyle(r.container).backgroundColor,a=n&&new t(n);return r.get(\"background.color\")||(a&&0!==a.a?a:null)||null}const a=(await r.takeScreenshot({format:\"png\",layers:n.toArray()})).data.data,o=a.length;let e=0,u=0,l=0,c=0,s=0,i=0;for(let t=0;t<o;t+=4){const r=a[t],n=a[t+1],o=a[t+2],h=a[t+3],d=h/255;e+=r*r*d,u+=n*n*d,l+=o*o*d,s+=d,h&&(c+=h,i++)}e=Math.round(Math.sqrt(e/s)),u=Math.round(Math.sqrt(u/s)),l=Math.round(Math.sqrt(l/s));return new t([e,u,l,c/i/255])}async function a(t){if(!t)return null;const a=await n(t);return r(a)?o(a):null}function o(t){return e(t).isBright?\"light\":\"dark\"}function e(r){let{r:n,g:a,b:o,a:e}=r;return e<1&&(n=Math.round(e*n+255*(1-e)),a=Math.round(e*a+255*(1-e)),o=Math.round(e*o+255*(1-e))),new t({r:n,g:a,b:o})}function u(t){const{r,g:n,b:a}=e(t);return.2126*r+.7152*n+.0722*a}export{n as getBackgroundColor,a as getBackgroundColorTheme,u as getColorLuminance,o as getColorTheme};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import t from\"../../core/Error.js\";import{pt2px as a,px2pt as n}from\"../../core/screenUtils.js\";import{getFill as l,getStroke as s,getPatternUrlWithColor as i}from\"./gfxUtils.js\";import{SymbolSizeDefaults as o,shapes as r,adjustColorBrightness as c}from\"./previewUtils.js\";import{renderSymbol as m}from\"./renderUtils.js\";import{getColorLuminance as u}from\"../../views/support/colorUtils.js\";const h=\"picture-fill\",p=\"picture-marker\",d=\"simple-fill\",f=\"simple-line\",y=\"simple-marker\",w=\"text\",g=\"Aa\",v=o.size,b=o.maxSize,k=o.maxOutlineSize,M=o.lineWidth,x=225,z=document.createElement(\"canvas\");function L(e,t){const a=z.getContext(\"2d\"),n=[];return t&&(t.weight&&n.push(t.weight),t.size&&n.push(t.size+\"px\"),t.family&&n.push(t.family)),a.font=n.join(\" \"),a.measureText(e).width}const j=7.2/2.54,C=72/2.54;function S(e){if(0===e.length)return 0;if(e.length>2){const t=n(1),a=parseFloat(e);switch(e.slice(-2)){case\"px\":return a;case\"pt\":return a*t;case\"in\":return 72*a*t;case\"pc\":return 12*a*t;case\"mm\":return a*j*t;case\"cm\":return a*C*t}}return parseFloat(e)}function F(e){const t=e?.size;return{width:null!=t&&\"object\"==typeof t&&\"width\"in t?a(t.width):null,height:null!=t&&\"object\"==typeof t&&\"height\"in t?a(t.height):null}}async function U(e,t){const a=t.fill,n=e.color;if(\"pattern\"===a?.type&&n&&e.type!==h){const e=await i(a.src,n.toCss(!0));a.src=e,t.fill=a}}function E(e,t){return e>t?\"dark\":\"light\"}function Z(e,t){const n=\"number\"==typeof t?.size?t?.size:null,i=null!=n?a(n):null,o=null!=t?.maxSize?a(t.maxSize):null,c=null!=t?.rotation?t.rotation:\"angle\"in e?e.angle:null,m=l(e);let u=s(e);\"dark\"!==D(e,245)||t?.ignoreWhiteSymbols||(u={width:.75,...u,color:\"#bdc3c7\"});const x={shape:null,fill:m,stroke:u,offset:[0,0]};u?.width&&(u.width=Math.min(u.width,k));const z=u?.width||0;let j=null!=t?.size&&(null==t?.scale||t?.scale),C=0,U=0,E=!1;switch(e.type){case y:{const n=e.style,{width:l,height:s}=F(t),r=Math.min(l===s&&null!=l?l:null!=i?i:a(e.size),o||b);switch(C=r,U=r,n){case\"circle\":x.shape={type:\"circle\",cx:0,cy:0,r:.5*r},j||(C+=z,U+=z);break;case\"cross\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*U]},{command:\"L\",values:[C,.5*U]},{command:\"M\",values:[.5*C,0]},{command:\"L\",values:[.5*C,U]}]};break;case\"diamond\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*U]},{command:\"L\",values:[.5*C,0]},{command:\"L\",values:[C,.5*U]},{command:\"L\",values:[.5*C,U]},{command:\"Z\",values:[]}]},j||(C+=z,U+=z);break;case\"square\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,0]},{command:\"L\",values:[C,U]},{command:\"L\",values:[0,U]},{command:\"Z\",values:[]}]},j||(C+=z,U+=z),c&&(E=!0);break;case\"triangle\":x.shape={type:\"path\",path:[{command:\"M\",values:[.5*C,0]},{command:\"L\",values:[C,U]},{command:\"L\",values:[0,U]},{command:\"Z\",values:[]}]},j||(C+=z,U+=z),c&&(E=!0);break;case\"x\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,U]},{command:\"M\",values:[C,0]},{command:\"L\",values:[0,U]}]},c&&(E=!0);break;case\"path\":x.shape={type:\"path\",path:e.path||\"\"},j||(C+=z,U+=z),c&&(E=!0),j=!0}break}case f:{const{width:e,height:a}=F(t),n=null!=a?a:Math.min(null!=i?i:z,o||k),l=null!=e?e:M;u&&(u.width=n),C=l,U=n;const s=x?.stroke?.cap||\"butt\",r=\"round\"===s;j=!0,x.stroke&&(x.stroke.cap=\"butt\"===s?\"square\":s),x.shape={type:\"path\",path:[{command:\"M\",values:[r?n/2:0,U/2]},{command:\"L\",values:[r?C-n/2:C,U/2]}]};break}case h:case d:{const e=\"object\"==typeof t?.symbolConfig&&t?.symbolConfig.isSquareFill,{width:a,height:n}=F(t);C=!e&&a!==n||null==a?null!=i?i:v:a,U=!e&&a!==n||null==n?C:n,j||(C+=z,U+=z),j=!0,x.shape=e?{type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,0]},{command:\"L\",values:[C,U]},{command:\"L\",values:[0,U]},{command:\"L\",values:[0,0]},{command:\"Z\",values:[]}]}:r.fill[0];break}case p:{let n=a(e.width),l=a(e.height);const{width:s,height:r}=F(t),m=s===r&&null!=s?s:null!=i?i:Math.max(n,l),u=n/l;n=u<=1?Math.ceil(m*u):m,l=u<=1?m:Math.ceil(m/u),C=Math.min(n,o||b),U=Math.min(l,o||b),x.shape={type:\"image\",x:-Math.round(C/2),y:-Math.round(U/2),width:C,height:U,src:e.url||\"\"},c&&(E=!0);break}case w:{const n=e,l=t?.overrideText||n.text||g,s=n.font,{width:r,height:c}=F(t),m=Math.min(null!=c?c:null!=i?i:a(s.size),o||b),u=L(l,{weight:s.weight,size:m,family:s.family}),h=/[\\uE600-\\uE6FF]/.test(l);C=r||h?m:u,U=m;let p=.25*S((s?m:0).toString());h&&(p+=5),x.shape={type:\"text\",text:l,x:n.xoffset||0,y:n.yoffset||p,align:\"middle\",alignBaseline:n.verticalAlignment,decoration:s&&s.decoration,rotated:n.rotated,kerning:n.kerning},x.font=s&&{size:m,style:s.style,decoration:s.decoration,weight:s.weight,family:s.family};break}}return{shapeDescriptor:x,size:[C,U],renderOptions:{node:t?.node,scale:j,opacity:t?.opacity,rotation:c,useRotationSize:E,effectView:t?.effectView}}}async function q(e,a){const{shapeDescriptor:n,size:l,renderOptions:s}=Z(e,a);if(!n.shape)throw new t(\"symbolPreview: renderPreviewHTML2D\",\"symbol not supported.\");await U(e,n);const i=[[n]];if(\"object\"==typeof a?.symbolConfig&&a?.symbolConfig.applyColorModulation){const e=.6*l[0];i.unshift([{...n,offset:[-e,0],fill:c(n.fill,-.3)}]),i.push([{...n,offset:[e,0],fill:c(n.fill,.3)}]),l[0]+=2*e,s.scale=!1}return m(i,l,s)}function D(t,a=x){const n=l(t),i=s(t),o=!n||\"type\"in n?null:new e(n),r=i?.color?new e(i?.color):null,c=o?E(u(o),a):null,m=r?E(u(r),a):null;return m?c?c===m?c:a>=x?\"light\":\"dark\":m:c}export{D as getContrastingBackgroundTheme,Z as getRenderSymbolParameters,q as previewSymbol2D};\n"],"names":["e","r","n","g","a","b","o","Math","round","t","u","h","v","k","M","x","z","document","createElement","L","getContext","weight","push","size","family","font","join","measureText","width","S","length","parseFloat","slice","F","height","E","Z","i","maxSize","c","rotation","angle","m","l","s","D","ignoreWhiteSymbols","color","shape","fill","stroke","offset","min","j","scale","C","U","type","style","cx","cy","path","command","values","cap","symbolConfig","isSquareFill","max","ceil","y","src","url","overrideText","text","test","p","toString","xoffset","yoffset","align","alignBaseline","verticalAlignment","decoration","rotated","kerning","shapeDescriptor","renderOptions","node","opacity","useRotationSize","effectView","async","q","toCss","applyColorModulation","unshift"],"sourceRoot":""}