{"version":3,"sources":["../node_modules/@arcgis/core/symbols/support/previewSymbol3D.js"],"names":["U","D","E","s","getLogger","C","r","outline","o","t","material","color","l","toHex","e","type","width","n","a","size","toRgba","Math","min","q","c","h","v","g","i","b","u","A","H","m","d","async","N","style","x","y","src","p","toCss","height","T","$","B","F","x1","y1","x2","y2","colors","offset","Q","maxSize","disableUpsampling","symbolLayers","getItemAt","length","forEach","ceil","resource","href","thumbnail","url","Promise","resolve","styleOrigin","styleName","styleUrl","portal","catch","then","Z","get","K","S","max","shape","fill","stroke","push","symbolConfig","isTall","depth","G","primitive","cx","cy","path","command","values","L","M","w","k","J","value","error","warn","P","node","scale","opacity","X","reject","f","I","profile","join","pathSymbol3DLayer","V","pattern","z","j","W"],"mappings":"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","file":"static/js/160.ec22363f.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as e,isSome as t}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import r from\"../../core/Error.js\";import{eachAlways as o}from\"../../core/promiseUtils.js\";import{pt2px as a}from\"../../core/screenUtils.js\";import{defaultPrimitive as l}from\"./IconSymbol3DLayerResource.js\";import{getAssetUrl as n}from\"../../assets.js\";import{defaultPrimitive as i}from\"./ObjectSymbol3DLayerResource.js\";import{toHSV as c,toRGB as h}from\"../../core/colorUtils.js\";import{resolveWebStyleSymbol as u}from\"./styleUtils.js\";import{getPatternUrlWithColor as p,defaultThematicColor as m}from\"./gfxUtils.js\";import{isVolumetricSymbol as f,getIconHref as y}from\"./utils.js\";import{adjustColorComponentBrightness as d,getPathSymbolShapes as b,shapes as v,getTetrahedronShapes as g,getDiamondShapes as k,getCylinderShapes as w,getCubeShapes as x,getInvertedConeShapes as M,getConeShapes as L,getWaterSymbolShapes as j,getExtrudeSymbolShapes as z}from\"./previewUtils.js\";import{renderSymbol as P,tintImageWithColor as S}from\"./renderUtils.js\";const U=22,D=120,O=80,I=40,R=20,E=s.getLogger(\"esri.symbols.support.previewSymbol3D\");function C(s){const r=s.outline,o=t(s.material)?s.material.color:null,l=t(o)?o.toHex():null;if(e(r))return\"fill\"===s.type&&\"#ffffff\"===l?{color:\"#bdc3c7\",width:.75}:null;const n=a(r.size)||0;return{color:\"rgba(\"+(t(r.color)?r.color.toRgba():\"255,255,255,1\")+\")\",width:Math.min(n,O)}}function Z(e,t){const s=t&&t.resource,r=s&&s.href;if(e.thumbnail&&e.thumbnail.url)return Promise.resolve(e.thumbnail.url);if(r&&\"object\"!==t.type)return Promise.resolve(y(e,t));const o=n(\"esri/images/Legend/legend3dsymboldefault.png\");return e.styleOrigin&&(e.styleOrigin.styleName||e.styleOrigin.styleUrl)?u(e.styleOrigin,{portal:e.styleOrigin.portal},\"webRef\").catch((e=>e)).then((e=>{var t;return(null==e||null==(t=e.thumbnail)?void 0:t.url)||o})):Promise.resolve(o)}function q(e,t=1){const s=e.a,r=c(e),o=r.h,a=r.s/t,l=100-(100-r.v)/t,{r:n,g:i,b:u}=h({h:o,s:a,v:l});return[n,i,u,s]}function A(t){return\"water\"===t.type?e(t.color)?null:t.color:e(t.material)||e(t.material.color)?null:t.material.color}function H(e,t=0){const s=A(e);if(!s){if(\"fill\"===e.type)return null;const s=m.r,r=d(s,t);return[r,r,r,100]}const r=s.toRgba();for(let o=0;o<3;o++)r[o]=d(r[o],t);return r}async function N(e,t){const s=e.style;if(\"none\"===s)return null;return{type:\"pattern\",x:0,y:0,src:await p(n(`esri/symbols/patterns/${s}.png`),t.toCss(!0)),width:5,height:5}}function T(e){return e.outline?C(e):{color:\"rgba(0, 0, 0, 1)\",width:1.5}}function $(e,t){const s=A(e);if(!s)return null;let r=\"rgba(\";return r+=d(s.r,t)+\",\",r+=d(s.g,t)+\",\",r+=d(s.b,t)+\",\",r+s.a+\");\"}function B(e,t){const s=$(e,t);if(!s)return{};return{color:s,width:Math.min(e.size?a(e.size):.75,O)}}function F(e,t,s){const r=.75*s;return{type:\"linear\",x1:r?.25*r:0,y1:r?.5*r:0,x2:r||4,y2:r?.5*r:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function G(e){const t=e.depth,s=e.height,r=e.width;return r&&t&&s&&r===t&&r<s}function J(e,t,s){const r=[];if(!e)return r;switch(e.type){case\"icon\":{const s=0,o=0,a=t,n=t;switch(e.resource&&e.resource.primitive||l){case\"circle\":r.push({shape:{type:\"circle\",cx:0,cy:0,r:.5*t},fill:H(e,0),stroke:C(e)});break;case\"square\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,n]},{command:\"L\",values:[s,o]},{command:\"L\",values:[a,o]},{command:\"L\",values:[a,n]},{command:\"Z\",values:[]}]},fill:H(e,0),stroke:C(e)});break;case\"triangle\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,n]},{command:\"L\",values:[.5*a,o]},{command:\"L\",values:[a,n]},{command:\"Z\",values:[]}]},fill:H(e,0),stroke:C(e)});break;case\"cross\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[.5*a,o]},{command:\"L\",values:[.5*a,n]},{command:\"M\",values:[s,.5*n]},{command:\"L\",values:[a,.5*n]}]},stroke:T(e)});break;case\"x\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,o]},{command:\"L\",values:[a,n]},{command:\"M\",values:[a,o]},{command:\"L\",values:[s,n]}]},stroke:T(e)});break;case\"kite\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,.5*n]},{command:\"L\",values:[.5*a,o]},{command:\"L\",values:[a,.5*n]},{command:\"L\",values:[.5*a,n]},{command:\"Z\",values:[]}]},fill:H(e,0),stroke:C(e)})}break}case\"object\":switch(e.resource&&e.resource.primitive||i){case\"cone\":{const o=F(H(e,0),H(e,-.6),s?R:t),a=L(t,s);r.push({shape:a[0],fill:o}),r.push({shape:a[1],fill:o});break}case\"inverted-cone\":{const s=H(e,0),o=F(s,H(e,-.6),t),a=M(t);r.push({shape:a[0],fill:o}),r.push({shape:a[1],fill:s});break}case\"cube\":{const o=x(t,s);r.push({shape:o[0],fill:H(e,0)}),r.push({shape:o[1],fill:H(e,-.3)}),r.push({shape:o[2],fill:H(e,-.5)});break}case\"cylinder\":{const o=F(H(e,0),H(e,-.6),s?R:t),a=w(t,s);r.push({shape:a[0],fill:o}),r.push({shape:a[1],fill:o}),r.push({shape:a[2],fill:H(e,0)});break}case\"diamond\":{const s=k(t);r.push({shape:s[0],fill:H(e,-.3)}),r.push({shape:s[1],fill:H(e,0)}),r.push({shape:s[2],fill:H(e,-.3)}),r.push({shape:s[3],fill:H(e,-.7)});break}case\"sphere\":{const s=F(H(e,0),H(e,-.6));s.x1=0,s.y1=0,s.x2=.25*t,s.y2=.25*t,r.push({shape:{type:\"circle\",cx:0,cy:0,r:.5*t},fill:s});break}case\"tetrahedron\":{const s=g(t);r.push({shape:s[0],fill:H(e,-.3)}),r.push({shape:s[1],fill:H(e,0)}),r.push({shape:s[2],fill:H(e,-.6)});break}}break}return r}function K(e){return\"icon\"===e.type?\"multiply\":\"tint\"}function Q(e,t){const s=t&&t.size?a(t.size):null,r=t&&t.maxSize?a(t.maxSize):null,l=t&&t.disableUpsampling,n=e.symbolLayers,i=[];let c=0,h=0;const u=n.getItemAt(n.length-1);let p;return u&&\"icon\"===u.type&&(p=u.size&&a(u.size)),n.forEach((o=>{if(\"icon\"!==o.type&&\"object\"!==o.type)return;const n=\"icon\"===o.type?o.size&&a(o.size):0,u=s||n?Math.ceil(Math.min(s||n,r||D)):U;if(o&&o.resource&&o.resource.href){const t=Z(e,o).then((function(e){const t=o.get(\"material.color\"),s=K(o);return S(e,u,t,s,l)})).then((function(e){const t=e.width,s=e.height;return c=Math.max(c,t),h=Math.max(h,s),[{shape:{type:\"image\",x:0,y:0,width:t,height:s,src:e.url},fill:null,stroke:null}]}));i.push(t)}else{var m;let e=u;\"icon\"===o.type&&p&&s&&(e=u*(n/p));const r=\"tall\"===(null==t?void 0:t.symbolConfig)||(null==t||null==(m=t.symbolConfig)?void 0:m.isTall)||\"object\"===o.type&&G(o);c=Math.max(c,r?R:e),h=Math.max(h,e),i.push(Promise.resolve(J(o,e,r)))}})),o(i).then((function(e){const s=[];return e.forEach((function(e){e.value?s.push(e.value):e.error&&E.warn(\"error while building swatchInfo!\",e.error)})),P(s,[c,h],{node:t&&t.node,scale:!1,opacity:t&&t.opacity})}))}function V(e,t){const s=e.symbolLayers,r=[],o=f(e),l=t&&t.size?a(t.size):null,n=(t&&t.maxSize?a(t.maxSize):null)||O;let i,c=0,h=0;return s.forEach(((e,t)=>{if(!e)return;if(\"line\"!==e.type&&\"path\"!==e.type)return;const s=[];switch(e.type){case\"line\":{const r=B(e,0),o=r&&r.width||0;0===t&&(i=o);const a=Math.min(l||o,n),u=0===t?a:l?a*(o/i):a,p=u>I/2?2*u:I;h=Math.max(h,u),c=Math.max(c,p),r.width=u,s.push({shape:{type:\"path\",path:[{command:\"M\",values:[0,.5*h]},{command:\"L\",values:[c,.5*h]}]},stroke:r});break}case\"path\":{const t=Math.min(l||U,n),r=H(e,0),i=H(e,-.2),u=$(e,-.4),p=u?{color:u,width:1}:{};if(\"quad\"===e.profile){var o,a;const t=null!=(o=e.width)?o:e.size,l=null!=(a=e.height)?a:e.size,n=b(t&&l?t/l:1,0===l,0===t),c={...p,join:\"bevel\"};s.push({shape:n[0],fill:i,stroke:c}),s.push({shape:n[1],fill:i,stroke:c}),s.push({shape:n[2],fill:r,stroke:c})}else s.push({shape:v.pathSymbol3DLayer[0],fill:i,stroke:p}),s.push({shape:v.pathSymbol3DLayer[1],fill:r,stroke:p});h=Math.max(h,t),c=h}}r.push(s)})),Promise.resolve(P(r,[c,h],{node:t&&t.node,scale:o,opacity:t&&t.opacity}))}async function W(e,s){const r=\"mesh-3d\"===e.type,o=e.symbolLayers,l=s&&s.size?a(s.size):null,n=s&&s.maxSize?a(s.maxSize):null,i=l||U,c=[];let h=0,u=0,p=!1;for(let a=0;a<o.length;a++){const e=o.getItemAt(a),s=[];if(r&&\"fill\"!==e.type)continue;const l=v.fill[0];switch(e.type){case\"fill\":{const o=C(e),a=Math.min(i,n||D);h=Math.max(h,a),u=Math.max(u,a),p=!0;let c=H(e,0);const m=\"pattern\"in e&&e.pattern,f=A(e);!r&&t(m)&&\"style\"===m.type&&\"solid\"!==m.style&&f&&(c=await N(m,f)),s.push({shape:l,fill:c,stroke:o});break}case\"line\":{const t={stroke:B(e,0),shape:l};h=Math.max(h,U),u=Math.max(u,U),s.push(t);break}case\"extrude\":{const t={join:\"round\",...B(e,-.4)},r=H(e,0),o=H(e,-.2),a=Math.min(i,n||D),l=z(a);t.width=1,s.push({shape:l[0],fill:o,stroke:t}),s.push({shape:l[1],fill:o,stroke:t}),s.push({shape:l[2],fill:r,stroke:t});const c=U,p=.7*U+.5*a;h=Math.max(h,c),u=Math.max(u,p);break}case\"water\":{const t=A(e),r=q(t),o=q(t,2),a=q(t,3),l=j();p=!0,s.push({shape:l[0],fill:r}),s.push({shape:l[1],fill:o}),s.push({shape:l[2],fill:a});const c=Math.min(i,n||D);h=Math.max(h,c),u=Math.max(u,c);break}}c.push(s)}return Promise.resolve(P(c,[h,u],{node:s&&s.node,scale:p,opacity:s&&s.opacity}))}function X(e,t){if(0===e.symbolLayers.length)return Promise.reject(new r(\"symbolPreview: renderPreviewHTML3D\",\"No symbolLayers in the symbol.\"));let s=null;switch(e.type){case\"point-3d\":s=Q(e,t);break;case\"line-3d\":s=V(e,t);break;case\"polygon-3d\":case\"mesh-3d\":s=W(e,t)}return s||Promise.reject(new r(\"symbolPreview: swatchInfo3D\",\"symbol not supported.\"))}export{N as getPatternDescriptor,H as getSymbolLayerFill,X as previewSymbol3D};\n"],"sourceRoot":""}