"use strict";(globalThis.webpackChunkmy_app=globalThis.webpackChunkmy_app||[]).push([[7314],{96212:(t,e,i)=>{i.d(e,{Z:()=>d});var s,l=i(27366),n=i(10064),r=i(46784),o=i(84652),a=i(32718),h=i(92026),c=i(49861),p=i(89125),f=i(69912);class u{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.minValue=t,this.maxValue=e,this.noDataValue=i}}let x=s=class extends r.wq{constructor(t){super(t),this.width=null,this.height=null,this.pixelType="f32",this.validPixelCount=null,this.mask=null,this.maskIsAlpha=!1,this.statistics=null}static createEmptyBand(t,e){return new(s.getPixelArrayConstructor(t))(e)}static getPixelArrayConstructor(t){let e;switch(t){case"u1":case"u2":case"u4":case"u8":e=Uint8Array;break;case"u16":e=Uint16Array;break;case"u32":e=Uint32Array;break;case"s8":e=Int8Array;break;case"s16":e=Int16Array;break;case"s32":e=Int32Array;break;case"f32":case"c64":case"c128":case"unknown":e=Float32Array;break;case"f64":e=Float64Array}return e}castPixelType(t){if(!t)return"f32";let e=t.toLowerCase();return["u1","u2","u4"].includes(e)?e="u8":["unknown","u8","s8","u16","s16","u32","s32","f32","f64"].includes(e)||(e="f32"),e}getPlaneCount(){return this.pixels?.length}addData(t){if(!t.pixels||t.pixels.length!==this.width*this.height)throw new n.Z("pixelblock:invalid-or-missing-pixels","add data requires valid pixels array that has same length defined by pixel block width * height");this.pixels||(this.pixels=[]),this.statistics||(this.statistics=[]),this.pixels.push(t.pixels),this.statistics.push(t.statistics??new u)}getAsRGBA(){const t=new ArrayBuffer(this.width*this.height*4);switch(this.pixelType){case"s8":case"s16":case"u16":case"s32":case"u32":case"f32":case"f64":this._fillFromNon8Bit(t);break;default:this._fillFrom8Bit(t)}return new Uint8ClampedArray(t)}getAsRGBAFloat(){const t=new Float32Array(this.width*this.height*4);return this._fillFrom32Bit(t),t}updateStatistics(){if(!this.pixels)return;this.statistics=this.pixels.map((t=>this._calculateBandStatistics(t,this.mask)));const t=this.mask;let e=0;if((0,h.pC)(t))for(let i=0;i<t.length;i++)t[i]&&e++;else e=this.width*this.height;this.validPixelCount=e}clamp(t){if(!t||"f64"===t||"f32"===t||!this.pixels)return;let e;switch(t){case"u8":e=[0,255];break;case"u16":e=[0,65535];break;case"u32":e=[0,4294967295];break;case"s8":e=[-128,127];break;case"s16":e=[-32768,32767];break;case"s32":e=[-2147483648,2147483647];break;default:e=[-34e38,34e38]}const[i,l]=e,n=this.pixels,r=this.width*this.height,o=n.length;let a,h,c;const p=[];for(let f=0;f<o;f++){c=s.createEmptyBand(t,r),a=n[f];for(let t=0;t<r;t++)h=a[t],c[t]=h>l?l:h<i?i:h;p.push(c)}this.pixels=p,this.pixelType=t}extractBands(t){const{pixels:e,statistics:i}=this;if((0,h.Wi)(t)||0===t.length||!e||0===e.length)return this;const l=e.length,n=t.some((t=>t>=e.length)),r=l===t.length&&!t.some(((t,e)=>t!==e));return n||r?this:new s({pixelType:this.pixelType,width:this.width,height:this.height,mask:this.mask,validPixelCount:this.validPixelCount,maskIsAlpha:this.maskIsAlpha,pixels:t.map((t=>e[t])),statistics:i&&t.map((t=>i[t]))})}clone(){const t=new s({width:this.width,height:this.height,pixelType:this.pixelType,maskIsAlpha:this.maskIsAlpha,validPixelCount:this.validPixelCount});let e;(0,h.pC)(this.mask)&&(this.mask instanceof Uint8Array?t.mask=new Uint8Array(this.mask):t.mask=this.mask.slice(0));const i=s.getPixelArrayConstructor(this.pixelType);if(this.pixels&&this.pixels.length>0){t.pixels=[];const s=!!this.pixels[0].slice;for(e=0;e<this.pixels.length;e++)t.pixels[e]=s?this.pixels[e].slice(0,this.pixels[e].length):new i(this.pixels[e])}if(this.statistics)for(t.statistics=[],e=0;e<this.statistics.length;e++)t.statistics[e]=(0,o.d9)(this.statistics[e]);return t}_fillFrom8Bit(t){const{mask:e,maskIsAlpha:i,pixels:s}=this;if(!t||!s||!s.length)return void a.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.");let l,n,r,o;l=n=r=s[0],s.length>=3?(n=s[1],r=s[2]):2===s.length&&(n=s[1]);const c=new Uint32Array(t),p=this.width*this.height;if(l.length===p)if((0,h.pC)(e)&&e.length===p)if(i)for(o=0;o<p;o++)e[o]&&(c[o]=e[o]<<24|r[o]<<16|n[o]<<8|l[o]);else for(o=0;o<p;o++)e[o]&&(c[o]=255<<24|r[o]<<16|n[o]<<8|l[o]);else for(o=0;o<p;o++)c[o]=255<<24|r[o]<<16|n[o]<<8|l[o];else a.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.")}_fillFromNon8Bit(t){const{pixels:e,mask:i,statistics:s}=this;if(!t||!e||!e.length)return void a.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.");const l=this.pixelType;let n=1,r=0,o=1;if(s&&s.length>0){for(const t of s)if(null!=t.minValue&&(r=Math.min(r,t.minValue)),null!=t.maxValue&&null!=t.minValue){const e=t.maxValue-t.minValue;o=Math.max(o,e)}n=255/o}else{let t=255;"s8"===l?(r=-128,t=127):"u16"===l?t=65535:"s16"===l?(r=-32768,t=32767):"u32"===l?t=4294967295:"s32"===l?(r=-2147483648,t=2147483647):"f32"===l?(r=-34e38,t=34e38):"f64"===l&&(r=-Number.MAX_VALUE,t=Number.MAX_VALUE),n=255/(t-r)}const c=new Uint32Array(t),p=this.width*this.height;let f,u,x,d,g;if(f=u=x=e[0],f.length!==p)return a.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.");if(e.length>=2)if(u=e[1],e.length>=3&&(x=e[2]),(0,h.pC)(i)&&i.length===p)for(d=0;d<p;d++)i[d]&&(c[d]=255<<24|(x[d]-r)*n<<16|(u[d]-r)*n<<8|(f[d]-r)*n);else for(d=0;d<p;d++)c[d]=255<<24|(x[d]-r)*n<<16|(u[d]-r)*n<<8|(f[d]-r)*n;else if((0,h.pC)(i)&&i.length===p)for(d=0;d<p;d++)g=(f[d]-r)*n,i[d]&&(c[d]=255<<24|g<<16|g<<8|g);else for(d=0;d<p;d++)g=(f[d]-r)*n,c[d]=255<<24|g<<16|g<<8|g}_fillFrom32Bit(t){const{pixels:e,mask:i}=this;if(!t||!e||!e.length)return a.Z.getLogger(this.declaredClass).error("getAsRGBAFloat()","Unable to convert to RGBA. The input pixel block is empty.");let s,l,n,r;s=l=n=e[0],e.length>=3?(l=e[1],n=e[2]):2===e.length&&(l=e[1]);const o=this.width*this.height;if(s.length!==o)return a.Z.getLogger(this.declaredClass).error("getAsRGBAFloat()","Unable to convert to RGBA. The pixelblock is invalid.");let c=0;if((0,h.pC)(i)&&i.length===o)for(r=0;r<o;r++)t[c++]=s[r],t[c++]=l[r],t[c++]=n[r],t[c++]=1&i[r];else for(r=0;r<o;r++)t[c++]=s[r],t[c++]=l[r],t[c++]=n[r],t[c++]=1}_calculateBandStatistics(t,e){let i=1/0,s=-1/0;const l=t.length;let n,r=0;if((0,h.pC)(e))for(n=0;n<l;n++)e[n]&&(r=t[n],i=r<i?r:i,s=r>s?r:s);else for(n=0;n<l;n++)r=t[n],i=r<i?r:i,s=r>s?r:s;return new u(i,s)}};(0,l._)([(0,c.Cb)({json:{write:!0}})],x.prototype,"width",void 0),(0,l._)([(0,c.Cb)({json:{write:!0}})],x.prototype,"height",void 0),(0,l._)([(0,c.Cb)({json:{write:!0}})],x.prototype,"pixelType",void 0),(0,l._)([(0,p.p)("pixelType")],x.prototype,"castPixelType",null),(0,l._)([(0,c.Cb)({json:{write:!0}})],x.prototype,"validPixelCount",void 0),(0,l._)([(0,c.Cb)({json:{write:!0}})],x.prototype,"mask",void 0),(0,l._)([(0,c.Cb)({json:{write:!0}})],x.prototype,"maskIsAlpha",void 0),(0,l._)([(0,c.Cb)({json:{write:!0}})],x.prototype,"pixels",void 0),(0,l._)([(0,c.Cb)({json:{write:!0}})],x.prototype,"statistics",void 0),x=s=(0,l._)([(0,f.j)("esri.layers.support.PixelBlock")],x);const d=x},17314:(t,e,i)=>{i.d(e,{Kh:()=>p,Pz:()=>o,Qh:()=>M,SJ:()=>a,Uk:()=>v,Vl:()=>C,XV:()=>h,nk:()=>n,pW:()=>d,qF:()=>r,us:()=>u,zp:()=>c});var s=i(92026),l=i(96212);function n(t){return(0,s.pC)(t)&&"esri.layers.support.PixelBlock"===t.declaredClass&&t.pixels&&t.pixels.length>0}function r(t,e){if(!e?.length||!n(t))return t;const i=t.pixels.length;return e&&e.some((t=>t>=i))||1===i&&1===e.length&&0===e[0]?t:i!==e.length||e.some(((t,e)=>t!==e))?new l.Z({pixelType:t.pixelType,width:t.width,height:t.height,mask:t.mask,validPixelCount:t.validPixelCount,maskIsAlpha:t.maskIsAlpha,pixels:e.map((e=>t.pixels[e])),statistics:t.statistics&&e.map((e=>t.statistics[e]))}):t}function o(t){if(!t)return;const e=t.colormap;if(!e||0===e.length)return;const i=e.sort(((t,e)=>t[0]-e[0]));let s=0;i[0][0]<0&&(s=i[0][0]);const l=Math.max(256,i[i.length-1][0]-s+1),n=new Uint8Array(4*l),r=[];let o,a=0,h=0;const c=5===i[0].length;if(l>65536)return i.forEach((t=>{r[t[0]-s]=c?t.slice(1):t.slice(1).concat([255])})),{indexed2DColormap:r,offset:s,alphaSpecified:c};if(t.fillUnspecified)for(o=i[h],a=o[0]-s;a<l;a++)n[4*a]=o[1],n[4*a+1]=o[2],n[4*a+2]=o[3],n[4*a+3]=c?o[4]:255,a===o[0]-s&&(o=h===i.length-1?o:i[++h]);else for(a=0;a<i.length;a++)o=i[a],h=4*(o[0]-s),n[h]=o[1],n[h+1]=o[2],n[h+2]=o[3],n[h+3]=c?o[4]:255;return{indexedColormap:n,offset:s,alphaSpecified:c}}function a(t,e){if(!n(t))return t;if(!e&&(e.indexedColormap||e.indexed2DColormap))return t;const i=t.clone(),l=i.pixels;let r=i.mask;const o=i.width*i.height;if(1!==l.length)return t;const{indexedColormap:a,indexed2DColormap:h,offset:c,alphaSpecified:p}=e,f=a.length-1;let u=0;const x=l[0],d=new Uint8Array(x.length),g=new Uint8Array(x.length),m=new Uint8Array(x.length);let y,w=0;if(a)if((0,s.pC)(r))for(u=0;u<o;u++)r[u]&&(w=4*(x[u]-c),w<c||w>f?r[u]=0:(d[u]=a[w],g[u]=a[w+1],m[u]=a[w+2],r[u]=a[w+3]));else{for(r=new Uint8Array(o),u=0;u<o;u++)w=4*(x[u]-c),w<c||w>f?r[u]=0:(d[u]=a[w],g[u]=a[w+1],m[u]=a[w+2],r[u]=a[w+3]);i.mask=r}else if((0,s.pC)(r))for(u=0;u<o;u++)r[u]&&(y=h[x[u]],d[u]=y[0],g[u]=y[1],m[u]=y[2],r[u]=y[3]);else{for(r=new Uint8Array(o),u=0;u<o;u++)y=h[x[u]],d[u]=y[0],g[u]=y[1],m[u]=y[2],r[u]=y[3];i.mask=r}return i.pixels=[d,g,m],i.statistics=null,i.pixelType="u8",i.maskIsAlpha=p,i}function h(t,e){if(!n(t))return null;const{pixels:i,mask:s}=t,r=t.width*t.height,o=i.length;let a=e.lut;const{offset:h}=e;let c,p;a&&1===a[0].length&&(a=i.map((()=>a)));const f=[];let u,x,d;if(h)if(null==s)for(c=0;c<o;c++){for(u=i[c],x=a[c],d=new Uint8Array(r),p=0;p<r;p++)d[p]=x[u[p]-h];f.push(d)}else for(c=0;c<o;c++){for(u=i[c],x=a[c],d=new Uint8Array(r),p=0;p<r;p++)s[p]&&(d[p]=x[u[p]-h]);f.push(d)}else if(null==s)for(c=0;c<o;c++){for(u=i[c],x=a[c],d=new Uint8Array(r),p=0;p<r;p++)d[p]=x[u[p]];f.push(d)}else for(c=0;c<o;c++){for(u=i[c],x=a[c],d=new Uint8Array(r),p=0;p<r;p++)s[p]&&(d[p]=x[u[p]]);f.push(d)}const g=new l.Z({width:t.width,height:t.height,pixels:f,mask:s,pixelType:"u8"});return g.updateStatistics(),g}function c(t,e){if(!n(t))return null;const i=t.clone(),{pixels:s}=i,l=i.width*i.height,r=e.length,o=Math.floor(r/2),a=e[Math.floor(o)],h=s[0];let c,p,f,u,x,d,g=!1;const m=new Uint8Array(l),y=new Uint8Array(l),w=new Uint8Array(l);let k=i.mask;const A=4===e[0].mappedColor.length;for(k||(k=new Uint8Array(l),k.fill(A?255:1),i.mask=k),x=0;x<l;x++)if(k[x]){for(c=h[x],g=!1,d=o,p=a,f=0,u=r-1;u-f>1;){if(c===p.value){g=!0;break}c>p.value?f=d:u=d,d=Math.floor((f+u)/2),p=e[Math.floor(d)]}g||(c===e[f].value?(p=e[f],g=!0):c===e[u].value?(p=e[u],g=!0):c<e[f].value?(g=!1,p=null):c>e[f].value&&(c<e[u].value?(p=e[f],g=!0):u===r-1?(g=!1,p=null):(p=e[u],g=!0))),g?(m[x]=p.mappedColor[0],y[x]=p.mappedColor[1],w[x]=p.mappedColor[2],k[x]=p.mappedColor[3]):m[x]=y[x]=w[x]=k[x]=0}return i.pixels=[m,y,w],i.mask=k,i.pixelType="u8",i.maskIsAlpha=A,i}function p(t,e){if(!t||0===t.length)return null;const i=t.find((t=>t.pixelBlock));if(!i||(0,s.Wi)(i.pixelBlock))return null;const l=(i.extent.xmax-i.extent.xmin)/i.pixelBlock.width,n=(i.extent.ymax-i.extent.ymin)/i.pixelBlock.height,r=.01*Math.min(l,n),o=t.sort(((t,e)=>Math.abs(t.extent.ymax-e.extent.ymax)>r?e.extent.ymax-t.extent.ymax:Math.abs(t.extent.xmin-e.extent.xmin)>r?t.extent.xmin-e.extent.xmin:0)),a=Math.min.apply(null,o.map((t=>t.extent.xmin))),h=Math.min.apply(null,o.map((t=>t.extent.ymin))),c=Math.max.apply(null,o.map((t=>t.extent.xmax))),p=Math.max.apply(null,o.map((t=>t.extent.ymax))),f={x:Math.round((e.xmin-a)/l),y:Math.round((p-e.ymax)/n)},x={width:Math.round((c-a)/l),height:Math.round((p-h)/n)},d={width:Math.round((e.xmax-e.xmin)/l),height:Math.round((e.ymax-e.ymin)/n)};return Math.round(x.width/i.pixelBlock.width)*Math.round(x.height/i.pixelBlock.height)!==o.length||f.x<0||f.y<0||x.width<d.width||x.height<d.height?null:{extent:e,pixelBlock:u(o.map((t=>t.pixelBlock)),x,{clipOffset:f,clipSize:d})}}function f(t,e,i,s,l,n){const{width:r,height:o}=i.block,{x:a,y:h}=i.offset,{width:c,height:p}=i.mosaic,f=function(t,e,i,s,l,n,r,o){return{xmin:l<=i*t?0:l<i*t+t?l-i*t:t,ymin:n<=s*e?0:n<s*e+e?n-s*e:e,xmax:l+r<=i*t?0:l+r<i*t+t?l+r-i*t:t,ymax:n+o<=s*e?0:n+o<s*e+e?n+o-s*e:e}}(r,o,s,l,a,h,c,p);let u=0,x=0;if(n){const t=n.hasGCSSShiftTransform?360:n.halfWorldWidth,e=r*n.resolutionX,i=n.startX+s*e,l=i+e;i<t&&l>t?x=n.rightPadding:i>=t&&(u=n.leftMargin-n.rightPadding,x=0)}if(f.xmax-=x,"number"!=typeof e)for(let d=f.ymin;d<f.ymax;d++){const i=(l*o+d-h)*c+(s*r-a)+u,n=d*r;for(let s=f.xmin;s<f.xmax;s++)t[i+s]=e[n+s]}else for(let d=f.ymin;d<f.ymax;d++){const i=(l*o+d-h)*c+(s*r-a)+u;for(let s=f.xmin;s<f.xmax;s++)t[i+s]=e}}function u(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{clipOffset:r,clipSize:o,alignmentInfo:a,blockWidths:h}=i;if(h)return x(t,e,{blockWidths:h});const c=t.find((t=>n(t)));if((0,s.Wi)(c))return null;const p=o?o.width:e.width,u=o?o.height:e.height,d=c.width,g=c.height,m=e.width/d,y=e.height/g,w={offset:r||{x:0,y:0},mosaic:o||e,block:{width:d,height:g}},k=c.pixelType,A=l.Z.getPixelArrayConstructor(k),C=c.pixels.length,b=[];let M,v,U;for(let s=0;s<C;s++){v=new A(p*u);for(let e=0;e<y;e++)for(let i=0;i<m;i++){const l=t[e*m+i];n(l)&&(M=l.pixels[s],f(v,M,w,i,e,a))}b.push(v)}if(t.some((t=>(0,s.Wi)(t)||(0,s.pC)(t.mask)&&t.mask.length>0))){U=new Uint8Array(p*u);for(let e=0;e<y;e++)for(let i=0;i<m;i++){const l=t[e*m+i],n=(0,s.pC)(l)?l.mask:null;(0,s.pC)(n)?f(U,n,w,i,e,a):f(U,l?1:0,w,i,e,a)}}const T=new l.Z({width:p,height:u,pixels:b,pixelType:k,mask:U});return T.updateStatistics(),T}function x(t,e,i){const r=t.find((t=>(0,s.pC)(t)));if((0,s.Wi)(r))return null;const o=t.some((t=>!(0,s.pC)(t)||!!t.mask)),{width:a,height:h}=e,c=o?new Uint8Array(a*h):null,{blockWidths:p}=i,f=[],u=r.getPlaneCount(),x=l.Z.getPixelArrayConstructor(r.pixelType);if(o)for(let l=0,g=0;l<t.length;g+=p[l],l++){const e=t[l];if(!n(e))continue;const i=(0,s.Wg)(e.mask);for(let t=0;t<h;t++)for(let s=0;s<p[l];s++)c[t*a+s+g]=null==i?255:i[t*e.width+s]}for(let s=0;s<u;s++){const e=new x(a*h);for(let i=0,l=0;i<t.length;l+=p[i],i++){const r=t[i];if(!n(r))continue;const o=r.pixels[s];if(null!=o)for(let t=0;t<h;t++)for(let s=0;s<p[i];s++)e[t*a+s+l]=o[t*r.width+s]}f.push(e)}const d=new l.Z({width:a,height:h,mask:c,pixels:f,pixelType:r.pixelType});return d.updateStatistics(),d}function d(t,e,i){if(!n(t))return null;const{width:s,height:l}=t,r=e.x,o=e.y,a=i.width+r,h=i.height+o;if(r<0||o<0||a>s||h>l)return t;if(0===r&&0===o&&a===s&&h===l)return t;t.mask||(t.mask=new Uint8Array(s*l));const c=t.mask;for(let n=0;n<l;n++){const t=n*s;for(let e=0;e<s;e++)c[t+e]=n<o||n>=h||e<r||e>=a?0:1}return t.updateStatistics(),t}function g(t){if(!n(t))return null;const e=t.clone(),{width:i,height:l,pixels:r}=t,o=r[0],a=e.pixels[0],h=(0,s.Wg)(t.mask);for(let s=2;s<l-1;s++){const t=new Map;for(let l=s-2;l<s+2;l++)for(let e=0;e<4;e++){const s=l*i+e;w(t,o[s],h?h[s]:1)}a[s*i]=m(t),a[s*i+1]=a[s*i+2]=a[s*i];let e=3;for(;e<i-1;e++){let l=(s-2)*i+e+1;w(t,o[l],h?h[l]:1),l=(s-1)*i+e+1,w(t,o[l],h?h[l]:1),l=s*i+e+1,w(t,o[l],h?h[l]:1),l=(s+1)*i+e+1,w(t,o[l],h?h[l]:1),l=(s-2)*i+e-3,y(t,o[l],h?h[l]:1),l=(s-1)*i+e-3,y(t,o[l],h?h[l]:1),l=s*i+e-3,y(t,o[l],h?h[l]:1),l=(s+1)*i+e-3,y(t,o[l],h?h[l]:1),a[s*i+e]=m(t)}a[s*i+e+1]=a[s*i+e]}for(let s=0;s<i;s++)a[s]=a[i+s]=a[2*i+s],a[(l-1)*i+s]=a[(l-2)*i+s];return e.updateStatistics(),e}function m(t){if(0===t.size)return 0;let e=0,i=-1,s=0;const l=t.keys();let n=l.next();for(;!n.done;)s=t.get(n.value),s>e&&(i=n.value,e=s),n=l.next();return i}function y(t,e,i){if(0===i)return;const s=t.get(e);1===s?t.delete(e):t.set(e,s-1)}function w(t,e,i){0!==i&&t.set(e,t.has(e)?t.get(e)+1:1)}function k(t,e,i){let{x:r,y:o}=e;const{width:a,height:h}=i;if(0===r&&0===o&&h===t.height&&a===t.width)return t;const{width:c,height:p}=t,f=Math.max(0,o),u=Math.max(0,r),x=Math.min(r+a,c),d=Math.min(o+h,p);if(x<0||d<0||!n(t))return null;r=Math.max(0,-r),o=Math.max(0,-o);const{pixels:g}=t,m=a*h,y=g.length,w=[];for(let s=0;s<y;s++){const e=g[s],i=l.Z.createEmptyBand(t.pixelType,m);for(let t=f;t<d;t++){const s=t*c;let l=(t+o-f)*a+r;for(let t=u;t<x;t++)i[l++]=e[s+t]}w.push(i)}const k=new Uint8Array(m),A=(0,s.Wg)(t.mask);for(let s=f;s<d;s++){const t=s*c;let e=(s+o-f)*a+r;for(let i=u;i<x;i++)k[e++]=A?A[t+i]:1}const C=new l.Z({width:i.width,height:i.height,pixelType:t.pixelType,pixels:w,mask:k});return C.updateStatistics(),C}function A(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!n(t))return null;const{pixels:i,width:r,height:o,mask:a,pixelType:h}=t,c=[],p=Math.round(r/2),f=Math.round(o/2),u=o-1,x=r-1;for(let s=0;s<i.length;s++){const t=i[s],n=l.Z.createEmptyBand(h,p*f);let a=0;for(let i=0;i<o;i+=2)for(let s=0;s<r;s+=2){const l=t[i*r+s];if(e){const e=s===x?l:t[i*r+s+1],o=i===u?l:t[i*r+s+r],h=s===x?o:i===u?e:t[i*r+s+r+1];n[a++]=(l+e+o+h)/4}else n[a++]=l}c.push(n)}let d=null;if((0,s.pC)(a)){d=new Uint8Array(p*f);let t=0;for(let i=0;i<o;i+=2)for(let s=0;s<r;s+=2){const l=a[i*r+s];if(e){const e=s===x?l:a[i*r+s+1],n=i===u?l:a[i*r+s+r],o=s===x?n:i===u?e:a[i*r+s+r+1];d[t++]=l*e*n*o?1:0}else d[t++]=l}}return new l.Z({width:p,height:f,pixelType:h,pixels:c,mask:d})}function C(t,e,i){if(!n(t))return null;const{width:s,height:l}=e;let{width:r,height:o}=t;const a=new Map,h={x:0,y:0},c=null==i?1:1+i;let p=t;for(let n=0;n<c;n++){const t=Math.ceil(r/s),i=Math.ceil(o/l);for(let r=0;r<i;r++){h.y=r*l;for(let i=0;i<t;i++){h.x=i*s;const t=k(p,h,e);a.set(`${n}/${r}/${i}`,t)}}n<c-1&&(p=A(p)),r=Math.round(r/2),o=Math.round(o/2)}return a}function b(t,e,i,s){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;const{width:n,height:r}=t,{width:o,height:a}=e,h=s.cols,c=s.rows,p=Math.ceil(o/h-.1/h),f=Math.ceil(a/c-.1/c);let u,x,d,g,m,y,w;const k=p*h,A=k*f*c,C=new Float32Array(A),b=new Float32Array(A),M=new Uint32Array(A),v=new Uint32Array(A);let U,T,B=0;for(let _=0;_<f;_++)for(let t=0;t<p;t++){u=12*(_*p+t),x=i[u],d=i[u+1],g=i[u+2],m=i[u+3],y=i[u+4],w=i[u+5];for(let e=0;e<c;e++){B=(_*c+e)*k+t*h,T=(e+.5)/c;for(let t=0;t<e;t++)U=(t+.5)/h,C[B+t]=(x*U+d*T+g)*n-l,b[B+t]=(m*U+y*T+w)*r-l,M[B+t]=Math.round(C[B+t]),v[B+t]=Math.round(b[B+t])}u+=6,x=i[u],d=i[u+1],g=i[u+2],m=i[u+3],y=i[u+4],w=i[u+5];for(let e=0;e<c;e++){B=(_*c+e)*k+t*h,T=(e+.5)/c;for(let t=e;t<h;t++)U=(t+.5)/h,C[B+t]=(x*U+d*T+g)*n-l,b[B+t]=(m*U+y*T+w)*r-l,M[B+t]=Math.round(C[B+t]),v[B+t]=Math.round(b[B+t])}}return{offsets_x:C,offsets_y:b,offsets_xi:M,offsets_yi:v,gridWidth:k}}function M(t,e){const{coefficients:i,spacing:s}=e,{offsets_x:l,offsets_y:n,gridWidth:r}=b(t,t,i,{rows:s[0],cols:s[1]},.5),{width:o,height:a}=t,h=new Float32Array(o*a),c=180/Math.PI;for(let p=0;p<a;p++)for(let t=0;t<o;t++){const e=p*r+t,i=0===p?e:e-r,s=p===a-1?e:e+r,f=l[i]-l[s],u=n[s]-n[i];if(isNaN(f)||isNaN(u))h[p*o+t]=90;else{let e=Math.atan2(u,f)*c;e=(360+e)%360,h[p*o+t]=e}}return h}function v(t,e,i,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"nearest";if(!n(t))return null;"majority"===o&&(t=g(t));const{pixels:a,mask:h,pixelType:c}=t,p=t.width,f=t.height,u=l.Z.getPixelArrayConstructor(c),x=a.length,{width:d,height:m}=e;let y=!1;for(let s=0;s<i.length;s+=3)-1===i[s]&&-1===i[s+1]&&-1===i[s+2]&&(y=!0);const{offsets_x:w,offsets_y:k,offsets_xi:A,offsets_yi:C,gridWidth:M}=b({width:p,height:f},e,i,r,"majority"===o?0:.5);let v;const U=(t,e,i)=>{const s=t instanceof Float32Array||t instanceof Float64Array?0:.5;for(let l=0;l<m;l++){v=l*M;for(let n=0;n<d;n++){if(w[v]<0||k[v]<0)t[l*d+n]=0;else if(i)t[l*d+n]=e[A[v]+C[v]*p];else{const i=Math.floor(w[v]),r=Math.floor(k[v]),o=Math.ceil(w[v]),a=Math.ceil(k[v]),c=w[v]-i,f=k[v]-r;if(!h||h[i+r*p]&&h[i+r*p]&&h[i+a*p]&&h[o+a*p]){const h=(1-c)*e[i+r*p]+c*e[o+r*p],u=(1-c)*e[i+a*p]+c*e[o+a*p];t[l*d+n]=(1-f)*h+f*u+s}else t[l*d+n]=e[A[v]+C[v]*p]}v++}}},T=[];let B;for(let s=0;s<x;s++)B=new u(d*m),U(B,a[s],"nearest"===o||"majority"===o),T.push(B);const _=new l.Z({width:d,height:m,pixelType:c,pixels:T});if((0,s.pC)(h))_.mask=new Uint8Array(d*m),U(_.mask,h,!0);else if(y){_.mask=new Uint8Array(d*m);for(let t=0;t<d*m;t++)_.mask[t]=w[t]<0||k[t]<0?0:1}return _.updateStatistics(),_}}}]);
//# sourceMappingURL=7314.2147748e.chunk.js.map