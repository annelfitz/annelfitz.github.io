{"version":3,"sources":["../node_modules/@arcgis/core/views/webgl/Texture.js","../node_modules/@arcgis/core/views/webgl/enums.js","../node_modules/@arcgis/core/views/webgl/checkWebGLError.js","../node_modules/@arcgis/core/views/webgl/capabilities/isWebGL2Context.js","../node_modules/@arcgis/core/views/webgl/programUtils.js","../node_modules/@arcgis/core/views/webgl/ProgramCache.js","../node_modules/@arcgis/core/views/webgl/ShaderCompiler.js","../node_modules/@arcgis/core/views/webgl/capabilities/DisjointTimerQuery.js","../node_modules/@arcgis/core/views/webgl/InstanceCounter.js","../node_modules/@arcgis/core/views/webgl/capabilities/load.js","../node_modules/@arcgis/core/views/webgl/capabilities/DrawBuffers.js","../node_modules/@arcgis/core/views/webgl/capabilities/Instancing.js","../node_modules/@arcgis/core/views/webgl/capabilities/VertexArrayObjects.js","../node_modules/@arcgis/core/views/webgl/capabilities/LoseContext.js","../node_modules/@arcgis/core/views/webgl/RenderingContext.js","../node_modules/@arcgis/core/views/webgl.js"],"names":["o","constructor","t","e","i","this","_context","type","_glName","_descriptor","_samplingModeDirty","_wrapModeDirty","instanceCounter","increment","a","Texture","target","samplingMode","wrapMode","flipped","hasMipmap","isOpaque","unpackAlignment","preMultiplyAlpha","setDataCubeMap","setData","dispose","gl","unbindTextureAllUnits","deleteTexture","decrement","release","resize","width","height","r","createTexture","p","bindTexture","TEXTURE_UNIT_FOR_UPDATES","h","_validateTexture","pixelStorei","UNPACK_ALIGNMENT","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","l","pixelFormat","d","internalFormat","_deriveInternalFormat","dataType","ImageData","HTMLImageElement","HTMLCanvasElement","HTMLVideoElement","s","videoWidth","videoHeight","texImage2D","generateMipmap","console","error","DEPTH24_STENCIL8","DEPTH_STENCIL","n","Math","round","log","max","LN2","levels","length","min","compressedTexImage2D","_applySamplingMode","_applyWrapMode","_applyAnisotropicFilteringParameters","updateData","texSubImage2D","setSamplingMode","setWrapMode","applyChanges","webglVersion","Error","texParameteri","TEXTURE_MAG_FILTER","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","capabilities","textureFilterAnisotropic","texParameterf","TEXTURE_MAX_ANISOTROPY","maxAnisotropy","Buffer","VAO","Program","Framebuffer","Renderbuffer","COUNT","f","getLogger","u","c","getError","INVALID_ENUM","INVALID_VALUE","INVALID_OPERATION","INVALID_FRAMEBUFFER_OPERATION","OUT_OF_MEMORY","CONTEXT_LOST_WEBGL","stack","message","window","WebGL2RenderingContext","toFixed","options","value","shaders","vertexShader","fragmentShader","attributes","_programCacheByTemplate","Map","_rctx","forEach","programs","getProgram","has","addProgramTemplate","getProgramTemplateInstance","set","get","JSON","stringify","readFile","resolveIncludes","resolve","read","exec","push","path","start","index","slice","E","T","_","createQuery","resultAvailable","getResult","disjoint","beginTimeElapsed","endTimeElapsed","createTimestamp","timestampBits","disjointTimerQuery","getExtension","getQueryParameter","QUERY_RESULT_AVAILABLE","QUERY_RESULT","getParameter","GPU_DISJOINT_EXT","beginQuery","TIME_ELAPSED_EXT","endQuery","queryCounterEXT","TIMESTAMP_EXT","getQuery","QUERY_COUNTER_BITS_EXT","createQueryEXT","getQueryObjectEXT","QUERY_RESULT_AVAILABLE_EXT","QUERY_RESULT_EXT","beginQueryEXT","endQueryEXT","getQueryEXT","_current","Array","_max","_allocations","resetMax","current","reduce","printResourceCount","total","size","disabledExtensions","debugWebGLExtensions","x","C","A","F","G","O","B","D","M","X","g","P","L","drawBuffers","bind","MAX_DRAW_BUFFERS","MAX_COLOR_ATTACHMENTS","drawBuffersWEBGL","MAX_DRAW_BUFFERS_WEBGL","MAX_COLOR_ATTACHMENTS_WEBGL","drawArraysInstanced","drawElementsInstanced","vertexAttribDivisor","drawArraysInstancedANGLE","drawElementsInstancedANGLE","vertexAttribDivisorANGLE","createVertexArray","deleteVertexArray","bindVertexArray","vao","createVertexArrayOES","deleteVertexArrayOES","bindVertexArrayOES","compressedTextureETC","COMPRESSED_R11_EAC","COMPRESSED_SIGNED_R11_EAC","COMPRESSED_RG11_EAC","COMPRESSED_SIGNED_RG11_EAC","COMPRESSED_RGB8_ETC2","COMPRESSED_SRGB8_ETC2","COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2","COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2","COMPRESSED_RGBA8_ETC2_EAC","COMPRESSED_SRGB8_ALPHA8_ETC2_EAC","compressedTextureS3TC","COMPRESSED_RGB_S3TC_DXT1","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5","COMPRESSED_RGBA_S3TC_DXT5_EXT","MAX_TEXTURE_MAX_ANISOTROPY","MAX_TEXTURE_MAX_ANISOTROPY_EXT","TEXTURE_MAX_ANISOTROPY_EXT","textureFloat","textureFloatLinear","textureHalfFloat","textureHalfFloatLinear","HALF_FLOAT","WebGLRenderingContext","HALF_FLOAT_OES","R","colorBufferFloat","floatBlend","R16F","RG16F","RGBA16F","R32F","RG32F","RGBA32F","R11F_G11F_B10F","RGB16F","RGBA16F_EXT","RGB16F_EXT","RGBA32F_EXT","MIN","MAX","blendMinMax","MIN_EXT","MAX_EXT","S","loseContext","loseRenderingContext","enable","_blendEnabled","_blendColorState","b","_blendFunctionState","srcRGB","dstRGB","srcAlpha","dstAlpha","_blendEquationState","mode","modeAlpha","_colorMaskState","_polygonCullingEnabled","_cullFace","_frontFace","_scissorTestEnabled","_scissorRect","y","_depthTestEnabled","_depthFunction","_clearDepth","_depthWriteEnabled","_depthRange","zNear","zFar","_viewport","_stencilTestEnabled","_polygonOffsetFillEnabled","_polygonOffset","_stencilFunction","face","func","ref","mask","_clearStencil","_stencilWriteMask","_stencilOperation","fail","zFail","zPass","_clearColor","_activeShaderProgram","_activeVertexBuffer","_activeIndexBuffer","_activeFramebuffer","_activeRenderbuffer","_activeTextureUnit","_textureUnitMap","_numOfDrawCalls","_numOfTriangles","_capabilities","_parameters","_loadParameters","VIEWPORT","_stateTracker","setBlending","setBlendingEnabled","setBlendEquationSeparate","opRgb","opAlpha","setBlendFunctionSeparate","srcRgb","dstRgb","color","setBlendColor","setCulling","setFaceCullingEnabled","setCullFace","setFrontFace","setPolygonOffset","setPolygonOffsetFillEnabled","factor","units","setDepthTest","setDepthTestEnabled","setDepthFunction","setStencilTest","setStencilTestEnabled","function","setStencilFunction","operation","setStencilOp","setDepthWrite","setDepthWriteEnabled","setDepthRange","setColorWrite","setColorMask","setStencilWrite","setStencilWriteMask","enforceState","getContextAttributes","bindVAO","unbindBuffer","setPipelineState","setPipeline","BLEND","disable","invalidateBlending","externalTextureUnitUpdate","externalVertexArrayObjectUpdate","_activeVertexArrayObject","externalVertexBufferUpdate","externalIndexBufferUpdate","blendColor","setBlendFunction","blendFunc","blendFuncSeparate","setBlendEquation","blendEquation","blendEquationSeparate","colorMask","invalidateColorWrite","setClearColor","clearColor","CULL_FACE","invalidateCulling","POLYGON_OFFSET_FILL","invalidatePolygonOffset","polygonOffset","cullFace","frontFace","setScissorTestEnabled","SCISSOR_TEST","setScissorRect","scissor","DEPTH_TEST","invalidateDepthTest","setClearDepth","clearDepth","depthFunc","depthMask","invalidateDepthWrite","depthRange","STENCIL_TEST","invalidateStencilTest","setClearStencil","clearStencil","stencilFunc","setStencilFunctionSeparate","stencilFuncSeparate","stencilMask","invalidateStencilWrite","stencilOp","setStencilOpSeparate","stencilOpSeparate","setActiveTexture","activeTexture","clear","clearSafe","drawArrays","drawElements","logIno","setViewport","viewport","getViewport","useProgram","stop","glName","parameters","maxTextureImageUnits","descriptor","bindFramebuffer","FRAMEBUFFER","initializeAndBind","bindBuffer","bufferType","bindRenderbuffer","RENDERBUFFER","unbind","getBoundFramebufferObject","getBoundVAO","resetState","canvas","maxVertexAttributes","disableVertexAttribArray","lineWidth","versionString","VERSION","maxVertexTextureImageUnits","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_VERTEX_ATTRIBS","maxMaxAnisotropy","MAX_TEXTURE_IMAGE_UNITS","maxTextureSize","MAX_TEXTURE_SIZE"],"mappings":"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","file":"static/js/23.453fbbe4.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isPowerOfTwo as t}from\"../../core/mathUtils.js\";import{isSome as e}from\"../../core/maybe.js\";import{checkWebGLError as i}from\"./checkWebGLError.js\";import{ResourceType as a}from\"./enums.js\";import r from\"./capabilities/isWebGL2Context.js\";const s=4;class o{constructor(t,e,i=null){this._context=t,this.type=\"texture\",this._glName=null,this._descriptor=void 0,this._samplingModeDirty=!1,this._wrapModeDirty=!1,t.instanceCounter.increment(a.Texture,this),this._descriptor={target:3553,samplingMode:9729,wrapMode:10497,flipped:!1,hasMipmap:!1,isOpaque:!1,unpackAlignment:4,preMultiplyAlpha:!1,...e},34067===this._descriptor.target?this.setDataCubeMap(i):this.setData(i)}get glName(){return this._glName}get descriptor(){return this._descriptor}dispose(){this._context.gl&&this._glName&&(this._context.unbindTextureAllUnits(this),this._context.gl.deleteTexture(this._glName),this._glName=null,this._context.instanceCounter.decrement(a.Texture,this))}release(){this.dispose()}resize(t,e){const i=this._descriptor;i.width===t&&i.height===e||(i.width=t,i.height=e,34067===this._descriptor.target?this.setDataCubeMap(null):this.setData(null))}setDataCubeMap(t=null){for(let e=34069;e<=34074;e++)this.setData(t,e)}setData(t,a=3553){if(!this._context||!this._context.gl)return;const r=this._context.gl;this._glName||(this._glName=r.createTexture()),void 0===t&&(t=null),null===t&&(this._descriptor.width=this._descriptor.width||s,this._descriptor.height=this._descriptor.height||s);const p=this._context.bindTexture(this,o.TEXTURE_UNIT_FOR_UPDATES),h=this._descriptor;o._validateTexture(this._context,h),r.pixelStorei(r.UNPACK_ALIGNMENT,h.unpackAlignment),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,h.flipped?1:0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,h.preMultiplyAlpha?1:0);const l=h.pixelFormat;let d=h.internalFormat?h.internalFormat:this._deriveInternalFormat(l,h.dataType);if(t instanceof ImageData||t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement){let e=t.width,s=t.height;t instanceof HTMLVideoElement&&(e=t.videoWidth,s=t.videoHeight),h.width&&h.height,r.texImage2D(a,0,d,l,h.dataType,t),i(r),h.hasMipmap&&this.generateMipmap(),void 0===h.width&&(h.width=e),void 0===h.height&&(h.height=s)}else{null!=h.width&&null!=h.height||console.error(\"Width and height must be specified!\"),r.DEPTH24_STENCIL8&&d===r.DEPTH_STENCIL&&(d=r.DEPTH24_STENCIL8);let s=h.width,o=h.height;if(n(t)){const e=Math.round(Math.log(Math.max(s,o))/Math.LN2)+1;h.hasMipmap=h.hasMipmap&&e===t.levels.length;for(let i=0;;++i){const e=t.levels[Math.min(i,t.levels.length-1)];if(r.compressedTexImage2D(a,i,d,s,o,0,e),1===s&&1===o||!h.hasMipmap)break;s=Math.max(1,s>>1),o=Math.max(1,o>>1)}}else if(e(t))r.texImage2D(a,0,d,s,o,0,l,h.dataType,t),i(r),h.hasMipmap&&this.generateMipmap();else for(let t=0;r.texImage2D(a,t,d,s,o,0,l,h.dataType,null),i(r),(1!==s||1!==o)&&h.hasMipmap;++t)s=Math.max(1,s>>1),o=Math.max(1,o>>1)}o._applySamplingMode(r,this._descriptor),o._applyWrapMode(r,this._descriptor),o._applyAnisotropicFilteringParameters(this._context,this._descriptor),i(r),this._context.bindTexture(p,o.TEXTURE_UNIT_FOR_UPDATES)}updateData(t,e,i,a,r,s,n=3553){s||console.error(\"An attempt to use uninitialized data!\"),this._glName||console.error(\"An attempt to update uninitialized texture!\");const p=this._context.gl,h=this._descriptor,l=this._context.bindTexture(this,o.TEXTURE_UNIT_FOR_UPDATES);(e<0||i<0||a>h.width||r>h.height||e+a>h.width||i+r>h.height)&&console.error(\"An attempt to update out of bounds of the texture!\"),p.pixelStorei(p.UNPACK_ALIGNMENT,h.unpackAlignment),p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,h.flipped?1:0),p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,h.preMultiplyAlpha?1:0),s instanceof ImageData||s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement?p.texSubImage2D(n,t,e,i,h.pixelFormat,h.dataType,s):p.texSubImage2D(n,t,e,i,a,r,h.pixelFormat,h.dataType,s),this._context.bindTexture(l,o.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const t=this._descriptor;t.hasMipmap||(t.hasMipmap=!0,this._samplingModeDirty=!0,o._validateTexture(this._context,t)),9729===t.samplingMode?(this._samplingModeDirty=!0,t.samplingMode=9985):9728===t.samplingMode&&(this._samplingModeDirty=!0,t.samplingMode=9984);const e=this._context.bindTexture(this,o.TEXTURE_UNIT_FOR_UPDATES);this._context.gl.generateMipmap(t.target),this._context.bindTexture(e,o.TEXTURE_UNIT_FOR_UPDATES)}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,this._samplingModeDirty=!0)}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,o._validateTexture(this._context,this._descriptor),this._wrapModeDirty=!0)}applyChanges(){const t=this._context.gl,e=this._descriptor;this._samplingModeDirty&&(o._applySamplingMode(t,e),this._samplingModeDirty=!1),this._wrapModeDirty&&(o._applyWrapMode(t,e),this._wrapModeDirty=!1)}_deriveInternalFormat(t,e){if(\"webgl\"===this._context.webglVersion)return t;if(5126===e)switch(t){case 6408:return 34836;case 6407:return 34837;default:throw new Error(\"Unable to derive format\")}return t}static _validateTexture(e,i){(i.width<0||i.height<0)&&console.error(\"Negative dimension parameters are not allowed!\");const a=t(i.width)&&t(i.height);r(e.gl)||a||(\"number\"==typeof i.wrapMode?33071!==i.wrapMode&&console.error(\"Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!\"):33071===i.wrapMode.s&&33071===i.wrapMode.t||console.error(\"Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!\"),i.hasMipmap&&console.error(\"Mipmapping requires power-of-two textures!\"))}static _applySamplingMode(t,e){let i=e.samplingMode,a=e.samplingMode;9985===i||9987===i?(i=9729,e.hasMipmap||(a=9729)):9984!==i&&9986!==i||(i=9728,e.hasMipmap||(a=9728)),t.texParameteri(e.target,t.TEXTURE_MAG_FILTER,i),t.texParameteri(e.target,t.TEXTURE_MIN_FILTER,a)}static _applyWrapMode(t,e){\"number\"==typeof e.wrapMode?(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode)):(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode.s),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode.t))}static _applyAnisotropicFilteringParameters(t,e){var i;const a=t.capabilities.textureFilterAnisotropic;if(!a)return;t.gl.texParameterf(e.target,a.TEXTURE_MAX_ANISOTROPY,null!=(i=e.maxAnisotropy)?i:1)}}function n(t){return e(t)&&\"type\"in t&&\"compressed\"===t.type}o.TEXTURE_UNIT_FOR_UPDATES=0;export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nconst r=33984;var e;!function(r){r[r.Texture=0]=\"Texture\",r[r.Buffer=1]=\"Buffer\",r[r.VAO=2]=\"VAO\",r[r.Program=3]=\"Program\",r[r.Framebuffer=4]=\"Framebuffer\",r[r.Renderbuffer=5]=\"Renderbuffer\",r[r.COUNT=6]=\"COUNT\"}(e||(e={}));const f=33306;export{r as BASE_TEXTURE_UNIT,f as DepthStencilAttachment,e as ResourceType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import r from\"../../core/has.js\";import t from\"../../core/Logger.js\";const n=t.getLogger(\"esri/views/webgl\");function o(e,r){switch(r){case e.INVALID_ENUM:return\"Invalid Enum. An unacceptable value has been specified for an enumerated argument.\";case e.INVALID_VALUE:return\"Invalid Value. A numeric argument is out of range.\";case e.INVALID_OPERATION:return\"Invalid Operation. The specified command is not allowed for the current state.\";case e.INVALID_FRAMEBUFFER_OPERATION:return\"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.\";case e.OUT_OF_MEMORY:return\"Out of memory. Not enough memory is left to execute the command.\";case e.CONTEXT_LOST_WEBGL:return\"WebGL context has been lost\";default:return\"Unknown error\"}}const a=!!r(\"enable-feature:webgl-debug\");function u(){return a}function c(){return a}function s(r){if(u()){const t=r.getError();if(t){const a=o(r,t),u=(new Error).stack;n.error(new e(\"webgl-error\",\"WebGL error occured\",{message:a,stack:u}))}}}export{s as checkWebGLError,a as hasFeatureFlagWebGLDebug,u as webglDebugEnabled,c as webglValidateShadersEnabled};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction n(n){return window.WebGL2RenderingContext&&n instanceof window.WebGL2RenderingContext}export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{Program as e}from\"./Program.js\";function n(e){let n=\"\";for(const t in e){const o=e[t];if(\"boolean\"==typeof o)o&&(n+=`#define ${t}\\n`);else if(\"number\"==typeof o)n+=`#define ${t} ${o.toFixed()}\\n`;else if(\"object\"==typeof o){const e=o.options;let r=0;for(const t in e)n+=`#define ${e[t]} ${(r++).toFixed()}\\n`;n+=`#define ${t} ${e[o.value]}\\n`}}return n}function t(n,t,o,r){o=o||{},r=r||\"\";const f=\"function\"==typeof t.shaders?t.shaders(o):t.shaders;return new e(n,r+f.vertexShader,r+f.fragmentShader,t.attributes)}export{t as createProgram,n as glslifyDefineMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{createProgram as r}from\"./programUtils.js\";class t{constructor(r){this._programCacheByTemplate=new Map,this._rctx=r}dispose(){this._programCacheByTemplate.forEach((r=>r.programs.forEach((r=>r.dispose())))),this._programCacheByTemplate=null}getProgram(t,a){return this._programCacheByTemplate.has(t)||this.addProgramTemplate(t,(a=>r(this._rctx,t,a))),this.getProgramTemplateInstance(t,a)}addProgramTemplate(r,t){this._programCacheByTemplate.set(r,{constructor:t,programs:new Map})}getProgramTemplateInstance(r,t){const a=this._programCacheByTemplate.get(r);if(a){const r=t?JSON.stringify(t):\"default\";if(!a.programs.has(r)){const e=a.constructor(t);a.programs.set(r,e)}return a.programs.get(r)}return null}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.readFile=e}resolveIncludes(e){return this.resolve(e)}resolve(e,t=new Map){if(t.has(e))return t.get(e);const r=this.read(e);if(!r)throw new Error(`cannot find shader file ${e}`);const s=/^[^\\S\\n]*#include\\s+<(\\S+)>[^\\S\\n]?/gm;let n=s.exec(r);const l=[];for(;null!=n;)l.push({path:n[1],start:n.index,length:n[0].length}),n=s.exec(r);let a=0,h=\"\";return l.forEach((e=>{h+=r.slice(a,e.start),h+=t.has(e.path)?\"\":this.resolve(e.path,t),a=e.start+e.length})),h+=r.slice(a),t.set(e,h),h}read(e){return this.readFile(e)}}export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"./isWebGL2Context.js\";class E{constructor(e,E,t,T,r,_,i,u){this.createQuery=e,this.resultAvailable=E,this.getResult=t,this.disjoint=T,this.beginTimeElapsed=r,this.endTimeElapsed=_,this.createTimestamp=i,this.timestampBits=u}}function t(t,T){if(T.disjointTimerQuery)return null;let r=t.getExtension(\"EXT_disjoint_timer_query_webgl2\");return r&&e(t)?new E((()=>t.createQuery()),(e=>t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE)),(e=>t.getQueryParameter(e,t.QUERY_RESULT)),(()=>t.getParameter(r.GPU_DISJOINT_EXT)),(e=>t.beginQuery(r.TIME_ELAPSED_EXT,e)),(()=>t.endQuery(r.TIME_ELAPSED_EXT)),(e=>r.queryCounterEXT(e,r.TIMESTAMP_EXT)),(()=>t.getQuery(r.TIMESTAMP_EXT,r.QUERY_COUNTER_BITS_EXT))):(r=t.getExtension(\"EXT_disjoint_timer_query\"),r?new E((()=>r.createQueryEXT()),(e=>r.getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT)),(e=>r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)),(()=>t.getParameter(r.GPU_DISJOINT_EXT)),(e=>r.beginQueryEXT(r.TIME_ELAPSED_EXT,e)),(()=>r.endQueryEXT(r.TIME_ELAPSED_EXT)),(e=>r.queryCounterEXT(e,r.TIMESTAMP_EXT)),(()=>r.getQueryEXT(r.TIMESTAMP_EXT,r.QUERY_COUNTER_BITS_EXT))):null)}export{E as DisjointTimerQuery,t as createDisjointTimerQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{ResourceType as t}from\"./enums.js\";class e{constructor(){for(this._current=new Array,this._max=new Array,this._allocations=new Map;this._current.length<t.COUNT;)this._current.push(0),this._max.push(0)}resetMax(){for(this._max.length=0;this._max.length<this._current.length;)this._max.push(0)}increment(t,e){const s=++this._current[t];this._max[t]=Math.max(s,this._max[t])}decrement(t,e){--this._current[t]}get max(){return this._max}get current(){return this._current}get total(){return this.current.reduce(((t,e)=>t+e),0)}printResourceCount(){if(this.total>0){console.log(\"Live objects:\");for(let e=0;e<t.COUNT;++e){const s=this._current[e];s>0&&console.log(`${t[e]}: ${s}`)}}if(this._allocations.size>0){console.log(`${this._allocations.size} live object allocations:`);const t=new Map;this._allocations.forEach((e=>{var s;t.set(e,(null!=(s=t.get(e))?s:0)+1)})),t.forEach(((t,e)=>console.log(t,\" : \",e)))}}}export{e as InstanceCounter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{createDisjointTimerQuery as t}from\"./DisjointTimerQuery.js\";import{load as e}from\"./DrawBuffers.js\";import{load as r}from\"./Instancing.js\";import _ from\"./isWebGL2Context.js\";import{load as n}from\"./LoseContext.js\";import{load as E}from\"./VertexArrayObjects.js\";function o(_,o){const T=o.disabledExtensions||{},s=o.debugWebGLExtensions||{};let x,C,A,F,G,O,B,D,M,c,d,X=null,g=null,P=null,L=null;return{get drawBuffers(){return d||(d=e(_,T)),d},get instancing(){return x||(x=r(_)),x},get vao(){return C||(C=E(_,T)),C},get compressedTextureETC(){return A||(A=l(_,T)),A},get compressedTextureS3TC(){return F||(F=u(_,T)),F},get textureFilterAnisotropic(){return G||(G=i(_,T)),G},get disjointTimerQuery(){return O||(O=t(_,T)),O},get textureFloat(){return B||(B=R(_,T)),B},get colorBufferFloat(){return D||(D=f(_,T)),D},get blendMinMax(){return M||(M=a(_,T)),M},get depthTexture(){return null===X&&(X=S(_,T,\"depthTexture\",!0,[\"WEBGL_depth_texture\",\"MOZ_WEBGL_depth_texture\",\"WEBKIT_WEBGL_depth_texture\"])),X},get standardDerivatives(){return null===g&&(g=S(_,T,\"standardDerivatives\",!0,[\"OES_standard_derivatives\"])),g},get shaderTextureLOD(){return null===P&&(P=S(_,T,\"shaderTextureLOD\",!0,[\"EXT_shader_texture_lod\"])),P},get fragDepth(){return null===L&&(L=S(_,T,\"fragDepth\",!0,[\"EXT_frag_depth\"])),L},get loseContext(){return c||(c=n(_,s)),c},enable(t){return this[t]}}}function l(t,e){if(e.compressedTextureETC)return null;const r=t.getExtension(\"WEBGL_compressed_texture_etc\");return r?{COMPRESSED_R11_EAC:r.COMPRESSED_R11_EAC,COMPRESSED_SIGNED_R11_EAC:r.COMPRESSED_SIGNED_R11_EAC,COMPRESSED_RG11_EAC:r.COMPRESSED_RG11_EAC,COMPRESSED_SIGNED_RG11_EAC:r.COMPRESSED_SIGNED_RG11_EAC,COMPRESSED_RGB8_ETC2:r.COMPRESSED_RGB8_ETC2,COMPRESSED_SRGB8_ETC2:r.COMPRESSED_SRGB8_ETC2,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:r.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:r.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,COMPRESSED_RGBA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC}:null}function u(t,e){if(e.compressedTextureS3TC)return null;const r=t.getExtension(\"WEBGL_compressed_texture_s3tc\");return r?{COMPRESSED_RGB_S3TC_DXT1:r.COMPRESSED_RGB_S3TC_DXT1_EXT,COMPRESSED_RGBA_S3TC_DXT1:r.COMPRESSED_RGBA_S3TC_DXT1_EXT,COMPRESSED_RGBA_S3TC_DXT3:r.COMPRESSED_RGBA_S3TC_DXT3_EXT,COMPRESSED_RGBA_S3TC_DXT5:r.COMPRESSED_RGBA_S3TC_DXT5_EXT}:null}function a(t,e){if(_(t))return{MIN:t.MIN,MAX:t.MAX};if(e.blendMinMax)return null;{const e=t.getExtension(\"EXT_blend_minmax\");return e?{MIN:e.MIN_EXT,MAX:e.MAX_EXT}:null}}function i(t,e){if(e.textureFilterAnisotropic)return null;const r=t.getExtension(\"EXT_texture_filter_anisotropic\")||t.getExtension(\"MOZ_EXT_texture_filter_anisotropic\")||t.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\");return r?{MAX_TEXTURE_MAX_ANISOTROPY:r.MAX_TEXTURE_MAX_ANISOTROPY_EXT,TEXTURE_MAX_ANISOTROPY:r.TEXTURE_MAX_ANISOTROPY_EXT}:null}function R(t,e){if(_(t))return{textureFloat:!0,textureFloatLinear:!e.textureFloatLinear&&!!t.getExtension(\"OES_texture_float_linear\"),textureHalfFloat:!0,textureHalfFloatLinear:!e.textureHalfFloatLinear&&!!t.getExtension(\"OES_texture_half_float_linear\"),HALF_FLOAT:t.HALF_FLOAT};if(t instanceof WebGLRenderingContext){const r=!e.textureHalfFloat&&t.getExtension(\"OES_texture_half_float\");return{textureFloat:!e.textureFloat&&!!t.getExtension(\"OES_texture_float\"),textureFloatLinear:!e.textureFloatLinear&&!!t.getExtension(\"OES_texture_float_linear\"),textureHalfFloat:!!r,textureHalfFloatLinear:!e.textureHalfFloatLinear&&!!t.getExtension(\"OES_texture_half_float_linear\"),HALF_FLOAT:r?r.HALF_FLOAT_OES:void 0}}return null}function f(t,e){if(_(t)){const r=!e.colorBufferFloat&&t.getExtension(\"EXT_color_buffer_half_float\"),_=!e.colorBufferFloat&&t.getExtension(\"EXT_color_buffer_float\"),n=!e.colorBufferFloat&&t.getExtension(\"EXT_float_blend\");return r||_||n?{textureFloat:!!_,textureHalfFloat:!!r,floatBlend:!!n,R16F:t.R16F,RG16F:t.RG16F,RGBA16F:t.RGBA16F,R32F:t.R32F,RG32F:t.RG32F,RGBA32F:t.RGBA32F,R11F_G11F_B10F:t.R11F_G11F_B10F,RGB16F:t.RGB16F}:null}if(t instanceof WebGLRenderingContext){const r=!e.colorBufferFloat&&t.getExtension(\"EXT_color_buffer_half_float\"),_=!e.colorBufferFloat&&t.getExtension(\"WEBGL_color_buffer_float\"),n=!e.colorBufferFloat&&t.getExtension(\"EXT_float_blend\");return r||_||n?{textureFloat:!!_,textureHalfFloat:!!r,floatBlend:!!n,RGBA16F:r?r.RGBA16F_EXT:void 0,RGB16F:r?r.RGB16F_EXT:void 0,RGBA32F:_?_.RGBA32F_EXT:void 0}:null}return null}function S(t,e,r,n,E){if(n&&_(t))return!0;if(e[r])return!1;for(const _ of E)if(t.getExtension(_))return!0;return!1}export{o as loadCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport r from\"./isWebGL2Context.js\";function A(A,_){if(_.disjointTimerQuery)return null;if(r(A))return{drawBuffers:A.drawBuffers.bind(A),MAX_DRAW_BUFFERS:A.MAX_DRAW_BUFFERS,MAX_COLOR_ATTACHMENTS:A.MAX_COLOR_ATTACHMENTS};if(_.drawBuffers)return null;const e=A.getExtension(\"WEBGL_draw_buffers\");return e?{drawBuffers:e.drawBuffersWEBGL.bind(e),MAX_DRAW_BUFFERS:e.MAX_DRAW_BUFFERS_WEBGL,MAX_COLOR_ATTACHMENTS:e.MAX_COLOR_ATTACHMENTS_WEBGL}:null}export{A as load};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport n from\"./isWebGL2Context.js\";function r(r){if(n(r))return{drawArraysInstanced:r.drawArraysInstanced.bind(r),drawElementsInstanced:r.drawElementsInstanced.bind(r),vertexAttribDivisor:r.vertexAttribDivisor.bind(r)};const t=r.getExtension(\"ANGLE_instanced_arrays\");return t?{drawArraysInstanced:t.drawArraysInstancedANGLE.bind(t),drawElementsInstanced:t.drawElementsInstancedANGLE.bind(t),vertexAttribDivisor:t.vertexAttribDivisorANGLE.bind(t)}:null}export{r as load};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"./isWebGL2Context.js\";function r(r,t){if(e(r))return{createVertexArray:r.createVertexArray.bind(r),deleteVertexArray:r.deleteVertexArray.bind(r),bindVertexArray:r.bindVertexArray.bind(r)};if(t.vao)return null;const n=r.getExtension(\"OES_vertex_array_object\")||r.getExtension(\"MOZ_OES_vertex_array_object\")||r.getExtension(\"WEBKIT_OES_vertex_array_object\");return n?{createVertexArray:n.createVertexArrayOES.bind(n),deleteVertexArray:n.deleteVertexArrayOES.bind(n),bindVertexArray:n.bindVertexArrayOES.bind(n)}:null}export{r as load};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction e(e,t){const n=t.loseContext&&e.getExtension(\"WEBGL_lose_context\");return n?{loseRenderingContext:()=>n.loseContext()}:null}export{e as load};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as e}from\"../../core/maybe.js\";import{webglDebugEnabled as i}from\"./checkWebGLError.js\";import{BASE_TEXTURE_UNIT as s}from\"./enums.js\";import{InstanceCounter as a}from\"./InstanceCounter.js\";import{StateTracker as n}from\"./renderState.js\";import l from\"./Texture.js\";import r from\"./capabilities/isWebGL2Context.js\";import{loadCapabilities as h}from\"./capabilities/load.js\";class c{constructor(t,e={}){this.gl=t,this.instanceCounter=new a,this._blendEnabled=!1,this._blendColorState={r:0,g:0,b:0,a:0},this._blendFunctionState={srcRGB:1,dstRGB:0,srcAlpha:1,dstAlpha:0},this._blendEquationState={mode:32774,modeAlpha:32774},this._colorMaskState={r:!0,g:!0,b:!0,a:!0},this._polygonCullingEnabled=!1,this._cullFace=1029,this._frontFace=2305,this._scissorTestEnabled=!1,this._scissorRect={x:0,y:0,width:0,height:0},this._depthTestEnabled=!1,this._depthFunction=513,this._clearDepth=1,this._depthWriteEnabled=!0,this._depthRange={zNear:0,zFar:1},this._viewport=null,this._stencilTestEnabled=!1,this._polygonOffsetFillEnabled=!1,this._polygonOffset=[0,0],this._stencilFunction={face:1032,func:519,ref:0,mask:1},this._clearStencil=0,this._stencilWriteMask=1,this._stencilOperation={face:1032,fail:7680,zFail:7680,zPass:7680},this._clearColor={r:0,g:0,b:0,a:0},this._activeShaderProgram=null,this._activeVertexBuffer=null,this._activeIndexBuffer=null,this._activeFramebuffer=null,this._activeRenderbuffer=null,this._activeTextureUnit=0,this._textureUnitMap=new Array,this._numOfDrawCalls=0,this._numOfTriangles=0,this.webglVersion=r(t)?\"webgl2\":\"webgl\",t instanceof WebGLRenderingContext&&this.gl.getExtension(\"OES_element_index_uint\"),this._capabilities=h(t,e),this._parameters=this._loadParameters(e);const i=this.gl.getParameter(this.gl.VIEWPORT);this._viewport={x:i[0],y:i[1],width:i[2],height:i[3]},this._stateTracker=new n({setBlending:t=>{if(t){this.setBlendingEnabled(!0),this.setBlendEquationSeparate(t.opRgb,t.opAlpha),this.setBlendFunctionSeparate(t.srcRgb,t.dstRgb,t.srcAlpha,t.dstAlpha);const e=t.color;this.setBlendColor(e.r,e.g,e.b,e.a)}else this.setBlendingEnabled(!1)},setCulling:t=>{t?(this.setFaceCullingEnabled(!0),this.setCullFace(t.face),this.setFrontFace(t.mode)):this.setFaceCullingEnabled(!1)},setPolygonOffset:t=>{t?(this.setPolygonOffsetFillEnabled(!0),this.setPolygonOffset(t.factor,t.units)):this.setPolygonOffsetFillEnabled(!1)},setDepthTest:t=>{t?(this.setDepthTestEnabled(!0),this.setDepthFunction(t.func)):this.setDepthTestEnabled(!1)},setStencilTest:t=>{if(t){this.setStencilTestEnabled(!0);const e=t.function;this.setStencilFunction(e.func,e.ref,e.mask);const i=t.operation;this.setStencilOp(i.fail,i.zFail,i.zPass)}else this.setStencilTestEnabled(!1)},setDepthWrite:t=>{t?(this.setDepthWriteEnabled(!0),this.setDepthRange(t.zNear,t.zFar)):this.setDepthWriteEnabled(!1)},setColorWrite:t=>{t?this.setColorMask(t.r,t.g,t.b,t.a):this.setColorMask(!1,!1,!1,!1)},setStencilWrite:t=>{t?this.setStencilWriteMask(t.mask):this.setStencilWriteMask(0)}}),this.enforceState()}get contextAttributes(){return this.gl.getContextAttributes()}get parameters(){return this._parameters}dispose(){this.bindVAO(null),this.unbindBuffer(34962),this.unbindBuffer(34963),this._textureUnitMap.length=0,i()&&this.instanceCounter.printResourceCount()}setPipelineState(t){this._stateTracker.setPipeline(t)}setBlendingEnabled(t){this._blendEnabled!==t&&(!0===t?this.gl.enable(this.gl.BLEND):this.gl.disable(this.gl.BLEND),this._blendEnabled=t,this._stateTracker.invalidateBlending())}externalTextureUnitUpdate(t,e){for(let i=0;i<t.length;++i)this._textureUnitMap[t[i]]=null;e>=0&&(this._activeTextureUnit=e)}externalVertexArrayObjectUpdate(){const t=this.capabilities.vao;t&&(t.bindVertexArray(null),this._activeVertexArrayObject=null),this._activeVertexBuffer=null,this._activeIndexBuffer=null}externalVertexBufferUpdate(){this._activeVertexBuffer=null}externalIndexBufferUpdate(){this._activeIndexBuffer=null}setBlendColor(t,e,i,s){t===this._blendColorState.r&&e===this._blendColorState.g&&i===this._blendColorState.b&&s===this._blendColorState.a||(this.gl.blendColor(t,e,i,s),this._blendColorState.r=t,this._blendColorState.g=e,this._blendColorState.b=i,this._blendColorState.a=s,this._stateTracker.invalidateBlending())}setBlendFunction(t,e){t===this._blendFunctionState.srcRGB&&e===this._blendFunctionState.dstRGB||(this.gl.blendFunc(t,e),this._blendFunctionState.srcRGB=t,this._blendFunctionState.srcAlpha=t,this._blendFunctionState.dstRGB=e,this._blendFunctionState.dstAlpha=e,this._stateTracker.invalidateBlending())}setBlendFunctionSeparate(t,e,i,s){this._blendFunctionState.srcRGB===t&&this._blendFunctionState.srcAlpha===i&&this._blendFunctionState.dstRGB===e&&this._blendFunctionState.dstAlpha===s||(this.gl.blendFuncSeparate(t,e,i,s),this._blendFunctionState.srcRGB=t,this._blendFunctionState.srcAlpha=i,this._blendFunctionState.dstRGB=e,this._blendFunctionState.dstAlpha=s,this._stateTracker.invalidateBlending())}setBlendEquation(t){this._blendEquationState.mode!==t&&(this.gl.blendEquation(t),this._blendEquationState.mode=t,this._blendEquationState.modeAlpha=t,this._stateTracker.invalidateBlending())}setBlendEquationSeparate(t,e){this._blendEquationState.mode===t&&this._blendEquationState.modeAlpha===e||(this.gl.blendEquationSeparate(t,e),this._blendEquationState.mode=t,this._blendEquationState.modeAlpha=e,this._stateTracker.invalidateBlending())}setColorMask(t,e,i,s){this._colorMaskState.r===t&&this._colorMaskState.g===e&&this._colorMaskState.b===i&&this._colorMaskState.a===s||(this.gl.colorMask(t,e,i,s),this._colorMaskState.r=t,this._colorMaskState.g=e,this._colorMaskState.b=i,this._colorMaskState.a=s,this._stateTracker.invalidateColorWrite())}setClearColor(t,e,i,s){this._clearColor.r===t&&this._clearColor.g===e&&this._clearColor.b===i&&this._clearColor.a===s||(this.gl.clearColor(t,e,i,s),this._clearColor.r=t,this._clearColor.g=e,this._clearColor.b=i,this._clearColor.a=s)}setFaceCullingEnabled(t){this._polygonCullingEnabled!==t&&(!0===t?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this._polygonCullingEnabled=t,this._stateTracker.invalidateCulling())}setPolygonOffsetFillEnabled(t){this._polygonOffsetFillEnabled!==t&&(!0===t?this.gl.enable(this.gl.POLYGON_OFFSET_FILL):this.gl.disable(this.gl.POLYGON_OFFSET_FILL),this._polygonOffsetFillEnabled=t,this._stateTracker.invalidatePolygonOffset())}setPolygonOffset(t,e){this._polygonOffset[0]===t&&this._polygonOffset[1]===e||(this._polygonOffset[0]=t,this._polygonOffset[1]=e,this.gl.polygonOffset(t,e),this._stateTracker.invalidatePolygonOffset())}setCullFace(t){this._cullFace!==t&&(this.gl.cullFace(t),this._cullFace=t,this._stateTracker.invalidateCulling())}setFrontFace(t){this._frontFace!==t&&(this.gl.frontFace(t),this._frontFace=t,this._stateTracker.invalidateCulling())}setScissorTestEnabled(t){this._scissorTestEnabled!==t&&(!0===t?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this._scissorTestEnabled=t)}setScissorRect(t,e,i,s){this._scissorRect.x===t&&this._scissorRect.y===e&&this._scissorRect.width===i&&this._scissorRect.height===s||(this.gl.scissor(t,e,i,s),this._scissorRect.x=t,this._scissorRect.y=e,this._scissorRect.width=i,this._scissorRect.height=s)}setDepthTestEnabled(t){this._depthTestEnabled!==t&&(!0===t?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST),this._depthTestEnabled=t,this._stateTracker.invalidateDepthTest())}setClearDepth(t){this._clearDepth!==t&&(this.gl.clearDepth(t),this._clearDepth=t)}setDepthFunction(t){this._depthFunction!==t&&(this.gl.depthFunc(t),this._depthFunction=t,this._stateTracker.invalidateDepthTest())}setDepthWriteEnabled(t){this._depthWriteEnabled!==t&&(this.gl.depthMask(t),this._depthWriteEnabled=t,this._stateTracker.invalidateDepthWrite())}setDepthRange(t,e){this._depthRange.zNear===t&&this._depthRange.zFar===e||(this.gl.depthRange(t,e),this._depthRange.zNear=t,this._depthRange.zFar=e,this._stateTracker.invalidateDepthWrite())}setStencilTestEnabled(t){this._stencilTestEnabled!==t&&(!0===t?this.gl.enable(this.gl.STENCIL_TEST):this.gl.disable(this.gl.STENCIL_TEST),this._stencilTestEnabled=t,this._stateTracker.invalidateStencilTest())}setClearStencil(t){t!==this._clearStencil&&(this.gl.clearStencil(t),this._clearStencil=t)}setStencilFunction(t,e,i){this._stencilFunction.func===t&&this._stencilFunction.ref===e&&this._stencilFunction.mask===i||(this.gl.stencilFunc(t,e,i),this._stencilFunction.face=1032,this._stencilFunction.func=t,this._stencilFunction.ref=e,this._stencilFunction.mask=i,this._stateTracker.invalidateStencilTest())}setStencilFunctionSeparate(t,e,i,s){this._stencilFunction.face===t&&this._stencilFunction.func===e&&this._stencilFunction.ref===i&&this._stencilFunction.mask===s||(this.gl.stencilFuncSeparate(t,e,i,s),this._stencilFunction.face=t,this._stencilFunction.func=e,this._stencilFunction.ref=i,this._stencilFunction.mask=s,this._stateTracker.invalidateStencilTest())}setStencilWriteMask(t){this._stencilWriteMask!==t&&(this.gl.stencilMask(t),this._stencilWriteMask=t,this._stateTracker.invalidateStencilWrite())}setStencilOp(t,e,i){this._stencilOperation.fail===t&&this._stencilOperation.zFail===e&&this._stencilOperation.zPass===i||(this.gl.stencilOp(t,e,i),this._stencilOperation.face=1032,this._stencilOperation.fail=t,this._stencilOperation.zFail=e,this._stencilOperation.zPass=i,this._stateTracker.invalidateStencilTest())}setStencilOpSeparate(t,e,i,s){this._stencilOperation.face===t&&this._stencilOperation.fail===e&&this._stencilOperation.zFail===i&&this._stencilOperation.zPass===s||(this.gl.stencilOpSeparate(t,e,i,s),this._stencilOperation.face=t,this._stencilOperation.face=t,this._stencilOperation.fail=e,this._stencilOperation.zFail=i,this._stencilOperation.zPass=s,this._stateTracker.invalidateStencilTest())}setActiveTexture(t,e=!1){const i=this._activeTextureUnit;return t>=0&&(e||t!==this._activeTextureUnit)&&(this.gl.activeTexture(s+t),this._activeTextureUnit=t),i}clear(t){t&&this.gl.clear(t)}clearSafe(t,e=255){t&&(16384&t&&this.setColorMask(!0,!0,!0,!0),256&t&&this.setDepthWriteEnabled(!0),1024&t&&this.setStencilWriteMask(e),this.gl.clear(t))}drawArrays(t,e,s){i()&&(this._numOfDrawCalls++,this._numOfTriangles+=_(t,s)),this.gl.drawArrays(t,e,s)}drawElements(t,e,s,a){i()&&(this._numOfDrawCalls++,this._numOfTriangles+=_(t,e)),this.gl.drawElements(t,e,s,a)}logIno(){i()&&console.log(`DrawCalls: ${this._numOfDrawCalls}, Triangles: ${this._numOfTriangles}`)}get capabilities(){return this._capabilities}setViewport(t,e,i,s){i=Math.max(Math.round(i),1),s=Math.max(Math.round(s),1);const a=this._viewport;a.x===t&&a.y===e&&a.width===i&&a.height===s||(a.x=t,a.y=e,a.width=i,a.height=s,this.gl.viewport(t,e,i,s))}getViewport(){return{x:this._viewport.x,y:this._viewport.y,width:this._viewport.width,height:this._viewport.height}}useProgram(t){var e,i;if(!t)return null==(i=this._activeShaderProgram)||i.stop(),this._activeShaderProgram=null,void this.gl.useProgram(null);this._activeShaderProgram!==t&&(null==(e=this._activeShaderProgram)||e.stop(),this._activeShaderProgram=t,this.gl.useProgram(t.glName))}bindTexture(i,s,a=!1){(s>=this.parameters.maxTextureImageUnits||s<0)&&console.error(\"Input texture unit is out of range of available units!\");const n=this._textureUnitMap[s];return this.setActiveTexture(s,a),t(i)||null==i.glName?(e(n)&&this.gl.bindTexture(n.descriptor.target,null),this._textureUnitMap[s]=null,n):a||n!==i?(this.gl.bindTexture(i.descriptor.target,i.glName),i.applyChanges(),this._textureUnitMap[s]=i,n):(i.applyChanges(),n)}unbindTextureAllUnits(t){for(let e=0;e<this.parameters.maxTextureImageUnits;e++)this._textureUnitMap[e]===t&&(this.bindTexture(null,e),this._textureUnitMap[e]=null)}bindFramebuffer(e,i=!1,s=3553){if(t(e))return this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),void(this._activeFramebuffer=null);(i||this._activeFramebuffer!==e)&&(e.initializeAndBind(s),this._activeFramebuffer=e)}bindBuffer(t){t&&(34962===t.bufferType?this._activeVertexBuffer=o(this.gl,t,t.bufferType,this._activeVertexBuffer):this._activeIndexBuffer=o(this.gl,t,t.bufferType,this._activeIndexBuffer))}bindRenderbuffer(t){const e=this.gl;t||(e.bindRenderbuffer(e.RENDERBUFFER,null),this._activeRenderbuffer=null),this._activeRenderbuffer!==t&&(e.bindRenderbuffer(e.RENDERBUFFER,t.glName),this._activeRenderbuffer=t)}unbindBuffer(t){34962===t?this._activeVertexBuffer=o(this.gl,null,t,this._activeVertexBuffer):this._activeIndexBuffer=o(this.gl,null,t,this._activeIndexBuffer)}bindVAO(e=null){t(e)?this._activeVertexArrayObject&&(this._activeVertexArrayObject.unbind(),this._activeVertexArrayObject=null):this._activeVertexArrayObject!==e&&(e.bind(),this._activeVertexArrayObject=e)}getBoundFramebufferObject(){return this._activeFramebuffer}getBoundVAO(){return this._activeVertexArrayObject}resetState(){this.useProgram(null),this.bindVAO(null),this.bindFramebuffer(null),this.unbindBuffer(34962),this.unbindBuffer(34963);for(let t=0;t<this.parameters.maxTextureImageUnits;++t)this.bindTexture(null,t);this.setBlendingEnabled(!1),this.setBlendFunction(1,0),this.setBlendEquation(32774),this.setBlendColor(0,0,0,0),this.setFaceCullingEnabled(!1),this.setCullFace(1029),this.setFrontFace(2305),this.setPolygonOffsetFillEnabled(!1),this.setPolygonOffset(0,0),this.setScissorTestEnabled(!1),this.setScissorRect(0,0,this.gl.canvas.width,this.gl.canvas.height),this.setDepthTestEnabled(!1),this.setDepthFunction(513),this.setDepthRange(0,1),this.setStencilTestEnabled(!1),this.setStencilFunction(519,0,0),this.setStencilOp(7680,7680,7680),this.setClearColor(0,0,0,0),this.setClearDepth(1),this.setClearStencil(0),this.setColorMask(!0,!0,!0,!0),this.setStencilWriteMask(4294967295),this.setDepthWriteEnabled(!0),this.setViewport(0,0,this.gl.canvas.width,this.gl.canvas.height)}enforceState(){const t=this.gl,a=this.capabilities.vao;a&&a.bindVertexArray(null);for(let e=0;e<this.parameters.maxVertexAttributes;e++)t.disableVertexAttribArray(e);if(this._activeVertexBuffer?t.bindBuffer(this._activeVertexBuffer.bufferType,this._activeVertexBuffer.glName):t.bindBuffer(34962,null),this._activeIndexBuffer?t.bindBuffer(this._activeIndexBuffer.bufferType,this._activeIndexBuffer.glName):t.bindBuffer(34963,null),a&&this._activeVertexArrayObject){const t=this._activeVertexArrayObject;this._activeVertexArrayObject&&(this._activeVertexArrayObject.unbind(),this._activeVertexArrayObject=null),this.bindVAO(t)}t.bindFramebuffer(t.FRAMEBUFFER,this._activeFramebuffer?this._activeFramebuffer.glName:null),t.useProgram(this._activeShaderProgram?this._activeShaderProgram.glName:null),t.blendColor(this._blendColorState.r,this._blendColorState.g,this._blendColorState.b,this._blendColorState.a),t.bindRenderbuffer(t.RENDERBUFFER,this._activeRenderbuffer?this._activeRenderbuffer.glName:null),!0===this._blendEnabled?t.enable(this.gl.BLEND):t.disable(this.gl.BLEND),t.blendEquationSeparate(this._blendEquationState.mode,this._blendEquationState.modeAlpha),t.blendFuncSeparate(this._blendFunctionState.srcRGB,this._blendFunctionState.dstRGB,this._blendFunctionState.srcAlpha,this._blendFunctionState.dstAlpha),t.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a),t.clearDepth(this._clearDepth),t.clearStencil(this._clearStencil),t.colorMask(this._colorMaskState.r,this._colorMaskState.g,this._colorMaskState.b,this._colorMaskState.a),t.cullFace(this._cullFace),t.depthFunc(this._depthFunction),t.depthRange(this._depthRange.zNear,this._depthRange.zFar),!0===this._depthTestEnabled?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),t.depthMask(this._depthWriteEnabled),t.frontFace(this._frontFace),t.lineWidth(1),!0===this._polygonCullingEnabled?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),t.polygonOffset(this._polygonOffset[0],this._polygonOffset[1]),!0===this._polygonOffsetFillEnabled?t.enable(t.POLYGON_OFFSET_FILL):t.disable(t.POLYGON_OFFSET_FILL),t.scissor(this._scissorRect.x,this._scissorRect.y,this._scissorRect.width,this._scissorRect.height),!0===this._scissorTestEnabled?t.enable(t.SCISSOR_TEST):t.disable(t.SCISSOR_TEST),t.stencilFunc(this._stencilFunction.func,this._stencilFunction.ref,this._stencilFunction.mask),t.stencilOpSeparate(this._stencilOperation.face,this._stencilOperation.fail,this._stencilOperation.zFail,this._stencilOperation.zPass),!0===this._stencilTestEnabled?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),t.stencilMask(this._stencilWriteMask);for(let i=0;i<this.parameters.maxTextureImageUnits;i++){t.activeTexture(s+i),t.bindTexture(3553,null),t.bindTexture(34067,null),r(t)&&t.bindTexture(32879,null);const a=this._textureUnitMap[i];e(a)&&t.bindTexture(a.descriptor.target,a.glName)}t.activeTexture(s+this._activeTextureUnit),t.viewport(this._viewport.x,this._viewport.y,this._viewport.width,this._viewport.height),i()&&(this._numOfDrawCalls=0,this._numOfTriangles=0)}_loadParameters(t){var e;const i=this.capabilities.textureFilterAnisotropic,s=null!=(e=t.maxAnisotropy)?e:1/0,a={versionString:this.gl.getParameter(this.gl.VERSION),maxVertexTextureImageUnits:this.gl.getParameter(this.gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxVertexAttributes:this.gl.getParameter(this.gl.MAX_VERTEX_ATTRIBS),maxMaxAnisotropy:i?Math.min(this.gl.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY),s):1,maxTextureImageUnits:this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),maxTextureSize:this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE)};return l.TEXTURE_UNIT_FOR_UPDATES=a.maxTextureImageUnits-1,a}}function o(t,e,i,s){return e?s!==e&&t.bindBuffer(i,e.glName):t.bindBuffer(i,null),e}function _(t,e){switch(t){case 0:return 2*e;case 4:return e/3;case 5:case 6:return e-2;default:return 0}}export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nexport{default as BufferObject}from\"./webgl/BufferObject.js\";export{default as FramebufferObject}from\"./webgl/FramebufferObject.js\";export{Program}from\"./webgl/Program.js\";export{default as ProgramCache}from\"./webgl/ProgramCache.js\";export{default as Renderbuffer}from\"./webgl/Renderbuffer.js\";export{default as RenderingContext}from\"./webgl/RenderingContext.js\";export{default as ShaderCompiler}from\"./webgl/ShaderCompiler.js\";export{default as Texture}from\"./webgl/Texture.js\";export{default as VertexArrayObject}from\"./webgl/VertexArrayObject.js\";export{createProgram,glslifyDefineMap}from\"./webgl/programUtils.js\";export{createContextOrErrorHTML}from\"./webgl/context-util.js\";\n"],"sourceRoot":""}