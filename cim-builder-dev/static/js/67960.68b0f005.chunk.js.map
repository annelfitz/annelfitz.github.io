{"version":3,"file":"static/js/67960.68b0f005.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/interactive/snapping/SnappingAlgorithm.js","../node_modules/@arcgis/core/views/interactive/snapping/LineSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/ParallelLineSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/RightAngleSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/RightAngleTriangleSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/SelfSnappingEngine.js","../node_modules/@arcgis/core/views/support/angularMeasurementUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as e}from\"../../../core/unitUtils.js\";import{distance as t}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as s,asVec2 as i}from\"../sketch/normalizedPoint.js\";import{defaults as o}from\"./Settings.js\";import{squaredScreenDistance as h}from\"./snappingUtils.js\";import{vectorToScreenPoint as n}from\"../support/viewUtils.js\";class l{constructor(e,t){this.view=e,this.options=t,this.squaredShortLineThreshold=o.shortLineThreshold*o.shortLineThreshold}snap(e,t){return null!=t.vertexHandle?\"vertex\"!==t.vertexHandle.type?[]:this.snapExistingVertex(e,t):this.snapNewVertex(e,t)}edgeExceedsShortLineThreshold(e,t){return this.exceedsShortLineThreshold(s(e.leftVertex.pos,this.view,t),s(e.rightVertex.pos,this.view,t),t)}exceedsShortLineThreshold(e,t,{spatialReference:s}){return 0===this.squaredShortLineThreshold||h(n(t,s,r,this.view),n(e,s,r,this.view))>this.squaredShortLineThreshold}isVertical(r,s,{spatialReference:h}){const n=e(h);return t(i(r),i(s))*n<o.verticalLineThresholdMeters}squaredProximityThreshold(e){return\"touch\"===e?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:e,touchSensitivityMultiplier:t}=this.options,r=e*t;return r*r}}export{l as SnappingAlgorithm};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{cyclicalPI as e,cyclical2PI as t}from\"../../../core/Cyclical.js\";import{valueInUnit as s,createAngle as r}from\"../../../core/quantityUtils.js\";import{create as i}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{absoluteHeightElevationInfo as o}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as n,markAsTarget as a,fromVec3 as d}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as l}from\"./SnappingAlgorithm.js\";import{editEdgeToSnappingEdge as p,squaredScreenDistance as h}from\"./snappingUtils.js\";import{LineSnappingCandidate as c}from\"./candidates/LineSnappingCandidate.js\";import{vectorToScreenPoint as g}from\"../support/viewUtils.js\";import{radiansGeographicBetweenVec as f,pointFromDistanceAlongAzimuth as m}from\"../../support/angularMeasurementUtils.js\";import{projectPointToLineLike as u}from\"../../support/geometry3dUtils.js\";class x extends l{constructor(e,t,s){super(e,t),this._geodesicLengthMeasurementUtils=s}snapNewVertex(e,t){const s=t.editGeometryOperations.data.components[0],r=s.edges.length,i=[];if(r<1)return i;const{spatialReference:n}=t,a=g(e,n,o,this.view),{view:d}=this,l=s.edges[r-1];let h=l;do{if(this.edgeExceedsShortLineThreshold(h,t)){const s=p(h,d,t);this._processCandidateProposal(s.left,s.right,e,a,t,i)}h=h.leftVertex.leftEdge}while(h&&h!==l);return i}snapExistingVertex(e,t){const s=[],r=t.vertexHandle,i=r.component;if(i.edges.length<2)return s;const{view:a}=this,{spatialReference:d}=t,l=g(e,d,o,a),h=r.leftEdge,c=r.rightEdge;h&&c&&this.edgeExceedsShortLineThreshold(h,t)&&this.edgeExceedsShortLineThreshold(c,t)&&this._processCandidateProposal(n(h.leftVertex.pos,a,t),n(c.rightVertex.pos,a,t),e,l,t,s);const f=i.edges[0];let m=f;do{if(m!==r.leftEdge&&m!==r.rightEdge&&this.edgeExceedsShortLineThreshold(m,t)){const r=p(m,a,t);this._processCandidateProposal(r.left,r.right,e,l,t,s)}m=m.rightVertex.rightEdge}while(m&&m!==f);return s}_processCandidateProposal(e,t,s,r,n,l){const{spatialReference:p,pointer:f}=n,m=i();E(m,e,t,s,n,this._geodesicLengthMeasurementUtils);const u=a(d(m));h(r,g(u,p,o,this.view))<this.squaredProximityThreshold(f)&&l.push(new c({lineStart:e,lineEnd:t,targetPoint:u,isDraped:\"on-the-ground\"===n.elevationInfo?.mode}))}}function E(e,t,s,r,i,o){j(e,t,s,r,i,o)||v(e,r,t,s)}function j(i,o,n,a,{spatialReference:d},l){const p=f(o,n,d,d);if(null==p)return!1;const h=f(n,a,d,d);if(null==h)return!1;const c=l.geodesicDistance(n,a,d);if(null==c)return!1;const g=Math.abs(e.shortestSignedDiff(p,h))>Math.PI/2?t.normalize(p+Math.PI):p;return m(i,n,d,s(c,\"meters\"),r(g,\"radians\",\"geographic\"),\"geodesic\"),i[2]=a[2],!0}function v(e,t,s,r){u(t,{start:s,end:r,type:1},e),e[2]=t[2]}export{x as LineSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{squaredDistance as e}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as t}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as i,asVec2 as s,markAsTarget as o,fromValues as n}from\"../sketch/normalizedPoint.js\";import{defaults as l}from\"./Settings.js\";import{SnappingAlgorithm as a}from\"./SnappingAlgorithm.js\";import{editEdgeToSnappingEdge as c,squaredScreenDistance as h}from\"./snappingUtils.js\";import{ParallelLineSnappingCandidate as d}from\"./candidates/ParallelLineSnappingCandidate.js\";import{vectorToScreenPoint as p}from\"../support/viewUtils.js\";import{projectPointToLine as g}from\"../../support/geometry2dUtils.js\";class f extends a{snapNewVertex(e,t){const s=t.editGeometryOperations.data.components[0],o=s.edges.length,n=s.vertices.length,l=[];if(o<2)return l;const{view:a}=this,h=p(e,t.spatialReference,r,a),d=i(s.vertices[n-1].pos,a,t),g=i(s.vertices[0].pos,a,t),f=s.edges[o-1];let m=f;do{if(this.edgeExceedsShortLineThreshold(m,t)){const r=c(m,a,t);this._checkEdgeForParallelLines(r,d,e,h,t,l),this._checkEdgeForParallelLines(r,g,e,h,t,l)}m=m.leftVertex.leftEdge}while(m&&m!==f);return l}snapExistingVertex(e,t){const s=[],o=t.vertexHandle,n=o.component;if(n.edges.length<3)return s;const{view:l}=this,a=p(e,t.spatialReference,r,l),h=o.leftEdge,d=o.rightEdge,g=n.vertices[0],f=i(g.pos,l,t),m=n.vertices.length,u=n.vertices[m-1],v=i(u.pos,l,t),x=n.edges[0];let E=x;do{if(E!==h&&E!==d&&this.edgeExceedsShortLineThreshold(E,t)){const r=c(E,l,t);h&&this._checkEdgeForParallelLines(r,i(h.leftVertex.pos,l,t),e,a,t,s),d&&this._checkEdgeForParallelLines(r,i(d.rightVertex.pos,l,t),e,a,t,s),o===g?this._checkEdgeForParallelLines(r,v,e,a,t,s):o===u&&this._checkEdgeForParallelLines(r,f,e,a,t,s)}E=E.rightVertex.rightEdge}while(E&&E!==x);return s}_checkEdgeForParallelLines(t,i,a,c,f,v){const x=t.left,E=t.right;if(g(u,s(i),s(x),s(E)),e(u,s(i))<l.parallelLineThreshold)return;g(u,s(a),s(x),s(E),s(i));const{spatialReference:L,pointer:P}=f,j=o(n(u[0],u[1],a[2]));if(h(c,p(j,L,r,this.view))<this.squaredProximityThreshold(P)){if(this.isVertical(j,i,f)||this.isVertical(x,E,f))return;if(m(t,v))return;v.push(new d({referenceLine:t,lineStart:i,targetPoint:j,isDraped:\"on-the-ground\"===f.elevationInfo?.mode}))}}}function m(t,r){const i=t.left,o=t.right;for(const n of r)if(g(u,s(o),s(n.constraint.start),s(n.constraint.end),s(i)),e(u,s(o))<l.parallelLineThreshold)return n.addReferenceLine(t),!0;return!1}const u=t();export{f as ParallelLineSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{cyclical2PI as e}from\"../../../core/Cyclical.js\";import{createAngle as t,valueInUnit as i}from\"../../../core/quantityUtils.js\";import{subtract as r,dot as s,squaredLength as n,scaleAndAdd as o}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{b as c,d as p,i as g}from\"../../../chunks/vec32.js\";import{create as h}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{absoluteHeightElevationInfo as l}from\"../../../support/elevationInfoUtils.js\";import{VerticalHalfPlaneConstraint as d}from\"../sketch/constraints.js\";import{fromAnyMapPoint as f,asVec2 as m,markAsTarget as u,fromValues as x,fromVec3 as v}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as V}from\"./SnappingAlgorithm.js\";import{squaredScreenDistance as j}from\"./snappingUtils.js\";import{RightAngleSnappingCandidate as E}from\"./candidates/RightAngleSnappingCandidate.js\";import{vectorToScreenPoint as S}from\"../support/viewUtils.js\";import{radiansGeographicBetweenVec as k,pointFromDistanceAlongAzimuth as C}from\"../../support/angularMeasurementUtils.js\";class _ extends V{constructor(e,t,i){super(e,t),this._geodesicLengthMeasurementUtils=i}snapNewVertex(e,t){const i=t.editGeometryOperations.data.components[0],r=[];if(i.vertices.length<2)return r;const{view:s}=this,n=S(e,t.spatialReference,l,s),o=i.vertices.at(-1);this._checkForSnappingCandidate(1,r,o.leftEdge,o,o.leftEdge.leftVertex,e,n,t);const a=i.vertices[0];return this._checkForSnappingCandidate(2,r,a.rightEdge,a,a.rightEdge.rightVertex,e,n,t),r}snapExistingVertex(e,t){const i=[],r=t.vertexHandle;if(r.component.vertices.length<3)return i;const{view:s}=this,n=S(e,t.spatialReference,l,s),o=r.leftEdge,a=r.rightEdge;if(o?.leftVertex.leftEdge){const r=o.leftVertex.leftEdge;this._checkForSnappingCandidate(3,i,r,r.rightVertex,r.leftVertex,e,n,t)}if(a?.rightVertex.rightEdge){const r=a.rightVertex.rightEdge;this._checkForSnappingCandidate(3,i,r,r.leftVertex,r.rightVertex,e,n,t)}return i}_checkForSnappingCandidate(e,t,i,r,s,n,o,a){if(!this.edgeExceedsShortLineThreshold(i,a))return;const c=this.view,p=f(r.pos,c,a),g=f(s.pos,c,a);w(U,g,p,n,a,this._geodesicLengthMeasurementUtils),this._checkForSnappingCandidateAlongProjectedRay(e,t,g,p,U,n,o,a)}_checkForSnappingCandidateAlongProjectedRay(e,t,i,a,p,g,f,V){const{spatialReference:k,pointer:C}=V,_=r(R,m(g),m(a)),w=s(p,_)/n(p),y=o(R,m(a),p,w),F=u(x(y[0],y[1],g[2]));if(j(f,S(F,k,l,this.view))>this.squaredProximityThreshold(C)||this.isVertical(F,a,V)||this.isVertical(a,i,V))return;const U=c(h(),a,p,Math.sign(w));t.push(new E({targetPoint:F,constraint:new d(a,v(U)),previousVertex:i,otherVertex:a,otherVertexType:1,selfSnappingType:e,isDraped:\"on-the-ground\"===V.elevationInfo?.mode}))}}function w(e,t,i,r,s,n){y(e,t,i,r,s,n)||F(e,t,i)}function y(r,s,n,o,{spatialReference:a},c){const g=k(s,n,a,a);if(null==g)return!1;const l=k(n,o,a,a);if(null==l)return!1;const d=Math.sign(e.shortestSignedDiff(g,l))*Math.PI*.5,f=t(g+d,\"radians\",\"geographic\"),m=h(),u=c.geodesicDistance(n,o,a);return null!=u&&(C(m,n,a,i(u,\"meters\"),f,\"geodesic\"),p(r,m,n),!0)}function F(e,t,i){const s=r(R,m(i),m(t));g(e,s[1],-s[0],0)}const R=a(),U=h();export{_ as RightAngleSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{lerp as e,distance as t}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as i}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as o,asVec2 as s,markAsTarget as n,fromValues as p}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as a}from\"./SnappingAlgorithm.js\";import{squaredScreenDistance as d}from\"./snappingUtils.js\";import{RightAngleTriangleSnappingCandidate as l}from\"./candidates/RightAngleTriangleSnappingCandidate.js\";import{vectorToScreenPoint as m}from\"../support/viewUtils.js\";import{projectPointToCircle as c}from\"../../support/geometry2dUtils.js\";class h extends a{snapNewVertex(e,t){const i=t.editGeometryOperations.data.components[0],r=[],s=i.vertices.length;if(\"polygon\"!==t.editGeometryOperations.data.type||s<2)return r;const{view:n}=this,p=i.vertices[0],a=i.vertices[s-1],d=o(p.pos,n,t),l=o(a.pos,n,t);return this._processCandidateProposal(d,l,e,t,r),r}snapExistingVertex(e,t){const i=[],r=t.vertexHandle,s=r.component;if(s.edges.length<2)return i;if(\"polyline\"===t.editGeometryOperations.data.type&&(0===r.index||r.index===s.vertices.length-1))return i;const{view:n}=this,p=o(r.leftEdge.leftVertex.pos,n,t),a=o(r.rightEdge.rightVertex.pos,n,t);return this._processCandidateProposal(p,a,e,t,i),i}_processCandidateProposal(i,o,a,h,g){if(!this.exceedsShortLineThreshold(i,o,h))return;const v=e(f,s(i),s(o),.5),x=.5*t(s(i),s(o)),u=c(f,s(a),v,x),j=n(p(u[0],u[1],a[2])),{spatialReference:y,pointer:w}=h,P=m(a,y,r,this.view);if(d(P,m(j,y,r,this.view))<this.squaredProximityThreshold(w)){if(this.isVertical(i,j,h)||this.isVertical(j,o,h))return;g.push(new l({targetPoint:j,point1:i,point2:o,isDraped:\"on-the-ground\"===h.elevationInfo?.mode}))}}}const f=i();export{h as RightAngleTriangleSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as s}from\"tslib\";import t from\"../../../core/Accessor.js\";import o from\"../../../core/Collection.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LineSnapper as r}from\"./LineSnapper.js\";import{ParallelLineSnapper as n}from\"./ParallelLineSnapper.js\";import{RightAngleSnapper as p}from\"./RightAngleSnapper.js\";import{RightAngleTriangleSnapper as a}from\"./RightAngleTriangleSnapper.js\";import{sortCandidatesInPlace as c}from\"./snappingUtils.js\";let m=class extends t{constructor(s){super(s),this.updating=!1,this._snappers=new o,this._domain=2}initialize(){this._snappers.push(new n(this.view,this.options),new r(this.view,this.options,this.geodesicLengthMeasurementUtils),new p(this.view,this.options,this.geodesicLengthMeasurementUtils),new a(this.view,this.options))}set options(s){this._set(\"options\",s);for(const t of this._snappers)t.options=s}async fetchCandidates(s,t,o){if(!(t&this._domain&&this.options.effectiveSelfEnabled))return[];const e=[];for(const i of this._snappers.items)for(const t of i.snap(s,o))e.push(t);return c(s,e),e}};s([e({readOnly:!0})],m.prototype,\"updating\",void 0),s([e({constructOnly:!0})],m.prototype,\"view\",void 0),s([e({constructOnly:!0})],m.prototype,\"geodesicLengthMeasurementUtils\",void 0),s([e()],m.prototype,\"options\",null),m=s([i(\"esri.views.interactive.snapping.SelfSnappingEngine\")],m);export{m as SelfSnappingEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{cyclicalDegrees as e,Cyclical as r}from\"../../core/Cyclical.js\";import{convertRotationType as t,createAngle as i}from\"../../core/quantityUtils.js\";import{convertUnit as o}from\"../../core/unitUtils.js\";import{angle as n}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{create as s,UNIT_Y as a}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{q as c,c as l,i as u}from\"../../chunks/vec32.js\";import{create as f}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectVectorToVector as m}from\"../../geometry/projection/projectVectorToVector.js\";import{geodesicCompatibleSpatialReference as g,inverseGeodeticSolver as p,InverseGeodeticSolverResult as d,directGeodeticSolver as h}from\"../../geometry/support/geodesicUtils.js\";import{equals as v}from\"../../geometry/support/spatialReferenceUtils.js\";function j(e,r){if(null==e||null==r)return;const t=b(e,r);return null!=t?i(t,\"radians\",\"geographic\"):void 0}const b=(()=>{const e=f(),r=f();return(t,i)=>(u(e,t.x,t.y,t.z??0),u(r,i.x,i.y,i.z??0),y(e,r,t.spatialReference,i.spatialReference))})(),y=(()=>{const e=s(),r=f(),t=f();return(i,s,l,u)=>{if(c(i,s))return;const f=g(l),d=g(u);if(f&&d&&v(f,d)&&m(i,l,r,f)&&m(s,u,t,d)){const{azimuth:e}=p(k,r,t,f);return null!=e?o(e,\"degrees\",\"radians\"):void 0}e[0]=s[0]-i[0],e[1]=s[1]-i[1];let h=n(a,e);return e[0]<0&&(h=C-h),h}})();function x(e,r,t,i=\"absolute\"){if(r&&t)switch(i){case\"absolute\":return j(r,t);case\"relative\":return w(z(e,r,t),\"relative\");case\"relative-bilateral\":return w(z(e,r,t),\"relative-bilateral\")}}function z(e,r,t){if(!e||!r||!t)return;const o=b(e,r),n=b(r,t);return null!=o&&null!=n?i(n-o,\"radians\",\"geographic\"):void 0}function w(e,r){if(null!=e)switch(r){case\"absolute\":return M(e);case\"relative\":{const r=R(e);let t=P.normalize(r,0,!0);return-180===t&&(t=180),i(t,\"degrees\",\"geographic\")}case\"relative-bilateral\":{const r=R(e),t=Math.abs(P.normalize(r,0,!0));return i(t,\"degrees\",\"geographic\")}}}function M(e){const r=R(e),t=I.normalize(r,0,!0);return i(t,\"degrees\",\"geographic\")}function T(e,r,n){let s=o(e.value,e.unit,\"degrees\");return s=t(s,e.rotationType,n),s=o(s,\"degrees\",r),i(s,r,n)}const U=(()=>{const e=f();return(r,i,n,s,a,c=\"geodesic\")=>{l(e,i);const f=R(a);if(\"geodesic\"===c){const t=g(n);if(t&&m(e,n,e,t))return h(r,e,f,s,t),r[2]=i[2],!!m(r,t,r,n)}const p=t(f,\"geographic\",\"arithmetic\"),d=o(p,\"degrees\",\"radians\"),v=i[0]+s*Math.cos(d),j=i[1]+s*Math.sin(d),b=i[2];return u(r,v,j,b),!0}})();function R(e){if(null!=e)return t(V(e),e.rotationType,\"geographic\")}function q(e){if(null!=e)return t(V(e),e.rotationType,\"arithmetic\")}function V(e){return o(e.value,e.unit,\"degrees\")}const k=new d,C=2*Math.PI,I=e,P=new r(-180,180);export{T as convertAngle,j as directionBetweenPoints,x as directionForVertices,q as getDegreesArithmetic,R as getDegreesGeographic,w as getNormalizedDirection,M as getNormalizedGeographicOrientation,U as pointFromDistanceAlongAzimuth,y as radiansGeographicBetweenVec};\n"],"names":["l","constructor","e","t","this","view","options","squaredShortLineThreshold","o","shortLineThreshold","snap","vertexHandle","type","snapExistingVertex","snapNewVertex","edgeExceedsShortLineThreshold","exceedsShortLineThreshold","s","leftVertex","pos","rightVertex","spatialReference","h","n","r","isVertical","i","verticalLineThresholdMeters","squaredProximityThreshold","_squaredTouchProximityThreshold","_squaredMouseProximityThreshold","distance","touchSensitivityMultiplier","x","super","_geodesicLengthMeasurementUtils","editGeometryOperations","data","components","edges","length","a","g","d","p","_processCandidateProposal","left","right","leftEdge","component","c","rightEdge","f","m","pointer","geodesicDistance","Math","abs","shortestSignedDiff","PI","normalize","j","u","start","end","v","E","push","lineStart","lineEnd","targetPoint","isDraped","elevationInfo","mode","vertices","_checkEdgeForParallelLines","parallelLineThreshold","L","P","constraint","addReferenceLine","referenceLine","_","V","S","at","_checkForSnappingCandidate","k","sign","C","y","R","F","w","U","_checkForSnappingCandidateAlongProjectedRay","previousVertex","otherVertex","otherVertexType","selfSnappingType","index","point1","point2","updating","_snappers","_domain","initialize","geodesicLengthMeasurementUtils","_set","fetchCandidates","effectiveSelfEnabled","items","readOnly","prototype","constructOnly","b","z","azimuth","M","I","cos","sin","rotationType","q","value","unit"],"sourceRoot":""}