{"version":3,"sources":["../node_modules/@arcgis/core/layers/support/arcgisLayers.js","../node_modules/@arcgis/core/layers/support/lazyLayerLoader.js"],"names":["async","i","e","r","a","properties","customParameters","t","l","s","n","S","u","type","id","hasOwnProperty","y","o","title","name","serverType","sublayer","url","path","serviceUrl","f","FeatureServer","StreamServer","VectorTileServer","tileInfo","m","then","format","toUpperCase","cacheType","toLowerCase","Point","IntegratedMesh","PointCloud","Building","Array","isArray","layers","length","layerType","c","d","parsedUrl","Constructor","layerOrTableId","sublayerIds","tableIds","I","FeatureLayer","SceneLayer","p","sublayerInfos","layerInfos","tableInfos","layerIds","v","w","sourceJSON","b","layerId","default","sublayerTitleMode","forEach","add","tables","find","filter","serviceJSON","currentVersion","layersJSON","map","reverse","responseType","query","data","BingMapsLayer","BuildingSceneLayer","CSVLayer","ElevationLayer","GroupLayer","GeoRSSLayer","ImageryLayer","ImageryTileLayer","IntegratedMeshLayer","KMLLayer","MapImageLayer","MapNotesLayer","OpenStreetMapLayer","PointCloudLayer","RouteLayer","StreamLayer","TileLayer","UnknownLayer","UnsupportedLayer","VectorTileLayer","WebTileLayer","WMSLayer","WMTSLayer"],"mappings":"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","file":"static/js/134.074d50fd.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as r}from\"../../core/maybe.js\";import a from\"../../core/Error.js\";import{getFilename as t,urlToObject as l}from\"../../core/urlUtils.js\";import n from\"../../request.js\";import{parse as s,parseNonStandardSublayerUrl as o}from\"./arcgisLayerUrl.js\";import{layerLookupMap as u}from\"./lazyLayerLoader.js\";async function i(e){var r;const a=null==(r=e.properties)?void 0:r.customParameters,t=await d(e.url,a),l={...e.properties,url:e.url};if(!t.sublayerIds)return null!=t.layerOrTableId&&(l.layerId=t.layerOrTableId,l.sourceJSON=t.sourceJSON),new t.Constructor(l);const n=new(0,(await import(\"../GroupLayer.js\")).default)({title:t.parsedUrl.title});return c(n,t,l),n}function y(e,r){return e?e.find((e=>e.id===r)):null}function c(e,a,t){function l(e,l){const n={...t,layerId:e,sublayerTitleMode:\"service-name\"};return r(l)&&(n.sourceJSON=l),new a.Constructor(n)}a.sublayerIds.forEach((r=>{const t=l(r,y(a.sublayerInfos,r));e.add(t)})),a.tableIds.forEach((r=>{const t=l(r,y(a.tableInfos,r));e.tables.add(t)}))}async function d(r,t){let l=s(r);if(e(l)&&(l=await f(r,t)),e(l))throw new a(\"arcgis-layers:url-mismatch\",\"The url '${url}' is not a valid arcgis resource\",{url:r});const{serverType:n,sublayer:o}=l;let u;const i={FeatureServer:\"FeatureLayer\",StreamServer:\"StreamLayer\",VectorTileServer:\"VectorTileLayer\"};switch(n){case\"MapServer\":u=null!=o?\"FeatureLayer\":m(r,t).then((e=>e?\"TileLayer\":\"MapImageLayer\"));break;case\"ImageServer\":u=S(r,t).then((e=>{const r=e.tileInfo&&e.tileInfo.format;return e.tileInfo?!r||\"LERC\"!==r.toUpperCase()||e.cacheType&&\"elevation\"!==e.cacheType.toLowerCase()?\"ImageryTileLayer\":\"ElevationLayer\":\"ImageryLayer\"}));break;case\"SceneServer\":u=S(l.url.path,t).then((e=>{const r={Point:\"SceneLayer\",\"3DObject\":\"SceneLayer\",IntegratedMesh:\"IntegratedMeshLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"};if(e&&Array.isArray(e.layers)&&e.layers.length>0){const a=e.layers[0].layerType;if(null!=r[a])return r[a]}return\"SceneLayer\"}));break;default:u=i[n]}const y={FeatureLayer:!0,SceneLayer:!0},c=\"FeatureServer\"===n,d={parsedUrl:l,Constructor:null,layerOrTableId:c?o:null,sublayerIds:null,tableIds:null},I=await u;if(y[I]&&null==o){const e=await p(r,n,t);c&&(d.sublayerInfos=e.layerInfos,d.tableInfos=e.tableInfos);if(1!==e.layerIds.length+e.tableIds.length)d.sublayerIds=e.layerIds,d.tableIds=e.tableIds;else if(c){var v,w;d.layerOrTableId=null!=(v=e.layerIds[0])?v:e.tableIds[0],d.sourceJSON=null!=(w=e.layerInfos[0])?w:e.tableInfos[0]}}return d.Constructor=await b(I),d}async function f(e,a){const n=await S(e,a);let s=null,u=null;const i=n.type;if(\"Feature Layer\"===i||\"Table\"===i?(s=\"FeatureServer\",u=n.id):\"indexedVector\"===i?s=\"VectorTileServer\":n.hasOwnProperty(\"mapName\")?s=\"MapServer\":n.hasOwnProperty(\"bandCount\")&&n.hasOwnProperty(\"pixelSizeX\")?s=\"ImageServer\":n.hasOwnProperty(\"maxRecordCount\")&&n.hasOwnProperty(\"allowGeometryUpdates\")?s=\"FeatureServer\":n.hasOwnProperty(\"streamUrls\")&&(s=\"StreamServer\"),!s)return null;const y=null!=u?o(e):null;return{title:r(y)&&n.name||t(e),serverType:s,sublayer:u,url:{path:r(y)?y.serviceUrl:l(e).path}}}async function p(e,r,a){var t,l;let n,s=!1;if(\"FeatureServer\"===r){const r=await v(e,a);s=!!r.layersJSON,n=r.layersJSON||r.serviceJSON}else n=await S(e,a);const o=null==(t=n)?void 0:t.layers,u=null==(l=n)?void 0:l.tables;return{layerIds:(null==o?void 0:o.map((e=>e.id)).reverse())||[],tableIds:(null==u?void 0:u.map((e=>e.id)).reverse())||[],layerInfos:s?o:[],tableInfos:s?u:[]}}function I(e){return!e.type||\"Feature Layer\"===e.type}async function v(e,r){var a,t;let l=await S(e,r);l=l||{},l.layers=(null==(a=l.layers)?void 0:a.filter(I))||[];const n={serviceJSON:l};if(l.currentVersion<10.5)return n;const s=await S(e+\"/layers\",r);return n.layersJSON={layers:(null==s||null==(t=s.layers)?void 0:t.filter(I))||[],tables:(null==s?void 0:s.tables)||[]},n}async function b(e){return(0,u[e])()}async function m(e,r){return(await S(e,r)).tileInfo}async function S(e,r){return(await n(e,{responseType:\"json\",query:{f:\"json\",...r}})).data}export{i as fromUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default};export{a as layerLookupMap};\n"],"sourceRoot":""}