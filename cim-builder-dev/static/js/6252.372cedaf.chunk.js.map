{"version":3,"file":"static/js/6252.372cedaf.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryView2D.js","../node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryVFStrategy.js","../node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldView2D.js","../node_modules/@arcgis/core/views/layers/ImageryLayerView.js","../node_modules/@arcgis/core/views/support/PixelHighlightOptions.js","../node_modules/@arcgis/core/views/2d/layers/ImageryLayerView2D.js","../node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js","../node_modules/@arcgis/core/views/support/highlightOptionsUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../../Graphic.js\";import i from\"../../../../core/Accessor.js\";import r from\"../../../../core/Logger.js\";import{isAbortError as s}from\"../../../../core/promiseUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{mosaicPixelData as p}from\"../../../../layers/support/rasterFunctions/pixelUtils.js\";import{BitmapContainer as l}from\"../../engine/BitmapContainer.js\";import{Container as n}from\"../../engine/Container.js\";import h from\"../../engine/ImageryBitmapSource.js\";import g from\"../support/ExportStrategy.js\";let c=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new n,this.updateRequested=!1,this.type=\"imagery\",this._bitmapView=new l}destroy(){this.attached&&(this.detach(),this.attached=!1),this.updateRequested=!1}get updating(){return!this.attached||this.isUpdating()}update(t){this.strategy.update(t).catch(t=>{s(t)||r.getLogger(this).error(t)})}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}attach(){this.container.addChild(this._bitmapView);const t=this.layer.version>=10,e=this.layer.version>=10.1?this.layer.imageMaxHeight:2048,i=this.layer.version>=10.1?this.layer.imageMaxWidth:2048;this.strategy=new g({container:this._bitmapView,imageNormalizationSupported:t,imageMaxHeight:e,imageMaxWidth:i,fetchSource:this._fetchImage.bind(this),requestUpdate:()=>this.requestUpdate()})}detach(){this.strategy.destroy(),this._bitmapView.removeAllChildren(),this.container.removeAllChildren(),this.updateRequested=!1}redraw(){this.strategy.updateExports(async t=>{const{source:e}=t;if(!e||e instanceof ImageBitmap)return;const i=e.originalPixelBlock??e.pixelBlock,r=await this.layer.applyRenderer({extent:e.extent,pixelBlock:i,isRawData:!!this.pixelHighlightOptions}),s=r.pixelBlock;this.pixelHighlightOptions&&i&&s&&await this.layer.highlightPixels({pixelBlock:i,renderedPixelBlock:s,highlightOptions:this.pixelHighlightOptions}),e.filter=t=>this.layer.pixelFilter?this.layer.applyFilter(t):{...r,extent:e.extent}}).catch(t=>{s(t)||r.getLogger(this).error(t)})}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.view.requestUpdate())}isUpdating(){return this.strategy.updating||this.updateRequested}getPixelData(){if(this.updating)return null;const t=this.strategy.bitmaps;if(1===t.length&&t[0].source)return{extent:t[0].source.extent,pixelBlock:t[0].source.originalPixelBlock};if(t.length>1){const e=this.view.extent,i=t.map(t=>t.source).filter(t=>t.extent&&t.extent.intersects(e)).map(t=>({extent:t.extent,pixelBlock:t.originalPixelBlock})),r=p(i,e);return null!=r?{extent:r.extent,pixelBlock:r.pixelBlock}:null}return null}async _fetchImage(t,e,i,r){(r=r||{}).timeExtent=this.timeExtent,r.requestAsImageElement=!this.pixelHighlightOptions,r.returnImageBitmap=!this.pixelHighlightOptions,r.requestRawData=!!this.pixelHighlightOptions;const s=await this.layer.internalFetchImage(t,e,i,r);if(s.imageBitmap)return s.imageBitmap;const a=await this.layer.applyRenderer({...s.pixelData,isRawData:!!this.pixelHighlightOptions},{signal:r.signal}),o=s.pixelData.pixelBlock,p=a.pixelBlock;this.pixelHighlightOptions&&o&&p&&await this.layer.highlightPixels({pixelBlock:o,renderedPixelBlock:p,highlightOptions:this.pixelHighlightOptions});const l=new h(p,a.extent?.clone(),o);return l.filter=t=>this.layer.applyFilter(t),l}};t([a()],c.prototype,\"attached\",void 0),t([a()],c.prototype,\"container\",void 0),t([a()],c.prototype,\"layer\",void 0),t([a()],c.prototype,\"strategy\",void 0),t([a()],c.prototype,\"timeExtent\",void 0),t([a()],c.prototype,\"view\",void 0),t([a()],c.prototype,\"updateRequested\",void 0),t([a()],c.prototype,\"updating\",null),t([a()],c.prototype,\"pixelHighlightOptions\",void 0),t([a()],c.prototype,\"type\",void 0),c=t([o(\"esri.views.2d.layers.imagery.ImageryView2D\")],c);export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"./BrushVectorField.js\";import r from\"../webgl/WGLContainer.js\";class s extends r{constructor(){super(...arguments),this.symbolTypes=[\"triangle\"]}prepareRenderPasses(r){const s=r.registerRenderPass({name:\"imagery (vf)\",brushes:[e],target:()=>this.children,drawPhase:1});return[...super.prepareRenderPasses(r),s]}doRender(e){this.visible&&1===e.drawPhase&&this.symbolTypes.forEach(r=>{e.renderPass=r,super.doRender(e)})}}export{s as RasterVFContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Logger.js\";import{debounce as r,isAbortError as o}from\"../../../../core/promiseUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../../geometry/Extent.js\";import{RasterVFDisplayObject as l}from\"../../engine/imagery/RasterVFDisplayObject.js\";let c=class extends t{constructor(e){super(e),this._loading=null,this.update=r((e,t)=>this._update(e,t).catch(e=>{o(e)||i.getLogger(this).error(e)}))}get updating(){return!!this._loading}redraw(e){if(!this.container.children.length)return;const t=this.container.children[0];t.symbolizerParameters=e,t.invalidateVAO(),this.container.symbolTypes=\"wind_speed\"===e.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===e.style?[\"scalar\"]:[\"triangle\"],this.container.requestRender()}async _update(e,t,i){if(!e.stationary)return;const{extent:r,spatialReference:o}=e.state,s=new n({xmin:r.xmin,ymin:r.ymin,xmax:r.xmax,ymax:r.ymax,spatialReference:o}),[a,l]=e.state.size;this._loading=this.fetchPixels(s,a,l,i);const c=await this._loading;this._addToDisplay(c,t,e.state),this._loading=null}_addToDisplay(e,t,i){if(null==e.pixelBlock)return this.container.children.forEach(e=>e.destroy()),void this.container.removeAllChildren();const{extent:r,pixelBlock:o}=e,s=new l(o);s.offset=[0,0],s.symbolizerParameters=t,s.rawPixelData=e,s.invalidateVAO(),s.x=r.xmin,s.y=r.ymax,s.pixelRatio=i.pixelRatio,s.rotation=i.rotation,s.resolution=i.resolution,s.width=o.width*t.symbolTileSize,s.height=o.height*t.symbolTileSize,this.container.children.forEach(e=>e.destroy()),this.container.removeAllChildren(),this.container.symbolTypes=\"wind_speed\"===t.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===t.style?[\"scalar\"]:[\"triangle\"],this.container.addChild(s)}};e([s()],c.prototype,\"fetchPixels\",void 0),e([s()],c.prototype,\"container\",void 0),e([s()],c.prototype,\"_loading\",void 0),e([s()],c.prototype,\"updating\",null),c=e([a(\"esri.views.2d.layers.imagery.ImageryVFStrategy\")],c);export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../../Graphic.js\";import r from\"../../../../request.js\";import i from\"../../../../core/Accessor.js\";import o from\"../../../../core/Logger.js\";import{isAbortError as s}from\"../../../../core/promiseUtils.js\";import{watch as a,syncAndInitial as n}from\"../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import m from\"../../../../geometry/Extent.js\";import{srToRESTValue as p}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{projectExtent as h}from\"../../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{snapImageToSymbolTile as y}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFContainer as u}from\"../../engine/imagery/RasterVFContainer.js\";import d from\"./ImageryVFStrategy.js\";let x=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new u,this.type=\"imageryVF\",this._dataParameters={exportParametersVersion:0,bbox:\"\",symbolTileSize:0,time:\"\"},this._fetchpixels=async(t,e,r,i)=>{const o=await this._projectFullExtentPromise,{layer:s}=this,{symbolTileSize:a}=s.renderer,{extent:n,width:l,height:c}=y(t,e,r,a,o);if(null!=o&&!o.intersects(t))return{extent:n,pixelBlock:null};const m={bbox:`${n.xmin}, ${n.ymin}, ${n.xmax}, ${n.ymax}`,exportParametersVersion:s.exportImageServiceParameters.version,symbolTileSize:a,time:JSON.stringify(this.timeExtent||\"\")};if(this._canReuseVectorFieldData(m)){const t=this.getPixelData();if(null!=t){if(`${t.extent.xmin}, ${t.extent.ymin}, ${t.extent.xmax}, ${t.extent.ymax}`===m.bbox)return t}}const{pixelBlock:p}=await s.fetchPixels(n,l,c,{timeExtent:this.timeExtent,interpolation:s.interpolation,signal:i});if(this._dataParameters=m,null==p)return{extent:n,pixelBlock:null};const{dataType:h}=s.rasterInfo;return{extent:n,pixelBlock:\"vector-uv\"===h&&p?await s.convertVectorFieldData(p,\"vector-uv\",{signal:i}):p}}}get updating(){return!this.attached||this._strategy.updating}attach(){this._projectFullExtentPromise=this._getProjectedFullExtent(this.view.spatialReference),this._strategy=new d({container:this.container,fetchPixels:this._fetchpixels}),this.addHandles(a(()=>this.layer.renderer,t=>this._updateSymbolizerParams(t),n),\"attach\")}detach(){this._strategy.destroy(),this.container.children.forEach(t=>t.destroy()),this.container.removeAllChildren(),this.removeHandles(\"attach\"),this._strategy=this.container=this._projectFullExtentPromise=null}getPixelData(){const t=this.container.children[0]?.rawPixelData;if(this.updating||!t)return null;const{extent:e,pixelBlock:r}=t;return{extent:e,pixelBlock:r}}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}update(t){this._strategy.update(t,this._symbolizerParams).catch(t=>{s(t)||o.getLogger(this).error(t)})}redraw(){const{renderer:t}=this.layer;t&&(this._updateSymbolizerParams(t),this._strategy.redraw(this._symbolizerParams))}_canReuseVectorFieldData(t){const e=this._dataParameters.exportParametersVersion===t.exportParametersVersion,r=this._dataParameters.time===t.time,i=this._dataParameters.symbolTileSize===t.symbolTileSize,o=this._dataParameters.bbox===t.bbox;return e&&r&&i&&o}async _getProjectedFullExtent(t){try{return h(this.layer.fullExtent,t)}catch(e){try{const e=(await r(this.layer.url,{query:{option:\"footprints\",outSR:p(t),f:\"json\"}})).data.featureCollection.layers[0].layerDefinition.extent;return e?m.fromJSON(e):null}catch{return null}}}_updateSymbolizerParams(t){\"vector-field\"===t?.type&&(this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null}))}};t([l()],x.prototype,\"attached\",void 0),t([l()],x.prototype,\"container\",void 0),t([l()],x.prototype,\"layer\",void 0),t([l()],x.prototype,\"timeExtent\",void 0),t([l()],x.prototype,\"type\",void 0),t([l()],x.prototype,\"view\",void 0),t([l()],x.prototype,\"updating\",null),x=t([c(\"esri.views.2d.layers.imagery.VectorFieldView2D\")],x);export{x as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../core/Error.js\";import{throwIfAborted as r}from\"../../core/promiseUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"../../geometry/Point.js\";import{combineTimeExtent as a}from\"../../layers/support/timeSupport.js\";import{load as p,getSourceScale as n}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import c from\"../../rest/support/Query.js\";import{getFetchPopupTemplate as m}from\"./support/popupUtils.js\";const u=u=>{const l=u;let y=class extends l{constructor(...e){super(...e),this.view=null}get timeExtent(){return a(this.layer,this.view?.timeExtent,this._get(\"timeExtent\"))}async fetchPopupFeaturesAtLocation(e,o){const{layer:s}=this;if(!e)throw new t(\"imagerylayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:s});const{popupEnabled:a}=s,p=m(s,o);if(!a||null==p)return[];const n=await p.getRequiredFields();r(o);const u=new c;u.timeExtent=this.timeExtent,u.geometry=e,u.outFields=n,u.outSpatialReference=e.spatialReference;const{resolution:l,spatialReference:y}=this.view,h=\"2d\"===this.view.type?new i(l,l,y):new i(.5*l,.5*l,y),{returnTopmostRaster:f,showNoDataRecords:w}=p.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},d={returnDomainValues:!0,returnTopmostRaster:f,pixelSize:h,showNoDataRecords:w,signal:o?.signal};return s.queryVisibleRasters(u,d).then(e=>e)}async getSourceScale(){return await p(),await this.layer.load(),n(this.layer.serviceRasterInfo,this.view.spatialReference)}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return e([o()],y.prototype,\"layer\",void 0),e([o()],y.prototype,\"suspended\",void 0),e([o({readOnly:!0})],y.prototype,\"timeExtent\",null),e([o()],y.prototype,\"view\",void 0),y=e([s(\"esri.views.layers.ImageryLayerView\")],y),y};export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import r from\"../../Color.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import{defaultColor as p}from\"./HighlightDefaults.js\";let i=class extends t{constructor(o){super(o),this.color=p.clone()}};o([s({type:r,nonNullable:!0,json:{write:!0}})],i.prototype,\"color\",void 0),o([s({nonNullable:!0,json:{write:!0}})],i.prototype,\"ranges\",void 0),o([s({json:{write:!0}})],i.prototype,\"bandId\",void 0),i=o([e(\"esri.views.support.PixelHighlightOptions\")],i);export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as i}from\"tslib\";import t from\"../../../Graphic.js\";import{isSome as e}from\"../../../core/arrayUtils.js\";import s from\"../../../core/Collection.js\";import{makeHandle as r}from\"../../../core/handleUtils.js\";import has from\"../../../core/has.js\";import{watch as h,sync as a}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{ensureClass as l}from\"../../../core/accessorSupport/ensureType.js\";import{subclass as g}from\"../../../core/accessorSupport/decorators/subclass.js\";import{GraphicsCollection as n}from\"../../../support/GraphicsCollection.js\";import p from\"../engine/flow/FlowView2D.js\";import{LayerView2DMixin as c}from\"./LayerView2D.js\";import d from\"./graphics/GraphicsView2D.js\";import w from\"./graphics/HighlightGraphicContainer.js\";import u from\"./imagery/ImageryView2D.js\";import m from\"./imagery/VectorFieldView2D.js\";import y from\"../../layers/ImageryLayerView.js\";import v from\"../../layers/LayerView.js\";import{RefreshableLayerView as f}from\"../../layers/RefreshableLayerView.js\";import{getHighlightName as b}from\"../../support/highlightOptionsUtils.js\";import _ from\"../../support/PixelHighlightOptions.js\";let x=class extends(y(f(c(v)))){constructor(){super(...arguments),this._exportImageVersion=-1,this._highlightGraphics=new n,this._highlightView=void 0,this._pixelHighlightId=0,this.layer=null,this.subview=null}get pixelData(){const{subview:i}=this;return this.updating||!i?null:\"getPixelData\"in i?i.getPixelData():null}update(i){this.subview?.update(i)}attach(){this.layer.increaseRasterJobHandlerUsage(),this._setSubView(),this.view&&(this._highlightView=new d({view:this.view,graphics:this._highlightGraphics,requestUpdateCallback:()=>this.requestUpdate(),container:new w(this.view.featuresTilingScheme)}),this.container.addChild(this._highlightView.container)),this.addAttachHandles([h(()=>this.layer.exportImageServiceParameters.version,i=>{i&&this._exportImageVersion!==i&&(this._exportImageVersion=i,this.requestUpdate())},a),h(()=>this.timeExtent,i=>{const{subview:t}=this;t&&(t.timeExtent=i,\"redraw\"in t?this.requestUpdate():t.redrawOrRefetch())},a),this.layer.on(\"redraw\",()=>{const{subview:i}=this;i&&(\"redraw\"in i?i.redraw():i.redrawOrRefetch())}),h(()=>this.layer.renderer,()=>this._setSubView())])}detach(){this.layer.decreaseRasterJobHandlerUsage(),this.container.removeAllChildren(),this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null,this._highlightView?.destroy(),this._exportImageVersion=-1}viewChange(){}moveEnd(){this.requestUpdate()}highlight(i,h){if(!((Array.isArray(i)?i[0]:s.isCollection(i)?i.at(0):i)instanceof t))return r();let a=[];Array.isArray(i)||s.isCollection(i)?a=i.map(i=>i.clone()):i instanceof t&&(a=[i.clone()]);const o=a?.filter(e);if(!o?.length)return r();const l=b(h);return this._addHighlightGraphics(a,l),r(()=>!this.destroyed&&this._removeHighlightGraphics(a,l))}highlightPixels(i){this._pixelHighlightOptions=l(_,i);const{subview:t}=this;\"imagery\"===t?.type&&this._updateHighlightOptions(t),this._pixelHighlightId++;const e=this._pixelHighlightId;return r(()=>{e===this._pixelHighlightId&&(this._pixelHighlightOptions=void 0,\"imagery\"===this.subview?.type&&this._updateHighlightOptions(this.subview))})}_addHighlightGraphics(i,t){this._highlightGraphics.addMany(i),this._addHighlights(i.map(i=>i.uid),t)}_removeHighlightGraphics(i,t){this._highlightGraphics.removeMany(i),this._removeHighlights(i.map(i=>i.uid),t)}async doRefresh(){this.requestUpdate()}isUpdating(){const i=!this.subview||this.subview.updating||!!this._highlightView?.updating;return has(\"esri-2d-log-updating\")&&console.log(`Updating ImageryLayerView2D (${this.layer.id}): ${i}\\n-> subview ${!this.subview||this.subview.updating}\\n-> higlightView ${this._highlightView?.updating}\\n`),i}_processHighlight(){const i=this._getHighlights();this._highlightView?.setHighlight(i)}_setSubView(){if(!this.view)return;const i=this.layer.renderer?.type;let t=\"imagery\";if(\"vector-field\"===i?t=\"imageryVF\":\"flow\"===i&&(t=\"flow\"),this.subview){const{type:i}=this.subview;if(i===t)return this._attachSubview(this.subview),void(\"flow\"===i?this.subview.redrawOrRefetch():\"imagery\"===i&&\"lerc\"===this.layer.format?this.subview.redraw():this.requestUpdate());this._detachSubview(this.subview),this.subview?.destroy()}\"imagery\"===t?(this.subview=new u({layer:this.layer,view:this.view,timeExtent:this.timeExtent}),this.subview.pixelHighlightOptions=this._pixelHighlightOptions):this.subview=\"imageryVF\"===t?new m({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):new p({layer:this.layer,layerView:this}),this._attachSubview(this.subview),this.requestUpdate()}_attachSubview(i){i&&!i.attached&&(i.attach(),i.attached=!0,this.container.addChildAt(i.container,0))}_detachSubview(i){i?.attached&&(this.container.removeChild(i.container),i.detach(),i.attached=!1)}_updateHighlightOptions(i){\"imagery\"===i?.type&&(i.pixelHighlightOptions=this._pixelHighlightOptions,i.attached&&(\"lerc\"===this.layer.format?i.redraw():this.requestUpdate()))}};i([o()],x.prototype,\"pixelData\",null),i([o()],x.prototype,\"subview\",void 0),x=i([g(\"esri.views.2d.layers.ImageryLayerView2D\")],x);const V=x;export{V as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/Error.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{AGraphicContainer as s}from\"./AGraphicContainer.js\";import{renderHighlight as t}from\"../support/util.js\";let o=class extends s{get hasHighlight(){return this.children.some(r=>r.hasData)}renderChildren(r){this.attributeView.update(),16===r.drawPhase&&this.children.some(r=>r.hasData)&&(super.renderChildren(r),r.context.setColorMask(!0,!0,!0,!0),t(r,!1,r=>{this._renderChildren(r,1)}))}};o=r([e(\"esri.views.2d.layers.graphics.HighlightGraphicContainer\")],o);export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport o from\"../../core/Collection.js\";import{defaultHighlightName as n,temporaryHighlightColor as r,temporaryHighlightName as t}from\"./HighlightDefaults.js\";import e from\"./HighlightOptions.js\";function i(){return new o([new e({name:n}),new e({name:t,color:r})])}function m(o){return o?.name??n}export{i as createInitialHighlightOptions,m as getHighlightName};\n"],"names":["c","i","constructor","super","arguments","this","attached","container","n","updateRequested","type","_bitmapView","l","destroy","detach","updating","isUpdating","update","t","strategy","catch","s","r","getLogger","error","hitTest","e","attributes","geometry","clone","layer","attach","addChild","version","imageMaxHeight","imageMaxWidth","g","imageNormalizationSupported","fetchSource","_fetchImage","bind","requestUpdate","removeAllChildren","redraw","updateExports","async","source","ImageBitmap","originalPixelBlock","pixelBlock","applyRenderer","extent","isRawData","pixelHighlightOptions","highlightPixels","renderedPixelBlock","highlightOptions","filter","pixelFilter","applyFilter","view","getPixelData","bitmaps","length","map","intersects","p","timeExtent","requestAsImageElement","returnImageBitmap","requestRawData","internalFetchImage","imageBitmap","a","pixelData","signal","o","h","prototype","symbolTypes","prepareRenderPasses","registerRenderPass","name","brushes","target","children","drawPhase","doRender","visible","forEach","renderPass","_loading","_update","symbolizerParameters","invalidateVAO","style","requestRender","stationary","spatialReference","state","xmin","ymin","xmax","ymax","size","fetchPixels","_addToDisplay","offset","rawPixelData","x","y","pixelRatio","rotation","resolution","width","symbolTileSize","height","u","_dataParameters","exportParametersVersion","bbox","time","_fetchpixels","_projectFullExtentPromise","renderer","m","exportImageServiceParameters","JSON","stringify","_canReuseVectorFieldData","interpolation","dataType","rasterInfo","convertVectorFieldData","_strategy","_getProjectedFullExtent","d","addHandles","_updateSymbolizerParams","removeHandles","_symbolizerParams","fullExtent","url","query","option","outSR","f","data","featureCollection","layers","layerDefinition","fromJSON","symbolizer","generateWebGLParameters","_get","fetchPopupFeaturesAtLocation","popupEnabled","getRequiredFields","outFields","outSpatialReference","returnTopmostRaster","showNoDataRecords","w","layerOptions","returnDomainValues","pixelSize","queryVisibleRasters","then","getSourceScale","load","serviceRasterInfo","canResume","isEmpty","readOnly","color","nonNullable","json","write","v","_exportImageVersion","_highlightGraphics","_highlightView","_pixelHighlightId","subview","increaseRasterJobHandlerUsage","_setSubView","graphics","requestUpdateCallback","featuresTilingScheme","addAttachHandles","redrawOrRefetch","on","decreaseRasterJobHandlerUsage","_detachSubview","viewChange","moveEnd","highlight","Array","isArray","isCollection","at","b","_addHighlightGraphics","destroyed","_removeHighlightGraphics","_pixelHighlightOptions","_","_updateHighlightOptions","addMany","_addHighlights","uid","removeMany","_removeHighlights","doRefresh","has","console","log","id","_processHighlight","_getHighlights","setHighlight","_attachSubview","format","layerView","addChildAt","removeChild","V","hasHighlight","some","hasData","renderChildren","attributeView","context","setColorMask","_renderChildren"],"sourceRoot":""}