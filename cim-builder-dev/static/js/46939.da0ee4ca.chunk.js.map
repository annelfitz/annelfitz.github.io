{"version":3,"file":"static/js/46939.da0ee4ca.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/engine/flow/dataUtils.js","../node_modules/@arcgis/core/views/3d/support/flow/FlowWorker.js","../node_modules/@arcgis/core/views/3d/support/flow/loadUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import t from\"../../../../core/Logger.js\";import{deg2rad as e}from\"../../../../core/mathUtils.js\";import{throwIfAborted as n}from\"../../../../core/promiseUtils.js\";import r from\"../../../../core/RandomLCG.js\";import o from\"../../../../geometry/Extent.js\";import{getInfo as l}from\"../../../../geometry/support/spatialReferenceUtils.js\";const i=()=>t.getLogger(\"esri.views.2d.engine.flow.dataUtils\"),a=10;async function s(t,e,r,o){const l=performance.now(),s=c(e,r),f=performance.now(),h=u(e,s,r.width,r.height),p=performance.now(),g=m(h,!0),y=performance.now(),x=\"Streamlines\"===t?d(g,a):w(g),M=performance.now();return has(\"esri-2d-profiler\")&&(i().info(\"I.1\",\"_createFlowFieldFromData (ms)\",Math.round(f-l)),i().info(\"I.2\",\"_getStreamlines (ms)\",Math.round(p-f)),i().info(\"I.3\",\"createAnimatedLinesData (ms)\",Math.round(y-p)),i().info(\"I.4\",\"create{Streamlines|Particles}Mesh (ms)\",Math.round(M-y)),i().info(\"I.5\",\"createFlowMesh (ms)\",Math.round(M-l)),i().info(\"I.6\",\"Mesh size (bytes)\",x.vertexData.buffer.byteLength+x.indexData.buffer.byteLength)),await Promise.resolve(),n(o),x}function c(t,e){const n=h(e.data,e.width,e.height,t.smoothing);if(t.interpolate){return(t,r)=>{const o=Math.floor(t),l=Math.floor(r);if(o<0||o>=e.width)return[0,0];if(l<0||l>=e.height)return[0,0];const i=t-o,a=r-l,s=o,c=l,f=o<e.width-1?o+1:o,u=l<e.height-1?l+1:l,h=n[2*(c*e.width+s)],m=n[2*(c*e.width+f)],d=n[2*(u*e.width+s)],w=n[2*(u*e.width+f)],p=n[2*(c*e.width+s)+1],g=n[2*(c*e.width+f)+1];return[(h*(1-a)+d*a)*(1-i)+(m*(1-a)+w*a)*i,(p*(1-a)+n[2*(u*e.width+s)+1]*a)*(1-i)+(g*(1-a)+n[2*(u*e.width+f)+1]*a)*i]}}return(t,r)=>{const o=Math.round(t),l=Math.round(r);return o<0||o>=e.width||l<0||l>=e.height?[0,0]:[n[2*(l*e.width+o)],n[2*(l*e.width+o)+1]]}}function f(t,e,n,r,o,l,i,a,s){const c=[];let f=n,u=r,h=0,[m,d]=e(f,u);m*=t.velocityScale,d*=t.velocityScale;const w=Math.sqrt(m*m+d*d);let p,g;c.push({x:f,y:u,t:h,speed:w});for(let y=0;y<t.verticesPerLine;y++){let[n,r]=e(f,u);n*=t.velocityScale,r*=t.velocityScale;const m=Math.sqrt(n*n+r*r);if(m<t.minSpeedThreshold)return c;const d=n/m,w=r/m;f+=d*t.segmentLength,u+=w*t.segmentLength;if(h+=t.segmentLength/m,Math.acos(d*p+w*g)>t.maxTurnAngle)return c;if(t.collisions){const t=Math.round(f*s),e=Math.round(u*s);if(t<0||t>i-1||e<0||e>a-1)return c;const n=l[e*i+t];if(-1!==n&&n!==o)return c;l[e*i+t]=o}c.push({x:f,y:u,t:h,speed:m}),p=d,g=w}return c}function u(t,e,n,o){const l=[],i=new r,a=1/Math.max(t.lineCollisionWidth,1),s=Math.round(n*a),c=Math.round(o*a),u=new Int32Array(s*c);for(let r=0;r<u.length;r++)u[r]=-1;const h=[];for(let r=0;r<o;r+=t.lineSpacing)for(let e=0;e<n;e+=t.lineSpacing)h.push({x:e,y:r,sort:i.getFloat()});h.sort((t,e)=>t.sort-e.sort);for(const{x:r,y:m}of h)if(i.getFloat()<t.density){const n=f(t,e,r,m,l.length,u,s,c,a);if(n.length<2)continue;l.push(n)}return l}function h(t,e,n,r){if(0===r)return t;const o=Math.round(3*r),l=new Array(2*o+1);let i=0;for(let c=-o;c<=o;c++){const t=Math.exp(-c*c/(r*r));l[c+o]=t,i+=t}for(let c=-o;c<=o;c++)l[c+o]/=i;const a=new Float32Array(t.length);for(let c=0;c<n;c++)for(let n=0;n<e;n++){let r=0,i=0;for(let a=-o;a<=o;a++){if(n+a<0||n+a>=e)continue;const s=l[a+o];r+=s*t[2*(c*e+(n+a))],i+=s*t[2*(c*e+(n+a))+1]}a[2*(c*e+n)]=r,a[2*(c*e+n)+1]=i}const s=new Float32Array(t.length);for(let c=0;c<e;c++)for(let t=0;t<n;t++){let r=0,i=0;for(let s=-o;s<=o;s++){if(t+s<0||t+s>=n)continue;const f=l[s+o];r+=f*a[2*((t+s)*e+c)],i+=f*a[2*((t+s)*e+c)+1]}s[2*(t*e+c)]=r,s[2*(t*e+c)+1]=i}return s}function m(t,e){const n=new r,o=t.reduce((t,e)=>t+e.length,0),l=new Float32Array(4*o),i=new Array(t.length);let a=0,s=0;for(const r of t){const t=a;for(const e of r)l[4*a]=e.x,l[4*a+1]=e.y,l[4*a+2]=e.t,l[4*a+3]=e.speed,a++;i[s++]={startVertex:t,numberOfVertices:r.length,totalTime:r[r.length-1].t,timeSeed:e?n.getFloat():0}}return{lineVertices:l,lineDescriptors:i}}function d(t,e){const n=9,{lineVertices:r,lineDescriptors:o}=t;let l=0,i=0;for(const m of o){l+=2*m.numberOfVertices;i+=6*(m.numberOfVertices-1)}const a=new Float32Array(l*n),s=new Uint32Array(i);let c=0,f=0;function u(){s[f++]=c-2,s[f++]=c,s[f++]=c-1,s[f++]=c,s[f++]=c+1,s[f++]=c-1}function h(t,e,r,o,l,i,s,f){const u=c*n;let h=0;a[u+h++]=t,a[u+h++]=e,a[u+h++]=1,a[u+h++]=r,a[u+h++]=i,a[u+h++]=s,a[u+h++]=o/2,a[u+h++]=l/2,a[u+h++]=f,c++,a[u+h++]=t,a[u+h++]=e,a[u+h++]=-1,a[u+h++]=r,a[u+h++]=i,a[u+h++]=s,a[u+h++]=-o/2,a[u+h++]=-l/2,a[u+h++]=f,c++}for(const m of o){const{totalTime:t,timeSeed:n}=m;let o=null,l=null,i=null,a=null,s=null,c=null;for(let f=0;f<m.numberOfVertices;f++){const d=r[4*(m.startVertex+f)],w=r[4*(m.startVertex+f)+1],p=r[4*(m.startVertex+f)+2],g=r[4*(m.startVertex+f)+3];let y=null,x=null,M=null,A=null;if(f>0){y=d-o,x=w-l;const r=Math.sqrt(y*y+x*x);if(y/=r,x/=r,f>1){let t=y+s,n=x+c;const r=Math.sqrt(t*t+n*n);t/=r,n/=r;const o=Math.min(1/(t*y+n*x),e);t*=o,n*=o,M=-n,A=t}else M=-x,A=y;null!==M&&null!==A&&(h(o,l,i,M,A,t,n,g),u())}o=d,l=w,i=p,s=y,c=x,a=g}h(o,l,i,-c,s,t,n,a)}return{vertexData:a,indexData:s}}function w(t){const e=16,n=1,r=2,{lineVertices:o,lineDescriptors:l}=t;let i=0,a=0;for(const U of l){const t=U.numberOfVertices-1;i+=4*t*2,a+=6*t*2}const s=new Float32Array(i*e),c=new Uint32Array(a);let f,u,h,m,d,w,p,g,y,x,M,A,I,V,F=0,v=0;function D(){c[v++]=F-8,c[v++]=F-7,c[v++]=F-6,c[v++]=F-7,c[v++]=F-5,c[v++]=F-6,c[v++]=F-4,c[v++]=F-3,c[v++]=F-2,c[v++]=F-3,c[v++]=F-1,c[v++]=F-2}function b(t,o,l,i,a,c,f,u,h,m,d,w,p,g){const y=F*e;let x=0;for(const e of[n,r])for(const n of[1,2,3,4])s[y+x++]=t,s[y+x++]=o,s[y+x++]=l,s[y+x++]=i,s[y+x++]=f,s[y+x++]=u,s[y+x++]=h,s[y+x++]=m,s[y+x++]=e,s[y+x++]=n,s[y+x++]=p,s[y+x++]=g,s[y+x++]=a/2,s[y+x++]=c/2,s[y+x++]=d/2,s[y+x++]=w/2,F++}function S(t,e){let n=y+M,r=x+A;const o=Math.sqrt(n*n+r*r);n/=o,r/=o;const l=y*n+x*r;n/=l,r/=l;let i=M+I,a=A+V;const s=Math.sqrt(i*i+a*a);i/=s,a/=s;const c=M*i+A*a;i/=c,a/=c,b(f,u,h,m,-r,n,d,w,p,g,-a,i,t,e),D()}function k(t,e,n,r,o,l){if(y=M,x=A,M=I,A=V,null==y&&null==x&&(y=M,x=A),null!=d&&null!=w){I=t-d,V=e-w;const n=Math.sqrt(I*I+V*V);I/=n,V/=n}null!=y&&null!=x&&S(o,l),f=d,u=w,h=p,m=g,d=t,w=e,p=n,g=r}function L(t,e){y=M,x=A,M=I,A=V,null==y&&null==x&&(y=M,x=A),null!=y&&null!=x&&S(t,e)}for(const U of l){f=null,u=null,h=null,m=null,d=null,w=null,p=null,g=null,y=null,x=null,M=null,A=null,I=null,V=null;const{totalTime:t,timeSeed:e}=U;for(let n=0;n<U.numberOfVertices;n++){k(o[4*(U.startVertex+n)],o[4*(U.startVertex+n)+1],o[4*(U.startVertex+n)+2],o[4*(U.startVertex+n)+3],t,e)}L(t,e)}return{vertexData:s,indexData:c}}function p(t,n){const r=n.pixels,{width:o,height:l}=n,i=new Float32Array(o*l*2),a=n.mask||new Uint8Array(o*l*2);if(n.mask||a.fill(255),\"vector-uv\"===t)for(let e=0;e<o*l;e++)i[2*e]=r[0][e],i[2*e+1]=-r[1][e];else if(\"vector-magdir\"===t)for(let s=0;s<o*l;s++){const t=r[0][s],n=e(r[1][s]),o=Math.cos(n-Math.PI/2),l=Math.sin(n-Math.PI/2);i[2*s]=o*t,i[2*s+1]=l*t}return{data:i,mask:a,width:o,height:l}}async function g(t,e,n,r,a,s){const c=performance.now(),f=l(e.spatialReference);if(!f){const o=await y(t,e,n,r,a,s);return has(\"esri-2d-profiler\")&&i().info(\"I.7\",\"loadImagery, early exit (ms)\",Math.round(performance.now()-c)),has(\"esri-2d-profiler\")&&i().info(\"I.9\",\"Number of parts\",1),o}const[u,h]=f.valid,m=h-u,d=Math.ceil(e.width/m),w=e.width/d,p=Math.round(n/d);let g=e.xmin;const x=[],M=performance.now();for(let l=0;l<d;l++){const n=new o({xmin:g,xmax:g+w,ymin:e.ymin,ymax:e.ymax,spatialReference:e.spatialReference});x.push(y(t,n,p,r,a,s)),g+=w}const A=await Promise.all(x);has(\"esri-2d-profiler\")&&i().info(\"I.8\",\"All calls to _fetchPart (ms)\",Math.round(performance.now()-M)),has(\"esri-2d-profiler\")&&i().info(\"I.9\",\"Number of parts\",A.length);const I={data:new Float32Array(n*r*2),mask:new Uint8Array(n*r),width:n,height:r};let V=0;for(const o of A){for(let t=0;t<o.height;t++)for(let e=0;e<o.width;e++)V+e>=n||(I.data[2*(t*n+V+e)]=o.data[2*(t*o.width+e)],I.data[2*(t*n+V+e)+1]=o.data[2*(t*o.width+e)+1],I.mask[t*n+V+e]=o.mask[t*o.width+e]);V+=o.width}return has(\"esri-2d-profiler\")&&i().info(\"I.10\",\"loadImagery, general exit (ms)\",Math.round(performance.now()-c)),I}async function y(t,e,n,r,o,l){const i={requestProjectedLocalDirections:!0,signal:l};if(null!=o&&(i.timeExtent=o),\"imagery\"===t.type){await t.load({signal:l});const o=await t.internalFetchImage(e,n,r,i);if(null==o?.pixelData?.pixelBlock)return{data:new Float32Array(n*r*2),mask:new Uint8Array(n*r),width:n,height:r};return p(t.rasterInfo.dataType,o.pixelData.pixelBlock)}await t.load({signal:l});const a=await t.fetchPixels(e,n,r,i);if(null==a?.pixelBlock)return{data:new Float32Array(n*r*2),mask:new Uint8Array(n*r),width:n,height:r};return p(t.serviceRasterInfo.dataType,a.pixelBlock)}export{m as createAnimatedLinesData,c as createFlowFieldFromData,s as createFlowMesh,w as createParticlesMesh,d as createStreamlinesMesh,u as getStreamlines,g as loadImagery,p as toFlowData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/Error.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{createFlowFieldFromData as r,getStreamlines as s}from\"../../../2d/engine/flow/dataUtils.js\";import{createFlowFieldFromDataTiled as o}from\"./loadUtils.js\";let a=class{constructor(){this._tileData=new Map}async generateStreamlines(t){const{flowData:e,simulationSettings:s,size:o}=t,a=l(r(s,e),s,o);return{result:{streamlines:a},transferList:a?.map(t=>t.buffer)}}async generateTiledStreamlines(t){const{simulationSettings:e,size:r,reset:s,flowDataTiles:a,extent:i,pixelSize:n}=t;this._updateTileData(a,s);const c=l(o(e,this._tileData,r,i,n),e,r);return{result:{streamlines:c},transferList:c?.map(t=>t.buffer)??[]}}_updateTileData(t,e){e&&this._tileData.forEach((e,r)=>{null==t.get(r)&&this._tileData.delete(r)}),t.forEach((t,e)=>{\"delete\"===t?this._tileData.delete(e):\"on-worker\"!==t&&this._tileData.set(e,t)})}};a=t([e(\"esri.views.3d.support.flow.FlowWorker\")],a);const i=a;function l(t,e,r){if(null==t)return;const o=s(e,t,r[0],r[1]),a=[];for(const s of o){const t=new Float32Array(3*s.length);for(let e=0;e<s.length;e++)t[3*e]=s[e].x,t[3*e+1]=s[e].y,t[3*e+2]=s[e].t;a.push(t)}return a}export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{width as t,height as n,containsXY as l,intersects as u,create as o}from\"../../../../geometry/support/aaBoundingRect.js\";import{createFlowFieldFromData as r}from\"../../../2d/engine/flow/dataUtils.js\";class e{constructor(t,n,l,u,o,r){this.data=t,this.mask=n,this.width=l,this.height=u,this.lij=o,this.extent=r}}function i(t,n){let[l,r,e,i]=[null,null,null,null];for(const o of t){const t=o.extent;u(t,n)&&(l=c(t[0],l),r=c(t[1],r),e=s(t[2],e),i=s(t[3],i))}return null==l||null==r||null==e||null==i?null:o([l,r,e,i])}function s(t,n){return null==n?t:Math.max(t,n)}function c(t,n){return null==n?t:Math.min(t,n)}function a(u,o,e,i,s){const[c,a]=e;let f=null;const h=new Map;o.forEach(t=>{h.set(t.lij,r(u,t))});const d=(t,n,u)=>l(t.extent,n,u);return(l,u)=>{const r=Math.round(l),e=Math.round(u);if(r<0||r>=c||e<0||e>=a)return[0,0];const m=l/c*t(i)+i[0],p=(a-u)/a*n(i)+i[1];if(null==f||!d(f,m,p)){f=null;for(const[t,n]of o)if(d(n,m,p)){f=n;break}}if(null==f?.data)return[0,0];const x=h.get(f.lij);if(null==x)return[0,0];const g=f.extent;return x((m-g[0])/t(g)*s,s-(p-g[1])/n(g)*s)}}export{e as FlowDataTile,i as boundingRectOfTiles,a as createFlowFieldFromDataTiled};\n"],"names":["i","t","getLogger","a","async","s","e","r","o","l","performance","now","c","f","h","u","width","height","p","g","n","reduce","length","Float32Array","Array","x","y","speed","startVertex","numberOfVertices","totalTime","timeSeed","getFloat","lineVertices","lineDescriptors","m","Uint32Array","d","w","M","A","Math","sqrt","min","vertexData","indexData","U","I","V","F","v","D","b","S","k","L","has","info","round","buffer","byteLength","Promise","resolve","exp","data","smoothing","interpolate","floor","velocityScale","push","verticesPerLine","minSpeedThreshold","segmentLength","acos","maxTurnAngle","collisions","max","lineCollisionWidth","Int32Array","lineSpacing","sort","density","pixels","mask","Uint8Array","fill","cos","PI","sin","spatialReference","valid","ceil","xmin","xmax","ymin","ymax","all","requestProjectedLocalDirections","signal","timeExtent","type","load","internalFetchImage","pixelData","pixelBlock","rasterInfo","dataType","fetchPixels","serviceRasterInfo","constructor","this","_tileData","Map","generateStreamlines","flowData","simulationSettings","size","result","streamlines","transferList","map","generateTiledStreamlines","reset","flowDataTiles","extent","pixelSize","_updateTileData","forEach","set","lij","get","delete"],"sourceRoot":""}