(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[153],{454:function(n,e,t){"use strict";t.r(e),t.d(e,"getDataValues",(function(){return s})),t.d(e,"summaryStatistics",(function(){return r}));var a=t(49),l=t(26),i=t(741),u=t(72);let o=null;async function r(n){const{attribute:e,featuresJSON:t}=n,{normalizationType:a,normalizationField:l,minValue:u,maxValue:o,fieldType:r}=e,c=await s({field:e.field,valueExpression:e.valueExpression,normalizationType:a,normalizationField:l,normalizationTotal:e.normalizationTotal,viewInfoParams:e.viewInfoParams},t),m=Object(i.d)({normalizationType:a,normalizationField:l,minValue:u,maxValue:o}),f="string"===r?Object(i.b)({values:c,supportsNullCount:m}):Object(i.a)({values:c,minValue:u,maxValue:o,useSampleStdDev:!a,supportsNullCount:m});return Object(i.e)(f,"date"===r)}async function s(n,e){if(!e)return[];const t=n.field,r=n.valueExpression,s=n.normalizationType,c=n.normalizationField,m=n.normalizationTotal,f=[],p=n.viewInfoParams;let d=null,b=null;if(r){if(!o){const{arcadeUtils:n}=await Object(u.e)();o=n}d=o.createFunction(r),b=p&&o.getViewInfo({viewingMode:p.viewingMode,scale:p.scale,spatialReference:new l.a(p.spatialReference)})}return e.forEach(n=>{const e=n.attributes;let l;if(r){const e=o.createExecContext(n,b);l=o.executeFunction(d,e)}else e&&(l=e[t]);if(s&&Object(a.g)(l)){const n=e&&parseFloat(e[c]);l=Object(i.c)(l,s,n,m)}f.push(l)}),f}},741:function(n,e,t){"use strict";t.d(e,"a",(function(){return i})),t.d(e,"b",(function(){return l})),t.d(e,"c",(function(){return o})),t.d(e,"d",(function(){return a})),t.d(e,"e",(function(){return u}));t(9),t(3),t(44);function a(n){const e=null!=n.normalizationField||null!=n.normalizationType,t=null!=n.minValue||null!=n.maxValue,a=!!n.sqlExpression&&n.supportsSQLExpression;return!e&&!t&&!a}function l(n){const e=n.returnDistinct?[...new Set(n.values)]:n.values,t=e.filter(n=>null!=n).length,a={count:t};return n.supportsNullCount&&(a.nullcount=e.length-t),a}function i(n){const{values:e,useSampleStdDev:t,supportsNullCount:a}=n;let l=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,u=null,o=null,r=null,s=null,c=0;const m=null==n.minValue?-1/0:n.minValue,f=null==n.maxValue?1/0:n.maxValue;for(const d of e)Number.isFinite(d)?d>=m&&d<=f&&(u+=d,l=Math.min(l,d),i=Math.max(i,d),c++):"string"==typeof d&&c++;if(c&&null!=u){o=u/c;let n=0;for(const t of e)Number.isFinite(t)&&t>=m&&t<=f&&(n+=(t-o)**2);s=t?c>1?n/(c-1):0:c>0?n/c:0,r=Math.sqrt(s)}else l=null,i=null;const p={avg:o,count:c,max:i,min:l,stddev:r,sum:u,variance:s};return a&&(p.nullcount=e.length-c),p}function u(n,e){return e?(["avg","stddev","variance"].forEach(e=>{null!=n[e]&&(n[e]=Math.ceil(n[e]))}),n):n}function o(n,e,t,a){let l=null;switch(e){case"log":0!==n&&(l=Math.log(n)*Math.LOG10E);break;case"percent-of-total":Number.isFinite(a)&&0!==a&&(l=n/a*100);break;case"field":Number.isFinite(t)&&0!==t&&(l=n/t);break;case"natural-log":n>0&&(l=Math.log(n));break;case"square-root":n>0&&(l=n**.5)}return l}}}]);
//# sourceMappingURL=153.84222d10.chunk.js.map