{"version":3,"file":"static/js/47933.416c0ea9.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/QueueProcessor.js","../node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{removeMaybe as e}from\"./maybe.js\";import{onAbort as s,onAbortOrThrow as t,createResolver as r,createAbortError as i,isPromiseLike as h}from\"./promiseUtils.js\";import o from\"./Queue.js\";import n from\"./ReactiveMap.js\";import{schedule as c}from\"./scheduling.js\";import{signal as l}from\"./signal.js\";class u{constructor(e,s){this.item=e,this.controller=s,this.promise=null}}class _{constructor(e){this._schedule=null,this._deferreds=new n,this._controllers=new n,this._processingItems=new n,this._pausedSignal=l(!1),this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new o(e.peeker),this.process=e.process}destroy(){this.clear(),this._schedule=e(this._schedule)}get updating(){return this.running}get length(){return this._processingItems.size+this._queue.length}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}abort(e){const s=this._controllers.get(e);s&&s.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach(s=>e.push(s)),this._controllers.clear(),e.forEach(e=>e.abort()),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach((s,t)=>e(t))}get(e){const s=this._deferreds.get(e);return s?s.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(e,h){const o=this.get(e);if(o)return o;const n=new AbortController;let c=null;h&&(c=s(h,()=>n.abort()));const l=()=>{const s=this._processingItems.get(e);s&&s.controller.abort(),u(),a.reject(i())},u=()=>{_.remove(),null!=c&&c.remove(),this._removeItem(e),this._queue.remove(e),this._scheduleNext()},_=t(n.signal,l),a=r();return this._deferreds.set(e,a),this._controllers.set(e,n),a.promise.then(u,u),this._queue.push(e),this._scheduleNext(),a.promise}last(){return this._queue.last()}lastPromise(){const e=this.last();return e?this.get(e):null}peek(){return this._queue.peek()}popLast(){const e=this._queue.popLast();return e&&(this._deferreds.get(e)?.reject(i()),this._removeItem(e)),e}reset(){const e=Array.from(this._processingItems.values());this._processingItems.clear();for(const s of e)this._queue.push(s.item),s.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}_removeItem(e){this._deferreds.delete(e),this._controllers.delete(e),this._processingItems.delete(e)}_scheduleNext(){this._pausedSignal.value||this._schedule||(this._schedule=c(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,s){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(s))}_processError(e,s){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(s))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(null==e)return;let s;const t=new AbortController,r=new u(e,t);this._processingItems.set(e,r);try{s=this.process(e,t.signal)}catch(i){this._processError(r,i)}h(s)?(r.promise=s,s.then(e=>this._processResult(r,e),e=>this._processError(r,e))):this._processResult(r,s)}}export{_ as QueueProcessor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../request.js\";import i from\"../../core/Error.js\";import r from\"../../core/Logger.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{Integer as n,ensureClass as o}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{enumeration as a}from\"../../core/accessorSupport/decorators/enumeration.js\";import{reader as l}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as m}from\"../../core/accessorSupport/decorators/subclass.js\";import u from\"../../geometry/Point.js\";import p from\"../../geometry/SpatialReference.js\";import{getInfo as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{sanitizeUrl as d}from\"../support/arcgisLayerUrl.js\";import{url as h}from\"../support/commonProperties.js\";import f from\"../support/DimensionalDefinition.js\";import y from\"../support/MultidimensionalSubset.js\";import{interpolationKebab as g}from\"../support/rasterEnums.js\";import b from\"../support/RasterFunction.js\";import R from\"../support/TileInfo.js\";import{isFunctionRaster as I}from\"../support/rasterDatasets/datasetUtils.js\";import x from\"../support/rasterDatasets/FunctionRaster.js\";import{getEffectiveMultidimensionalDefinition as S,getDefaultVariableInfo as v,isMultiSliceOrRangeDefinition as w,convertOleDateTimeToEpoch as F,getSubsetVariablesFromMdInfo as _,getDefaultMultidimensionalDefinition as j}from\"../support/rasterDatasets/multidimensionalUtils.js\";import{snapToRaster as D,clip as J}from\"../support/rasterFunctions/clipUtils.js\";import{create as N}from\"../support/rasterFunctions/rasterFunctionHelper.js\";import{load as T,projectExtent as O,projectPolygon as z}from\"../support/rasterFunctions/rasterProjectionHelper.js\";import{computeStatisticsHistograms as H}from\"../support/rasterFunctions/stretchUtils.js\";import{getVariableRasterInfo as P,getDefaultInterpolation as E,matchPresetRenderer as C,getDefaultBandCombination as M,getFunctionColorRamp as U,createDefaultRenderer as q,normalizeRendererJSON as L}from\"../../renderers/support/rasterRendererHelper.js\";import B from\"../../renderers/support/RasterSymbolizer.js\";import{websceneRasterRendererTypes as k,rasterRendererTypes as A,read as V}from\"../../renderers/support/rasterTypeUtils.js\";import $ from\"../../rest/support/ImageHistogramParameters.js\";import G from\"../../rest/support/ImageSample.js\";import W from\"../../rest/support/ImageSampleParameters.js\";import K from\"../../rest/support/ImageSampleResult.js\";const Q=1e3,X=X=>{const Y=X;let Z=class extends Y{constructor(...e){super(...e),this._isConstructedFromFunctionRaster=!1,this.bandIds=null,this.copyright=null,this.interpolation=null,this.multidimensionalSubset=null,this.raster=null,this.serviceRasterInfo=null,this.sourceJSON=null,this.spatialReference=null,this.symbolizer=null,this._isConstructedFromFunctionRaster=I(e[0]?.raster)}destroy(){this._shutdownJobHandler()}get fullExtent(){return this.serviceRasterInfo?.extent}set multidimensionalDefinition(e){this._set(\"multidimensionalDefinition\",e),this.updateRenderer()}set rasterFunction(e){\"none\"===e?.functionName?.toLowerCase()&&(e=void 0),this._set(\"rasterFunction\",e),this.updateRasterFunction()}set url(e){this._set(\"url\",d(e,r.getLogger(this)))}get renderer(){if(\"imagery-tile\"!==this.type)return this.internalRenderer;const{activePresetRendererName:e,presetRenderers:t}=this;if(e){const i=t?.find(({name:t})=>t===e);return i?.renderer.clone()}return this.internalRenderer}set renderer(e){\"imagery-tile\"===this.type&&(this.activePresetRendererName=null),this.internalRenderer=e}set internalRenderer(e){null==e&&null==this.rasterFunction?this._configDefaultRenderer(\"override\"):(this._set(\"internalRenderer\",e),this.updateRenderer())}readRenderer(e,t,i){const r=t?.layerDefinition?.drawingInfo?.renderer;return V(r,i)||void 0}async computeStatisticsHistograms(e,t){await this.load(t),e=o($,e).clone();const{serviceRasterInfo:r}=this;if(null==r)throw new i(\"imagery-tile-mixin:compute-statistics-histograms\",\"serviceRasterInfo must be specified\");const{geometry:s}=e;if(null==s)throw new i(\"imagery-tile-mixin:compute-statistics-histograms\",\"geometry must be specified\");let n=s;const{spatialReference:a}=r;if(!s.spatialReference.equals(a)){await T();const e=\"extent\"===s.type?O(s,a):z(s,a);if(null==e)throw new i(\"imagery-tile-mixin:compute-statistics-histograms\",\"geometry cannot be projected to the data source\");n=e}const l=e.pixelSize??new u({x:r.pixelSize.x,y:r.pixelSize.y,spatialReference:a}),{extent:m,width:p,height:c}=D(r,n,l),d=await this.fetchPixels(m,p,c,{...t,interpolation:\"nearest\"});if(null==d.pixelBlock)throw new i(\"imagery-tile-mixin:compute-statistics-histograms\",\"failed to fetch pixels\");const h=await J(d.pixelBlock,m,n),f=this._rasterJobHandler;return f?f.computeStatisticsHistograms({pixelBlock:h},t):H(h)}normalizeRasterFetchOptions(e){const{multidimensionalInfo:t}=this.serviceRasterInfo??{};if(null==t)return e;const i=S({rasterInfo:this.raster.rasterInfo,multidimensionalDefinition:e.multidimensionalDefinition||this.multidimensionalDefinition,timeExtent:e.timeExtent??this.timeExtent,multidimensionalSubset:this.multidimensionalSubset});return{...e,multidimensionalDefinition:i,timeExtent:void 0}}async updateRasterFunction(){return this.loaded&&\"imagery-tile\"===this.type&&(this.rasterFunction||this._cachedRasterFunctionJson)&&JSON.stringify(this.rasterFunction)!==JSON.stringify(this._cachedRasterFunctionJson)?(this._cachedRasterFunctionJson=this.rasterFunction?.toJSON(),this._rasterFunctionUpdatePromise=this._updateRasterFunction(),this._rasterFunctionUpdatePromise):this._rasterFunctionUpdatePromise}async updateRenderer(){const{loaded:e,symbolizer:t,renderer:i}=this;if(!e||!t||!i)return;const{rasterInfo:r}=this.raster,s=v(r,{multidimensionalDefinition:this.multidimensionalDefinition,multidimensionalSubset:this.multidimensionalSubset}),n=s?.name,o=P(r,n);return this._updateSymbolizer(t,i,n,o)}async applyRenderer(e,t,i){const r=e?.pixelBlock;if(!(null!=r&&r.pixels&&r.pixels.length>0))return null;await this.updateRenderer();const s=this.bandIds??[],{pixelBlock:n}=await this._symbolize({pixelData:e,simpleStretchParams:t,bandIds:s,symbolizer:this.symbolizer},i);return n}getTileUrl(e,t,i){return\"RasterTileServer\"===this.raster.datasetFormat?`${this.url}/tile/${e}/${t}/${i}`:\"\"}getCompatibleTileInfo(e,t,i=!1){if(!this.loaded||null==t)return null;if(i&&e.equals(this.spatialReference))return this.tileInfo;const r=c(e);return R.create({size:256,spatialReference:e,origin:r?{x:r.origin[0],y:r.origin[1]}:{x:t.xmin,y:t.ymax}})}getCompatibleFullExtent(e){return this.loaded?(this._compatibleFullExtent?.spatialReference.equals(e)||(this._compatibleFullExtent=this.raster.computeExtent(e)),this._compatibleFullExtent):null}async fetchTile(e,i,r,s={}){if(ee(this),s.requestAsImageElement){const n=this.getTileUrl(e,i,r);return t(n,{responseType:\"image\",query:{...this.refreshParameters,...this.raster.ioConfig.customFetchParameters},signal:s.signal}).then(e=>e.data)}const{serviceRasterInfo:n}=this;if(null!=n.multidimensionalInfo&&null==(s=this.normalizeRasterFetchOptions(s)).multidimensionalDefinition){const t=s.tileInfo||n.storageInfo.tileInfo;return{extent:this.raster.getTileExtentFromTileInfo(e,i,r,t),pixelBlock:null}}return await this._initJobHandler(),await this.updateRasterFunction(),\"raster-shaded-relief\"===this.renderer?.type&&(s={...s,buffer:{cols:1,rows:1}}),this.raster.fetchTile(e,i,r,s)}async fetchPixels(e,t,i,r={}){return null!=this.serviceRasterInfo.multidimensionalInfo&&null==(r=this.normalizeRasterFetchOptions(r)).multidimensionalDefinition?{extent:e,pixelBlock:null}:(await this._initJobHandler(),await this.updateRasterFunction(),t=Math.round(t),i=Math.round(i),this.raster.fetchPixels(e,t,i,r))}async getSamples(e,t){if(await this.load(),(e=o(W,e).clone()).interpolation&&\"nearest\"!==e.interpolation)throw new i(\"imagery-tile-mixin:get-samples\",\"only nearest interpolation is currently supported\");const r=e.mosaicRule?.multidimensionalDefinition,s={...t,multidimensionalDefinition:r},n=(await this._getSampleLocations(e)).map(e=>this.identify(e,s).then(t=>(t.location=e,t))),a=(await Promise.all(n)).flatMap((e,t)=>this._convertRasterIdentifyResultToSample(e,t));return new K({samples:a})}async identify(e,t={}){await this.load();const{raster:r,serviceRasterInfo:s}=this;if(null!=s?.multidimensionalInfo){if(!(s.hasMultidimensionalTranspose&&!(!w(t.multidimensionalDefinition)&&!t.transposedVariableName))&&null==(t=this.normalizeRasterFetchOptions(t)).multidimensionalDefinition)return{location:e,value:null}}const n=this.multidimensionalSubset?.areaOfInterest;if(n&&!n.contains(e))throw new i(\"imagery-tile-mixin:identify\",\"the request cannot be fulfilled when falling outside of the multidimensional subset\");const o=this.serviceRasterInfo?.storageInfo.isBsqTile&&this.bandIds?.length?this.bandIds:void 0;return r.identify(e,{...t,bandIds:o})}hasStandardTime(){const e=this.serviceRasterInfo?.multidimensionalInfo;if(null==e||\"standard-time\"!==this.serviceRasterInfo?.dataType)return!1;const t=this.multidimensionalDefinition,i=t?.[0]?.variableName;return e.variables.some(e=>e.name===i&&(!t?.[0].dimensionName||e.dimensions.some(e=>\"StdTime\"===e.name)))}getStandardTimeValue(e){return new Date(F(e)).toISOString()}getMultidimensionalSubsetVariables(e){const t=e??this.serviceRasterInfo?.multidimensionalInfo;return _(this.multidimensionalSubset,t)}_configDefaultSettings(){this._configDefaultInterpolation(),this.multidimensionalDefinition||(this.multidimensionalDefinition=j(this.raster.rasterInfo,{multidimensionalSubset:this.multidimensionalSubset})),this.rasterFunction&&I(this.raster)&&(this._cachedRasterFunctionJson=this.rasterFunction.toJSON()),this._configDefaultRenderer()}async _initJobHandler(){if(!this._rasterJobHandler)return super._initJobHandler().then(async()=>{if(!this._rasterJobHandler)return;ee(this);const{raster:e}=this;e.rasterJobHandler=this._rasterJobHandler,I(e)&&e.syncJobHandler(),this.rasterFunction&&await this.updateRasterFunction().catch(()=>{}),this.renderer&&this.updateRenderer()}).catch(()=>{})}_shutdownJobHandler(){super._shutdownJobHandler(),this.raster&&(this.raster.rasterJobHandler=null)}async _getSampleLocations(e){const{geometry:t}=e;if(\"point\"===t.type)return[t];const{spatialReference:i,type:r}=t;if(\"multipoint\"===r)return t.points.map(e=>new u({x:e[0],y:e[1],spatialReference:i}));if(\"polyline\"===r){let r=t;if(e.sampleCount||e.sampleDistance){const i=await import(\"../../geometry/operators/densifyOperator.js\"),s=(await import(\"../../geometry/operators/lengthOperator.js\")).execute(t,{unit:\"meters\"}),n=Math.min(e.sampleCount||100,Q);let o=e.sampleDistance;if(!o){o=s/(n+(2===r.paths[0].length?1:0))}r=i.execute(t,o,{unit:\"meters\"})}return r.paths.flatMap(e=>e.map(e=>new u({x:e[0],y:e[1],spatialReference:i})))}const s=Math.min(e.sampleCount||100,Q),n=\"extent\"===t.type,o=n?t:t.extent,a=Math.sqrt(o.width*o.height/s),l=o.height/a,m=o.width/a,{xmin:p,ymax:c}=o,d=[];for(let h=0;h<l;h++)for(let e=0;e<m;e++){const r=new u({x:p+(e+.5)*a,y:c-(h+.5)*a,spatialReference:i});(n||t.contains(r))&&d.push(r)}return d}_configDefaultInterpolation(){if(null==this.interpolation){ee(this);const{raster:e}=this,t=E(e.rasterInfo,e.tileType,this.sourceJSON?.defaultResamplingMethod);this._set(\"interpolation\",t)}}_configDefaultRenderer(e=\"no\"){ee(this);const{rasterInfo:t}=this.raster,i=v(t,{multidimensionalDefinition:this.multidimensionalDefinition,multidimensionalSubset:this.multidimensionalSubset}),s=i?.name,n=C({variableName:s,rasterFunctionName:this.rasterFunction?.functionName,presetRenderers:this.presetRenderers});if(!this.bandIds&&t.bandCount>1&&(this.bandIds=n?.bandIds??M(t)),!this.renderer||\"override\"===e){const e=U(this.raster),i=n?.renderer??q(t,{bandIds:this.bandIds,variableName:s,rasterFunctionColorRamp:e}),r=t.statistics,o=r&&r.length>0?r[0]:null,a=o?.max??0,l=o?.min??0;\"WCSServer\"===this.raster.datasetFormat&&\"raster-stretch\"===i.type&&(a>1e24||l<-1e24)&&(i.dynamicRangeAdjustment=!0,i.customStatistics=null,\"none\"===i.stretchType&&(i.stretchType=\"min-max\")),this.renderer=i}const o=L({...this.renderer.toJSON(),variableName:s}),a=P(t,s);this.symbolizer?(this.symbolizer.rendererJSON=o,this.symbolizer.rasterInfo=a):this.symbolizer=new B({rendererJSON:o,rasterInfo:a});const l=this.symbolizer.bind();if(l.success){if(\"auto\"===e){const{colormap:e}=this.raster.rasterInfo,t=this.renderer;if(null!=e&&\"raster-colormap\"===t.type){const e=q(this.raster.rasterInfo);JSON.stringify(e)!==JSON.stringify(t)&&this._configDefaultRenderer(\"override\")}else if(\"raster-stretch\"===t.type){const e=this.bandIds?.length,i=t.customStatistics?.length;!t.dynamicRangeAdjustment&&i&&e&&i!==e&&this._configDefaultRenderer(\"override\")}}}else r.getLogger(this).warn(\"imagery-tile-mixin\",l.error||\"The given renderer is not supported by the layer.\"),\"auto\"===e&&this._configDefaultRenderer(\"override\")}async _updateRasterFunction(){if(this._isConstructedFromFunctionRaster&&I(this.raster)){const e=this.raster.rasterFunction.toJSON();return void(!this.rasterFunction&&e&&this._set(\"rasterFunction\",b.fromJSON(e)))}let e,t=this.raster,i=!1;I(t)?(e=t.primaryRasters.rasters,t=e[0],i=!0):e=[t];const{rasterFunction:r}=this;if(r){const i={raster:t};e.length>1&&e.forEach(e=>i[e.url]=e);const s=N(r.functionDefinition?.toJSON()??r.toJSON(),i),n=new x({rasterFunction:s});n.rasterJobHandler=this._rasterJobHandler,await n.open(),this.raster=n}else this.raster=t,await t.open();if(this._cachedRendererJson=void 0,!i&&!r)return;const{bandIds:s}=this,{bandCount:n}=this.raster.rasterInfo,o=s?.length?s.some(e=>e>=n):n>=3;s&&(o||this.renderer&&\"raster-stretch\"!==this.renderer.type)&&this._set(\"bandIds\",null),this._configDefaultRenderer(\"auto\")}_convertRasterIdentifyResultToSample(e,t){const{rasterInfo:i}=this.raster,r=i.storageInfo.pyramidScalingFactor**(e.pyramidLevel??0),s=(i.pixelSize.x+i.pixelSize.y)/2*r;if(!e.dataSeries?.length)return[new G({location:e.location,pixelValue:e.value,locationId:t,resolution:s})];const n=[];return e.dataSeries.forEach(({value:i,multidimensionalDefinition:r},o)=>{const a={Variables:r[0].variableName,Dimensions:r.flatMap(({dimensionName:e})=>e).join(\",\")};for(const{dimensionName:e,values:t}of r){a[e]=Array.isArray(t[0])?t[0][0]:t[0];const i=t[t.length-1];a[`${e}_Max`]=Array.isArray(i)?i[i.length-1]:i}const l=new G({location:e.location,pixelValue:i,rasterId:o,locationId:t,resolution:s,attributes:a});n.push(l)}),n}};function ee(e){if(!e.raster||!e.serviceRasterInfo)throw new i(\"imagery-tile\",\"no raster\")}return e([s({clonable:!1})],Z.prototype,\"_cachedRasterFunctionJson\",void 0),e([s({clonable:!1})],Z.prototype,\"_compatibleFullExtent\",void 0),e([s({clonable:!1})],Z.prototype,\"_isConstructedFromFunctionRaster\",void 0),e([s({clonable:!1})],Z.prototype,\"_rasterFunctionUpdatePromise\",void 0),e([s({type:[n],json:{write:{overridePolicy(){return{enabled:!this.loaded||\"Raster\"===this.raster.tileType||\"0,1,2\"!==this.bandIds?.join(\",\")}}}}})],Z.prototype,\"bandIds\",void 0),e([s({json:{origins:{service:{read:{source:\"copyrightText\"}}}}})],Z.prototype,\"copyright\",void 0),e([s({json:{read:!1}})],Z.prototype,\"fullExtent\",null),e([s({json:{write:{overridePolicy(){return{enabled:!this.loaded||\"Raster\"===this.raster.tileType||\"bilinear\"!==this.interpolation}}}}}),a(g)],Z.prototype,\"interpolation\",void 0),e([s()],Z.prototype,\"ioConfig\",void 0),e([s({type:[f],json:{write:!0}})],Z.prototype,\"multidimensionalDefinition\",null),e([s({type:y,json:{write:!0}})],Z.prototype,\"multidimensionalSubset\",void 0),e([s()],Z.prototype,\"raster\",void 0),e([s({type:b})],Z.prototype,\"rasterFunction\",null),e([s()],Z.prototype,\"serviceRasterInfo\",void 0),e([s()],Z.prototype,\"sourceJSON\",void 0),e([s({readOnly:!0,type:p,json:{read:!1}})],Z.prototype,\"spatialReference\",void 0),e([s({type:R})],Z.prototype,\"tileInfo\",void 0),e([s(h)],Z.prototype,\"url\",null),e([s()],Z.prototype,\"renderer\",null),e([s({types:A,json:{name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy(){const e=\"raster-stretch\"===this.renderer?.type&&\"none\"===this.renderer.stretchType&&!this.renderer.useGamma;return{enabled:!this.loaded||\"Raster\"===this.raster.tileType||!e}}},origins:{\"web-scene\":{types:k,name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy:e=>({enabled:e&&\"vector-field\"!==e.type&&\"flow\"!==e.type})}}}}})],Z.prototype,\"internalRenderer\",null),e([l(\"internalRenderer\")],Z.prototype,\"readRenderer\",null),e([s({clonable:!1})],Z.prototype,\"symbolizer\",void 0),Z=e([m(\"esri.layers.mixins.ImageryTileMixin\")],Z),Z};export{X as ImageryTileMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../request.js\";import i from\"../../../core/Error.js\";import{JSONSupport as o}from\"../../../core/JSONSupport.js\";import r from\"../../../core/Logger.js\";import{onAbort as n}from\"../../../core/promiseUtils.js\";import{QueueProcessor as s}from\"../../../core/QueueProcessor.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import{ensureClass as a}from\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import f from\"../../../geometry/Extent.js\";import m from\"../../../geometry/Point.js\";import u from\"../../../geometry/SpatialReference.js\";import{sanitizeUrl as h}from\"../arcgisLayerUrl.js\";import{url as p}from\"../commonProperties.js\";import d from\"../DimensionalDefinition.js\";import x from\"../LOD.js\";import y from\"../RasterStorageInfo.js\";import g from\"../TileInfo.js\";import{isFunctionRaster as I}from\"./datasetUtils.js\";import{isMultiSliceOrRangeDefinition as R,getSliceIndex as w,createSlices as S,getSliceIds as k}from\"./multidimensionalUtils.js\";import{getRasterId as v,getBlock as T,putBlock as b,deleteBlock as P,decreaseRefCount as B}from\"./RawBlockCache.js\";import{convertNoDataToMask as _}from\"../rasterFormats/pixelRangeUtils.js\";import{decode as M}from\"../rasterFormats/RasterCodec.js\";import{mosaic as C,approximateTransform as W,getLocalArithmeticNorthRotations as j}from\"../rasterFunctions/pixelUtils.js\";import{getWorldWidth as z,load as H,projectPoint as L,snapPyramid as E,shiftExtent as D,getWorldWrapCount as O,projectExtent as F,getProjectionOffsetGrid as A,getRasterDatasetAlignmentInfo as G,projectResolution as q}from\"../rasterFunctions/rasterProjectionHelper.js\";import{convertToLocalDirections as N,uvComponentToVector as J}from\"../rasterFunctions/vectorFieldUtils.js\";const V=8,U=256;let Q=0,$=class extends o{constructor(){super(...arguments),this._tileFetchQueue=new s({concurrency:32,process:(e,t)=>this._fetchRawTile(e.pyramidLevel,e.row,e.col,{...e.options,signal:t})}),this.datasetName=null,this.datasetFormat=null,this.hasUniqueSourceStorageInfo=!0,this.rasterInfo=null,this.ioConfig={sampling:\"closest\"}}normalizeCtorArgs(e){return e?.ioConfig&&(e={...e,ioConfig:{resolution:null,bandIds:null,sampling:\"closest\",tileInfo:g.create(),...e.ioConfig}}),e}get _isGlobalWrappableSource(){const{rasterInfo:e}=this,t=z(e.spatialReference);return null!=t&&e.extent.width>=t/2}get _hasNoneOrGCSShiftTransform(){const{transform:e}=this.rasterInfo;return null==e||\"gcs-shift\"===e.type}set rasterJobHandler(e){this._set(\"rasterJobHandler\",e),I(this)&&this.primaryRasters?.rasters?.forEach(t=>t.rasterJobHandler=e)}get rasterId(){return this.url||\"rasterId-\"+Q++}set url(e){this._set(\"url\",h(e,r.getLogger(this)))}async open(e){return this._openPromise??=H().then(()=>this._open(e)),this._openPromise}async fetchTile(e,t,i,o={}){const r=o.tileInfo||this.rasterInfo.storageInfo.tileInfo,n=this.getTileExtentFromTileInfo(e,t,i,r);return o={noClip:!0,...o},this.fetchPixels(n,r.size[0],r.size[1],o)}async identify(e,t={}){e=a(m,e).clone().normalize();const{multidimensionalDefinition:i,timeExtent:o}=t,{rasterInfo:r}=this,{hasMultidimensionalTranspose:n,multidimensionalInfo:s}=r;let{transposedVariableName:l}=t;const c=null!=s&&n&&(null!=o||R(i));if(c&&!l){l=null!=i&&i.length>0?i[0].variableName??void 0:s.variables[0].name,t={...t,transposedVariableName:l}}t=this._getRequestOptionsWithSliceId(t);const{spatialReference:u,extent:h}=r,{datumTransformation:p}=t;let d=L(e,u,p);if(!h.intersects(d))return{location:d,value:null};if(null!=r.transform){const e=r.transform.inverseTransform(d);if(!r.nativeExtent.intersects(e))return{location:e,value:null};d=e}let x=0;const y=null!=l&&null!=s&&r.hasMultidimensionalTranspose;if(I(this)){const e=this.primaryRasters.rasters[0];if(y)return e.identify(d,t);const{pixelSize:o}=r,n=3,s=o.x*n/2,l=o.y*n/2,a=new f({xmin:d.x-s,xmax:d.x+s,ymin:d.y-l,ymax:d.y+l,spatialReference:u}),c={interpolation:\"nearest\",multidimensionalDefinition:i,sliceId:t.sliceId},{pixelBlock:m}=await e.fetchPixels(a,n,n,c),{pixelBlock:h}=await this.fetchPixels(a,n,n,c);if(null==m)return{location:d,value:null};const p=Math.floor(n*n*.5),x=!m.mask||m.mask[p]?m.pixels.map(e=>e[p]):null;let g;return null!=h&&(g=!h.mask||h.mask[p]?h.pixels.map(e=>e[p]):void 0),{location:d,value:x,processedValue:g,pyramidLevel:0}}if(!y)if(t.srcResolution){x=E(t.srcResolution,r,this.ioConfig.sampling).pyramidLevel}else if(x=await this.computeBestPyramidLevelForLocation(e,t),null==x)return{location:d,value:null};const g=this.identifyPixelLocation(d,x,null,y);if(null===g)return{location:d,value:null};const{row:w,col:S,rowOffset:k,colOffset:v,blockWidth:T}=g,b=await this._tileFetchQueue.push({pyramidLevel:x,row:w,col:S,options:t},{signal:t.signal});if(!b?.pixels?.length)return{location:d,value:null};const P=k*T+v;return this._processIdentifyResult(b,{srcLocation:d,position:P,pyramidLevel:x,useTransposedTile:!!y,requestSomeSlices:c,identifyOptions:t})}async fetchPixels(e,t,i,o={}){e=D(e),o=this._getRequestOptionsWithSliceId(o);const{_hasNoneOrGCSShiftTransform:r}=this;if(o.requestRawData&&r)return this._fetchPixels(e,t,i,o);const n=z(e.spatialReference),s=O(e);if(null==n||0===s||1===s&&this._isGlobalWrappableSource&&r)return this._fetchPixels(e,t,i,o);if(s>=3)return{extent:e,pixelBlock:null};const l=[],{xmin:a,xmax:c}=e,m=Math.round(n/(c-a)*t),u=m-Math.round((n/2-a)/(c-a)*t);let h=0;const p=[];for(let g=0;g<=s;g++){const r=new f({xmin:0===g?a:-n/2,xmax:g===s?c-n*g:n/2,ymin:e.ymin,ymax:e.ymax,spatialReference:e.spatialReference}),d=0===g?m-u:g===s?t-h:m;h+=d,p.push(d);const x=o.disableWrapAround&&g>0?null:this._fetchPixels(r,d,i,o);l.push(x)}const d=(await Promise.all(l)).map(e=>e?.pixelBlock);let x=null;const y={width:t,height:i};if(this.rasterJobHandler){x=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:d,srcMosaicSize:y,destDimension:null,coefs:null,sampleSpacing:null,interpolation:\"nearest\",alignmentInfo:null,blockWidths:p},o)).pixelBlock}else x=C(d,y,{blockWidths:p});return{extent:e,srcExtent:F(e,this.rasterInfo.spatialReference,o.datumTransformation),pixelBlock:x}}async fetchRawPixels(e,t,i,o={}){t={x:Math.floor(t.x),y:Math.floor(t.y)};const r=await this._fetchRawTiles(e,t,i,o),{nativeExtent:n,nativePixelSize:s,storageInfo:l}=this.rasterInfo,a=2**e,c=s.x*a,m=s.y*a,u=new f({xmin:n.xmin+c*t.x,xmax:n.xmin+c*(t.x+i.width-1),ymin:n.ymax-m*(t.y+i.height-1),ymax:n.ymax-m*t.y,spatialReference:n.spatialReference});if(!r)return{extent:u,srcExtent:u,pixelBlock:null};const{pixelBlocks:h,mosaicSize:p}=r;if(1===h.length&&null!=h[0]&&h[0].width===i.width&&h[0].height===i.height)return{extent:u,srcExtent:u,pixelBlock:r.pixelBlocks[0]};const d=e>0?l.pyramidBlockWidth:l.blockWidth,x=e>0?l.pyramidBlockHeight:l.blockHeight,y={x:t.x%d,y:t.y%x};let g;if(this.rasterJobHandler){g=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:h,srcMosaicSize:p,destDimension:i,clipOffset:y,clipSize:i,coefs:null,sampleSpacing:null,interpolation:o.interpolation,alignmentInfo:null,blockWidths:null},o)).pixelBlock}else g=C(h,p,{clipOffset:y,clipSize:i});return{extent:u,srcExtent:u,pixelBlock:g}}fetchRawTile(e,t,o,r){throw new i(\"BaseRaster:read-not-implemented\",\"fetchRawTile() is not implemented\")}computeExtent(e){return F(this.rasterInfo.extent,e)}decodePixelBlock(e,t){return!this.rasterJobHandler||t.useCanvas?M(e,t):this.rasterJobHandler.decode({data:e,options:t})}async request(e,i,o=0){const{customFetchParameters:r}=this.ioConfig,{range:n,query:s,headers:l}=i;o=o??i.retryCount??this.ioConfig.retryCount;const a=n?{Range:`bytes=${n.from}-${n.to}`}:null;try{return await t(e,{...i,query:{...s,...r},headers:{...l,...a}})}catch(c){if(o>0)return o--,this.request(e,i,o);throw c}}getSliceIndex(e){const{multidimensionalInfo:t}=this.rasterInfo;return null==t||null==e||0===e.length?null:w(e,t)}getTileExtentFromTileInfo(e,t,i,o){const r=o.lodAt(e);return this.getTileExtent({x:r.resolution,y:r.resolution},t,i,o.origin,o.spatialReference,o.size)}updateTileInfo(){const{storageInfo:e,spatialReference:t,extent:i,pixelSize:o}=this.rasterInfo,{pyramidResolutions:r}=e;if(!e.tileInfo){const n=[],s=e.maximumPyramidLevel||0;let l=(o.x+o.y)/2,a=1/.0254*96*l;for(let e=0;e<=s&&(n.unshift(new x({level:s-e,resolution:l,scale:a})),e!==s);e++)if(r){const t=(r[e].x+r[e].y)/2;a*=t/l,l=t}else l*=2,a*=2;const c=new m({x:i.xmin,y:i.ymax,spatialReference:t});e.tileInfo=new g({origin:c,size:[e.blockWidth,e.blockHeight],spatialReference:t,lods:n}),e.isVirtualTileInfo=!0}}createRemoteDatasetStorageInfo(e,t=512,i=512,o){const{width:r,height:n,nativeExtent:s,pixelSize:l,spatialReference:a}=e,c=new m({x:s.xmin,y:s.ymax,spatialReference:a});null==o&&(o=Math.max(0,Math.round(Math.log(Math.max(r,n))/Math.LN2-8)));const f=this.computeBlockBoundary(s,512,512,{x:s.xmin,y:s.ymax},[l],o);e.storageInfo=new y({blockWidth:t,blockHeight:i,pyramidBlockWidth:t,pyramidBlockHeight:i,origin:c,firstPyramidLevel:1,maximumPyramidLevel:o,blockBoundary:f})}async computeBestPyramidLevelForLocation(e,t={}){return 0}computeBlockBoundary(e,t,i,o,r,n=0,s=2){if(1===r.length&&n>0){r=[...r];let{x:e,y:t}=r[0];for(let i=0;i<n;i++)e*=s,t*=s,r.push({x:e,y:t})}const l=[],{x:a,y:c}=o;for(let f=0;f<r.length;f++){const{x:o,y:n}=r[f];l.push({minCol:Math.floor((e.xmin-a+.1*o)/t/o),maxCol:Math.floor((e.xmax-a-.1*o)/t/o),minRow:Math.floor((c-e.ymax+.1*n)/i/n),maxRow:Math.floor((c-e.ymin-.1*n)/i/n)})}return l}getPyramidPixelSize(e){const{nativePixelSize:t}=this.rasterInfo,{pyramidResolutions:i,pyramidScalingFactor:o}=this.rasterInfo.storageInfo;if(0===e)return t;if(null!=i&&i.length)return i[e-1];const r=o**e;return{x:t.x*r,y:t.y*r}}identifyPixelLocation(e,t,i,o){const{spatialReference:r,nativeExtent:n,storageInfo:s}=this.rasterInfo,{maximumPyramidLevel:l,origin:a,transposeInfo:c}=s,f=o&&null!=c?c.tileSize[0]:s.blockWidth,m=o&&null!=c?c.tileSize[1]:s.blockHeight,u=L(e,r,i);if(!n.intersects(u))return null;if(t<0||t>l)return null;const h=this.getPyramidPixelSize(t),{x:p,y:d}=h,x=(a.y-u.y)/d/m,y=(u.x-a.x)/p/f,g=Math.min(m-1,Math.floor((x-Math.floor(x))*m)),I=Math.min(f-1,Math.floor((y-Math.floor(y))*f));return{pyramidLevel:t,row:Math.floor(x),col:Math.floor(y),rowOffset:g,colOffset:I,blockWidth:f,srcLocation:u}}getTileExtent(e,t,i,o,r,n){const[s,l]=n,a=o.x+i*s*e.x,c=a+s*e.x,m=o.y-t*l*e.y,u=m-l*e.y;return new f({xmin:a,xmax:c,ymin:u,ymax:m,spatialReference:r})}getBlockWidthHeight(e){return{blockWidth:e>0?this.rasterInfo.storageInfo.pyramidBlockWidth:this.rasterInfo.storageInfo.blockWidth,blockHeight:e>0?this.rasterInfo.storageInfo.pyramidBlockHeight:this.rasterInfo.storageInfo.blockHeight}}isBlockOutside(e,t,i){const o=this.rasterInfo.storageInfo.blockBoundary[e];return!o||o.maxRow<t||o.maxCol<i||o.minRow>t||o.minCol>i}updateImageSpaceRasterInfo(e){const{pixelSize:t}=e,{width:i,height:o}=e,r=u.WebMercator;e.spatialReference=r,e.extent=e.nativeExtent=new f({xmin:-.5,ymax:.5,xmax:i-.5,ymin:.5-o,spatialReference:r}),e.isPseudoSpatialReference=!0,e.transform=null,e.pixelSize=new m({x:1,y:1,spatialReference:r});const{extent:n,storageInfo:s}=e;if(s){s.origin=new m({x:n.xmin,y:n.ymax,spatialReference:r});const{pyramidResolutions:i,tileInfo:o}=s;if(i&&i.forEach(e=>{e.x/=t.x,e.y/=t.y}),o){o.origin=s.origin;const t=(e.nativePixelSize.x+e.nativePixelSize.y)/2;o.lods.forEach((e,i)=>{e.resolution=t*2**i,e.scale=96*e.resolution/.0254})}}}async _fetchPixels(e,t,i,o={}){let r=O(e);if(r>=2)return{extent:e,pixelBlock:null};const n=this._getSourceDataInfo(e,t,i,o),{pyramidLevel:s,srcResolution:l,srcExtent:a,srcWidth:c,srcHeight:f,ul:u}=n;if(0===c||0===f)return{extent:e,srcExtent:a,pixelBlock:null};const{rasterInfo:h}=this,p=h.transform,d=\"gcs-shift\"===p?.type,x=null!=z(e.spatialReference);!d&&x||(r=O(n.srcExtent,d));const y=await this._fetchRawTiles(s,u,{width:c,height:f,wrapCount:r},o);if(!y)return{extent:e,srcExtent:a,pixelBlock:null};const g=h.storageInfo,I=s>0?g.pyramidBlockWidth:g.blockWidth,R=s>0?g.pyramidBlockHeight:g.blockHeight;let{x:w,y:S}=h.pixelSize;if(s>0){const{pyramidResolutions:e,pyramidScalingFactor:t}=g;if(null!=e&&e[s-1])({x:w,y:S}=e[s-1]);else{const e=t**s;w*=e,S*=e}}const k=h.spatialReference,v=new m({x:w,y:S,spatialReference:k}),T=I===c&&R===f&&u.x%I===0&&u.y%R===0,b=new m({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/i,spatialReference:e.spatialReference}),P=!e.spatialReference.equals(k),B=k.isGeographic?1e-9:1e-4,{datumTransformation:_}=o;if(!P&&T&&1===y.pixelBlocks.length&&I===t&&R===i&&X(l,b,B))return{extent:e,srcExtent:a,srcTilePixelSize:v,pixelBlock:y.pixelBlocks[0]};const M=x&&null!=z(a.spatialReference)&&this._hasNoneOrGCSShiftTransform,L=o.requestProjectedLocalDirections&&this.rasterInfo.dataType.startsWith(\"vector\");L&&!this.rasterJobHandler&&await H();const E=this.rasterJobHandler?await this.rasterJobHandler.getProjectionOffsetGrid({projectedExtent:e,srcBufferExtent:y.extent,pixelSize:b.toJSON(),datumTransformation:_,rasterTransform:p,hasWrapAround:r>0||M,isAdaptive:!1!==this.ioConfig.optimizeProjectionAccuracy,includeGCSGrid:L},o):A({projectedExtent:e,srcBufferExtent:y.extent,pixelSize:b,datumTransformation:_,rasterTransform:p,hasWrapAround:r>0||M,isAdaptive:!1,includeGCSGrid:L});let D;const F=!o.requestRawData,G={rows:E.spacing[0],cols:E.spacing[1]},q=this._hasNoneOrGCSShiftTransform?this._getRasterTileAlignmentInfo(s,y.extent.xmin):void 0,{pixelBlocks:J,mosaicSize:V,isPartiallyFilled:U}=y;let Q=null;if(this.rasterJobHandler){const e=await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:J,srcMosaicSize:V,destDimension:F?{width:t,height:i}:null,coefs:F?E.coefficients:null,sampleSpacing:F?G:null,projectDirections:L,gcsGrid:L?E.gcsGrid:null,isUV:\"vector-uv\"===this.rasterInfo.dataType,interpolation:o.interpolation,alignmentInfo:q,blockWidths:null},o);({pixelBlock:D,localNorthDirections:Q}=e)}else{const e=C(J,V,{alignmentInfo:q});D=F?W(e,{width:t,height:i},E.coefficients,G,o.interpolation):e,L&&E.gcsGrid&&(Q=j({width:t,height:i},E.gcsGrid),D=N(D,this.rasterInfo.dataType,Q))}return o.requestRawData||L?{extent:e,srcExtent:a,srcTilePixelSize:v,pixelBlock:D,transformGrid:E,localNorthDirections:Q,isPartiallyFilled:U}:{extent:e,srcExtent:a,srcTilePixelSize:v,pixelBlock:D}}async _fetchRawTiles(e,t,i,o){const{origin:r,blockBoundary:n}=this.rasterInfo.storageInfo,{blockWidth:s,blockHeight:l}=this.getBlockWidthHeight(e);let{x:a,y:c}=t,{width:m,height:u,wrapCount:h}=i;const p=this._getRasterTileAlignmentInfo(e,0);o.buffer&&(a-=o.buffer.cols,c-=o.buffer.rows,m+=2*o.buffer.cols,u+=2*o.buffer.rows);let d=0,x=0,y=0;if(h&&null!=p){({worldColumnCountFromOrigin:x,originColumnOffset:y,rightPadding:d}=p);x*p.blockWidth-d>=a+m&&(d=0)}const g=Math.floor(a/s),I=Math.floor(c/l),R=Math.floor((a+m+d-1)/s),w=Math.floor((c+u+d-1)/l),S=n[e];if(!S)return null;const{minRow:k,minCol:v,maxCol:T,maxRow:b}=S;if(0===h&&(w<k||R<v||I>b||g>T))return null;const P=new Array;let B=!1;const _=null==this.ioConfig.allowPartialFill?o.allowPartialFill:this.ioConfig.allowPartialFill;for(let f=I;f<=w;f++)for(let t=g;t<=R;t++){let i=t;if(!o.disableWrapAround&&h&&null!=p&&x<=t&&(i=t-x-y),f>=k&&i>=v&&b>=f&&T>=i){const t=this._tileFetchQueue.push({pyramidLevel:e,row:f,col:i,options:o},{signal:o.signal});_?P.push(new Promise(e=>{t.then(t=>e(t)).catch(()=>{B=!0,e(null)})})):P.push(t)}else P.push(Promise.resolve(null))}if(0===P.length)return null;const M=await Promise.all(P),C={height:(w-I+1)*l,width:(R-g+1)*s},{spatialReference:W}=this.rasterInfo,j=this.getPyramidPixelSize(e),{x:z,y:H}=j;return{extent:new f({xmin:r.x+g*s*z,xmax:r.x+(R+1)*s*z,ymin:r.y-(w+1)*l*H,ymax:r.y-I*l*H,spatialReference:W}),pixelBlocks:M,mosaicSize:C,isPartiallyFilled:B}}_fetchRawTile(e,t,i,o){const{storageInfo:r}=this.rasterInfo,s=null!=r.transposeInfo&&!!o.transposedVariableName;if(!s){const o=r.blockBoundary[e];if(!o)return Promise.resolve(null);const{minRow:n,minCol:s,maxCol:l,maxRow:a}=o;if(t<n||i<s||t>a||i>l)return Promise.resolve(null)}const l=s?o.transposeVariableName:o.sliceId,a=this.rasterInfo.storageInfo.isBsqTile?o.bandIds:null,c=v(this.rasterId,l,a),f=`${e}/${t}/${i}`;let m=T(c,o.registryId,f);if(null==m){const r=new AbortController;m=this.fetchRawTile(e,t,i,{...o,signal:r.signal}),b(c,o.registryId,f,m,r),m.catch(()=>P(c,o.registryId,f))}return o.signal&&n(o,()=>{B(c,o.registryId,f)}),m}_computeMagDirValues(e){const{bandCount:t,dataType:i}=this.rasterInfo;if(!(2===t&&\"vector-magdir\"===i||\"vector-uv\"===i)||2!==e?.length||!e[0]?.length)return null;const o=e[0].length;if(\"vector-magdir\"===i){const t=e[1].map(e=>(e+360)%360);return[e[0],t]}const[r,n]=e,s=[],l=[];for(let a=0;a<o;a++){const[e,t]=J([r[a],n[a]]);s.push(e),l.push(t)}return[s,l]}_getRasterTileAlignmentInfo(e,t){return null==this._rasterTileAlignmentInfo&&(this._rasterTileAlignmentInfo=G(this.rasterInfo)),null==this._rasterTileAlignmentInfo.pyramidsInfo?null:{startX:t,halfWorldWidth:this._rasterTileAlignmentInfo.halfWorldWidth,hasGCSSShiftTransform:this._rasterTileAlignmentInfo.hasGCSSShiftTransform,...this._rasterTileAlignmentInfo.pyramidsInfo[e]}}_getSourceDataInfo(e,t,i,o={}){const r={datumTransformation:o.datumTransformation,pyramidLevel:0,pyramidResolution:null,srcExtent:null,srcHeight:0,srcResolution:null,srcWidth:0,ul:{x:0,y:0}};o.srcResolution&&(r.srcResolution=o.srcResolution,this._updateSourceDataInfo(e,r));const n=this.rasterInfo.storageInfo.maximumPyramidLevel||0,{srcWidth:s,srcHeight:l,pyramidLevel:a}=r,c=s/t,f=l/i,u=a<n&&c*f>=16,h=a===n&&this._requireTooManySrcTiles(s,l,t,i);if(u||h||(0===s||0===l)){const s=new m({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/i,spatialReference:e.spatialReference});let l=q(s,this.rasterInfo.spatialReference,e,r.datumTransformation);const h=!l||o.srcResolution&&l.x+l.y<o.srcResolution.x+o.srcResolution.y;if(u&&o.srcResolution&&h){const e=Math.round(Math.log(Math.max(c,f))/Math.LN2)-1;if(n-a+3>=e){const t=2**e;l={x:o.srcResolution.x*t,y:o.srcResolution.y*t}}}l&&(r.srcResolution=l,this._updateSourceDataInfo(e,r))}return this._requireTooManySrcTiles(r.srcWidth,r.srcHeight,t,i)&&(r.srcWidth=0,r.srcHeight=0),r}_requireTooManySrcTiles(e,t,i,o){const{tileInfo:r}=this.rasterInfo.storageInfo,n=Math.ceil(e/r.size[0])*Math.ceil(t/r.size[1]),s=e/i,l=t/o,a=Math.max(1,(i+o)/1024);return n>=U*a||s>V||l>V}_updateSourceDataInfo(e,t){t.srcWidth=0,t.srcHeight=0;const{rasterInfo:i}=this,o=i.spatialReference,{srcResolution:r,datumTransformation:n}=t,{pyramidLevel:s,pyramidResolution:l,excessiveReading:a}=E(r,i,this.ioConfig.sampling);if(a)return;let c=t.srcExtent||F(e,o,n);if(null==c)return;const f=i.transform;f&&(c=f.inverseTransform(c)),t.srcExtent=c;const{x:m,y:u}=i.storageInfo.origin,h=Math.floor((c.xmin-m)/l.x+.1),p=Math.floor((u-c.ymax)/l.y+.1),d=Math.floor((c.xmax-m)/l.x-.1),x=Math.floor((u-c.ymin)/l.y-.1),y=c.width<.1*l.x?0:d-h+1,g=c.height<.1*l.y?0:x-p+1;t.pyramidLevel=s,t.pyramidResolution=l,t.srcWidth=y,t.srcHeight=g,t.ul={x:h,y:p}}_getRequestOptionsWithSliceId(e){return null!=this.rasterInfo.multidimensionalInfo&&null==e.sliceId&&(e={...e,sliceId:this.getSliceIndex(e.multidimensionalDefinition)}),e}_processIdentifyResult(e,t){const{srcLocation:i,position:o,pyramidLevel:r,useTransposedTile:n}=t,s=e.pixels[0].length/e.width/e.height;if(!(!e.mask||e.mask[o]))return{location:i,value:null};const{multidimensionalInfo:l}=this.rasterInfo;if(null==l||!n){const t=e.pixels.map(e=>e[o]),n={location:i,value:t,pyramidLevel:r},s=this._computeMagDirValues(t.map(e=>[e]));return s?.length&&(n.magdirValue=s.map(e=>e[0])),n}let a=e.pixels.map(e=>e.slice(o*s,o*s+s)),c=this._computeMagDirValues(a);const{requestSomeSlices:f,identifyOptions:m}=t;let u=S(l,m.transposedVariableName);if(f){const e=k(u,m.multidimensionalDefinition,m.timeExtent);a=a.map(t=>e.map(e=>t[e])),c=c?.map(t=>e.map(e=>t[e])),u=e.map(e=>u[e])}const h=e.noDataValues||this.rasterInfo.noDataValue,p={pixels:a,pixelType:e.pixelType};let x;null!=h&&(_(p,h),x=p.mask);return{location:i,value:null,dataSeries:u.map((e,t)=>{const i={value:0===x?.[t]?null:a.map(e=>e[t]),multidimensionalDefinition:e.multidimensionalDefinition.map(e=>new d({...e,isSlice:!0}))};return c?.length&&(i.magdirValue=[c[0][t],c[1][t]]),i}),pyramidLevel:r}}};function X(e,t,i){return Math.abs(e.x-t.x)<i&&Math.abs(e.y-t.y)<i}e([l()],$.prototype,\"_rasterTileAlignmentInfo\",void 0),e([l()],$.prototype,\"_tileFetchQueue\",void 0),e([l({readOnly:!0})],$.prototype,\"_isGlobalWrappableSource\",null),e([l({readOnly:!0})],$.prototype,\"_hasNoneOrGCSShiftTransform\",null),e([l()],$.prototype,\"_openPromise\",void 0),e([l()],$.prototype,\"rasterJobHandler\",null),e([l({readOnly:!0})],$.prototype,\"rasterId\",null),e([l(p)],$.prototype,\"url\",null),e([l({type:String,json:{write:!0}})],$.prototype,\"datasetName\",void 0),e([l({type:String,json:{write:!0}})],$.prototype,\"datasetFormat\",void 0),e([l()],$.prototype,\"hasUniqueSourceStorageInfo\",void 0),e([l()],$.prototype,\"rasterInfo\",void 0),e([l()],$.prototype,\"ioConfig\",void 0),e([l()],$.prototype,\"sourceJSON\",void 0),$=e([c(\"esri.layers.support.rasterDatasets.BaseRaster\")],$);export{$ as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../core/Error.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../geometry/Polygon.js\";import a from\"./BaseRaster.js\";import{clip as o}from\"../rasterFunctions/clipUtils.js\";import{approximateTransform as n}from\"../rasterFunctions/pixelUtils.js\";import{projectPolygon as l}from\"../rasterFunctions/rasterProjectionHelper.js\";import c from\"../../../rest/support/FeatureSet.js\";const p=40;let m=class extends a{constructor(){super(...arguments),this.datasetFormat=\"Function\",this.tileType=\"Raster\",this.rasterFunction=null,this._clippingGeometry=new Map}async fetchPixels(t,e,r,s={}){const{rasters:i,rasterIds:a}=this.primaryRasters;let l=!1;const{interpolation:c}=s,p=this.rasterFunction.flatWebGLFunctionChain?.hasFocalFunction;!s.requestRawData&&p&&(l=1===i.length&&!s.skipRasterFunction,s={...s,interpolation:\"bilinear\",requestRawData:l}),s.requestRawData&&i.length>1&&!this.hasUniqueSourceStorageInfo&&(l=!1,s={...s,requestRawData:!1});const m=i.map(i=>i.fetchPixels(t,e,r,s)),u=await Promise.all(m),h=u.map(t=>t.pixelBlock),d=l||s.requestRawData?u.map(t=>t.srcTilePixelSize):null;if(s.skipRasterFunction||h.every(t=>null==t))return u[0];const f=u.find(t=>null!=t.pixelBlock)?.extent??t;let y=this.rasterJobHandler?await this.rasterJobHandler.process({extent:f,primaryPixelBlocks:h,primaryPixelSizes:d,primaryRasterIds:a}):this.rasterFunction.process({extent:f,primaryPixelBlocks:h,primaryPixelSizes:d,primaryRasterIds:a});const{transformGrid:g}=u[0];if(!l||null==y||null==g){const t=s.noClip?null:this.getClippingGeometry(f.spatialReference);return s.noClip||s.requestRawData||null==y||!t||(y=await o(y,f,t)),{...u[0],pixelBlock:y}}const x={rows:g.spacing[0],cols:g.spacing[1]};let R;if(this.rasterJobHandler){R=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:[y],srcMosaicSize:{width:y.width,height:y.height},destDimension:{width:e,height:r},coefs:g.coefficients,sampleSpacing:x,projectDirections:!1,gcsGrid:null,isUV:!1,interpolation:c,alignmentInfo:void 0,blockWidths:null},s)).pixelBlock}else R=n(y,{width:e,height:r},g.coefficients,x,c);const w=s.noClip?null:this.getClippingGeometry(t.spatialReference);return s.noClip||s.requestRawData||null==R||null==w||(R=await o(R,t,w)),{extent:t,srcExtent:u[0].srcExtent,pixelBlock:R}}getClippingGeometry(t){const e=this._clippingGeometry.get(\"0\");if(!t||!e)return e;const r=h(t);let s=this._clippingGeometry.get(r);return null!=s||(s=t.equals(e.spatialReference)?e:l(e,t),this._clippingGeometry.set(r,s)),s}async _open(t){const{rasterFunction:r}=this;r.isRoot=!0,this.primaryRasters?.rasters?.length?r.sourceRasters=this.primaryRasters.rasters:(this.primaryRasters=r.getPrimaryRasters(),this.rasterJobHandler&&this.primaryRasters.rasters?.forEach(t=>t.rasterJobHandler=this.rasterJobHandler));const{rasters:s,rasterIds:i}=this.primaryRasters,a=s.map(e=>e.rasterInfo?void 0:e.open(t));await Promise.all(a);const o=s.map(({rasterInfo:t})=>t),n=r.bind({rasterInfos:o,rasterIds:i});if(r.rawSourceRasterInfos=o,!n.success||0===o.length)throw new e(\"raster-function:open\",`cannot bind the function: ${n.error??\"\"}`);const l=\"Table\"===r.functionName?r:r.functionArguments?.raster;\"Table\"===l?.functionName&&(r.rasterInfo.attributeTable=c.fromJSON(l.functionArguments.attributeTableAsRecordSet)),await this.syncJobHandler();const p=o[0];this.hasUniqueSourceStorageInfo=1===o.length||o.slice(1).every(t=>u(t,p)),this.set(\"sourceJSON\",s[0].sourceJSON),this.set(\"rasterInfo\",r.rasterInfo),await this._updateClipGeometry()}async syncJobHandler(){return this.rasterJobHandler?.updateRasterFunction(this.rasterFunction)}async _updateClipGeometry(){const t=this.rasterFunction.getClippingGeometries()[0];let e=t?.clippingGeometry;if(e&&\"inside\"===t.clippingType){const{extent:t}=this.rasterInfo,r=await import(\"../../../geometry/operators/densifyOperator.js\"),s=await import(\"../../../geometry/operators/differenceOperator.js\");let a=r.execute(i.fromExtent(t),2*(t.width+t.height)/p);a=l(a,e.spatialReference),e=s.execute(a,e)}this._clippingGeometry.clear(),e&&this._clippingGeometry.set(\"0\",e)}};function u(t,e){const{storageInfo:r,pixelSize:s,spatialReference:i,extent:a}=t,{storageInfo:o,pixelSize:n,spatialReference:l,extent:c}=e;return s.x===n.x&&s.y===n.y&&i.equals(l)&&a.equals(c)&&r.blockHeight===o.blockHeight&&r.blockWidth===o.blockWidth&&r.maximumPyramidLevel===o.maximumPyramidLevel&&r.firstPyramidLevel===o.firstPyramidLevel&&r.pyramidBlockWidth===o.pyramidBlockWidth&&r.pyramidBlockHeight===o.pyramidBlockHeight&&r.pyramidScalingFactor===o.pyramidScalingFactor}function h(t){return String(t.wkid??t.wkt??t.wkt2)}t([r({type:String,json:{write:!0}})],m.prototype,\"datasetFormat\",void 0),t([r()],m.prototype,\"tileType\",void 0),t([r()],m.prototype,\"rasterFunction\",void 0),t([r()],m.prototype,\"primaryRasters\",void 0),m=t([s(\"esri.layers.support.rasterDatasets.FunctionRaster\")],m);export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../geometry/Point.js\";import n from\"./EphemeralBlockCache.js\";import{projectExtent as t,projectResolution as o,snapPyramid as l}from\"../rasterFunctions/rasterProjectionHelper.js\";const r=new Map,c=new n;function i(e,n,t){const o=[];return null!=n&&o.push(`sliceId=${n}`),null!=t&&o.push(`bandIds=${t.join(\",\")}`),o.length?`${e}?${o.join(\"&\")}`:e}function u(e,n){const t={extent:null,rasterInfo:n,cache:new Map},o=r.get(e);return o?(o.push(t),o.length-1):(r.set(e,[t]),0)}function a(e,n){const t=r.get(e);t&&(t[n]=null,t.some(e=>null!=e)||r.delete(e))}function f(e){r.delete(e)}function s(e,n,t){const o=r.get(e);if(!o)return null==n?c.decreaseRefCount(e,t):0;if(null==n||null==o[n])return c.decreaseRefCount(e,t);const l=o[n]?.cache,i=l?.get(t);if(l&&i){if(i.refCount--,0===i.refCount){l.delete(t);for(let e=0;e<o.length;e++)o[e]?.cache.delete(t);i.controller&&i.controller.abort()}return i.refCount}return 0}function m(e,n,t){const o=r.get(e);if(!o)return null==n?c.getBlock(e,t):null;if(null==n||null==o[n]){for(let e=0;e<o.length;e++){const n=o[e]?.cache.get(t);if(n)return n.refCount++,n.block}return c.getBlock(e,t)}const l=o[n]?.cache.get(t);if(l)return l.refCount++,l.block;for(let r=0;r<o.length;r++){if(r===n||!o[r])continue;const e=o[r]?.cache,l=e?.get(t);if(e&&l)return l.refCount++,e.set(t,l),l.block}return null}function h(e,n,t,o,l=null){const i=r.get(e);if(!i)return void(null==n&&c.putBlock(e,t,o,l));if(null==n||null==i[n])return void c.putBlock(e,t,o,l);const u={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:l};o.then(()=>u.isResolved=!0).catch(()=>u.isRejected=!0),i[n]?.cache.set(t,u)}function x(e,n,t){const o=r.get(e);o?null!=n&&null!=o[n]?o[n]?.cache.delete(t):c.deleteBlock(e,t):null==n&&c.deleteBlock(e,t)}function d(e,n){const t=r.get(e);return t?t[n]??null:null}function g(n,r,c,i,u,a,f=null){const s=d(n,r);if(!s)return;const m=s.extent,{cache:h,rasterInfo:x}=s;if(m&&m.xmin===c.xmin&&m.xmax===c.xmax&&m.ymin===c.ymin&&m.ymax===c.ymax)return;i=i??0;const g=c.clone().normalize(),{spatialReference:p,transform:y}=x,k=new Set;for(let d=0;d<g.length;d++){const n=g[d];if(n.xmax-n.xmin<=i||n.ymax-n.ymin<=i)continue;let r=t(n,p,f);if(null==r)continue;if(null!=y&&(r=y.inverseTransform(r),null==r))continue;const c=new e({x:i,y:i,spatialReference:n.spatialReference});if(null==u&&!(u=o(c,p,n,f)))return;const{pyramidLevel:s,pyramidResolution:m,excessiveReading:h}=l(u,x,a||\"closest\");if(h)return;const{storageInfo:M}=x,{origin:R}=M,{x:C,y:B}=m,b=Math.max(0,Math.floor((r.xmin-R.x)/C)),j=Math.max(0,Math.floor((R.y-r.ymax)/B)),v=Math.ceil(r.width/C-.1),w=Math.ceil(r.height/B-.1),$=s>0?M.pyramidBlockWidth:M.blockWidth,I=s>0?M.pyramidBlockHeight:M.blockHeight,H=M.blockBoundary[s];if(!H)continue;const E=1,P=Math.max(H.minCol,Math.floor(b/$)-E),W=Math.max(H.minRow,Math.floor(j/I)-E),z=Math.min(H.maxCol,Math.floor((b+v-1)/$)+E),F=Math.min(H.maxRow,Math.floor((j+w-1)/I)+E);for(let e=W;e<=F;e++)for(let n=P;n<=z;n++)k.add(`${s}/${e}/${n}`)}h.forEach((e,n)=>{if(!k.has(n)){const e=h.get(n);(null==e||e.isResolved||e.isRejected)&&h.delete(n)}}),s.extent={xmin:c.xmin,ymin:c.ymin,xmax:c.xmax,ymax:c.ymax}}export{s as decreaseRefCount,x as deleteBlock,f as deleteRaster,m as getBlock,i as getRasterId,h as putBlock,u as register,a as unregister,g as update};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r){const i=this._cachedBlocks,c=t+\"/\"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this._trim(),this._updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+\"/\"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this._trim()}empty(){this._cachedBlocks.clear(),this._clearTimer()}getCurrentSize(){return this._cachedBlocks.size}_updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval(()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this._clearTimer()},this._interval)}_trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}_clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction n(e,t){if(!e||!t)return[];let l=t;t.includes(\"/\")?(l=t.slice(0,t.indexOf(\"/\")),t=t.slice(t.indexOf(\"/\")+1)):t=\"\";const r=[];if(t){const u=n(e,l);for(let e=0;e<u.length;e++){n(u[e],t).forEach(n=>r.push(n))}return r}const u=e.getElementsByTagNameNS(\"*\",l);if(!u||0===u.length)return[];for(let n=0;n<u.length;n++)r.push(u[n]||u.item(n));return r}function e(t,l){if(!t||!l)return null;let r=l;l.includes(\"/\")?(r=l.slice(0,l.indexOf(\"/\")),l=l.slice(l.indexOf(\"/\")+1)):l=\"\";const u=n(t,r);return u.length>0?l?e(u[0],l):u[0]:null}function t(n,t=null){const l=t?e(n,t):n;let r;return l?(r=l.textContent||l.nodeValue,r?r.trim():null):null}function l(e,t){const l=n(e,t),r=[];let u;for(let n=0;n<l.length;n++)u=l[n].textContent||l[n].nodeValue,u&&(u=u.trim(),\"\"!==u&&r.push(u));return r}function r(n,e=null){const l=t(n,e);return l?.split(\" \").map(n=>Number(n))??[]}function u(n,e){return l(n,e).map(n=>Number(n))}function o(n,e){const l=t(n,e);return Number(l)}function i(n,e){const t=n?.nodeName?.toLowerCase(),l=e.toLowerCase();return t.slice(t.lastIndexOf(\":\")+1)===l}function c(n){return n.nodeName.slice(n.nodeName.lastIndexOf(\":\")+1)}export{e as getElement,o as getElementNumericValue,u as getElementNumericValues,t as getElementValue,l as getElementValues,n as getElements,c as getNodeNameIgnoreNS,r as getSpaceDelimitedNumericValues,i as isSameTagIgnoreNS};\n"],"names":["u","constructor","e","s","this","item","controller","promise","_","_schedule","_deferreds","n","_controllers","_processingItems","_pausedSignal","l","concurrency","_queue","o","peeker","process","destroy","clear","updating","running","length","size","value","abort","get","forEach","push","_cancelNext","t","isOngoing","has","pause","h","AbortController","c","remove","_removeItem","_scheduleNext","signal","a","reject","i","r","set","then","last","lastPromise","peek","popLast","reset","Array","from","values","resume","takeAll","pop","delete","_next","_process","_processResult","_canProcessFulfillment","resolve","_processError","X","Y","Z","super","_isConstructedFromFunctionRaster","bandIds","copyright","interpolation","multidimensionalSubset","raster","serviceRasterInfo","sourceJSON","spatialReference","symbolizer","I","_shutdownJobHandler","fullExtent","extent","multidimensionalDefinition","_set","updateRenderer","rasterFunction","functionName","toLowerCase","updateRasterFunction","url","d","getLogger","renderer","type","internalRenderer","activePresetRendererName","presetRenderers","find","name","clone","_configDefaultRenderer","readRenderer","layerDefinition","drawingInfo","V","computeStatisticsHistograms","load","$","geometry","equals","T","O","z","pixelSize","x","y","m","width","p","height","D","fetchPixels","pixelBlock","J","f","_rasterJobHandler","H","normalizeRasterFetchOptions","multidimensionalInfo","S","rasterInfo","timeExtent","loaded","_cachedRasterFunctionJson","JSON","stringify","toJSON","_rasterFunctionUpdatePromise","_updateRasterFunction","v","P","_updateSymbolizer","applyRenderer","pixels","_symbolize","pixelData","simpleStretchParams","getTileUrl","datasetFormat","getCompatibleTileInfo","tileInfo","R","create","origin","xmin","ymax","getCompatibleFullExtent","_compatibleFullExtent","computeExtent","fetchTile","ee","requestAsImageElement","responseType","query","refreshParameters","ioConfig","customFetchParameters","data","storageInfo","getTileExtentFromTileInfo","_initJobHandler","buffer","cols","rows","Math","round","getSamples","W","mosaicRule","_getSampleLocations","map","identify","location","Promise","all","flatMap","_convertRasterIdentifyResultToSample","K","samples","hasMultidimensionalTranspose","w","transposedVariableName","areaOfInterest","contains","isBsqTile","hasStandardTime","dataType","variableName","variables","some","dimensionName","dimensions","getStandardTimeValue","Date","F","toISOString","getMultidimensionalSubsetVariables","_configDefaultSettings","_configDefaultInterpolation","j","async","rasterJobHandler","syncJobHandler","catch","points","sampleCount","sampleDistance","execute","unit","min","paths","sqrt","E","tileType","defaultResamplingMethod","C","rasterFunctionName","bandCount","M","U","q","rasterFunctionColorRamp","statistics","max","dynamicRangeAdjustment","customStatistics","stretchType","L","rendererJSON","B","bind","success","colormap","warn","error","b","fromJSON","primaryRasters","rasters","N","functionDefinition","open","_cachedRendererJson","pyramidScalingFactor","pyramidLevel","dataSeries","G","pixelValue","locationId","resolution","Variables","Dimensions","join","isArray","rasterId","attributes","clonable","prototype","json","write","overridePolicy","enabled","origins","service","read","source","g","readOnly","types","A","useGamma","k","Q","arguments","_tileFetchQueue","_fetchRawTile","row","col","options","datasetName","hasUniqueSourceStorageInfo","sampling","normalizeCtorArgs","_isGlobalWrappableSource","_hasNoneOrGCSShiftTransform","transform","_openPromise","_open","noClip","normalize","_getRequestOptionsWithSliceId","datumTransformation","intersects","inverseTransform","nativeExtent","xmax","ymin","sliceId","floor","mask","processedValue","srcResolution","computeBestPyramidLevelForLocation","identifyPixelLocation","rowOffset","colOffset","blockWidth","_processIdentifyResult","srcLocation","position","useTransposedTile","requestSomeSlices","identifyOptions","requestRawData","_fetchPixels","disableWrapAround","mosaicAndTransform","srcPixelBlocks","srcMosaicSize","destDimension","coefs","sampleSpacing","alignmentInfo","blockWidths","srcExtent","fetchRawPixels","_fetchRawTiles","nativePixelSize","pixelBlocks","mosaicSize","pyramidBlockWidth","pyramidBlockHeight","blockHeight","clipOffset","clipSize","fetchRawTile","decodePixelBlock","useCanvas","decode","request","range","headers","retryCount","Range","to","getSliceIndex","lodAt","getTileExtent","updateTileInfo","pyramidResolutions","maximumPyramidLevel","unshift","level","scale","lods","isVirtualTileInfo","createRemoteDatasetStorageInfo","log","LN2","computeBlockBoundary","firstPyramidLevel","blockBoundary","minCol","maxCol","minRow","maxRow","getPyramidPixelSize","transposeInfo","tileSize","getBlockWidthHeight","isBlockOutside","updateImageSpaceRasterInfo","WebMercator","isPseudoSpatialReference","_getSourceDataInfo","srcWidth","srcHeight","ul","wrapCount","isGeographic","abs","srcTilePixelSize","requestProjectedLocalDirections","startsWith","getProjectionOffsetGrid","projectedExtent","srcBufferExtent","rasterTransform","hasWrapAround","isAdaptive","optimizeProjectionAccuracy","includeGCSGrid","spacing","_getRasterTileAlignmentInfo","isPartiallyFilled","coefficients","projectDirections","gcsGrid","isUV","localNorthDirections","transformGrid","worldColumnCountFromOrigin","originColumnOffset","rightPadding","allowPartialFill","transposeVariableName","registryId","_computeMagDirValues","_rasterTileAlignmentInfo","pyramidsInfo","startX","halfWorldWidth","hasGCSSShiftTransform","pyramidResolution","_updateSourceDataInfo","_requireTooManySrcTiles","ceil","excessiveReading","magdirValue","slice","noDataValues","noDataValue","pixelType","isSlice","String","_clippingGeometry","Map","rasterIds","flatWebGLFunctionChain","hasFocalFunction","skipRasterFunction","every","primaryPixelBlocks","primaryPixelSizes","primaryRasterIds","getClippingGeometry","wkid","wkt","wkt2","isRoot","sourceRasters","getPrimaryRasters","rasterInfos","rawSourceRasterInfos","functionArguments","attributeTable","attributeTableAsRecordSet","_updateClipGeometry","getClippingGeometries","clippingGeometry","clippingType","fromExtent","_timer","_cachedBlocks","_size","_duration","_interval","decreaseRefCount","refCount","getBlock","ts","now","block","putBlock","_trim","_updateTimer","deleteBlock","updateMaxSize","empty","_clearTimer","getCurrentSize","setInterval","clearInterval","cache","isResolved","isRejected","Set","add","includes","indexOf","getElementsByTagNameNS","textContent","nodeValue","trim","split","Number","nodeName","lastIndexOf"],"sourceRoot":""}