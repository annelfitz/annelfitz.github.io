(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[158],{808:function(t,e,a){"use strict";a.r(e),a.d(e,"previewCIMSymbol",(function(){return c}));var n=a(20),l=a(253);const i=new(a(370).a)(null,!0);async function c(t,e={}){const{size:a,maxSize:c,node:o,opacity:s}=e,p=e.cimOptions||e,{feature:u,fieldMap:m,geometryType:d,style:h}=p,r=Object(l.b)(t),y=Math.min(null!=a?a:r,null!=c?c:Object(n.e)(120));y!==r&&(t=t.clone(),Object(l.d)(t,y,{preserveOutlineWidth:!0}));let b=3;t&&t.data&&t.data.symbol&&"CIMPointSymbol"!==t.data.symbol.type&&(b=1);const g=await i.rasterizeCIMSymbolAsync(t,u,m,d,{scaleFactor:b,style:h}),w=document.createElement("canvas");w.width=g.imageData.width,w.height=g.imageData.height,w.getContext("2d").putImageData(g.imageData,0,0);let M=w.width/b,f=w.height/b;if(null!=a&&(null==(null==e?void 0:e.scale)||(null==e?void 0:e.scale))){const t=M/f;M=t<=1?Math.ceil(y*t):y,f=t<=1?y:Math.ceil(y/t)}const v=new Image(M,f);return v.src=w.toDataURL(),null!=s&&(v.style.opacity=""+s),o&&o.appendChild(v),v}}}]);
//# sourceMappingURL=158.1d197e29.chunk.js.map